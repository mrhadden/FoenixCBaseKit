  Thu Dec  3 2020 22:25                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",0
     7                        ;#include "fxwindowmanager.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
     9                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    10                        	.stag	_fx_bytebits,8,1
    11                        	.member	b7,0,14,17,1
    12                        	.member	b6,1,14,17,1
    13                        	.member	b5,2,14,17,1
    14                        	.member	b4,3,14,17,1
    15                        	.member	b3,4,14,17,1
    16                        	.member	b2,5,14,17,1
    17                        	.member	b1,6,14,17,1
    18                        	.member	b0,7,14,17,1
    19                        	.eos
    20                        	.stag	_fx_node,384,2
    21                        	.member	type,0,14,8,8
    22                        	.member	Reserved0,8,14,8,8
    23                        	.member	data,16,129,8,32
    24                        	.member	last,48,138,8,32,2
    25                        	.member	next,80,138,8,32,2
    26                        	.member	name,112,110,8,0,32
    27                        	.member	Reserved1,368,16,8,16
    28                        	.eos
    29                        	.stag	_fx_nodelist,96,3
    30                        	.member	listhead,0,138,8,32,2
    31                        	.member	listData,32,129,8,32
    32                        	.member	deallocator,64,641,8,32
    33                        	.eos
    34                        	.stag	_fx_queue,80,4
    35                        	.member	count,0,5,8,16
    36                        	.member	front,16,138,8,32,2
    37                        	.member	rear,48,138,8,32,2
    38                        	.eos
    39                        	.stag	fake5_,32,5
    40                        	.member	subsystem,0,14,8,8
    41                        	.member	level,8,14,8,8
    42                        	.member	error,16,16,8,16
    43                        	.eos
    44                        	.stag	_fx_process_signal,16,6
    45                        	.member	cbSize,0,16,8,16
    46                        	.eos
    47                        	.stag	_fx_semaphore,16,7
    48                        	.member	reserved,0,5,8,16
    49                        	.eos
  Thu Dec  3 2020 22:25                                                Page 2


    50                        	.stag	_fx_fileBlock,552,8
    51                        	.member	openCount,0,16,8,16
    52                        	.member	lockCount,16,16,8,16
    53                        	.member	dirty,32,14,8,8
    54                        	.member	fileBuffer,40,110,8,0,64
    55                        	.eos
    56                        	.stag	_fx_irq_data,48,9
    57                        	.member	line,0,5,8,16
    58                        	.member	keycode,16,142,8,32
    59                        	.eos
    60                        	.stag	_task,48,10
    61                        	.member	SPL,0,14,8,8
    62                        	.member	SPH,8,14,8,8
    63                        	.member	pstack,16,142,8,32
    64                        	.eos
    65                        	.stag	_task_stack,32,11
    66                        	.member	SS,0,142,8,32
    67                        	.eos
    68                        	.stag	int_regs,104,12
    69                        	.member	PB,0,14,8,8
    70                        	.member	PH,8,14,8,8
    71                        	.member	PL,16,14,8,8
    72                        	.member	PP,24,14,8,8
    73                        	.member	DB,32,14,8,8
    74                        	.member	DH,40,14,8,8
    75                        	.member	DL,48,14,8,8
    76                        	.member	AH,56,14,8,8
    77                        	.member	AL,64,14,8,8
    78                        	.member	XH,72,14,8,8
    79                        	.member	XL,80,14,8,8
    80                        	.member	YH,88,14,8,8
    81                        	.member	YL,96,14,8,8
    82                        	.eos
    83                        	.stag	_fx_eventMessage,304,13
    84                        	.member	src,0,18,8,32
    85                        	.member	dest,32,18,8,32
    86                        	.member	type,64,16,8,16
    87                        	.member	hwnd,80,129,8,32
    88                        	.member	pheap,112,129,8,32
    89                        	.member	msgTime,144,18,8,32
    90                        	.member	data,176,110,8,0,16
    91                        	.eos
    92                        	.stag	_fx_cmdMessage,304,14
    93                        	.member	src,0,18,8,32
    94                        	.member	dest,32,18,8,32
    95                        	.member	type,64,16,8,16
    96                        	.member	hwnd,80,129,8,32
    97                        	.member	pheap,112,129,8,32
    98                        	.member	msgTime,144,18,8,32
    99                        	.member	cmdCId,176,16,8,16
   100                        	.member	cmdMId,192,16,8,16
   101                        	.member	parameter1,208,18,8,32
   102                        	.member	parameter2,240,18,8,32
   103                        	.member	parameter3,272,18,8,32
   104                        	.eos
   105                        	.stag	_fx_console_ctl,448,15
   106                        	.member	maxCols,0,5,8,16
   107                        	.member	maxRows,16,5,8,16
  Thu Dec  3 2020 22:25                                                Page 3


   108                        	.member	curX,32,5,8,16
   109                        	.member	curY,48,5,8,16
   110                        	.member	fgColor,64,5,8,16
   111                        	.member	bgColor,80,5,8,16
   112                        	.member	mode,96,14,8,8
   113                        	.member	kbBuffer,104,101,8,0,16
   114                        	.member	screenBuffer,360,142,8,32
   115                        	.member	desktopMode,392,14,8,8
   116                        	.member	lastMouseButton,400,5,8,16
   117                        	.member	lastMouseX,416,5,8,16
   118                        	.member	lastMouseY,432,5,8,16
   119                        	.eos
   120                        	.stag	_fx_desktop_ctl,392,16
   121                        	.member	desktopMode,0,14,8,8
   122                        	.member	cursorCtl,8,5,8,16
   123                        	.member	cursorState,24,5,8,16
   124                        	.member	backgroundColor,40,5,8,16
   125                        	.member	foregroundColor,56,5,8,16
   126                        	.member	menuMode,72,5,8,16
   127                        	.member	lastMouseButton,88,5,8,16
   128                        	.member	lastMouseX,104,5,8,16
   129                        	.member	lastMouseY,120,5,8,16
   130                        	.member	currentDiskName,136,142,8,32
   131                        	.member	diskNodes,168,129,8,32
   132                        	.member	titleNodes,200,129,8,32
   133                        	.member	menuNodes,232,129,8,32
   134                        	.member	iconNodes,264,129,8,32
   135                        	.member	windowNodes,296,129,8,32
   136                        	.member	fontNodes,328,129,8,32
   137                        	.member	wndProc,360,138,8,32,3
   138                        	.eos
   139                        	.stag	_fx_process,800,17
   140                        	.member	cbSize,0,5,8,16
   141                        	.member	procId,16,18,8,32
   142                        	.member	parentId,48,18,8,32
   143                        	.member	ctx,80,129,8,32
   144                        	.member	userId,112,16,8,16
   145                        	.member	status,128,16,8,16
   146                        	.member	foregroundActive,144,14,8,8
   147                        	.member	tls,152,1121,8,32,8
   148                        	.member	commandLine,408,142,8,32
   149                        	.member	semaphores,440,138,8,32,3
   150                        	.member	fileHandles,472,138,8,32,3
   151                        	.member	pathList,504,138,8,32,3
   152                        	.member	resources,536,138,8,32,3
   153                        	.member	timerAware,568,14,8,8
   154                        	.member	timerTicks,576,112,8,0,2
   155                        	.member	timerTickCount,608,112,8,0,2
   156                        	.member	kernelError,640,10,8,32,5
   157                        	.member	consoleCtl,672,138,8,32,15
   158                        	.member	desktopCtl,704,138,8,32,16
   159                        	.member	execProc,736,641,8,32
   160                        	.member	startupArgs,768,129,8,32
   161                        	.eos
   162                        	.stag	_fxProcessMessage,112,18
   163                        	.member	src,0,18,8,32
   164                        	.member	dest,32,18,8,32
   165                        	.member	type,64,16,8,16
  Thu Dec  3 2020 22:25                                                Page 4


   166                        	.member	processInfo,80,138,8,32,17
   167                        	.eos
   168                        	.stag	_fx_property,384,19
   169                        	.member	name,0,110,8,0,16
   170                        	.member	value,128,110,8,0,32
   171                        	.eos
   172                        	.utag	_24bitPointer,32,20
   173                        	.member	address,0,142,11,32
   174                        	.member	bytes,0,110,11,0,4
   175                        	.eos
   176                        	.stag	_PointStruct,32,21
   177                        	.member	x,0,5,8,16
   178                        	.member	y,16,5,8,16
   179                        	.eos
   180                        	.stag	_RectStruct,64,22
   181                        	.member	x,0,5,8,16
   182                        	.member	y,16,5,8,16
   183                        	.member	width,32,5,8,16
   184                        	.member	height,48,5,8,16
   185                        	.eos
   186                        	.stag	_k_WindowClass,256,23
   187                        	.member	cbSize,0,16,8,16
   188                        	.member	style,16,16,8,16
   189                        	.member	pWndProc,32,654,8,32
   190                        	.member	hInstance,64,129,8,32
   191                        	.member	hIcon,96,129,8,32
   192                        	.member	hCursor,128,129,8,32
   193                        	.member	hbrBackground,160,129,8,32
   194                        	.member	lpszMenuName,192,142,8,32
   195                        	.member	lpszClassName,224,142,8,32
   196                        	.eos
   197                        	.stag	_ClickableRect,88,24
   198                        	.member	area,0,10,8,64,22
   199                        	.member	z,64,5,8,16
   200                        	.member	enabled,80,14,8,8
   201                        	.eos
   202                        	.stag	_NCClickableRect,88,25
   203                        	.member	area,0,10,8,64,22
   204                        	.member	msgType,64,16,8,16
   205                        	.member	enabled,80,14,8,8
   206                        	.eos
   207                        	.stag	_DragData,136,26
   208                        	.member	area,0,10,8,64,22
   209                        	.member	xoffset,64,5,8,16
   210                        	.member	yoffset,80,5,8,16
   211                        	.member	msgType,96,16,8,16
   212                        	.member	isDrag,112,14,8,8
   213                        	.member	canDrag,120,14,8,8
   214                        	.member	canDrop,128,14,8,8
   215                        	.eos
   216                        	.stag	_k_WindowStruct,2808,27
   217                        	.member	cbSize,0,16,8,16
   218                        	.member	style,16,18,8,32
   219                        	.member	win_id,48,5,8,16
   220                        	.member	win_x,64,5,8,16
   221                        	.member	win_y,80,5,8,16
   222                        	.member	win_width,96,5,8,16
   223                        	.member	win_height,112,5,8,16
  Thu Dec  3 2020 22:25                                                Page 5


   224                        	.member	wndRect,128,10,8,64,22
   225                        	.member	clientRect,192,10,8,64,22
   226                        	.member	nonclientGadgets,256,106,8,0,25,16
   227                        	.member	clickable,1664,129,8,32
   228                        	.member	win_title,1696,110,8,0,32
   229                        	.member	Reserved0,1952,16,8,16
   230                        	.member	win_class,1968,110,8,0,16
   231                        	.member	win_class_name,2096,110,8,0,32
   232                        	.member	nBitmapLayer,2352,16,8,16
   233                        	.member	procid,2368,18,8,32
   234                        	.member	pWndClass,2400,138,8,32,23
   235                        	.member	pParentWindow,2432,129,8,32
   236                        	.member	hMenu,2464,129,8,32
   237                        	.member	pChildWindows,2496,138,8,32,3
   238                        	.member	pChildHitList,2528,138,8,32,3
   239                        	.member	isVisible,2560,14,8,8
   240                        	.member	windowData,2568,129,8,32
   241                        	.member	clientData,2600,1121,8,32,6
   242                        	.member	isClosed,2792,14,8,8
   243                        	.member	isClosing,2800,14,8,8
   244                        	.eos
   245                        	.stag	_k_WindowStructEx,2704,28
   246                        	.member	cbSize,0,16,8,16
   247                        	.member	style,16,18,8,32
   248                        	.member	win_id,48,5,8,16
   249                        	.member	win_x,64,5,8,16
   250                        	.member	win_y,80,5,8,16
   251                        	.member	win_width,96,5,8,16
   252                        	.member	win_height,112,5,8,16
   253                        	.member	wndRect,128,10,8,64,22
   254                        	.member	clientRect,192,10,8,64,22
   255                        	.member	nonclientGadgets,256,106,8,0,25,16
   256                        	.member	clickable,1664,129,8,32
   257                        	.member	win_title,1696,110,8,0,32
   258                        	.member	Reserved0,1952,16,8,16
   259                        	.member	win_class,1968,110,8,0,16
   260                        	.member	nBitmapLayer,2096,16,8,16
   261                        	.member	procid,2112,18,8,32
   262                        	.member	pWndClass,2144,138,8,32,23
   263                        	.member	pParentWindow,2176,129,8,32
   264                        	.member	hMenu,2208,129,8,32
   265                        	.member	pChildWindows,2240,138,8,32,3
   266                        	.member	pChildHitList,2272,138,8,32,3
   267                        	.member	isVisible,2304,14,8,8
   268                        	.member	windowData,2312,129,8,32
   269                        	.member	clientData,2344,1121,8,32,4
   270                        	.member	isClosed,2472,14,8,8
   271                        	.member	hWnd,2480,129,8,32
   272                        	.member	localRect,2512,10,8,64,22
   273                        	.member	globalRect,2576,10,8,64,22
   274                        	.member	clientOffsetRect,2640,10,8,64,22
   275                        	.eos
   276                        	.stag	_FontMetric,32,29
   277                        	.member	width,0,5,8,16
   278                        	.member	height,16,5,8,16
   279                        	.eos
   280                        	.stag	_ctl_Textbox,112,30
   281                        	.member	win_id,0,5,8,16
  Thu Dec  3 2020 22:25                                                Page 6


   282                        	.member	win_x,16,5,8,16
   283                        	.member	win_y,32,5,8,16
   284                        	.member	win_width,48,5,8,16
   285                        	.member	win_height,64,5,8,16
   286                        	.member	content,80,1166,8,32
   287                        	.eos
   288                        	.stag	_MenuStruct,248,31
   289                        	.member	cx,0,5,8,16
   290                        	.member	cy,16,5,8,16
   291                        	.member	width,32,5,8,16
   292                        	.member	height,48,5,8,16
   293                        	.member	fcolor,64,14,8,8
   294                        	.member	bcolor,72,14,8,8
   295                        	.member	chromeLeft,80,14,8,8
   296                        	.member	chromeRight1,88,14,8,8
   297                        	.member	chromeRight2,96,14,8,8
   298                        	.member	itemId,104,16,8,16
   299                        	.member	pCaption,120,142,8,32
   300                        	.member	subMenus,152,138,8,32,3
   301                        	.member	pBackground,184,129,8,32
   302                        	.member	hWndOwner,216,129,8,32
   303                        	.eos
   304                        	.stag	fake32_,112,32
   305                        	.member	menuId,0,16,8,16
   306                        	.member	caption,16,142,8,32
   307                        	.member	rect,48,10,8,64,22
   308                        	.eos
   309                        	.stag	fake33_,3568,33
   310                        	.member	pParent,0,138,8,32,27
   311                        	.member	rect,32,10,8,64,22
   312                        	.member	captions,96,1134,8,32,24
   313                        	.member	chrome,864,110,8,0,24
   314                        	.member	ids,1056,112,8,0,24
   315                        	.member	clickable,1440,106,8,0,24,24
   316                        	.member	selected,3552,16,8,16
   317                        	.eos
   318                        	.stag	_fx_button_t,80,34
   319                        	.member	pCaption,0,142,8,32
   320                        	.member	data,32,129,8,32
   321                        	.member	captionPixelWidth,64,16,8,16
   322                        	.eos
   323                        	.stag	_fx_scrollbar_t,192,35
   324                        	.member	min,0,16,8,16
   325                        	.member	max,16,16,8,16
   326                        	.member	increment,32,16,8,16
   327                        	.member	stopsize,48,16,8,16
   328                        	.member	location,64,5,8,16
   329                        	.member	state,80,5,8,16
   330                        	.member	rectThumb,96,10,8,64,22
   331                        	.member	data,160,129,8,32
   332                        	.eos
   333                        	.stag	_fx_listbox_t,240,36
   334                        	.member	pos,0,5,8,16
   335                        	.member	selected,16,16,8,16
   336                        	.member	offsetX,32,5,8,16
   337                        	.member	offsetY,48,5,8,16
   338                        	.member	inc,64,5,8,16
   339                        	.member	direction,80,5,8,16
  Thu Dec  3 2020 22:25                                                Page 7


   340                        	.member	top,96,5,8,16
   341                        	.member	bottom,112,5,8,16
   342                        	.member	indexTop,128,5,8,16
   343                        	.member	indexBottom,144,5,8,16
   344                        	.member	maxItems,160,16,8,16
   345                        	.member	fontSet,176,142,8,32
   346                        	.member	data,208,129,8,32
   347                        	.eos
   348                        	.stag	_fx_textbox_t,144,37
   349                        	.member	pos,0,5,8,16
   350                        	.member	selected,16,16,8,16
   351                        	.member	offsetX,32,5,8,16
   352                        	.member	offsetY,48,5,8,16
   353                        	.member	isShifted,64,14,8,8
   354                        	.member	cursorState,72,14,8,8
   355                        	.member	fontSet,80,142,8,32
   356                        	.member	data,112,129,8,32
   357                        	.eos
   358                        	.stag	_fx_menuAnchor_t,144,38
   359                        	.member	pCaption,0,142,8,32
   360                        	.member	renderLayoutX,32,16,8,16
   361                        	.member	renderLayoutY,48,16,8,16
   362                        	.member	captionPixelWidth,64,16,8,16
   363                        	.member	data,80,129,8,32
   364                        	.member	droppedWindow,112,138,8,32,27
   365                        	.eos
   366                        	.stag	_SubMenuStruct,64,39
   367                        	.member	caption,0,142,8,32
   368                        	.member	action,32,641,8,32
   369                        	.eos
   370                        	.stag	_SubMenuListStruct,40,40
   371                        	.member	cMenus,0,14,8,8
   372                        	.member	psubmenus,8,9354,8,32,39
   373                        	.eos
   374                        	.stag	_fx_ComBuffer,2080,41
   375                        	.member	cbSize,0,16,8,16
   376                        	.member	cbBuffer,16,16,8,16
   377                        	.member	buffer,32,110,8,0,256
   378                        	.eos
   379                        	.line	708
   380                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   381                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   382                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   383                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
   384                        	.line	88
   385                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
   386                        	.stag	fake42_,32,42
   387                        	.member	quot,0,5,8,16
   388                        	.member	rem,16,5,8,16
   389                        	.eos
   390                        	.stag	fake43_,64,43
   391                        	.member	quot,0,7,8,32
   392                        	.member	rem,32,7,8,32
  Thu Dec  3 2020 22:25                                                Page 8


   393                        	.eos
   394                        	.stag	int_sqrt,32,44
   395                        	.member	sqrt,0,16,8,16
   396                        	.member	frac,16,16,8,16
   397                        	.eos
   398                        	.line	205
   399                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
   400                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   401                        	.line	134
   402                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
   403                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
   404                        	.line	103
   405                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
   406                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   407                        	.line	708
   408                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   410                        	.line	89
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   412                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   413                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   414                        	.line	708
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   416                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   417                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   418                        	.line	708
   419                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   420                        	.line	72
   421                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   422                        	.line	1325
   423                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   424                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   425                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   426                        	.line	25
   427                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   428                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   429                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Thu Dec  3 2020 22:25                                                Page 9


                    space\FXOSv1\src\fxtypes.h",0
   430                        	.line	708
   431                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   432                        	.line	61
   433                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   434                        	.stag	_fx_zero_page,448,45
   435                        	.member	fxos_mouse_byte_0,0,14,8,8
   436                        	.member	fxos_mouse_byte_1,8,14,8,8
   437                        	.member	fxos_mouse_byte_2,16,14,8,8
   438                        	.member	fxos_mouse_byte_t,24,14,8,8
   439                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   440                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   441                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   442                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   443                        	.member	fxos_key_byte_0,64,14,8,8
   444                        	.member	fxos_key_byte_1,72,14,8,8
   445                        	.member	fxos_key_byte_2,80,14,8,8
   446                        	.member	fxos_mouse_ctl,88,14,8,8
   447                        	.member	fxos_mouse_index,96,14,8,8
   448                        	.member	fxos_mouse_status,104,14,8,8
   449                        	.member	VersionMajor,112,16,8,16
   450                        	.member	VersionMinor,128,16,8,16
   451                        	.member	VersionRelease,144,16,8,16
   452                        	.member	topMemory,160,18,8,32
   453                        	.member	bottomMemory,192,18,8,32
   454                        	.member	availableMemory,224,18,8,32
   455                        	.member	availableMemoryK,256,18,8,32
   456                        	.member	availableHeapMemory,288,18,8,32
   457                        	.member	availableHeapMemoryK,320,18,8,32
   458                        	.member	kernelFunctionCallId,352,16,8,16
   459                        	.member	kernelFunctionCallBank,368,14,8,8
   460                        	.member	kernelFunctionCallReserved,376,14,8,8
   461                        	.member	kernelFunctionCallParameter,384,129,8,32
   462                        	.member	kernelFunctionCallReturn,416,129,8,32
   463                        	.eos
   464                        	.stag	_fx_environment,96,46
   465                        	.member	variables,0,142,8,32
   466                        	.member	reserved1,32,5,8,16
   467                        	.member	reserved2,48,5,8,16
   468                        	.member	reserved3,64,5,8,16
   469                        	.member	reserved4,80,5,8,16
   470                        	.eos
   471                        	.stag	_debug_byte_bits,8,47
   472                        	.member	bit7,0,14,17,1
   473                        	.member	bit6,1,14,17,1
   474                        	.member	bit5,2,14,17,1
   475                        	.member	bit4,3,14,17,1
   476                        	.member	bit3,4,14,17,1
   477                        	.member	bit2,5,14,17,1
   478                        	.member	bit1,6,14,17,1
   479                        	.member	bit0,7,14,17,1
   480                        	.eos
   481                        	.stag	_fx_device_driver,1416,48
   482                        	.member	name,0,110,8,0,64
   483                        	.member	version,512,110,8,0,64
   484                        	.member	hmajor,1024,110,8,0,16
  Thu Dec  3 2020 22:25                                                Page 10


   485                        	.member	hminor,1152,110,8,0,16
   486                        	.member	type,1280,14,8,8
   487                        	.member	f_driver_load,1288,129,8,32
   488                        	.member	f_driver_read,1320,129,8,32
   489                        	.member	f_driver_write,1352,129,8,32
   490                        	.member	f_driver_unload,1384,129,8,32
   491                        	.eos
   492                        	.stag	_fx_block_device_driver,1448,49
   493                        	.member	name,0,110,8,0,64
   494                        	.member	version,512,110,8,0,64
   495                        	.member	hmajor,1024,110,8,0,16
   496                        	.member	hminor,1152,110,8,0,16
   497                        	.member	type,1280,14,8,8
   498                        	.member	f_driver_load,1288,129,8,32
   499                        	.member	f_driver_read,1320,129,8,32
   500                        	.member	f_driver_write,1352,129,8,32
   501                        	.member	f_driver_unload,1384,129,8,32
   502                        	.member	f_driver_command,1416,129,8,32
   503                        	.eos
   504                        	.line	270
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   506                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   507                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   508                        	.line	134
   509                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   510                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   511                        	.line	205
   512                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   513                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   514                        	.line	708
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   516                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   517                        	.line	1325
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   519                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   520                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   521                        	.line	205
   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   523                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   524                        	.line	134
   525                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   526                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
  Thu Dec  3 2020 22:25                                                Page 11


   527                        	.line	708
   528                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   529                        	.stag	_fx_string,64,50
   530                        	.member	size,0,16,8,16
   531                        	.member	pos,16,5,8,16
   532                        	.member	buffer,32,142,8,32
   533                        	.eos
   534                        	.line	71
   535                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   537                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   538                        	.line	25
   539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   540                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   541                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   542                        	.line	708
   543                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   544                        	.line	52
   545                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   546                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   547                        	.line	61
   548                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   549                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   550                        	.line	171
   551                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   552                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   553                        	.line	362
   554                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   555                        	.stag	_fx_main_loopvars,16,51
   556                        	.member	dummy,0,5,8,16
   557                        	.eos
   558                        	.stag	_fxMouseMessageData,64,52
   559                        	.member	button1,0,14,8,8
   560                        	.member	button2,8,14,8,8
   561                        	.member	button3,16,14,8,8
   562                        	.member	button4,24,14,8,8
   563                        	.member	x,32,16,8,16
   564                        	.member	y,48,16,8,16
   565                        	.eos
   566                        	.stag	_fx_eventProcess,64,53
   567                        	.member	process,0,138,8,32,17
   568                        	.member	eventProc,32,641,8,32
   569                        	.eos
  Thu Dec  3 2020 22:25                                                Page 12


   570                        	.stag	_mouse_msg_state,184,54
   571                        	.member	lastEvent,0,18,8,32
   572                        	.member	buttonLeftDown,32,14,8,8
   573                        	.member	lastLeftDown,40,18,8,32
   574                        	.member	buttonRightDown,72,14,8,8
   575                        	.member	lastRightDown,80,18,8,32
   576                        	.member	buttonMiddleDown,112,14,8,8
   577                        	.member	lastMiddleDown,120,18,8,32
   578                        	.member	lastX,152,16,8,16
   579                        	.member	lastY,168,16,8,16
   580                        	.eos
   581                        	.line	743
   582                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   583                        	.stag	_fx_spinner_ctx,48,55
   584                        	.member	index,0,5,8,16
   585                        	.member	spinner,16,142,8,32
   586                        	.eos
   587                        	.stag	_fx_console_ctx,1144,56
   588                        	.member	lineBufferIndex,0,5,8,16
   589                        	.member	lineBuffer,16,110,8,0,128
   590                        	.member	isShifted,1040,14,8,8
   591                        	.member	userData,1048,129,8,32
   592                        	.member	screenBuffer,1080,129,8,32
   593                        	.member	Reserved1,1112,129,8,32
   594                        	.eos
   595                        	.stag	_token,64,57
   596                        	.member	type,0,5,8,16
   597                        	.member	depth,16,16,8,16
   598                        	.member	text,32,142,8,32
   599                        	.eos
   600                        	.stag	_command_args,64,58
   601                        	.member	proc,0,656,8,32
   602                        	.member	tokens,32,138,8,32,2
   603                        	.eos
   604                        	.line	171
   605                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   606                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   607                        	.line	71
   608                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   609                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   610                        	.line	61
   611                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   612                        	.line	25
   613                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   616                        	.line	25
   617                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
  Thu Dec  3 2020 22:25                                                Page 13


   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   619                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   620                        	.line	32
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   622                        	.stag	UMM_HEAP_INFO_t,256,59
   623                        	.member	totalEntries,0,18,8,32
   624                        	.member	usedEntries,32,18,8,32
   625                        	.member	freeEntries,64,18,8,32
   626                        	.member	totalBlocks,96,18,8,32
   627                        	.member	usedBlocks,128,18,8,32
   628                        	.member	freeBlocks,160,18,8,32
   629                        	.member	maxFreeContiguousBlocks,192,18,8,32
   630                        	.member	blockSize,224,18,8,32
   631                        	.eos
   632                        	.line	199
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   634                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   635                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   636                        	.line	708
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   638                        	.line	24
   639                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   640                        	.stag	_fx_memory_map,2072,60
   641                        	.member	availableMemory,0,18,8,32
   642                        	.member	valid_segments,32,110,8,0,255
   643                        	.eos
   644                        	.line	39
   645                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   646                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   647                        	.line	743
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   649                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   652                        	.line	708
   653                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   654                        	.line	64
   655                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   656                        	.stag	_click_detected,64,61
   657                        	.member	window,0,138,8,32,27
   658                        	.member	handler,32,641,8,32
   659                        	.eos
  Thu Dec  3 2020 22:25                                                Page 14


   660                        	.stag	_current_palette_map,400,62
   661                        	.member	CUR_DESKTOP,0,5,8,16
   662                        	.member	CUR_BACKGROUND,16,5,8,16
   663                        	.member	CUR_FONT,32,5,8,16
   664                        	.member	CUR_SELECTED_FONT,48,5,8,16
   665                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   666                        	.member	CUR_WINDOWFRAME,80,5,8,16
   667                        	.member	CUR_WINDOWBORDER,96,5,8,16
   668                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   669                        	.member	CUR_MENU,128,5,8,16
   670                        	.member	CUR_GADGET,144,5,8,16
   671                        	.member	CUR_COLOR,160,101,8,0,15
   672                        	.eos
   673                        	.line	264
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   675                        	.stag	_childMessage_t,64,63
   676                        	.member	msgType,0,16,8,16
   677                        	.member	msgData,16,129,8,32
   678                        	.member	dataSize,48,16,8,16
   679                        	.eos
   680                        	.line	362
   681                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",1
   682                        ;#include "fxfont.h"
   683                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   684                        	.line	64
   685                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",2
   686                        ;
   687                        ;
   688                        ;static PFXNODELIST _k_windowManager_WindowClassLi
                    st 	= NULL;
   689                        	data
   690                        ~~_k_windowManager_WindowClassList:
   691 00:0000: 00 00 00 00  	dl	$0
   692 00:0004:              	ends
   693                        ;static PFXNODELIST _k_windowManager_WindowObjectL
                    ist	= NULL;
   694                        	data
   695                        ~~_k_windowManager_WindowObjectList:
   696 00:0004: 00 00 00 00  	dl	$0
   697 00:0008:              	ends
   698                        ;static PFXNODELIST _k_windowManager_ObjectHitList
                    		= NULL;
   699                        	data
   700                        ~~_k_windowManager_ObjectHitList:
   701 00:0008: 00 00 00 00  	dl	$0
   702 00:000C:              	ends
   703                        ;static PFXNODELIST _k_windowManager_WindowMenuLis
                    t 		= NULL;
   704                        	data
   705                        ~~_k_windowManager_WindowMenuList:
   706 00:000C: 00 00 00 00  	dl	$0
   707 00:0010:              	ends
   708                        ;static PFXNODELIST _k_windowManager_IconList 	
                    		= NULL;
  Thu Dec  3 2020 22:25                                                Page 15


   709                        	data
   710                        ~~_k_windowManager_IconList:
   711 00:0010: 00 00 00 00  	dl	$0
   712 00:0014:              	ends
   713                        ;static PFXNODELIST _k_windowManager_FontList 	
                    		= NULL;
   714                        	data
   715                        ~~_k_windowManager_FontList:
   716 00:0014: 00 00 00 00  	dl	$0
   717 00:0018:              	ends
   718                        ;static PFXNODELIST _k_windowManager_CursorList 	
                    		= NULL;
   719                        	data
   720                        ~~_k_windowManager_CursorList:
   721 00:0018: 00 00 00 00  	dl	$0
   722 00:001C:              	ends
   723                        ;
   724                        ;#pragma section CODE=WINMAN,offset $4:0000
   725                        WINMAN	section	offset $4:0000
   726 04:0000:              	ends
   727                        ;
   728                        ;
   729                        ;VOID k_deallocate_window_class(LPCSTR name,LPVOID
                     data)
   730                        ;{
   731                        	.line	16
   732                        	.line	17
   733                        	WINMAN
   734                        	xdef	~~k_deallocate_window_class
   735                        	func
   736                        	.function	17
   737                        ~~k_deallocate_window_class:
   738                        	longa	on
   739                        	longi	on
   740 04:0000: 3B           	tsc
   741 04:0001: 38           	sec
   742 04:0002: E9 00 00     	sbc	#L2
   743 04:0005: 1B           	tcs
   744 04:0006: 0B           	phd
   745 04:0007: 5B           	tcd
   746             00000004   name_0	set	4
   747             00000008   data_0	set	8
   748                        	.block	17
   749                        ;}
   750                        	.sym	name,4,142,6,32
   751                        	.sym	data,8,129,6,32
   752                        	.line	18
   753                        L5:
   754 04:0008: A5 02        	lda	<L2+2
   755 04:000A: 85 0A        	sta	<L2+2+8
   756 04:000C: A5 01        	lda	<L2+1
   757 04:000E: 85 09        	sta	<L2+1+8
   758 04:0010: 2B           	pld
   759 04:0011: 3B           	tsc
   760 04:0012: 18           	clc
   761 04:0013: 69 08 00     	adc	#L2+8
   762 04:0016: 1B           	tcs
   763 04:0017: 6B           	rtl
  Thu Dec  3 2020 22:25                                                Page 16


   764                        	.endblock	18
   765             00000000   L2	equ	0
   766             00000001   L3	equ	1
   767 04:0018:              	ends
   768                        	efunc
   769                        	.endfunc	18,1,0
   770                        	.line	18
   771                        ;
   772                        ;VOID k_deallocate_window_object(LPCSTR name,LPVOI
                    D data)
   773                        ;{
   774                        	.line	20
   775                        	.line	21
   776                        	WINMAN
   777                        	xdef	~~k_deallocate_window_object
   778                        	func
   779                        	.function	21
   780                        ~~k_deallocate_window_object:
   781                        	longa	on
   782                        	longi	on
   783 04:0018: 3B           	tsc
   784 04:0019: 38           	sec
   785 04:001A: E9 08 00     	sbc	#L6
   786 04:001D: 1B           	tcs
   787 04:001E: 0B           	phd
   788 04:001F: 5B           	tcd
   789             00000004   name_0	set	4
   790             00000008   data_0	set	8
   791                        	.block	21
   792                        ;	PWINDOW pWin = NULL;
   793                        ;	k_debug_strings("k_deallocate_window_object name
                    :",(LPSTR)name);
   794             00000000   pWin_1	set	0
   795                        	.sym	pWin,0,138,1,32,27
   796                        	.sym	name,4,142,6,32
   797                        	.sym	data,8,129,6,32
   798 04:0020: 64 05        	stz	<L7+pWin_1
   799 04:0022: 64 07        	stz	<L7+pWin_1+2
   800                        	.line	23
   801 04:0024: D4 0E        	pei	<L6+name_0+2
   802 04:0026: D4 0C        	pei	<L6+name_0
   803 04:0028: F4 xx xx     	pea	#^L1
   804 04:002B: F4 xx xx     	pea	#<L1
   805 04:002E: 22 xx xx xx  	jsl	~~k_debug_strings
   806                        ;	k_debug_pointer("                            ptr
                    :",data);
   807                        	.line	24
   808 04:0032: D4 12        	pei	<L6+data_0+2
   809 04:0034: D4 10        	pei	<L6+data_0
   810 04:0036: F4 xx xx     	pea	#^L1+33
   811 04:0039: F4 xx xx     	pea	#<L1+33
   812 04:003C: 22 xx xx xx  	jsl	~~k_debug_pointer
   813                        ;
   814                        ;	if(data)
   815                        	.line	26
   816                        ;	{
   817 04:0040: A5 10        	lda	<L6+data_0
   818 04:0042: 05 12        	ora	<L6+data_0+2
  Thu Dec  3 2020 22:25                                                Page 17


   819 04:0044: D0 03        	bne	L9
   820 04:0046: 82 8A 00     	brl	L10001
   821                        L9:
   822                        	.line	27
   823                        ;		pWin = (PWINDOW)data;
   824                        	.line	28
   825 04:0049: A5 10        	lda	<L6+data_0
   826 04:004B: 85 05        	sta	<L7+pWin_1
   827 04:004D: A5 12        	lda	<L6+data_0+2
   828 04:004F: 85 07        	sta	<L7+pWin_1+2
   829                        ;		k_debug_strings("                       
                     caption:",(LPSTR)pWin->win_title);
   830                        	.line	29
   831 04:0051: 18           	clc
   832 04:0052: A9 D4 00     	lda	#$d4
   833 04:0055: 65 05        	adc	<L7+pWin_1
   834 04:0057: 85 01        	sta	<R0
   835 04:0059: A9 00 00     	lda	#$0
   836 04:005C: 65 07        	adc	<L7+pWin_1+2
   837 04:005E: 85 03        	sta	<R0+2
   838 04:0060: D4 03        	pei	<R0+2
   839 04:0062: D4 01        	pei	<R0
   840 04:0064: F4 xx xx     	pea	#^L1+66
   841 04:0067: F4 xx xx     	pea	#<L1+66
   842 04:006A: 22 xx xx xx  	jsl	~~k_debug_strings
   843                        ;
   844                        ;
   845                        ;		if(pWin->pChildHitList)
   846                        	.line	32
   847                        ;		{
   848 04:006E: A0 3C 01     	ldy	#$13c
   849 04:0071: B7 05        	lda	[<L7+pWin_1],Y
   850 04:0073: A0 3E 01     	ldy	#$13e
   851 04:0076: 17 05        	ora	[<L7+pWin_1],Y
   852 04:0078: D0 03        	bne	L10
   853 04:007A: 82 10 00     	brl	L10002
   854                        L10:
   855                        	.line	33
   856                        ;			k_nodelist_deallocate_list(pWin-
                    >pChildHitList);
   857                        	.line	34
   858 04:007D: A0 3E 01     	ldy	#$13e
   859 04:0080: B7 05        	lda	[<L7+pWin_1],Y
   860 04:0082: 48           	pha
   861 04:0083: A0 3C 01     	ldy	#$13c
   862 04:0086: B7 05        	lda	[<L7+pWin_1],Y
   863 04:0088: 48           	pha
   864 04:0089: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
   865                        ;		}
   866                        	.line	35
   867                        ;		if(pWin->pChildWindows)
   868                        L10002:
   869                        	.line	36
   870                        ;		{
   871 04:008D: A0 38 01     	ldy	#$138
   872 04:0090: B7 05        	lda	[<L7+pWin_1],Y
   873 04:0092: A0 3A 01     	ldy	#$13a
   874 04:0095: 17 05        	ora	[<L7+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 18


   875 04:0097: D0 03        	bne	L11
   876 04:0099: 82 10 00     	brl	L10003
   877                        L11:
   878                        	.line	37
   879                        ;			k_nodelist_deallocate_list(pWin-
                    >pChildWindows);
   880                        	.line	38
   881 04:009C: A0 3A 01     	ldy	#$13a
   882 04:009F: B7 05        	lda	[<L7+pWin_1],Y
   883 04:00A1: 48           	pha
   884 04:00A2: A0 38 01     	ldy	#$138
   885 04:00A5: B7 05        	lda	[<L7+pWin_1],Y
   886 04:00A7: 48           	pha
   887 04:00A8: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
   888                        ;		}
   889                        	.line	39
   890                        ;		if(pWin->windowData)
   891                        L10003:
   892                        	.line	40
   893                        ;			k_mem_deallocate_heap(pWin->wind
                    owData);
   894 04:00AC: A0 41 01     	ldy	#$141
   895 04:00AF: B7 05        	lda	[<L7+pWin_1],Y
   896 04:00B1: A0 43 01     	ldy	#$143
   897 04:00B4: 17 05        	ora	[<L7+pWin_1],Y
   898 04:00B6: D0 03        	bne	L12
   899 04:00B8: 82 10 00     	brl	L10004
   900                        L12:
   901                        	.line	41
   902 04:00BB: A0 43 01     	ldy	#$143
   903 04:00BE: B7 05        	lda	[<L7+pWin_1],Y
   904 04:00C0: 48           	pha
   905 04:00C1: A0 41 01     	ldy	#$141
   906 04:00C4: B7 05        	lda	[<L7+pWin_1],Y
   907 04:00C6: 48           	pha
   908 04:00C7: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
   909                        ;
   910                        ;
   911                        ;		k_mem_deallocate_heap(pWin);
   912                        L10004:
   913                        	.line	44
   914 04:00CB: D4 07        	pei	<L7+pWin_1+2
   915 04:00CD: D4 05        	pei	<L7+pWin_1
   916 04:00CF: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
   917                        ;	}
   918                        	.line	45
   919                        ;
   920                        ;}
   921                        L10001:
   922                        	.line	47
   923                        L13:
   924 04:00D3: A5 0A        	lda	<L6+2
   925 04:00D5: 85 12        	sta	<L6+2+8
   926 04:00D7: A5 09        	lda	<L6+1
   927 04:00D9: 85 11        	sta	<L6+1+8
   928 04:00DB: 2B           	pld
   929 04:00DC: 3B           	tsc
   930 04:00DD: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 19


   931 04:00DE: 69 10 00     	adc	#L6+8
   932 04:00E1: 1B           	tcs
   933 04:00E2: 6B           	rtl
   934                        	.endblock	47
   935             00000008   L6	equ	8
   936             00000005   L7	equ	5
   937 04:00E3:              	ends
   938                        	efunc
   939                        	.endfunc	47,5,8
   940                        	.line	47
   941                        	data
   942                        L1:
   943 00:001C: 6B 5F 64 65  	db	$6B,$5F,$64,$65,$61,$6C,$6C,$6F,$63,$61,
                    $74,$65,$5F,$77,$69
       00:0020: 61 6C 6C 6F 
       00:0024: 63 61 74 65 
       00:0028: 5F 77 69 
   944 00:002B: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$6F,$62,$6A,$65,$63,
                    $74,$20,$6E,$61,$6D
       00:002F: 5F 6F 62 6A 
       00:0033: 65 63 74 20 
       00:0037: 6E 61 6D 
   945 00:003A: 65 3A 00 20  	db	$65,$3A,$00,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:003E: 20 20 20 20 
       00:0042: 20 20 20 20 
       00:0046: 20 20 20 
   946 00:0049: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:004D: 20 20 20 20 
       00:0051: 20 20 20 20 
       00:0055: 20 20 20 
   947 00:0058: 20 70 74 72  	db	$20,$70,$74,$72,$3A,$00,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:005C: 3A 00 20 20 
       00:0060: 20 20 20 20 
       00:0064: 20 20 20 
   948 00:0067: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:006B: 20 20 20 20 
       00:006F: 20 20 20 20 
       00:0073: 20 20 20 
   949 00:0076: 63 61 70 74  	db	$63,$61,$70,$74,$69,$6F,$6E,$3A,$00
       00:007A: 69 6F 6E 3A 
       00:007E: 00 
   950 00:007F:              	ends
   951                        ;
   952                        ;VOID k_deallocate_menu_object(LPCSTR name,LPVOID 
                    data)
   953                        ;{
   954                        	.line	49
   955                        	.line	50
   956                        	WINMAN
   957                        	xdef	~~k_deallocate_menu_object
   958                        	func
   959                        	.function	50
   960                        ~~k_deallocate_menu_object:
   961                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 20


   962                        	longi	on
   963 04:00E3: 3B           	tsc
   964 04:00E4: 38           	sec
   965 04:00E5: E9 00 00     	sbc	#L15
   966 04:00E8: 1B           	tcs
   967 04:00E9: 0B           	phd
   968 04:00EA: 5B           	tcd
   969             00000004   name_0	set	4
   970             00000008   data_0	set	8
   971                        	.block	50
   972                        ;}
   973                        	.sym	name,4,142,6,32
   974                        	.sym	data,8,129,6,32
   975                        	.line	51
   976                        L18:
   977 04:00EB: A5 02        	lda	<L15+2
   978 04:00ED: 85 0A        	sta	<L15+2+8
   979 04:00EF: A5 01        	lda	<L15+1
   980 04:00F1: 85 09        	sta	<L15+1+8
   981 04:00F3: 2B           	pld
   982 04:00F4: 3B           	tsc
   983 04:00F5: 18           	clc
   984 04:00F6: 69 08 00     	adc	#L15+8
   985 04:00F9: 1B           	tcs
   986 04:00FA: 6B           	rtl
   987                        	.endblock	51
   988             00000000   L15	equ	0
   989             00000001   L16	equ	1
   990 04:00FB:              	ends
   991                        	efunc
   992                        	.endfunc	51,1,0
   993                        	.line	51
   994                        ;
   995                        ;VOID k_deallocate_icon_object(LPCSTR name,LPVOID 
                    data)
   996                        ;{
   997                        	.line	53
   998                        	.line	54
   999                        	WINMAN
  1000                        	xdef	~~k_deallocate_icon_object
  1001                        	func
  1002                        	.function	54
  1003                        ~~k_deallocate_icon_object:
  1004                        	longa	on
  1005                        	longi	on
  1006 04:00FB: 3B           	tsc
  1007 04:00FC: 38           	sec
  1008 04:00FD: E9 00 00     	sbc	#L19
  1009 04:0100: 1B           	tcs
  1010 04:0101: 0B           	phd
  1011 04:0102: 5B           	tcd
  1012             00000004   name_0	set	4
  1013             00000008   data_0	set	8
  1014                        	.block	54
  1015                        ;}
  1016                        	.sym	name,4,142,6,32
  1017                        	.sym	data,8,129,6,32
  1018                        	.line	55
  Thu Dec  3 2020 22:25                                                Page 21


  1019                        L22:
  1020 04:0103: A5 02        	lda	<L19+2
  1021 04:0105: 85 0A        	sta	<L19+2+8
  1022 04:0107: A5 01        	lda	<L19+1
  1023 04:0109: 85 09        	sta	<L19+1+8
  1024 04:010B: 2B           	pld
  1025 04:010C: 3B           	tsc
  1026 04:010D: 18           	clc
  1027 04:010E: 69 08 00     	adc	#L19+8
  1028 04:0111: 1B           	tcs
  1029 04:0112: 6B           	rtl
  1030                        	.endblock	55
  1031             00000000   L19	equ	0
  1032             00000001   L20	equ	1
  1033 04:0113:              	ends
  1034                        	efunc
  1035                        	.endfunc	55,1,0
  1036                        	.line	55
  1037                        ;
  1038                        ;VOID k_deallocate_hit_class(LPCSTR name,LPVOID da
                    ta)
  1039                        ;{
  1040                        	.line	57
  1041                        	.line	58
  1042                        	WINMAN
  1043                        	xdef	~~k_deallocate_hit_class
  1044                        	func
  1045                        	.function	58
  1046                        ~~k_deallocate_hit_class:
  1047                        	longa	on
  1048                        	longi	on
  1049 04:0113: 3B           	tsc
  1050 04:0114: 38           	sec
  1051 04:0115: E9 04 00     	sbc	#L23
  1052 04:0118: 1B           	tcs
  1053 04:0119: 0B           	phd
  1054 04:011A: 5B           	tcd
  1055             00000004   name_0	set	4
  1056             00000008   data_0	set	8
  1057                        	.block	58
  1058                        ;	PCLICKDETECTED pcd = data;
  1059                        ;
  1060                        ;	if(pcd)
  1061             00000000   pcd_1	set	0
  1062                        	.sym	pcd,0,138,1,32,61
  1063                        	.sym	name,4,142,6,32
  1064                        	.sym	data,8,129,6,32
  1065 04:011B: A5 0C        	lda	<L23+data_0
  1066 04:011D: 85 01        	sta	<L24+pcd_1
  1067 04:011F: A5 0E        	lda	<L23+data_0+2
  1068 04:0121: 85 03        	sta	<L24+pcd_1+2
  1069                        	.line	61
  1070                        ;	{
  1071 04:0123: A5 01        	lda	<L24+pcd_1
  1072 04:0125: 05 03        	ora	<L24+pcd_1+2
  1073 04:0127: D0 03        	bne	L26
  1074 04:0129: 82 08 00     	brl	L10005
  1075                        L26:
  Thu Dec  3 2020 22:25                                                Page 22


  1076                        	.line	62
  1077                        ;		k_mem_deallocate_heap(pcd);
  1078                        	.line	63
  1079 04:012C: D4 03        	pei	<L24+pcd_1+2
  1080 04:012E: D4 01        	pei	<L24+pcd_1
  1081 04:0130: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  1082                        ;	}
  1083                        	.line	64
  1084                        ;}
  1085                        L10005:
  1086                        	.line	65
  1087                        L27:
  1088 04:0134: A5 06        	lda	<L23+2
  1089 04:0136: 85 0E        	sta	<L23+2+8
  1090 04:0138: A5 05        	lda	<L23+1
  1091 04:013A: 85 0D        	sta	<L23+1+8
  1092 04:013C: 2B           	pld
  1093 04:013D: 3B           	tsc
  1094 04:013E: 18           	clc
  1095 04:013F: 69 0C 00     	adc	#L23+8
  1096 04:0142: 1B           	tcs
  1097 04:0143: 6B           	rtl
  1098                        	.endblock	65
  1099             00000004   L23	equ	4
  1100             00000001   L24	equ	1
  1101 04:0144:              	ends
  1102                        	efunc
  1103                        	.endfunc	65,1,4
  1104                        	.line	65
  1105                        ;
  1106                        ;VOID k_deallocate_menu_resource(LPCSTR name,LPVOI
                    D data)
  1107                        ;{
  1108                        	.line	67
  1109                        	.line	68
  1110                        	WINMAN
  1111                        	xdef	~~k_deallocate_menu_resource
  1112                        	func
  1113                        	.function	68
  1114                        ~~k_deallocate_menu_resource:
  1115                        	longa	on
  1116                        	longi	on
  1117 04:0144: 3B           	tsc
  1118 04:0145: 38           	sec
  1119 04:0146: E9 00 00     	sbc	#L28
  1120 04:0149: 1B           	tcs
  1121 04:014A: 0B           	phd
  1122 04:014B: 5B           	tcd
  1123             00000004   name_0	set	4
  1124             00000008   data_0	set	8
  1125                        	.block	68
  1126                        ;
  1127                        ;}
  1128                        	.sym	name,4,142,6,32
  1129                        	.sym	data,8,129,6,32
  1130                        	.line	70
  1131                        L31:
  1132 04:014C: A5 02        	lda	<L28+2
  Thu Dec  3 2020 22:25                                                Page 23


  1133 04:014E: 85 0A        	sta	<L28+2+8
  1134 04:0150: A5 01        	lda	<L28+1
  1135 04:0152: 85 09        	sta	<L28+1+8
  1136 04:0154: 2B           	pld
  1137 04:0155: 3B           	tsc
  1138 04:0156: 18           	clc
  1139 04:0157: 69 08 00     	adc	#L28+8
  1140 04:015A: 1B           	tcs
  1141 04:015B: 6B           	rtl
  1142                        	.endblock	70
  1143             00000000   L28	equ	0
  1144             00000001   L29	equ	1
  1145 04:015C:              	ends
  1146                        	efunc
  1147                        	.endfunc	70,1,0
  1148                        	.line	70
  1149                        ;
  1150                        ;VOID k_deallocate_font_object(LPCSTR name,LPVOID 
                    data)
  1151                        ;{
  1152                        	.line	72
  1153                        	.line	73
  1154                        	WINMAN
  1155                        	xdef	~~k_deallocate_font_object
  1156                        	func
  1157                        	.function	73
  1158                        ~~k_deallocate_font_object:
  1159                        	longa	on
  1160                        	longi	on
  1161 04:015C: 3B           	tsc
  1162 04:015D: 38           	sec
  1163 04:015E: E9 00 00     	sbc	#L32
  1164 04:0161: 1B           	tcs
  1165 04:0162: 0B           	phd
  1166 04:0163: 5B           	tcd
  1167             00000004   name_0	set	4
  1168             00000008   data_0	set	8
  1169                        	.block	73
  1170                        ;
  1171                        ;}
  1172                        	.sym	name,4,142,6,32
  1173                        	.sym	data,8,129,6,32
  1174                        	.line	75
  1175                        L35:
  1176 04:0164: A5 02        	lda	<L32+2
  1177 04:0166: 85 0A        	sta	<L32+2+8
  1178 04:0168: A5 01        	lda	<L32+1
  1179 04:016A: 85 09        	sta	<L32+1+8
  1180 04:016C: 2B           	pld
  1181 04:016D: 3B           	tsc
  1182 04:016E: 18           	clc
  1183 04:016F: 69 08 00     	adc	#L32+8
  1184 04:0172: 1B           	tcs
  1185 04:0173: 6B           	rtl
  1186                        	.endblock	75
  1187             00000000   L32	equ	0
  1188             00000001   L33	equ	1
  1189 04:0174:              	ends
  Thu Dec  3 2020 22:25                                                Page 24


  1190                        	efunc
  1191                        	.endfunc	75,1,0
  1192                        	.line	75
  1193                        ;
  1194                        ;VOID k_deallocate_cursor_object(LPCSTR name,LPVOI
                    D data)
  1195                        ;{
  1196                        	.line	77
  1197                        	.line	78
  1198                        	WINMAN
  1199                        	xdef	~~k_deallocate_cursor_object
  1200                        	func
  1201                        	.function	78
  1202                        ~~k_deallocate_cursor_object:
  1203                        	longa	on
  1204                        	longi	on
  1205 04:0174: 3B           	tsc
  1206 04:0175: 38           	sec
  1207 04:0176: E9 00 00     	sbc	#L36
  1208 04:0179: 1B           	tcs
  1209 04:017A: 0B           	phd
  1210 04:017B: 5B           	tcd
  1211             00000004   name_0	set	4
  1212             00000008   data_0	set	8
  1213                        	.block	78
  1214                        ;
  1215                        ;}
  1216                        	.sym	name,4,142,6,32
  1217                        	.sym	data,8,129,6,32
  1218                        	.line	80
  1219                        L39:
  1220 04:017C: A5 02        	lda	<L36+2
  1221 04:017E: 85 0A        	sta	<L36+2+8
  1222 04:0180: A5 01        	lda	<L36+1
  1223 04:0182: 85 09        	sta	<L36+1+8
  1224 04:0184: 2B           	pld
  1225 04:0185: 3B           	tsc
  1226 04:0186: 18           	clc
  1227 04:0187: 69 08 00     	adc	#L36+8
  1228 04:018A: 1B           	tcs
  1229 04:018B: 6B           	rtl
  1230                        	.endblock	80
  1231             00000000   L36	equ	0
  1232             00000001   L37	equ	1
  1233 04:018C:              	ends
  1234                        	efunc
  1235                        	.endfunc	80,1,0
  1236                        	.line	80
  1237                        ;
  1238                        ;
  1239                        ;BOOL k_is_window_closed(LPVOID name,LPVOID data)
  1240                        ;{
  1241                        	.line	83
  1242                        	.line	84
  1243                        	WINMAN
  1244                        	xdef	~~k_is_window_closed
  1245                        	func
  1246                        	.function	84
  Thu Dec  3 2020 22:25                                                Page 25


  1247                        ~~k_is_window_closed:
  1248                        	longa	on
  1249                        	longi	on
  1250 04:018C: 3B           	tsc
  1251 04:018D: 38           	sec
  1252 04:018E: E9 00 00     	sbc	#L40
  1253 04:0191: 1B           	tcs
  1254 04:0192: 0B           	phd
  1255 04:0193: 5B           	tcd
  1256             00000004   name_0	set	4
  1257             00000008   data_0	set	8
  1258                        	.block	84
  1259                        ;	if(data)
  1260                        	.sym	name,4,129,6,32
  1261                        	.sym	data,8,129,6,32
  1262                        	.line	85
  1263                        ;	{
  1264 04:0194: A5 08        	lda	<L40+data_0
  1265 04:0196: 05 0A        	ora	<L40+data_0+2
  1266 04:0198: D0 03        	bne	L43
  1267 04:019A: 82 1A 00     	brl	L10006
  1268                        L43:
  1269                        	.line	86
  1270                        ;		return ((PWINDOW)data)->isClosed;
  1271                        	.line	87
  1272 04:019D: A0 5D 01     	ldy	#$15d
  1273 04:01A0: B7 08        	lda	[<L40+data_0],Y
  1274 04:01A2: 29 FF 00     	and	#$ff
  1275                        L44:
  1276 04:01A5: A8           	tay
  1277 04:01A6: A5 02        	lda	<L40+2
  1278 04:01A8: 85 0A        	sta	<L40+2+8
  1279 04:01AA: A5 01        	lda	<L40+1
  1280 04:01AC: 85 09        	sta	<L40+1+8
  1281 04:01AE: 2B           	pld
  1282 04:01AF: 3B           	tsc
  1283 04:01B0: 18           	clc
  1284 04:01B1: 69 08 00     	adc	#L40+8
  1285 04:01B4: 1B           	tcs
  1286 04:01B5: 98           	tya
  1287 04:01B6: 6B           	rtl
  1288                        ;	}
  1289                        	.line	88
  1290                        ;
  1291                        ;	return FALSE;
  1292                        L10006:
  1293                        	.line	90
  1294 04:01B7: A9 00 00     	lda	#$0
  1295 04:01BA: 82 E8 FF     	brl	L44
  1296                        ;}
  1297                        	.line	91
  1298                        	.endblock	91
  1299             00000000   L40	equ	0
  1300             00000001   L41	equ	1
  1301 04:01BD:              	ends
  1302                        	efunc
  1303                        	.endfunc	91,1,0
  1304                        	.line	91
  Thu Dec  3 2020 22:25                                                Page 26


  1305                        ;
  1306                        ;VOID k_clean_closed_windows(void)
  1307                        ;{
  1308                        	.line	93
  1309                        	.line	94
  1310                        	WINMAN
  1311                        	xdef	~~k_clean_closed_windows
  1312                        	func
  1313                        	.function	94
  1314                        ~~k_clean_closed_windows:
  1315                        	longa	on
  1316                        	longi	on
  1317 04:01BD: 3B           	tsc
  1318 04:01BE: 38           	sec
  1319 04:01BF: E9 08 00     	sbc	#L45
  1320 04:01C2: 1B           	tcs
  1321 04:01C3: 0B           	phd
  1322 04:01C4: 5B           	tcd
  1323                        	.block	94
  1324                        ;	k_debug_string("k_clean_closed_windows\r\n");
  1325                        	.line	95
  1326 04:01C5: F4 xx xx     	pea	#^L14
  1327 04:01C8: F4 xx xx     	pea	#<L14
  1328 04:01CB: 22 xx xx xx  	jsl	~~k_debug_string
  1329                        ;	if(_k_windowManager_WindowObjectList)
  1330                        	.line	96
  1331                        ;	{
  1332 04:01CF: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1333 04:01D2: 0D xx xx     	ora	|~~_k_windowManager_WindowObjectList+2
  1334 04:01D5: D0 03        	bne	L48
  1335 04:01D7: 82 3D 00     	brl	L10007
  1336                        L48:
  1337                        	.line	97
  1338                        ;		k_nodelist_foreach_listdata_remove(_k_wi
                    ndowManager_WindowObjectList,(LPVOID)NULL,k_is_window_closed
                    );
  1339                        	.line	98
  1340 04:01DA: F4 04 00     	pea	#^~~k_is_window_closed
  1341 04:01DD: F4 8C 01     	pea	#<~~k_is_window_closed
  1342 04:01E0: F4 00 00     	pea	#^$0
  1343 04:01E3: F4 00 00     	pea	#<$0
  1344 04:01E6: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1345 04:01E9: 48           	pha
  1346 04:01EA: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1347 04:01ED: 48           	pha
  1348 04:01EE: 22 xx xx xx  	jsl	~~k_nodelist_foreach_listdata_remove
  1349                        ;		k_debug_nodelist(_k_windowManager_Window
                    ObjectList->listhead->next);
  1350                        	.line	99
  1351 04:01F2: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1352 04:01F5: 85 01        	sta	<R0
  1353 04:01F7: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1354 04:01FA: 85 03        	sta	<R0+2
  1355 04:01FC: A7 01        	lda	[<R0]
  1356 04:01FE: 85 05        	sta	<R1
  1357 04:0200: A0 02 00     	ldy	#$2
  1358 04:0203: B7 01        	lda	[<R0],Y
  1359 04:0205: 85 07        	sta	<R1+2
  Thu Dec  3 2020 22:25                                                Page 27


  1360 04:0207: A0 0C 00     	ldy	#$c
  1361 04:020A: B7 05        	lda	[<R1],Y
  1362 04:020C: 48           	pha
  1363 04:020D: A0 0A 00     	ldy	#$a
  1364 04:0210: B7 05        	lda	[<R1],Y
  1365 04:0212: 48           	pha
  1366 04:0213: 22 xx xx xx  	jsl	~~k_debug_nodelist
  1367                        ;	}
  1368                        	.line	100
  1369                        ;}
  1370                        L10007:
  1371                        	.line	101
  1372                        L49:
  1373 04:0217: 2B           	pld
  1374 04:0218: 3B           	tsc
  1375 04:0219: 18           	clc
  1376 04:021A: 69 08 00     	adc	#L45
  1377 04:021D: 1B           	tcs
  1378 04:021E: 6B           	rtl
  1379                        	.endblock	101
  1380             00000008   L45	equ	8
  1381             00000009   L46	equ	9
  1382 04:021F:              	ends
  1383                        	efunc
  1384                        	.endfunc	101,9,8
  1385                        	.line	101
  1386                        	data
  1387                        L14:
  1388 00:007F: 6B 5F 63 6C  	db	$6B,$5F,$63,$6C,$65,$61,$6E,$5F,$63,$6C,
                    $6F,$73,$65,$64,$5F
       00:0083: 65 61 6E 5F 
       00:0087: 63 6C 6F 73 
       00:008B: 65 64 5F 
  1389 00:008E: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$73,$0D,$0A,$00
       00:0092: 6F 77 73 0D 
       00:0096: 0A 00 
  1390 00:0098:              	ends
  1391                        ;
  1392                        ;
  1393                        ;BOOL k_initializeWindowManager(void)
  1394                        ;{
  1395                        	.line	104
  1396                        	.line	105
  1397                        	WINMAN
  1398                        	xdef	~~k_initializeWindowManager
  1399                        	func
  1400                        	.function	105
  1401                        ~~k_initializeWindowManager:
  1402                        	longa	on
  1403                        	longi	on
  1404 04:021F: 3B           	tsc
  1405 04:0220: 38           	sec
  1406 04:0221: E9 00 00     	sbc	#L51
  1407 04:0224: 1B           	tcs
  1408 04:0225: 0B           	phd
  1409 04:0226: 5B           	tcd
  1410                        	.block	105
  1411                        ;	k_debug_string("k_initializeWindowManager\r\n");
  Thu Dec  3 2020 22:25                                                Page 28


  1412                        	.line	106
  1413 04:0227: F4 xx xx     	pea	#^L50
  1414 04:022A: F4 xx xx     	pea	#<L50
  1415 04:022D: 22 xx xx xx  	jsl	~~k_debug_string
  1416                        ;
  1417                        ;	_k_windowManager_WindowClassList 	= k_node
                    list_allocate_list("_window_class_list" ,k_deallocate_window
                    _class);
  1418                        	.line	108
  1419 04:0231: F4 04 00     	pea	#^~~k_deallocate_window_class
  1420 04:0234: F4 00 00     	pea	#<~~k_deallocate_window_class
  1421 04:0237: F4 xx xx     	pea	#^L50+28
  1422 04:023A: F4 xx xx     	pea	#<L50+28
  1423 04:023D: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1424 04:0241: 8D xx xx     	sta	|~~_k_windowManager_WindowClassList
  1425 04:0244: 8E xx xx     	stx	|~~_k_windowManager_WindowClassList+2
  1426                        ;	_k_windowManager_WindowObjectList   = k_nodelist
                    _allocate_list("_window_object_list",k_deallocate_window_obj
                    ect);
  1427                        	.line	109
  1428 04:0247: F4 04 00     	pea	#^~~k_deallocate_window_object
  1429 04:024A: F4 18 00     	pea	#<~~k_deallocate_window_object
  1430 04:024D: F4 xx xx     	pea	#^L50+47
  1431 04:0250: F4 xx xx     	pea	#<L50+47
  1432 04:0253: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1433 04:0257: 8D xx xx     	sta	|~~_k_windowManager_WindowObjectList
  1434 04:025A: 8E xx xx     	stx	|~~_k_windowManager_WindowObjectList+2
  1435                        ;	_k_windowManager_WindowMenuList 	= k_node
                    list_allocate_list("_window_menu_list"  ,k_deallocate_menu_o
                    bject);
  1436                        	.line	110
  1437 04:025D: F4 04 00     	pea	#^~~k_deallocate_menu_object
  1438 04:0260: F4 E3 00     	pea	#<~~k_deallocate_menu_object
  1439 04:0263: F4 xx xx     	pea	#^L50+67
  1440 04:0266: F4 xx xx     	pea	#<L50+67
  1441 04:0269: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1442 04:026D: 8D xx xx     	sta	|~~_k_windowManager_WindowMenuList
  1443 04:0270: 8E xx xx     	stx	|~~_k_windowManager_WindowMenuList+2
  1444                        ;	_k_windowManager_IconList  		 	
                    = k_nodelist_allocate_list("_window_icon_list"  ,k_deallocat
                    e_icon_object);
  1445                        	.line	111
  1446 04:0273: F4 04 00     	pea	#^~~k_deallocate_icon_object
  1447 04:0276: F4 FB 00     	pea	#<~~k_deallocate_icon_object
  1448 04:0279: F4 xx xx     	pea	#^L50+85
  1449 04:027C: F4 xx xx     	pea	#<L50+85
  1450 04:027F: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1451 04:0283: 8D xx xx     	sta	|~~_k_windowManager_IconList
  1452 04:0286: 8E xx xx     	stx	|~~_k_windowManager_IconList+2
  1453                        ;	_k_windowManager_ObjectHitList		= k_node
                    list_allocate_list("_object_hit_list"  ,k_deallocate_hit_cla
                    ss);
  1454                        	.line	112
  1455 04:0289: F4 04 00     	pea	#^~~k_deallocate_hit_class
  1456 04:028C: F4 13 01     	pea	#<~~k_deallocate_hit_class
  1457 04:028F: F4 xx xx     	pea	#^L50+103
  1458 04:0292: F4 xx xx     	pea	#<L50+103
  1459 04:0295: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  Thu Dec  3 2020 22:25                                                Page 29


  1460 04:0299: 8D xx xx     	sta	|~~_k_windowManager_ObjectHitList
  1461 04:029C: 8E xx xx     	stx	|~~_k_windowManager_ObjectHitList+2
  1462                        ;	_k_windowManager_FontList			
                    = k_nodelist_allocate_list("_available_font_list"  ,k_deallo
                    cate_font_object);
  1463                        	.line	113
  1464 04:029F: F4 04 00     	pea	#^~~k_deallocate_font_object
  1465 04:02A2: F4 5C 01     	pea	#<~~k_deallocate_font_object
  1466 04:02A5: F4 xx xx     	pea	#^L50+120
  1467 04:02A8: F4 xx xx     	pea	#<L50+120
  1468 04:02AB: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1469 04:02AF: 8D xx xx     	sta	|~~_k_windowManager_FontList
  1470 04:02B2: 8E xx xx     	stx	|~~_k_windowManager_FontList+2
  1471                        ;	_k_windowManager_CursorList			
                    = k_nodelist_allocate_list("_available_cursor_list"  ,k_deal
                    locate_cursor_object);
  1472                        	.line	114
  1473 04:02B5: F4 04 00     	pea	#^~~k_deallocate_cursor_object
  1474 04:02B8: F4 74 01     	pea	#<~~k_deallocate_cursor_object
  1475 04:02BB: F4 xx xx     	pea	#^L50+141
  1476 04:02BE: F4 xx xx     	pea	#<L50+141
  1477 04:02C1: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1478 04:02C5: 8D xx xx     	sta	|~~_k_windowManager_CursorList
  1479 04:02C8: 8E xx xx     	stx	|~~_k_windowManager_CursorList+2
  1480                        ;
  1481                        ;	k_user_CreateWindowClass("gadgetWindowClass",NUL
                    L,0,NULL,NULL,NULL,gadgetWindowProc);
  1482                        	.line	116
  1483 04:02CB: F4 04 00     	pea	#^~~gadgetWindowProc
  1484 04:02CE: F4 68 47     	pea	#<~~gadgetWindowProc
  1485 04:02D1: F4 00 00     	pea	#^$0
  1486 04:02D4: F4 00 00     	pea	#<$0
  1487 04:02D7: F4 00 00     	pea	#^$0
  1488 04:02DA: F4 00 00     	pea	#<$0
  1489 04:02DD: F4 00 00     	pea	#^$0
  1490 04:02E0: F4 00 00     	pea	#<$0
  1491 04:02E3: F4 00 00     	pea	#<$0
  1492 04:02E6: F4 00 00     	pea	#^$0
  1493 04:02E9: F4 00 00     	pea	#<$0
  1494 04:02EC: F4 xx xx     	pea	#^L50+164
  1495 04:02EF: F4 xx xx     	pea	#<L50+164
  1496 04:02F2: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1497                        ;	k_user_CreateWindowClass("buttonWindowClass",NUL
                    L,0,NULL,NULL,NULL,buttonWindowProc);
  1498                        	.line	117
  1499 04:02F6: F4 04 00     	pea	#^~~buttonWindowProc
  1500 04:02F9: F4 56 32     	pea	#<~~buttonWindowProc
  1501 04:02FC: F4 00 00     	pea	#^$0
  1502 04:02FF: F4 00 00     	pea	#<$0
  1503 04:0302: F4 00 00     	pea	#^$0
  1504 04:0305: F4 00 00     	pea	#<$0
  1505 04:0308: F4 00 00     	pea	#^$0
  1506 04:030B: F4 00 00     	pea	#<$0
  1507 04:030E: F4 00 00     	pea	#<$0
  1508 04:0311: F4 00 00     	pea	#^$0
  1509 04:0314: F4 00 00     	pea	#<$0
  1510 04:0317: F4 xx xx     	pea	#^L50+182
  1511 04:031A: F4 xx xx     	pea	#<L50+182
  Thu Dec  3 2020 22:25                                                Page 30


  1512 04:031D: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1513                        ;	k_user_CreateWindowClass("menuWindowClass",NULL,
                    0,NULL,NULL,NULL,menuWindowProc);
  1514                        	.line	118
  1515 04:0321: F4 04 00     	pea	#^~~menuWindowProc
  1516 04:0324: F4 75 1F     	pea	#<~~menuWindowProc
  1517 04:0327: F4 00 00     	pea	#^$0
  1518 04:032A: F4 00 00     	pea	#<$0
  1519 04:032D: F4 00 00     	pea	#^$0
  1520 04:0330: F4 00 00     	pea	#<$0
  1521 04:0333: F4 00 00     	pea	#^$0
  1522 04:0336: F4 00 00     	pea	#<$0
  1523 04:0339: F4 00 00     	pea	#<$0
  1524 04:033C: F4 00 00     	pea	#^$0
  1525 04:033F: F4 00 00     	pea	#<$0
  1526 04:0342: F4 xx xx     	pea	#^L50+200
  1527 04:0345: F4 xx xx     	pea	#<L50+200
  1528 04:0348: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1529                        ;	k_user_CreateWindowClass("menuAnchorWindowClass"
                    ,NULL,0,NULL,NULL,NULL,menuAnchorWindowProc);
  1530                        	.line	119
  1531 04:034C: F4 04 00     	pea	#^~~menuAnchorWindowProc
  1532 04:034F: F4 CC 25     	pea	#<~~menuAnchorWindowProc
  1533 04:0352: F4 00 00     	pea	#^$0
  1534 04:0355: F4 00 00     	pea	#<$0
  1535 04:0358: F4 00 00     	pea	#^$0
  1536 04:035B: F4 00 00     	pea	#<$0
  1537 04:035E: F4 00 00     	pea	#^$0
  1538 04:0361: F4 00 00     	pea	#<$0
  1539 04:0364: F4 00 00     	pea	#<$0
  1540 04:0367: F4 00 00     	pea	#^$0
  1541 04:036A: F4 00 00     	pea	#<$0
  1542 04:036D: F4 xx xx     	pea	#^L50+216
  1543 04:0370: F4 xx xx     	pea	#<L50+216
  1544 04:0373: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1545                        ;	k_user_CreateWindowClass("menuDropDownWindowClas
                    s",NULL,0,NULL,NULL,NULL,menuDropDownWindowProc);
  1546                        	.line	120
  1547 04:0377: F4 04 00     	pea	#^~~menuDropDownWindowProc
  1548 04:037A: F4 1B 2D     	pea	#<~~menuDropDownWindowProc
  1549 04:037D: F4 00 00     	pea	#^$0
  1550 04:0380: F4 00 00     	pea	#<$0
  1551 04:0383: F4 00 00     	pea	#^$0
  1552 04:0386: F4 00 00     	pea	#<$0
  1553 04:0389: F4 00 00     	pea	#^$0
  1554 04:038C: F4 00 00     	pea	#<$0
  1555 04:038F: F4 00 00     	pea	#<$0
  1556 04:0392: F4 00 00     	pea	#^$0
  1557 04:0395: F4 00 00     	pea	#<$0
  1558 04:0398: F4 xx xx     	pea	#^L50+238
  1559 04:039B: F4 xx xx     	pea	#<L50+238
  1560 04:039E: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1561                        ;	k_user_CreateWindowClass("dialogWindowClass",NUL
                    L,0,NULL,NULL,NULL,DlgWindowProc);
  1562                        	.line	121
  1563 04:03A2: F4 04 00     	pea	#^~~DlgWindowProc
  1564 04:03A5: F4 0E 58     	pea	#<~~DlgWindowProc
  1565 04:03A8: F4 00 00     	pea	#^$0
  Thu Dec  3 2020 22:25                                                Page 31


  1566 04:03AB: F4 00 00     	pea	#<$0
  1567 04:03AE: F4 00 00     	pea	#^$0
  1568 04:03B1: F4 00 00     	pea	#<$0
  1569 04:03B4: F4 00 00     	pea	#^$0
  1570 04:03B7: F4 00 00     	pea	#<$0
  1571 04:03BA: F4 00 00     	pea	#<$0
  1572 04:03BD: F4 00 00     	pea	#^$0
  1573 04:03C0: F4 00 00     	pea	#<$0
  1574 04:03C3: F4 xx xx     	pea	#^L50+262
  1575 04:03C6: F4 xx xx     	pea	#<L50+262
  1576 04:03C9: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1577                        ;	k_user_CreateWindowClass("aboutDialogWindowClass
                    ",NULL,0,NULL,NULL,NULL,DlgAboutWindowProc);
  1578                        	.line	122
  1579 04:03CD: F4 04 00     	pea	#^~~DlgAboutWindowProc
  1580 04:03D0: F4 08 59     	pea	#<~~DlgAboutWindowProc
  1581 04:03D3: F4 00 00     	pea	#^$0
  1582 04:03D6: F4 00 00     	pea	#<$0
  1583 04:03D9: F4 00 00     	pea	#^$0
  1584 04:03DC: F4 00 00     	pea	#<$0
  1585 04:03DF: F4 00 00     	pea	#^$0
  1586 04:03E2: F4 00 00     	pea	#<$0
  1587 04:03E5: F4 00 00     	pea	#<$0
  1588 04:03E8: F4 00 00     	pea	#^$0
  1589 04:03EB: F4 00 00     	pea	#<$0
  1590 04:03EE: F4 xx xx     	pea	#^L50+280
  1591 04:03F1: F4 xx xx     	pea	#<L50+280
  1592 04:03F4: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1593                        ;	k_user_CreateWindowClass("hscrollWindowClass",NU
                    LL,0,NULL,NULL,NULL,hscrollbarWindowProc);
  1594                        	.line	123
  1595 04:03F8: F4 xx xx     	pea	#^~~hscrollbarWindowProc
  1596 04:03FB: F4 xx xx     	pea	#<~~hscrollbarWindowProc
  1597 04:03FE: F4 00 00     	pea	#^$0
  1598 04:0401: F4 00 00     	pea	#<$0
  1599 04:0404: F4 00 00     	pea	#^$0
  1600 04:0407: F4 00 00     	pea	#<$0
  1601 04:040A: F4 00 00     	pea	#^$0
  1602 04:040D: F4 00 00     	pea	#<$0
  1603 04:0410: F4 00 00     	pea	#<$0
  1604 04:0413: F4 00 00     	pea	#^$0
  1605 04:0416: F4 00 00     	pea	#<$0
  1606 04:0419: F4 xx xx     	pea	#^L50+303
  1607 04:041C: F4 xx xx     	pea	#<L50+303
  1608 04:041F: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1609                        ;	k_user_CreateWindowClass("vscrollWindowClass",NU
                    LL,0,NULL,NULL,NULL,vscrollbarWindowProc);
  1610                        	.line	124
  1611 04:0423: F4 xx xx     	pea	#^~~vscrollbarWindowProc
  1612 04:0426: F4 xx xx     	pea	#<~~vscrollbarWindowProc
  1613 04:0429: F4 00 00     	pea	#^$0
  1614 04:042C: F4 00 00     	pea	#<$0
  1615 04:042F: F4 00 00     	pea	#^$0
  1616 04:0432: F4 00 00     	pea	#<$0
  1617 04:0435: F4 00 00     	pea	#^$0
  1618 04:0438: F4 00 00     	pea	#<$0
  1619 04:043B: F4 00 00     	pea	#<$0
  1620 04:043E: F4 00 00     	pea	#^$0
  Thu Dec  3 2020 22:25                                                Page 32


  1621 04:0441: F4 00 00     	pea	#<$0
  1622 04:0444: F4 xx xx     	pea	#^L50+322
  1623 04:0447: F4 xx xx     	pea	#<L50+322
  1624 04:044A: 22 17 0F 04  	jsl	~~k_user_CreateWindowClass
  1625                        ;
  1626                        ;	k_user_RegisterFontClass("ATI6x8",Bm437ATI6x8);
  1627                        	.line	126
  1628 04:044E: F4 xx xx     	pea	#^~~Bm437ATI6x8
  1629 04:0451: F4 xx xx     	pea	#<~~Bm437ATI6x8
  1630 04:0454: F4 xx xx     	pea	#^L50+341
  1631 04:0457: F4 xx xx     	pea	#<L50+341
  1632 04:045A: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1633                        ;	k_user_RegisterFontClass("ATI8x16",Bm437ATI8x16)
                    ;
  1634                        	.line	127
  1635 04:045E: F4 xx xx     	pea	#^~~Bm437ATI8x16
  1636 04:0461: F4 xx xx     	pea	#<~~Bm437ATI8x16
  1637 04:0464: F4 xx xx     	pea	#^L50+348
  1638 04:0467: F4 xx xx     	pea	#<L50+348
  1639 04:046A: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1640                        ;	k_user_RegisterFontClass("ToshibaLCD8x8",Bm437To
                    shibaLCD8x8);
  1641                        	.line	128
  1642 04:046E: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8
  1643 04:0471: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8
  1644 04:0474: F4 xx xx     	pea	#^L50+356
  1645 04:0477: F4 xx xx     	pea	#<L50+356
  1646 04:047A: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1647                        ;	k_user_RegisterFontClass("TINYTYPE8x8",BM437TINY
                    TYPE8x8);
  1648                        	.line	129
  1649 04:047E: F4 xx xx     	pea	#^~~BM437TINYTYPE8x8
  1650 04:0481: F4 xx xx     	pea	#<~~BM437TINYTYPE8x8
  1651 04:0484: F4 xx xx     	pea	#^L50+370
  1652 04:0487: F4 xx xx     	pea	#<L50+370
  1653 04:048A: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1654                        ;	k_user_RegisterFontClass("FANTASY8x8",BM437FANTA
                    SY);
  1655                        	.line	130
  1656 04:048E: F4 xx xx     	pea	#^~~BM437FANTASY
  1657 04:0491: F4 xx xx     	pea	#<~~BM437FANTASY
  1658 04:0494: F4 xx xx     	pea	#^L50+382
  1659 04:0497: F4 xx xx     	pea	#<L50+382
  1660 04:049A: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1661                        ;	k_user_RegisterFontClass("AMIGO8x8",BM437AMIGO8x
                    8);
  1662                        	.line	131
  1663 04:049E: F4 xx xx     	pea	#^~~BM437AMIGO8x8
  1664 04:04A1: F4 xx xx     	pea	#<~~BM437AMIGO8x8
  1665 04:04A4: F4 xx xx     	pea	#^L50+393
  1666 04:04A7: F4 xx xx     	pea	#<L50+393
  1667 04:04AA: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1668                        ;	k_user_RegisterFontClass("Italics8x8",BM4378X8IT
                    AL);
  1669                        	.line	132
  1670 04:04AE: F4 xx xx     	pea	#^~~BM4378X8ITAL
  1671 04:04B1: F4 xx xx     	pea	#<~~BM4378X8ITAL
  1672 04:04B4: F4 xx xx     	pea	#^L50+402
  Thu Dec  3 2020 22:25                                                Page 33


  1673 04:04B7: F4 xx xx     	pea	#<L50+402
  1674 04:04BA: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1675                        ;	k_user_RegisterFontClass("FXOS8x8",BM437FXOS8x8)
                    ;
  1676                        	.line	133
  1677 04:04BE: F4 xx xx     	pea	#^~~BM437FXOS8x8
  1678 04:04C1: F4 xx xx     	pea	#<~~BM437FXOS8x8
  1679 04:04C4: F4 xx xx     	pea	#^L50+413
  1680 04:04C7: F4 xx xx     	pea	#<L50+413
  1681 04:04CA: 22 AE 0D 04  	jsl	~~k_user_RegisterFontClass
  1682                        ;
  1683                        ;	k_user_RegisterMousePointerClass("ARROW",MOUSE_P
                    OINTER_ARROW);
  1684                        	.line	135
  1685 04:04CE: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
  1686 04:04D1: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
  1687 04:04D4: F4 xx xx     	pea	#^L50+421
  1688 04:04D7: F4 xx xx     	pea	#<L50+421
  1689 04:04DA: 22 6B 0D 04  	jsl	~~k_user_RegisterMousePointerClass
  1690                        ;	k_user_RegisterMousePointerClass("HOURGLASS",MOU
                    SE_POINTER_HOURGLASS);
  1691                        	.line	136
  1692 04:04DE: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
  1693 04:04E1: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
  1694 04:04E4: F4 xx xx     	pea	#^L50+427
  1695 04:04E7: F4 xx xx     	pea	#<L50+427
  1696 04:04EA: 22 6B 0D 04  	jsl	~~k_user_RegisterMousePointerClass
  1697                        ;	k_user_RegisterMousePointerClass("HELP",MOUSE_PO
                    INTER_HELP);
  1698                        	.line	137
  1699 04:04EE: F4 xx xx     	pea	#^~~MOUSE_POINTER_HELP
  1700 04:04F1: F4 xx xx     	pea	#<~~MOUSE_POINTER_HELP
  1701 04:04F4: F4 xx xx     	pea	#^L50+437
  1702 04:04F7: F4 xx xx     	pea	#<L50+437
  1703 04:04FA: 22 6B 0D 04  	jsl	~~k_user_RegisterMousePointerClass
  1704                        ;	k_user_RegisterMousePointerClass("RESIZE",MOUSE_
                    POINTER_RESIZE);
  1705                        	.line	138
  1706 04:04FE: F4 xx xx     	pea	#^~~MOUSE_POINTER_RESIZE
  1707 04:0501: F4 xx xx     	pea	#<~~MOUSE_POINTER_RESIZE
  1708 04:0504: F4 xx xx     	pea	#^L50+442
  1709 04:0507: F4 xx xx     	pea	#<L50+442
  1710 04:050A: 22 6B 0D 04  	jsl	~~k_user_RegisterMousePointerClass
  1711                        ;
  1712                        ;	return TRUE;
  1713                        	.line	140
  1714 04:050E: A9 01 00     	lda	#$1
  1715                        L54:
  1716 04:0511: A8           	tay
  1717 04:0512: 2B           	pld
  1718 04:0513: 3B           	tsc
  1719 04:0514: 18           	clc
  1720 04:0515: 69 00 00     	adc	#L51
  1721 04:0518: 1B           	tcs
  1722 04:0519: 98           	tya
  1723 04:051A: 6B           	rtl
  1724                        ;}
  1725                        	.line	141
  Thu Dec  3 2020 22:25                                                Page 34


  1726                        	.endblock	141
  1727             00000000   L51	equ	0
  1728             00000001   L52	equ	1
  1729 04:051B:              	ends
  1730                        	efunc
  1731                        	.endfunc	141,1,0
  1732                        	.line	141
  1733                        	data
  1734                        L50:
  1735 00:0098: 6B 5F 69 6E  	db	$6B,$5F,$69,$6E,$69,$74,$69,$61,$6C,$69,
                    $7A,$65,$57,$69,$6E
       00:009C: 69 74 69 61 
       00:00A0: 6C 69 7A 65 
       00:00A4: 57 69 6E 
  1736 00:00A7: 64 6F 77 4D  	db	$64,$6F,$77,$4D,$61,$6E,$61,$67,$65,$72,
                    $0D,$0A,$00,$5F,$77
       00:00AB: 61 6E 61 67 
       00:00AF: 65 72 0D 0A 
       00:00B3: 00 5F 77 
  1737 00:00B6: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$5F,$63,$6C,$61,$73,
                    $73,$5F,$6C,$69,$73
       00:00BA: 77 5F 63 6C 
       00:00BE: 61 73 73 5F 
       00:00C2: 6C 69 73 
  1738 00:00C5: 74 00 5F 77  	db	$74,$00,$5F,$77,$69,$6E,$64,$6F,$77,$5F,
                    $6F,$62,$6A,$65,$63
       00:00C9: 69 6E 64 6F 
       00:00CD: 77 5F 6F 62 
       00:00D1: 6A 65 63 
  1739 00:00D4: 74 5F 6C 69  	db	$74,$5F,$6C,$69,$73,$74,$00,$5F,$77,$69,
                    $6E,$64,$6F,$77,$5F
       00:00D8: 73 74 00 5F 
       00:00DC: 77 69 6E 64 
       00:00E0: 6F 77 5F 
  1740 00:00E3: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$5F,$6C,$69,$73,$74,$00,
                    $5F,$77,$69,$6E,$64
       00:00E7: 5F 6C 69 73 
       00:00EB: 74 00 5F 77 
       00:00EF: 69 6E 64 
  1741 00:00F2: 6F 77 5F 69  	db	$6F,$77,$5F,$69,$63,$6F,$6E,$5F,$6C,$69,
                    $73,$74,$00,$5F,$6F
       00:00F6: 63 6F 6E 5F 
       00:00FA: 6C 69 73 74 
       00:00FE: 00 5F 6F 
  1742 00:0101: 62 6A 65 63  	db	$62,$6A,$65,$63,$74,$5F,$68,$69,$74,$5F,
                    $6C,$69,$73,$74,$00
       00:0105: 74 5F 68 69 
       00:0109: 74 5F 6C 69 
       00:010D: 73 74 00 
  1743 00:0110: 5F 61 76 61  	db	$5F,$61,$76,$61,$69,$6C,$61,$62,$6C,$65,
                    $5F,$66,$6F,$6E,$74
       00:0114: 69 6C 61 62 
       00:0118: 6C 65 5F 66 
       00:011C: 6F 6E 74 
  1744 00:011F: 5F 6C 69 73  	db	$5F,$6C,$69,$73,$74,$00,$5F,$61,$76,$61,
                    $69,$6C,$61,$62,$6C
       00:0123: 74 00 5F 61 
       00:0127: 76 61 69 6C 
  Thu Dec  3 2020 22:25                                                Page 35


       00:012B: 61 62 6C 
  1745 00:012E: 65 5F 63 75  	db	$65,$5F,$63,$75,$72,$73,$6F,$72,$5F,$6C,
                    $69,$73,$74,$00,$67
       00:0132: 72 73 6F 72 
       00:0136: 5F 6C 69 73 
       00:013A: 74 00 67 
  1746 00:013D: 61 64 67 65  	db	$61,$64,$67,$65,$74,$57,$69,$6E,$64,$6F,
                    $77,$43,$6C,$61,$73
       00:0141: 74 57 69 6E 
       00:0145: 64 6F 77 43 
       00:0149: 6C 61 73 
  1747 00:014C: 73 00 62 75  	db	$73,$00,$62,$75,$74,$74,$6F,$6E,$57,$69,
                    $6E,$64,$6F,$77,$43
       00:0150: 74 74 6F 6E 
       00:0154: 57 69 6E 64 
       00:0158: 6F 77 43 
  1748 00:015B: 6C 61 73 73  	db	$6C,$61,$73,$73,$00,$6D,$65,$6E,$75,$57,
                    $69,$6E,$64,$6F,$77
       00:015F: 00 6D 65 6E 
       00:0163: 75 57 69 6E 
       00:0167: 64 6F 77 
  1749 00:016A: 43 6C 61 73  	db	$43,$6C,$61,$73,$73,$00,$6D,$65,$6E,$75,
                    $41,$6E,$63,$68,$6F
       00:016E: 73 00 6D 65 
       00:0172: 6E 75 41 6E 
       00:0176: 63 68 6F 
  1750 00:0179: 72 57 69 6E  	db	$72,$57,$69,$6E,$64,$6F,$77,$43,$6C,$61,
                    $73,$73,$00,$6D,$65
       00:017D: 64 6F 77 43 
       00:0181: 6C 61 73 73 
       00:0185: 00 6D 65 
  1751 00:0188: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $57,$69,$6E,$64,$6F
       00:018C: 6F 70 44 6F 
       00:0190: 77 6E 57 69 
       00:0194: 6E 64 6F 
  1752 00:0197: 77 43 6C 61  	db	$77,$43,$6C,$61,$73,$73,$00,$64,$69,$61,
                    $6C,$6F,$67,$57,$69
       00:019B: 73 73 00 64 
       00:019F: 69 61 6C 6F 
       00:01A3: 67 57 69 
  1753 00:01A6: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$43,$6C,$61,$73,$73,$00,
                    $61,$62,$6F,$75,$74
       00:01AA: 43 6C 61 73 
       00:01AE: 73 00 61 62 
       00:01B2: 6F 75 74 
  1754 00:01B5: 44 69 61 6C  	db	$44,$69,$61,$6C,$6F,$67,$57,$69,$6E,$64,
                    $6F,$77,$43,$6C,$61
       00:01B9: 6F 67 57 69 
       00:01BD: 6E 64 6F 77 
       00:01C1: 43 6C 61 
  1755 00:01C4: 73 73 00 68  	db	$73,$73,$00,$68,$73,$63,$72,$6F,$6C,$6C,
                    $57,$69,$6E,$64,$6F
       00:01C8: 73 63 72 6F 
       00:01CC: 6C 6C 57 69 
       00:01D0: 6E 64 6F 
  1756 00:01D3: 77 43 6C 61  	db	$77,$43,$6C,$61,$73,$73,$00,$76,$73,$63,
                    $72,$6F,$6C,$6C,$57
  Thu Dec  3 2020 22:25                                                Page 36


       00:01D7: 73 73 00 76 
       00:01DB: 73 63 72 6F 
       00:01DF: 6C 6C 57 
  1757 00:01E2: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$43,$6C,$61,$73,$73,
                    $00,$41,$54,$49,$36
       00:01E6: 77 43 6C 61 
       00:01EA: 73 73 00 41 
       00:01EE: 54 49 36 
  1758 00:01F1: 78 38 00 41  	db	$78,$38,$00,$41,$54,$49,$38,$78,$31,$36,
                    $00,$54,$6F,$73,$68
       00:01F5: 54 49 38 78 
       00:01F9: 31 36 00 54 
       00:01FD: 6F 73 68 
  1759 00:0200: 69 62 61 4C  	db	$69,$62,$61,$4C,$43,$44,$38,$78,$38,$00,
                    $54,$49,$4E,$59,$54
       00:0204: 43 44 38 78 
       00:0208: 38 00 54 49 
       00:020C: 4E 59 54 
  1760 00:020F: 59 50 45 38  	db	$59,$50,$45,$38,$78,$38,$00,$46,$41,$4E,
                    $54,$41,$53,$59,$38
       00:0213: 78 38 00 46 
       00:0217: 41 4E 54 41 
       00:021B: 53 59 38 
  1761 00:021E: 78 38 00 41  	db	$78,$38,$00,$41,$4D,$49,$47,$4F,$38,$78,
                    $38,$00,$49,$74,$61
       00:0222: 4D 49 47 4F 
       00:0226: 38 78 38 00 
       00:022A: 49 74 61 
  1762 00:022D: 6C 69 63 73  	db	$6C,$69,$63,$73,$38,$78,$38,$00,$46,$58,
                    $4F,$53,$38,$78,$38
       00:0231: 38 78 38 00 
       00:0235: 46 58 4F 53 
       00:0239: 38 78 38 
  1763 00:023C: 00 41 52 52  	db	$00,$41,$52,$52,$4F,$57,$00,$48,$4F,$55,
                    $52,$47,$4C,$41,$53
       00:0240: 4F 57 00 48 
       00:0244: 4F 55 52 47 
       00:0248: 4C 41 53 
  1764 00:024B: 53 00 48 45  	db	$53,$00,$48,$45,$4C,$50,$00,$52,$45,$53,
                    $49,$5A,$45,$00
       00:024F: 4C 50 00 52 
       00:0253: 45 53 49 5A 
       00:0257: 45 00 
  1765 00:0259:              	ends
  1766                        ;
  1767                        ;BOOL find_window_caption(LPVOID ctx,LPVOID data)
  1768                        ;{
  1769                        	.line	143
  1770                        	.line	144
  1771                        	WINMAN
  1772                        	xdef	~~find_window_caption
  1773                        	func
  1774                        	.function	144
  1775                        ~~find_window_caption:
  1776                        	longa	on
  1777                        	longi	on
  1778 04:051B: 3B           	tsc
  1779 04:051C: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 37


  1780 04:051D: E9 05 00     	sbc	#L56
  1781 04:0520: 1B           	tcs
  1782 04:0521: 0B           	phd
  1783 04:0522: 5B           	tcd
  1784             00000004   ctx_0	set	4
  1785             00000008   data_0	set	8
  1786                        	.block	144
  1787                        ;	BOOL bRet = FALSE;
  1788                        ;
  1789                        ;	if(ctx && data)
  1790             00000000   bRet_1	set	0
  1791                        	.sym	bRet,0,14,1,8
  1792                        	.sym	ctx,4,129,6,32
  1793                        	.sym	data,8,129,6,32
  1794 04:0523: E2 20        	sep	#$20
  1795                        	longa	off
  1796 04:0525: 64 05        	stz	<L57+bRet_1
  1797 04:0527: C2 20        	rep	#$20
  1798                        	longa	on
  1799                        	.line	147
  1800                        ;	{
  1801 04:0529: A5 09        	lda	<L56+ctx_0
  1802 04:052B: 05 0B        	ora	<L56+ctx_0+2
  1803 04:052D: D0 03        	bne	L59
  1804 04:052F: 82 32 00     	brl	L10008
  1805                        L59:
  1806 04:0532: A5 0D        	lda	<L56+data_0
  1807 04:0534: 05 0F        	ora	<L56+data_0+2
  1808 04:0536: D0 03        	bne	L60
  1809 04:0538: 82 29 00     	brl	L10008
  1810                        L60:
  1811                        	.line	148
  1812                        ;		/*
  1813                        ;		k_debug_string("find_window_caption:foun
                    d  :[");
  1814                        ;		k_debug_string(((PWINDOW)data)->win_titl
                    e);
  1815                        ;		k_debug_string("]\r\n");
  1816                        ;
  1817                        ;		k_debug_string("find_window_caption:comp
                    are:[");
  1818                        ;		k_debug_string((LPCHAR)ctx);
  1819                        ;		k_debug_string("]\r\n");
  1820                        ;		*/
  1821                        ;		// cannot return the result of the compa
                    re, compiler gets confused
  1822                        ;        // return (strcmp((LPCHAR)ctx,((PWINDOW)d
                    ata)->win_title) == 0);
  1823                        ;		if(strcmp((LPCHAR)ctx,((PWINDOW)data)->w
                    in_title) == 0)
  1824                        	.line	160
  1825                        ;			bRet = TRUE;
  1826 04:053B: 18           	clc
  1827 04:053C: A9 D4 00     	lda	#$d4
  1828 04:053F: 65 0D        	adc	<L56+data_0
  1829 04:0541: 85 01        	sta	<R0
  1830 04:0543: A9 00 00     	lda	#$0
  1831 04:0546: 65 0F        	adc	<L56+data_0+2
  Thu Dec  3 2020 22:25                                                Page 38


  1832 04:0548: 85 03        	sta	<R0+2
  1833 04:054A: D4 03        	pei	<R0+2
  1834 04:054C: D4 01        	pei	<R0
  1835 04:054E: D4 0B        	pei	<L56+ctx_0+2
  1836 04:0550: D4 09        	pei	<L56+ctx_0
  1837 04:0552: 22 xx xx xx  	jsl	~~strcmp
  1838 04:0556: AA           	tax
  1839 04:0557: F0 03        	beq	L61
  1840 04:0559: 82 08 00     	brl	L10009
  1841                        L61:
  1842                        	.line	161
  1843 04:055C: E2 20        	sep	#$20
  1844                        	longa	off
  1845 04:055E: A9 01        	lda	#$1
  1846 04:0560: 85 05        	sta	<L57+bRet_1
  1847 04:0562: C2 20        	rep	#$20
  1848                        	longa	on
  1849                        ;
  1850                        ;		//k_debug_integer("COMPARE:",bRet );
  1851                        ;	}
  1852                        L10009:
  1853                        	.line	164
  1854                        ;
  1855                        ;	return bRet;
  1856                        L10008:
  1857                        	.line	166
  1858 04:0564: A5 05        	lda	<L57+bRet_1
  1859 04:0566: 29 FF 00     	and	#$ff
  1860                        L62:
  1861 04:0569: A8           	tay
  1862 04:056A: A5 07        	lda	<L56+2
  1863 04:056C: 85 0F        	sta	<L56+2+8
  1864 04:056E: A5 06        	lda	<L56+1
  1865 04:0570: 85 0E        	sta	<L56+1+8
  1866 04:0572: 2B           	pld
  1867 04:0573: 3B           	tsc
  1868 04:0574: 18           	clc
  1869 04:0575: 69 0D 00     	adc	#L56+8
  1870 04:0578: 1B           	tcs
  1871 04:0579: 98           	tya
  1872 04:057A: 6B           	rtl
  1873                        ;}
  1874                        	.line	167
  1875                        	.endblock	167
  1876             00000005   L56	equ	5
  1877             00000005   L57	equ	5
  1878 04:057B:              	ends
  1879                        	efunc
  1880                        	.endfunc	167,5,5
  1881                        	.line	167
  1882                        ;
  1883                        ;HWND k_user_findWindow(LPCSTR winTitle)
  1884                        ;{
  1885                        	.line	169
  1886                        	.line	170
  1887                        	WINMAN
  1888                        	xdef	~~k_user_findWindow
  1889                        	func
  Thu Dec  3 2020 22:25                                                Page 39


  1890                        	.function	170
  1891                        ~~k_user_findWindow:
  1892                        	longa	on
  1893                        	longi	on
  1894 04:057B: 3B           	tsc
  1895 04:057C: 38           	sec
  1896 04:057D: E9 08 00     	sbc	#L63
  1897 04:0580: 1B           	tcs
  1898 04:0581: 0B           	phd
  1899 04:0582: 5B           	tcd
  1900             00000004   winTitle_0	set	4
  1901                        	.block	170
  1902                        ;	PFXNODE node = NULL;
  1903                        ;	HWND hWnd = NULL;
  1904                        ;
  1905                        ;	node = k_nodelist_foreach_until_listdata(_k_wind
                    owManager_WindowObjectList,(LPVOID)winTitle,find_window_capt
                    ion);
  1906             00000000   node_1	set	0
  1907             00000004   hWnd_1	set	4
  1908                        	.sym	node,0,138,1,32,2
  1909                        	.sym	hWnd,4,129,1,32
  1910                        	.sym	winTitle,4,142,6,32
  1911 04:0583: 64 01        	stz	<L64+node_1
  1912 04:0585: 64 03        	stz	<L64+node_1+2
  1913 04:0587: 64 05        	stz	<L64+hWnd_1
  1914 04:0589: 64 07        	stz	<L64+hWnd_1+2
  1915                        	.line	174
  1916 04:058B: F4 04 00     	pea	#^~~find_window_caption
  1917 04:058E: F4 1B 05     	pea	#<~~find_window_caption
  1918 04:0591: D4 0E        	pei	<L63+winTitle_0+2
  1919 04:0593: D4 0C        	pei	<L63+winTitle_0
  1920 04:0595: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1921 04:0598: 48           	pha
  1922 04:0599: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1923 04:059C: 48           	pha
  1924 04:059D: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
  1925 04:05A1: 85 01        	sta	<L64+node_1
  1926 04:05A3: 86 03        	stx	<L64+node_1+2
  1927                        ;	if(node)
  1928                        	.line	175
  1929                        ;	{
  1930 04:05A5: A5 01        	lda	<L64+node_1
  1931 04:05A7: 05 03        	ora	<L64+node_1+2
  1932 04:05A9: D0 03        	bne	L66
  1933 04:05AB: 82 14 00     	brl	L10010
  1934                        L66:
  1935                        	.line	176
  1936                        ;		hWnd = k_getHandleFromWindow((PWINDOW)no
                    de->data);
  1937                        	.line	177
  1938 04:05AE: A0 04 00     	ldy	#$4
  1939 04:05B1: B7 01        	lda	[<L64+node_1],Y
  1940 04:05B3: 48           	pha
  1941 04:05B4: A0 02 00     	ldy	#$2
  1942 04:05B7: B7 01        	lda	[<L64+node_1],Y
  1943 04:05B9: 48           	pha
  1944 04:05BA: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  Thu Dec  3 2020 22:25                                                Page 40


  1945 04:05BE: 85 05        	sta	<L64+hWnd_1
  1946 04:05C0: 86 07        	stx	<L64+hWnd_1+2
  1947                        ;	}
  1948                        	.line	178
  1949                        ;	return hWnd;
  1950                        L10010:
  1951                        	.line	179
  1952 04:05C2: A6 07        	ldx	<L64+hWnd_1+2
  1953 04:05C4: A5 05        	lda	<L64+hWnd_1
  1954                        L67:
  1955 04:05C6: A8           	tay
  1956 04:05C7: A5 0A        	lda	<L63+2
  1957 04:05C9: 85 0E        	sta	<L63+2+4
  1958 04:05CB: A5 09        	lda	<L63+1
  1959 04:05CD: 85 0D        	sta	<L63+1+4
  1960 04:05CF: 2B           	pld
  1961 04:05D0: 3B           	tsc
  1962 04:05D1: 18           	clc
  1963 04:05D2: 69 0C 00     	adc	#L63+4
  1964 04:05D5: 1B           	tcs
  1965 04:05D6: 98           	tya
  1966 04:05D7: 6B           	rtl
  1967                        ;
  1968                        ;}
  1969                        	.line	181
  1970                        	.endblock	181
  1971             00000008   L63	equ	8
  1972             00000001   L64	equ	1
  1973 04:05D8:              	ends
  1974                        	efunc
  1975                        	.endfunc	181,1,8
  1976                        	.line	181
  1977                        ;
  1978                        ;HWND k_user_getDesktopWindow(void)
  1979                        ;{
  1980                        	.line	183
  1981                        	.line	184
  1982                        	WINMAN
  1983                        	xdef	~~k_user_getDesktopWindow
  1984                        	func
  1985                        	.function	184
  1986                        ~~k_user_getDesktopWindow:
  1987                        	longa	on
  1988                        	longi	on
  1989 04:05D8: 3B           	tsc
  1990 04:05D9: 38           	sec
  1991 04:05DA: E9 04 00     	sbc	#L68
  1992 04:05DD: 1B           	tcs
  1993 04:05DE: 0B           	phd
  1994 04:05DF: 5B           	tcd
  1995                        	.block	184
  1996                        ;	return k_user_findWindow("DesktopWindow");
  1997                        	.line	185
  1998 04:05E0: F4 xx xx     	pea	#^L55
  1999 04:05E3: F4 xx xx     	pea	#<L55
  2000 04:05E6: 22 7B 05 04  	jsl	~~k_user_findWindow
  2001 04:05EA: 85 01        	sta	<R0
  2002 04:05EC: 86 03        	stx	<R0+2
  Thu Dec  3 2020 22:25                                                Page 41


  2003 04:05EE: A6 03        	ldx	<R0+2
  2004 04:05F0: A5 01        	lda	<R0
  2005                        L71:
  2006 04:05F2: A8           	tay
  2007 04:05F3: 2B           	pld
  2008 04:05F4: 3B           	tsc
  2009 04:05F5: 18           	clc
  2010 04:05F6: 69 04 00     	adc	#L68
  2011 04:05F9: 1B           	tcs
  2012 04:05FA: 98           	tya
  2013 04:05FB: 6B           	rtl
  2014                        ;}
  2015                        	.line	186
  2016                        	.endblock	186
  2017             00000004   L68	equ	4
  2018             00000005   L69	equ	5
  2019 04:05FC:              	ends
  2020                        	efunc
  2021                        	.endfunc	186,5,4
  2022                        	.line	186
  2023                        	data
  2024                        L55:
  2025 00:0259: 44 65 73 6B  	db	$44,$65,$73,$6B,$74,$6F,$70,$57,$69,$6E,
                    $64,$6F,$77,$00
       00:025D: 74 6F 70 57 
       00:0261: 69 6E 64 6F 
       00:0265: 77 00 
  2026 00:0267:              	ends
  2027                        ;
  2028                        ;void k_user_CenterWindow(HWND hWnd)
  2029                        ;{
  2030                        	.line	188
  2031                        	.line	189
  2032                        	WINMAN
  2033                        	xdef	~~k_user_CenterWindow
  2034                        	func
  2035                        	.function	189
  2036                        ~~k_user_CenterWindow:
  2037                        	longa	on
  2038                        	longi	on
  2039 04:05FC: 3B           	tsc
  2040 04:05FD: 38           	sec
  2041 04:05FE: E9 10 00     	sbc	#L73
  2042 04:0601: 1B           	tcs
  2043 04:0602: 0B           	phd
  2044 04:0603: 5B           	tcd
  2045             00000004   hWnd_0	set	4
  2046                        	.block	189
  2047                        ;	PWINDOW pWin 	= NULL;
  2048                        ;	PWINDOW pParent = NULL;
  2049                        ;	int offX;
  2050                        ;	int offY;
  2051                        ;	if(hWnd!=NULL)
  2052             00000000   pWin_1	set	0
  2053             00000004   pParent_1	set	4
  2054             00000008   offX_1	set	8
  2055             0000000A   offY_1	set	10
  2056                        	.sym	pWin,0,138,1,32,27
  Thu Dec  3 2020 22:25                                                Page 42


  2057                        	.sym	pParent,4,138,1,32,27
  2058                        	.sym	offX,8,5,1,16
  2059                        	.sym	offY,10,5,1,16
  2060                        	.sym	hWnd,4,129,6,32
  2061 04:0604: 64 05        	stz	<L74+pWin_1
  2062 04:0606: 64 07        	stz	<L74+pWin_1+2
  2063 04:0608: 64 09        	stz	<L74+pParent_1
  2064 04:060A: 64 0B        	stz	<L74+pParent_1+2
  2065                        	.line	194
  2066                        ;	{
  2067 04:060C: A5 14        	lda	<L73+hWnd_0
  2068 04:060E: 05 16        	ora	<L73+hWnd_0+2
  2069 04:0610: D0 03        	bne	L76
  2070 04:0612: 82 A6 00     	brl	L10011
  2071                        L76:
  2072                        	.line	195
  2073                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2074                        	.line	196
  2075 04:0615: D4 16        	pei	<L73+hWnd_0+2
  2076 04:0617: D4 14        	pei	<L73+hWnd_0
  2077 04:0619: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  2078 04:061D: 85 05        	sta	<L74+pWin_1
  2079 04:061F: 86 07        	stx	<L74+pWin_1+2
  2080                        ;
  2081                        ;		if(pWin->pParentWindow)
  2082                        	.line	198
  2083                        ;		{
  2084 04:0621: A0 30 01     	ldy	#$130
  2085 04:0624: B7 05        	lda	[<L74+pWin_1],Y
  2086 04:0626: A0 32 01     	ldy	#$132
  2087 04:0629: 17 05        	ora	[<L74+pWin_1],Y
  2088 04:062B: D0 03        	bne	L77
  2089 04:062D: 82 33 00     	brl	L10012
  2090                        L77:
  2091                        	.line	199
  2092                        ;			pParent = k_getWindowFromHandle(
                    pWin->pParentWindow);
  2093                        	.line	200
  2094 04:0630: A0 32 01     	ldy	#$132
  2095 04:0633: B7 05        	lda	[<L74+pWin_1],Y
  2096 04:0635: 48           	pha
  2097 04:0636: A0 30 01     	ldy	#$130
  2098 04:0639: B7 05        	lda	[<L74+pWin_1],Y
  2099 04:063B: 48           	pha
  2100 04:063C: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  2101 04:0640: 85 09        	sta	<L74+pParent_1
  2102 04:0642: 86 0B        	stx	<L74+pParent_1+2
  2103                        ;
  2104                        ;			offX = pParent->clientRect.width
                    /2;
  2105                        	.line	202
  2106 04:0644: A0 1C 00     	ldy	#$1c
  2107 04:0647: B7 09        	lda	[<L74+pParent_1],Y
  2108 04:0649: A2 02 00     	ldx	#<$2
  2109                        	xref	~~~div
  2110 04:064C: 22 xx xx xx  	jsl	~~~div
  2111 04:0650: 85 0D        	sta	<L74+offX_1
  2112                        ;			offY = pParent->clientRect.heigh
  Thu Dec  3 2020 22:25                                                Page 43


                    t/2;
  2113                        	.line	203
  2114 04:0652: A0 1E 00     	ldy	#$1e
  2115 04:0655: B7 09        	lda	[<L74+pParent_1],Y
  2116 04:0657: A2 02 00     	ldx	#<$2
  2117                        	xref	~~~div
  2118 04:065A: 22 xx xx xx  	jsl	~~~div
  2119 04:065E: 85 0F        	sta	<L74+offY_1
  2120                        ;		}
  2121                        	.line	204
  2122                        ;		else
  2123 04:0660: 82 28 00     	brl	L10013
  2124                        L10012:
  2125                        ;		{
  2126                        	.line	206
  2127                        ;			offX = k_user_getSystemMetric(SM
                    _CXFULLSCREEN)/2;
  2128                        	.line	207
  2129 04:0663: F4 10 00     	pea	#<$10
  2130 04:0666: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  2131 04:066A: 85 01        	sta	<R0
  2132 04:066C: A5 01        	lda	<R0
  2133 04:066E: A2 02 00     	ldx	#<$2
  2134                        	xref	~~~div
  2135 04:0671: 22 xx xx xx  	jsl	~~~div
  2136 04:0675: 85 0D        	sta	<L74+offX_1
  2137                        ;			offY = k_user_getSystemMetric(SM
                    _CYFULLSCREEN)/2;
  2138                        	.line	208
  2139 04:0677: F4 11 00     	pea	#<$11
  2140 04:067A: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  2141 04:067E: 85 01        	sta	<R0
  2142 04:0680: A5 01        	lda	<R0
  2143 04:0682: A2 02 00     	ldx	#<$2
  2144                        	xref	~~~div
  2145 04:0685: 22 xx xx xx  	jsl	~~~div
  2146 04:0689: 85 0F        	sta	<L74+offY_1
  2147                        ;
  2148                        ;		}
  2149                        	.line	210
  2150                        L10013:
  2151                        ;
  2152                        ;
  2153                        ;		k_user_MoveWindow(hWnd,
  2154                        	.line	213
  2155                        ;						  offX -
                     pWin->win_width/2,
  2156                        ;						  offY -
                     pWin->win_height/2);
  2157 04:068B: A0 0E 00     	ldy	#$e
  2158 04:068E: B7 05        	lda	[<L74+pWin_1],Y
  2159 04:0690: A2 02 00     	ldx	#<$2
  2160                        	xref	~~~div
  2161 04:0693: 22 xx xx xx  	jsl	~~~div
  2162 04:0697: 85 01        	sta	<R0
  2163 04:0699: 38           	sec
  2164 04:069A: A5 0F        	lda	<L74+offY_1
  2165 04:069C: E5 01        	sbc	<R0
  Thu Dec  3 2020 22:25                                                Page 44


  2166 04:069E: 48           	pha
  2167 04:069F: A0 0C 00     	ldy	#$c
  2168 04:06A2: B7 05        	lda	[<L74+pWin_1],Y
  2169 04:06A4: A2 02 00     	ldx	#<$2
  2170                        	xref	~~~div
  2171 04:06A7: 22 xx xx xx  	jsl	~~~div
  2172 04:06AB: 85 01        	sta	<R0
  2173 04:06AD: 38           	sec
  2174 04:06AE: A5 0D        	lda	<L74+offX_1
  2175 04:06B0: E5 01        	sbc	<R0
  2176 04:06B2: 48           	pha
  2177 04:06B3: D4 16        	pei	<L73+hWnd_0+2
  2178 04:06B5: D4 14        	pei	<L73+hWnd_0
  2179 04:06B7: 22 C3 07 04  	jsl	~~k_user_MoveWindow
  2180                        ;
  2181                        ;	}
  2182                        	.line	217
  2183                        ;
  2184                        ;
  2185                        ;
  2186                        ;}
  2187                        L10011:
  2188                        	.line	221
  2189                        L78:
  2190 04:06BB: A5 12        	lda	<L73+2
  2191 04:06BD: 85 16        	sta	<L73+2+4
  2192 04:06BF: A5 11        	lda	<L73+1
  2193 04:06C1: 85 15        	sta	<L73+1+4
  2194 04:06C3: 2B           	pld
  2195 04:06C4: 3B           	tsc
  2196 04:06C5: 18           	clc
  2197 04:06C6: 69 14 00     	adc	#L73+4
  2198 04:06C9: 1B           	tcs
  2199 04:06CA: 6B           	rtl
  2200                        	.endblock	221
  2201             00000010   L73	equ	16
  2202             00000005   L74	equ	5
  2203 04:06CB:              	ends
  2204                        	efunc
  2205                        	.endfunc	221,5,16
  2206                        	.line	221
  2207                        ;
  2208                        ;void k_user_CenterBottomWindow(HWND hWnd)
  2209                        ;{
  2210                        	.line	223
  2211                        	.line	224
  2212                        	WINMAN
  2213                        	xdef	~~k_user_CenterBottomWindow
  2214                        	func
  2215                        	.function	224
  2216                        ~~k_user_CenterBottomWindow:
  2217                        	longa	on
  2218                        	longi	on
  2219 04:06CB: 3B           	tsc
  2220 04:06CC: 38           	sec
  2221 04:06CD: E9 16 00     	sbc	#L79
  2222 04:06D0: 1B           	tcs
  2223 04:06D1: 0B           	phd
  Thu Dec  3 2020 22:25                                                Page 45


  2224 04:06D2: 5B           	tcd
  2225             00000004   hWnd_0	set	4
  2226                        	.block	224
  2227                        ;	/*
  2228                        ;	PWINDOW pWin = NULL;
  2229                        ;
  2230                        ;	if(hWnd!=NULL)
  2231                        ;	{
  2232                        ;		pWin = k_getWindowFromHandle(hWnd);
  2233                        ;
  2234                        ;		k_user_MoveWindow(hWnd,
  2235                        ;				          k_user_getSyst
                    emMetric(SM_CXFULLSCREEN)/2 - pWin->win_width/2,
  2236                        ;						  k_user
                    _getSystemMetric(SM_CYFULLSCREEN) - (pWin->win_height + 4));
  2237                        ;	}
  2238                        ;	*/
  2239                        ;
  2240                        ;	PWINDOW pWin 	= NULL;
  2241                        ;	PWINDOW pParent = NULL;
  2242                        ;	int bottomBorder;
  2243                        ;	int offX;
  2244                        ;	int offY;
  2245                        ;	if(hWnd!=NULL)
  2246             00000000   pWin_1	set	0
  2247             00000004   pParent_1	set	4
  2248             00000008   bottomBorder_1	set	8
  2249             0000000A   offX_1	set	10
  2250             0000000C   offY_1	set	12
  2251                        	.sym	pWin,0,138,1,32,27
  2252                        	.sym	pParent,4,138,1,32,27
  2253                        	.sym	bottomBorder,8,5,1,16
  2254                        	.sym	offX,10,5,1,16
  2255                        	.sym	offY,12,5,1,16
  2256                        	.sym	hWnd,4,129,6,32
  2257 04:06D3: 64 09        	stz	<L80+pWin_1
  2258 04:06D5: 64 0B        	stz	<L80+pWin_1+2
  2259 04:06D7: 64 0D        	stz	<L80+pParent_1
  2260 04:06D9: 64 0F        	stz	<L80+pParent_1+2
  2261                        	.line	243
  2262                        ;	{
  2263 04:06DB: A5 1A        	lda	<L79+hWnd_0
  2264 04:06DD: 05 1C        	ora	<L79+hWnd_0+2
  2265 04:06DF: D0 03        	bne	L82
  2266 04:06E1: 82 CF 00     	brl	L10014
  2267                        L82:
  2268                        	.line	244
  2269                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2270                        	.line	245
  2271 04:06E4: D4 1C        	pei	<L79+hWnd_0+2
  2272 04:06E6: D4 1A        	pei	<L79+hWnd_0
  2273 04:06E8: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  2274 04:06EC: 85 09        	sta	<L80+pWin_1
  2275 04:06EE: 86 0B        	stx	<L80+pWin_1+2
  2276                        ;
  2277                        ;		if(pWin->pParentWindow)
  2278                        	.line	247
  2279                        ;		{
  Thu Dec  3 2020 22:25                                                Page 46


  2280 04:06F0: A0 30 01     	ldy	#$130
  2281 04:06F3: B7 09        	lda	[<L80+pWin_1],Y
  2282 04:06F5: A0 32 01     	ldy	#$132
  2283 04:06F8: 17 09        	ora	[<L80+pWin_1],Y
  2284 04:06FA: D0 03        	bne	L83
  2285 04:06FC: 82 2C 00     	brl	L10015
  2286                        L83:
  2287                        	.line	248
  2288                        ;			pParent = k_getWindowFromHandle(
                    pWin->pParentWindow);
  2289                        	.line	249
  2290 04:06FF: A0 32 01     	ldy	#$132
  2291 04:0702: B7 09        	lda	[<L80+pWin_1],Y
  2292 04:0704: 48           	pha
  2293 04:0705: A0 30 01     	ldy	#$130
  2294 04:0708: B7 09        	lda	[<L80+pWin_1],Y
  2295 04:070A: 48           	pha
  2296 04:070B: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  2297 04:070F: 85 0D        	sta	<L80+pParent_1
  2298 04:0711: 86 0F        	stx	<L80+pParent_1+2
  2299                        ;
  2300                        ;			offX = pParent->clientRect.width
                    /2;
  2301                        	.line	251
  2302 04:0713: A0 1C 00     	ldy	#$1c
  2303 04:0716: B7 0D        	lda	[<L80+pParent_1],Y
  2304 04:0718: A2 02 00     	ldx	#<$2
  2305                        	xref	~~~div
  2306 04:071B: 22 xx xx xx  	jsl	~~~div
  2307 04:071F: 85 13        	sta	<L80+offX_1
  2308                        ;			offY = pParent->clientRect.heigh
                    t;
  2309                        	.line	252
  2310 04:0721: A0 1E 00     	ldy	#$1e
  2311 04:0724: B7 0D        	lda	[<L80+pParent_1],Y
  2312 04:0726: 85 15        	sta	<L80+offY_1
  2313                        ;		}
  2314                        	.line	253
  2315                        ;		else
  2316 04:0728: 82 1D 00     	brl	L10016
  2317                        L10015:
  2318                        ;		{
  2319                        	.line	255
  2320                        ;			offX = k_user_getSystemMetric(SM
                    _CXFULLSCREEN)/2;
  2321                        	.line	256
  2322 04:072B: F4 10 00     	pea	#<$10
  2323 04:072E: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  2324 04:0732: 85 01        	sta	<R0
  2325 04:0734: A5 01        	lda	<R0
  2326 04:0736: A2 02 00     	ldx	#<$2
  2327                        	xref	~~~div
  2328 04:0739: 22 xx xx xx  	jsl	~~~div
  2329 04:073D: 85 13        	sta	<L80+offX_1
  2330                        ;			offY = k_user_getSystemMetric(SM
                    _CYFULLSCREEN);
  2331                        	.line	257
  2332 04:073F: F4 11 00     	pea	#<$11
  Thu Dec  3 2020 22:25                                                Page 47


  2333 04:0742: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  2334 04:0746: 85 15        	sta	<L80+offY_1
  2335                        ;
  2336                        ;		}
  2337                        	.line	259
  2338                        L10016:
  2339                        ;
  2340                        ;		if(pParent && (pParent->style & FXWS_DLG
                    FRAME))
  2341                        	.line	261
  2342                        ;			bottomBorder = k_user_getSystemM
                    etric(SM_CYDLGFRAME);
  2343 04:0748: A5 0D        	lda	<L80+pParent_1
  2344 04:074A: 05 0F        	ora	<L80+pParent_1+2
  2345 04:074C: D0 03        	bne	L84
  2346 04:074E: 82 19 00     	brl	L10017
  2347                        L84:
  2348 04:0751: A0 04 00     	ldy	#$4
  2349 04:0754: B7 0D        	lda	[<L80+pParent_1],Y
  2350 04:0756: 29 04 00     	and	#^$40000
  2351 04:0759: D0 03        	bne	L85
  2352 04:075B: 82 0C 00     	brl	L10017
  2353                        L85:
  2354                        	.line	262
  2355 04:075E: F4 08 00     	pea	#<$8
  2356 04:0761: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  2357 04:0765: 85 11        	sta	<L80+bottomBorder_1
  2358                        ;		else
  2359 04:0767: 82 09 00     	brl	L10018
  2360                        L10017:
  2361                        ;			bottomBorder = k_user_getSystemM
                    etric(SM_CYBORDER);
  2362                        	.line	264
  2363 04:076A: F4 06 00     	pea	#<$6
  2364 04:076D: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  2365 04:0771: 85 11        	sta	<L80+bottomBorder_1
  2366                        L10018:
  2367                        ;
  2368                        ;		k_debug_integer("k_user_CenterBottomWind
                    ow:bottomBorder:",bottomBorder);
  2369                        	.line	266
  2370 04:0773: D4 11        	pei	<L80+bottomBorder_1
  2371 04:0775: F4 xx xx     	pea	#^L72
  2372 04:0778: F4 xx xx     	pea	#<L72
  2373 04:077B: 22 xx xx xx  	jsl	~~k_debug_integer
  2374                        ;
  2375                        ;		k_user_MoveWindow(hWnd,
  2376                        	.line	268
  2377                        ;						  offX -
                     pWin->win_width/2,
  2378                        ;						  offY -
                     (pWin->win_height + bottomBorder + 2));
  2379 04:077F: 18           	clc
  2380 04:0780: A0 0E 00     	ldy	#$e
  2381 04:0783: B7 09        	lda	[<L80+pWin_1],Y
  2382 04:0785: 65 11        	adc	<L80+bottomBorder_1
  2383 04:0787: 85 01        	sta	<R0
  2384 04:0789: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 48


  2385 04:078A: A9 02 00     	lda	#$2
  2386 04:078D: 65 01        	adc	<R0
  2387 04:078F: 85 05        	sta	<R1
  2388 04:0791: 38           	sec
  2389 04:0792: A5 15        	lda	<L80+offY_1
  2390 04:0794: E5 05        	sbc	<R1
  2391 04:0796: 48           	pha
  2392 04:0797: A0 0C 00     	ldy	#$c
  2393 04:079A: B7 09        	lda	[<L80+pWin_1],Y
  2394 04:079C: A2 02 00     	ldx	#<$2
  2395                        	xref	~~~div
  2396 04:079F: 22 xx xx xx  	jsl	~~~div
  2397 04:07A3: 85 01        	sta	<R0
  2398 04:07A5: 38           	sec
  2399 04:07A6: A5 13        	lda	<L80+offX_1
  2400 04:07A8: E5 01        	sbc	<R0
  2401 04:07AA: 48           	pha
  2402 04:07AB: D4 1C        	pei	<L79+hWnd_0+2
  2403 04:07AD: D4 1A        	pei	<L79+hWnd_0
  2404 04:07AF: 22 C3 07 04  	jsl	~~k_user_MoveWindow
  2405                        ;
  2406                        ;	}
  2407                        	.line	272
  2408                        ;}
  2409                        L10014:
  2410                        	.line	273
  2411                        L86:
  2412 04:07B3: A5 18        	lda	<L79+2
  2413 04:07B5: 85 1C        	sta	<L79+2+4
  2414 04:07B7: A5 17        	lda	<L79+1
  2415 04:07B9: 85 1B        	sta	<L79+1+4
  2416 04:07BB: 2B           	pld
  2417 04:07BC: 3B           	tsc
  2418 04:07BD: 18           	clc
  2419 04:07BE: 69 1A 00     	adc	#L79+4
  2420 04:07C1: 1B           	tcs
  2421 04:07C2: 6B           	rtl
  2422                        	.endblock	273
  2423             00000016   L79	equ	22
  2424             00000009   L80	equ	9
  2425 04:07C3:              	ends
  2426                        	efunc
  2427                        	.endfunc	273,9,22
  2428                        	.line	273
  2429                        	data
  2430                        L72:
  2431 00:0267: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$65,$6E,
                    $74,$65,$72,$42,$6F
       00:026B: 65 72 5F 43 
       00:026F: 65 6E 74 65 
       00:0273: 72 42 6F 
  2432 00:0276: 74 74 6F 6D  	db	$74,$74,$6F,$6D,$57,$69,$6E,$64,$6F,$77,
                    $3A,$62,$6F,$74,$74
       00:027A: 57 69 6E 64 
       00:027E: 6F 77 3A 62 
       00:0282: 6F 74 74 
  2433 00:0285: 6F 6D 42 6F  	db	$6F,$6D,$42,$6F,$72,$64,$65,$72,$3A,$00
       00:0289: 72 64 65 72 
  Thu Dec  3 2020 22:25                                                Page 49


       00:028D: 3A 00 
  2434 00:028F:              	ends
  2435                        ;
  2436                        ;
  2437                        ;void k_user_MoveWindow(HWND hWnd, int x,int y)
  2438                        ;{
  2439                        	.line	276
  2440                        	.line	277
  2441                        	WINMAN
  2442                        	xdef	~~k_user_MoveWindow
  2443                        	func
  2444                        	.function	277
  2445                        ~~k_user_MoveWindow:
  2446                        	longa	on
  2447                        	longi	on
  2448 04:07C3: 3B           	tsc
  2449 04:07C4: 38           	sec
  2450 04:07C5: E9 10 00     	sbc	#L88
  2451 04:07C8: 1B           	tcs
  2452 04:07C9: 0B           	phd
  2453 04:07CA: 5B           	tcd
  2454             00000004   hWnd_0	set	4
  2455             00000008   x_0	set	8
  2456             0000000A   y_0	set	10
  2457                        	.block	277
  2458                        ;	PWINDOW pWin 	= NULL;
  2459                        ;	PWINDOW pParent = NULL;
  2460                        ;
  2461                        ;	if(hWnd!=NULL)
  2462             00000000   pWin_1	set	0
  2463             00000004   pParent_1	set	4
  2464                        	.sym	pWin,0,138,1,32,27
  2465                        	.sym	pParent,4,138,1,32,27
  2466                        	.sym	hWnd,4,129,6,32
  2467                        	.sym	x,8,5,6,16
  2468                        	.sym	y,10,5,6,16
  2469 04:07CB: 64 09        	stz	<L89+pWin_1
  2470 04:07CD: 64 0B        	stz	<L89+pWin_1+2
  2471 04:07CF: 64 0D        	stz	<L89+pParent_1
  2472 04:07D1: 64 0F        	stz	<L89+pParent_1+2
  2473                        	.line	281
  2474                        ;	{
  2475 04:07D3: A5 14        	lda	<L88+hWnd_0
  2476 04:07D5: 05 16        	ora	<L88+hWnd_0+2
  2477 04:07D7: D0 03        	bne	L91
  2478 04:07D9: 82 EC 01     	brl	L10019
  2479                        L91:
  2480                        	.line	282
  2481                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2482                        	.line	283
  2483 04:07DC: D4 16        	pei	<L88+hWnd_0+2
  2484 04:07DE: D4 14        	pei	<L88+hWnd_0
  2485 04:07E0: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  2486 04:07E4: 85 09        	sta	<L89+pWin_1
  2487 04:07E6: 86 0B        	stx	<L89+pWin_1+2
  2488                        ;		pParent = pWin->pParentWindow;
  2489                        	.line	284
  2490 04:07E8: A0 30 01     	ldy	#$130
  Thu Dec  3 2020 22:25                                                Page 50


  2491 04:07EB: B7 09        	lda	[<L89+pWin_1],Y
  2492 04:07ED: 85 0D        	sta	<L89+pParent_1
  2493 04:07EF: A0 32 01     	ldy	#$132
  2494 04:07F2: B7 09        	lda	[<L89+pWin_1],Y
  2495 04:07F4: 85 0F        	sta	<L89+pParent_1+2
  2496                        ;
  2497                        ;
  2498                        ;		k_debug_pointer("k_user_MoveWindow:pPare
                    nt:",pParent);
  2499                        	.line	287
  2500 04:07F6: D4 0F        	pei	<L89+pParent_1+2
  2501 04:07F8: D4 0D        	pei	<L89+pParent_1
  2502 04:07FA: F4 xx xx     	pea	#^L87
  2503 04:07FD: F4 xx xx     	pea	#<L87
  2504 04:0800: 22 xx xx xx  	jsl	~~k_debug_pointer
  2505                        ;		k_debug_integer("k_user_MoveWindow:pWin-
                    >win_x:",pWin->win_x);
  2506                        	.line	288
  2507 04:0804: A0 08 00     	ldy	#$8
  2508 04:0807: B7 09        	lda	[<L89+pWin_1],Y
  2509 04:0809: 48           	pha
  2510 04:080A: F4 xx xx     	pea	#^L87+27
  2511 04:080D: F4 xx xx     	pea	#<L87+27
  2512 04:0810: 22 xx xx xx  	jsl	~~k_debug_integer
  2513                        ;		k_debug_integer("k_user_MoveWindow:pWin-
                    >win_y:",pWin->win_y);
  2514                        	.line	289
  2515 04:0814: A0 0A 00     	ldy	#$a
  2516 04:0817: B7 09        	lda	[<L89+pWin_1],Y
  2517 04:0819: 48           	pha
  2518 04:081A: F4 xx xx     	pea	#^L87+58
  2519 04:081D: F4 xx xx     	pea	#<L87+58
  2520 04:0820: 22 xx xx xx  	jsl	~~k_debug_integer
  2521                        ;		k_debug_integer("k_user_MoveWindow:x:",x
                    );
  2522                        	.line	290
  2523 04:0824: D4 18        	pei	<L88+x_0
  2524 04:0826: F4 xx xx     	pea	#^L87+89
  2525 04:0829: F4 xx xx     	pea	#<L87+89
  2526 04:082C: 22 xx xx xx  	jsl	~~k_debug_integer
  2527                        ;		k_debug_integer("k_user_MoveWindow:y:",y
                    );
  2528                        	.line	291
  2529 04:0830: D4 1A        	pei	<L88+y_0
  2530 04:0832: F4 xx xx     	pea	#^L87+110
  2531 04:0835: F4 xx xx     	pea	#<L87+110
  2532 04:0838: 22 xx xx xx  	jsl	~~k_debug_integer
  2533                        ;
  2534                        ;		k_debug_rect(pWin->win_title,&pWin->clie
                    ntRect);
  2535                        	.line	293
  2536 04:083C: 18           	clc
  2537 04:083D: A9 18 00     	lda	#$18
  2538 04:0840: 65 09        	adc	<L89+pWin_1
  2539 04:0842: 85 01        	sta	<R0
  2540 04:0844: A9 00 00     	lda	#$0
  2541 04:0847: 65 0B        	adc	<L89+pWin_1+2
  2542 04:0849: 85 03        	sta	<R0+2
  Thu Dec  3 2020 22:25                                                Page 51


  2543 04:084B: D4 03        	pei	<R0+2
  2544 04:084D: D4 01        	pei	<R0
  2545 04:084F: 18           	clc
  2546 04:0850: A9 D4 00     	lda	#$d4
  2547 04:0853: 65 09        	adc	<L89+pWin_1
  2548 04:0855: 85 05        	sta	<R1
  2549 04:0857: A9 00 00     	lda	#$0
  2550 04:085A: 65 0B        	adc	<L89+pWin_1+2
  2551 04:085C: 85 07        	sta	<R1+2
  2552 04:085E: D4 07        	pei	<R1+2
  2553 04:0860: D4 05        	pei	<R1
  2554 04:0862: 22 xx xx xx  	jsl	~~k_debug_rect
  2555                        ;
  2556                        ;		if(pParent && (k_getHandleFromWindow(pPa
                    rent)!=k_user_getDesktopWindow()))
  2557                        	.line	295
  2558                        ;		{
  2559 04:0866: A5 0D        	lda	<L89+pParent_1
  2560 04:0868: 05 0F        	ora	<L89+pParent_1+2
  2561 04:086A: D0 03        	bne	L92
  2562 04:086C: 82 9E 00     	brl	L10020
  2563                        L92:
  2564 04:086F: 22 D8 05 04  	jsl	~~k_user_getDesktopWindow
  2565 04:0873: 85 01        	sta	<R0
  2566 04:0875: 86 03        	stx	<R0+2
  2567 04:0877: D4 0F        	pei	<L89+pParent_1+2
  2568 04:0879: D4 0D        	pei	<L89+pParent_1
  2569 04:087B: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  2570 04:087F: 85 05        	sta	<R1
  2571 04:0881: 86 07        	stx	<R1+2
  2572 04:0883: A5 05        	lda	<R1
  2573 04:0885: C5 01        	cmp	<R0
  2574 04:0887: D0 04        	bne	L93
  2575 04:0889: A5 07        	lda	<R1+2
  2576 04:088B: C5 03        	cmp	<R0+2
  2577                        L93:
  2578 04:088D: D0 03        	bne	L94
  2579 04:088F: 82 7B 00     	brl	L10020
  2580                        L94:
  2581                        	.line	296
  2582                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  2583                        	.line	297
  2584 04:0892: F4 01 00     	pea	#<$1
  2585 04:0895: F4 00 00     	pea	#<$0
  2586 04:0898: A0 0E 00     	ldy	#$e
  2587 04:089B: B7 09        	lda	[<L89+pWin_1],Y
  2588 04:089D: 48           	pha
  2589 04:089E: A0 0C 00     	ldy	#$c
  2590 04:08A1: B7 09        	lda	[<L89+pWin_1],Y
  2591 04:08A3: 48           	pha
  2592 04:08A4: A0 00 00     	ldy	#$0
  2593 04:08A7: 5A           	phy
  2594 04:08A8: A0 0A 00     	ldy	#$a
  2595 04:08AB: B7 09        	lda	[<L89+pWin_1],Y
  2596 04:08AD: 7A           	ply
  2597 04:08AE: 2A           	rol	A
  2598 04:08AF: 6A           	ror	A
  Thu Dec  3 2020 22:25                                                Page 52


  2599 04:08B0: 10 01        	bpl	L95
  2600 04:08B2: 88           	dey
  2601                        L95:
  2602 04:08B3: 85 01        	sta	<R0
  2603 04:08B5: 84 03        	sty	<R0+2
  2604 04:08B7: D4 03        	pei	<R0+2
  2605 04:08B9: D4 01        	pei	<R0
  2606 04:08BB: A0 00 00     	ldy	#$0
  2607 04:08BE: 5A           	phy
  2608 04:08BF: A0 08 00     	ldy	#$8
  2609 04:08C2: B7 09        	lda	[<L89+pWin_1],Y
  2610 04:08C4: 7A           	ply
  2611 04:08C5: 2A           	rol	A
  2612 04:08C6: 6A           	ror	A
  2613 04:08C7: 10 01        	bpl	L96
  2614 04:08C9: 88           	dey
  2615                        L96:
  2616 04:08CA: 85 05        	sta	<R1
  2617 04:08CC: 84 07        	sty	<R1+2
  2618 04:08CE: D4 07        	pei	<R1+2
  2619 04:08D0: D4 05        	pei	<R1
  2620 04:08D2: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  2621                        ;
  2622                        ;			pWin->win_x = pParent->clientRec
                    t.x + x;
  2623                        	.line	299
  2624 04:08D6: 18           	clc
  2625 04:08D7: A0 18 00     	ldy	#$18
  2626 04:08DA: B7 0D        	lda	[<L89+pParent_1],Y
  2627 04:08DC: 65 18        	adc	<L88+x_0
  2628 04:08DE: A0 08 00     	ldy	#$8
  2629 04:08E1: 97 09        	sta	[<L89+pWin_1],Y
  2630                        ;			pWin->win_y = pParent->clientRec
                    t.y + y;
  2631                        	.line	300
  2632 04:08E3: 18           	clc
  2633 04:08E4: A0 1A 00     	ldy	#$1a
  2634 04:08E7: B7 0D        	lda	[<L89+pParent_1],Y
  2635 04:08E9: 65 1A        	adc	<L88+y_0
  2636 04:08EB: A0 0A 00     	ldy	#$a
  2637 04:08EE: 97 09        	sta	[<L89+pWin_1],Y
  2638                        ;			pWin->clientRect.x 		
                    = pWin->clientRect.x + x;
  2639                        	.line	301
  2640 04:08F0: 18           	clc
  2641 04:08F1: A0 18 00     	ldy	#$18
  2642 04:08F4: B7 09        	lda	[<L89+pWin_1],Y
  2643 04:08F6: 65 18        	adc	<L88+x_0
  2644 04:08F8: A0 18 00     	ldy	#$18
  2645 04:08FB: 97 09        	sta	[<L89+pWin_1],Y
  2646                        ;			pWin->clientRect.y 		
                    = pWin->clientRect.y + y;
  2647                        	.line	302
  2648 04:08FD: 18           	clc
  2649 04:08FE: A0 1A 00     	ldy	#$1a
  2650 04:0901: B7 09        	lda	[<L89+pWin_1],Y
  2651 04:0903: 65 1A        	adc	<L88+y_0
  2652 04:0905: A0 1A 00     	ldy	#$1a
  Thu Dec  3 2020 22:25                                                Page 53


  2653 04:0908: 97 09        	sta	[<L89+pWin_1],Y
  2654                        ;
  2655                        ;		}
  2656                        	.line	304
  2657                        ;		else
  2658 04:090A: 82 66 00     	brl	L10021
  2659                        L10020:
  2660                        ;		{
  2661                        	.line	306
  2662                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  2663                        	.line	307
  2664 04:090D: F4 01 00     	pea	#<$1
  2665 04:0910: F4 00 00     	pea	#<$0
  2666 04:0913: A0 0E 00     	ldy	#$e
  2667 04:0916: B7 09        	lda	[<L89+pWin_1],Y
  2668 04:0918: 48           	pha
  2669 04:0919: A0 0C 00     	ldy	#$c
  2670 04:091C: B7 09        	lda	[<L89+pWin_1],Y
  2671 04:091E: 48           	pha
  2672 04:091F: A0 00 00     	ldy	#$0
  2673 04:0922: 5A           	phy
  2674 04:0923: A0 0A 00     	ldy	#$a
  2675 04:0926: B7 09        	lda	[<L89+pWin_1],Y
  2676 04:0928: 7A           	ply
  2677 04:0929: 2A           	rol	A
  2678 04:092A: 6A           	ror	A
  2679 04:092B: 10 01        	bpl	L97
  2680 04:092D: 88           	dey
  2681                        L97:
  2682 04:092E: 85 01        	sta	<R0
  2683 04:0930: 84 03        	sty	<R0+2
  2684 04:0932: D4 03        	pei	<R0+2
  2685 04:0934: D4 01        	pei	<R0
  2686 04:0936: A0 00 00     	ldy	#$0
  2687 04:0939: 5A           	phy
  2688 04:093A: A0 08 00     	ldy	#$8
  2689 04:093D: B7 09        	lda	[<L89+pWin_1],Y
  2690 04:093F: 7A           	ply
  2691 04:0940: 2A           	rol	A
  2692 04:0941: 6A           	ror	A
  2693 04:0942: 10 01        	bpl	L98
  2694 04:0944: 88           	dey
  2695                        L98:
  2696 04:0945: 85 05        	sta	<R1
  2697 04:0947: 84 07        	sty	<R1+2
  2698 04:0949: D4 07        	pei	<R1+2
  2699 04:094B: D4 05        	pei	<R1
  2700 04:094D: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  2701                        ;
  2702                        ;			pWin->win_x = x;
  2703                        	.line	309
  2704 04:0951: A5 18        	lda	<L88+x_0
  2705 04:0953: A0 08 00     	ldy	#$8
  2706 04:0956: 97 09        	sta	[<L89+pWin_1],Y
  2707                        ;			pWin->win_y = y;
  2708                        	.line	310
  2709 04:0958: A5 1A        	lda	<L88+y_0
  Thu Dec  3 2020 22:25                                                Page 54


  2710 04:095A: A0 0A 00     	ldy	#$a
  2711 04:095D: 97 09        	sta	[<L89+pWin_1],Y
  2712                        ;			pWin->clientRect.x 	= pWin->
                    win_x;
  2713                        	.line	311
  2714 04:095F: A0 08 00     	ldy	#$8
  2715 04:0962: B7 09        	lda	[<L89+pWin_1],Y
  2716 04:0964: A0 18 00     	ldy	#$18
  2717 04:0967: 97 09        	sta	[<L89+pWin_1],Y
  2718                        ;			pWin->clientRect.y 	= pWin->
                    win_y;
  2719                        	.line	312
  2720 04:0969: A0 0A 00     	ldy	#$a
  2721 04:096C: B7 09        	lda	[<L89+pWin_1],Y
  2722 04:096E: A0 1A 00     	ldy	#$1a
  2723 04:0971: 97 09        	sta	[<L89+pWin_1],Y
  2724                        ;		}
  2725                        	.line	313
  2726                        L10021:
  2727                        ;
  2728                        ;		((PCLICKABLE)pWin->clickable)->area.x 	
                    	= pWin->win_x;
  2729                        	.line	315
  2730 04:0973: A0 D0 00     	ldy	#$d0
  2731 04:0976: B7 09        	lda	[<L89+pWin_1],Y
  2732 04:0978: 85 01        	sta	<R0
  2733 04:097A: A0 D2 00     	ldy	#$d2
  2734 04:097D: B7 09        	lda	[<L89+pWin_1],Y
  2735 04:097F: 85 03        	sta	<R0+2
  2736 04:0981: A0 08 00     	ldy	#$8
  2737 04:0984: B7 09        	lda	[<L89+pWin_1],Y
  2738 04:0986: 87 01        	sta	[<R0]
  2739                        ;		((PCLICKABLE)pWin->clickable)->area.y 	
                    	= pWin->win_y;
  2740                        	.line	316
  2741 04:0988: A0 D0 00     	ldy	#$d0
  2742 04:098B: B7 09        	lda	[<L89+pWin_1],Y
  2743 04:098D: 85 01        	sta	<R0
  2744 04:098F: A0 D2 00     	ldy	#$d2
  2745 04:0992: B7 09        	lda	[<L89+pWin_1],Y
  2746 04:0994: 85 03        	sta	<R0+2
  2747 04:0996: A0 0A 00     	ldy	#$a
  2748 04:0999: B7 09        	lda	[<L89+pWin_1],Y
  2749 04:099B: A0 02 00     	ldy	#$2
  2750 04:099E: 97 01        	sta	[<R0],Y
  2751                        ;
  2752                        ;		k_send_window_message(hWnd,FX_DRAW_NONCL
                    IENT,NULL,0);
  2753                        	.line	318
  2754 04:09A0: F4 00 00     	pea	#<$0
  2755 04:09A3: F4 00 00     	pea	#^$0
  2756 04:09A6: F4 00 00     	pea	#<$0
  2757 04:09A9: F4 01 FB     	pea	#<$fb01
  2758 04:09AC: D4 16        	pei	<L88+hWnd_0+2
  2759 04:09AE: D4 14        	pei	<L88+hWnd_0
  2760 04:09B0: 22 xx xx xx  	jsl	~~k_send_window_message
  2761                        ;		k_send_window_message(hWnd,FX_DRAW_WINDO
                    W,NULL,0);
  Thu Dec  3 2020 22:25                                                Page 55


  2762                        	.line	319
  2763 04:09B4: F4 00 00     	pea	#<$0
  2764 04:09B7: F4 00 00     	pea	#^$0
  2765 04:09BA: F4 00 00     	pea	#<$0
  2766 04:09BD: F4 00 FB     	pea	#<$fb00
  2767 04:09C0: D4 16        	pei	<L88+hWnd_0+2
  2768 04:09C2: D4 14        	pei	<L88+hWnd_0
  2769 04:09C4: 22 xx xx xx  	jsl	~~k_send_window_message
  2770                        ;	}
  2771                        	.line	320
  2772                        ;
  2773                        ;}
  2774                        L10019:
  2775                        	.line	322
  2776                        L99:
  2777 04:09C8: A5 12        	lda	<L88+2
  2778 04:09CA: 85 1A        	sta	<L88+2+8
  2779 04:09CC: A5 11        	lda	<L88+1
  2780 04:09CE: 85 19        	sta	<L88+1+8
  2781 04:09D0: 2B           	pld
  2782 04:09D1: 3B           	tsc
  2783 04:09D2: 18           	clc
  2784 04:09D3: 69 18 00     	adc	#L88+8
  2785 04:09D6: 1B           	tcs
  2786 04:09D7: 6B           	rtl
  2787                        	.endblock	322
  2788             00000010   L88	equ	16
  2789             00000009   L89	equ	9
  2790 04:09D8:              	ends
  2791                        	efunc
  2792                        	.endfunc	322,9,16
  2793                        	.line	322
  2794                        	data
  2795                        L87:
  2796 00:028F: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:0293: 65 72 5F 4D 
       00:0297: 6F 76 65 57 
       00:029B: 69 6E 64 
  2797 00:029E: 6F 77 3A 70  	db	$6F,$77,$3A,$70,$50,$61,$72,$65,$6E,$74,
                    $3A,$00,$6B,$5F,$75
       00:02A2: 50 61 72 65 
       00:02A6: 6E 74 3A 00 
       00:02AA: 6B 5F 75 
  2798 00:02AD: 73 65 72 5F  	db	$73,$65,$72,$5F,$4D,$6F,$76,$65,$57,$69,
                    $6E,$64,$6F,$77,$3A
       00:02B1: 4D 6F 76 65 
       00:02B5: 57 69 6E 64 
       00:02B9: 6F 77 3A 
  2799 00:02BC: 70 57 69 6E  	db	$70,$57,$69,$6E,$2D,$3E,$77,$69,$6E,$5F,
                    $78,$3A,$00,$6B,$5F
       00:02C0: 2D 3E 77 69 
       00:02C4: 6E 5F 78 3A 
       00:02C8: 00 6B 5F 
  2800 00:02CB: 75 73 65 72  	db	$75,$73,$65,$72,$5F,$4D,$6F,$76,$65,$57,
                    $69,$6E,$64,$6F,$77
       00:02CF: 5F 4D 6F 76 
       00:02D3: 65 57 69 6E 
  Thu Dec  3 2020 22:25                                                Page 56


       00:02D7: 64 6F 77 
  2801 00:02DA: 3A 70 57 69  	db	$3A,$70,$57,$69,$6E,$2D,$3E,$77,$69,$6E,
                    $5F,$79,$3A,$00,$6B
       00:02DE: 6E 2D 3E 77 
       00:02E2: 69 6E 5F 79 
       00:02E6: 3A 00 6B 
  2802 00:02E9: 5F 75 73 65  	db	$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,$65,
                    $57,$69,$6E,$64,$6F
       00:02ED: 72 5F 4D 6F 
       00:02F1: 76 65 57 69 
       00:02F5: 6E 64 6F 
  2803 00:02F8: 77 3A 78 3A  	db	$77,$3A,$78,$3A,$00,$6B,$5F,$75,$73,$65,
                    $72,$5F,$4D,$6F,$76
       00:02FC: 00 6B 5F 75 
       00:0300: 73 65 72 5F 
       00:0304: 4D 6F 76 
  2804 00:0307: 65 57 69 6E  	db	$65,$57,$69,$6E,$64,$6F,$77,$3A,$79,$3A,
                    $00
       00:030B: 64 6F 77 3A 
       00:030F: 79 3A 00 
  2805 00:0312:              	ends
  2806                        ;
  2807                        ;void k_user_MoveWindow_ex(HWND hWnd, int x,int y)
  2808                        ;{
  2809                        	.line	324
  2810                        	.line	325
  2811                        	WINMAN
  2812                        	xdef	~~k_user_MoveWindow_ex
  2813                        	func
  2814                        	.function	325
  2815                        ~~k_user_MoveWindow_ex:
  2816                        	longa	on
  2817                        	longi	on
  2818 04:09D8: 3B           	tsc
  2819 04:09D9: 38           	sec
  2820 04:09DA: E9 10 00     	sbc	#L101
  2821 04:09DD: 1B           	tcs
  2822 04:09DE: 0B           	phd
  2823 04:09DF: 5B           	tcd
  2824             00000004   hWnd_0	set	4
  2825             00000008   x_0	set	8
  2826             0000000A   y_0	set	10
  2827                        	.block	325
  2828                        ;	PWINDOW pWin 	= NULL;
  2829                        ;	PWINDOW pParent = NULL;
  2830                        ;
  2831                        ;	if(hWnd!=NULL)
  2832             00000000   pWin_1	set	0
  2833             00000004   pParent_1	set	4
  2834                        	.sym	pWin,0,138,1,32,27
  2835                        	.sym	pParent,4,138,1,32,27
  2836                        	.sym	hWnd,4,129,6,32
  2837                        	.sym	x,8,5,6,16
  2838                        	.sym	y,10,5,6,16
  2839 04:09E0: 64 09        	stz	<L102+pWin_1
  2840 04:09E2: 64 0B        	stz	<L102+pWin_1+2
  2841 04:09E4: 64 0D        	stz	<L102+pParent_1
  2842 04:09E6: 64 0F        	stz	<L102+pParent_1+2
  Thu Dec  3 2020 22:25                                                Page 57


  2843                        	.line	329
  2844                        ;	{
  2845 04:09E8: A5 14        	lda	<L101+hWnd_0
  2846 04:09EA: 05 16        	ora	<L101+hWnd_0+2
  2847 04:09EC: D0 03        	bne	L104
  2848 04:09EE: 82 32 02     	brl	L10022
  2849                        L104:
  2850                        	.line	330
  2851                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2852                        	.line	331
  2853 04:09F1: D4 16        	pei	<L101+hWnd_0+2
  2854 04:09F3: D4 14        	pei	<L101+hWnd_0
  2855 04:09F5: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  2856 04:09F9: 85 09        	sta	<L102+pWin_1
  2857 04:09FB: 86 0B        	stx	<L102+pWin_1+2
  2858                        ;		pParent = pWin->pParentWindow;
  2859                        	.line	332
  2860 04:09FD: A0 30 01     	ldy	#$130
  2861 04:0A00: B7 09        	lda	[<L102+pWin_1],Y
  2862 04:0A02: 85 0D        	sta	<L102+pParent_1
  2863 04:0A04: A0 32 01     	ldy	#$132
  2864 04:0A07: B7 09        	lda	[<L102+pWin_1],Y
  2865 04:0A09: 85 0F        	sta	<L102+pParent_1+2
  2866                        ;
  2867                        ;		k_debug_pointer("k_user_MoveWindow_ex:pP
                    arent:",pParent);
  2868                        	.line	334
  2869 04:0A0B: D4 0F        	pei	<L102+pParent_1+2
  2870 04:0A0D: D4 0D        	pei	<L102+pParent_1
  2871 04:0A0F: F4 xx xx     	pea	#^L100
  2872 04:0A12: F4 xx xx     	pea	#<L100
  2873 04:0A15: 22 xx xx xx  	jsl	~~k_debug_pointer
  2874                        ;		k_debug_integer("k_user_MoveWindow_ex:pW
                    in->win_x:",pWin->win_x);
  2875                        	.line	335
  2876 04:0A19: A0 08 00     	ldy	#$8
  2877 04:0A1C: B7 09        	lda	[<L102+pWin_1],Y
  2878 04:0A1E: 48           	pha
  2879 04:0A1F: F4 xx xx     	pea	#^L100+30
  2880 04:0A22: F4 xx xx     	pea	#<L100+30
  2881 04:0A25: 22 xx xx xx  	jsl	~~k_debug_integer
  2882                        ;		k_debug_integer("k_user_MoveWindow_ex:pW
                    in->win_y:",pWin->win_y);
  2883                        	.line	336
  2884 04:0A29: A0 0A 00     	ldy	#$a
  2885 04:0A2C: B7 09        	lda	[<L102+pWin_1],Y
  2886 04:0A2E: 48           	pha
  2887 04:0A2F: F4 xx xx     	pea	#^L100+64
  2888 04:0A32: F4 xx xx     	pea	#<L100+64
  2889 04:0A35: 22 xx xx xx  	jsl	~~k_debug_integer
  2890                        ;		k_debug_integer("k_user_MoveWindow_ex:x:
                    ",x);
  2891                        	.line	337
  2892 04:0A39: D4 18        	pei	<L101+x_0
  2893 04:0A3B: F4 xx xx     	pea	#^L100+98
  2894 04:0A3E: F4 xx xx     	pea	#<L100+98
  2895 04:0A41: 22 xx xx xx  	jsl	~~k_debug_integer
  2896                        ;		k_debug_integer("k_user_MoveWindow_ex:y:
  Thu Dec  3 2020 22:25                                                Page 58


                    ",y);
  2897                        	.line	338
  2898 04:0A45: D4 1A        	pei	<L101+y_0
  2899 04:0A47: F4 xx xx     	pea	#^L100+122
  2900 04:0A4A: F4 xx xx     	pea	#<L100+122
  2901 04:0A4D: 22 xx xx xx  	jsl	~~k_debug_integer
  2902                        ;
  2903                        ;		k_debug_rect(pWin->win_title,&pWin->clie
                    ntRect);
  2904                        	.line	340
  2905 04:0A51: 18           	clc
  2906 04:0A52: A9 18 00     	lda	#$18
  2907 04:0A55: 65 09        	adc	<L102+pWin_1
  2908 04:0A57: 85 01        	sta	<R0
  2909 04:0A59: A9 00 00     	lda	#$0
  2910 04:0A5C: 65 0B        	adc	<L102+pWin_1+2
  2911 04:0A5E: 85 03        	sta	<R0+2
  2912 04:0A60: D4 03        	pei	<R0+2
  2913 04:0A62: D4 01        	pei	<R0
  2914 04:0A64: 18           	clc
  2915 04:0A65: A9 D4 00     	lda	#$d4
  2916 04:0A68: 65 09        	adc	<L102+pWin_1
  2917 04:0A6A: 85 05        	sta	<R1
  2918 04:0A6C: A9 00 00     	lda	#$0
  2919 04:0A6F: 65 0B        	adc	<L102+pWin_1+2
  2920 04:0A71: 85 07        	sta	<R1+2
  2921 04:0A73: D4 07        	pei	<R1+2
  2922 04:0A75: D4 05        	pei	<R1
  2923 04:0A77: 22 xx xx xx  	jsl	~~k_debug_rect
  2924                        ;
  2925                        ;		if(pParent && (k_getHandleFromWindow(pPa
                    rent)!=k_user_getDesktopWindow()))
  2926                        	.line	342
  2927                        ;		{
  2928 04:0A7B: A5 0D        	lda	<L102+pParent_1
  2929 04:0A7D: 05 0F        	ora	<L102+pParent_1+2
  2930 04:0A7F: D0 03        	bne	L105
  2931 04:0A81: 82 9E 00     	brl	L10023
  2932                        L105:
  2933 04:0A84: 22 D8 05 04  	jsl	~~k_user_getDesktopWindow
  2934 04:0A88: 85 01        	sta	<R0
  2935 04:0A8A: 86 03        	stx	<R0+2
  2936 04:0A8C: D4 0F        	pei	<L102+pParent_1+2
  2937 04:0A8E: D4 0D        	pei	<L102+pParent_1
  2938 04:0A90: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  2939 04:0A94: 85 05        	sta	<R1
  2940 04:0A96: 86 07        	stx	<R1+2
  2941 04:0A98: A5 05        	lda	<R1
  2942 04:0A9A: C5 01        	cmp	<R0
  2943 04:0A9C: D0 04        	bne	L106
  2944 04:0A9E: A5 07        	lda	<R1+2
  2945 04:0AA0: C5 03        	cmp	<R0+2
  2946                        L106:
  2947 04:0AA2: D0 03        	bne	L107
  2948 04:0AA4: 82 7B 00     	brl	L10023
  2949                        L107:
  2950                        	.line	343
  2951                        ;			k_vdma_fill_rect_ex(pWin->win_x,
  Thu Dec  3 2020 22:25                                                Page 59


                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  2952                        	.line	344
  2953 04:0AA7: F4 01 00     	pea	#<$1
  2954 04:0AAA: F4 00 00     	pea	#<$0
  2955 04:0AAD: A0 0E 00     	ldy	#$e
  2956 04:0AB0: B7 09        	lda	[<L102+pWin_1],Y
  2957 04:0AB2: 48           	pha
  2958 04:0AB3: A0 0C 00     	ldy	#$c
  2959 04:0AB6: B7 09        	lda	[<L102+pWin_1],Y
  2960 04:0AB8: 48           	pha
  2961 04:0AB9: A0 00 00     	ldy	#$0
  2962 04:0ABC: 5A           	phy
  2963 04:0ABD: A0 0A 00     	ldy	#$a
  2964 04:0AC0: B7 09        	lda	[<L102+pWin_1],Y
  2965 04:0AC2: 7A           	ply
  2966 04:0AC3: 2A           	rol	A
  2967 04:0AC4: 6A           	ror	A
  2968 04:0AC5: 10 01        	bpl	L108
  2969 04:0AC7: 88           	dey
  2970                        L108:
  2971 04:0AC8: 85 01        	sta	<R0
  2972 04:0ACA: 84 03        	sty	<R0+2
  2973 04:0ACC: D4 03        	pei	<R0+2
  2974 04:0ACE: D4 01        	pei	<R0
  2975 04:0AD0: A0 00 00     	ldy	#$0
  2976 04:0AD3: 5A           	phy
  2977 04:0AD4: A0 08 00     	ldy	#$8
  2978 04:0AD7: B7 09        	lda	[<L102+pWin_1],Y
  2979 04:0AD9: 7A           	ply
  2980 04:0ADA: 2A           	rol	A
  2981 04:0ADB: 6A           	ror	A
  2982 04:0ADC: 10 01        	bpl	L109
  2983 04:0ADE: 88           	dey
  2984                        L109:
  2985 04:0ADF: 85 05        	sta	<R1
  2986 04:0AE1: 84 07        	sty	<R1+2
  2987 04:0AE3: D4 07        	pei	<R1+2
  2988 04:0AE5: D4 05        	pei	<R1
  2989 04:0AE7: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  2990                        ;
  2991                        ;			pWin->win_x = pParent->clientRec
                    t.x + x;
  2992                        	.line	346
  2993 04:0AEB: 18           	clc
  2994 04:0AEC: A0 18 00     	ldy	#$18
  2995 04:0AEF: B7 0D        	lda	[<L102+pParent_1],Y
  2996 04:0AF1: 65 18        	adc	<L101+x_0
  2997 04:0AF3: A0 08 00     	ldy	#$8
  2998 04:0AF6: 97 09        	sta	[<L102+pWin_1],Y
  2999                        ;			pWin->win_y = pParent->clientRec
                    t.y + y;
  3000                        	.line	347
  3001 04:0AF8: 18           	clc
  3002 04:0AF9: A0 1A 00     	ldy	#$1a
  3003 04:0AFC: B7 0D        	lda	[<L102+pParent_1],Y
  3004 04:0AFE: 65 1A        	adc	<L101+y_0
  3005 04:0B00: A0 0A 00     	ldy	#$a
  3006 04:0B03: 97 09        	sta	[<L102+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 60


  3007                        ;			pWin->clientRect.x 		
                    = pWin->clientRect.x + x;
  3008                        	.line	348
  3009 04:0B05: 18           	clc
  3010 04:0B06: A0 18 00     	ldy	#$18
  3011 04:0B09: B7 09        	lda	[<L102+pWin_1],Y
  3012 04:0B0B: 65 18        	adc	<L101+x_0
  3013 04:0B0D: A0 18 00     	ldy	#$18
  3014 04:0B10: 97 09        	sta	[<L102+pWin_1],Y
  3015                        ;			pWin->clientRect.y 		
                    = pWin->clientRect.y + y;
  3016                        	.line	349
  3017 04:0B12: 18           	clc
  3018 04:0B13: A0 1A 00     	ldy	#$1a
  3019 04:0B16: B7 09        	lda	[<L102+pWin_1],Y
  3020 04:0B18: 65 1A        	adc	<L101+y_0
  3021 04:0B1A: A0 1A 00     	ldy	#$1a
  3022 04:0B1D: 97 09        	sta	[<L102+pWin_1],Y
  3023                        ;
  3024                        ;		}
  3025                        	.line	351
  3026                        ;		else
  3027 04:0B1F: 82 AC 00     	brl	L10024
  3028                        L10023:
  3029                        ;		{
  3030                        	.line	353
  3031                        ;
  3032                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,FILLCOLOR_TRANS
                    PARENT,BITMAP_FRONT);
  3033                        	.line	355
  3034 04:0B22: F4 00 00     	pea	#<$0
  3035 04:0B25: F4 00 00     	pea	#<$0
  3036 04:0B28: A0 0E 00     	ldy	#$e
  3037 04:0B2B: B7 09        	lda	[<L102+pWin_1],Y
  3038 04:0B2D: 48           	pha
  3039 04:0B2E: A0 0C 00     	ldy	#$c
  3040 04:0B31: B7 09        	lda	[<L102+pWin_1],Y
  3041 04:0B33: 48           	pha
  3042 04:0B34: A0 00 00     	ldy	#$0
  3043 04:0B37: 5A           	phy
  3044 04:0B38: A0 0A 00     	ldy	#$a
  3045 04:0B3B: B7 09        	lda	[<L102+pWin_1],Y
  3046 04:0B3D: 7A           	ply
  3047 04:0B3E: 2A           	rol	A
  3048 04:0B3F: 6A           	ror	A
  3049 04:0B40: 10 01        	bpl	L110
  3050 04:0B42: 88           	dey
  3051                        L110:
  3052 04:0B43: 85 01        	sta	<R0
  3053 04:0B45: 84 03        	sty	<R0+2
  3054 04:0B47: D4 03        	pei	<R0+2
  3055 04:0B49: D4 01        	pei	<R0
  3056 04:0B4B: A0 00 00     	ldy	#$0
  3057 04:0B4E: 5A           	phy
  3058 04:0B4F: A0 08 00     	ldy	#$8
  3059 04:0B52: B7 09        	lda	[<L102+pWin_1],Y
  3060 04:0B54: 7A           	ply
  Thu Dec  3 2020 22:25                                                Page 61


  3061 04:0B55: 2A           	rol	A
  3062 04:0B56: 6A           	ror	A
  3063 04:0B57: 10 01        	bpl	L111
  3064 04:0B59: 88           	dey
  3065                        L111:
  3066 04:0B5A: 85 05        	sta	<R1
  3067 04:0B5C: 84 07        	sty	<R1+2
  3068 04:0B5E: D4 07        	pei	<R1+2
  3069 04:0B60: D4 05        	pei	<R1
  3070 04:0B62: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3071                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,k_getUIBackgrou
                    ndColor(),BITMAP_BACK);
  3072                        	.line	356
  3073 04:0B66: F4 10 00     	pea	#<$10
  3074 04:0B69: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
  3075 04:0B6D: 48           	pha
  3076 04:0B6E: A0 0E 00     	ldy	#$e
  3077 04:0B71: B7 09        	lda	[<L102+pWin_1],Y
  3078 04:0B73: 48           	pha
  3079 04:0B74: A0 0C 00     	ldy	#$c
  3080 04:0B77: B7 09        	lda	[<L102+pWin_1],Y
  3081 04:0B79: 48           	pha
  3082 04:0B7A: A0 00 00     	ldy	#$0
  3083 04:0B7D: 5A           	phy
  3084 04:0B7E: A0 0A 00     	ldy	#$a
  3085 04:0B81: B7 09        	lda	[<L102+pWin_1],Y
  3086 04:0B83: 7A           	ply
  3087 04:0B84: 2A           	rol	A
  3088 04:0B85: 6A           	ror	A
  3089 04:0B86: 10 01        	bpl	L112
  3090 04:0B88: 88           	dey
  3091                        L112:
  3092 04:0B89: 85 01        	sta	<R0
  3093 04:0B8B: 84 03        	sty	<R0+2
  3094 04:0B8D: D4 03        	pei	<R0+2
  3095 04:0B8F: D4 01        	pei	<R0
  3096 04:0B91: A0 00 00     	ldy	#$0
  3097 04:0B94: 5A           	phy
  3098 04:0B95: A0 08 00     	ldy	#$8
  3099 04:0B98: B7 09        	lda	[<L102+pWin_1],Y
  3100 04:0B9A: 7A           	ply
  3101 04:0B9B: 2A           	rol	A
  3102 04:0B9C: 6A           	ror	A
  3103 04:0B9D: 10 01        	bpl	L113
  3104 04:0B9F: 88           	dey
  3105                        L113:
  3106 04:0BA0: 85 05        	sta	<R1
  3107 04:0BA2: 84 07        	sty	<R1+2
  3108 04:0BA4: D4 07        	pei	<R1+2
  3109 04:0BA6: D4 05        	pei	<R1
  3110 04:0BA8: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3111                        ;
  3112                        ;			pWin->win_x = x;
  3113                        	.line	358
  3114 04:0BAC: A5 18        	lda	<L101+x_0
  3115 04:0BAE: A0 08 00     	ldy	#$8
  3116 04:0BB1: 97 09        	sta	[<L102+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 62


  3117                        ;			pWin->win_y = y;
  3118                        	.line	359
  3119 04:0BB3: A5 1A        	lda	<L101+y_0
  3120 04:0BB5: A0 0A 00     	ldy	#$a
  3121 04:0BB8: 97 09        	sta	[<L102+pWin_1],Y
  3122                        ;			pWin->clientRect.x 	= pWin->
                    win_x;
  3123                        	.line	360
  3124 04:0BBA: A0 08 00     	ldy	#$8
  3125 04:0BBD: B7 09        	lda	[<L102+pWin_1],Y
  3126 04:0BBF: A0 18 00     	ldy	#$18
  3127 04:0BC2: 97 09        	sta	[<L102+pWin_1],Y
  3128                        ;			pWin->clientRect.y 	= pWin->
                    win_y;
  3129                        	.line	361
  3130 04:0BC4: A0 0A 00     	ldy	#$a
  3131 04:0BC7: B7 09        	lda	[<L102+pWin_1],Y
  3132 04:0BC9: A0 1A 00     	ldy	#$1a
  3133 04:0BCC: 97 09        	sta	[<L102+pWin_1],Y
  3134                        ;
  3135                        ;		}
  3136                        	.line	363
  3137                        L10024:
  3138                        ;
  3139                        ;		((PCLICKABLE)pWin->clickable)->area.x 	
                    	= pWin->win_x;
  3140                        	.line	365
  3141 04:0BCE: A0 D0 00     	ldy	#$d0
  3142 04:0BD1: B7 09        	lda	[<L102+pWin_1],Y
  3143 04:0BD3: 85 01        	sta	<R0
  3144 04:0BD5: A0 D2 00     	ldy	#$d2
  3145 04:0BD8: B7 09        	lda	[<L102+pWin_1],Y
  3146 04:0BDA: 85 03        	sta	<R0+2
  3147 04:0BDC: A0 08 00     	ldy	#$8
  3148 04:0BDF: B7 09        	lda	[<L102+pWin_1],Y
  3149 04:0BE1: 87 01        	sta	[<R0]
  3150                        ;		((PCLICKABLE)pWin->clickable)->area.y 	
                    	= pWin->win_y;
  3151                        	.line	366
  3152 04:0BE3: A0 D0 00     	ldy	#$d0
  3153 04:0BE6: B7 09        	lda	[<L102+pWin_1],Y
  3154 04:0BE8: 85 01        	sta	<R0
  3155 04:0BEA: A0 D2 00     	ldy	#$d2
  3156 04:0BED: B7 09        	lda	[<L102+pWin_1],Y
  3157 04:0BEF: 85 03        	sta	<R0+2
  3158 04:0BF1: A0 0A 00     	ldy	#$a
  3159 04:0BF4: B7 09        	lda	[<L102+pWin_1],Y
  3160 04:0BF6: A0 02 00     	ldy	#$2
  3161 04:0BF9: 97 01        	sta	[<R0],Y
  3162                        ;
  3163                        ;		k_send_window_message(hWnd,FX_DRAW_NONCL
                    IENT,NULL,0);
  3164                        	.line	368
  3165 04:0BFB: F4 00 00     	pea	#<$0
  3166 04:0BFE: F4 00 00     	pea	#^$0
  3167 04:0C01: F4 00 00     	pea	#<$0
  3168 04:0C04: F4 01 FB     	pea	#<$fb01
  3169 04:0C07: D4 16        	pei	<L101+hWnd_0+2
  Thu Dec  3 2020 22:25                                                Page 63


  3170 04:0C09: D4 14        	pei	<L101+hWnd_0
  3171 04:0C0B: 22 xx xx xx  	jsl	~~k_send_window_message
  3172                        ;		k_send_window_message(hWnd,FX_DRAW_WINDO
                    W,NULL,0);
  3173                        	.line	369
  3174 04:0C0F: F4 00 00     	pea	#<$0
  3175 04:0C12: F4 00 00     	pea	#^$0
  3176 04:0C15: F4 00 00     	pea	#<$0
  3177 04:0C18: F4 00 FB     	pea	#<$fb00
  3178 04:0C1B: D4 16        	pei	<L101+hWnd_0+2
  3179 04:0C1D: D4 14        	pei	<L101+hWnd_0
  3180 04:0C1F: 22 xx xx xx  	jsl	~~k_send_window_message
  3181                        ;	}
  3182                        	.line	370
  3183                        ;
  3184                        ;}
  3185                        L10022:
  3186                        	.line	372
  3187                        L114:
  3188 04:0C23: A5 12        	lda	<L101+2
  3189 04:0C25: 85 1A        	sta	<L101+2+8
  3190 04:0C27: A5 11        	lda	<L101+1
  3191 04:0C29: 85 19        	sta	<L101+1+8
  3192 04:0C2B: 2B           	pld
  3193 04:0C2C: 3B           	tsc
  3194 04:0C2D: 18           	clc
  3195 04:0C2E: 69 18 00     	adc	#L101+8
  3196 04:0C31: 1B           	tcs
  3197 04:0C32: 6B           	rtl
  3198                        	.endblock	372
  3199             00000010   L101	equ	16
  3200             00000009   L102	equ	9
  3201 04:0C33:              	ends
  3202                        	efunc
  3203                        	.endfunc	372,9,16
  3204                        	.line	372
  3205                        	data
  3206                        L100:
  3207 00:0312: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:0316: 65 72 5F 4D 
       00:031A: 6F 76 65 57 
       00:031E: 69 6E 64 
  3208 00:0321: 6F 77 5F 65  	db	$6F,$77,$5F,$65,$78,$3A,$70,$50,$61,$72,
                    $65,$6E,$74,$3A,$00
       00:0325: 78 3A 70 50 
       00:0329: 61 72 65 6E 
       00:032D: 74 3A 00 
  3209 00:0330: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:0334: 65 72 5F 4D 
       00:0338: 6F 76 65 57 
       00:033C: 69 6E 64 
  3210 00:033F: 6F 77 5F 65  	db	$6F,$77,$5F,$65,$78,$3A,$70,$57,$69,$6E,
                    $2D,$3E,$77,$69,$6E
       00:0343: 78 3A 70 57 
       00:0347: 69 6E 2D 3E 
       00:034B: 77 69 6E 
  Thu Dec  3 2020 22:25                                                Page 64


  3211 00:034E: 5F 78 3A 00  	db	$5F,$78,$3A,$00,$6B,$5F,$75,$73,$65,$72,
                    $5F,$4D,$6F,$76,$65
       00:0352: 6B 5F 75 73 
       00:0356: 65 72 5F 4D 
       00:035A: 6F 76 65 
  3212 00:035D: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$5F,$65,$78,$3A,
                    $70,$57,$69,$6E,$2D
       00:0361: 6F 77 5F 65 
       00:0365: 78 3A 70 57 
       00:0369: 69 6E 2D 
  3213 00:036C: 3E 77 69 6E  	db	$3E,$77,$69,$6E,$5F,$79,$3A,$00,$6B,$5F,
                    $75,$73,$65,$72,$5F
       00:0370: 5F 79 3A 00 
       00:0374: 6B 5F 75 73 
       00:0378: 65 72 5F 
  3214 00:037B: 4D 6F 76 65  	db	$4D,$6F,$76,$65,$57,$69,$6E,$64,$6F,$77,
                    $5F,$65,$78,$3A,$78
       00:037F: 57 69 6E 64 
       00:0383: 6F 77 5F 65 
       00:0387: 78 3A 78 
  3215 00:038A: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,$4D,
                    $6F,$76,$65,$57,$69
       00:038E: 75 73 65 72 
       00:0392: 5F 4D 6F 76 
       00:0396: 65 57 69 
  3216 00:0399: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$65,$78,$3A,$79,$3A,
                    $00
       00:039D: 5F 65 78 3A 
       00:03A1: 79 3A 00 
  3217 00:03A4:              	ends
  3218                        ;
  3219                        ;
  3220                        ;PFXNODELIST k_getWindowManagerList(void)
  3221                        ;{
  3222                        	.line	375
  3223                        	.line	376
  3224                        	WINMAN
  3225                        	xdef	~~k_getWindowManagerList
  3226                        	func
  3227                        	.function	376
  3228                        ~~k_getWindowManagerList:
  3229                        	longa	on
  3230                        	longi	on
  3231 04:0C33: 3B           	tsc
  3232 04:0C34: 38           	sec
  3233 04:0C35: E9 00 00     	sbc	#L116
  3234 04:0C38: 1B           	tcs
  3235 04:0C39: 0B           	phd
  3236 04:0C3A: 5B           	tcd
  3237                        	.block	376
  3238                        ;	return _k_windowManager_WindowObjectList;
  3239                        	.line	377
  3240 04:0C3B: AE xx xx     	ldx	|~~_k_windowManager_WindowObjectList+2
  3241 04:0C3E: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  3242                        L119:
  3243 04:0C41: A8           	tay
  3244 04:0C42: 2B           	pld
  3245 04:0C43: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 65


  3246 04:0C44: 18           	clc
  3247 04:0C45: 69 00 00     	adc	#L116
  3248 04:0C48: 1B           	tcs
  3249 04:0C49: 98           	tya
  3250 04:0C4A: 6B           	rtl
  3251                        ;}
  3252                        	.line	378
  3253                        	.endblock	378
  3254             00000000   L116	equ	0
  3255             00000001   L117	equ	1
  3256 04:0C4B:              	ends
  3257                        	efunc
  3258                        	.endfunc	378,1,0
  3259                        	.line	378
  3260                        ;
  3261                        ;PFXNODELIST	k_getWindowManagerClassList(void
                    )
  3262                        ;{
  3263                        	.line	380
  3264                        	.line	381
  3265                        	WINMAN
  3266                        	xdef	~~k_getWindowManagerClassList
  3267                        	func
  3268                        	.function	381
  3269                        ~~k_getWindowManagerClassList:
  3270                        	longa	on
  3271                        	longi	on
  3272 04:0C4B: 3B           	tsc
  3273 04:0C4C: 38           	sec
  3274 04:0C4D: E9 00 00     	sbc	#L120
  3275 04:0C50: 1B           	tcs
  3276 04:0C51: 0B           	phd
  3277 04:0C52: 5B           	tcd
  3278                        	.block	381
  3279                        ;	return _k_windowManager_WindowClassList;
  3280                        	.line	382
  3281 04:0C53: AE xx xx     	ldx	|~~_k_windowManager_WindowClassList+2
  3282 04:0C56: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  3283                        L123:
  3284 04:0C59: A8           	tay
  3285 04:0C5A: 2B           	pld
  3286 04:0C5B: 3B           	tsc
  3287 04:0C5C: 18           	clc
  3288 04:0C5D: 69 00 00     	adc	#L120
  3289 04:0C60: 1B           	tcs
  3290 04:0C61: 98           	tya
  3291 04:0C62: 6B           	rtl
  3292                        ;}
  3293                        	.line	383
  3294                        	.endblock	383
  3295             00000000   L120	equ	0
  3296             00000001   L121	equ	1
  3297 04:0C63:              	ends
  3298                        	efunc
  3299                        	.endfunc	383,1,0
  3300                        	.line	383
  3301                        ;
  3302                        ;PFXNODELIST	k_getWindowManagerHitList(void)
  Thu Dec  3 2020 22:25                                                Page 66


  3303                        ;{
  3304                        	.line	385
  3305                        	.line	386
  3306                        	WINMAN
  3307                        	xdef	~~k_getWindowManagerHitList
  3308                        	func
  3309                        	.function	386
  3310                        ~~k_getWindowManagerHitList:
  3311                        	longa	on
  3312                        	longi	on
  3313 04:0C63: 3B           	tsc
  3314 04:0C64: 38           	sec
  3315 04:0C65: E9 00 00     	sbc	#L124
  3316 04:0C68: 1B           	tcs
  3317 04:0C69: 0B           	phd
  3318 04:0C6A: 5B           	tcd
  3319                        	.block	386
  3320                        ;	return _k_windowManager_ObjectHitList;
  3321                        	.line	387
  3322 04:0C6B: AE xx xx     	ldx	|~~_k_windowManager_ObjectHitList+2
  3323 04:0C6E: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
  3324                        L127:
  3325 04:0C71: A8           	tay
  3326 04:0C72: 2B           	pld
  3327 04:0C73: 3B           	tsc
  3328 04:0C74: 18           	clc
  3329 04:0C75: 69 00 00     	adc	#L124
  3330 04:0C78: 1B           	tcs
  3331 04:0C79: 98           	tya
  3332 04:0C7A: 6B           	rtl
  3333                        ;}
  3334                        	.line	388
  3335                        	.endblock	388
  3336             00000000   L124	equ	0
  3337             00000001   L125	equ	1
  3338 04:0C7B:              	ends
  3339                        	efunc
  3340                        	.endfunc	388,1,0
  3341                        	.line	388
  3342                        ;
  3343                        ;PFXNODE k_getWindowList(void)
  3344                        ;{
  3345                        	.line	390
  3346                        	.line	391
  3347                        	WINMAN
  3348                        	xdef	~~k_getWindowList
  3349                        	func
  3350                        	.function	391
  3351                        ~~k_getWindowList:
  3352                        	longa	on
  3353                        	longi	on
  3354 04:0C7B: 3B           	tsc
  3355 04:0C7C: 38           	sec
  3356 04:0C7D: E9 04 00     	sbc	#L128
  3357 04:0C80: 1B           	tcs
  3358 04:0C81: 0B           	phd
  3359 04:0C82: 5B           	tcd
  3360                        	.block	391
  Thu Dec  3 2020 22:25                                                Page 67


  3361                        ;	return k_nodelist_getfirstnode(_k_windowManager_
                    WindowObjectList);
  3362                        	.line	392
  3363 04:0C83: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  3364 04:0C86: 48           	pha
  3365 04:0C87: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  3366 04:0C8A: 48           	pha
  3367 04:0C8B: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  3368 04:0C8F: 85 01        	sta	<R0
  3369 04:0C91: 86 03        	stx	<R0+2
  3370 04:0C93: A6 03        	ldx	<R0+2
  3371 04:0C95: A5 01        	lda	<R0
  3372                        L131:
  3373 04:0C97: A8           	tay
  3374 04:0C98: 2B           	pld
  3375 04:0C99: 3B           	tsc
  3376 04:0C9A: 18           	clc
  3377 04:0C9B: 69 04 00     	adc	#L128
  3378 04:0C9E: 1B           	tcs
  3379 04:0C9F: 98           	tya
  3380 04:0CA0: 6B           	rtl
  3381                        ;}
  3382                        	.line	393
  3383                        	.endblock	393
  3384             00000004   L128	equ	4
  3385             00000005   L129	equ	5
  3386 04:0CA1:              	ends
  3387                        	efunc
  3388                        	.endfunc	393,5,4
  3389                        	.line	393
  3390                        ;
  3391                        ;PFXNODE	k_getWindowClassList(void)
  3392                        ;{
  3393                        	.line	395
  3394                        	.line	396
  3395                        	WINMAN
  3396                        	xdef	~~k_getWindowClassList
  3397                        	func
  3398                        	.function	396
  3399                        ~~k_getWindowClassList:
  3400                        	longa	on
  3401                        	longi	on
  3402 04:0CA1: 3B           	tsc
  3403 04:0CA2: 38           	sec
  3404 04:0CA3: E9 04 00     	sbc	#L132
  3405 04:0CA6: 1B           	tcs
  3406 04:0CA7: 0B           	phd
  3407 04:0CA8: 5B           	tcd
  3408                        	.block	396
  3409                        ;	return  k_nodelist_getfirstnode(_k_windowManager
                    _WindowClassList);
  3410                        	.line	397
  3411 04:0CA9: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  3412 04:0CAC: 48           	pha
  3413 04:0CAD: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  3414 04:0CB0: 48           	pha
  3415 04:0CB1: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  3416 04:0CB5: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 68


  3417 04:0CB7: 86 03        	stx	<R0+2
  3418 04:0CB9: A6 03        	ldx	<R0+2
  3419 04:0CBB: A5 01        	lda	<R0
  3420                        L135:
  3421 04:0CBD: A8           	tay
  3422 04:0CBE: 2B           	pld
  3423 04:0CBF: 3B           	tsc
  3424 04:0CC0: 18           	clc
  3425 04:0CC1: 69 04 00     	adc	#L132
  3426 04:0CC4: 1B           	tcs
  3427 04:0CC5: 98           	tya
  3428 04:0CC6: 6B           	rtl
  3429                        ;}
  3430                        	.line	398
  3431                        	.endblock	398
  3432             00000004   L132	equ	4
  3433             00000005   L133	equ	5
  3434 04:0CC7:              	ends
  3435                        	efunc
  3436                        	.endfunc	398,5,4
  3437                        	.line	398
  3438                        ;
  3439                        ;PFXNODE	k_getWindowHitList(void)
  3440                        ;{
  3441                        	.line	400
  3442                        	.line	401
  3443                        	WINMAN
  3444                        	xdef	~~k_getWindowHitList
  3445                        	func
  3446                        	.function	401
  3447                        ~~k_getWindowHitList:
  3448                        	longa	on
  3449                        	longi	on
  3450 04:0CC7: 3B           	tsc
  3451 04:0CC8: 38           	sec
  3452 04:0CC9: E9 04 00     	sbc	#L136
  3453 04:0CCC: 1B           	tcs
  3454 04:0CCD: 0B           	phd
  3455 04:0CCE: 5B           	tcd
  3456                        	.block	401
  3457                        ;	return  k_nodelist_getfirstnode(_k_windowManager
                    _ObjectHitList);
  3458                        	.line	402
  3459 04:0CCF: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
  3460 04:0CD2: 48           	pha
  3461 04:0CD3: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
  3462 04:0CD6: 48           	pha
  3463 04:0CD7: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  3464 04:0CDB: 85 01        	sta	<R0
  3465 04:0CDD: 86 03        	stx	<R0+2
  3466 04:0CDF: A6 03        	ldx	<R0+2
  3467 04:0CE1: A5 01        	lda	<R0
  3468                        L139:
  3469 04:0CE3: A8           	tay
  3470 04:0CE4: 2B           	pld
  3471 04:0CE5: 3B           	tsc
  3472 04:0CE6: 18           	clc
  3473 04:0CE7: 69 04 00     	adc	#L136
  Thu Dec  3 2020 22:25                                                Page 69


  3474 04:0CEA: 1B           	tcs
  3475 04:0CEB: 98           	tya
  3476 04:0CEC: 6B           	rtl
  3477                        ;}
  3478                        	.line	403
  3479                        	.endblock	403
  3480             00000004   L136	equ	4
  3481             00000005   L137	equ	5
  3482 04:0CED:              	ends
  3483                        	efunc
  3484                        	.endfunc	403,5,4
  3485                        	.line	403
  3486                        ;
  3487                        ;
  3488                        ;HWND k_getHandleFromWindow(PWINDOW pWin)
  3489                        ;{
  3490                        	.line	406
  3491                        	.line	407
  3492                        	WINMAN
  3493                        	xdef	~~k_getHandleFromWindow
  3494                        	func
  3495                        	.function	407
  3496                        ~~k_getHandleFromWindow:
  3497                        	longa	on
  3498                        	longi	on
  3499 04:0CED: 3B           	tsc
  3500 04:0CEE: 38           	sec
  3501 04:0CEF: E9 00 00     	sbc	#L140
  3502 04:0CF2: 1B           	tcs
  3503 04:0CF3: 0B           	phd
  3504 04:0CF4: 5B           	tcd
  3505             00000004   pWin_0	set	4
  3506                        	.block	407
  3507                        ;	return (HWND)pWin;
  3508                        	.sym	pWin,4,138,6,32,27
  3509                        	.line	408
  3510 04:0CF5: A6 06        	ldx	<L140+pWin_0+2
  3511 04:0CF7: A5 04        	lda	<L140+pWin_0
  3512                        L143:
  3513 04:0CF9: A8           	tay
  3514 04:0CFA: A5 02        	lda	<L140+2
  3515 04:0CFC: 85 06        	sta	<L140+2+4
  3516 04:0CFE: A5 01        	lda	<L140+1
  3517 04:0D00: 85 05        	sta	<L140+1+4
  3518 04:0D02: 2B           	pld
  3519 04:0D03: 3B           	tsc
  3520 04:0D04: 18           	clc
  3521 04:0D05: 69 04 00     	adc	#L140+4
  3522 04:0D08: 1B           	tcs
  3523 04:0D09: 98           	tya
  3524 04:0D0A: 6B           	rtl
  3525                        ;}
  3526                        	.line	409
  3527                        	.endblock	409
  3528             00000000   L140	equ	0
  3529             00000001   L141	equ	1
  3530 04:0D0B:              	ends
  3531                        	efunc
  Thu Dec  3 2020 22:25                                                Page 70


  3532                        	.endfunc	409,1,0
  3533                        	.line	409
  3534                        ;
  3535                        ;
  3536                        ;PWINDOW k_getWindowFromHandle(HWND hWnd)
  3537                        ;{
  3538                        	.line	412
  3539                        	.line	413
  3540                        	WINMAN
  3541                        	xdef	~~k_getWindowFromHandle
  3542                        	func
  3543                        	.function	413
  3544                        ~~k_getWindowFromHandle:
  3545                        	longa	on
  3546                        	longi	on
  3547 04:0D0B: 3B           	tsc
  3548 04:0D0C: 38           	sec
  3549 04:0D0D: E9 00 00     	sbc	#L144
  3550 04:0D10: 1B           	tcs
  3551 04:0D11: 0B           	phd
  3552 04:0D12: 5B           	tcd
  3553             00000004   hWnd_0	set	4
  3554                        	.block	413
  3555                        ;	return (PWINDOW)hWnd;
  3556                        	.sym	hWnd,4,129,6,32
  3557                        	.line	414
  3558 04:0D13: A6 06        	ldx	<L144+hWnd_0+2
  3559 04:0D15: A5 04        	lda	<L144+hWnd_0
  3560                        L147:
  3561 04:0D17: A8           	tay
  3562 04:0D18: A5 02        	lda	<L144+2
  3563 04:0D1A: 85 06        	sta	<L144+2+4
  3564 04:0D1C: A5 01        	lda	<L144+1
  3565 04:0D1E: 85 05        	sta	<L144+1+4
  3566 04:0D20: 2B           	pld
  3567 04:0D21: 3B           	tsc
  3568 04:0D22: 18           	clc
  3569 04:0D23: 69 04 00     	adc	#L144+4
  3570 04:0D26: 1B           	tcs
  3571 04:0D27: 98           	tya
  3572 04:0D28: 6B           	rtl
  3573                        ;}
  3574                        	.line	415
  3575                        	.endblock	415
  3576             00000000   L144	equ	0
  3577             00000001   L145	equ	1
  3578 04:0D29:              	ends
  3579                        	efunc
  3580                        	.endfunc	415,1,0
  3581                        	.line	415
  3582                        ;
  3583                        ;UINT k_getWindowRect(HWND hWnd,PRECT prect)
  3584                        ;{
  3585                        	.line	417
  3586                        	.line	418
  3587                        	WINMAN
  3588                        	xdef	~~k_getWindowRect
  3589                        	func
  Thu Dec  3 2020 22:25                                                Page 71


  3590                        	.function	418
  3591                        ~~k_getWindowRect:
  3592                        	longa	on
  3593                        	longi	on
  3594 04:0D29: 3B           	tsc
  3595 04:0D2A: 38           	sec
  3596 04:0D2B: E9 00 00     	sbc	#L148
  3597 04:0D2E: 1B           	tcs
  3598 04:0D2F: 0B           	phd
  3599 04:0D30: 5B           	tcd
  3600             00000004   hWnd_0	set	4
  3601             00000008   prect_0	set	8
  3602                        	.block	418
  3603                        ;	prect->x      = ((PWINDOW)hWnd)->win_x;
  3604                        	.sym	hWnd,4,129,6,32
  3605                        	.sym	prect,8,138,6,32,22
  3606                        	.line	419
  3607 04:0D31: A0 08 00     	ldy	#$8
  3608 04:0D34: B7 04        	lda	[<L148+hWnd_0],Y
  3609 04:0D36: 87 08        	sta	[<L148+prect_0]
  3610                        ;	prect->y      = ((PWINDOW)hWnd)->win_y;
  3611                        	.line	420
  3612 04:0D38: A0 0A 00     	ldy	#$a
  3613 04:0D3B: B7 04        	lda	[<L148+hWnd_0],Y
  3614 04:0D3D: A0 02 00     	ldy	#$2
  3615 04:0D40: 97 08        	sta	[<L148+prect_0],Y
  3616                        ;	prect->height = ((PWINDOW)hWnd)->win_height;
  3617                        	.line	421
  3618 04:0D42: A0 0E 00     	ldy	#$e
  3619 04:0D45: B7 04        	lda	[<L148+hWnd_0],Y
  3620 04:0D47: A0 06 00     	ldy	#$6
  3621 04:0D4A: 97 08        	sta	[<L148+prect_0],Y
  3622                        ;	prect->width  = ((PWINDOW)hWnd)->win_width;
  3623                        	.line	422
  3624 04:0D4C: A0 0C 00     	ldy	#$c
  3625 04:0D4F: B7 04        	lda	[<L148+hWnd_0],Y
  3626 04:0D51: A0 04 00     	ldy	#$4
  3627 04:0D54: 97 08        	sta	[<L148+prect_0],Y
  3628                        ;
  3629                        ;	return sizeof(RECT);
  3630                        	.line	424
  3631 04:0D56: A9 08 00     	lda	#$8
  3632                        L151:
  3633 04:0D59: A8           	tay
  3634 04:0D5A: A5 02        	lda	<L148+2
  3635 04:0D5C: 85 0A        	sta	<L148+2+8
  3636 04:0D5E: A5 01        	lda	<L148+1
  3637 04:0D60: 85 09        	sta	<L148+1+8
  3638 04:0D62: 2B           	pld
  3639 04:0D63: 3B           	tsc
  3640 04:0D64: 18           	clc
  3641 04:0D65: 69 08 00     	adc	#L148+8
  3642 04:0D68: 1B           	tcs
  3643 04:0D69: 98           	tya
  3644 04:0D6A: 6B           	rtl
  3645                        ;}
  3646                        	.line	425
  3647                        	.endblock	425
  Thu Dec  3 2020 22:25                                                Page 72


  3648             00000000   L148	equ	0
  3649             00000001   L149	equ	1
  3650 04:0D6B:              	ends
  3651                        	efunc
  3652                        	.endfunc	425,1,0
  3653                        	.line	425
  3654                        ;
  3655                        ;HPOINTER k_user_RegisterMousePointerClass(LPCSTR 
                    pCursorName,LPCSTR pCursorData)
  3656                        ;{
  3657                        	.line	427
  3658                        	.line	428
  3659                        	WINMAN
  3660                        	xdef	~~k_user_RegisterMousePointerClass
  3661                        	func
  3662                        	.function	428
  3663                        ~~k_user_RegisterMousePointerClass:
  3664                        	longa	on
  3665                        	longi	on
  3666 04:0D6B: 3B           	tsc
  3667 04:0D6C: 38           	sec
  3668 04:0D6D: E9 00 00     	sbc	#L152
  3669 04:0D70: 1B           	tcs
  3670 04:0D71: 0B           	phd
  3671 04:0D72: 5B           	tcd
  3672             00000004   pCursorName_0	set	4
  3673             00000008   pCursorData_0	set	8
  3674                        	.block	428
  3675                        ;	k_nodelist_addtolist(_k_windowManager_CursorList
                    ,NL_TYPE_WINDOW_CURSOR,pCursorName,(LPVOID)pCursorData);
  3676                        	.sym	pCursorName,4,142,6,32
  3677                        	.sym	pCursorData,8,142,6,32
  3678                        	.line	429
  3679 04:0D73: D4 0A        	pei	<L152+pCursorData_0+2
  3680 04:0D75: D4 08        	pei	<L152+pCursorData_0
  3681 04:0D77: D4 06        	pei	<L152+pCursorName_0+2
  3682 04:0D79: D4 04        	pei	<L152+pCursorName_0
  3683 04:0D7B: F4 0A 00     	pea	#<$a
  3684 04:0D7E: AD xx xx     	lda	|~~_k_windowManager_CursorList+2
  3685 04:0D81: 48           	pha
  3686 04:0D82: AD xx xx     	lda	|~~_k_windowManager_CursorList
  3687 04:0D85: 48           	pha
  3688 04:0D86: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  3689                        ;
  3690                        ;	k_debug_pointer("k_user_MousePointerClass:data:"
                    , (LPVOID)pCursorData);
  3691                        	.line	431
  3692 04:0D8A: D4 0A        	pei	<L152+pCursorData_0+2
  3693 04:0D8C: D4 08        	pei	<L152+pCursorData_0
  3694 04:0D8E: F4 xx xx     	pea	#^L115
  3695 04:0D91: F4 xx xx     	pea	#<L115
  3696 04:0D94: 22 xx xx xx  	jsl	~~k_debug_pointer
  3697                        ;
  3698                        ;	return (HPOINTER)pCursorData;
  3699                        	.line	433
  3700 04:0D98: A6 0A        	ldx	<L152+pCursorData_0+2
  3701 04:0D9A: A5 08        	lda	<L152+pCursorData_0
  3702                        L155:
  Thu Dec  3 2020 22:25                                                Page 73


  3703 04:0D9C: A8           	tay
  3704 04:0D9D: A5 02        	lda	<L152+2
  3705 04:0D9F: 85 0A        	sta	<L152+2+8
  3706 04:0DA1: A5 01        	lda	<L152+1
  3707 04:0DA3: 85 09        	sta	<L152+1+8
  3708 04:0DA5: 2B           	pld
  3709 04:0DA6: 3B           	tsc
  3710 04:0DA7: 18           	clc
  3711 04:0DA8: 69 08 00     	adc	#L152+8
  3712 04:0DAB: 1B           	tcs
  3713 04:0DAC: 98           	tya
  3714 04:0DAD: 6B           	rtl
  3715                        ;}
  3716                        	.line	434
  3717                        	.endblock	434
  3718             00000000   L152	equ	0
  3719             00000001   L153	equ	1
  3720 04:0DAE:              	ends
  3721                        	efunc
  3722                        	.endfunc	434,1,0
  3723                        	.line	434
  3724                        	data
  3725                        L115:
  3726 00:03A4: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$75,
                    $73,$65,$50,$6F,$69
       00:03A8: 65 72 5F 4D 
       00:03AC: 6F 75 73 65 
       00:03B0: 50 6F 69 
  3727 00:03B3: 6E 74 65 72  	db	$6E,$74,$65,$72,$43,$6C,$61,$73,$73,$3A,
                    $64,$61,$74,$61,$3A
       00:03B7: 43 6C 61 73 
       00:03BB: 73 3A 64 61 
       00:03BF: 74 61 3A 
  3728 00:03C2: 00           	db	$00
  3729 00:03C3:              	ends
  3730                        ;
  3731                        ;HFONT k_user_RegisterFontClass(LPCSTR pFontName,L
                    PCSTR pFontData)
  3732                        ;{
  3733                        	.line	436
  3734                        	.line	437
  3735                        	WINMAN
  3736                        	xdef	~~k_user_RegisterFontClass
  3737                        	func
  3738                        	.function	437
  3739                        ~~k_user_RegisterFontClass:
  3740                        	longa	on
  3741                        	longi	on
  3742 04:0DAE: 3B           	tsc
  3743 04:0DAF: 38           	sec
  3744 04:0DB0: E9 00 00     	sbc	#L157
  3745 04:0DB3: 1B           	tcs
  3746 04:0DB4: 0B           	phd
  3747 04:0DB5: 5B           	tcd
  3748             00000004   pFontName_0	set	4
  3749             00000008   pFontData_0	set	8
  3750                        	.block	437
  3751                        ;	k_nodelist_addtolist(_k_windowManager_FontList,N
  Thu Dec  3 2020 22:25                                                Page 74


                    L_TYPE_WINDOW_FONT,pFontName,(LPVOID)pFontData);
  3752                        	.sym	pFontName,4,142,6,32
  3753                        	.sym	pFontData,8,142,6,32
  3754                        	.line	438
  3755 04:0DB6: D4 0A        	pei	<L157+pFontData_0+2
  3756 04:0DB8: D4 08        	pei	<L157+pFontData_0
  3757 04:0DBA: D4 06        	pei	<L157+pFontName_0+2
  3758 04:0DBC: D4 04        	pei	<L157+pFontName_0
  3759 04:0DBE: F4 06 00     	pea	#<$6
  3760 04:0DC1: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  3761 04:0DC4: 48           	pha
  3762 04:0DC5: AD xx xx     	lda	|~~_k_windowManager_FontList
  3763 04:0DC8: 48           	pha
  3764 04:0DC9: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  3765                        ;
  3766                        ;	//k_debug_pointer("k_user_RegisterFontClass:data
                    :", (LPVOID)pFontData);
  3767                        ;	//k_debug_integer("k_user_RegisterFontClass:widt
                    h:", pFontData[0]);
  3768                        ;	//k_debug_integer("k_user_RegisterFontClass:heig
                    ht:", pFontData[1]);
  3769                        ;
  3770                        ;
  3771                        ;	return (HFONT)pFontData;
  3772                        	.line	445
  3773 04:0DCD: A6 0A        	ldx	<L157+pFontData_0+2
  3774 04:0DCF: A5 08        	lda	<L157+pFontData_0
  3775                        L160:
  3776 04:0DD1: A8           	tay
  3777 04:0DD2: A5 02        	lda	<L157+2
  3778 04:0DD4: 85 0A        	sta	<L157+2+8
  3779 04:0DD6: A5 01        	lda	<L157+1
  3780 04:0DD8: 85 09        	sta	<L157+1+8
  3781 04:0DDA: 2B           	pld
  3782 04:0DDB: 3B           	tsc
  3783 04:0DDC: 18           	clc
  3784 04:0DDD: 69 08 00     	adc	#L157+8
  3785 04:0DE0: 1B           	tcs
  3786 04:0DE1: 98           	tya
  3787 04:0DE2: 6B           	rtl
  3788                        ;}
  3789                        	.line	446
  3790                        	.endblock	446
  3791             00000000   L157	equ	0
  3792             00000001   L158	equ	1
  3793 04:0DE3:              	ends
  3794                        	efunc
  3795                        	.endfunc	446,1,0
  3796                        	.line	446
  3797                        ;
  3798                        ;HFONT k_user_getFontClass(LPCSTR pFontName)
  3799                        ;{
  3800                        	.line	448
  3801                        	.line	449
  3802                        	WINMAN
  3803                        	xdef	~~k_user_getFontClass
  3804                        	func
  3805                        	.function	449
  Thu Dec  3 2020 22:25                                                Page 75


  3806                        ~~k_user_getFontClass:
  3807                        	longa	on
  3808                        	longi	on
  3809 04:0DE3: 3B           	tsc
  3810 04:0DE4: 38           	sec
  3811 04:0DE5: E9 08 00     	sbc	#L161
  3812 04:0DE8: 1B           	tcs
  3813 04:0DE9: 0B           	phd
  3814 04:0DEA: 5B           	tcd
  3815             00000004   pFontName_0	set	4
  3816                        	.block	449
  3817                        ;	PFXNODE found = NULL;
  3818                        ;	HFONT hFont = NULL;
  3819                        ;
  3820                        ;	//k_debug_strings("k_user_getFontClass:name:", (
                    LPSTR)pFontName);
  3821                        ;
  3822                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _FontList,pFontName);
  3823             00000000   found_1	set	0
  3824             00000004   hFont_1	set	4
  3825                        	.sym	found,0,138,1,32,2
  3826                        	.sym	hFont,4,129,1,32
  3827                        	.sym	pFontName,4,142,6,32
  3828 04:0DEB: 64 01        	stz	<L162+found_1
  3829 04:0DED: 64 03        	stz	<L162+found_1+2
  3830 04:0DEF: 64 05        	stz	<L162+hFont_1
  3831 04:0DF1: 64 07        	stz	<L162+hFont_1+2
  3832                        	.line	455
  3833 04:0DF3: D4 0E        	pei	<L161+pFontName_0+2
  3834 04:0DF5: D4 0C        	pei	<L161+pFontName_0
  3835 04:0DF7: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  3836 04:0DFA: 48           	pha
  3837 04:0DFB: AD xx xx     	lda	|~~_k_windowManager_FontList
  3838 04:0DFE: 48           	pha
  3839 04:0DFF: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  3840 04:0E03: 85 01        	sta	<L162+found_1
  3841 04:0E05: 86 03        	stx	<L162+found_1+2
  3842                        ;	if(found && found->data)
  3843                        	.line	456
  3844                        ;	{
  3845 04:0E07: A5 01        	lda	<L162+found_1
  3846 04:0E09: 05 03        	ora	<L162+found_1+2
  3847 04:0E0B: D0 03        	bne	L164
  3848 04:0E0D: 82 1D 00     	brl	L10025
  3849                        L164:
  3850 04:0E10: A0 02 00     	ldy	#$2
  3851 04:0E13: B7 01        	lda	[<L162+found_1],Y
  3852 04:0E15: A0 04 00     	ldy	#$4
  3853 04:0E18: 17 01        	ora	[<L162+found_1],Y
  3854 04:0E1A: D0 03        	bne	L165
  3855 04:0E1C: 82 0E 00     	brl	L10025
  3856                        L165:
  3857                        	.line	457
  3858                        ;		//k_debug_strings("k_user_getFontClass:n
                    ame:", (LPSTR)pFontName);
  3859                        ;
  3860                        ;		hFont = (HFONT)found->data;
  Thu Dec  3 2020 22:25                                                Page 76


  3861                        	.line	460
  3862 04:0E1F: A0 02 00     	ldy	#$2
  3863 04:0E22: B7 01        	lda	[<L162+found_1],Y
  3864 04:0E24: 85 05        	sta	<L162+hFont_1
  3865 04:0E26: A0 04 00     	ldy	#$4
  3866 04:0E29: B7 01        	lda	[<L162+found_1],Y
  3867 04:0E2B: 85 07        	sta	<L162+hFont_1+2
  3868                        ;
  3869                        ;		//k_debug_pointer("k_user_getFontClass:d
                    ata:", found->data);
  3870                        ;		//k_debug_integer("k_user_getFontClass:w
                    idth:", ((LPCSTR)found->data)[0]);
  3871                        ;		//k_debug_integer("k_user_getFontClass:h
                    eight:", ((LPCSTR)found->data)[1]);
  3872                        ;
  3873                        ;	}
  3874                        	.line	466
  3875                        ;
  3876                        ;	return hFont;
  3877                        L10025:
  3878                        	.line	468
  3879 04:0E2D: A6 07        	ldx	<L162+hFont_1+2
  3880 04:0E2F: A5 05        	lda	<L162+hFont_1
  3881                        L166:
  3882 04:0E31: A8           	tay
  3883 04:0E32: A5 0A        	lda	<L161+2
  3884 04:0E34: 85 0E        	sta	<L161+2+4
  3885 04:0E36: A5 09        	lda	<L161+1
  3886 04:0E38: 85 0D        	sta	<L161+1+4
  3887 04:0E3A: 2B           	pld
  3888 04:0E3B: 3B           	tsc
  3889 04:0E3C: 18           	clc
  3890 04:0E3D: 69 0C 00     	adc	#L161+4
  3891 04:0E40: 1B           	tcs
  3892 04:0E41: 98           	tya
  3893 04:0E42: 6B           	rtl
  3894                        ;}
  3895                        	.line	469
  3896                        	.endblock	469
  3897             00000008   L161	equ	8
  3898             00000001   L162	equ	1
  3899 04:0E43:              	ends
  3900                        	efunc
  3901                        	.endfunc	469,1,8
  3902                        	.line	469
  3903                        ;
  3904                        ;HPOINTER k_user_getMousePointerClass(LPCSTR pPoin
                    terName)
  3905                        ;{
  3906                        	.line	471
  3907                        	.line	472
  3908                        	WINMAN
  3909                        	xdef	~~k_user_getMousePointerClass
  3910                        	func
  3911                        	.function	472
  3912                        ~~k_user_getMousePointerClass:
  3913                        	longa	on
  3914                        	longi	on
  Thu Dec  3 2020 22:25                                                Page 77


  3915 04:0E43: 3B           	tsc
  3916 04:0E44: 38           	sec
  3917 04:0E45: E9 08 00     	sbc	#L167
  3918 04:0E48: 1B           	tcs
  3919 04:0E49: 0B           	phd
  3920 04:0E4A: 5B           	tcd
  3921             00000004   pPointerName_0	set	4
  3922                        	.block	472
  3923                        ;	PFXNODE found = NULL;
  3924                        ;	HPOINTER hPointer = NULL;
  3925                        ;
  3926                        ;	k_debug_strings("k_user_getMousePointerClass:", 
                    (LPSTR)pPointerName);
  3927             00000000   found_1	set	0
  3928             00000004   hPointer_1	set	4
  3929                        	.sym	found,0,138,1,32,2
  3930                        	.sym	hPointer,4,129,1,32
  3931                        	.sym	pPointerName,4,142,6,32
  3932 04:0E4B: 64 01        	stz	<L168+found_1
  3933 04:0E4D: 64 03        	stz	<L168+found_1+2
  3934 04:0E4F: 64 05        	stz	<L168+hPointer_1
  3935 04:0E51: 64 07        	stz	<L168+hPointer_1+2
  3936                        	.line	476
  3937 04:0E53: D4 0E        	pei	<L167+pPointerName_0+2
  3938 04:0E55: D4 0C        	pei	<L167+pPointerName_0
  3939 04:0E57: F4 xx xx     	pea	#^L156
  3940 04:0E5A: F4 xx xx     	pea	#<L156
  3941 04:0E5D: 22 xx xx xx  	jsl	~~k_debug_strings
  3942                        ;
  3943                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _CursorList,pPointerName);
  3944                        	.line	478
  3945 04:0E61: D4 0E        	pei	<L167+pPointerName_0+2
  3946 04:0E63: D4 0C        	pei	<L167+pPointerName_0
  3947 04:0E65: AD xx xx     	lda	|~~_k_windowManager_CursorList+2
  3948 04:0E68: 48           	pha
  3949 04:0E69: AD xx xx     	lda	|~~_k_windowManager_CursorList
  3950 04:0E6C: 48           	pha
  3951 04:0E6D: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  3952 04:0E71: 85 01        	sta	<L168+found_1
  3953 04:0E73: 86 03        	stx	<L168+found_1+2
  3954                        ;	if(found && found->data)
  3955                        	.line	479
  3956                        ;	{
  3957 04:0E75: A5 01        	lda	<L168+found_1
  3958 04:0E77: 05 03        	ora	<L168+found_1+2
  3959 04:0E79: D0 03        	bne	L170
  3960 04:0E7B: 82 33 00     	brl	L10026
  3961                        L170:
  3962 04:0E7E: A0 02 00     	ldy	#$2
  3963 04:0E81: B7 01        	lda	[<L168+found_1],Y
  3964 04:0E83: A0 04 00     	ldy	#$4
  3965 04:0E86: 17 01        	ora	[<L168+found_1],Y
  3966 04:0E88: D0 03        	bne	L171
  3967 04:0E8A: 82 24 00     	brl	L10026
  3968                        L171:
  3969                        	.line	480
  3970                        ;		//k_debug_strings("k_user_getMousePointe
  Thu Dec  3 2020 22:25                                                Page 78


                    rClass:", (LPSTR)pPointerName);
  3971                        ;
  3972                        ;		hPointer = (HPOINTER)found->data;
  3973                        	.line	483
  3974 04:0E8D: A0 02 00     	ldy	#$2
  3975 04:0E90: B7 01        	lda	[<L168+found_1],Y
  3976 04:0E92: 85 05        	sta	<L168+hPointer_1
  3977 04:0E94: A0 04 00     	ldy	#$4
  3978 04:0E97: B7 01        	lda	[<L168+found_1],Y
  3979 04:0E99: 85 07        	sta	<L168+hPointer_1+2
  3980                        ;
  3981                        ;		k_debug_pointer("k_user_getMousePointerC
                    lass:data:", found->data);
  3982                        	.line	485
  3983 04:0E9B: A0 04 00     	ldy	#$4
  3984 04:0E9E: B7 01        	lda	[<L168+found_1],Y
  3985 04:0EA0: 48           	pha
  3986 04:0EA1: A0 02 00     	ldy	#$2
  3987 04:0EA4: B7 01        	lda	[<L168+found_1],Y
  3988 04:0EA6: 48           	pha
  3989 04:0EA7: F4 xx xx     	pea	#^L156+29
  3990 04:0EAA: F4 xx xx     	pea	#<L156+29
  3991 04:0EAD: 22 xx xx xx  	jsl	~~k_debug_pointer
  3992                        ;	}
  3993                        	.line	486
  3994                        ;
  3995                        ;	return hPointer;
  3996                        L10026:
  3997                        	.line	488
  3998 04:0EB1: A6 07        	ldx	<L168+hPointer_1+2
  3999 04:0EB3: A5 05        	lda	<L168+hPointer_1
  4000                        L172:
  4001 04:0EB5: A8           	tay
  4002 04:0EB6: A5 0A        	lda	<L167+2
  4003 04:0EB8: 85 0E        	sta	<L167+2+4
  4004 04:0EBA: A5 09        	lda	<L167+1
  4005 04:0EBC: 85 0D        	sta	<L167+1+4
  4006 04:0EBE: 2B           	pld
  4007 04:0EBF: 3B           	tsc
  4008 04:0EC0: 18           	clc
  4009 04:0EC1: 69 0C 00     	adc	#L167+4
  4010 04:0EC4: 1B           	tcs
  4011 04:0EC5: 98           	tya
  4012 04:0EC6: 6B           	rtl
  4013                        ;}
  4014                        	.line	489
  4015                        	.endblock	489
  4016             00000008   L167	equ	8
  4017             00000001   L168	equ	1
  4018 04:0EC7:              	ends
  4019                        	efunc
  4020                        	.endfunc	489,1,8
  4021                        	.line	489
  4022                        	data
  4023                        L156:
  4024 00:03C3: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$67,$65,$74,
                    $4D,$6F,$75,$73,$65
       00:03C7: 65 72 5F 67 
  Thu Dec  3 2020 22:25                                                Page 79


       00:03CB: 65 74 4D 6F 
       00:03CF: 75 73 65 
  4025 00:03D2: 50 6F 69 6E  	db	$50,$6F,$69,$6E,$74,$65,$72,$43,$6C,$61,
                    $73,$73,$3A,$00,$6B
       00:03D6: 74 65 72 43 
       00:03DA: 6C 61 73 73 
       00:03DE: 3A 00 6B 
  4026 00:03E1: 5F 75 73 65  	db	$5F,$75,$73,$65,$72,$5F,$67,$65,$74,$4D,
                    $6F,$75,$73,$65,$50
       00:03E5: 72 5F 67 65 
       00:03E9: 74 4D 6F 75 
       00:03ED: 73 65 50 
  4027 00:03F0: 6F 69 6E 74  	db	$6F,$69,$6E,$74,$65,$72,$43,$6C,$61,$73,
                    $73,$3A,$64,$61,$74
       00:03F4: 65 72 43 6C 
       00:03F8: 61 73 73 3A 
       00:03FC: 64 61 74 
  4028 00:03FF: 61 3A 00     	db	$61,$3A,$00
  4029 00:0402:              	ends
  4030                        ;
  4031                        ;HPOINTER k_user_setMousePointer(LPCSTR pPointerNa
                    me)
  4032                        ;{
  4033                        	.line	491
  4034                        	.line	492
  4035                        	WINMAN
  4036                        	xdef	~~k_user_setMousePointer
  4037                        	func
  4038                        	.function	492
  4039                        ~~k_user_setMousePointer:
  4040                        	longa	on
  4041                        	longi	on
  4042 04:0EC7: 3B           	tsc
  4043 04:0EC8: 38           	sec
  4044 04:0EC9: E9 04 00     	sbc	#L174
  4045 04:0ECC: 1B           	tcs
  4046 04:0ECD: 0B           	phd
  4047 04:0ECE: 5B           	tcd
  4048             00000004   pPointerName_0	set	4
  4049                        	.block	492
  4050                        ;	HPOINTER hPointer = NULL;
  4051                        ;
  4052                        ;
  4053                        ;	hPointer =  k_user_getMousePointerClass(pPointer
                    Name);
  4054             00000000   hPointer_1	set	0
  4055                        	.sym	hPointer,0,129,1,32
  4056                        	.sym	pPointerName,4,142,6,32
  4057 04:0ECF: 64 01        	stz	<L175+hPointer_1
  4058 04:0ED1: 64 03        	stz	<L175+hPointer_1+2
  4059                        	.line	496
  4060 04:0ED3: D4 0A        	pei	<L174+pPointerName_0+2
  4061 04:0ED5: D4 08        	pei	<L174+pPointerName_0
  4062 04:0ED7: 22 43 0E 04  	jsl	~~k_user_getMousePointerClass
  4063 04:0EDB: 85 01        	sta	<L175+hPointer_1
  4064 04:0EDD: 86 03        	stx	<L175+hPointer_1+2
  4065                        ;	if(hPointer)
  4066                        	.line	497
  Thu Dec  3 2020 22:25                                                Page 80


  4067                        ;	{
  4068 04:0EDF: A5 01        	lda	<L175+hPointer_1
  4069 04:0EE1: 05 03        	ora	<L175+hPointer_1+2
  4070 04:0EE3: D0 03        	bne	L177
  4071 04:0EE5: 82 19 00     	brl	L10027
  4072                        L177:
  4073                        	.line	498
  4074                        ;		k_debug_pointer("k_user_setMousePointer:
                    hPointer:", hPointer);
  4075                        	.line	499
  4076 04:0EE8: D4 03        	pei	<L175+hPointer_1+2
  4077 04:0EEA: D4 01        	pei	<L175+hPointer_1
  4078 04:0EEC: F4 xx xx     	pea	#^L173
  4079 04:0EEF: F4 xx xx     	pea	#<L173
  4080 04:0EF2: 22 xx xx xx  	jsl	~~k_debug_pointer
  4081                        ;		k_gui_set_mousepointer(0,(LPVOID)hPointe
                    r);
  4082                        	.line	500
  4083 04:0EF6: D4 03        	pei	<L175+hPointer_1+2
  4084 04:0EF8: D4 01        	pei	<L175+hPointer_1
  4085 04:0EFA: F4 00 00     	pea	#<$0
  4086 04:0EFD: 22 xx xx xx  	jsl	~~k_gui_set_mousepointer
  4087                        ;	}
  4088                        	.line	501
  4089                        ;
  4090                        ;	return hPointer;
  4091                        L10027:
  4092                        	.line	503
  4093 04:0F01: A6 03        	ldx	<L175+hPointer_1+2
  4094 04:0F03: A5 01        	lda	<L175+hPointer_1
  4095                        L178:
  4096 04:0F05: A8           	tay
  4097 04:0F06: A5 06        	lda	<L174+2
  4098 04:0F08: 85 0A        	sta	<L174+2+4
  4099 04:0F0A: A5 05        	lda	<L174+1
  4100 04:0F0C: 85 09        	sta	<L174+1+4
  4101 04:0F0E: 2B           	pld
  4102 04:0F0F: 3B           	tsc
  4103 04:0F10: 18           	clc
  4104 04:0F11: 69 08 00     	adc	#L174+4
  4105 04:0F14: 1B           	tcs
  4106 04:0F15: 98           	tya
  4107 04:0F16: 6B           	rtl
  4108                        ;}
  4109                        	.line	504
  4110                        	.endblock	504
  4111             00000004   L174	equ	4
  4112             00000001   L175	equ	1
  4113 04:0F17:              	ends
  4114                        	efunc
  4115                        	.endfunc	504,1,4
  4116                        	.line	504
  4117                        	data
  4118                        L173:
  4119 00:0402: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$73,$65,$74,
                    $4D,$6F,$75,$73,$65
       00:0406: 65 72 5F 73 
       00:040A: 65 74 4D 6F 
  Thu Dec  3 2020 22:25                                                Page 81


       00:040E: 75 73 65 
  4120 00:0411: 50 6F 69 6E  	db	$50,$6F,$69,$6E,$74,$65,$72,$3A,$68,$50,
                    $6F,$69,$6E,$74,$65
       00:0415: 74 65 72 3A 
       00:0419: 68 50 6F 69 
       00:041D: 6E 74 65 
  4121 00:0420: 72 3A 00     	db	$72,$3A,$00
  4122 00:0423:              	ends
  4123                        ;
  4124                        ;
  4125                        ;PWNDCLASS k_user_CreateWindowClass(LPCSTR pClassN
                    ame,LPCSTR pMenuName,UINT style,HICON icon,HCURSOR cursor,HB
                    RUSH brush,FXWndProc pWndProc)
  4126                        ;{
  4127                        	.line	507
  4128                        	.line	508
  4129                        	WINMAN
  4130                        	xdef	~~k_user_CreateWindowClass
  4131                        	func
  4132                        	.function	508
  4133                        ~~k_user_CreateWindowClass:
  4134                        	longa	on
  4135                        	longi	on
  4136 04:0F17: 3B           	tsc
  4137 04:0F18: 38           	sec
  4138 04:0F19: E9 08 00     	sbc	#L180
  4139 04:0F1C: 1B           	tcs
  4140 04:0F1D: 0B           	phd
  4141 04:0F1E: 5B           	tcd
  4142             00000004   pClassName_0	set	4
  4143             00000008   pMenuName_0	set	8
  4144             0000000C   style_0	set	12
  4145             0000000E   icon_0	set	14
  4146             00000012   cursor_0	set	18
  4147             00000016   brush_0	set	22
  4148             0000001A   pWndProc_0	set	26
  4149                        	.block	508
  4150                        ;	PWNDCLASS wndClass = NULL;
  4151                        ;
  4152                        ;	//k_debug_strings("k_user_CreateWindowClass:",(L
                    PVOID)pClassName);
  4153                        ;
  4154                        ;
  4155                        ;	if(pClassName)
  4156             00000000   wndClass_1	set	0
  4157                        	.sym	wndClass,0,138,1,32,23
  4158                        	.sym	pClassName,4,142,6,32
  4159                        	.sym	pMenuName,8,142,6,32
  4160                        	.sym	style,12,16,6,16
  4161                        	.sym	icon,14,129,6,32
  4162                        	.sym	cursor,18,129,6,32
  4163                        	.sym	brush,22,129,6,32
  4164                        	.sym	pWndProc,26,654,6,32
  4165 04:0F1F: 64 05        	stz	<L181+wndClass_1
  4166 04:0F21: 64 07        	stz	<L181+wndClass_1+2
  4167                        	.line	514
  4168                        ;	{
  4169 04:0F23: A5 0C        	lda	<L180+pClassName_0
  Thu Dec  3 2020 22:25                                                Page 82


  4170 04:0F25: 05 0E        	ora	<L180+pClassName_0+2
  4171 04:0F27: D0 03        	bne	L183
  4172 04:0F29: 82 97 00     	brl	L10028
  4173                        L183:
  4174                        	.line	515
  4175                        ;		wndClass = k_mem_allocate_heap(sizeof(WN
                    DCLASS));
  4176                        	.line	516
  4177 04:0F2C: F4 20 00     	pea	#<$20
  4178 04:0F2F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  4179 04:0F33: 85 05        	sta	<L181+wndClass_1
  4180 04:0F35: 86 07        	stx	<L181+wndClass_1+2
  4181                        ;		if(wndClass)
  4182                        	.line	517
  4183                        ;		{
  4184 04:0F37: A5 05        	lda	<L181+wndClass_1
  4185 04:0F39: 05 07        	ora	<L181+wndClass_1+2
  4186 04:0F3B: D0 03        	bne	L184
  4187 04:0F3D: 82 83 00     	brl	L10029
  4188                        L184:
  4189                        	.line	518
  4190                        ;			memset(wndClass,0,sizeof(WNDCLAS
                    S));
  4191                        	.line	519
  4192 04:0F40: F4 20 00     	pea	#<$20
  4193 04:0F43: F4 00 00     	pea	#<$0
  4194 04:0F46: D4 07        	pei	<L181+wndClass_1+2
  4195 04:0F48: D4 05        	pei	<L181+wndClass_1
  4196 04:0F4A: 22 xx xx xx  	jsl	~~memset
  4197                        ;			wndClass->cbSize = sizeof(WNDCLA
                    SS);
  4198                        	.line	520
  4199 04:0F4E: A9 20 00     	lda	#$20
  4200 04:0F51: 87 05        	sta	[<L181+wndClass_1]
  4201                        ;			wndClass->lpszClassName = k_stri
                    ng_copy_string(pClassName);
  4202                        	.line	521
  4203 04:0F53: D4 0E        	pei	<L180+pClassName_0+2
  4204 04:0F55: D4 0C        	pei	<L180+pClassName_0
  4205 04:0F57: 22 xx xx xx  	jsl	~~k_string_copy_string
  4206 04:0F5B: 85 01        	sta	<R0
  4207 04:0F5D: 86 03        	stx	<R0+2
  4208 04:0F5F: A5 01        	lda	<R0
  4209 04:0F61: A0 1C 00     	ldy	#$1c
  4210 04:0F64: 97 05        	sta	[<L181+wndClass_1],Y
  4211 04:0F66: A5 03        	lda	<R0+2
  4212 04:0F68: A0 1E 00     	ldy	#$1e
  4213 04:0F6B: 97 05        	sta	[<L181+wndClass_1],Y
  4214                        ;			wndClass->pWndProc = pWndProc;
  4215                        	.line	522
  4216 04:0F6D: A5 22        	lda	<L180+pWndProc_0
  4217 04:0F6F: A0 04 00     	ldy	#$4
  4218 04:0F72: 97 05        	sta	[<L181+wndClass_1],Y
  4219 04:0F74: A5 24        	lda	<L180+pWndProc_0+2
  4220 04:0F76: A0 06 00     	ldy	#$6
  4221 04:0F79: 97 05        	sta	[<L181+wndClass_1],Y
  4222                        ;			wndClass->style = style;
  4223                        	.line	523
  Thu Dec  3 2020 22:25                                                Page 83


  4224 04:0F7B: A5 14        	lda	<L180+style_0
  4225 04:0F7D: A0 02 00     	ldy	#$2
  4226 04:0F80: 97 05        	sta	[<L181+wndClass_1],Y
  4227                        ;			wndClass->hIcon = icon;
  4228                        	.line	524
  4229 04:0F82: A5 16        	lda	<L180+icon_0
  4230 04:0F84: A0 0C 00     	ldy	#$c
  4231 04:0F87: 97 05        	sta	[<L181+wndClass_1],Y
  4232 04:0F89: A5 18        	lda	<L180+icon_0+2
  4233 04:0F8B: A0 0E 00     	ldy	#$e
  4234 04:0F8E: 97 05        	sta	[<L181+wndClass_1],Y
  4235                        ;			wndClass->hCursor = cursor;
  4236                        	.line	525
  4237 04:0F90: A5 1A        	lda	<L180+cursor_0
  4238 04:0F92: A0 10 00     	ldy	#$10
  4239 04:0F95: 97 05        	sta	[<L181+wndClass_1],Y
  4240 04:0F97: A5 1C        	lda	<L180+cursor_0+2
  4241 04:0F99: A0 12 00     	ldy	#$12
  4242 04:0F9C: 97 05        	sta	[<L181+wndClass_1],Y
  4243                        ;			wndClass->hbrBackground = brush;
  4244                        	.line	526
  4245 04:0F9E: A5 1E        	lda	<L180+brush_0
  4246 04:0FA0: A0 14 00     	ldy	#$14
  4247 04:0FA3: 97 05        	sta	[<L181+wndClass_1],Y
  4248 04:0FA5: A5 20        	lda	<L180+brush_0+2
  4249 04:0FA7: A0 16 00     	ldy	#$16
  4250 04:0FAA: 97 05        	sta	[<L181+wndClass_1],Y
  4251                        ;
  4252                        ;			k_nodelist_addtolist(_k_windowMa
                    nager_WindowClassList,NL_TYPE_WINDOW_CLS,pClassName,wndClass
                    );
  4253                        	.line	528
  4254 04:0FAC: D4 07        	pei	<L181+wndClass_1+2
  4255 04:0FAE: D4 05        	pei	<L181+wndClass_1
  4256 04:0FB0: D4 0E        	pei	<L180+pClassName_0+2
  4257 04:0FB2: D4 0C        	pei	<L180+pClassName_0
  4258 04:0FB4: F4 01 00     	pea	#<$1
  4259 04:0FB7: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  4260 04:0FBA: 48           	pha
  4261 04:0FBB: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  4262 04:0FBE: 48           	pha
  4263 04:0FBF: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  4264                        ;			//k_debug_nodelist(k_nodelist_ge
                    tfirstnode(_k_windowManager_WindowClassList));
  4265                        ;		}
  4266                        	.line	530
  4267                        ;
  4268                        ;		//k_debug_strings("k_user_CreateWindowCl
                    ass:","exit");
  4269                        ;	}
  4270                        L10029:
  4271                        	.line	533
  4272                        ;	return wndClass;
  4273                        L10028:
  4274                        	.line	534
  4275 04:0FC3: A6 07        	ldx	<L181+wndClass_1+2
  4276 04:0FC5: A5 05        	lda	<L181+wndClass_1
  4277                        L185:
  Thu Dec  3 2020 22:25                                                Page 84


  4278 04:0FC7: A8           	tay
  4279 04:0FC8: A5 0A        	lda	<L180+2
  4280 04:0FCA: 85 24        	sta	<L180+2+26
  4281 04:0FCC: A5 09        	lda	<L180+1
  4282 04:0FCE: 85 23        	sta	<L180+1+26
  4283 04:0FD0: 2B           	pld
  4284 04:0FD1: 3B           	tsc
  4285 04:0FD2: 18           	clc
  4286 04:0FD3: 69 22 00     	adc	#L180+26
  4287 04:0FD6: 1B           	tcs
  4288 04:0FD7: 98           	tya
  4289 04:0FD8: 6B           	rtl
  4290                        ;}
  4291                        	.line	535
  4292                        	.endblock	535
  4293             00000008   L180	equ	8
  4294             00000005   L181	equ	5
  4295 04:0FD9:              	ends
  4296                        	efunc
  4297                        	.endfunc	535,5,8
  4298                        	.line	535
  4299                        ;
  4300                        ;PWNDCLASS k_user_getWindowClass(LPCSTR pClassName
                    )
  4301                        ;{
  4302                        	.line	537
  4303                        	.line	538
  4304                        	WINMAN
  4305                        	xdef	~~k_user_getWindowClass
  4306                        	func
  4307                        	.function	538
  4308                        ~~k_user_getWindowClass:
  4309                        	longa	on
  4310                        	longi	on
  4311 04:0FD9: 3B           	tsc
  4312 04:0FDA: 38           	sec
  4313 04:0FDB: E9 08 00     	sbc	#L186
  4314 04:0FDE: 1B           	tcs
  4315 04:0FDF: 0B           	phd
  4316 04:0FE0: 5B           	tcd
  4317             00000004   pClassName_0	set	4
  4318                        	.block	538
  4319                        ;	PWNDCLASS wndClass = NULL;
  4320                        ;
  4321                        ;	PFXNODE found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  4322                        ;	if(found && found->data)
  4323             00000000   wndClass_1	set	0
  4324             00000004   found_1	set	4
  4325                        	.sym	wndClass,0,138,1,32,23
  4326                        	.sym	found,4,138,1,32,2
  4327                        	.sym	pClassName,4,142,6,32
  4328 04:0FE1: 64 01        	stz	<L187+wndClass_1
  4329 04:0FE3: 64 03        	stz	<L187+wndClass_1+2
  4330 04:0FE5: D4 0E        	pei	<L186+pClassName_0+2
  4331 04:0FE7: D4 0C        	pei	<L186+pClassName_0
  4332 04:0FE9: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  4333 04:0FEC: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 85


  4334 04:0FED: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  4335 04:0FF0: 48           	pha
  4336 04:0FF1: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4337 04:0FF5: 85 05        	sta	<L187+found_1
  4338 04:0FF7: 86 07        	stx	<L187+found_1+2
  4339                        	.line	542
  4340                        ;	{
  4341 04:0FF9: A5 05        	lda	<L187+found_1
  4342 04:0FFB: 05 07        	ora	<L187+found_1+2
  4343 04:0FFD: D0 03        	bne	L189
  4344 04:0FFF: 82 1D 00     	brl	L10030
  4345                        L189:
  4346 04:1002: A0 02 00     	ldy	#$2
  4347 04:1005: B7 05        	lda	[<L187+found_1],Y
  4348 04:1007: A0 04 00     	ldy	#$4
  4349 04:100A: 17 05        	ora	[<L187+found_1],Y
  4350 04:100C: D0 03        	bne	L190
  4351 04:100E: 82 0E 00     	brl	L10030
  4352                        L190:
  4353                        	.line	543
  4354                        ;		wndClass = (PWNDCLASS)found->data;
  4355                        	.line	544
  4356 04:1011: A0 02 00     	ldy	#$2
  4357 04:1014: B7 05        	lda	[<L187+found_1],Y
  4358 04:1016: 85 01        	sta	<L187+wndClass_1
  4359 04:1018: A0 04 00     	ldy	#$4
  4360 04:101B: B7 05        	lda	[<L187+found_1],Y
  4361 04:101D: 85 03        	sta	<L187+wndClass_1+2
  4362                        ;	}
  4363                        	.line	545
  4364                        ;
  4365                        ;	return wndClass;
  4366                        L10030:
  4367                        	.line	547
  4368 04:101F: A6 03        	ldx	<L187+wndClass_1+2
  4369 04:1021: A5 01        	lda	<L187+wndClass_1
  4370                        L191:
  4371 04:1023: A8           	tay
  4372 04:1024: A5 0A        	lda	<L186+2
  4373 04:1026: 85 0E        	sta	<L186+2+4
  4374 04:1028: A5 09        	lda	<L186+1
  4375 04:102A: 85 0D        	sta	<L186+1+4
  4376 04:102C: 2B           	pld
  4377 04:102D: 3B           	tsc
  4378 04:102E: 18           	clc
  4379 04:102F: 69 0C 00     	adc	#L186+4
  4380 04:1032: 1B           	tcs
  4381 04:1033: 98           	tya
  4382 04:1034: 6B           	rtl
  4383                        ;}
  4384                        	.line	548
  4385                        	.endblock	548
  4386             00000008   L186	equ	8
  4387             00000001   L187	equ	1
  4388 04:1035:              	ends
  4389                        	efunc
  4390                        	.endfunc	548,1,8
  4391                        	.line	548
  Thu Dec  3 2020 22:25                                                Page 86


  4392                        ;
  4393                        ;
  4394                        ;HFONT k_user_GetFont(LPCSTR pFontName)
  4395                        ;{
  4396                        	.line	551
  4397                        	.line	552
  4398                        	WINMAN
  4399                        	xdef	~~k_user_GetFont
  4400                        	func
  4401                        	.function	552
  4402                        ~~k_user_GetFont:
  4403                        	longa	on
  4404                        	longi	on
  4405 04:1035: 3B           	tsc
  4406 04:1036: 38           	sec
  4407 04:1037: E9 08 00     	sbc	#L192
  4408 04:103A: 1B           	tcs
  4409 04:103B: 0B           	phd
  4410 04:103C: 5B           	tcd
  4411             00000004   pFontName_0	set	4
  4412                        	.block	552
  4413                        ;	HFONT hFont = NULL;
  4414                        ;	PFXNODE node;
  4415                        ;
  4416                        ;	node = k_nodelist_searchByName(_k_windowManager_
                    FontList,pFontName);
  4417             00000000   hFont_1	set	0
  4418             00000004   node_1	set	4
  4419                        	.sym	hFont,0,129,1,32
  4420                        	.sym	node,4,138,1,32,2
  4421                        	.sym	pFontName,4,142,6,32
  4422 04:103D: 64 01        	stz	<L193+hFont_1
  4423 04:103F: 64 03        	stz	<L193+hFont_1+2
  4424                        	.line	556
  4425 04:1041: D4 0E        	pei	<L192+pFontName_0+2
  4426 04:1043: D4 0C        	pei	<L192+pFontName_0
  4427 04:1045: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  4428 04:1048: 48           	pha
  4429 04:1049: AD xx xx     	lda	|~~_k_windowManager_FontList
  4430 04:104C: 48           	pha
  4431 04:104D: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4432 04:1051: 85 05        	sta	<L193+node_1
  4433 04:1053: 86 07        	stx	<L193+node_1+2
  4434                        ;	if(node)
  4435                        	.line	557
  4436                        ;	{
  4437 04:1055: A5 05        	lda	<L193+node_1
  4438 04:1057: 05 07        	ora	<L193+node_1+2
  4439 04:1059: D0 03        	bne	L195
  4440 04:105B: 82 0E 00     	brl	L10031
  4441                        L195:
  4442                        	.line	558
  4443                        ;		hFont = (HFONT)node->data;
  4444                        	.line	559
  4445 04:105E: A0 02 00     	ldy	#$2
  4446 04:1061: B7 05        	lda	[<L193+node_1],Y
  4447 04:1063: 85 01        	sta	<L193+hFont_1
  4448 04:1065: A0 04 00     	ldy	#$4
  Thu Dec  3 2020 22:25                                                Page 87


  4449 04:1068: B7 05        	lda	[<L193+node_1],Y
  4450 04:106A: 85 03        	sta	<L193+hFont_1+2
  4451                        ;	}
  4452                        	.line	560
  4453                        ;
  4454                        ;	return hFont;
  4455                        L10031:
  4456                        	.line	562
  4457 04:106C: A6 03        	ldx	<L193+hFont_1+2
  4458 04:106E: A5 01        	lda	<L193+hFont_1
  4459                        L196:
  4460 04:1070: A8           	tay
  4461 04:1071: A5 0A        	lda	<L192+2
  4462 04:1073: 85 0E        	sta	<L192+2+4
  4463 04:1075: A5 09        	lda	<L192+1
  4464 04:1077: 85 0D        	sta	<L192+1+4
  4465 04:1079: 2B           	pld
  4466 04:107A: 3B           	tsc
  4467 04:107B: 18           	clc
  4468 04:107C: 69 0C 00     	adc	#L192+4
  4469 04:107F: 1B           	tcs
  4470 04:1080: 98           	tya
  4471 04:1081: 6B           	rtl
  4472                        ;}
  4473                        	.line	563
  4474                        	.endblock	563
  4475             00000008   L192	equ	8
  4476             00000001   L193	equ	1
  4477 04:1082:              	ends
  4478                        	efunc
  4479                        	.endfunc	563,1,8
  4480                        	.line	563
  4481                        ;
  4482                        ;HDC k_user_GetWindowDrawingContext(HWND hWnd)
  4483                        ;{
  4484                        	.line	565
  4485                        	.line	566
  4486                        	WINMAN
  4487                        	xdef	~~k_user_GetWindowDrawingContext
  4488                        	func
  4489                        	.function	566
  4490                        ~~k_user_GetWindowDrawingContext:
  4491                        	longa	on
  4492                        	longi	on
  4493 04:1082: 3B           	tsc
  4494 04:1083: 38           	sec
  4495 04:1084: E9 00 00     	sbc	#L197
  4496 04:1087: 1B           	tcs
  4497 04:1088: 0B           	phd
  4498 04:1089: 5B           	tcd
  4499             00000004   hWnd_0	set	4
  4500                        	.block	566
  4501                        ;	return NULL;
  4502                        	.sym	hWnd,4,129,6,32
  4503                        	.line	567
  4504 04:108A: A9 00 00     	lda	#$0
  4505 04:108D: AA           	tax
  4506 04:108E: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 88


  4507                        L200:
  4508 04:1091: A8           	tay
  4509 04:1092: A5 02        	lda	<L197+2
  4510 04:1094: 85 06        	sta	<L197+2+4
  4511 04:1096: A5 01        	lda	<L197+1
  4512 04:1098: 85 05        	sta	<L197+1+4
  4513 04:109A: 2B           	pld
  4514 04:109B: 3B           	tsc
  4515 04:109C: 18           	clc
  4516 04:109D: 69 04 00     	adc	#L197+4
  4517 04:10A0: 1B           	tcs
  4518 04:10A1: 98           	tya
  4519 04:10A2: 6B           	rtl
  4520                        ;}
  4521                        	.line	568
  4522                        	.endblock	568
  4523             00000000   L197	equ	0
  4524             00000001   L198	equ	1
  4525 04:10A3:              	ends
  4526                        	efunc
  4527                        	.endfunc	568,1,0
  4528                        	.line	568
  4529                        ;
  4530                        ;VOID k_user_ReleaseWindowDrawingContext(HDC hDC)
  4531                        ;{
  4532                        	.line	570
  4533                        	.line	571
  4534                        	WINMAN
  4535                        	xdef	~~k_user_ReleaseWindowDrawingContext
  4536                        	func
  4537                        	.function	571
  4538                        ~~k_user_ReleaseWindowDrawingContext:
  4539                        	longa	on
  4540                        	longi	on
  4541 04:10A3: 3B           	tsc
  4542 04:10A4: 38           	sec
  4543 04:10A5: E9 00 00     	sbc	#L201
  4544 04:10A8: 1B           	tcs
  4545 04:10A9: 0B           	phd
  4546 04:10AA: 5B           	tcd
  4547             00000004   hDC_0	set	4
  4548                        	.block	571
  4549                        ;
  4550                        ;}
  4551                        	.sym	hDC,4,129,6,32
  4552                        	.line	573
  4553                        L204:
  4554 04:10AB: A5 02        	lda	<L201+2
  4555 04:10AD: 85 06        	sta	<L201+2+4
  4556 04:10AF: A5 01        	lda	<L201+1
  4557 04:10B1: 85 05        	sta	<L201+1+4
  4558 04:10B3: 2B           	pld
  4559 04:10B4: 3B           	tsc
  4560 04:10B5: 18           	clc
  4561 04:10B6: 69 04 00     	adc	#L201+4
  4562 04:10B9: 1B           	tcs
  4563 04:10BA: 6B           	rtl
  4564                        	.endblock	573
  Thu Dec  3 2020 22:25                                                Page 89


  4565             00000000   L201	equ	0
  4566             00000001   L202	equ	1
  4567 04:10BB:              	ends
  4568                        	efunc
  4569                        	.endfunc	573,1,0
  4570                        	.line	573
  4571                        ;
  4572                        ;
  4573                        ;VOID k_user_SelectFontIntoContext(HDC hDC,HFONT h
                    Font)
  4574                        ;{
  4575                        	.line	576
  4576                        	.line	577
  4577                        	WINMAN
  4578                        	xdef	~~k_user_SelectFontIntoContext
  4579                        	func
  4580                        	.function	577
  4581                        ~~k_user_SelectFontIntoContext:
  4582                        	longa	on
  4583                        	longi	on
  4584 04:10BB: 3B           	tsc
  4585 04:10BC: 38           	sec
  4586 04:10BD: E9 00 00     	sbc	#L205
  4587 04:10C0: 1B           	tcs
  4588 04:10C1: 0B           	phd
  4589 04:10C2: 5B           	tcd
  4590             00000004   hDC_0	set	4
  4591             00000008   hFont_0	set	8
  4592                        	.block	577
  4593                        ;
  4594                        ;}
  4595                        	.sym	hDC,4,129,6,32
  4596                        	.sym	hFont,8,129,6,32
  4597                        	.line	579
  4598                        L208:
  4599 04:10C3: A5 02        	lda	<L205+2
  4600 04:10C5: 85 0A        	sta	<L205+2+8
  4601 04:10C7: A5 01        	lda	<L205+1
  4602 04:10C9: 85 09        	sta	<L205+1+8
  4603 04:10CB: 2B           	pld
  4604 04:10CC: 3B           	tsc
  4605 04:10CD: 18           	clc
  4606 04:10CE: 69 08 00     	adc	#L205+8
  4607 04:10D1: 1B           	tcs
  4608 04:10D2: 6B           	rtl
  4609                        	.endblock	579
  4610             00000000   L205	equ	0
  4611             00000001   L206	equ	1
  4612 04:10D3:              	ends
  4613                        	efunc
  4614                        	.endfunc	579,1,0
  4615                        	.line	579
  4616                        ;
  4617                        ;VOID k_user_SelectColorIntoContext(HDC hDC,HCOLOR
                     hFont)
  4618                        ;{
  4619                        	.line	581
  4620                        	.line	582
  Thu Dec  3 2020 22:25                                                Page 90


  4621                        	WINMAN
  4622                        	xdef	~~k_user_SelectColorIntoContext
  4623                        	func
  4624                        	.function	582
  4625                        ~~k_user_SelectColorIntoContext:
  4626                        	longa	on
  4627                        	longi	on
  4628 04:10D3: 3B           	tsc
  4629 04:10D4: 38           	sec
  4630 04:10D5: E9 00 00     	sbc	#L209
  4631 04:10D8: 1B           	tcs
  4632 04:10D9: 0B           	phd
  4633 04:10DA: 5B           	tcd
  4634             00000004   hDC_0	set	4
  4635             00000008   hFont_0	set	8
  4636                        	.block	582
  4637                        ;
  4638                        ;}
  4639                        	.sym	hDC,4,129,6,32
  4640                        	.sym	hFont,8,129,6,32
  4641                        	.line	584
  4642                        L212:
  4643 04:10DB: A5 02        	lda	<L209+2
  4644 04:10DD: 85 0A        	sta	<L209+2+8
  4645 04:10DF: A5 01        	lda	<L209+1
  4646 04:10E1: 85 09        	sta	<L209+1+8
  4647 04:10E3: 2B           	pld
  4648 04:10E4: 3B           	tsc
  4649 04:10E5: 18           	clc
  4650 04:10E6: 69 08 00     	adc	#L209+8
  4651 04:10E9: 1B           	tcs
  4652 04:10EA: 6B           	rtl
  4653                        	.endblock	584
  4654             00000000   L209	equ	0
  4655             00000001   L210	equ	1
  4656 04:10EB:              	ends
  4657                        	efunc
  4658                        	.endfunc	584,1,0
  4659                        	.line	584
  4660                        ;
  4661                        ;UINT k_user_DrawText(HDC hDC,LPCSTR text,PRECT lo
                    cInOUt)
  4662                        ;{
  4663                        	.line	586
  4664                        	.line	587
  4665                        	WINMAN
  4666                        	xdef	~~k_user_DrawText
  4667                        	func
  4668                        	.function	587
  4669                        ~~k_user_DrawText:
  4670                        	longa	on
  4671                        	longi	on
  4672 04:10EB: 3B           	tsc
  4673 04:10EC: 38           	sec
  4674 04:10ED: E9 00 00     	sbc	#L213
  4675 04:10F0: 1B           	tcs
  4676 04:10F1: 0B           	phd
  4677 04:10F2: 5B           	tcd
  Thu Dec  3 2020 22:25                                                Page 91


  4678             00000004   hDC_0	set	4
  4679             00000008   text_0	set	8
  4680             0000000C   locInOUt_0	set	12
  4681                        	.block	587
  4682                        ;	return 0;
  4683                        	.sym	hDC,4,129,6,32
  4684                        	.sym	text,8,142,6,32
  4685                        	.sym	locInOUt,12,138,6,32,22
  4686                        	.line	588
  4687 04:10F3: A9 00 00     	lda	#$0
  4688                        L216:
  4689 04:10F6: A8           	tay
  4690 04:10F7: A5 02        	lda	<L213+2
  4691 04:10F9: 85 0E        	sta	<L213+2+12
  4692 04:10FB: A5 01        	lda	<L213+1
  4693 04:10FD: 85 0D        	sta	<L213+1+12
  4694 04:10FF: 2B           	pld
  4695 04:1100: 3B           	tsc
  4696 04:1101: 18           	clc
  4697 04:1102: 69 0C 00     	adc	#L213+12
  4698 04:1105: 1B           	tcs
  4699 04:1106: 98           	tya
  4700 04:1107: 6B           	rtl
  4701                        ;}
  4702                        	.line	589
  4703                        	.endblock	589
  4704             00000000   L213	equ	0
  4705             00000001   L214	equ	1
  4706 04:1108:              	ends
  4707                        	efunc
  4708                        	.endfunc	589,1,0
  4709                        	.line	589
  4710                        ;
  4711                        ;UINT k_user_DrawWindowTextToPoint(HWND hWnd,LPCST
                    R text,UINT color,PRECT rectInOUt)
  4712                        ;{
  4713                        	.line	591
  4714                        	.line	592
  4715                        	WINMAN
  4716                        	xdef	~~k_user_DrawWindowTextToPoint
  4717                        	func
  4718                        	.function	592
  4719                        ~~k_user_DrawWindowTextToPoint:
  4720                        	longa	on
  4721                        	longi	on
  4722 04:1108: 3B           	tsc
  4723 04:1109: 38           	sec
  4724 04:110A: E9 04 00     	sbc	#L217
  4725 04:110D: 1B           	tcs
  4726 04:110E: 0B           	phd
  4727 04:110F: 5B           	tcd
  4728             00000004   hWnd_0	set	4
  4729             00000008   text_0	set	8
  4730             0000000C   color_0	set	12
  4731             0000000E   rectInOUt_0	set	14
  4732                        	.block	592
  4733                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  4734                        ;
  Thu Dec  3 2020 22:25                                                Page 92


  4735                        ;	if(pWin)
  4736             00000000   pWin_1	set	0
  4737                        	.sym	pWin,0,138,1,32,27
  4738                        	.sym	hWnd,4,129,6,32
  4739                        	.sym	text,8,142,6,32
  4740                        	.sym	color,12,16,6,16
  4741                        	.sym	rectInOUt,14,138,6,32,22
  4742 04:1110: D4 0A        	pei	<L217+hWnd_0+2
  4743 04:1112: D4 08        	pei	<L217+hWnd_0
  4744 04:1114: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  4745 04:1118: 85 01        	sta	<L218+pWin_1
  4746 04:111A: 86 03        	stx	<L218+pWin_1+2
  4747                        	.line	595
  4748                        ;	{
  4749 04:111C: A5 01        	lda	<L218+pWin_1
  4750 04:111E: 05 03        	ora	<L218+pWin_1+2
  4751 04:1120: D0 03        	bne	L220
  4752 04:1122: 82 25 00     	brl	L10032
  4753                        L220:
  4754                        	.line	596
  4755                        ;		k_draw_text_point_with_font(text,Bm437AT
                    I8x16,pWin->clientRect.x + rectInOUt->x,pWin->clientRect.y +
                     rectInOUt->y,color);
  4756                        	.line	597
  4757 04:1125: D4 10        	pei	<L217+color_0
  4758 04:1127: 18           	clc
  4759 04:1128: A0 1A 00     	ldy	#$1a
  4760 04:112B: B7 01        	lda	[<L218+pWin_1],Y
  4761 04:112D: A0 02 00     	ldy	#$2
  4762 04:1130: 77 12        	adc	[<L217+rectInOUt_0],Y
  4763 04:1132: 48           	pha
  4764 04:1133: 18           	clc
  4765 04:1134: A0 18 00     	ldy	#$18
  4766 04:1137: B7 01        	lda	[<L218+pWin_1],Y
  4767 04:1139: 67 12        	adc	[<L217+rectInOUt_0]
  4768 04:113B: 48           	pha
  4769 04:113C: F4 xx xx     	pea	#^~~Bm437ATI8x16
  4770 04:113F: F4 xx xx     	pea	#<~~Bm437ATI8x16
  4771 04:1142: D4 0E        	pei	<L217+text_0+2
  4772 04:1144: D4 0C        	pei	<L217+text_0
  4773 04:1146: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  4774                        ;	}
  4775                        	.line	598
  4776                        ;
  4777                        ;	return 0;
  4778                        L10032:
  4779                        	.line	600
  4780 04:114A: A9 00 00     	lda	#$0
  4781                        L221:
  4782 04:114D: A8           	tay
  4783 04:114E: A5 06        	lda	<L217+2
  4784 04:1150: 85 14        	sta	<L217+2+14
  4785 04:1152: A5 05        	lda	<L217+1
  4786 04:1154: 85 13        	sta	<L217+1+14
  4787 04:1156: 2B           	pld
  4788 04:1157: 3B           	tsc
  4789 04:1158: 18           	clc
  4790 04:1159: 69 12 00     	adc	#L217+14
  Thu Dec  3 2020 22:25                                                Page 93


  4791 04:115C: 1B           	tcs
  4792 04:115D: 98           	tya
  4793 04:115E: 6B           	rtl
  4794                        ;}
  4795                        	.line	601
  4796                        	.endblock	601
  4797             00000004   L217	equ	4
  4798             00000001   L218	equ	1
  4799 04:115F:              	ends
  4800                        	efunc
  4801                        	.endfunc	601,1,4
  4802                        	.line	601
  4803                        ;
  4804                        ;UINT k_user_DrawWindowTextToPointWithFont(HWND hW
                    nd,LPCSTR text,UINT color,PRECT rectInOUt,LPCSTR charSet)
  4805                        ;{
  4806                        	.line	603
  4807                        	.line	604
  4808                        	WINMAN
  4809                        	xdef	~~k_user_DrawWindowTextToPointWithFont
  4810                        	func
  4811                        	.function	604
  4812                        ~~k_user_DrawWindowTextToPointWithFont:
  4813                        	longa	on
  4814                        	longi	on
  4815 04:115F: 3B           	tsc
  4816 04:1160: 38           	sec
  4817 04:1161: E9 06 00     	sbc	#L222
  4818 04:1164: 1B           	tcs
  4819 04:1165: 0B           	phd
  4820 04:1166: 5B           	tcd
  4821             00000004   hWnd_0	set	4
  4822             00000008   text_0	set	8
  4823             0000000C   color_0	set	12
  4824             0000000E   rectInOUt_0	set	14
  4825             00000012   charSet_0	set	18
  4826                        	.block	604
  4827                        ;	UINT x = 0;
  4828                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  4829                        ;
  4830                        ;	if(pWin)
  4831             00000000   x_1	set	0
  4832             00000002   pWin_1	set	2
  4833                        	.sym	x,0,16,1,16
  4834                        	.sym	pWin,2,138,1,32,27
  4835                        	.sym	hWnd,4,129,6,32
  4836                        	.sym	text,8,142,6,32
  4837                        	.sym	color,12,16,6,16
  4838                        	.sym	rectInOUt,14,138,6,32,22
  4839                        	.sym	charSet,18,142,6,32
  4840 04:1167: 64 01        	stz	<L223+x_1
  4841 04:1169: D4 0C        	pei	<L222+hWnd_0+2
  4842 04:116B: D4 0A        	pei	<L222+hWnd_0
  4843 04:116D: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  4844 04:1171: 85 03        	sta	<L223+pWin_1
  4845 04:1173: 86 05        	stx	<L223+pWin_1+2
  4846                        	.line	608
  4847                        ;	{
  Thu Dec  3 2020 22:25                                                Page 94


  4848 04:1175: A5 03        	lda	<L223+pWin_1
  4849 04:1177: 05 05        	ora	<L223+pWin_1+2
  4850 04:1179: D0 03        	bne	L225
  4851 04:117B: 82 25 00     	brl	L10033
  4852                        L225:
  4853                        	.line	609
  4854                        ;		//if(pWin->clientRect.y + rectInOUt->y >
                     pWin->win_height)
  4855                        ;		//	return 0;
  4856                        ;
  4857                        ;		x = k_draw_text_point_with_font(text,cha
                    rSet,pWin->clientRect.x + rectInOUt->x,pWin->clientRect.y + 
                    rectInOUt->y,color);
  4858                        	.line	613
  4859 04:117E: D4 12        	pei	<L222+color_0
  4860 04:1180: 18           	clc
  4861 04:1181: A0 1A 00     	ldy	#$1a
  4862 04:1184: B7 03        	lda	[<L223+pWin_1],Y
  4863 04:1186: A0 02 00     	ldy	#$2
  4864 04:1189: 77 14        	adc	[<L222+rectInOUt_0],Y
  4865 04:118B: 48           	pha
  4866 04:118C: 18           	clc
  4867 04:118D: A0 18 00     	ldy	#$18
  4868 04:1190: B7 03        	lda	[<L223+pWin_1],Y
  4869 04:1192: 67 14        	adc	[<L222+rectInOUt_0]
  4870 04:1194: 48           	pha
  4871 04:1195: D4 1A        	pei	<L222+charSet_0+2
  4872 04:1197: D4 18        	pei	<L222+charSet_0
  4873 04:1199: D4 10        	pei	<L222+text_0+2
  4874 04:119B: D4 0E        	pei	<L222+text_0
  4875 04:119D: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  4876 04:11A1: 85 01        	sta	<L223+x_1
  4877                        ;	}
  4878                        	.line	614
  4879                        ;
  4880                        ;	return x;
  4881                        L10033:
  4882                        	.line	616
  4883 04:11A3: A5 01        	lda	<L223+x_1
  4884                        L226:
  4885 04:11A5: A8           	tay
  4886 04:11A6: A5 08        	lda	<L222+2
  4887 04:11A8: 85 1A        	sta	<L222+2+18
  4888 04:11AA: A5 07        	lda	<L222+1
  4889 04:11AC: 85 19        	sta	<L222+1+18
  4890 04:11AE: 2B           	pld
  4891 04:11AF: 3B           	tsc
  4892 04:11B0: 18           	clc
  4893 04:11B1: 69 18 00     	adc	#L222+18
  4894 04:11B4: 1B           	tcs
  4895 04:11B5: 98           	tya
  4896 04:11B6: 6B           	rtl
  4897                        ;}
  4898                        	.line	617
  4899                        	.endblock	617
  4900             00000006   L222	equ	6
  4901             00000001   L223	equ	1
  4902 04:11B7:              	ends
  Thu Dec  3 2020 22:25                                                Page 95


  4903                        	efunc
  4904                        	.endfunc	617,1,6
  4905                        	.line	617
  4906                        ;
  4907                        ;
  4908                        ;PRECT k_user_FillClientRect(HWND hWnd,UINT color)
  4909                        ;{
  4910                        	.line	620
  4911                        	.line	621
  4912                        	WINMAN
  4913                        	xdef	~~k_user_FillClientRect
  4914                        	func
  4915                        	.function	621
  4916                        ~~k_user_FillClientRect:
  4917                        	longa	on
  4918                        	longi	on
  4919 04:11B7: 3B           	tsc
  4920 04:11B8: 38           	sec
  4921 04:11B9: E9 0C 00     	sbc	#L227
  4922 04:11BC: 1B           	tcs
  4923 04:11BD: 0B           	phd
  4924 04:11BE: 5B           	tcd
  4925             00000004   hWnd_0	set	4
  4926             00000008   color_0	set	8
  4927                        	.block	621
  4928                        ;	PRECT prect = NULL;
  4929                        ;
  4930                        ;	if(hWnd)
  4931             00000000   prect_1	set	0
  4932                        	.sym	prect,0,138,1,32,22
  4933                        	.sym	hWnd,4,129,6,32
  4934                        	.sym	color,8,16,6,16
  4935 04:11BF: 64 09        	stz	<L228+prect_1
  4936 04:11C1: 64 0B        	stz	<L228+prect_1+2
  4937                        	.line	624
  4938                        ;	{
  4939 04:11C3: A5 10        	lda	<L227+hWnd_0
  4940 04:11C5: 05 12        	ora	<L227+hWnd_0+2
  4941 04:11C7: D0 03        	bne	L230
  4942 04:11C9: 82 54 00     	brl	L10034
  4943                        L230:
  4944                        	.line	625
  4945                        ;		prect = &(k_getWindowFromHandle(hWnd)->c
                    lientRect);
  4946                        	.line	626
  4947 04:11CC: D4 12        	pei	<L227+hWnd_0+2
  4948 04:11CE: D4 10        	pei	<L227+hWnd_0
  4949 04:11D0: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  4950 04:11D4: 85 01        	sta	<R0
  4951 04:11D6: 86 03        	stx	<R0+2
  4952 04:11D8: 18           	clc
  4953 04:11D9: A9 18 00     	lda	#$18
  4954 04:11DC: 65 01        	adc	<R0
  4955 04:11DE: 85 09        	sta	<L228+prect_1
  4956 04:11E0: A9 00 00     	lda	#$0
  4957 04:11E3: 65 03        	adc	<R0+2
  4958 04:11E5: 85 0B        	sta	<L228+prect_1+2
  4959                        ;		k_vdma_fill_rect(prect->x,prect->y,
  Thu Dec  3 2020 22:25                                                Page 96


  4960                        	.line	627
  4961                        ;						 prect->
                    width,prect->height,
  4962                        ;						 color);
  4963 04:11E7: D4 14        	pei	<L227+color_0
  4964 04:11E9: A0 06 00     	ldy	#$6
  4965 04:11EC: B7 09        	lda	[<L228+prect_1],Y
  4966 04:11EE: 48           	pha
  4967 04:11EF: A0 04 00     	ldy	#$4
  4968 04:11F2: B7 09        	lda	[<L228+prect_1],Y
  4969 04:11F4: 48           	pha
  4970 04:11F5: A0 00 00     	ldy	#$0
  4971 04:11F8: 5A           	phy
  4972 04:11F9: A0 02 00     	ldy	#$2
  4973 04:11FC: B7 09        	lda	[<L228+prect_1],Y
  4974 04:11FE: 7A           	ply
  4975 04:11FF: 2A           	rol	A
  4976 04:1200: 6A           	ror	A
  4977 04:1201: 10 01        	bpl	L231
  4978 04:1203: 88           	dey
  4979                        L231:
  4980 04:1204: 85 01        	sta	<R0
  4981 04:1206: 84 03        	sty	<R0+2
  4982 04:1208: D4 03        	pei	<R0+2
  4983 04:120A: D4 01        	pei	<R0
  4984 04:120C: A0 00 00     	ldy	#$0
  4985 04:120F: A7 09        	lda	[<L228+prect_1]
  4986 04:1211: 10 01        	bpl	L232
  4987 04:1213: 88           	dey
  4988                        L232:
  4989 04:1214: 85 05        	sta	<R1
  4990 04:1216: 84 07        	sty	<R1+2
  4991 04:1218: D4 07        	pei	<R1+2
  4992 04:121A: D4 05        	pei	<R1
  4993 04:121C: 22 xx xx xx  	jsl	~~k_vdma_fill_rect
  4994                        ;	}
  4995                        	.line	630
  4996                        ;
  4997                        ;
  4998                        ;	return prect;
  4999                        L10034:
  5000                        	.line	633
  5001 04:1220: A6 0B        	ldx	<L228+prect_1+2
  5002 04:1222: A5 09        	lda	<L228+prect_1
  5003                        L233:
  5004 04:1224: A8           	tay
  5005 04:1225: A5 0E        	lda	<L227+2
  5006 04:1227: 85 14        	sta	<L227+2+6
  5007 04:1229: A5 0D        	lda	<L227+1
  5008 04:122B: 85 13        	sta	<L227+1+6
  5009 04:122D: 2B           	pld
  5010 04:122E: 3B           	tsc
  5011 04:122F: 18           	clc
  5012 04:1230: 69 12 00     	adc	#L227+6
  5013 04:1233: 1B           	tcs
  5014 04:1234: 98           	tya
  5015 04:1235: 6B           	rtl
  5016                        ;}
  Thu Dec  3 2020 22:25                                                Page 97


  5017                        	.line	634
  5018                        	.endblock	634
  5019             0000000C   L227	equ	12
  5020             00000009   L228	equ	9
  5021 04:1236:              	ends
  5022                        	efunc
  5023                        	.endfunc	634,9,12
  5024                        	.line	634
  5025                        ;
  5026                        ;HANDLE k_user_RegisterWindowClass(PWNDCLASS pTemp
                    late)
  5027                        ;{
  5028                        	.line	636
  5029                        	.line	637
  5030                        	WINMAN
  5031                        	xdef	~~k_user_RegisterWindowClass
  5032                        	func
  5033                        	.function	637
  5034                        ~~k_user_RegisterWindowClass:
  5035                        	longa	on
  5036                        	longi	on
  5037 04:1236: 3B           	tsc
  5038 04:1237: 38           	sec
  5039 04:1238: E9 00 00     	sbc	#L234
  5040 04:123B: 1B           	tcs
  5041 04:123C: 0B           	phd
  5042 04:123D: 5B           	tcd
  5043             00000004   pTemplate_0	set	4
  5044                        	.block	637
  5045                        ;	return NULL;
  5046                        	.sym	pTemplate,4,138,6,32,23
  5047                        	.line	638
  5048 04:123E: A9 00 00     	lda	#$0
  5049 04:1241: AA           	tax
  5050 04:1242: A9 00 00     	lda	#$0
  5051                        L237:
  5052 04:1245: A8           	tay
  5053 04:1246: A5 02        	lda	<L234+2
  5054 04:1248: 85 06        	sta	<L234+2+4
  5055 04:124A: A5 01        	lda	<L234+1
  5056 04:124C: 85 05        	sta	<L234+1+4
  5057 04:124E: 2B           	pld
  5058 04:124F: 3B           	tsc
  5059 04:1250: 18           	clc
  5060 04:1251: 69 04 00     	adc	#L234+4
  5061 04:1254: 1B           	tcs
  5062 04:1255: 98           	tya
  5063 04:1256: 6B           	rtl
  5064                        ;}
  5065                        	.line	639
  5066                        	.endblock	639
  5067             00000000   L234	equ	0
  5068             00000001   L235	equ	1
  5069 04:1257:              	ends
  5070                        	efunc
  5071                        	.endfunc	639,1,0
  5072                        	.line	639
  5073                        ;
  Thu Dec  3 2020 22:25                                                Page 98


  5074                        ;
  5075                        ;PWINDOW	k_user_LoadDialog(LPCSTR    pWindowName,
  5076                        ;						  LPCSTR
                    	pDlgClassName,
  5077                        ;   						
                      INT       x,
  5078                        ;						  INT   
                        y,
  5079                        ;						  INT   
                        nWidth,
  5080                        ;						  INT   
                        nHeight,
  5081                        ;						  HWND  
                        hWndParent)
  5082                        ;{
  5083                        	.line	642
  5084                        	.line	649
  5085                        	WINMAN
  5086                        	xdef	~~k_user_LoadDialog
  5087                        	func
  5088                        	.function	649
  5089                        ~~k_user_LoadDialog:
  5090                        	longa	on
  5091                        	longi	on
  5092 04:1257: 3B           	tsc
  5093 04:1258: 38           	sec
  5094 04:1259: E9 04 00     	sbc	#L238
  5095 04:125C: 1B           	tcs
  5096 04:125D: 0B           	phd
  5097 04:125E: 5B           	tcd
  5098             00000004   pWindowName_0	set	4
  5099             00000008   pDlgClassName_0	set	8
  5100             0000000C   x_0	set	12
  5101             0000000E   y_0	set	14
  5102             00000010   nWidth_0	set	16
  5103             00000012   nHeight_0	set	18
  5104             00000014   hWndParent_0	set	20
  5105                        	.block	649
  5106                        ;	return k_user_CreateWindow(FXWS_DLGFRAME | FXWS_
                    VISIBLE,
  5107                        	.sym	pWindowName,4,142,6,32
  5108                        	.sym	pDlgClassName,8,142,6,32
  5109                        	.sym	x,12,5,6,16
  5110                        	.sym	y,14,5,6,16
  5111                        	.sym	nWidth,16,5,6,16
  5112                        	.sym	nHeight,18,5,6,16
  5113                        	.sym	hWndParent,20,129,6,32
  5114                        	.line	650
  5115                        ;							
                       pDlgClassName,
  5116                        ;							
                       pWindowName,
  5117                        ;							
                       x,y,
  5118                        ;							
                       nWidth,nHeight,
  5119                        ;							
                       hWndParent,
  Thu Dec  3 2020 22:25                                                Page 99


  5120                        ;							
                       NULL,
  5121                        ;							
                       NULL);
  5122 04:125F: F4 00 00     	pea	#^$0
  5123 04:1262: F4 00 00     	pea	#<$0
  5124 04:1265: F4 00 00     	pea	#^$0
  5125 04:1268: F4 00 00     	pea	#<$0
  5126 04:126B: D4 1A        	pei	<L238+hWndParent_0+2
  5127 04:126D: D4 18        	pei	<L238+hWndParent_0
  5128 04:126F: D4 16        	pei	<L238+nHeight_0
  5129 04:1271: D4 14        	pei	<L238+nWidth_0
  5130 04:1273: D4 12        	pei	<L238+y_0
  5131 04:1275: D4 10        	pei	<L238+x_0
  5132 04:1277: D4 0A        	pei	<L238+pWindowName_0+2
  5133 04:1279: D4 08        	pei	<L238+pWindowName_0
  5134 04:127B: D4 0E        	pei	<L238+pDlgClassName_0+2
  5135 04:127D: D4 0C        	pei	<L238+pDlgClassName_0
  5136 04:127F: F4 04 00     	pea	#^$40001
  5137 04:1282: F4 01 00     	pea	#<$40001
  5138 04:1285: 22 08 14 04  	jsl	~~k_user_CreateWindow
  5139 04:1289: 85 01        	sta	<R0
  5140 04:128B: 86 03        	stx	<R0+2
  5141 04:128D: A6 03        	ldx	<R0+2
  5142 04:128F: A5 01        	lda	<R0
  5143                        L241:
  5144 04:1291: A8           	tay
  5145 04:1292: A5 06        	lda	<L238+2
  5146 04:1294: 85 1A        	sta	<L238+2+20
  5147 04:1296: A5 05        	lda	<L238+1
  5148 04:1298: 85 19        	sta	<L238+1+20
  5149 04:129A: 2B           	pld
  5150 04:129B: 3B           	tsc
  5151 04:129C: 18           	clc
  5152 04:129D: 69 18 00     	adc	#L238+20
  5153 04:12A0: 1B           	tcs
  5154 04:12A1: 98           	tya
  5155 04:12A2: 6B           	rtl
  5156                        ;
  5157                        ;}
  5158                        	.line	659
  5159                        	.endblock	659
  5160             00000004   L238	equ	4
  5161             00000005   L239	equ	5
  5162 04:12A3:              	ends
  5163                        	efunc
  5164                        	.endfunc	659,5,4
  5165                        	.line	659
  5166                        ;
  5167                        ;BOOL k_user_CloseWindow(HWND hWnd)
  5168                        ;{
  5169                        	.line	661
  5170                        	.line	662
  5171                        	WINMAN
  5172                        	xdef	~~k_user_CloseWindow
  5173                        	func
  5174                        	.function	662
  5175                        ~~k_user_CloseWindow:
  Thu Dec  3 2020 22:25                                                Page 100


  5176                        	longa	on
  5177                        	longi	on
  5178 04:12A3: 3B           	tsc
  5179 04:12A4: 38           	sec
  5180 04:12A5: E9 04 00     	sbc	#L242
  5181 04:12A8: 1B           	tcs
  5182 04:12A9: 0B           	phd
  5183 04:12AA: 5B           	tcd
  5184             00000004   hWnd_0	set	4
  5185                        	.block	662
  5186                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  5187                        ;
  5188                        ;	if(pWin)
  5189             00000000   pWin_1	set	0
  5190                        	.sym	pWin,0,138,1,32,27
  5191                        	.sym	hWnd,4,129,6,32
  5192 04:12AB: D4 0A        	pei	<L242+hWnd_0+2
  5193 04:12AD: D4 08        	pei	<L242+hWnd_0
  5194 04:12AF: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  5195 04:12B3: 85 01        	sta	<L243+pWin_1
  5196 04:12B5: 86 03        	stx	<L243+pWin_1+2
  5197                        	.line	665
  5198                        ;	{
  5199 04:12B7: A5 01        	lda	<L243+pWin_1
  5200 04:12B9: 05 03        	ora	<L243+pWin_1+2
  5201 04:12BB: D0 03        	bne	L245
  5202 04:12BD: 82 36 00     	brl	L10035
  5203                        L245:
  5204                        	.line	666
  5205                        ;		if(!pWin->isClosed)
  5206                        	.line	667
  5207                        ;		{
  5208 04:12C0: A0 5D 01     	ldy	#$15d
  5209 04:12C3: B7 01        	lda	[<L243+pWin_1],Y
  5210 04:12C5: 29 FF 00     	and	#$ff
  5211 04:12C8: F0 03        	beq	L246
  5212 04:12CA: 82 14 00     	brl	L10036
  5213                        L246:
  5214                        	.line	668
  5215                        ;			k_send_window_message(hWnd,FX_WI
                    NDOW_CLOSE,NULL,0);
  5216                        	.line	669
  5217 04:12CD: F4 00 00     	pea	#<$0
  5218 04:12D0: F4 00 00     	pea	#^$0
  5219 04:12D3: F4 00 00     	pea	#<$0
  5220 04:12D6: F4 FF FB     	pea	#<$fbff
  5221 04:12D9: D4 0A        	pei	<L242+hWnd_0+2
  5222 04:12DB: D4 08        	pei	<L242+hWnd_0
  5223 04:12DD: 22 xx xx xx  	jsl	~~k_send_window_message
  5224                        ;		}
  5225                        	.line	670
  5226                        ;		return TRUE;
  5227                        L10036:
  5228                        	.line	671
  5229 04:12E1: A9 01 00     	lda	#$1
  5230                        L247:
  5231 04:12E4: A8           	tay
  5232 04:12E5: A5 06        	lda	<L242+2
  Thu Dec  3 2020 22:25                                                Page 101


  5233 04:12E7: 85 0A        	sta	<L242+2+4
  5234 04:12E9: A5 05        	lda	<L242+1
  5235 04:12EB: 85 09        	sta	<L242+1+4
  5236 04:12ED: 2B           	pld
  5237 04:12EE: 3B           	tsc
  5238 04:12EF: 18           	clc
  5239 04:12F0: 69 08 00     	adc	#L242+4
  5240 04:12F3: 1B           	tcs
  5241 04:12F4: 98           	tya
  5242 04:12F5: 6B           	rtl
  5243                        ;	}
  5244                        	.line	672
  5245                        ;
  5246                        ;	return FALSE;
  5247                        L10035:
  5248                        	.line	674
  5249 04:12F6: A9 00 00     	lda	#$0
  5250 04:12F9: 82 E8 FF     	brl	L247
  5251                        ;}
  5252                        	.line	675
  5253                        	.endblock	675
  5254             00000004   L242	equ	4
  5255             00000001   L243	equ	1
  5256 04:12FC:              	ends
  5257                        	efunc
  5258                        	.endfunc	675,1,4
  5259                        	.line	675
  5260                        ;
  5261                        ;BOOL k_user_DestroyWindow(HWND hWnd)
  5262                        ;{
  5263                        	.line	677
  5264                        	.line	678
  5265                        	WINMAN
  5266                        	xdef	~~k_user_DestroyWindow
  5267                        	func
  5268                        	.function	678
  5269                        ~~k_user_DestroyWindow:
  5270                        	longa	on
  5271                        	longi	on
  5272 04:12FC: 3B           	tsc
  5273 04:12FD: 38           	sec
  5274 04:12FE: E9 0D 00     	sbc	#L248
  5275 04:1301: 1B           	tcs
  5276 04:1302: 0B           	phd
  5277 04:1303: 5B           	tcd
  5278             00000004   hWnd_0	set	4
  5279                        	.block	678
  5280                        ;	BOOL bRet = FALSE;
  5281                        ;
  5282                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  5283                        ;
  5284                        ;	if(pWin && !pWin->isClosed && !pWin->isClosing)
  5285             00000000   bRet_1	set	0
  5286             00000001   pWin_1	set	1
  5287                        	.sym	bRet,0,14,1,8
  5288                        	.sym	pWin,1,138,1,32,27
  5289                        	.sym	hWnd,4,129,6,32
  5290 04:1304: E2 20        	sep	#$20
  Thu Dec  3 2020 22:25                                                Page 102


  5291                        	longa	off
  5292 04:1306: 64 09        	stz	<L249+bRet_1
  5293 04:1308: C2 20        	rep	#$20
  5294                        	longa	on
  5295 04:130A: D4 13        	pei	<L248+hWnd_0+2
  5296 04:130C: D4 11        	pei	<L248+hWnd_0
  5297 04:130E: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  5298 04:1312: 85 0A        	sta	<L249+pWin_1
  5299 04:1314: 86 0C        	stx	<L249+pWin_1+2
  5300                        	.line	683
  5301                        ;	{
  5302 04:1316: A5 0A        	lda	<L249+pWin_1
  5303 04:1318: 05 0C        	ora	<L249+pWin_1+2
  5304 04:131A: D0 03        	bne	L251
  5305 04:131C: 82 D2 00     	brl	L10037
  5306                        L251:
  5307 04:131F: A0 5D 01     	ldy	#$15d
  5308 04:1322: B7 0A        	lda	[<L249+pWin_1],Y
  5309 04:1324: 29 FF 00     	and	#$ff
  5310 04:1327: F0 03        	beq	L252
  5311 04:1329: 82 C5 00     	brl	L10037
  5312                        L252:
  5313 04:132C: A0 5E 01     	ldy	#$15e
  5314 04:132F: B7 0A        	lda	[<L249+pWin_1],Y
  5315 04:1331: 29 FF 00     	and	#$ff
  5316 04:1334: F0 03        	beq	L253
  5317 04:1336: 82 B8 00     	brl	L10037
  5318                        L253:
  5319                        	.line	684
  5320                        ;		if(pWin->pChildWindows)
  5321                        	.line	685
  5322                        ;		{
  5323 04:1339: A0 38 01     	ldy	#$138
  5324 04:133C: B7 0A        	lda	[<L249+pWin_1],Y
  5325 04:133E: A0 3A 01     	ldy	#$13a
  5326 04:1341: 17 0A        	ora	[<L249+pWin_1],Y
  5327 04:1343: D0 03        	bne	L254
  5328 04:1345: 82 14 00     	brl	L10038
  5329                        L254:
  5330                        	.line	686
  5331                        ;			_k_user_send_child_message(hWnd,
                    FX_WINDOW_CLOSE,NULL,0);
  5332                        	.line	687
  5333 04:1348: F4 00 00     	pea	#<$0
  5334 04:134B: F4 00 00     	pea	#^$0
  5335 04:134E: F4 00 00     	pea	#<$0
  5336 04:1351: F4 FF FB     	pea	#<$fbff
  5337 04:1354: D4 13        	pei	<L248+hWnd_0+2
  5338 04:1356: D4 11        	pei	<L248+hWnd_0
  5339 04:1358: 22 4A 4A 04  	jsl	~~_k_user_send_child_message
  5340                        ;		}
  5341                        	.line	688
  5342                        ;		k_vdma_fill_rect_ex(pWin->win_x,pWin->wi
                    n_y, pWin->win_width, pWin->win_height,
  5343                        L10038:
  5344                        	.line	689
  5345                        ;							
                    FILLCOLOR_TRANSPARENT,BITMAP_FRONT);
  Thu Dec  3 2020 22:25                                                Page 103


  5346 04:135C: F4 00 00     	pea	#<$0
  5347 04:135F: F4 00 00     	pea	#<$0
  5348 04:1362: A0 0E 00     	ldy	#$e
  5349 04:1365: B7 0A        	lda	[<L249+pWin_1],Y
  5350 04:1367: 48           	pha
  5351 04:1368: A0 0C 00     	ldy	#$c
  5352 04:136B: B7 0A        	lda	[<L249+pWin_1],Y
  5353 04:136D: 48           	pha
  5354 04:136E: A0 00 00     	ldy	#$0
  5355 04:1371: 5A           	phy
  5356 04:1372: A0 0A 00     	ldy	#$a
  5357 04:1375: B7 0A        	lda	[<L249+pWin_1],Y
  5358 04:1377: 7A           	ply
  5359 04:1378: 2A           	rol	A
  5360 04:1379: 6A           	ror	A
  5361 04:137A: 10 01        	bpl	L255
  5362 04:137C: 88           	dey
  5363                        L255:
  5364 04:137D: 85 01        	sta	<R0
  5365 04:137F: 84 03        	sty	<R0+2
  5366 04:1381: D4 03        	pei	<R0+2
  5367 04:1383: D4 01        	pei	<R0
  5368 04:1385: A0 00 00     	ldy	#$0
  5369 04:1388: 5A           	phy
  5370 04:1389: A0 08 00     	ldy	#$8
  5371 04:138C: B7 0A        	lda	[<L249+pWin_1],Y
  5372 04:138E: 7A           	ply
  5373 04:138F: 2A           	rol	A
  5374 04:1390: 6A           	ror	A
  5375 04:1391: 10 01        	bpl	L256
  5376 04:1393: 88           	dey
  5377                        L256:
  5378 04:1394: 85 05        	sta	<R1
  5379 04:1396: 84 07        	sty	<R1+2
  5380 04:1398: D4 07        	pei	<R1+2
  5381 04:139A: D4 05        	pei	<R1
  5382 04:139C: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  5383                        ;		k_vdma_fill_rect_ex(pWin->win_x,pWin->wi
                    n_y, pWin->win_width, pWin->win_height,
  5384                        	.line	691
  5385                        ;							
                    k_getUIBackgroundColor(),BITMAP_BACK);
  5386 04:13A0: F4 10 00     	pea	#<$10
  5387 04:13A3: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
  5388 04:13A7: 48           	pha
  5389 04:13A8: A0 0E 00     	ldy	#$e
  5390 04:13AB: B7 0A        	lda	[<L249+pWin_1],Y
  5391 04:13AD: 48           	pha
  5392 04:13AE: A0 0C 00     	ldy	#$c
  5393 04:13B1: B7 0A        	lda	[<L249+pWin_1],Y
  5394 04:13B3: 48           	pha
  5395 04:13B4: A0 00 00     	ldy	#$0
  5396 04:13B7: 5A           	phy
  5397 04:13B8: A0 0A 00     	ldy	#$a
  5398 04:13BB: B7 0A        	lda	[<L249+pWin_1],Y
  5399 04:13BD: 7A           	ply
  5400 04:13BE: 2A           	rol	A
  5401 04:13BF: 6A           	ror	A
  Thu Dec  3 2020 22:25                                                Page 104


  5402 04:13C0: 10 01        	bpl	L257
  5403 04:13C2: 88           	dey
  5404                        L257:
  5405 04:13C3: 85 01        	sta	<R0
  5406 04:13C5: 84 03        	sty	<R0+2
  5407 04:13C7: D4 03        	pei	<R0+2
  5408 04:13C9: D4 01        	pei	<R0
  5409 04:13CB: A0 00 00     	ldy	#$0
  5410 04:13CE: 5A           	phy
  5411 04:13CF: A0 08 00     	ldy	#$8
  5412 04:13D2: B7 0A        	lda	[<L249+pWin_1],Y
  5413 04:13D4: 7A           	ply
  5414 04:13D5: 2A           	rol	A
  5415 04:13D6: 6A           	ror	A
  5416 04:13D7: 10 01        	bpl	L258
  5417 04:13D9: 88           	dey
  5418                        L258:
  5419 04:13DA: 85 05        	sta	<R1
  5420 04:13DC: 84 07        	sty	<R1+2
  5421 04:13DE: D4 07        	pei	<R1+2
  5422 04:13E0: D4 05        	pei	<R1
  5423 04:13E2: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  5424                        ;
  5425                        ;		pWin->isClosing = TRUE;
  5426                        	.line	694
  5427 04:13E6: E2 20        	sep	#$20
  5428                        	longa	off
  5429 04:13E8: A9 01        	lda	#$1
  5430 04:13EA: A0 5E 01     	ldy	#$15e
  5431 04:13ED: 97 0A        	sta	[<L249+pWin_1],Y
  5432 04:13EF: C2 20        	rep	#$20
  5433                        	longa	on
  5434                        ;	}
  5435                        	.line	695
  5436                        ;
  5437                        ;	return bRet;
  5438                        L10037:
  5439                        	.line	697
  5440 04:13F1: A5 09        	lda	<L249+bRet_1
  5441 04:13F3: 29 FF 00     	and	#$ff
  5442                        L259:
  5443 04:13F6: A8           	tay
  5444 04:13F7: A5 0F        	lda	<L248+2
  5445 04:13F9: 85 13        	sta	<L248+2+4
  5446 04:13FB: A5 0E        	lda	<L248+1
  5447 04:13FD: 85 12        	sta	<L248+1+4
  5448 04:13FF: 2B           	pld
  5449 04:1400: 3B           	tsc
  5450 04:1401: 18           	clc
  5451 04:1402: 69 11 00     	adc	#L248+4
  5452 04:1405: 1B           	tcs
  5453 04:1406: 98           	tya
  5454 04:1407: 6B           	rtl
  5455                        ;}
  5456                        	.line	698
  5457                        	.endblock	698
  5458             0000000D   L248	equ	13
  5459             00000009   L249	equ	9
  Thu Dec  3 2020 22:25                                                Page 105


  5460 04:1408:              	ends
  5461                        	efunc
  5462                        	.endfunc	698,9,13
  5463                        	.line	698
  5464                        ;
  5465                        ;PWINDOW	k_user_CreateWindow(ULONG     style,
  5466                        ;						    LPCS
                    TR    pClassName,
  5467                        ;							
                    LPCSTR    pWindowName,
  5468                        ;							
                    INT       x,
  5469                        ;							
                    INT       y,
  5470                        ;							
                    INT       nWidth,
  5471                        ;							
                    INT       nHeight,
  5472                        ;							
                    HWND      hWndParent,
  5473                        ;							
                    HMENU     hMenu,
  5474                        ;							
                    HINSTANCE hInstance)
  5475                        ;{
  5476                        	.line	700
  5477                        	.line	710
  5478                        	WINMAN
  5479                        	xdef	~~k_user_CreateWindow
  5480                        	func
  5481                        	.function	710
  5482                        ~~k_user_CreateWindow:
  5483                        	longa	on
  5484                        	longi	on
  5485 04:1408: 3B           	tsc
  5486 04:1409: 38           	sec
  5487 04:140A: E9 30 00     	sbc	#L260
  5488 04:140D: 1B           	tcs
  5489 04:140E: 0B           	phd
  5490 04:140F: 5B           	tcd
  5491             00000004   style_0	set	4
  5492             00000008   pClassName_0	set	8
  5493             0000000C   pWindowName_0	set	12
  5494             00000010   x_0	set	16
  5495             00000012   y_0	set	18
  5496             00000014   nWidth_0	set	20
  5497             00000016   nHeight_0	set	22
  5498             00000018   hWndParent_0	set	24
  5499             0000001C   hMenu_0	set	28
  5500             00000020   hInstance_0	set	32
  5501                        	.block	710
  5502                        ;
  5503                        ;	PFXNODE   found = NULL;
  5504                        ;	PWINDOW   pWin = NULL;
  5505                        ;	PWINDOW   pParent = NULL;
  5506                        ;	PWNDCLASS wndClass = NULL;
  5507                        ;
  5508                        ;	UCHAR localBuffer[16];
  Thu Dec  3 2020 22:25                                                Page 106


  5509                        ;
  5510                        ;	PFXPROCESS p = k_exec_get_current_process();
  5511                        ;
  5512                        ;	k_debug_strings("k_user_CreateWindow:",(LPCHAR)p
                    WindowName);
  5513             00000000   found_1	set	0
  5514             00000004   pWin_1	set	4
  5515             00000008   pParent_1	set	8
  5516             0000000C   wndClass_1	set	12
  5517             00000010   localBuffer_1	set	16
  5518             00000020   p_1	set	32
  5519                        	.sym	found,0,138,1,32,2
  5520                        	.sym	pWin,4,138,1,32,27
  5521                        	.sym	pParent,8,138,1,32,27
  5522                        	.sym	wndClass,12,138,1,32,23
  5523                        	.sym	localBuffer,16,110,1,0,16
  5524                        	.sym	p,32,138,1,32,17
  5525                        	.sym	style,4,18,6,32
  5526                        	.sym	pClassName,8,142,6,32
  5527                        	.sym	pWindowName,12,142,6,32
  5528                        	.sym	x,16,5,6,16
  5529                        	.sym	y,18,5,6,16
  5530                        	.sym	nWidth,20,5,6,16
  5531                        	.sym	nHeight,22,5,6,16
  5532                        	.sym	hWndParent,24,129,6,32
  5533                        	.sym	hMenu,28,129,6,32
  5534                        	.sym	hInstance,32,129,6,32
  5535 04:1410: 64 09        	stz	<L261+found_1
  5536 04:1412: 64 0B        	stz	<L261+found_1+2
  5537 04:1414: 64 0D        	stz	<L261+pWin_1
  5538 04:1416: 64 0F        	stz	<L261+pWin_1+2
  5539 04:1418: 64 11        	stz	<L261+pParent_1
  5540 04:141A: 64 13        	stz	<L261+pParent_1+2
  5541 04:141C: 64 15        	stz	<L261+wndClass_1
  5542 04:141E: 64 17        	stz	<L261+wndClass_1+2
  5543 04:1420: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  5544 04:1424: 85 29        	sta	<L261+p_1
  5545 04:1426: 86 2B        	stx	<L261+p_1+2
  5546                        	.line	721
  5547 04:1428: D4 3E        	pei	<L260+pWindowName_0+2
  5548 04:142A: D4 3C        	pei	<L260+pWindowName_0
  5549 04:142C: F4 xx xx     	pea	#^L179
  5550 04:142F: F4 xx xx     	pea	#<L179
  5551 04:1432: 22 xx xx xx  	jsl	~~k_debug_strings
  5552                        ;
  5553                        ;	if(pClassName && pWindowName)
  5554                        	.line	723
  5555                        ;	{
  5556 04:1436: A5 38        	lda	<L260+pClassName_0
  5557 04:1438: 05 3A        	ora	<L260+pClassName_0+2
  5558 04:143A: D0 03        	bne	L263
  5559 04:143C: 82 DD 03     	brl	L10039
  5560                        L263:
  5561 04:143F: A5 3C        	lda	<L260+pWindowName_0
  5562 04:1441: 05 3E        	ora	<L260+pWindowName_0+2
  5563 04:1443: D0 03        	bne	L264
  5564 04:1445: 82 D4 03     	brl	L10039
  5565                        L264:
  Thu Dec  3 2020 22:25                                                Page 107


  5566                        	.line	724
  5567                        ;		//pWindowName = strupr((LPCHAR)pWindowNa
                    me); // temp fix for font def issue
  5568                        ;
  5569                        ;		found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  5570                        	.line	727
  5571 04:1448: D4 3A        	pei	<L260+pClassName_0+2
  5572 04:144A: D4 38        	pei	<L260+pClassName_0
  5573 04:144C: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  5574 04:144F: 48           	pha
  5575 04:1450: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  5576 04:1453: 48           	pha
  5577 04:1454: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  5578 04:1458: 85 09        	sta	<L261+found_1
  5579 04:145A: 86 0B        	stx	<L261+found_1+2
  5580                        ;		if(found && found->data)
  5581                        	.line	728
  5582                        ;		{
  5583 04:145C: A5 09        	lda	<L261+found_1
  5584 04:145E: 05 0B        	ora	<L261+found_1+2
  5585 04:1460: D0 03        	bne	L265
  5586 04:1462: 82 B7 03     	brl	L10040
  5587                        L265:
  5588 04:1465: A0 02 00     	ldy	#$2
  5589 04:1468: B7 09        	lda	[<L261+found_1],Y
  5590 04:146A: A0 04 00     	ldy	#$4
  5591 04:146D: 17 09        	ora	[<L261+found_1],Y
  5592 04:146F: D0 03        	bne	L266
  5593 04:1471: 82 A8 03     	brl	L10040
  5594                        L266:
  5595                        	.line	729
  5596                        ;			wndClass = (PWNDCLASS)found->dat
                    a;
  5597                        	.line	730
  5598 04:1474: A0 02 00     	ldy	#$2
  5599 04:1477: B7 09        	lda	[<L261+found_1],Y
  5600 04:1479: 85 15        	sta	<L261+wndClass_1
  5601 04:147B: A0 04 00     	ldy	#$4
  5602 04:147E: B7 09        	lda	[<L261+found_1],Y
  5603 04:1480: 85 17        	sta	<L261+wndClass_1+2
  5604                        ;
  5605                        ;			//k_debug_strings("k_user_Create
                    Window:Found WndClass:",(LPVOID)wndClass->lpszClassName);
  5606                        ;
  5607                        ;			pWin = k_mem_allocate_heap(sizeo
                    f(WINDOW));
  5608                        	.line	734
  5609 04:1482: F4 5F 01     	pea	#<$15f
  5610 04:1485: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5611 04:1489: 85 0D        	sta	<L261+pWin_1
  5612 04:148B: 86 0F        	stx	<L261+pWin_1+2
  5613                        ;			if(pWin)
  5614                        	.line	735
  5615                        ;			{
  5616 04:148D: A5 0D        	lda	<L261+pWin_1
  5617 04:148F: 05 0F        	ora	<L261+pWin_1+2
  5618 04:1491: D0 03        	bne	L267
  Thu Dec  3 2020 22:25                                                Page 108


  5619 04:1493: 82 86 03     	brl	L10041
  5620                        L267:
  5621                        	.line	736
  5622                        ;				memset(pWin,0,sizeof(WIN
                    DOW));
  5623                        	.line	737
  5624 04:1496: F4 5F 01     	pea	#<$15f
  5625 04:1499: F4 00 00     	pea	#<$0
  5626 04:149C: D4 0F        	pei	<L261+pWin_1+2
  5627 04:149E: D4 0D        	pei	<L261+pWin_1
  5628 04:14A0: 22 xx xx xx  	jsl	~~memset
  5629                        ;				pWin->cbSize = sizeof(WI
                    NDOW);
  5630                        	.line	738
  5631 04:14A4: A9 5F 01     	lda	#$15f
  5632 04:14A7: 87 0D        	sta	[<L261+pWin_1]
  5633                        ;
  5634                        ;				if(p)
  5635                        	.line	740
  5636                        ;				{
  5637 04:14A9: A5 29        	lda	<L261+p_1
  5638 04:14AB: 05 2B        	ora	<L261+p_1+2
  5639 04:14AD: D0 03        	bne	L268
  5640 04:14AF: 82 17 00     	brl	L10042
  5641                        L268:
  5642                        	.line	741
  5643                        ;					pWin->procid = p
                    ->procId;
  5644                        	.line	742
  5645 04:14B2: A0 02 00     	ldy	#$2
  5646 04:14B5: B7 29        	lda	[<L261+p_1],Y
  5647 04:14B7: A0 28 01     	ldy	#$128
  5648 04:14BA: 97 0D        	sta	[<L261+pWin_1],Y
  5649 04:14BC: A0 04 00     	ldy	#$4
  5650 04:14BF: B7 29        	lda	[<L261+p_1],Y
  5651 04:14C1: A0 2A 01     	ldy	#$12a
  5652 04:14C4: 97 0D        	sta	[<L261+pWin_1],Y
  5653                        ;				}
  5654                        	.line	743
  5655                        ;				else
  5656 04:14C6: 82 29 00     	brl	L10043
  5657                        L10042:
  5658                        ;				{
  5659                        	.line	745
  5660                        ;					if(hWndParent)
  5661                        	.line	746
  5662                        ;					{
  5663 04:14C9: A5 48        	lda	<L260+hWndParent_0
  5664 04:14CB: 05 4A        	ora	<L260+hWndParent_0+2
  5665 04:14CD: D0 03        	bne	L269
  5666 04:14CF: 82 20 00     	brl	L10044
  5667                        L269:
  5668                        	.line	747
  5669                        ;						pWin->pr
                    ocid = k_getWindowFromHandle(hWndParent)->procid;
  5670                        	.line	748
  5671 04:14D2: D4 4A        	pei	<L260+hWndParent_0+2
  5672 04:14D4: D4 48        	pei	<L260+hWndParent_0
  Thu Dec  3 2020 22:25                                                Page 109


  5673 04:14D6: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  5674 04:14DA: 85 01        	sta	<R0
  5675 04:14DC: 86 03        	stx	<R0+2
  5676 04:14DE: A0 28 01     	ldy	#$128
  5677 04:14E1: B7 01        	lda	[<R0],Y
  5678 04:14E3: A0 28 01     	ldy	#$128
  5679 04:14E6: 97 0D        	sta	[<L261+pWin_1],Y
  5680 04:14E8: A0 2A 01     	ldy	#$12a
  5681 04:14EB: B7 01        	lda	[<R0],Y
  5682 04:14ED: A0 2A 01     	ldy	#$12a
  5683 04:14F0: 97 0D        	sta	[<L261+pWin_1],Y
  5684                        ;					}
  5685                        	.line	749
  5686                        ;				}
  5687                        L10044:
  5688                        	.line	750
  5689                        L10043:
  5690                        ;
  5691                        ;				k_debug_strings("k_user_
                    CreateWindow:",(LPCHAR)pWindowName);
  5692                        	.line	752
  5693 04:14F2: D4 3E        	pei	<L260+pWindowName_0+2
  5694 04:14F4: D4 3C        	pei	<L260+pWindowName_0
  5695 04:14F6: F4 xx xx     	pea	#^L179+21
  5696 04:14F9: F4 xx xx     	pea	#<L179+21
  5697 04:14FC: 22 xx xx xx  	jsl	~~k_debug_strings
  5698                        ;				k_debug_long("Process Id
                    :",(ULONG)pWin->procid);
  5699                        	.line	753
  5700 04:1500: A0 2A 01     	ldy	#$12a
  5701 04:1503: B7 0D        	lda	[<L261+pWin_1],Y
  5702 04:1505: 48           	pha
  5703 04:1506: A0 28 01     	ldy	#$128
  5704 04:1509: B7 0D        	lda	[<L261+pWin_1],Y
  5705 04:150B: 48           	pha
  5706 04:150C: F4 xx xx     	pea	#^L179+42
  5707 04:150F: F4 xx xx     	pea	#<L179+42
  5708 04:1512: 22 xx xx xx  	jsl	~~k_debug_long
  5709                        ;
  5710                        ;				pWin->style = style;
  5711                        	.line	755
  5712 04:1516: A5 34        	lda	<L260+style_0
  5713 04:1518: A0 02 00     	ldy	#$2
  5714 04:151B: 97 0D        	sta	[<L261+pWin_1],Y
  5715 04:151D: A5 36        	lda	<L260+style_0+2
  5716 04:151F: A0 04 00     	ldy	#$4
  5717 04:1522: 97 0D        	sta	[<L261+pWin_1],Y
  5718                        ;				pWin->pParentWindow = hW
                    ndParent;
  5719                        	.line	756
  5720 04:1524: A5 48        	lda	<L260+hWndParent_0
  5721 04:1526: A0 30 01     	ldy	#$130
  5722 04:1529: 97 0D        	sta	[<L261+pWin_1],Y
  5723 04:152B: A5 4A        	lda	<L260+hWndParent_0+2
  5724 04:152D: A0 32 01     	ldy	#$132
  5725 04:1530: 97 0D        	sta	[<L261+pWin_1],Y
  5726                        ;				pWin->pWndClass = wndCla
                    ss;
  Thu Dec  3 2020 22:25                                                Page 110


  5727                        	.line	757
  5728 04:1532: A5 15        	lda	<L261+wndClass_1
  5729 04:1534: A0 2C 01     	ldy	#$12c
  5730 04:1537: 97 0D        	sta	[<L261+pWin_1],Y
  5731 04:1539: A5 17        	lda	<L261+wndClass_1+2
  5732 04:153B: A0 2E 01     	ldy	#$12e
  5733 04:153E: 97 0D        	sta	[<L261+pWin_1],Y
  5734                        ;				strcpy(pWin->win_title,p
                    WindowName);
  5735                        	.line	758
  5736 04:1540: D4 3E        	pei	<L260+pWindowName_0+2
  5737 04:1542: D4 3C        	pei	<L260+pWindowName_0
  5738 04:1544: 18           	clc
  5739 04:1545: A9 D4 00     	lda	#$d4
  5740 04:1548: 65 0D        	adc	<L261+pWin_1
  5741 04:154A: 85 01        	sta	<R0
  5742 04:154C: A9 00 00     	lda	#$0
  5743 04:154F: 65 0F        	adc	<L261+pWin_1+2
  5744 04:1551: 85 03        	sta	<R0+2
  5745 04:1553: D4 03        	pei	<R0+2
  5746 04:1555: D4 01        	pei	<R0
  5747 04:1557: 22 xx xx xx  	jsl	~~strcpy
  5748                        ;				strcpy(pWin->win_class_n
                    ame,pClassName);
  5749                        	.line	759
  5750 04:155B: D4 3A        	pei	<L260+pClassName_0+2
  5751 04:155D: D4 38        	pei	<L260+pClassName_0
  5752 04:155F: 18           	clc
  5753 04:1560: A9 06 01     	lda	#$106
  5754 04:1563: 65 0D        	adc	<L261+pWin_1
  5755 04:1565: 85 01        	sta	<R0
  5756 04:1567: A9 00 00     	lda	#$0
  5757 04:156A: 65 0F        	adc	<L261+pWin_1+2
  5758 04:156C: 85 03        	sta	<R0+2
  5759 04:156E: D4 03        	pei	<R0+2
  5760 04:1570: D4 01        	pei	<R0
  5761 04:1572: 22 xx xx xx  	jsl	~~strcpy
  5762                        ;
  5763                        ;
  5764                        ;				pWin->win_x 		
                    = x;
  5765                        	.line	762
  5766 04:1576: A5 40        	lda	<L260+x_0
  5767 04:1578: A0 08 00     	ldy	#$8
  5768 04:157B: 97 0D        	sta	[<L261+pWin_1],Y
  5769                        ;				pWin->win_y 		
                    = y;
  5770                        	.line	763
  5771 04:157D: A5 42        	lda	<L260+y_0
  5772 04:157F: A0 0A 00     	ldy	#$a
  5773 04:1582: 97 0D        	sta	[<L261+pWin_1],Y
  5774                        ;				pWin->win_width 	
                    = nWidth;
  5775                        	.line	764
  5776 04:1584: A5 44        	lda	<L260+nWidth_0
  5777 04:1586: A0 0C 00     	ldy	#$c
  5778 04:1589: 97 0D        	sta	[<L261+pWin_1],Y
  5779                        ;				pWin->win_height	
  Thu Dec  3 2020 22:25                                                Page 111


                    = nHeight;
  5780                        	.line	765
  5781 04:158B: A5 46        	lda	<L260+nHeight_0
  5782 04:158D: A0 0E 00     	ldy	#$e
  5783 04:1590: 97 0D        	sta	[<L261+pWin_1],Y
  5784                        ;
  5785                        ;				if(hWndParent)
  5786                        	.line	767
  5787                        ;				{
  5788 04:1592: A5 48        	lda	<L260+hWndParent_0
  5789 04:1594: 05 4A        	ora	<L260+hWndParent_0+2
  5790 04:1596: D0 03        	bne	L270
  5791 04:1598: 82 3E 00     	brl	L10045
  5792                        L270:
  5793                        	.line	768
  5794                        ;					PWINDOW pParent 
                    = k_getWindowFromHandle(hWndParent);
  5795                        ;					pWin->win_x += p
                    Parent->win_x;
  5796                        	.block	770
  5797             00000024   pParent_2	set	36
  5798                        	.sym	pParent,36,138,1,32,27
  5799 04:159B: D4 4A        	pei	<L260+hWndParent_0+2
  5800 04:159D: D4 48        	pei	<L260+hWndParent_0
  5801 04:159F: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  5802 04:15A3: 85 2D        	sta	<L261+pParent_2
  5803 04:15A5: 86 2F        	stx	<L261+pParent_2+2
  5804                        	.line	770
  5805 04:15A7: 18           	clc
  5806 04:15A8: A9 08 00     	lda	#$8
  5807 04:15AB: 65 0D        	adc	<L261+pWin_1
  5808 04:15AD: 85 01        	sta	<R0
  5809 04:15AF: A9 00 00     	lda	#$0
  5810 04:15B2: 65 0F        	adc	<L261+pWin_1+2
  5811 04:15B4: 85 03        	sta	<R0+2
  5812 04:15B6: 18           	clc
  5813 04:15B7: A7 01        	lda	[<R0]
  5814 04:15B9: A0 08 00     	ldy	#$8
  5815 04:15BC: 77 2D        	adc	[<L261+pParent_2],Y
  5816 04:15BE: 87 01        	sta	[<R0]
  5817                        ;					pWin->win_y += p
                    Parent->win_y;
  5818                        	.line	771
  5819 04:15C0: 18           	clc
  5820 04:15C1: A9 0A 00     	lda	#$a
  5821 04:15C4: 65 0D        	adc	<L261+pWin_1
  5822 04:15C6: 85 01        	sta	<R0
  5823 04:15C8: A9 00 00     	lda	#$0
  5824 04:15CB: 65 0F        	adc	<L261+pWin_1+2
  5825 04:15CD: 85 03        	sta	<R0+2
  5826 04:15CF: 18           	clc
  5827 04:15D0: A7 01        	lda	[<R0]
  5828 04:15D2: A0 0A 00     	ldy	#$a
  5829 04:15D5: 77 2D        	adc	[<L261+pParent_2],Y
  5830 04:15D7: 87 01        	sta	[<R0]
  5831                        ;				}
  5832                        	.endblock	772
  5833                        	.line	772
  Thu Dec  3 2020 22:25                                                Page 112


  5834                        ;
  5835                        ;				pWin->hMenu = hMenu;
  5836                        L10045:
  5837                        	.line	774
  5838 04:15D9: A5 4C        	lda	<L260+hMenu_0
  5839 04:15DB: A0 34 01     	ldy	#$134
  5840 04:15DE: 97 0D        	sta	[<L261+pWin_1],Y
  5841 04:15E0: A5 4E        	lda	<L260+hMenu_0+2
  5842 04:15E2: A0 36 01     	ldy	#$136
  5843 04:15E5: 97 0D        	sta	[<L261+pWin_1],Y
  5844                        ;				pWin->pChildWindows = NU
                    LL;
  5845                        	.line	775
  5846 04:15E7: A9 00 00     	lda	#$0
  5847 04:15EA: A0 38 01     	ldy	#$138
  5848 04:15ED: 97 0D        	sta	[<L261+pWin_1],Y
  5849 04:15EF: A9 00 00     	lda	#$0
  5850 04:15F2: A0 3A 01     	ldy	#$13a
  5851 04:15F5: 97 0D        	sta	[<L261+pWin_1],Y
  5852                        ;				pWin->pChildHitList = NU
                    LL;
  5853                        	.line	776
  5854 04:15F7: A9 00 00     	lda	#$0
  5855 04:15FA: A0 3C 01     	ldy	#$13c
  5856 04:15FD: 97 0D        	sta	[<L261+pWin_1],Y
  5857 04:15FF: A9 00 00     	lda	#$0
  5858 04:1602: A0 3E 01     	ldy	#$13e
  5859 04:1605: 97 0D        	sta	[<L261+pWin_1],Y
  5860                        ;				pWin->isVisible 	
                    = ((style & FXWS_VISIBLE) == FXWS_VISIBLE);
  5861                        	.line	777
  5862 04:1607: 64 01        	stz	<R0
  5863 04:1609: A5 34        	lda	<L260+style_0
  5864 04:160B: 29 01 00     	and	#<$1
  5865 04:160E: 85 05        	sta	<R1
  5866 04:1610: 64 07        	stz	<R1+2
  5867 04:1612: A5 05        	lda	<R1
  5868 04:1614: C9 01 00     	cmp	#<$1
  5869 04:1617: D0 05        	bne	L273
  5870 04:1619: A5 07        	lda	<R1+2
  5871 04:161B: C9 00 00     	cmp	#^$1
  5872                        L273:
  5873 04:161E: F0 03        	beq	L274
  5874 04:1620: 82 02 00     	brl	L272
  5875                        L274:
  5876 04:1623: E6 01        	inc	<R0
  5877                        L272:
  5878 04:1625: E2 20        	sep	#$20
  5879                        	longa	off
  5880 04:1627: A5 01        	lda	<R0
  5881 04:1629: A0 40 01     	ldy	#$140
  5882 04:162C: 97 0D        	sta	[<L261+pWin_1],Y
  5883 04:162E: C2 20        	rep	#$20
  5884                        	longa	on
  5885                        ;
  5886                        ;				//k_debug_long("k_user_C
                    reateWindow:sytle:",style);
  5887                        ;				//k_debug_long("k_user_C
  Thu Dec  3 2020 22:25                                                Page 113


                    reateWindow:FXWS_VISIBLE:", FXWS_VISIBLE);
  5888                        ;				//k_debug_long("k_user_C
                    reateWindow:style & FXWS_VISIBLE:",style & FXWS_VISIBLE);
  5889                        ;				//k_debug_integer("k_use
                    r_CreateWindow:isVisible:",pWin->isVisible);
  5890                        ;
  5891                        ;
  5892                        ;				pWin->clickable = k_mem_
                    allocate_heap(sizeof(CLICKABLE));
  5893                        	.line	785
  5894 04:1630: F4 0B 00     	pea	#<$b
  5895 04:1633: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5896 04:1637: 85 01        	sta	<R0
  5897 04:1639: 86 03        	stx	<R0+2
  5898 04:163B: A5 01        	lda	<R0
  5899 04:163D: A0 D0 00     	ldy	#$d0
  5900 04:1640: 97 0D        	sta	[<L261+pWin_1],Y
  5901 04:1642: A5 03        	lda	<R0+2
  5902 04:1644: A0 D2 00     	ldy	#$d2
  5903 04:1647: 97 0D        	sta	[<L261+pWin_1],Y
  5904                        ;				if(pWin->clickable)
  5905                        	.line	786
  5906                        ;				{
  5907 04:1649: A0 D0 00     	ldy	#$d0
  5908 04:164C: B7 0D        	lda	[<L261+pWin_1],Y
  5909 04:164E: A0 D2 00     	ldy	#$d2
  5910 04:1651: 17 0D        	ora	[<L261+pWin_1],Y
  5911 04:1653: D0 03        	bne	L275
  5912 04:1655: 82 73 00     	brl	L10046
  5913                        L275:
  5914                        	.line	787
  5915                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.x 		= pWin->win_x;
  5916                        	.line	788
  5917 04:1658: A0 D0 00     	ldy	#$d0
  5918 04:165B: B7 0D        	lda	[<L261+pWin_1],Y
  5919 04:165D: 85 01        	sta	<R0
  5920 04:165F: A0 D2 00     	ldy	#$d2
  5921 04:1662: B7 0D        	lda	[<L261+pWin_1],Y
  5922 04:1664: 85 03        	sta	<R0+2
  5923 04:1666: A0 08 00     	ldy	#$8
  5924 04:1669: B7 0D        	lda	[<L261+pWin_1],Y
  5925 04:166B: 87 01        	sta	[<R0]
  5926                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.y 		= pWin->win_y;
  5927                        	.line	789
  5928 04:166D: A0 D0 00     	ldy	#$d0
  5929 04:1670: B7 0D        	lda	[<L261+pWin_1],Y
  5930 04:1672: 85 01        	sta	<R0
  5931 04:1674: A0 D2 00     	ldy	#$d2
  5932 04:1677: B7 0D        	lda	[<L261+pWin_1],Y
  5933 04:1679: 85 03        	sta	<R0+2
  5934 04:167B: A0 0A 00     	ldy	#$a
  5935 04:167E: B7 0D        	lda	[<L261+pWin_1],Y
  5936 04:1680: A0 02 00     	ldy	#$2
  5937 04:1683: 97 01        	sta	[<R0],Y
  5938                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.height 	= pWin->win_height;
  Thu Dec  3 2020 22:25                                                Page 114


  5939                        	.line	790
  5940 04:1685: A0 D0 00     	ldy	#$d0
  5941 04:1688: B7 0D        	lda	[<L261+pWin_1],Y
  5942 04:168A: 85 01        	sta	<R0
  5943 04:168C: A0 D2 00     	ldy	#$d2
  5944 04:168F: B7 0D        	lda	[<L261+pWin_1],Y
  5945 04:1691: 85 03        	sta	<R0+2
  5946 04:1693: A0 0E 00     	ldy	#$e
  5947 04:1696: B7 0D        	lda	[<L261+pWin_1],Y
  5948 04:1698: A0 06 00     	ldy	#$6
  5949 04:169B: 97 01        	sta	[<R0],Y
  5950                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.width 	= pWin->win_width;
  5951                        	.line	791
  5952 04:169D: A0 D0 00     	ldy	#$d0
  5953 04:16A0: B7 0D        	lda	[<L261+pWin_1],Y
  5954 04:16A2: 85 01        	sta	<R0
  5955 04:16A4: A0 D2 00     	ldy	#$d2
  5956 04:16A7: B7 0D        	lda	[<L261+pWin_1],Y
  5957 04:16A9: 85 03        	sta	<R0+2
  5958 04:16AB: A0 0C 00     	ldy	#$c
  5959 04:16AE: B7 0D        	lda	[<L261+pWin_1],Y
  5960 04:16B0: A0 04 00     	ldy	#$4
  5961 04:16B3: 97 01        	sta	[<R0],Y
  5962                        ;					((PCLICKABLE)pWi
                    n->clickable)->z 			= 10;
  5963                        	.line	792
  5964 04:16B5: A0 D0 00     	ldy	#$d0
  5965 04:16B8: B7 0D        	lda	[<L261+pWin_1],Y
  5966 04:16BA: 85 01        	sta	<R0
  5967 04:16BC: A0 D2 00     	ldy	#$d2
  5968 04:16BF: B7 0D        	lda	[<L261+pWin_1],Y
  5969 04:16C1: 85 03        	sta	<R0+2
  5970 04:16C3: A9 0A 00     	lda	#$a
  5971 04:16C6: A0 08 00     	ldy	#$8
  5972 04:16C9: 97 01        	sta	[<R0],Y
  5973                        ;				}
  5974                        	.line	793
  5975                        ;
  5976                        ;				pWin->clientRect.x 	
                    	= pWin->wndRect.x		= pWin->win_x;
  5977                        L10046:
  5978                        	.line	795
  5979 04:16CB: A0 08 00     	ldy	#$8
  5980 04:16CE: B7 0D        	lda	[<L261+pWin_1],Y
  5981 04:16D0: A0 10 00     	ldy	#$10
  5982 04:16D3: 97 0D        	sta	[<L261+pWin_1],Y
  5983 04:16D5: A0 08 00     	ldy	#$8
  5984 04:16D8: B7 0D        	lda	[<L261+pWin_1],Y
  5985 04:16DA: A0 18 00     	ldy	#$18
  5986 04:16DD: 97 0D        	sta	[<L261+pWin_1],Y
  5987                        ;				pWin->clientRect.y 	
                    	= pWin->wndRect.y		= pWin->win_y;
  5988                        	.line	796
  5989 04:16DF: A0 0A 00     	ldy	#$a
  5990 04:16E2: B7 0D        	lda	[<L261+pWin_1],Y
  5991 04:16E4: A0 12 00     	ldy	#$12
  5992 04:16E7: 97 0D        	sta	[<L261+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 115


  5993 04:16E9: A0 0A 00     	ldy	#$a
  5994 04:16EC: B7 0D        	lda	[<L261+pWin_1],Y
  5995 04:16EE: A0 1A 00     	ldy	#$1a
  5996 04:16F1: 97 0D        	sta	[<L261+pWin_1],Y
  5997                        ;				pWin->clientRect.width 	
                    = pWin->wndRect.width	= pWin->win_width;
  5998                        	.line	797
  5999 04:16F3: A0 0C 00     	ldy	#$c
  6000 04:16F6: B7 0D        	lda	[<L261+pWin_1],Y
  6001 04:16F8: A0 14 00     	ldy	#$14
  6002 04:16FB: 97 0D        	sta	[<L261+pWin_1],Y
  6003 04:16FD: A0 0C 00     	ldy	#$c
  6004 04:1700: B7 0D        	lda	[<L261+pWin_1],Y
  6005 04:1702: A0 1C 00     	ldy	#$1c
  6006 04:1705: 97 0D        	sta	[<L261+pWin_1],Y
  6007                        ;				pWin->clientRect.height 
                    = pWin->wndRect.height 	= pWin->win_height;
  6008                        	.line	798
  6009 04:1707: A0 0E 00     	ldy	#$e
  6010 04:170A: B7 0D        	lda	[<L261+pWin_1],Y
  6011 04:170C: A0 16 00     	ldy	#$16
  6012 04:170F: 97 0D        	sta	[<L261+pWin_1],Y
  6013 04:1711: A0 0E 00     	ldy	#$e
  6014 04:1714: B7 0D        	lda	[<L261+pWin_1],Y
  6015 04:1716: A0 1E 00     	ldy	#$1e
  6016 04:1719: 97 0D        	sta	[<L261+pWin_1],Y
  6017                        ;
  6018                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(((PCLICKABLE)pWin->clickable)->area));
  6019                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(pWin->clientRect));
  6020                        ;				/*
  6021                        ;				k_debug_rect("WndRect:",
                    &pWin->wndRect);
  6022                        ;				k_debug_rect("ClientRect
                    :",&pWin->clientRect);
  6023                        ;				k_debug_rect("ClassicRec
                    t:",(PRECT)&pWin->win_x);
  6024                        ;				*/
  6025                        ;				//strcpy(pWin->win_title
                    ,(LPCSTR)k_longtodec((ULONG)pWin,localBuffer));
  6026                        ;
  6027                        ;				//k_nodelist_addtolist(_
                    k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(LPCSTR)
                    k_longtodec((ULONG)pWin,localBuffer),pWin);
  6028                        ;
  6029                        ;				//if(hWndParent == k_use
                    r_getDesktopWindow())
  6030                        ;				//	k_nodelist_naddt
                    olist_tohead(_k_windowManager_WindowObjectList,NL_TYPE_WINDO
                    W_OBJ,(ULONG)pWin,pWin);
  6031                        ;				//else
  6032                        ;					k_nodelist_naddt
                    olist(_k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(
                    ULONG)pWin,pWin);
  6033                        	.line	814
  6034 04:171B: D4 0F        	pei	<L261+pWin_1+2
  6035 04:171D: D4 0D        	pei	<L261+pWin_1
  Thu Dec  3 2020 22:25                                                Page 116


  6036 04:171F: D4 0F        	pei	<L261+pWin_1+2
  6037 04:1721: D4 0D        	pei	<L261+pWin_1
  6038 04:1723: F4 02 00     	pea	#<$2
  6039 04:1726: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  6040 04:1729: 48           	pha
  6041 04:172A: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  6042 04:172D: 48           	pha
  6043 04:172E: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  6044                        ;
  6045                        ;				//k_debug_nodelist(_k_wi
                    ndowManager_WindowObjectList->listhead->next);
  6046                        ;
  6047                        ;				/*
  6048                        ;				if(pWin->isVisible)
  6049                        ;					k_vdraw_ui_windo
                    w(style,
  6050                        ;							
                    		  pWin->win_x ,pWin->win_y,
  6051                        ;							
                    		  pWin->win_height,pWin->win_width,
  6052                        ;							
                    		  pWin->win_title,
  6053                        ;							
                    		  k_getUIGadgetColor(), k_getUIMenuColor());
  6054                        ;				*/
  6055                        ;
  6056                        ;				if(hWndParent)
  6057                        	.line	827
  6058                        ;				{
  6059 04:1732: A5 48        	lda	<L260+hWndParent_0
  6060 04:1734: 05 4A        	ora	<L260+hWndParent_0+2
  6061 04:1736: D0 03        	bne	L276
  6062 04:1738: 82 79 00     	brl	L10047
  6063                        L276:
  6064                        	.line	828
  6065                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  6066                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),pWin,k_update_hover_loc
                    ation);
  6067                        	.line	830
  6068 04:173B: F4 04 00     	pea	#^~~k_update_hover_location
  6069 04:173E: F4 A1 38     	pea	#<~~k_update_hover_location
  6070 04:1741: D4 0F        	pei	<L261+pWin_1+2
  6071 04:1743: D4 0D        	pei	<L261+pWin_1
  6072 04:1745: D4 4A        	pei	<L260+hWndParent_0+2
  6073 04:1747: D4 48        	pei	<L260+hWndParent_0
  6074 04:1749: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  6075 04:174D: 85 01        	sta	<R0
  6076 04:174F: 86 03        	stx	<R0+2
  6077 04:1751: DA           	phx
  6078 04:1752: 48           	pha
  6079 04:1753: 22 A5 37 04  	jsl	~~k_add_child_window
  6080                        ;
  6081                        ;					if(hWndParent ==
                     k_user_getDesktopWindow())
  6082                        	.line	832
  Thu Dec  3 2020 22:25                                                Page 117


  6083                        ;					{
  6084 04:1757: 22 D8 05 04  	jsl	~~k_user_getDesktopWindow
  6085 04:175B: 85 01        	sta	<R0
  6086 04:175D: 86 03        	stx	<R0+2
  6087 04:175F: A5 01        	lda	<R0
  6088 04:1761: C5 48        	cmp	<L260+hWndParent_0
  6089 04:1763: D0 04        	bne	L277
  6090 04:1765: A5 03        	lda	<R0+2
  6091 04:1767: C5 4A        	cmp	<L260+hWndParent_0+2
  6092                        L277:
  6093 04:1769: F0 03        	beq	L278
  6094 04:176B: 82 43 00     	brl	L10048
  6095                        L278:
  6096                        	.line	833
  6097                        ;						//k_poin
                    t_hit_resetdepth_nodeslist(_k_windowManager_ObjectHitList,0)
                    ;
  6098                        ;						k_point_
                    hit_resetdepth_nodeslist(k_getWindowFromHandle(hWndParent)->
                    pChildHitList,0);
  6099                        	.line	835
  6100 04:176E: F4 00 00     	pea	#<$0
  6101 04:1771: D4 4A        	pei	<L260+hWndParent_0+2
  6102 04:1773: D4 48        	pei	<L260+hWndParent_0
  6103 04:1775: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  6104 04:1779: 85 01        	sta	<R0
  6105 04:177B: 86 03        	stx	<R0+2
  6106 04:177D: A0 3E 01     	ldy	#$13e
  6107 04:1780: B7 01        	lda	[<R0],Y
  6108 04:1782: 48           	pha
  6109 04:1783: A0 3C 01     	ldy	#$13c
  6110 04:1786: B7 01        	lda	[<R0],Y
  6111 04:1788: 48           	pha
  6112 04:1789: 22 13 43 04  	jsl	~~k_point_hit_resetdepth_nodeslist
  6113                        ;						((PCLICK
                    ABLE)pWin->clickable)->z = 10;
  6114                        	.line	836
  6115 04:178D: A0 D0 00     	ldy	#$d0
  6116 04:1790: B7 0D        	lda	[<L261+pWin_1],Y
  6117 04:1792: 85 01        	sta	<R0
  6118 04:1794: A0 D2 00     	ldy	#$d2
  6119 04:1797: B7 0D        	lda	[<L261+pWin_1],Y
  6120 04:1799: 85 03        	sta	<R0+2
  6121 04:179B: A9 0A 00     	lda	#$a
  6122 04:179E: A0 08 00     	ldy	#$8
  6123 04:17A1: 97 01        	sta	[<R0],Y
  6124                        ;						k_attach
                    _mouse_detection(pWin,k_update_hover_location);
  6125                        	.line	837
  6126 04:17A3: F4 04 00     	pea	#^~~k_update_hover_location
  6127 04:17A6: F4 A1 38     	pea	#<~~k_update_hover_location
  6128 04:17A9: D4 0F        	pei	<L261+pWin_1+2
  6129 04:17AB: D4 0D        	pei	<L261+pWin_1
  6130 04:17AD: 22 73 3A 04  	jsl	~~k_attach_mouse_detection
  6131                        ;					}
  6132                        	.line	838
  6133                        ;
  6134                        ;				}
  Thu Dec  3 2020 22:25                                                Page 118


  6135                        L10048:
  6136                        	.line	840
  6137                        ;				else
  6138 04:17B1: 82 0E 00     	brl	L10049
  6139                        L10047:
  6140                        ;				{
  6141                        	.line	842
  6142                        ;					k_attach_mouse_d
                    etection(pWin,k_update_hover_location);
  6143                        	.line	843
  6144 04:17B4: F4 04 00     	pea	#^~~k_update_hover_location
  6145 04:17B7: F4 A1 38     	pea	#<~~k_update_hover_location
  6146 04:17BA: D4 0F        	pei	<L261+pWin_1+2
  6147 04:17BC: D4 0D        	pei	<L261+pWin_1
  6148 04:17BE: 22 73 3A 04  	jsl	~~k_attach_mouse_detection
  6149                        ;				}
  6150                        	.line	844
  6151                        L10049:
  6152                        ;
  6153                        ;				/*
  6154                        ;				if(hWndParent)
  6155                        ;				{
  6156                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  6157                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),pWin,k_update_hover_loc
                    ation);
  6158                        ;				}
  6159                        ;
  6160                        ;				k_attach_mouse_detection
                    (pWin,k_update_hover_location);
  6161                        ;				*/
  6162                        ;
  6163                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_CREATE_WINDOW,NULL,0);
  6164                        	.line	856
  6165 04:17C2: F4 00 00     	pea	#<$0
  6166 04:17C5: F4 00 00     	pea	#^$0
  6167 04:17C8: F4 00 00     	pea	#<$0
  6168 04:17CB: F4 03 FF     	pea	#<$ff03
  6169 04:17CE: D4 0F        	pei	<L261+pWin_1+2
  6170 04:17D0: D4 0D        	pei	<L261+pWin_1
  6171 04:17D2: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  6172 04:17D6: 85 01        	sta	<R0
  6173 04:17D8: 86 03        	stx	<R0+2
  6174 04:17DA: DA           	phx
  6175 04:17DB: 48           	pha
  6176 04:17DC: 22 xx xx xx  	jsl	~~k_send_window_message
  6177                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_DRAW_NONCLIENT,NULL,0);
  6178                        	.line	857
  6179 04:17E0: F4 00 00     	pea	#<$0
  6180 04:17E3: F4 00 00     	pea	#^$0
  6181 04:17E6: F4 00 00     	pea	#<$0
  6182 04:17E9: F4 01 FB     	pea	#<$fb01
  6183 04:17EC: D4 0F        	pei	<L261+pWin_1+2
  6184 04:17EE: D4 0D        	pei	<L261+pWin_1
  Thu Dec  3 2020 22:25                                                Page 119


  6185 04:17F0: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  6186 04:17F4: 85 01        	sta	<R0
  6187 04:17F6: 86 03        	stx	<R0+2
  6188 04:17F8: DA           	phx
  6189 04:17F9: 48           	pha
  6190 04:17FA: 22 xx xx xx  	jsl	~~k_send_window_message
  6191                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_DRAW_WINDOW,NULL,0);
  6192                        	.line	858
  6193 04:17FE: F4 00 00     	pea	#<$0
  6194 04:1801: F4 00 00     	pea	#^$0
  6195 04:1804: F4 00 00     	pea	#<$0
  6196 04:1807: F4 00 FB     	pea	#<$fb00
  6197 04:180A: D4 0F        	pei	<L261+pWin_1+2
  6198 04:180C: D4 0D        	pei	<L261+pWin_1
  6199 04:180E: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  6200 04:1812: 85 01        	sta	<R0
  6201 04:1814: 86 03        	stx	<R0+2
  6202 04:1816: DA           	phx
  6203 04:1817: 48           	pha
  6204 04:1818: 22 xx xx xx  	jsl	~~k_send_window_message
  6205                        ;
  6206                        ;
  6207                        ;			}
  6208                        	.line	861
  6209                        ;		}
  6210                        L10041:
  6211                        	.line	862
  6212                        ;	}
  6213                        L10040:
  6214                        	.line	863
  6215                        ;	return pWin;
  6216                        L10039:
  6217                        	.line	864
  6218 04:181C: A6 0F        	ldx	<L261+pWin_1+2
  6219 04:181E: A5 0D        	lda	<L261+pWin_1
  6220                        L279:
  6221 04:1820: A8           	tay
  6222 04:1821: A5 32        	lda	<L260+2
  6223 04:1823: 85 52        	sta	<L260+2+32
  6224 04:1825: A5 31        	lda	<L260+1
  6225 04:1827: 85 51        	sta	<L260+1+32
  6226 04:1829: 2B           	pld
  6227 04:182A: 3B           	tsc
  6228 04:182B: 18           	clc
  6229 04:182C: 69 50 00     	adc	#L260+32
  6230 04:182F: 1B           	tcs
  6231 04:1830: 98           	tya
  6232 04:1831: 6B           	rtl
  6233                        ;}
  6234                        	.line	865
  6235                        	.endblock	865
  6236             00000030   L260	equ	48
  6237             00000009   L261	equ	9
  6238 04:1832:              	ends
  6239                        	efunc
  6240                        	.endfunc	865,9,48
  6241                        	.line	865
  Thu Dec  3 2020 22:25                                                Page 120


  6242                        	data
  6243                        L179:
  6244 00:0423: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$57,$69
       00:0427: 65 72 5F 43 
       00:042B: 72 65 61 74 
       00:042F: 65 57 69 
  6245 00:0432: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$43,$72
       00:0436: 3A 00 6B 5F 
       00:043A: 75 73 65 72 
       00:043E: 5F 43 72 
  6246 00:0441: 65 61 74 65  	db	$65,$61,$74,$65,$57,$69,$6E,$64,$6F,$77,
                    $3A,$00,$50,$72,$6F
       00:0445: 57 69 6E 64 
       00:0449: 6F 77 3A 00 
       00:044D: 50 72 6F 
  6247 00:0450: 63 65 73 73  	db	$63,$65,$73,$73,$20,$49,$64,$3A,$00
       00:0454: 20 49 64 3A 
       00:0458: 00 
  6248 00:0459:              	ends
  6249                        ;
  6250                        ;
  6251                        ;PWINDOWEX k_user_CreateWindowEx(ULONG     style,
  6252                        ;						        
                    LPCSTR    pClassName,
  6253                        ;						 	
                        LPCSTR    pWindowName,
  6254                        ;							
                        INT       x,
  6255                        ;							
                        INT       y,
  6256                        ;						 	
                        INT       nWidth,
  6257                        ;							
                        INT       nHeight,
  6258                        ;							
                        HWND      hWndParent,
  6259                        ;							
                        HMENU     hMenu,
  6260                        ;							
                        HINSTANCE hInstance)
  6261                        ;{
  6262                        	.line	868
  6263                        	.line	878
  6264                        	WINMAN
  6265                        	xdef	~~k_user_CreateWindowEx
  6266                        	func
  6267                        	.function	878
  6268                        ~~k_user_CreateWindowEx:
  6269                        	longa	on
  6270                        	longi	on
  6271 04:1832: 3B           	tsc
  6272 04:1833: 38           	sec
  6273 04:1834: E9 14 00     	sbc	#L281
  6274 04:1837: 1B           	tcs
  6275 04:1838: 0B           	phd
  6276 04:1839: 5B           	tcd
  Thu Dec  3 2020 22:25                                                Page 121


  6277             00000004   style_0	set	4
  6278             00000008   pClassName_0	set	8
  6279             0000000C   pWindowName_0	set	12
  6280             00000010   x_0	set	16
  6281             00000012   y_0	set	18
  6282             00000014   nWidth_0	set	20
  6283             00000016   nHeight_0	set	22
  6284             00000018   hWndParent_0	set	24
  6285             0000001C   hMenu_0	set	28
  6286             00000020   hInstance_0	set	32
  6287                        	.block	878
  6288                        ;
  6289                        ;	PFXNODE   	found = NULL;
  6290                        ;	PWINDOWEX   pWin = NULL;
  6291                        ;	PWINDOWEX   pParent = NULL;
  6292                        ;	PWNDCLASS 	wndClass = NULL;
  6293                        ;
  6294                        ;	k_debug_strings("k_user_CreateWindowEx:",(LPCHAR
                    )pWindowName);
  6295             00000000   found_1	set	0
  6296             00000004   pWin_1	set	4
  6297             00000008   pParent_1	set	8
  6298             0000000C   wndClass_1	set	12
  6299                        	.sym	found,0,138,1,32,2
  6300                        	.sym	pWin,4,138,1,32,28
  6301                        	.sym	pParent,8,138,1,32,28
  6302                        	.sym	wndClass,12,138,1,32,23
  6303                        	.sym	style,4,18,6,32
  6304                        	.sym	pClassName,8,142,6,32
  6305                        	.sym	pWindowName,12,142,6,32
  6306                        	.sym	x,16,5,6,16
  6307                        	.sym	y,18,5,6,16
  6308                        	.sym	nWidth,20,5,6,16
  6309                        	.sym	nHeight,22,5,6,16
  6310                        	.sym	hWndParent,24,129,6,32
  6311                        	.sym	hMenu,28,129,6,32
  6312                        	.sym	hInstance,32,129,6,32
  6313 04:183A: 64 05        	stz	<L282+found_1
  6314 04:183C: 64 07        	stz	<L282+found_1+2
  6315 04:183E: 64 09        	stz	<L282+pWin_1
  6316 04:1840: 64 0B        	stz	<L282+pWin_1+2
  6317 04:1842: 64 0D        	stz	<L282+pParent_1
  6318 04:1844: 64 0F        	stz	<L282+pParent_1+2
  6319 04:1846: 64 11        	stz	<L282+wndClass_1
  6320 04:1848: 64 13        	stz	<L282+wndClass_1+2
  6321                        	.line	885
  6322 04:184A: D4 22        	pei	<L281+pWindowName_0+2
  6323 04:184C: D4 20        	pei	<L281+pWindowName_0
  6324 04:184E: F4 xx xx     	pea	#^L280
  6325 04:1851: F4 xx xx     	pea	#<L280
  6326 04:1854: 22 xx xx xx  	jsl	~~k_debug_strings
  6327                        ;
  6328                        ;	if(pClassName && pWindowName)
  6329                        	.line	887
  6330                        ;	{
  6331 04:1858: A5 1C        	lda	<L281+pClassName_0
  6332 04:185A: 05 1E        	ora	<L281+pClassName_0+2
  6333 04:185C: D0 03        	bne	L284
  Thu Dec  3 2020 22:25                                                Page 122


  6334 04:185E: 82 21 01     	brl	L10050
  6335                        L284:
  6336 04:1861: A5 20        	lda	<L281+pWindowName_0
  6337 04:1863: 05 22        	ora	<L281+pWindowName_0+2
  6338 04:1865: D0 03        	bne	L285
  6339 04:1867: 82 18 01     	brl	L10050
  6340                        L285:
  6341                        	.line	888
  6342                        ;		//pWindowName = strupr((LPCHAR)pWindowNa
                    me); // temp fix for font def issue
  6343                        ;
  6344                        ;		found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  6345                        	.line	891
  6346 04:186A: D4 1E        	pei	<L281+pClassName_0+2
  6347 04:186C: D4 1C        	pei	<L281+pClassName_0
  6348 04:186E: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  6349 04:1871: 48           	pha
  6350 04:1872: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  6351 04:1875: 48           	pha
  6352 04:1876: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  6353 04:187A: 85 05        	sta	<L282+found_1
  6354 04:187C: 86 07        	stx	<L282+found_1+2
  6355                        ;		if(found && found->data)
  6356                        	.line	892
  6357                        ;		{
  6358 04:187E: A5 05        	lda	<L282+found_1
  6359 04:1880: 05 07        	ora	<L282+found_1+2
  6360 04:1882: D0 03        	bne	L286
  6361 04:1884: 82 FB 00     	brl	L10051
  6362                        L286:
  6363 04:1887: A0 02 00     	ldy	#$2
  6364 04:188A: B7 05        	lda	[<L282+found_1],Y
  6365 04:188C: A0 04 00     	ldy	#$4
  6366 04:188F: 17 05        	ora	[<L282+found_1],Y
  6367 04:1891: D0 03        	bne	L287
  6368 04:1893: 82 EC 00     	brl	L10051
  6369                        L287:
  6370                        	.line	893
  6371                        ;			wndClass = (PWNDCLASS)found->dat
                    a;
  6372                        	.line	894
  6373 04:1896: A0 02 00     	ldy	#$2
  6374 04:1899: B7 05        	lda	[<L282+found_1],Y
  6375 04:189B: 85 11        	sta	<L282+wndClass_1
  6376 04:189D: A0 04 00     	ldy	#$4
  6377 04:18A0: B7 05        	lda	[<L282+found_1],Y
  6378 04:18A2: 85 13        	sta	<L282+wndClass_1+2
  6379                        ;
  6380                        ;			//k_debug_strings("k_user_Create
                    Window:Found WndClass:",(LPVOID)wndClass->lpszClassName);
  6381                        ;
  6382                        ;			pWin = k_mem_allocate_heap(sizeo
                    f(WINDOW));
  6383                        	.line	898
  6384 04:18A4: F4 5F 01     	pea	#<$15f
  6385 04:18A7: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6386 04:18AB: 85 09        	sta	<L282+pWin_1
  Thu Dec  3 2020 22:25                                                Page 123


  6387 04:18AD: 86 0B        	stx	<L282+pWin_1+2
  6388                        ;			if(pWin)
  6389                        	.line	899
  6390                        ;			{
  6391 04:18AF: A5 09        	lda	<L282+pWin_1
  6392 04:18B1: 05 0B        	ora	<L282+pWin_1+2
  6393 04:18B3: D0 03        	bne	L288
  6394 04:18B5: 82 CA 00     	brl	L10052
  6395                        L288:
  6396                        	.line	900
  6397                        ;				memset(pWin,0,sizeof(WIN
                    DOWEX));
  6398                        	.line	901
  6399 04:18B8: F4 52 01     	pea	#<$152
  6400 04:18BB: F4 00 00     	pea	#<$0
  6401 04:18BE: D4 0B        	pei	<L282+pWin_1+2
  6402 04:18C0: D4 09        	pei	<L282+pWin_1
  6403 04:18C2: 22 xx xx xx  	jsl	~~memset
  6404                        ;				pWin->cbSize = sizeof(WI
                    NDOWEX);
  6405                        	.line	902
  6406 04:18C6: A9 52 01     	lda	#$152
  6407 04:18C9: 87 09        	sta	[<L282+pWin_1]
  6408                        ;				pWin->style = style;
  6409                        	.line	903
  6410 04:18CB: A5 18        	lda	<L281+style_0
  6411 04:18CD: A0 02 00     	ldy	#$2
  6412 04:18D0: 97 09        	sta	[<L282+pWin_1],Y
  6413 04:18D2: A5 1A        	lda	<L281+style_0+2
  6414 04:18D4: A0 04 00     	ldy	#$4
  6415 04:18D7: 97 09        	sta	[<L282+pWin_1],Y
  6416                        ;				pWin->pParentWindow = hW
                    ndParent;
  6417                        	.line	904
  6418 04:18D9: A5 2C        	lda	<L281+hWndParent_0
  6419 04:18DB: A0 10 01     	ldy	#$110
  6420 04:18DE: 97 09        	sta	[<L282+pWin_1],Y
  6421 04:18E0: A5 2E        	lda	<L281+hWndParent_0+2
  6422 04:18E2: A0 12 01     	ldy	#$112
  6423 04:18E5: 97 09        	sta	[<L282+pWin_1],Y
  6424                        ;				pWin->pWndClass = wndCla
                    ss;
  6425                        	.line	905
  6426 04:18E7: A5 11        	lda	<L282+wndClass_1
  6427 04:18E9: A0 0C 01     	ldy	#$10c
  6428 04:18EC: 97 09        	sta	[<L282+pWin_1],Y
  6429 04:18EE: A5 13        	lda	<L282+wndClass_1+2
  6430 04:18F0: A0 0E 01     	ldy	#$10e
  6431 04:18F3: 97 09        	sta	[<L282+pWin_1],Y
  6432                        ;				/*
  6433                        ;				strcpy(pWin->win_title,p
                    WindowName);
  6434                        ;
  6435                        ;				pWin->win_x 		
                    = x;
  6436                        ;				pWin->win_y 		
                    = y;
  6437                        ;				pWin->win_width 	
  Thu Dec  3 2020 22:25                                                Page 124


                    = nWidth;
  6438                        ;				pWin->win_height	
                    = nHeight;
  6439                        ;
  6440                        ;				pWin->hMenu = hMenu;
  6441                        ;				pWin->pChildWindows = NU
                    LL;
  6442                        ;				pWin->pChildHitList = NU
                    LL;
  6443                        ;				pWin->isVisible 	
                    = ((style & FXWS_VISIBLE) == FXWS_VISIBLE);
  6444                        ;
  6445                        ;				//k_debug_long("k_user_C
                    reateWindow:sytle:",style);
  6446                        ;				//k_debug_long("k_user_C
                    reateWindow:FXWS_VISIBLE:", FXWS_VISIBLE);
  6447                        ;				//k_debug_long("k_user_C
                    reateWindow:style & FXWS_VISIBLE:",style & FXWS_VISIBLE);
  6448                        ;				//k_debug_integer("k_use
                    r_CreateWindow:isVisible:",pWin->isVisible);
  6449                        ;
  6450                        ;
  6451                        ;				pWin->clickable = k_mem_
                    allocate_heap(sizeof(CLICKABLE));
  6452                        ;				if(pWin->clickable)
  6453                        ;				{
  6454                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.x 		= pWin->win_x;
  6455                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.y 		= pWin->win_y;
  6456                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.height 	= pWin->win_height;
  6457                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.width 	= pWin->win_width;
  6458                        ;				}
  6459                        ;
  6460                        ;				pWin->clientRect.x 	
                    	= pWin->wndRect.x		= pWin->win_x;
  6461                        ;				pWin->clientRect.y 	
                    	= pWin->wndRect.y		= pWin->win_y;
  6462                        ;				pWin->clientRect.width 	
                    = pWin->wndRect.width	= pWin->win_width;
  6463                        ;				pWin->clientRect.height 
                    = pWin->wndRect.height 	= pWin->win_height;
  6464                        ;
  6465                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(((PCLICKABLE)pWin->clickable)->area));
  6466                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(pWin->clientRect));
  6467                        ;
  6468                        ;				k_debug_rect("WndRect:",
                    &pWin->wndRect);
  6469                        ;				k_debug_rect("ClientRect
                    :",&pWin->clientRect);
  6470                        ;				k_debug_rect("ClassicRec
                    t:",(PRECT)&pWin->win_x);
  6471                        ;
  6472                        ;				//strcpy(pWin->win_title
  Thu Dec  3 2020 22:25                                                Page 125


                    ,(LPCSTR)k_longtodec((ULONG)pWin,localBuffer));
  6473                        ;
  6474                        ;				//k_nodelist_addtolist(_
                    k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(LPCSTR)
                    k_longtodec((ULONG)pWin,localBuffer),pWin);
  6475                        ;				k_nodelist_naddtolist(_k
                    _windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(ULONG)pW
                    in,pWin);
  6476                        ;				//k_debug_nodelist(_k_wi
                    ndowManager_WindowObjectList->listhead->next);
  6477                        ;				*/
  6478                        ;
  6479                        ;
  6480                        ;				if(hWndParent)
  6481                        	.line	954
  6482                        ;				{
  6483 04:18F5: A5 2C        	lda	<L281+hWndParent_0
  6484 04:18F7: 05 2E        	ora	<L281+hWndParent_0+2
  6485 04:18F9: D0 03        	bne	L289
  6486 04:18FB: 82 1C 00     	brl	L10053
  6487                        L289:
  6488                        	.line	955
  6489                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  6490                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),(PWINDOW)pWin,k_update_
                    hover_location);
  6491                        	.line	957
  6492 04:18FE: F4 04 00     	pea	#^~~k_update_hover_location
  6493 04:1901: F4 A1 38     	pea	#<~~k_update_hover_location
  6494 04:1904: D4 0B        	pei	<L282+pWin_1+2
  6495 04:1906: D4 09        	pei	<L282+pWin_1
  6496 04:1908: D4 2E        	pei	<L281+hWndParent_0+2
  6497 04:190A: D4 2C        	pei	<L281+hWndParent_0
  6498 04:190C: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  6499 04:1910: 85 01        	sta	<R0
  6500 04:1912: 86 03        	stx	<R0+2
  6501 04:1914: DA           	phx
  6502 04:1915: 48           	pha
  6503 04:1916: 22 A5 37 04  	jsl	~~k_add_child_window
  6504                        ;				}
  6505                        	.line	958
  6506                        ;
  6507                        ;				k_attach_mouse_detection
                    ((PWINDOW)pWin,k_update_hover_location);
  6508                        L10053:
  6509                        	.line	960
  6510 04:191A: F4 04 00     	pea	#^~~k_update_hover_location
  6511 04:191D: F4 A1 38     	pea	#<~~k_update_hover_location
  6512 04:1920: D4 0B        	pei	<L282+pWin_1+2
  6513 04:1922: D4 09        	pei	<L282+pWin_1
  6514 04:1924: 22 73 3A 04  	jsl	~~k_attach_mouse_detection
  6515                        ;
  6516                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_CREATE_WINDOW,NULL,0);
  6517                        	.line	962
  6518 04:1928: F4 00 00     	pea	#<$0
  Thu Dec  3 2020 22:25                                                Page 126


  6519 04:192B: F4 00 00     	pea	#^$0
  6520 04:192E: F4 00 00     	pea	#<$0
  6521 04:1931: F4 03 FF     	pea	#<$ff03
  6522 04:1934: D4 0B        	pei	<L282+pWin_1+2
  6523 04:1936: D4 09        	pei	<L282+pWin_1
  6524 04:1938: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  6525 04:193C: 85 01        	sta	<R0
  6526 04:193E: 86 03        	stx	<R0+2
  6527 04:1940: DA           	phx
  6528 04:1941: 48           	pha
  6529 04:1942: 22 xx xx xx  	jsl	~~k_send_window_message
  6530                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_DRAW_NONCLIENT,NULL,0)
                    ;
  6531                        	.line	963
  6532 04:1946: F4 00 00     	pea	#<$0
  6533 04:1949: F4 00 00     	pea	#^$0
  6534 04:194C: F4 00 00     	pea	#<$0
  6535 04:194F: F4 01 FB     	pea	#<$fb01
  6536 04:1952: D4 0B        	pei	<L282+pWin_1+2
  6537 04:1954: D4 09        	pei	<L282+pWin_1
  6538 04:1956: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  6539 04:195A: 85 01        	sta	<R0
  6540 04:195C: 86 03        	stx	<R0+2
  6541 04:195E: DA           	phx
  6542 04:195F: 48           	pha
  6543 04:1960: 22 xx xx xx  	jsl	~~k_send_window_message
  6544                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_DRAW_WINDOW,NULL,0);
  6545                        	.line	964
  6546 04:1964: F4 00 00     	pea	#<$0
  6547 04:1967: F4 00 00     	pea	#^$0
  6548 04:196A: F4 00 00     	pea	#<$0
  6549 04:196D: F4 00 FB     	pea	#<$fb00
  6550 04:1970: D4 0B        	pei	<L282+pWin_1+2
  6551 04:1972: D4 09        	pei	<L282+pWin_1
  6552 04:1974: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  6553 04:1978: 85 01        	sta	<R0
  6554 04:197A: 86 03        	stx	<R0+2
  6555 04:197C: DA           	phx
  6556 04:197D: 48           	pha
  6557 04:197E: 22 xx xx xx  	jsl	~~k_send_window_message
  6558                        ;
  6559                        ;
  6560                        ;			}
  6561                        	.line	967
  6562                        ;		}
  6563                        L10052:
  6564                        	.line	968
  6565                        ;	}
  6566                        L10051:
  6567                        	.line	969
  6568                        ;	return pWin;
  6569                        L10050:
  6570                        	.line	970
  6571 04:1982: A6 0B        	ldx	<L282+pWin_1+2
  6572 04:1984: A5 09        	lda	<L282+pWin_1
  6573                        L290:
  Thu Dec  3 2020 22:25                                                Page 127


  6574 04:1986: A8           	tay
  6575 04:1987: A5 16        	lda	<L281+2
  6576 04:1989: 85 36        	sta	<L281+2+32
  6577 04:198B: A5 15        	lda	<L281+1
  6578 04:198D: 85 35        	sta	<L281+1+32
  6579 04:198F: 2B           	pld
  6580 04:1990: 3B           	tsc
  6581 04:1991: 18           	clc
  6582 04:1992: 69 34 00     	adc	#L281+32
  6583 04:1995: 1B           	tcs
  6584 04:1996: 98           	tya
  6585 04:1997: 6B           	rtl
  6586                        ;}
  6587                        	.line	971
  6588                        	.endblock	971
  6589             00000014   L281	equ	20
  6590             00000005   L282	equ	5
  6591 04:1998:              	ends
  6592                        	efunc
  6593                        	.endfunc	971,5,20
  6594                        	.line	971
  6595                        	data
  6596                        L280:
  6597 00:0459: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$57,$69
       00:045D: 65 72 5F 43 
       00:0461: 72 65 61 74 
       00:0465: 65 57 69 
  6598 00:0468: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$45,$78,$3A,$00
       00:046C: 45 78 3A 00 
  6599 00:0470:              	ends
  6600                        ;
  6601                        ;
  6602                        ;LPVOID	k_user_SetWindowData(HWND hWnd,UINT inde
                    x,LPVOID data)
  6603                        ;{
  6604                        	.line	974
  6605                        	.line	975
  6606                        	WINMAN
  6607                        	xdef	~~k_user_SetWindowData
  6608                        	func
  6609                        	.function	975
  6610                        ~~k_user_SetWindowData:
  6611                        	longa	on
  6612                        	longi	on
  6613 04:1998: 3B           	tsc
  6614 04:1999: 38           	sec
  6615 04:199A: E9 14 00     	sbc	#L292
  6616 04:199D: 1B           	tcs
  6617 04:199E: 0B           	phd
  6618 04:199F: 5B           	tcd
  6619             00000004   hWnd_0	set	4
  6620             00000008   index_0	set	8
  6621             0000000A   data_0	set	10
  6622                        	.block	975
  6623                        ;	LPVOID old = NULL;
  6624                        ;
  6625                        ;	if(hWnd)
  Thu Dec  3 2020 22:25                                                Page 128


  6626             00000000   old_1	set	0
  6627                        	.sym	old,0,129,1,32
  6628                        	.sym	hWnd,4,129,6,32
  6629                        	.sym	index,8,16,6,16
  6630                        	.sym	data,10,129,6,32
  6631 04:19A0: 64 11        	stz	<L293+old_1
  6632 04:19A2: 64 13        	stz	<L293+old_1+2
  6633                        	.line	978
  6634                        ;	{
  6635 04:19A4: A5 18        	lda	<L292+hWnd_0
  6636 04:19A6: 05 1A        	ora	<L292+hWnd_0+2
  6637 04:19A8: D0 03        	bne	L295
  6638 04:19AA: 82 6A 00     	brl	L10054
  6639                        L295:
  6640                        	.line	979
  6641                        ;		if(index >= 0 && index < 4)
  6642                        	.line	980
  6643                        ;		{
  6644 04:19AD: A5 1C        	lda	<L292+index_0
  6645 04:19AF: C9 00 00     	cmp	#<$0
  6646 04:19B2: B0 03        	bcs	L296
  6647 04:19B4: 82 60 00     	brl	L10055
  6648                        L296:
  6649 04:19B7: A5 1C        	lda	<L292+index_0
  6650 04:19B9: C9 04 00     	cmp	#<$4
  6651 04:19BC: 90 03        	bcc	L297
  6652 04:19BE: 82 56 00     	brl	L10055
  6653                        L297:
  6654                        	.line	981
  6655                        ;			old = k_user_GetWindowData(hWnd,
                    index);
  6656                        	.line	982
  6657 04:19C1: D4 1C        	pei	<L292+index_0
  6658 04:19C3: D4 1A        	pei	<L292+hWnd_0+2
  6659 04:19C5: D4 18        	pei	<L292+hWnd_0
  6660 04:19C7: 22 2D 1A 04  	jsl	~~k_user_GetWindowData
  6661 04:19CB: 85 11        	sta	<L293+old_1
  6662 04:19CD: 86 13        	stx	<L293+old_1+2
  6663                        ;			k_getWindowFromHandle(hWnd)->cli
                    entData[index] = data;
  6664                        	.line	983
  6665 04:19CF: D4 1A        	pei	<L292+hWnd_0+2
  6666 04:19D1: D4 18        	pei	<L292+hWnd_0
  6667 04:19D3: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  6668 04:19D7: 85 01        	sta	<R0
  6669 04:19D9: 86 03        	stx	<R0+2
  6670 04:19DB: A5 1C        	lda	<L292+index_0
  6671 04:19DD: 85 09        	sta	<R2
  6672 04:19DF: 64 0B        	stz	<R2+2
  6673 04:19E1: D4 0B        	pei	<R2+2
  6674 04:19E3: D4 09        	pei	<R2
  6675 04:19E5: A9 02 00     	lda	#$2
  6676                        	xref	~~~lasl
  6677 04:19E8: 22 xx xx xx  	jsl	~~~lasl
  6678 04:19EC: 85 05        	sta	<R1
  6679 04:19EE: 86 07        	stx	<R1+2
  6680 04:19F0: 18           	clc
  6681 04:19F1: A9 45 01     	lda	#$145
  Thu Dec  3 2020 22:25                                                Page 129


  6682 04:19F4: 65 01        	adc	<R0
  6683 04:19F6: 85 0D        	sta	<R3
  6684 04:19F8: A9 00 00     	lda	#$0
  6685 04:19FB: 65 03        	adc	<R0+2
  6686 04:19FD: 85 0F        	sta	<R3+2
  6687 04:19FF: 18           	clc
  6688 04:1A00: A5 0D        	lda	<R3
  6689 04:1A02: 65 05        	adc	<R1
  6690 04:1A04: 85 01        	sta	<R0
  6691 04:1A06: A5 0F        	lda	<R3+2
  6692 04:1A08: 65 07        	adc	<R1+2
  6693 04:1A0A: 85 03        	sta	<R0+2
  6694 04:1A0C: A5 1E        	lda	<L292+data_0
  6695 04:1A0E: 87 01        	sta	[<R0]
  6696 04:1A10: A5 20        	lda	<L292+data_0+2
  6697 04:1A12: A0 02 00     	ldy	#$2
  6698 04:1A15: 97 01        	sta	[<R0],Y
  6699                        ;		}
  6700                        	.line	984
  6701                        ;	}
  6702                        L10055:
  6703                        	.line	985
  6704                        ;	return old;
  6705                        L10054:
  6706                        	.line	986
  6707 04:1A17: A6 13        	ldx	<L293+old_1+2
  6708 04:1A19: A5 11        	lda	<L293+old_1
  6709                        L298:
  6710 04:1A1B: A8           	tay
  6711 04:1A1C: A5 16        	lda	<L292+2
  6712 04:1A1E: 85 20        	sta	<L292+2+10
  6713 04:1A20: A5 15        	lda	<L292+1
  6714 04:1A22: 85 1F        	sta	<L292+1+10
  6715 04:1A24: 2B           	pld
  6716 04:1A25: 3B           	tsc
  6717 04:1A26: 18           	clc
  6718 04:1A27: 69 1E 00     	adc	#L292+10
  6719 04:1A2A: 1B           	tcs
  6720 04:1A2B: 98           	tya
  6721 04:1A2C: 6B           	rtl
  6722                        ;}
  6723                        	.line	987
  6724                        	.endblock	987
  6725             00000014   L292	equ	20
  6726             00000011   L293	equ	17
  6727 04:1A2D:              	ends
  6728                        	efunc
  6729                        	.endfunc	987,17,20
  6730                        	.line	987
  6731                        ;
  6732                        ;LPVOID	k_user_GetWindowData(HWND hWnd,UINT inde
                    x)
  6733                        ;{
  6734                        	.line	989
  6735                        	.line	990
  6736                        	WINMAN
  6737                        	xdef	~~k_user_GetWindowData
  6738                        	func
  Thu Dec  3 2020 22:25                                                Page 130


  6739                        	.function	990
  6740                        ~~k_user_GetWindowData:
  6741                        	longa	on
  6742                        	longi	on
  6743 04:1A2D: 3B           	tsc
  6744 04:1A2E: 38           	sec
  6745 04:1A2F: E9 14 00     	sbc	#L299
  6746 04:1A32: 1B           	tcs
  6747 04:1A33: 0B           	phd
  6748 04:1A34: 5B           	tcd
  6749             00000004   hWnd_0	set	4
  6750             00000008   index_0	set	8
  6751                        	.block	990
  6752                        ;	LPVOID data = NULL;
  6753                        ;
  6754                        ;	if(hWnd)
  6755             00000000   data_1	set	0
  6756                        	.sym	data,0,129,1,32
  6757                        	.sym	hWnd,4,129,6,32
  6758                        	.sym	index,8,16,6,16
  6759 04:1A35: 64 11        	stz	<L300+data_1
  6760 04:1A37: 64 13        	stz	<L300+data_1+2
  6761                        	.line	993
  6762                        ;	{
  6763 04:1A39: A5 18        	lda	<L299+hWnd_0
  6764 04:1A3B: 05 1A        	ora	<L299+hWnd_0+2
  6765 04:1A3D: D0 03        	bne	L302
  6766 04:1A3F: 82 5C 00     	brl	L10056
  6767                        L302:
  6768                        	.line	994
  6769                        ;		if(index >= 0 && index < 4)
  6770                        	.line	995
  6771                        ;		{
  6772 04:1A42: A5 1C        	lda	<L299+index_0
  6773 04:1A44: C9 00 00     	cmp	#<$0
  6774 04:1A47: B0 03        	bcs	L303
  6775 04:1A49: 82 52 00     	brl	L10057
  6776                        L303:
  6777 04:1A4C: A5 1C        	lda	<L299+index_0
  6778 04:1A4E: C9 04 00     	cmp	#<$4
  6779 04:1A51: 90 03        	bcc	L304
  6780 04:1A53: 82 48 00     	brl	L10057
  6781                        L304:
  6782                        	.line	996
  6783                        ;			data = k_getWindowFromHandle(hWn
                    d)->clientData[index];
  6784                        	.line	997
  6785 04:1A56: D4 1A        	pei	<L299+hWnd_0+2
  6786 04:1A58: D4 18        	pei	<L299+hWnd_0
  6787 04:1A5A: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  6788 04:1A5E: 85 01        	sta	<R0
  6789 04:1A60: 86 03        	stx	<R0+2
  6790 04:1A62: A5 1C        	lda	<L299+index_0
  6791 04:1A64: 85 09        	sta	<R2
  6792 04:1A66: 64 0B        	stz	<R2+2
  6793 04:1A68: D4 0B        	pei	<R2+2
  6794 04:1A6A: D4 09        	pei	<R2
  6795 04:1A6C: A9 02 00     	lda	#$2
  Thu Dec  3 2020 22:25                                                Page 131


  6796                        	xref	~~~lasl
  6797 04:1A6F: 22 xx xx xx  	jsl	~~~lasl
  6798 04:1A73: 85 05        	sta	<R1
  6799 04:1A75: 86 07        	stx	<R1+2
  6800 04:1A77: 18           	clc
  6801 04:1A78: A9 45 01     	lda	#$145
  6802 04:1A7B: 65 01        	adc	<R0
  6803 04:1A7D: 85 0D        	sta	<R3
  6804 04:1A7F: A9 00 00     	lda	#$0
  6805 04:1A82: 65 03        	adc	<R0+2
  6806 04:1A84: 85 0F        	sta	<R3+2
  6807 04:1A86: 18           	clc
  6808 04:1A87: A5 0D        	lda	<R3
  6809 04:1A89: 65 05        	adc	<R1
  6810 04:1A8B: 85 01        	sta	<R0
  6811 04:1A8D: A5 0F        	lda	<R3+2
  6812 04:1A8F: 65 07        	adc	<R1+2
  6813 04:1A91: 85 03        	sta	<R0+2
  6814 04:1A93: A7 01        	lda	[<R0]
  6815 04:1A95: 85 11        	sta	<L300+data_1
  6816 04:1A97: A0 02 00     	ldy	#$2
  6817 04:1A9A: B7 01        	lda	[<R0],Y
  6818 04:1A9C: 85 13        	sta	<L300+data_1+2
  6819                        ;		}
  6820                        	.line	998
  6821                        ;	}
  6822                        L10057:
  6823                        	.line	999
  6824                        ;
  6825                        ;	return data;
  6826                        L10056:
  6827                        	.line	1001
  6828 04:1A9E: A6 13        	ldx	<L300+data_1+2
  6829 04:1AA0: A5 11        	lda	<L300+data_1
  6830                        L305:
  6831 04:1AA2: A8           	tay
  6832 04:1AA3: A5 16        	lda	<L299+2
  6833 04:1AA5: 85 1C        	sta	<L299+2+6
  6834 04:1AA7: A5 15        	lda	<L299+1
  6835 04:1AA9: 85 1B        	sta	<L299+1+6
  6836 04:1AAB: 2B           	pld
  6837 04:1AAC: 3B           	tsc
  6838 04:1AAD: 18           	clc
  6839 04:1AAE: 69 1A 00     	adc	#L299+6
  6840 04:1AB1: 1B           	tcs
  6841 04:1AB2: 98           	tya
  6842 04:1AB3: 6B           	rtl
  6843                        ;}
  6844                        	.line	1002
  6845                        	.endblock	1002
  6846             00000014   L299	equ	20
  6847             00000011   L300	equ	17
  6848 04:1AB4:              	ends
  6849                        	efunc
  6850                        	.endfunc	1002,17,20
  6851                        	.line	1002
  6852                        ;
  6853                        ;void k_user_SetRect(PRECT prect,int x,int y,int w
  Thu Dec  3 2020 22:25                                                Page 132


                    idth,int height)
  6854                        ;{
  6855                        	.line	1004
  6856                        	.line	1005
  6857                        	WINMAN
  6858                        	xdef	~~k_user_SetRect
  6859                        	func
  6860                        	.function	1005
  6861                        ~~k_user_SetRect:
  6862                        	longa	on
  6863                        	longi	on
  6864 04:1AB4: 3B           	tsc
  6865 04:1AB5: 38           	sec
  6866 04:1AB6: E9 00 00     	sbc	#L306
  6867 04:1AB9: 1B           	tcs
  6868 04:1ABA: 0B           	phd
  6869 04:1ABB: 5B           	tcd
  6870             00000004   prect_0	set	4
  6871             00000008   x_0	set	8
  6872             0000000A   y_0	set	10
  6873             0000000C   width_0	set	12
  6874             0000000E   height_0	set	14
  6875                        	.block	1005
  6876                        ;	if(prect)
  6877                        	.sym	prect,4,138,6,32,22
  6878                        	.sym	x,8,5,6,16
  6879                        	.sym	y,10,5,6,16
  6880                        	.sym	width,12,5,6,16
  6881                        	.sym	height,14,5,6,16
  6882                        	.line	1006
  6883                        ;	{
  6884 04:1ABC: A5 04        	lda	<L306+prect_0
  6885 04:1ABE: 05 06        	ora	<L306+prect_0+2
  6886 04:1AC0: D0 03        	bne	L309
  6887 04:1AC2: 82 19 00     	brl	L10058
  6888                        L309:
  6889                        	.line	1007
  6890                        ;		prect->x = x;
  6891                        	.line	1008
  6892 04:1AC5: A5 08        	lda	<L306+x_0
  6893 04:1AC7: 87 04        	sta	[<L306+prect_0]
  6894                        ;		prect->y = y;
  6895                        	.line	1009
  6896 04:1AC9: A5 0A        	lda	<L306+y_0
  6897 04:1ACB: A0 02 00     	ldy	#$2
  6898 04:1ACE: 97 04        	sta	[<L306+prect_0],Y
  6899                        ;		prect->width = width;
  6900                        	.line	1010
  6901 04:1AD0: A5 0C        	lda	<L306+width_0
  6902 04:1AD2: A0 04 00     	ldy	#$4
  6903 04:1AD5: 97 04        	sta	[<L306+prect_0],Y
  6904                        ;		prect->height = height;
  6905                        	.line	1011
  6906 04:1AD7: A5 0E        	lda	<L306+height_0
  6907 04:1AD9: A0 06 00     	ldy	#$6
  6908 04:1ADC: 97 04        	sta	[<L306+prect_0],Y
  6909                        ;	}
  6910                        	.line	1012
  Thu Dec  3 2020 22:25                                                Page 133


  6911                        ;}
  6912                        L10058:
  6913                        	.line	1013
  6914                        L310:
  6915 04:1ADE: A5 02        	lda	<L306+2
  6916 04:1AE0: 85 0E        	sta	<L306+2+12
  6917 04:1AE2: A5 01        	lda	<L306+1
  6918 04:1AE4: 85 0D        	sta	<L306+1+12
  6919 04:1AE6: 2B           	pld
  6920 04:1AE7: 3B           	tsc
  6921 04:1AE8: 18           	clc
  6922 04:1AE9: 69 0C 00     	adc	#L306+12
  6923 04:1AEC: 1B           	tcs
  6924 04:1AED: 6B           	rtl
  6925                        	.endblock	1013
  6926             00000000   L306	equ	0
  6927             00000001   L307	equ	1
  6928 04:1AEE:              	ends
  6929                        	efunc
  6930                        	.endfunc	1013,1,0
  6931                        	.line	1013
  6932                        ;
  6933                        ;void k_user_ClearRect(PRECT prect)
  6934                        ;{
  6935                        	.line	1015
  6936                        	.line	1016
  6937                        	WINMAN
  6938                        	xdef	~~k_user_ClearRect
  6939                        	func
  6940                        	.function	1016
  6941                        ~~k_user_ClearRect:
  6942                        	longa	on
  6943                        	longi	on
  6944 04:1AEE: 3B           	tsc
  6945 04:1AEF: 38           	sec
  6946 04:1AF0: E9 00 00     	sbc	#L311
  6947 04:1AF3: 1B           	tcs
  6948 04:1AF4: 0B           	phd
  6949 04:1AF5: 5B           	tcd
  6950             00000004   prect_0	set	4
  6951                        	.block	1016
  6952                        ;	if(prect)
  6953                        	.sym	prect,4,138,6,32,22
  6954                        	.line	1017
  6955                        ;	{
  6956 04:1AF6: A5 04        	lda	<L311+prect_0
  6957 04:1AF8: 05 06        	ora	<L311+prect_0+2
  6958 04:1AFA: D0 03        	bne	L314
  6959 04:1AFC: 82 1D 00     	brl	L10059
  6960                        L314:
  6961                        	.line	1018
  6962                        ;		prect->x 	  = 0;
  6963                        	.line	1019
  6964 04:1AFF: A9 00 00     	lda	#$0
  6965 04:1B02: 87 04        	sta	[<L311+prect_0]
  6966                        ;		prect->y 	  = 0;
  6967                        	.line	1020
  6968 04:1B04: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 134


  6969 04:1B07: A0 02 00     	ldy	#$2
  6970 04:1B0A: 97 04        	sta	[<L311+prect_0],Y
  6971                        ;		prect->width  = 0;
  6972                        	.line	1021
  6973 04:1B0C: A9 00 00     	lda	#$0
  6974 04:1B0F: A0 04 00     	ldy	#$4
  6975 04:1B12: 97 04        	sta	[<L311+prect_0],Y
  6976                        ;		prect->height = 0;
  6977                        	.line	1022
  6978 04:1B14: A9 00 00     	lda	#$0
  6979 04:1B17: A0 06 00     	ldy	#$6
  6980 04:1B1A: 97 04        	sta	[<L311+prect_0],Y
  6981                        ;	}
  6982                        	.line	1023
  6983                        ;}
  6984                        L10059:
  6985                        	.line	1024
  6986                        L315:
  6987 04:1B1C: A5 02        	lda	<L311+2
  6988 04:1B1E: 85 06        	sta	<L311+2+4
  6989 04:1B20: A5 01        	lda	<L311+1
  6990 04:1B22: 85 05        	sta	<L311+1+4
  6991 04:1B24: 2B           	pld
  6992 04:1B25: 3B           	tsc
  6993 04:1B26: 18           	clc
  6994 04:1B27: 69 04 00     	adc	#L311+4
  6995 04:1B2A: 1B           	tcs
  6996 04:1B2B: 6B           	rtl
  6997                        	.endblock	1024
  6998             00000000   L311	equ	0
  6999             00000001   L312	equ	1
  7000 04:1B2C:              	ends
  7001                        	efunc
  7002                        	.endfunc	1024,1,0
  7003                        	.line	1024
  7004                        ;
  7005                        ;
  7006                        ;void k_user_CopyRect(PRECT prectSrc,PRECT prectDe
                    st)
  7007                        ;{
  7008                        	.line	1027
  7009                        	.line	1028
  7010                        	WINMAN
  7011                        	xdef	~~k_user_CopyRect
  7012                        	func
  7013                        	.function	1028
  7014                        ~~k_user_CopyRect:
  7015                        	longa	on
  7016                        	longi	on
  7017 04:1B2C: 3B           	tsc
  7018 04:1B2D: 38           	sec
  7019 04:1B2E: E9 00 00     	sbc	#L316
  7020 04:1B31: 1B           	tcs
  7021 04:1B32: 0B           	phd
  7022 04:1B33: 5B           	tcd
  7023             00000004   prectSrc_0	set	4
  7024             00000008   prectDest_0	set	8
  7025                        	.block	1028
  Thu Dec  3 2020 22:25                                                Page 135


  7026                        ;	if(prectSrc && prectDest)
  7027                        	.sym	prectSrc,4,138,6,32,22
  7028                        	.sym	prectDest,8,138,6,32,22
  7029                        	.line	1029
  7030                        ;	{
  7031 04:1B34: A5 04        	lda	<L316+prectSrc_0
  7032 04:1B36: 05 06        	ora	<L316+prectSrc_0+2
  7033 04:1B38: D0 03        	bne	L319
  7034 04:1B3A: 82 2B 00     	brl	L10060
  7035                        L319:
  7036 04:1B3D: A5 08        	lda	<L316+prectDest_0
  7037 04:1B3F: 05 0A        	ora	<L316+prectDest_0+2
  7038 04:1B41: D0 03        	bne	L320
  7039 04:1B43: 82 22 00     	brl	L10060
  7040                        L320:
  7041                        	.line	1030
  7042                        ;		prectSrc->x 	= prectDest->x;
  7043                        	.line	1031
  7044 04:1B46: A7 08        	lda	[<L316+prectDest_0]
  7045 04:1B48: 87 04        	sta	[<L316+prectSrc_0]
  7046                        ;		prectSrc->y 	= prectDest->y;
  7047                        	.line	1032
  7048 04:1B4A: A0 02 00     	ldy	#$2
  7049 04:1B4D: B7 08        	lda	[<L316+prectDest_0],Y
  7050 04:1B4F: A0 02 00     	ldy	#$2
  7051 04:1B52: 97 04        	sta	[<L316+prectSrc_0],Y
  7052                        ;		prectSrc->width = prectDest->width;
  7053                        	.line	1033
  7054 04:1B54: A0 04 00     	ldy	#$4
  7055 04:1B57: B7 08        	lda	[<L316+prectDest_0],Y
  7056 04:1B59: A0 04 00     	ldy	#$4
  7057 04:1B5C: 97 04        	sta	[<L316+prectSrc_0],Y
  7058                        ;		prectSrc->height= prectDest->height;
  7059                        	.line	1034
  7060 04:1B5E: A0 06 00     	ldy	#$6
  7061 04:1B61: B7 08        	lda	[<L316+prectDest_0],Y
  7062 04:1B63: A0 06 00     	ldy	#$6
  7063 04:1B66: 97 04        	sta	[<L316+prectSrc_0],Y
  7064                        ;	}
  7065                        	.line	1035
  7066                        ;}
  7067                        L10060:
  7068                        	.line	1036
  7069                        L321:
  7070 04:1B68: A5 02        	lda	<L316+2
  7071 04:1B6A: 85 0A        	sta	<L316+2+8
  7072 04:1B6C: A5 01        	lda	<L316+1
  7073 04:1B6E: 85 09        	sta	<L316+1+8
  7074 04:1B70: 2B           	pld
  7075 04:1B71: 3B           	tsc
  7076 04:1B72: 18           	clc
  7077 04:1B73: 69 08 00     	adc	#L316+8
  7078 04:1B76: 1B           	tcs
  7079 04:1B77: 6B           	rtl
  7080                        	.endblock	1036
  7081             00000000   L316	equ	0
  7082             00000001   L317	equ	1
  7083 04:1B78:              	ends
  Thu Dec  3 2020 22:25                                                Page 136


  7084                        	efunc
  7085                        	.endfunc	1036,1,0
  7086                        	.line	1036
  7087                        ;
  7088                        ;
  7089                        ;HMENU k_user_CreateMenuResource()
  7090                        ;{
  7091                        	.line	1039
  7092                        	.line	1040
  7093                        	WINMAN
  7094                        	xdef	~~k_user_CreateMenuResource
  7095                        	func
  7096                        	.function	1040
  7097                        ~~k_user_CreateMenuResource:
  7098                        	longa	on
  7099                        	longi	on
  7100 04:1B78: 3B           	tsc
  7101 04:1B79: 38           	sec
  7102 04:1B7A: E9 04 00     	sbc	#L322
  7103 04:1B7D: 1B           	tcs
  7104 04:1B7E: 0B           	phd
  7105 04:1B7F: 5B           	tcd
  7106                        	.block	1040
  7107                        ;	PMENU pMenu = NULL;
  7108                        ;
  7109                        ;	//k_debug_strings("k_user_CreateMenuResource:","
                    Enter");
  7110                        ;
  7111                        ;	pMenu = k_mem_allocate_heap(sizeof(MENU));
  7112             00000000   pMenu_1	set	0
  7113                        	.sym	pMenu,0,138,1,32,31
  7114 04:1B80: 64 01        	stz	<L323+pMenu_1
  7115 04:1B82: 64 03        	stz	<L323+pMenu_1+2
  7116                        	.line	1045
  7117 04:1B84: F4 1F 00     	pea	#<$1f
  7118 04:1B87: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7119 04:1B8B: 85 01        	sta	<L323+pMenu_1
  7120 04:1B8D: 86 03        	stx	<L323+pMenu_1+2
  7121                        ;	memset(pMenu,0,sizeof(MENU));
  7122                        	.line	1046
  7123 04:1B8F: F4 1F 00     	pea	#<$1f
  7124 04:1B92: F4 00 00     	pea	#<$0
  7125 04:1B95: D4 03        	pei	<L323+pMenu_1+2
  7126 04:1B97: D4 01        	pei	<L323+pMenu_1
  7127 04:1B99: 22 xx xx xx  	jsl	~~memset
  7128                        ;
  7129                        ;	pMenu->pCaption = NULL;//k_string_copy_string("@
                    root");
  7130                        	.line	1048
  7131 04:1B9D: A9 00 00     	lda	#$0
  7132 04:1BA0: A0 0F 00     	ldy	#$f
  7133 04:1BA3: 97 01        	sta	[<L323+pMenu_1],Y
  7134 04:1BA5: A9 00 00     	lda	#$0
  7135 04:1BA8: A0 11 00     	ldy	#$11
  7136 04:1BAB: 97 01        	sta	[<L323+pMenu_1],Y
  7137                        ;	pMenu->width    = 0;
  7138                        	.line	1049
  7139 04:1BAD: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 137


  7140 04:1BB0: A0 04 00     	ldy	#$4
  7141 04:1BB3: 97 01        	sta	[<L323+pMenu_1],Y
  7142                        ;	pMenu->height   = 0;
  7143                        	.line	1050
  7144 04:1BB5: A9 00 00     	lda	#$0
  7145 04:1BB8: A0 06 00     	ldy	#$6
  7146 04:1BBB: 97 01        	sta	[<L323+pMenu_1],Y
  7147                        ;	pMenu->subMenus = NULL;
  7148                        	.line	1051
  7149 04:1BBD: A9 00 00     	lda	#$0
  7150 04:1BC0: A0 13 00     	ldy	#$13
  7151 04:1BC3: 97 01        	sta	[<L323+pMenu_1],Y
  7152 04:1BC5: A9 00 00     	lda	#$0
  7153 04:1BC8: A0 15 00     	ldy	#$15
  7154 04:1BCB: 97 01        	sta	[<L323+pMenu_1],Y
  7155                        ;
  7156                        ;	//k_debug_strings("k_user_CreateMenuResource:","
                    Exit");
  7157                        ;
  7158                        ;	return (HMENU)pMenu;
  7159                        	.line	1055
  7160 04:1BCD: A6 03        	ldx	<L323+pMenu_1+2
  7161 04:1BCF: A5 01        	lda	<L323+pMenu_1
  7162                        L325:
  7163 04:1BD1: A8           	tay
  7164 04:1BD2: 2B           	pld
  7165 04:1BD3: 3B           	tsc
  7166 04:1BD4: 18           	clc
  7167 04:1BD5: 69 04 00     	adc	#L322
  7168 04:1BD8: 1B           	tcs
  7169 04:1BD9: 98           	tya
  7170 04:1BDA: 6B           	rtl
  7171                        ;}
  7172                        	.line	1056
  7173                        	.endblock	1056
  7174             00000004   L322	equ	4
  7175             00000001   L323	equ	1
  7176 04:1BDB:              	ends
  7177                        	efunc
  7178                        	.endfunc	1056,1,4
  7179                        	.line	1056
  7180                        ;
  7181                        ;HMENU k_user_AddMenuItem(HMENU hMenu,LPCSTR menuC
                    aption,UINT menuId)
  7182                        ;{
  7183                        	.line	1058
  7184                        	.line	1059
  7185                        	WINMAN
  7186                        	xdef	~~k_user_AddMenuItem
  7187                        	func
  7188                        	.function	1059
  7189                        ~~k_user_AddMenuItem:
  7190                        	longa	on
  7191                        	longi	on
  7192 04:1BDB: 3B           	tsc
  7193 04:1BDC: 38           	sec
  7194 04:1BDD: E9 0C 00     	sbc	#L326
  7195 04:1BE0: 1B           	tcs
  Thu Dec  3 2020 22:25                                                Page 138


  7196 04:1BE1: 0B           	phd
  7197 04:1BE2: 5B           	tcd
  7198             00000004   hMenu_0	set	4
  7199             00000008   menuCaption_0	set	8
  7200             0000000C   menuId_0	set	12
  7201                        	.block	1059
  7202                        ;	PMENU pMenu = NULL;
  7203                        ;	PMENU pRoot = (PMENU)hMenu;
  7204                        ;
  7205                        ;	//k_debug_strings("k_user_AddMenuItem:","Enter")
                    ;
  7206                        ;
  7207                        ;	if(pRoot)
  7208             00000000   pMenu_1	set	0
  7209             00000004   pRoot_1	set	4
  7210                        	.sym	pMenu,0,138,1,32,31
  7211                        	.sym	pRoot,4,138,1,32,31
  7212                        	.sym	hMenu,4,129,6,32
  7213                        	.sym	menuCaption,8,142,6,32
  7214                        	.sym	menuId,12,16,6,16
  7215 04:1BE3: 64 05        	stz	<L327+pMenu_1
  7216 04:1BE5: 64 07        	stz	<L327+pMenu_1+2
  7217 04:1BE7: A5 10        	lda	<L326+hMenu_0
  7218 04:1BE9: 85 09        	sta	<L327+pRoot_1
  7219 04:1BEB: A5 12        	lda	<L326+hMenu_0+2
  7220 04:1BED: 85 0B        	sta	<L327+pRoot_1+2
  7221                        	.line	1065
  7222                        ;	{
  7223 04:1BEF: A5 09        	lda	<L327+pRoot_1
  7224 04:1BF1: 05 0B        	ora	<L327+pRoot_1+2
  7225 04:1BF3: D0 03        	bne	L329
  7226 04:1BF5: 82 BA 00     	brl	L10061
  7227                        L329:
  7228                        	.line	1066
  7229                        ;
  7230                        ;		pMenu = k_mem_allocate_heap(sizeof(MENU)
                    );
  7231                        	.line	1068
  7232 04:1BF8: F4 1F 00     	pea	#<$1f
  7233 04:1BFB: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7234 04:1BFF: 85 05        	sta	<L327+pMenu_1
  7235 04:1C01: 86 07        	stx	<L327+pMenu_1+2
  7236                        ;		memset(pMenu,0,sizeof(MENU));
  7237                        	.line	1069
  7238 04:1C03: F4 1F 00     	pea	#<$1f
  7239 04:1C06: F4 00 00     	pea	#<$0
  7240 04:1C09: D4 07        	pei	<L327+pMenu_1+2
  7241 04:1C0B: D4 05        	pei	<L327+pMenu_1
  7242 04:1C0D: 22 xx xx xx  	jsl	~~memset
  7243                        ;		pMenu->itemId = menuId;
  7244                        	.line	1070
  7245 04:1C11: A5 18        	lda	<L326+menuId_0
  7246 04:1C13: A0 0D 00     	ldy	#$d
  7247 04:1C16: 97 05        	sta	[<L327+pMenu_1],Y
  7248                        ;		pMenu->pCaption = k_string_copy_string(m
                    enuCaption);
  7249                        	.line	1071
  7250 04:1C18: D4 16        	pei	<L326+menuCaption_0+2
  Thu Dec  3 2020 22:25                                                Page 139


  7251 04:1C1A: D4 14        	pei	<L326+menuCaption_0
  7252 04:1C1C: 22 xx xx xx  	jsl	~~k_string_copy_string
  7253 04:1C20: 85 01        	sta	<R0
  7254 04:1C22: 86 03        	stx	<R0+2
  7255 04:1C24: A5 01        	lda	<R0
  7256 04:1C26: A0 0F 00     	ldy	#$f
  7257 04:1C29: 97 05        	sta	[<L327+pMenu_1],Y
  7258 04:1C2B: A5 03        	lda	<R0+2
  7259 04:1C2D: A0 11 00     	ldy	#$11
  7260 04:1C30: 97 05        	sta	[<L327+pMenu_1],Y
  7261                        ;		pMenu->cx 	  = 0;
  7262                        	.line	1072
  7263 04:1C32: A9 00 00     	lda	#$0
  7264 04:1C35: 87 05        	sta	[<L327+pMenu_1]
  7265                        ;		pMenu->cy	  = 0;
  7266                        	.line	1073
  7267 04:1C37: A9 00 00     	lda	#$0
  7268 04:1C3A: A0 02 00     	ldy	#$2
  7269 04:1C3D: 97 05        	sta	[<L327+pMenu_1],Y
  7270                        ;		pMenu->width  = 0;
  7271                        	.line	1074
  7272 04:1C3F: A9 00 00     	lda	#$0
  7273 04:1C42: A0 04 00     	ldy	#$4
  7274 04:1C45: 97 05        	sta	[<L327+pMenu_1],Y
  7275                        ;		pMenu->height = 0;
  7276                        	.line	1075
  7277 04:1C47: A9 00 00     	lda	#$0
  7278 04:1C4A: A0 06 00     	ldy	#$6
  7279 04:1C4D: 97 05        	sta	[<L327+pMenu_1],Y
  7280                        ;
  7281                        ;		if(!pRoot->subMenus)
  7282                        	.line	1077
  7283                        ;		{
  7284 04:1C4F: A0 13 00     	ldy	#$13
  7285 04:1C52: B7 09        	lda	[<L327+pRoot_1],Y
  7286 04:1C54: A0 15 00     	ldy	#$15
  7287 04:1C57: 17 09        	ora	[<L327+pRoot_1],Y
  7288 04:1C59: F0 03        	beq	L330
  7289 04:1C5B: 82 22 00     	brl	L10062
  7290                        L330:
  7291                        	.line	1078
  7292                        ;			pRoot->subMenus = k_nodelist_all
                    ocate_list("_menu_sub_item_list" ,k_deallocate_menu_resource
                    );
  7293                        	.line	1079
  7294 04:1C5E: F4 04 00     	pea	#^~~k_deallocate_menu_resource
  7295 04:1C61: F4 44 01     	pea	#<~~k_deallocate_menu_resource
  7296 04:1C64: F4 xx xx     	pea	#^L291
  7297 04:1C67: F4 xx xx     	pea	#<L291
  7298 04:1C6A: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  7299 04:1C6E: 85 01        	sta	<R0
  7300 04:1C70: 86 03        	stx	<R0+2
  7301 04:1C72: A5 01        	lda	<R0
  7302 04:1C74: A0 13 00     	ldy	#$13
  7303 04:1C77: 97 09        	sta	[<L327+pRoot_1],Y
  7304 04:1C79: A5 03        	lda	<R0+2
  7305 04:1C7B: A0 15 00     	ldy	#$15
  7306 04:1C7E: 97 09        	sta	[<L327+pRoot_1],Y
  Thu Dec  3 2020 22:25                                                Page 140


  7307                        ;		}
  7308                        	.line	1080
  7309                        ;
  7310                        ;		if(pRoot->subMenus)
  7311                        L10062:
  7312                        	.line	1082
  7313                        ;		{
  7314 04:1C80: A0 13 00     	ldy	#$13
  7315 04:1C83: B7 09        	lda	[<L327+pRoot_1],Y
  7316 04:1C85: A0 15 00     	ldy	#$15
  7317 04:1C88: 17 09        	ora	[<L327+pRoot_1],Y
  7318 04:1C8A: D0 03        	bne	L331
  7319 04:1C8C: 82 23 00     	brl	L10063
  7320                        L331:
  7321                        	.line	1083
  7322                        ;			k_nodelist_addtolist(pRoot->subM
                    enus,NL_TYPE_WINDOW_MENU,pMenu->pCaption,pMenu);
  7323                        	.line	1084
  7324 04:1C8F: D4 07        	pei	<L327+pMenu_1+2
  7325 04:1C91: D4 05        	pei	<L327+pMenu_1
  7326 04:1C93: A0 11 00     	ldy	#$11
  7327 04:1C96: B7 05        	lda	[<L327+pMenu_1],Y
  7328 04:1C98: 48           	pha
  7329 04:1C99: A0 0F 00     	ldy	#$f
  7330 04:1C9C: B7 05        	lda	[<L327+pMenu_1],Y
  7331 04:1C9E: 48           	pha
  7332 04:1C9F: F4 03 00     	pea	#<$3
  7333 04:1CA2: A0 15 00     	ldy	#$15
  7334 04:1CA5: B7 09        	lda	[<L327+pRoot_1],Y
  7335 04:1CA7: 48           	pha
  7336 04:1CA8: A0 13 00     	ldy	#$13
  7337 04:1CAB: B7 09        	lda	[<L327+pRoot_1],Y
  7338 04:1CAD: 48           	pha
  7339 04:1CAE: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  7340                        ;		}
  7341                        	.line	1085
  7342                        ;
  7343                        ;	}
  7344                        L10063:
  7345                        	.line	1087
  7346                        ;
  7347                        ;	//k_debug_strings("k_user_AddMenuItem:","Exit");
  7348                        ;
  7349                        ;	return pMenu;
  7350                        L10061:
  7351                        	.line	1091
  7352 04:1CB2: A6 07        	ldx	<L327+pMenu_1+2
  7353 04:1CB4: A5 05        	lda	<L327+pMenu_1
  7354                        L332:
  7355 04:1CB6: A8           	tay
  7356 04:1CB7: A5 0E        	lda	<L326+2
  7357 04:1CB9: 85 18        	sta	<L326+2+10
  7358 04:1CBB: A5 0D        	lda	<L326+1
  7359 04:1CBD: 85 17        	sta	<L326+1+10
  7360 04:1CBF: 2B           	pld
  7361 04:1CC0: 3B           	tsc
  7362 04:1CC1: 18           	clc
  7363 04:1CC2: 69 16 00     	adc	#L326+10
  Thu Dec  3 2020 22:25                                                Page 141


  7364 04:1CC5: 1B           	tcs
  7365 04:1CC6: 98           	tya
  7366 04:1CC7: 6B           	rtl
  7367                        ;}
  7368                        	.line	1092
  7369                        	.endblock	1092
  7370             0000000C   L326	equ	12
  7371             00000005   L327	equ	5
  7372 04:1CC8:              	ends
  7373                        	efunc
  7374                        	.endfunc	1092,5,12
  7375                        	.line	1092
  7376                        	data
  7377                        L291:
  7378 00:0470: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$5F,$73,$75,$62,$5F,
                    $69,$74,$65,$6D,$5F
       00:0474: 75 5F 73 75 
       00:0478: 62 5F 69 74 
       00:047C: 65 6D 5F 
  7379 00:047F: 6C 69 73 74  	db	$6C,$69,$73,$74,$00
       00:0483: 00 
  7380 00:0484:              	ends
  7381                        ;
  7382                        ;PWINDOW	k_user_CreateMenu(HWND      hWndParent,
  7383                        ;						  HMENU 
                        hMenu,
  7384                        ;						  HINSTA
                    NCE hInstance)
  7385                        ;{
  7386                        	.line	1094
  7387                        	.line	1097
  7388                        	WINMAN
  7389                        	xdef	~~k_user_CreateMenu
  7390                        	func
  7391                        	.function	1097
  7392                        ~~k_user_CreateMenu:
  7393                        	longa	on
  7394                        	longi	on
  7395 04:1CC8: 3B           	tsc
  7396 04:1CC9: 38           	sec
  7397 04:1CCA: E9 38 00     	sbc	#L334
  7398 04:1CCD: 1B           	tcs
  7399 04:1CCE: 0B           	phd
  7400 04:1CCF: 5B           	tcd
  7401             00000004   hWndParent_0	set	4
  7402             00000008   hMenu_0	set	8
  7403             0000000C   hInstance_0	set	12
  7404                        	.block	1097
  7405                        ;
  7406                        ;	PFXNODE   found = NULL;
  7407                        ;	PFXNODE   new = NULL;
  7408                        ;	PWINDOW   pWin = NULL;
  7409                        ;	PWNDCLASS wndClass = NULL;
  7410                        ;	PWINDOW   pParent = NULL;
  7411                        ;	CHAR localBuffer[32];
  7412                        ;
  7413                        ;	//k_debug_pointer("k_user_CreateMenu:Parent hWnd
                    :",hWndParent);
  Thu Dec  3 2020 22:25                                                Page 142


  7414                        ;	//k_debug_pointer("k_user_CreateMenu:DesktopWind
                    ow:",k_user_getDesktopWindow());
  7415                        ;
  7416                        ;
  7417                        ;
  7418                        ;
  7419                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _WindowClassList,"menuWindowClass");
  7420             00000000   found_1	set	0
  7421             00000004   new_1	set	4
  7422             00000008   pWin_1	set	8
  7423             0000000C   wndClass_1	set	12
  7424             00000010   pParent_1	set	16
  7425             00000014   localBuffer_1	set	20
  7426                        	.sym	found,0,138,1,32,2
  7427                        	.sym	new,4,138,1,32,2
  7428                        	.sym	pWin,8,138,1,32,27
  7429                        	.sym	wndClass,12,138,1,32,23
  7430                        	.sym	pParent,16,138,1,32,27
  7431                        	.sym	localBuffer,20,110,1,0,32
  7432                        	.sym	hWndParent,4,129,6,32
  7433                        	.sym	hMenu,8,129,6,32
  7434                        	.sym	hInstance,12,129,6,32
  7435 04:1CD0: 64 05        	stz	<L335+found_1
  7436 04:1CD2: 64 07        	stz	<L335+found_1+2
  7437 04:1CD4: 64 09        	stz	<L335+new_1
  7438 04:1CD6: 64 0B        	stz	<L335+new_1+2
  7439 04:1CD8: 64 0D        	stz	<L335+pWin_1
  7440 04:1CDA: 64 0F        	stz	<L335+pWin_1+2
  7441 04:1CDC: 64 11        	stz	<L335+wndClass_1
  7442 04:1CDE: 64 13        	stz	<L335+wndClass_1+2
  7443 04:1CE0: 64 15        	stz	<L335+pParent_1
  7444 04:1CE2: 64 17        	stz	<L335+pParent_1+2
  7445                        	.line	1112
  7446 04:1CE4: F4 xx xx     	pea	#^L333
  7447 04:1CE7: F4 xx xx     	pea	#<L333
  7448 04:1CEA: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  7449 04:1CED: 48           	pha
  7450 04:1CEE: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  7451 04:1CF1: 48           	pha
  7452 04:1CF2: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  7453 04:1CF6: 85 05        	sta	<L335+found_1
  7454 04:1CF8: 86 07        	stx	<L335+found_1+2
  7455                        ;	if(found && found->data)
  7456                        	.line	1113
  7457                        ;	{
  7458 04:1CFA: A5 05        	lda	<L335+found_1
  7459 04:1CFC: 05 07        	ora	<L335+found_1+2
  7460 04:1CFE: D0 03        	bne	L337
  7461 04:1D00: 82 5C 02     	brl	L10064
  7462                        L337:
  7463 04:1D03: A0 02 00     	ldy	#$2
  7464 04:1D06: B7 05        	lda	[<L335+found_1],Y
  7465 04:1D08: A0 04 00     	ldy	#$4
  7466 04:1D0B: 17 05        	ora	[<L335+found_1],Y
  7467 04:1D0D: D0 03        	bne	L338
  7468 04:1D0F: 82 4D 02     	brl	L10064
  7469                        L338:
  Thu Dec  3 2020 22:25                                                Page 143


  7470                        	.line	1114
  7471                        ;		wndClass = (PWNDCLASS)found->data;
  7472                        	.line	1115
  7473 04:1D12: A0 02 00     	ldy	#$2
  7474 04:1D15: B7 05        	lda	[<L335+found_1],Y
  7475 04:1D17: 85 11        	sta	<L335+wndClass_1
  7476 04:1D19: A0 04 00     	ldy	#$4
  7477 04:1D1C: B7 05        	lda	[<L335+found_1],Y
  7478 04:1D1E: 85 13        	sta	<L335+wndClass_1+2
  7479                        ;
  7480                        ;		//k_debug_strings("k_user_CreateMenu:Fou
                    nd WndClass:",(LPVOID)wndClass->lpszClassName);
  7481                        ;
  7482                        ;		pWin = k_mem_allocate_heap(sizeof(WINDOW
                    ));
  7483                        	.line	1119
  7484 04:1D20: F4 5F 01     	pea	#<$15f
  7485 04:1D23: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7486 04:1D27: 85 0D        	sta	<L335+pWin_1
  7487 04:1D29: 86 0F        	stx	<L335+pWin_1+2
  7488                        ;		if(pWin)
  7489                        	.line	1120
  7490                        ;		{
  7491 04:1D2B: A5 0D        	lda	<L335+pWin_1
  7492 04:1D2D: 05 0F        	ora	<L335+pWin_1+2
  7493 04:1D2F: D0 03        	bne	L339
  7494 04:1D31: 82 2B 02     	brl	L10065
  7495                        L339:
  7496                        	.line	1121
  7497                        ;			pParent = k_getWindowFromHandle(
                    hWndParent);
  7498                        	.line	1122
  7499 04:1D34: D4 3E        	pei	<L334+hWndParent_0+2
  7500 04:1D36: D4 3C        	pei	<L334+hWndParent_0
  7501 04:1D38: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  7502 04:1D3C: 85 15        	sta	<L335+pParent_1
  7503 04:1D3E: 86 17        	stx	<L335+pParent_1+2
  7504                        ;
  7505                        ;			memset(pWin,0,sizeof(WINDOW));
  7506                        	.line	1124
  7507 04:1D40: F4 5F 01     	pea	#<$15f
  7508 04:1D43: F4 00 00     	pea	#<$0
  7509 04:1D46: D4 0F        	pei	<L335+pWin_1+2
  7510 04:1D48: D4 0D        	pei	<L335+pWin_1
  7511 04:1D4A: 22 xx xx xx  	jsl	~~memset
  7512                        ;			pWin->cbSize = sizeof(WINDOW);
  7513                        	.line	1125
  7514 04:1D4E: A9 5F 01     	lda	#$15f
  7515 04:1D51: 87 0D        	sta	[<L335+pWin_1]
  7516                        ;
  7517                        ;			if(k_exec_get_current_process())
  7518                        	.line	1127
  7519                        ;			{
  7520 04:1D53: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  7521 04:1D57: 85 01        	sta	<R0
  7522 04:1D59: 86 03        	stx	<R0+2
  7523 04:1D5B: A5 01        	lda	<R0
  7524 04:1D5D: 05 03        	ora	<R0+2
  Thu Dec  3 2020 22:25                                                Page 144


  7525 04:1D5F: D0 03        	bne	L340
  7526 04:1D61: 82 1F 00     	brl	L10066
  7527                        L340:
  7528                        	.line	1128
  7529                        ;				pWin->procid = k_exec_ge
                    t_current_process()->procId;
  7530                        	.line	1129
  7531 04:1D64: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  7532 04:1D68: 85 01        	sta	<R0
  7533 04:1D6A: 86 03        	stx	<R0+2
  7534 04:1D6C: A0 02 00     	ldy	#$2
  7535 04:1D6F: B7 01        	lda	[<R0],Y
  7536 04:1D71: A0 28 01     	ldy	#$128
  7537 04:1D74: 97 0D        	sta	[<L335+pWin_1],Y
  7538 04:1D76: A0 04 00     	ldy	#$4
  7539 04:1D79: B7 01        	lda	[<R0],Y
  7540 04:1D7B: A0 2A 01     	ldy	#$12a
  7541 04:1D7E: 97 0D        	sta	[<L335+pWin_1],Y
  7542                        ;			}
  7543                        	.line	1130
  7544                        ;			else
  7545 04:1D80: 82 29 00     	brl	L10067
  7546                        L10066:
  7547                        ;			{
  7548                        	.line	1132
  7549                        ;				if(hWndParent)
  7550                        	.line	1133
  7551                        ;					pWin->procid = k
                    _getWindowFromHandle(hWndParent)->procid;
  7552 04:1D83: A5 3C        	lda	<L334+hWndParent_0
  7553 04:1D85: 05 3E        	ora	<L334+hWndParent_0+2
  7554 04:1D87: D0 03        	bne	L341
  7555 04:1D89: 82 20 00     	brl	L10068
  7556                        L341:
  7557                        	.line	1134
  7558 04:1D8C: D4 3E        	pei	<L334+hWndParent_0+2
  7559 04:1D8E: D4 3C        	pei	<L334+hWndParent_0
  7560 04:1D90: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  7561 04:1D94: 85 01        	sta	<R0
  7562 04:1D96: 86 03        	stx	<R0+2
  7563 04:1D98: A0 28 01     	ldy	#$128
  7564 04:1D9B: B7 01        	lda	[<R0],Y
  7565 04:1D9D: A0 28 01     	ldy	#$128
  7566 04:1DA0: 97 0D        	sta	[<L335+pWin_1],Y
  7567 04:1DA2: A0 2A 01     	ldy	#$12a
  7568 04:1DA5: B7 01        	lda	[<R0],Y
  7569 04:1DA7: A0 2A 01     	ldy	#$12a
  7570 04:1DAA: 97 0D        	sta	[<L335+pWin_1],Y
  7571                        ;			}
  7572                        L10068:
  7573                        	.line	1135
  7574                        L10067:
  7575                        ;
  7576                        ;			k_debug_string("k_user_CreateMen
                    u\r\n");
  7577                        	.line	1137
  7578 04:1DAC: F4 xx xx     	pea	#^L333+16
  7579 04:1DAF: F4 xx xx     	pea	#<L333+16
  Thu Dec  3 2020 22:25                                                Page 145


  7580 04:1DB2: 22 xx xx xx  	jsl	~~k_debug_string
  7581                        ;			k_debug_long("Process Id:",(ULON
                    G)pWin->procid);
  7582                        	.line	1138
  7583 04:1DB6: A0 2A 01     	ldy	#$12a
  7584 04:1DB9: B7 0D        	lda	[<L335+pWin_1],Y
  7585 04:1DBB: 48           	pha
  7586 04:1DBC: A0 28 01     	ldy	#$128
  7587 04:1DBF: B7 0D        	lda	[<L335+pWin_1],Y
  7588 04:1DC1: 48           	pha
  7589 04:1DC2: F4 xx xx     	pea	#^L333+36
  7590 04:1DC5: F4 xx xx     	pea	#<L333+36
  7591 04:1DC8: 22 xx xx xx  	jsl	~~k_debug_long
  7592                        ;
  7593                        ;			pWin->pParentWindow = hWndParent
                    ;
  7594                        	.line	1140
  7595 04:1DCC: A5 3C        	lda	<L334+hWndParent_0
  7596 04:1DCE: A0 30 01     	ldy	#$130
  7597 04:1DD1: 97 0D        	sta	[<L335+pWin_1],Y
  7598 04:1DD3: A5 3E        	lda	<L334+hWndParent_0+2
  7599 04:1DD5: A0 32 01     	ldy	#$132
  7600 04:1DD8: 97 0D        	sta	[<L335+pWin_1],Y
  7601                        ;			pWin->pWndClass 	= wndCla
                    ss;
  7602                        	.line	1141
  7603 04:1DDA: A5 11        	lda	<L335+wndClass_1
  7604 04:1DDC: A0 2C 01     	ldy	#$12c
  7605 04:1DDF: 97 0D        	sta	[<L335+pWin_1],Y
  7606 04:1DE1: A5 13        	lda	<L335+wndClass_1+2
  7607 04:1DE3: A0 2E 01     	ldy	#$12e
  7608 04:1DE6: 97 0D        	sta	[<L335+pWin_1],Y
  7609                        ;			//strcpy(pWin->win_title,(LPCSTR
                    )k_longtodec((ULONG)pWin,localBuffer));
  7610                        ;			strcpy(pWin->win_title,"#menubar
                    ");
  7611                        	.line	1143
  7612 04:1DE8: F4 xx xx     	pea	#^L333+48
  7613 04:1DEB: F4 xx xx     	pea	#<L333+48
  7614 04:1DEE: 18           	clc
  7615 04:1DEF: A9 D4 00     	lda	#$d4
  7616 04:1DF2: 65 0D        	adc	<L335+pWin_1
  7617 04:1DF4: 85 01        	sta	<R0
  7618 04:1DF6: A9 00 00     	lda	#$0
  7619 04:1DF9: 65 0F        	adc	<L335+pWin_1+2
  7620 04:1DFB: 85 03        	sta	<R0+2
  7621 04:1DFD: D4 03        	pei	<R0+2
  7622 04:1DFF: D4 01        	pei	<R0
  7623 04:1E01: 22 xx xx xx  	jsl	~~strcpy
  7624                        ;			pWin->win_x		 = 0;
  7625                        	.line	1144
  7626 04:1E05: A9 00 00     	lda	#$0
  7627 04:1E08: A0 08 00     	ldy	#$8
  7628 04:1E0B: 97 0D        	sta	[<L335+pWin_1],Y
  7629                        ;			pWin->win_y 	 = 0;
  7630                        	.line	1145
  7631 04:1E0D: A9 00 00     	lda	#$0
  7632 04:1E10: A0 0A 00     	ldy	#$a
  Thu Dec  3 2020 22:25                                                Page 146


  7633 04:1E13: 97 0D        	sta	[<L335+pWin_1],Y
  7634                        ;			pWin->win_width  = k_user_getSys
                    temMetric(SM_CXMENUSIZE);
  7635                        	.line	1146
  7636 04:1E15: F4 36 00     	pea	#<$36
  7637 04:1E18: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  7638 04:1E1C: A0 0C 00     	ldy	#$c
  7639 04:1E1F: 97 0D        	sta	[<L335+pWin_1],Y
  7640                        ;			pWin->win_height = k_user_getSys
                    temMetric(SM_CYMENUSIZE);
  7641                        	.line	1147
  7642 04:1E21: F4 37 00     	pea	#<$37
  7643 04:1E24: 22 F8 47 04  	jsl	~~k_user_getSystemMetric
  7644 04:1E28: A0 0E 00     	ldy	#$e
  7645 04:1E2B: 97 0D        	sta	[<L335+pWin_1],Y
  7646                        ;			pWin->hMenu 	 = hMenu;
  7647                        	.line	1148
  7648 04:1E2D: A5 40        	lda	<L334+hMenu_0
  7649 04:1E2F: A0 34 01     	ldy	#$134
  7650 04:1E32: 97 0D        	sta	[<L335+pWin_1],Y
  7651 04:1E34: A5 42        	lda	<L334+hMenu_0+2
  7652 04:1E36: A0 36 01     	ldy	#$136
  7653 04:1E39: 97 0D        	sta	[<L335+pWin_1],Y
  7654                        ;			pWin->clickable  = k_mem_allocat
                    e_heap(sizeof(CLICKABLE));
  7655                        	.line	1149
  7656 04:1E3B: F4 0B 00     	pea	#<$b
  7657 04:1E3E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7658 04:1E42: 85 01        	sta	<R0
  7659 04:1E44: 86 03        	stx	<R0+2
  7660 04:1E46: A5 01        	lda	<R0
  7661 04:1E48: A0 D0 00     	ldy	#$d0
  7662 04:1E4B: 97 0D        	sta	[<L335+pWin_1],Y
  7663 04:1E4D: A5 03        	lda	<R0+2
  7664 04:1E4F: A0 D2 00     	ldy	#$d2
  7665 04:1E52: 97 0D        	sta	[<L335+pWin_1],Y
  7666                        ;			if(pWin->clickable)
  7667                        	.line	1150
  7668                        ;			{
  7669 04:1E54: A0 D0 00     	ldy	#$d0
  7670 04:1E57: B7 0D        	lda	[<L335+pWin_1],Y
  7671 04:1E59: A0 D2 00     	ldy	#$d2
  7672 04:1E5C: 17 0D        	ora	[<L335+pWin_1],Y
  7673 04:1E5E: D0 03        	bne	L342
  7674 04:1E60: 82 5D 00     	brl	L10069
  7675                        L342:
  7676                        	.line	1151
  7677                        ;				((PCLICKABLE)pWin->click
                    able)->area.x 		= pWin->win_x;
  7678                        	.line	1152
  7679 04:1E63: A0 D0 00     	ldy	#$d0
  7680 04:1E66: B7 0D        	lda	[<L335+pWin_1],Y
  7681 04:1E68: 85 01        	sta	<R0
  7682 04:1E6A: A0 D2 00     	ldy	#$d2
  7683 04:1E6D: B7 0D        	lda	[<L335+pWin_1],Y
  7684 04:1E6F: 85 03        	sta	<R0+2
  7685 04:1E71: A0 08 00     	ldy	#$8
  7686 04:1E74: B7 0D        	lda	[<L335+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 147


  7687 04:1E76: 87 01        	sta	[<R0]
  7688                        ;				((PCLICKABLE)pWin->click
                    able)->area.y 		= pWin->win_y;
  7689                        	.line	1153
  7690 04:1E78: A0 D0 00     	ldy	#$d0
  7691 04:1E7B: B7 0D        	lda	[<L335+pWin_1],Y
  7692 04:1E7D: 85 01        	sta	<R0
  7693 04:1E7F: A0 D2 00     	ldy	#$d2
  7694 04:1E82: B7 0D        	lda	[<L335+pWin_1],Y
  7695 04:1E84: 85 03        	sta	<R0+2
  7696 04:1E86: A0 0A 00     	ldy	#$a
  7697 04:1E89: B7 0D        	lda	[<L335+pWin_1],Y
  7698 04:1E8B: A0 02 00     	ldy	#$2
  7699 04:1E8E: 97 01        	sta	[<R0],Y
  7700                        ;				((PCLICKABLE)pWin->click
                    able)->area.height 	= pWin->win_height;
  7701                        	.line	1154
  7702 04:1E90: A0 D0 00     	ldy	#$d0
  7703 04:1E93: B7 0D        	lda	[<L335+pWin_1],Y
  7704 04:1E95: 85 01        	sta	<R0
  7705 04:1E97: A0 D2 00     	ldy	#$d2
  7706 04:1E9A: B7 0D        	lda	[<L335+pWin_1],Y
  7707 04:1E9C: 85 03        	sta	<R0+2
  7708 04:1E9E: A0 0E 00     	ldy	#$e
  7709 04:1EA1: B7 0D        	lda	[<L335+pWin_1],Y
  7710 04:1EA3: A0 06 00     	ldy	#$6
  7711 04:1EA6: 97 01        	sta	[<R0],Y
  7712                        ;				((PCLICKABLE)pWin->click
                    able)->area.width 	= pWin->win_width;
  7713                        	.line	1155
  7714 04:1EA8: A0 D0 00     	ldy	#$d0
  7715 04:1EAB: B7 0D        	lda	[<L335+pWin_1],Y
  7716 04:1EAD: 85 01        	sta	<R0
  7717 04:1EAF: A0 D2 00     	ldy	#$d2
  7718 04:1EB2: B7 0D        	lda	[<L335+pWin_1],Y
  7719 04:1EB4: 85 03        	sta	<R0+2
  7720 04:1EB6: A0 0C 00     	ldy	#$c
  7721 04:1EB9: B7 0D        	lda	[<L335+pWin_1],Y
  7722 04:1EBB: A0 04 00     	ldy	#$4
  7723 04:1EBE: 97 01        	sta	[<R0],Y
  7724                        ;			}
  7725                        	.line	1156
  7726                        ;
  7727                        ;			k_debug_strings("k_user_CreateMe
                    nu:F","After clickable");
  7728                        L10069:
  7729                        	.line	1158
  7730 04:1EC0: F4 xx xx     	pea	#^L333+77
  7731 04:1EC3: F4 xx xx     	pea	#<L333+77
  7732 04:1EC6: F4 xx xx     	pea	#^L333+57
  7733 04:1EC9: F4 xx xx     	pea	#<L333+57
  7734 04:1ECC: 22 xx xx xx  	jsl	~~k_debug_strings
  7735                        ;
  7736                        ;			((PMENU)hMenu)->cx 		
                    = pWin->win_x;
  7737                        	.line	1160
  7738 04:1ED0: A0 08 00     	ldy	#$8
  7739 04:1ED3: B7 0D        	lda	[<L335+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 148


  7740 04:1ED5: 87 40        	sta	[<L334+hMenu_0]
  7741                        ;			((PMENU)hMenu)->cy 		
                    = pWin->win_y;
  7742                        	.line	1161
  7743 04:1ED7: A0 0A 00     	ldy	#$a
  7744 04:1EDA: B7 0D        	lda	[<L335+pWin_1],Y
  7745 04:1EDC: A0 02 00     	ldy	#$2
  7746 04:1EDF: 97 40        	sta	[<L334+hMenu_0],Y
  7747                        ;			((PMENU)hMenu)->height 	= pWin->
                    win_height;
  7748                        	.line	1162
  7749 04:1EE1: A0 0E 00     	ldy	#$e
  7750 04:1EE4: B7 0D        	lda	[<L335+pWin_1],Y
  7751 04:1EE6: A0 06 00     	ldy	#$6
  7752 04:1EE9: 97 40        	sta	[<L334+hMenu_0],Y
  7753                        ;			((PMENU)hMenu)->width 	= pWin->
                    win_width;
  7754                        	.line	1163
  7755 04:1EEB: A0 0C 00     	ldy	#$c
  7756 04:1EEE: B7 0D        	lda	[<L335+pWin_1],Y
  7757 04:1EF0: A0 04 00     	ldy	#$4
  7758 04:1EF3: 97 40        	sta	[<L334+hMenu_0],Y
  7759                        ;
  7760                        ;
  7761                        ;			if(pParent)
  7762                        	.line	1166
  7763                        ;				pWin->isVisible = pParen
                    t->isVisible;
  7764 04:1EF5: A5 15        	lda	<L335+pParent_1
  7765 04:1EF7: 05 17        	ora	<L335+pParent_1+2
  7766 04:1EF9: D0 03        	bne	L343
  7767 04:1EFB: 82 0E 00     	brl	L10070
  7768                        L343:
  7769                        	.line	1167
  7770 04:1EFE: E2 20        	sep	#$20
  7771                        	longa	off
  7772 04:1F00: A0 40 01     	ldy	#$140
  7773 04:1F03: B7 15        	lda	[<L335+pParent_1],Y
  7774 04:1F05: A0 40 01     	ldy	#$140
  7775 04:1F08: 97 0D        	sta	[<L335+pWin_1],Y
  7776 04:1F0A: C2 20        	rep	#$20
  7777                        	longa	on
  7778                        ;
  7779                        ;
  7780                        ;			k_add_child_window(pParent,pWin,
                    k_update_hover_location);//k_menuHitDetected);
  7781                        L10070:
  7782                        	.line	1170
  7783 04:1F0C: F4 04 00     	pea	#^~~k_update_hover_location
  7784 04:1F0F: F4 A1 38     	pea	#<~~k_update_hover_location
  7785 04:1F12: D4 0F        	pei	<L335+pWin_1+2
  7786 04:1F14: D4 0D        	pei	<L335+pWin_1
  7787 04:1F16: D4 17        	pei	<L335+pParent_1+2
  7788 04:1F18: D4 15        	pei	<L335+pParent_1
  7789 04:1F1A: 22 A5 37 04  	jsl	~~k_add_child_window
  7790                        ;
  7791                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_add_child_window");
  Thu Dec  3 2020 22:25                                                Page 149


  7792                        ;
  7793                        ;			k_nodelist_naddtolist(_k_windowM
                    anager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(ULONG)k_getHandl
                    eFromWindow(pWin),pWin);
  7794                        	.line	1174
  7795 04:1F1E: D4 0F        	pei	<L335+pWin_1+2
  7796 04:1F20: D4 0D        	pei	<L335+pWin_1
  7797 04:1F22: D4 0F        	pei	<L335+pWin_1+2
  7798 04:1F24: D4 0D        	pei	<L335+pWin_1
  7799 04:1F26: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  7800 04:1F2A: 85 01        	sta	<R0
  7801 04:1F2C: 86 03        	stx	<R0+2
  7802 04:1F2E: D4 03        	pei	<R0+2
  7803 04:1F30: D4 01        	pei	<R0
  7804 04:1F32: F4 02 00     	pea	#<$2
  7805 04:1F35: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  7806 04:1F38: 48           	pha
  7807 04:1F39: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  7808 04:1F3C: 48           	pha
  7809 04:1F3D: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  7810                        ;
  7811                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_nodelist_addtolist");
  7812                        ;
  7813                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pWin),FX_CREATE_WINDOW,NULL,0);
  7814                        	.line	1178
  7815 04:1F41: F4 00 00     	pea	#<$0
  7816 04:1F44: F4 00 00     	pea	#^$0
  7817 04:1F47: F4 00 00     	pea	#<$0
  7818 04:1F4A: F4 03 FF     	pea	#<$ff03
  7819 04:1F4D: D4 0F        	pei	<L335+pWin_1+2
  7820 04:1F4F: D4 0D        	pei	<L335+pWin_1
  7821 04:1F51: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  7822 04:1F55: 85 01        	sta	<R0
  7823 04:1F57: 86 03        	stx	<R0+2
  7824 04:1F59: DA           	phx
  7825 04:1F5A: 48           	pha
  7826 04:1F5B: 22 xx xx xx  	jsl	~~k_send_window_message
  7827                        ;
  7828                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_send_window_message");
  7829                        ;		}
  7830                        	.line	1181
  7831                        ;	}
  7832                        L10065:
  7833                        	.line	1182
  7834                        ;	return pWin;
  7835                        L10064:
  7836                        	.line	1183
  7837 04:1F5F: A6 0F        	ldx	<L335+pWin_1+2
  7838 04:1F61: A5 0D        	lda	<L335+pWin_1
  7839                        L344:
  7840 04:1F63: A8           	tay
  7841 04:1F64: A5 3A        	lda	<L334+2
  7842 04:1F66: 85 46        	sta	<L334+2+12
  7843 04:1F68: A5 39        	lda	<L334+1
  7844 04:1F6A: 85 45        	sta	<L334+1+12
  Thu Dec  3 2020 22:25                                                Page 150


  7845 04:1F6C: 2B           	pld
  7846 04:1F6D: 3B           	tsc
  7847 04:1F6E: 18           	clc
  7848 04:1F6F: 69 44 00     	adc	#L334+12
  7849 04:1F72: 1B           	tcs
  7850 04:1F73: 98           	tya
  7851 04:1F74: 6B           	rtl
  7852                        ;}
  7853                        	.line	1184
  7854                        	.endblock	1184
  7855             00000038   L334	equ	56
  7856             00000005   L335	equ	5
  7857 04:1F75:              	ends
  7858                        	efunc
  7859                        	.endfunc	1184,5,56
  7860                        	.line	1184
  7861                        	data
  7862                        L333:
  7863 00:0484: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:0488: 57 69 6E 64 
       00:048C: 6F 77 43 6C 
       00:0490: 61 73 73 
  7864 00:0493: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$4D
       00:0497: 73 65 72 5F 
       00:049B: 43 72 65 61 
       00:049F: 74 65 4D 
  7865 00:04A2: 65 6E 75 0D  	db	$65,$6E,$75,$0D,$0A,$00,$50,$72,$6F,$63,
                    $65,$73,$73,$20,$49
       00:04A6: 0A 00 50 72 
       00:04AA: 6F 63 65 73 
       00:04AE: 73 20 49 
  7866 00:04B1: 64 3A 00 23  	db	$64,$3A,$00,$23,$6D,$65,$6E,$75,$62,$61,
                    $72,$00,$6B,$5F,$75
       00:04B5: 6D 65 6E 75 
       00:04B9: 62 61 72 00 
       00:04BD: 6B 5F 75 
  7867 00:04C0: 73 65 72 5F  	db	$73,$65,$72,$5F,$43,$72,$65,$61,$74,$65,
                    $4D,$65,$6E,$75,$3A
       00:04C4: 43 72 65 61 
       00:04C8: 74 65 4D 65 
       00:04CC: 6E 75 3A 
  7868 00:04CF: 46 00 41 66  	db	$46,$00,$41,$66,$74,$65,$72,$20,$63,$6C,
                    $69,$63,$6B,$61,$62
       00:04D3: 74 65 72 20 
       00:04D7: 63 6C 69 63 
       00:04DB: 6B 61 62 
  7869 00:04DE: 6C 65 00     	db	$6C,$65,$00
  7870 00:04E1:              	ends
  7871                        ;
  7872                        ;BOOL menuWindowProc(PFXOSMESSAGE pMsg)
  7873                        ;{
  7874                        	.line	1186
  7875                        	.line	1187
  7876                        	WINMAN
  7877                        	xdef	~~menuWindowProc
  7878                        	func
  Thu Dec  3 2020 22:25                                                Page 151


  7879                        	.function	1187
  7880                        ~~menuWindowProc:
  7881                        	longa	on
  7882                        	longi	on
  7883 04:1F75: 3B           	tsc
  7884 04:1F76: 38           	sec
  7885 04:1F77: E9 38 00     	sbc	#L346
  7886 04:1F7A: 1B           	tcs
  7887 04:1F7B: 0B           	phd
  7888 04:1F7C: 5B           	tcd
  7889             00000004   pMsg_0	set	4
  7890                        	.block	1187
  7891                        ;	HWND hWnd = NULL;
  7892                        ;	PWINDOW pWin = NULL;
  7893                        ;	PFXPROCESS p = NULL;
  7894                        ;	PFXSTRING  fxstr = NULL;
  7895                        ;	LPCHAR title = NULL;
  7896                        ;	UCHAR localBuffer[16];
  7897                        ;	PFXNODE node = NULL;
  7898                        ;	RECT rect;
  7899                        ;	if(pMsg!=NULL)
  7900             00000000   hWnd_1	set	0
  7901             00000004   pWin_1	set	4
  7902             00000008   p_1	set	8
  7903             0000000C   fxstr_1	set	12
  7904             00000010   title_1	set	16
  7905             00000014   localBuffer_1	set	20
  7906             00000024   node_1	set	36
  7907             00000028   rect_1	set	40
  7908                        	.sym	hWnd,0,129,1,32
  7909                        	.sym	pWin,4,138,1,32,27
  7910                        	.sym	p,8,138,1,32,17
  7911                        	.sym	fxstr,12,138,1,32,50
  7912                        	.sym	title,16,142,1,32
  7913                        	.sym	localBuffer,20,110,1,0,16
  7914                        	.sym	node,36,138,1,32,2
  7915                        	.sym	rect,40,10,1,64,22
  7916                        	.sym	pMsg,4,138,6,32,13
  7917 04:1F7D: 64 09        	stz	<L347+hWnd_1
  7918 04:1F7F: 64 0B        	stz	<L347+hWnd_1+2
  7919 04:1F81: 64 0D        	stz	<L347+pWin_1
  7920 04:1F83: 64 0F        	stz	<L347+pWin_1+2
  7921 04:1F85: 64 11        	stz	<L347+p_1
  7922 04:1F87: 64 13        	stz	<L347+p_1+2
  7923 04:1F89: 64 15        	stz	<L347+fxstr_1
  7924 04:1F8B: 64 17        	stz	<L347+fxstr_1+2
  7925 04:1F8D: 64 19        	stz	<L347+title_1
  7926 04:1F8F: 64 1B        	stz	<L347+title_1+2
  7927 04:1F91: 64 2D        	stz	<L347+node_1
  7928 04:1F93: 64 2F        	stz	<L347+node_1+2
  7929                        	.line	1196
  7930                        ;	{
  7931 04:1F95: A5 3C        	lda	<L346+pMsg_0
  7932 04:1F97: 05 3E        	ora	<L346+pMsg_0+2
  7933 04:1F99: D0 03        	bne	L349
  7934 04:1F9B: 82 AA 02     	brl	L10071
  7935                        L349:
  7936                        	.line	1197
  Thu Dec  3 2020 22:25                                                Page 152


  7937                        ;		p = k_exec_get_current_process();
  7938                        	.line	1198
  7939 04:1F9E: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  7940 04:1FA2: 85 11        	sta	<L347+p_1
  7941 04:1FA4: 86 13        	stx	<L347+p_1+2
  7942                        ;
  7943                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  7944                        	.line	1200
  7945 04:1FA6: A0 0C 00     	ldy	#$c
  7946 04:1FA9: B7 3C        	lda	[<L346+pMsg_0],Y
  7947 04:1FAB: 48           	pha
  7948 04:1FAC: A0 0A 00     	ldy	#$a
  7949 04:1FAF: B7 3C        	lda	[<L346+pMsg_0],Y
  7950 04:1FB1: 48           	pha
  7951 04:1FB2: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  7952 04:1FB6: 85 0D        	sta	<L347+pWin_1
  7953 04:1FB8: 86 0F        	stx	<L347+pWin_1+2
  7954                        ;
  7955                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  7956                        ;
  7957                        ;		switch(pMsg->type)
  7958                        	.line	1204
  7959 04:1FBA: A0 08 00     	ldy	#$8
  7960 04:1FBD: B7 3C        	lda	[<L346+pMsg_0],Y
  7961 04:1FBF: 82 66 02     	brl	L10072
  7962                        ;		{
  7963                        	.line	1205
  7964                        ;		case FX_CREATE_WINDOW:
  7965                        	.line	1206
  7966                        L10074:
  7967                        ;			k_debug_string("menuWindowProc::
                    FX_CREATE_WINDOW\r\n");
  7968                        	.line	1207
  7969 04:1FC2: F4 xx xx     	pea	#^L345
  7970 04:1FC5: F4 xx xx     	pea	#<L345
  7971 04:1FC8: 22 xx xx xx  	jsl	~~k_debug_string
  7972                        ;			//k_debug_long("menuWindowProc::
                    heap:",umm_free_heap_size());
  7973                        ;			//k_debug_integer("menuWindowPro
                    c::MessageId:",pMsg->type);
  7974                        ;
  7975                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(MENUANCHOR));
  7976                        	.line	1211
  7977 04:1FCC: F4 12 00     	pea	#<$12
  7978 04:1FCF: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7979 04:1FD3: 85 01        	sta	<R0
  7980 04:1FD5: 86 03        	stx	<R0+2
  7981 04:1FD7: A5 01        	lda	<R0
  7982 04:1FD9: A0 41 01     	ldy	#$141
  7983 04:1FDC: 97 0D        	sta	[<L347+pWin_1],Y
  7984 04:1FDE: A5 03        	lda	<R0+2
  7985 04:1FE0: A0 43 01     	ldy	#$143
  7986 04:1FE3: 97 0D        	sta	[<L347+pWin_1],Y
  7987                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutX = 3 * FONTW;
  Thu Dec  3 2020 22:25                                                Page 153


  7988                        	.line	1212
  7989 04:1FE5: A0 41 01     	ldy	#$141
  7990 04:1FE8: B7 0D        	lda	[<L347+pWin_1],Y
  7991 04:1FEA: 85 01        	sta	<R0
  7992 04:1FEC: A0 43 01     	ldy	#$143
  7993 04:1FEF: B7 0D        	lda	[<L347+pWin_1],Y
  7994 04:1FF1: 85 03        	sta	<R0+2
  7995 04:1FF3: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7996 04:1FF7: 85 05        	sta	<R1
  7997 04:1FF9: A5 05        	lda	<R1
  7998 04:1FFB: 0A           	asl	A
  7999 04:1FFC: 65 05        	adc	<R1
  8000 04:1FFE: A0 04 00     	ldy	#$4
  8001 04:2001: 97 01        	sta	[<R0],Y
  8002                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutY = 2;
  8003                        	.line	1213
  8004 04:2003: A0 41 01     	ldy	#$141
  8005 04:2006: B7 0D        	lda	[<L347+pWin_1],Y
  8006 04:2008: 85 01        	sta	<R0
  8007 04:200A: A0 43 01     	ldy	#$143
  8008 04:200D: B7 0D        	lda	[<L347+pWin_1],Y
  8009 04:200F: 85 03        	sta	<R0+2
  8010 04:2011: A9 02 00     	lda	#$2
  8011 04:2014: A0 06 00     	ldy	#$6
  8012 04:2017: 97 01        	sta	[<R0],Y
  8013                        ;
  8014                        ;			//k_debug_pointer("menuWindowPro
                    c::pWin->hMenu:",pWin->hMenu);
  8015                        ;			if(pWin->hMenu)
  8016                        	.line	1216
  8017                        ;			{
  8018 04:2019: A0 34 01     	ldy	#$134
  8019 04:201C: B7 0D        	lda	[<L347+pWin_1],Y
  8020 04:201E: A0 36 01     	ldy	#$136
  8021 04:2021: 17 0D        	ora	[<L347+pWin_1],Y
  8022 04:2023: D0 03        	bne	L350
  8023 04:2025: 82 F5 00     	brl	L10075
  8024                        L350:
  8025                        	.line	1217
  8026                        ;
  8027                        ;				k_nodelist_foreach_type(
                    ((PMENU)pWin->hMenu)->subMenus,
  8028                        	.line	1219
  8029                        ;							
                    			NL_TYPE_WINDOW_MENU,
  8030                        ;							
                    			pMsg->hwnd,
  8031                        ;							
                    			k_iterate_menus);
  8032 04:2028: F4 04 00     	pea	#^~~k_iterate_menus
  8033 04:202B: F4 5D 22     	pea	#<~~k_iterate_menus
  8034 04:202E: A0 0C 00     	ldy	#$c
  8035 04:2031: B7 3C        	lda	[<L346+pMsg_0],Y
  8036 04:2033: 48           	pha
  8037 04:2034: A0 0A 00     	ldy	#$a
  8038 04:2037: B7 3C        	lda	[<L346+pMsg_0],Y
  8039 04:2039: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 154


  8040 04:203A: F4 03 00     	pea	#<$3
  8041 04:203D: A0 34 01     	ldy	#$134
  8042 04:2040: B7 0D        	lda	[<L347+pWin_1],Y
  8043 04:2042: 85 01        	sta	<R0
  8044 04:2044: A0 36 01     	ldy	#$136
  8045 04:2047: B7 0D        	lda	[<L347+pWin_1],Y
  8046 04:2049: 85 03        	sta	<R0+2
  8047 04:204B: A0 15 00     	ldy	#$15
  8048 04:204E: B7 01        	lda	[<R0],Y
  8049 04:2050: 48           	pha
  8050 04:2051: A0 13 00     	ldy	#$13
  8051 04:2054: B7 01        	lda	[<R0],Y
  8052 04:2056: 48           	pha
  8053 04:2057: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
  8054                        ;
  8055                        ;
  8056                        ;				if(((PMENU)pWin->hMenu)-
                    >subMenus)
  8057                        	.line	1225
  8058                        ;				{
  8059 04:205B: A0 34 01     	ldy	#$134
  8060 04:205E: B7 0D        	lda	[<L347+pWin_1],Y
  8061 04:2060: 85 01        	sta	<R0
  8062 04:2062: A0 36 01     	ldy	#$136
  8063 04:2065: B7 0D        	lda	[<L347+pWin_1],Y
  8064 04:2067: 85 03        	sta	<R0+2
  8065 04:2069: A0 13 00     	ldy	#$13
  8066 04:206C: B7 01        	lda	[<R0],Y
  8067 04:206E: A0 15 00     	ldy	#$15
  8068 04:2071: 17 01        	ora	[<R0],Y
  8069 04:2073: D0 03        	bne	L351
  8070 04:2075: 82 A5 00     	brl	L10076
  8071                        L351:
  8072                        	.line	1226
  8073                        ;					k_vdraw_ui_menu_
                    ex( pWin->win_x,
  8074                        	.line	1227
  8075                        ;							
                    			pWin->win_y,
  8076                        ;							
                    			pWin->win_width,
  8077                        ;							
                    			pWin->win_height,
  8078                        ;							
                    			NULL, //"", //((PFXSTRING)((PMENU)pWin->
                    hMenu)->subMenus->listData)->buffer,
  8079                        ;							
                    			k_getUIGadgetColor(),
  8080                        ;							
                    			k_getUIMenuColor(),
  8081                        ;							
                    			BITMAP_BACK);
  8082 04:2078: F4 10 00     	pea	#<$10
  8083 04:207B: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8084 04:207F: 48           	pha
  8085 04:2080: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8086 04:2084: 48           	pha
  8087 04:2085: F4 00 00     	pea	#^$0
  Thu Dec  3 2020 22:25                                                Page 155


  8088 04:2088: F4 00 00     	pea	#<$0
  8089 04:208B: A0 0E 00     	ldy	#$e
  8090 04:208E: B7 0D        	lda	[<L347+pWin_1],Y
  8091 04:2090: 48           	pha
  8092 04:2091: A0 0C 00     	ldy	#$c
  8093 04:2094: B7 0D        	lda	[<L347+pWin_1],Y
  8094 04:2096: 48           	pha
  8095 04:2097: A0 0A 00     	ldy	#$a
  8096 04:209A: B7 0D        	lda	[<L347+pWin_1],Y
  8097 04:209C: 48           	pha
  8098 04:209D: A0 08 00     	ldy	#$8
  8099 04:20A0: B7 0D        	lda	[<L347+pWin_1],Y
  8100 04:20A2: 48           	pha
  8101 04:20A3: 22 xx xx xx  	jsl	~~k_vdraw_ui_menu_ex
  8102                        ;
  8103                        ;					//k_put_wingadge
                    t_point(WINICON_TITLE_BCLOSE,pWin->win_x + 2,pWin->win_y + 2
                     ,k_getUIGadgetColor());
  8104                        ;
  8105                        ;					k_draw_text_poin
                    t_with_font_ex("\x80\x81",(LPCSTR)k_user_getFontClass("AMIGO
                    8x8"),pWin->win_x + 2,pWin->win_y + 2,k_getUIGadgetColor(),B
                    ITMAP_BACK);
  8106                        	.line	1238
  8107 04:20A7: F4 10 00     	pea	#<$10
  8108 04:20AA: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8109 04:20AE: 48           	pha
  8110 04:20AF: 18           	clc
  8111 04:20B0: A9 02 00     	lda	#$2
  8112 04:20B3: A0 0A 00     	ldy	#$a
  8113 04:20B6: 77 0D        	adc	[<L347+pWin_1],Y
  8114 04:20B8: 48           	pha
  8115 04:20B9: 18           	clc
  8116 04:20BA: A9 02 00     	lda	#$2
  8117 04:20BD: A0 08 00     	ldy	#$8
  8118 04:20C0: 77 0D        	adc	[<L347+pWin_1],Y
  8119 04:20C2: 48           	pha
  8120 04:20C3: F4 xx xx     	pea	#^L345+38
  8121 04:20C6: F4 xx xx     	pea	#<L345+38
  8122 04:20C9: 22 E3 0D 04  	jsl	~~k_user_getFontClass
  8123 04:20CD: 85 01        	sta	<R0
  8124 04:20CF: 86 03        	stx	<R0+2
  8125 04:20D1: DA           	phx
  8126 04:20D2: 48           	pha
  8127 04:20D3: F4 xx xx     	pea	#^L345+35
  8128 04:20D6: F4 xx xx     	pea	#<L345+35
  8129 04:20D9: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font_ex
  8130                        ;					//k_draw_text_po
                    int_with_font_ex("\x80\x81",BM437AMIGO8x8,pWin->win_x + 2,pW
                    in->win_y + 2,k_getUIGadgetColor(),BITMAP_BACK);
  8131                        ;
  8132                        ;					if(pWin->hMenu &
                    & ((PMENU)pWin->hMenu)->subMenus)
  8133                        	.line	1241
  8134                        ;					{
  8135 04:20DD: A0 34 01     	ldy	#$134
  8136 04:20E0: B7 0D        	lda	[<L347+pWin_1],Y
  8137 04:20E2: A0 36 01     	ldy	#$136
  Thu Dec  3 2020 22:25                                                Page 156


  8138 04:20E5: 17 0D        	ora	[<L347+pWin_1],Y
  8139 04:20E7: D0 03        	bne	L352
  8140 04:20E9: 82 31 00     	brl	L10077
  8141                        L352:
  8142 04:20EC: A0 34 01     	ldy	#$134
  8143 04:20EF: B7 0D        	lda	[<L347+pWin_1],Y
  8144 04:20F1: 85 01        	sta	<R0
  8145 04:20F3: A0 36 01     	ldy	#$136
  8146 04:20F6: B7 0D        	lda	[<L347+pWin_1],Y
  8147 04:20F8: 85 03        	sta	<R0+2
  8148 04:20FA: A0 13 00     	ldy	#$13
  8149 04:20FD: B7 01        	lda	[<R0],Y
  8150 04:20FF: A0 15 00     	ldy	#$15
  8151 04:2102: 17 01        	ora	[<R0],Y
  8152 04:2104: D0 03        	bne	L353
  8153 04:2106: 82 14 00     	brl	L10077
  8154                        L353:
  8155                        	.line	1242
  8156                        ;						//((PMEN
                    U)pWin->hMenu)->hWndOwner = pWin->pParentWindow; // temp for
                     a test
  8157                        ;						//k_debu
                    g_strings("menuWindowProc::FX_MOUSE_ENTER:hWndOwner:title:",
                     k_getWindowFromHandle(pWin->pParentWindow)->win_title );
  8158                        ;
  8159                        ;
  8160                        ;						_k_user_
                    send_child_message(pWin,FX_SHOW_WINDOW,NULL,0);
  8161                        	.line	1247
  8162 04:2109: F4 00 00     	pea	#<$0
  8163 04:210C: F4 00 00     	pea	#^$0
  8164 04:210F: F4 00 00     	pea	#<$0
  8165 04:2112: F4 05 FB     	pea	#<$fb05
  8166 04:2115: D4 0F        	pei	<L347+pWin_1+2
  8167 04:2117: D4 0D        	pei	<L347+pWin_1
  8168 04:2119: 22 4A 4A 04  	jsl	~~_k_user_send_child_message
  8169                        ;
  8170                        ;						//fxstr 
                    = k_fxstring_init(128);
  8171                        ;
  8172                        ;						//k_debu
                    g_strings("menuWindowProc::FX_CREATE_WINDOW:fxstr:",fxstr->b
                    uffer);
  8173                        ;						//((PMEN
                    U)pWin->hMenu)->subMenus->listData = fxstr;
  8174                        ;						//k_debu
                    g_strings("menuWindowProc::FX_CREATE_WINDOW:title:",title);
  8175                        ;					}
  8176                        	.line	1254
  8177                        ;
  8178                        ;
  8179                        ;				}
  8180                        L10077:
  8181                        	.line	1257
  8182                        ;
  8183                        ;
  8184                        ;
  8185                        ;				//k_draw_menu(pWin->hMen
  Thu Dec  3 2020 22:25                                                Page 157


                    u,15,3);
  8186                        ;
  8187                        ;			}
  8188                        L10076:
  8189                        	.line	1263
  8190                        ;			//k_debug_string("menuWindowProc
                    ::FX_CREATE_WINDOW:k_vdraw_ui_menu\r\n");
  8191                        ;			break;
  8192                        L10075:
  8193                        	.line	1265
  8194 04:211D: 82 28 01     	brl	L10073
  8195                        ;		case FX_REDRAW_WINDOW:
  8196                        	.line	1266
  8197                        L10078:
  8198                        ;			k_debug_string("menuWindowProc::
                    FX_REDRAW_WINDOW\r\n");
  8199                        	.line	1267
  8200 04:2120: F4 xx xx     	pea	#^L345+47
  8201 04:2123: F4 xx xx     	pea	#<L345+47
  8202 04:2126: 22 xx xx xx  	jsl	~~k_debug_string
  8203                        ;			break;
  8204                        	.line	1268
  8205 04:212A: 82 1B 01     	brl	L10073
  8206                        ;		case FX_PROCESS_TIMER:
  8207                        	.line	1269
  8208                        L10079:
  8209                        ;			//k_debug_string("menuWindowProc
                    ::FX_PROCESS_TIMER\r\n");
  8210                        ;
  8211                        ;			hWnd = k_user_findWindow("#menub
                    ar");
  8212                        	.line	1272
  8213 04:212D: F4 xx xx     	pea	#^L345+82
  8214 04:2130: F4 xx xx     	pea	#<L345+82
  8215 04:2133: 22 7B 05 04  	jsl	~~k_user_findWindow
  8216 04:2137: 85 09        	sta	<L347+hWnd_1
  8217 04:2139: 86 0B        	stx	<L347+hWnd_1+2
  8218                        ;			rect.x = k_getWindowFromHandle(h
                    Wnd)->win_width - (15 * FONTW);
  8219                        	.line	1273
  8220 04:213B: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8221 04:213F: 85 01        	sta	<R0
  8222 04:2141: A5 01        	lda	<R0
  8223 04:2143: A2 0F 00     	ldx	#<$f
  8224                        	xref	~~~mul
  8225 04:2146: 22 xx xx xx  	jsl	~~~mul
  8226 04:214A: 85 01        	sta	<R0
  8227 04:214C: D4 0B        	pei	<L347+hWnd_1+2
  8228 04:214E: D4 09        	pei	<L347+hWnd_1
  8229 04:2150: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  8230 04:2154: 85 05        	sta	<R1
  8231 04:2156: 86 07        	stx	<R1+2
  8232 04:2158: 38           	sec
  8233 04:2159: A0 0C 00     	ldy	#$c
  8234 04:215C: B7 05        	lda	[<R1],Y
  8235 04:215E: E5 01        	sbc	<R0
  8236 04:2160: 85 31        	sta	<L347+rect_1
  8237                        ;			rect.y = 2;
  Thu Dec  3 2020 22:25                                                Page 158


  8238                        	.line	1274
  8239 04:2162: A9 02 00     	lda	#$2
  8240 04:2165: 85 33        	sta	<L347+rect_1+2
  8241                        ;			k_user_DrawWindowTextToPointWith
                    Font(hWnd,"\xAF\xAF\xAF\xAF\xAF\xAF\xAF\xAF",k_getUIMenuColo
                    r(),&rect,(LPCSTR)k_user_getFontClass("FXOS8x8"));
  8242                        	.line	1275
  8243 04:2167: F4 xx xx     	pea	#^L345+100
  8244 04:216A: F4 xx xx     	pea	#<L345+100
  8245 04:216D: 22 E3 0D 04  	jsl	~~k_user_getFontClass
  8246 04:2171: 85 01        	sta	<R0
  8247 04:2173: 86 03        	stx	<R0+2
  8248 04:2175: DA           	phx
  8249 04:2176: 48           	pha
  8250 04:2177: F4 00 00     	pea	#0
  8251 04:217A: 18           	clc
  8252 04:217B: 7B           	tdc
  8253 04:217C: 69 31 00     	adc	#<L347+rect_1
  8254 04:217F: 48           	pha
  8255 04:2180: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8256 04:2184: 48           	pha
  8257 04:2185: F4 xx xx     	pea	#^L345+91
  8258 04:2188: F4 xx xx     	pea	#<L345+91
  8259 04:218B: D4 0B        	pei	<L347+hWnd_1+2
  8260 04:218D: D4 09        	pei	<L347+hWnd_1
  8261 04:218F: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  8262                        ;
  8263                        ;			rect.x = k_getWindowFromHandle(h
                    Wnd)->win_width - (15 * FONTW);
  8264                        	.line	1277
  8265 04:2193: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8266 04:2197: 85 01        	sta	<R0
  8267 04:2199: A5 01        	lda	<R0
  8268 04:219B: A2 0F 00     	ldx	#<$f
  8269                        	xref	~~~mul
  8270 04:219E: 22 xx xx xx  	jsl	~~~mul
  8271 04:21A2: 85 01        	sta	<R0
  8272 04:21A4: D4 0B        	pei	<L347+hWnd_1+2
  8273 04:21A6: D4 09        	pei	<L347+hWnd_1
  8274 04:21A8: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  8275 04:21AC: 85 05        	sta	<R1
  8276 04:21AE: 86 07        	stx	<R1+2
  8277 04:21B0: 38           	sec
  8278 04:21B1: A0 0C 00     	ldy	#$c
  8279 04:21B4: B7 05        	lda	[<R1],Y
  8280 04:21B6: E5 01        	sbc	<R0
  8281 04:21B8: 85 31        	sta	<L347+rect_1
  8282                        ;			rect.y = 2;
  8283                        	.line	1278
  8284 04:21BA: A9 02 00     	lda	#$2
  8285 04:21BD: 85 33        	sta	<L347+rect_1+2
  8286                        ;			k_user_DrawWindowTextToPointWith
                    Font(hWnd,k_get_localtime_string(localBuffer),k_getUIGadgetC
                    olor(),&rect,(LPCSTR)k_user_getFontClass("TINYTYPE8x8"));
  8287                        	.line	1279
  8288 04:21BF: F4 xx xx     	pea	#^L345+108
  8289 04:21C2: F4 xx xx     	pea	#<L345+108
  8290 04:21C5: 22 E3 0D 04  	jsl	~~k_user_getFontClass
  Thu Dec  3 2020 22:25                                                Page 159


  8291 04:21C9: 85 01        	sta	<R0
  8292 04:21CB: 86 03        	stx	<R0+2
  8293 04:21CD: DA           	phx
  8294 04:21CE: 48           	pha
  8295 04:21CF: F4 00 00     	pea	#0
  8296 04:21D2: 18           	clc
  8297 04:21D3: 7B           	tdc
  8298 04:21D4: 69 31 00     	adc	#<L347+rect_1
  8299 04:21D7: 48           	pha
  8300 04:21D8: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8301 04:21DC: 48           	pha
  8302 04:21DD: F4 00 00     	pea	#0
  8303 04:21E0: 18           	clc
  8304 04:21E1: 7B           	tdc
  8305 04:21E2: 69 1D 00     	adc	#<L347+localBuffer_1
  8306 04:21E5: 48           	pha
  8307 04:21E6: 22 xx xx xx  	jsl	~~k_get_localtime_string
  8308 04:21EA: 85 05        	sta	<R1
  8309 04:21EC: 86 07        	stx	<R1+2
  8310 04:21EE: DA           	phx
  8311 04:21EF: 48           	pha
  8312 04:21F0: D4 0B        	pei	<L347+hWnd_1+2
  8313 04:21F2: D4 09        	pei	<L347+hWnd_1
  8314 04:21F4: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  8315                        ;
  8316                        ;
  8317                        ;			break;
  8318                        	.line	1282
  8319 04:21F8: 82 4D 00     	brl	L10073
  8320                        ;		case FX_LBUTTON_DOWN:
  8321                        	.line	1283
  8322                        L10080:
  8323                        ;			if(pMsg->type!=FX_PROCESS)
  8324                        	.line	1284
  8325                        ;			{
  8326 04:21FB: A0 08 00     	ldy	#$8
  8327 04:21FE: B7 3C        	lda	[<L346+pMsg_0],Y
  8328 04:2200: C9 00 FF     	cmp	#<$ff00
  8329 04:2203: D0 03        	bne	L354
  8330 04:2205: 82 00 00     	brl	L10081
  8331                        L354:
  8332                        	.line	1285
  8333                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
  8334                        ;				//k_debug_integer("menuW
                    indowProc::FX_LBUTTON_DOWN:X:", *((INT*)&pMsg->data[1])  );
  8335                        ;				//k_debug_integer("menuW
                    indowProc::FX_LBUTTON_DOWN:Y:", *((INT*)&pMsg->data[3])  );
  8336                        ;
  8337                        ;				//k_debug_pointer("menuW
                    indowProc::pChildHitList:",pWin->pChildHitList);
  8338                        ;
  8339                        ;				//if(pWin->pChildHitList
                    )
  8340                        ;				//	k_debug_nodelist
                    _with_data( pWin->pChildHitList->listhead, debug_window_node
                     );
  8341                        ;
  Thu Dec  3 2020 22:25                                                Page 160


  8342                        ;
  8343                        ;				//k_shadow_bitblt(0,0, 6
                    40, 480, 1,1);
  8344                        ;
  8345                        ;			}
  8346                        	.line	1298
  8347                        ;			break;
  8348                        L10081:
  8349                        	.line	1299
  8350 04:2208: 82 3D 00     	brl	L10073
  8351                        ;
  8352                        ;		case FX_MOUSE_ENTER:
  8353                        	.line	1301
  8354                        L10082:
  8355                        ;			k_debug_string("menuWindowProc::
                    FX_MOUSE_ENTER\r\n");
  8356                        	.line	1302
  8357 04:220B: F4 xx xx     	pea	#^L345+120
  8358 04:220E: F4 xx xx     	pea	#<L345+120
  8359 04:2211: 22 xx xx xx  	jsl	~~k_debug_string
  8360                        ;
  8361                        ;			/*
  8362                        ;			if(((PMENU)pWin->hMenu)->subMenu
                    s)
  8363                        ;			{
  8364                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  8365                        ;							
                    	pWin->win_width,
  8366                        ;							
                    	pWin->win_height,
  8367                        ;							
                    	"", //((PFXSTRING)((PMENU)pWin->hMenu)->subMenus->listDa
                    ta)->buffer,
  8368                        ;							
                    	4,3);
  8369                        ;
  8370                        ;
  8371                        ;				if(pWin->hMenu && ((PMEN
                    U)pWin->hMenu)->subMenus)
  8372                        ;				{
  8373                        ;					//((PMENU)pWin->
                    hMenu)->hWndOwner = pWin->pParentWindow; // temp for a test
  8374                        ;					//k_debug_string
                    s("menuWindowProc::FX_MOUSE_ENTER:hWndOwner:title:", k_getWi
                    ndowFromHandle(pWin->pParentWindow)->win_title );
  8375                        ;
  8376                        ;
  8377                        ;					_k_user_send_chi
                    ld_message(pWin,FX_SHOW_WINDOW,NULL,0);
  8378                        ;
  8379                        ;					//fxstr = k_fxst
                    ring_init(128);
  8380                        ;
  8381                        ;					//k_debug_string
                    s("menuWindowProc::FX_CREATE_WINDOW:fxstr:",fxstr->buffer);
  8382                        ;					//((PMENU)pWin->
                    hMenu)->subMenus->listData = fxstr;
  Thu Dec  3 2020 22:25                                                Page 161


  8383                        ;					//k_debug_string
                    s("menuWindowProc::FX_CREATE_WINDOW:title:",title);
  8384                        ;				}
  8385                        ;
  8386                        ;
  8387                        ;			}
  8388                        ;			*/
  8389                        ;			break;
  8390                        	.line	1332
  8391 04:2215: 82 30 00     	brl	L10073
  8392                        ;		case FX_MOUSE_EXIT:
  8393                        	.line	1333
  8394                        L10083:
  8395                        ;			k_debug_string("menuWindowProc::
                    FX_MOUSE_EXIT\r\n");
  8396                        	.line	1334
  8397 04:2218: F4 xx xx     	pea	#^L345+153
  8398 04:221B: F4 xx xx     	pea	#<L345+153
  8399 04:221E: 22 xx xx xx  	jsl	~~k_debug_string
  8400                        ;			/*
  8401                        ;			k_debug_strings("menuWindowProc:
                    :FX_MOUSE_EXIT:title:",(LPCHAR)((PMENU)pWin->hMenu)->pCaptio
                    n);
  8402                        ;
  8403                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutX = 2 + FONTW;
  8404                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutY = 2 + FONTW;
  8405                        ;
  8406                        ;			if(((PMENU)pWin->hMenu)->pCaptio
                    n)
  8407                        ;			{
  8408                        ;				_k_user_send_child_messa
                    ge(pWin,FX_HIDE_WINDOW,NULL,0);
  8409                        ;
  8410                        ;				k_mem_deallocate_heap((L
                    PVOID)((PMENU)pWin->hMenu)->pCaption);
  8411                        ;
  8412                        ;				title = k_string_replace
                    (CONST_WB_MENU_TITLE,"%s1", k_strip_padding(k_longtodec(k_ge
                    tZeroPage()->availableHeapMemoryK,localBuffer)) );
  8413                        ;				((PMENU)pWin->hMenu)->pC
                    aption = k_string_replace(title,"%s2", k_strip_padding(k_lon
                    gtodec(k_getZeroPage()->availableHeapMemoryK,localBuffer)));
  8414                        ;
  8415                        ;
  8416                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  8417                        ;							
                    	pWin->win_width,
  8418                        ;							
                    	pWin->win_height,
  8419                        ;							
                    	((PMENU)pWin->hMenu)->pCaption,
  8420                        ;							
                    	15,3);
  8421                        ;
  8422                        ;				k_mem_deallocate_heap(ti
  Thu Dec  3 2020 22:25                                                Page 162


                    tle);
  8423                        ;
  8424                        ;			}
  8425                        ;			*/
  8426                        ;			break;
  8427                        	.line	1361
  8428 04:2222: 82 23 00     	brl	L10073
  8429                        ;
  8430                        ;		default:
  8431                        	.line	1363
  8432                        L10084:
  8433                        ;			break;
  8434                        	.line	1364
  8435 04:2225: 82 20 00     	brl	L10073
  8436                        ;		}
  8437                        	.line	1365
  8438                        L10072:
  8439                        	xref	~~~swt
  8440 04:2228: 22 xx xx xx  	jsl	~~~swt
  8441 04:222C: 06 00        	dw	6
  8442 04:222E: 01 0F        	dw	3841
  8443 04:2230: 0A 22        	dw	L10082-1
  8444 04:2232: 02 0F        	dw	3842
  8445 04:2234: 17 22        	dw	L10083-1
  8446 04:2236: 04 0F        	dw	3844
  8447 04:2238: FA 21        	dw	L10080-1
  8448 04:223A: 07 FB        	dw	64263
  8449 04:223C: 1F 21        	dw	L10078-1
  8450 04:223E: 03 FF        	dw	65283
  8451 04:2240: C1 1F        	dw	L10074-1
  8452 04:2242: F1 FF        	dw	65521
  8453 04:2244: 2C 21        	dw	L10079-1
  8454 04:2246: 24 22        	dw	L10084-1
  8455                        L10073:
  8456                        ;	}
  8457                        	.line	1366
  8458                        ;
  8459                        ;	return TRUE;
  8460                        L10071:
  8461                        	.line	1368
  8462 04:2248: A9 01 00     	lda	#$1
  8463                        L355:
  8464 04:224B: A8           	tay
  8465 04:224C: A5 3A        	lda	<L346+2
  8466 04:224E: 85 3E        	sta	<L346+2+4
  8467 04:2250: A5 39        	lda	<L346+1
  8468 04:2252: 85 3D        	sta	<L346+1+4
  8469 04:2254: 2B           	pld
  8470 04:2255: 3B           	tsc
  8471 04:2256: 18           	clc
  8472 04:2257: 69 3C 00     	adc	#L346+4
  8473 04:225A: 1B           	tcs
  8474 04:225B: 98           	tya
  8475 04:225C: 6B           	rtl
  8476                        ;}
  8477                        	.line	1369
  8478                        	.endblock	1369
  8479             00000038   L346	equ	56
  Thu Dec  3 2020 22:25                                                Page 163


  8480             00000009   L347	equ	9
  8481 04:225D:              	ends
  8482                        	efunc
  8483                        	.endfunc	1369,9,56
  8484                        	.line	1369
  8485                        	data
  8486                        L345:
  8487 00:04E1: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:04E5: 57 69 6E 64 
       00:04E9: 6F 77 50 72 
       00:04ED: 6F 63 3A 
  8488 00:04F0: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$43,$52,$45,$41,$54,$45,
                    $5F,$57,$49,$4E,$44
       00:04F4: 43 52 45 41 
       00:04F8: 54 45 5F 57 
       00:04FC: 49 4E 44 
  8489 00:04FF: 4F 57 0D 0A  	db	$4F,$57,$0D,$0A,$00,$FFFFFF80,$FFFFFF81,
                    $00,$41,$4D,$49,$47,$4F,$38,$78
       00:0503: 00 80 81 00 
       00:0507: 41 4D 49 47 
       00:050B: 4F 38 78 
  8490 00:050E: 38 00 6D 65  	db	$38,$00,$6D,$65,$6E,$75,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0512: 6E 75 57 69 
       00:0516: 6E 64 6F 77 
       00:051A: 50 72 6F 
  8491 00:051D: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$52,$45,$44,$52,
                    $41,$57,$5F,$57,$49
       00:0521: 58 5F 52 45 
       00:0525: 44 52 41 57 
       00:0529: 5F 57 49 
  8492 00:052C: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$23,$6D,$65,
                    $6E,$75,$62,$61,$72
       00:0530: 0D 0A 00 23 
       00:0534: 6D 65 6E 75 
       00:0538: 62 61 72 
  8493 00:053B: 00 AF AF AF  	db	$00,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$FFFFF
                    FAF,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$00,$46,$58,$4F,
                    $53,$38
       00:053F: AF AF AF AF 
       00:0543: AF 00 46 58 
       00:0547: 4F 53 38 
  8494 00:054A: 78 38 00 54  	db	$78,$38,$00,$54,$49,$4E,$59,$54,$59,$50,
                    $45,$38,$78,$38,$00
       00:054E: 49 4E 59 54 
       00:0552: 59 50 45 38 
       00:0556: 78 38 00 
  8495 00:0559: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:055D: 57 69 6E 64 
       00:0561: 6F 77 50 72 
       00:0565: 6F 63 3A 
  8496 00:0568: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,
                    $45,$4E,$54,$45,$52
       00:056C: 4D 4F 55 53 
       00:0570: 45 5F 45 4E 
       00:0574: 54 45 52 
  Thu Dec  3 2020 22:25                                                Page 164


  8497 00:0577: 0D 0A 00 6D  	db	$0D,$0A,$00,$6D,$65,$6E,$75,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:057B: 65 6E 75 57 
       00:057F: 69 6E 64 6F 
       00:0583: 77 50 72 
  8498 00:0586: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4D,$4F,$55,
                    $53,$45,$5F,$45,$58
       00:058A: 46 58 5F 4D 
       00:058E: 4F 55 53 45 
       00:0592: 5F 45 58 
  8499 00:0595: 49 54 0D 0A  	db	$49,$54,$0D,$0A,$00
       00:0599: 00 
  8500 00:059A:              	ends
  8501                        ;
  8502                        ;void k_iterate_menus(LPVOID ctx,LPVOID data)
  8503                        ;{
  8504                        	.line	1371
  8505                        	.line	1372
  8506                        	WINMAN
  8507                        	xdef	~~k_iterate_menus
  8508                        	func
  8509                        	.function	1372
  8510                        ~~k_iterate_menus:
  8511                        	longa	on
  8512                        	longi	on
  8513 04:225D: 3B           	tsc
  8514 04:225E: 38           	sec
  8515 04:225F: E9 18 00     	sbc	#L357
  8516 04:2262: 1B           	tcs
  8517 04:2263: 0B           	phd
  8518 04:2264: 5B           	tcd
  8519             00000004   ctx_0	set	4
  8520             00000008   data_0	set	8
  8521                        	.block	1372
  8522                        ;	PWINDOW     pWin = NULL;
  8523                        ;	PMENUANCHOR pMenuAnchor = NULL;
  8524                        ;	PFXSTRING   fxstr = NULL;
  8525                        ;	if(data)
  8526             00000000   pWin_1	set	0
  8527             00000004   pMenuAnchor_1	set	4
  8528             00000008   fxstr_1	set	8
  8529                        	.sym	pWin,0,138,1,32,27
  8530                        	.sym	pMenuAnchor,4,138,1,32,38
  8531                        	.sym	fxstr,8,138,1,32,50
  8532                        	.sym	ctx,4,129,6,32
  8533                        	.sym	data,8,129,6,32
  8534 04:2265: 64 0D        	stz	<L358+pWin_1
  8535 04:2267: 64 0F        	stz	<L358+pWin_1+2
  8536 04:2269: 64 11        	stz	<L358+pMenuAnchor_1
  8537 04:226B: 64 13        	stz	<L358+pMenuAnchor_1+2
  8538 04:226D: 64 15        	stz	<L358+fxstr_1
  8539 04:226F: 64 17        	stz	<L358+fxstr_1+2
  8540                        	.line	1376
  8541                        ;	{
  8542 04:2271: A5 20        	lda	<L357+data_0
  8543 04:2273: 05 22        	ora	<L357+data_0+2
  8544 04:2275: D0 03        	bne	L360
  8545 04:2277: 82 E7 00     	brl	L10085
  Thu Dec  3 2020 22:25                                                Page 165


  8546                        L360:
  8547                        	.line	1377
  8548                        ;		k_debug_strings("k_iterate_menus:",(LPCH
                    AR)((PMENU)data)->pCaption) ;
  8549                        	.line	1378
  8550 04:227A: A0 11 00     	ldy	#$11
  8551 04:227D: B7 20        	lda	[<L357+data_0],Y
  8552 04:227F: 48           	pha
  8553 04:2280: A0 0F 00     	ldy	#$f
  8554 04:2283: B7 20        	lda	[<L357+data_0],Y
  8555 04:2285: 48           	pha
  8556 04:2286: F4 xx xx     	pea	#^L356
  8557 04:2289: F4 xx xx     	pea	#<L356
  8558 04:228C: 22 xx xx xx  	jsl	~~k_debug_strings
  8559                        ;
  8560                        ;		if(ctx)
  8561                        	.line	1380
  8562                        ;		{
  8563 04:2290: A5 1C        	lda	<L357+ctx_0
  8564 04:2292: 05 1E        	ora	<L357+ctx_0+2
  8565 04:2294: D0 03        	bne	L361
  8566 04:2296: 82 C8 00     	brl	L10086
  8567                        L361:
  8568                        	.line	1381
  8569                        ;			//fxstr = (PFXSTRING)ctx;
  8570                        ;			//k_fxstring_add(fxstr,(LPCHAR)(
                    (PMENU)data)->pCaption);
  8571                        ;			//k_fxstring_add(fxstr,"  ");
  8572                        ;			pWin = (PWINDOW)ctx;
  8573                        	.line	1385
  8574 04:2299: A5 1C        	lda	<L357+ctx_0
  8575 04:229B: 85 0D        	sta	<L358+pWin_1
  8576 04:229D: A5 1E        	lda	<L357+ctx_0+2
  8577 04:229F: 85 0F        	sta	<L358+pWin_1+2
  8578                        ;			pMenuAnchor = (PMENUANCHOR)pWin-
                    >windowData;
  8579                        	.line	1386
  8580 04:22A1: A0 41 01     	ldy	#$141
  8581 04:22A4: B7 0D        	lda	[<L358+pWin_1],Y
  8582 04:22A6: 85 11        	sta	<L358+pMenuAnchor_1
  8583 04:22A8: A0 43 01     	ldy	#$143
  8584 04:22AB: B7 0D        	lda	[<L358+pWin_1],Y
  8585 04:22AD: 85 13        	sta	<L358+pMenuAnchor_1+2
  8586                        ;
  8587                        ;
  8588                        ;			pWin = k_user_CreateMenuAnchor(k
                    _getHandleFromWindow(pWin),
  8589                        	.line	1389
  8590                        ;					                
                    ((PMENU)data)->pCaption,
  8591                        ;							
                    		(PMENU)data,
  8592                        ;							
                    		pMenuAnchor->renderLayoutX,
  8593                        ;							
                    		pMenuAnchor->renderLayoutY,
  8594                        ;							
                    		(strlen(((PMENU)data)->pCaption)*FONTW) + (FONTW
  Thu Dec  3 2020 22:25                                                Page 166


                    /2),
  8595                        ;							
                    		FONTH + (FONTW/4));
  8596 04:22AF: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8597 04:22B3: 85 05        	sta	<R1
  8598 04:22B5: A5 05        	lda	<R1
  8599 04:22B7: 4A           	lsr	A
  8600 04:22B8: 4A           	lsr	A
  8601 04:22B9: 85 01        	sta	<R0
  8602 04:22BB: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  8603 04:22BF: 85 05        	sta	<R1
  8604 04:22C1: 18           	clc
  8605 04:22C2: A5 05        	lda	<R1
  8606 04:22C4: 65 01        	adc	<R0
  8607 04:22C6: 48           	pha
  8608 04:22C7: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8609 04:22CB: 85 05        	sta	<R1
  8610 04:22CD: A5 05        	lda	<R1
  8611 04:22CF: 4A           	lsr	A
  8612 04:22D0: 85 01        	sta	<R0
  8613 04:22D2: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8614 04:22D6: 85 05        	sta	<R1
  8615 04:22D8: A0 11 00     	ldy	#$11
  8616 04:22DB: B7 20        	lda	[<L357+data_0],Y
  8617 04:22DD: 48           	pha
  8618 04:22DE: A0 0F 00     	ldy	#$f
  8619 04:22E1: B7 20        	lda	[<L357+data_0],Y
  8620 04:22E3: 48           	pha
  8621 04:22E4: 22 xx xx xx  	jsl	~~strlen
  8622 04:22E8: 85 09        	sta	<R2
  8623 04:22EA: A5 09        	lda	<R2
  8624 04:22EC: A6 05        	ldx	<R1
  8625                        	xref	~~~mul
  8626 04:22EE: 22 xx xx xx  	jsl	~~~mul
  8627 04:22F2: 85 05        	sta	<R1
  8628 04:22F4: 18           	clc
  8629 04:22F5: A5 05        	lda	<R1
  8630 04:22F7: 65 01        	adc	<R0
  8631 04:22F9: 48           	pha
  8632 04:22FA: A0 06 00     	ldy	#$6
  8633 04:22FD: B7 11        	lda	[<L358+pMenuAnchor_1],Y
  8634 04:22FF: 48           	pha
  8635 04:2300: A0 04 00     	ldy	#$4
  8636 04:2303: B7 11        	lda	[<L358+pMenuAnchor_1],Y
  8637 04:2305: 48           	pha
  8638 04:2306: D4 22        	pei	<L357+data_0+2
  8639 04:2308: D4 20        	pei	<L357+data_0
  8640 04:230A: A0 11 00     	ldy	#$11
  8641 04:230D: B7 20        	lda	[<L357+data_0],Y
  8642 04:230F: 48           	pha
  8643 04:2310: A0 0F 00     	ldy	#$f
  8644 04:2313: B7 20        	lda	[<L357+data_0],Y
  8645 04:2315: 48           	pha
  8646 04:2316: D4 0F        	pei	<L358+pWin_1+2
  8647 04:2318: D4 0D        	pei	<L358+pWin_1
  8648 04:231A: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  8649 04:231E: 85 01        	sta	<R0
  8650 04:2320: 86 03        	stx	<R0+2
  Thu Dec  3 2020 22:25                                                Page 167


  8651 04:2322: DA           	phx
  8652 04:2323: 48           	pha
  8653 04:2324: 22 24 25 04  	jsl	~~k_user_CreateMenuAnchor
  8654 04:2328: 85 0D        	sta	<L358+pWin_1
  8655 04:232A: 86 0F        	stx	<L358+pWin_1+2
  8656                        ;
  8657                        ;			//pMenuAnchor->renderLayoutX+=(s
                    trlen(((PMENU)data)->pCaption)*FONTW + (FONTW/2));
  8658                        ;			pMenuAnchor->renderLayoutX+=pWin
                    ->win_width;
  8659                        	.line	1398
  8660 04:232C: 18           	clc
  8661 04:232D: A9 04 00     	lda	#$4
  8662 04:2330: 65 11        	adc	<L358+pMenuAnchor_1
  8663 04:2332: 85 01        	sta	<R0
  8664 04:2334: A9 00 00     	lda	#$0
  8665 04:2337: 65 13        	adc	<L358+pMenuAnchor_1+2
  8666 04:2339: 85 03        	sta	<R0+2
  8667 04:233B: 18           	clc
  8668 04:233C: A7 01        	lda	[<R0]
  8669 04:233E: A0 0C 00     	ldy	#$c
  8670 04:2341: 77 0D        	adc	[<L358+pWin_1],Y
  8671 04:2343: 87 01        	sta	[<R0]
  8672                        ;			pMenuAnchor->renderLayoutX+=(1*F
                    ONTW);
  8673                        	.line	1399
  8674 04:2345: 18           	clc
  8675 04:2346: A9 04 00     	lda	#$4
  8676 04:2349: 65 11        	adc	<L358+pMenuAnchor_1
  8677 04:234B: 85 01        	sta	<R0
  8678 04:234D: A9 00 00     	lda	#$0
  8679 04:2350: 65 13        	adc	<L358+pMenuAnchor_1+2
  8680 04:2352: 85 03        	sta	<R0+2
  8681 04:2354: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8682 04:2358: 85 05        	sta	<R1
  8683 04:235A: 18           	clc
  8684 04:235B: A5 05        	lda	<R1
  8685 04:235D: 67 01        	adc	[<R0]
  8686 04:235F: 87 01        	sta	[<R0]
  8687                        ;
  8688                        ;
  8689                        ;
  8690                        ;		}
  8691                        	.line	1403
  8692                        ;
  8693                        ;	}
  8694                        L10086:
  8695                        	.line	1405
  8696                        ;}
  8697                        L10085:
  8698                        	.line	1406
  8699                        L362:
  8700 04:2361: A5 1A        	lda	<L357+2
  8701 04:2363: 85 22        	sta	<L357+2+8
  8702 04:2365: A5 19        	lda	<L357+1
  8703 04:2367: 85 21        	sta	<L357+1+8
  8704 04:2369: 2B           	pld
  8705 04:236A: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 168


  8706 04:236B: 18           	clc
  8707 04:236C: 69 20 00     	adc	#L357+8
  8708 04:236F: 1B           	tcs
  8709 04:2370: 6B           	rtl
  8710                        	.endblock	1406
  8711             00000018   L357	equ	24
  8712             0000000D   L358	equ	13
  8713 04:2371:              	ends
  8714                        	efunc
  8715                        	.endfunc	1406,13,24
  8716                        	.line	1406
  8717                        	data
  8718                        L356:
  8719 00:059A: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $6D,$65,$6E,$75,$73
       00:059E: 65 72 61 74 
       00:05A2: 65 5F 6D 65 
       00:05A6: 6E 75 73 
  8720 00:05A9: 3A 00        	db	$3A,$00
  8721 00:05AB:              	ends
  8722                        ;
  8723                        ;void k_iterate_set_menu_state(LPVOID ctx,LPVOID d
                    ata)
  8724                        ;{
  8725                        	.line	1408
  8726                        	.line	1409
  8727                        	WINMAN
  8728                        	xdef	~~k_iterate_set_menu_state
  8729                        	func
  8730                        	.function	1409
  8731                        ~~k_iterate_set_menu_state:
  8732                        	longa	on
  8733                        	longi	on
  8734 04:2371: 3B           	tsc
  8735 04:2372: 38           	sec
  8736 04:2373: E9 14 00     	sbc	#L364
  8737 04:2376: 1B           	tcs
  8738 04:2377: 0B           	phd
  8739 04:2378: 5B           	tcd
  8740             00000004   ctx_0	set	4
  8741             00000008   data_0	set	8
  8742                        	.block	1409
  8743                        ;	PWINDOW     pWin = NULL;
  8744                        ;	PMENUANCHOR pMenuAnchor = NULL;
  8745                        ;	PFXSTRING   fxstr = NULL;
  8746                        ;	if(data)
  8747             00000000   pWin_1	set	0
  8748             00000004   pMenuAnchor_1	set	4
  8749             00000008   fxstr_1	set	8
  8750                        	.sym	pWin,0,138,1,32,27
  8751                        	.sym	pMenuAnchor,4,138,1,32,38
  8752                        	.sym	fxstr,8,138,1,32,50
  8753                        	.sym	ctx,4,129,6,32
  8754                        	.sym	data,8,129,6,32
  8755 04:2379: 64 09        	stz	<L365+pWin_1
  8756 04:237B: 64 0B        	stz	<L365+pWin_1+2
  8757 04:237D: 64 0D        	stz	<L365+pMenuAnchor_1
  8758 04:237F: 64 0F        	stz	<L365+pMenuAnchor_1+2
  Thu Dec  3 2020 22:25                                                Page 169


  8759 04:2381: 64 11        	stz	<L365+fxstr_1
  8760 04:2383: 64 13        	stz	<L365+fxstr_1+2
  8761                        	.line	1413
  8762                        ;	{
  8763 04:2385: A5 1C        	lda	<L364+data_0
  8764 04:2387: 05 1E        	ora	<L364+data_0+2
  8765 04:2389: D0 03        	bne	L367
  8766 04:238B: 82 96 00     	brl	L10087
  8767                        L367:
  8768                        	.line	1414
  8769                        ;		k_debug_strings("k_iterate_set_menu_stat
                    e:caption:",(LPCHAR)((PMENU)data)->pCaption) ;
  8770                        	.line	1415
  8771 04:238E: A0 11 00     	ldy	#$11
  8772 04:2391: B7 1C        	lda	[<L364+data_0],Y
  8773 04:2393: 48           	pha
  8774 04:2394: A0 0F 00     	ldy	#$f
  8775 04:2397: B7 1C        	lda	[<L364+data_0],Y
  8776 04:2399: 48           	pha
  8777 04:239A: F4 xx xx     	pea	#^L363
  8778 04:239D: F4 xx xx     	pea	#<L363
  8779 04:23A0: 22 xx xx xx  	jsl	~~k_debug_strings
  8780                        ;		k_debug_integer("k_iterate_set_menu_stat
                    e:itemid:",((PMENU)data)->itemId) ;
  8781                        	.line	1416
  8782 04:23A4: A0 0D 00     	ldy	#$d
  8783 04:23A7: B7 1C        	lda	[<L364+data_0],Y
  8784 04:23A9: 48           	pha
  8785 04:23AA: F4 xx xx     	pea	#^L363+34
  8786 04:23AD: F4 xx xx     	pea	#<L363+34
  8787 04:23B0: 22 xx xx xx  	jsl	~~k_debug_integer
  8788                        ;
  8789                        ;		if(ctx)
  8790                        	.line	1418
  8791                        ;		{
  8792 04:23B4: A5 18        	lda	<L364+ctx_0
  8793 04:23B6: 05 1A        	ora	<L364+ctx_0+2
  8794 04:23B8: D0 03        	bne	L368
  8795 04:23BA: 82 67 00     	brl	L10088
  8796                        L368:
  8797                        	.line	1419
  8798                        ;			k_debug_pointer("k_iterate_set_m
                    enu_state:ctx:",ctx) ;
  8799                        	.line	1420
  8800 04:23BD: D4 1A        	pei	<L364+ctx_0+2
  8801 04:23BF: D4 18        	pei	<L364+ctx_0
  8802 04:23C1: F4 xx xx     	pea	#^L363+67
  8803 04:23C4: F4 xx xx     	pea	#<L363+67
  8804 04:23C7: 22 xx xx xx  	jsl	~~k_debug_pointer
  8805                        ;
  8806                        ;			k_debug_integer("k_iterate_set_m
                    enu_state:ctx:id:",HIWORD((DWORD)ctx));
  8807                        	.line	1422
  8808 04:23CB: D4 1A        	pei	<L364+ctx_0+2
  8809 04:23CD: D4 18        	pei	<L364+ctx_0
  8810 04:23CF: A9 10 00     	lda	#$10
  8811                        	xref	~~~llsr
  8812 04:23D2: 22 xx xx xx  	jsl	~~~llsr
  Thu Dec  3 2020 22:25                                                Page 170


  8813 04:23D6: 85 01        	sta	<R0
  8814 04:23D8: 86 03        	stx	<R0+2
  8815 04:23DA: A5 01        	lda	<R0
  8816 04:23DC: 85 05        	sta	<R1
  8817 04:23DE: 64 07        	stz	<R1+2
  8818 04:23E0: D4 05        	pei	<R1
  8819 04:23E2: F4 xx xx     	pea	#^L363+97
  8820 04:23E5: F4 xx xx     	pea	#<L363+97
  8821 04:23E8: 22 xx xx xx  	jsl	~~k_debug_integer
  8822                        ;			k_debug_integer("k_iterate_set_m
                    enu_state:ctx:state:" ,LOWORD((DWORD)ctx));
  8823                        	.line	1423
  8824 04:23EC: D4 18        	pei	<L364+ctx_0
  8825 04:23EE: F4 xx xx     	pea	#^L363+130
  8826 04:23F1: F4 xx xx     	pea	#<L363+130
  8827 04:23F4: 22 xx xx xx  	jsl	~~k_debug_integer
  8828                        ;			if(((PMENU)data)->itemId == HIWO
                    RD((DWORD)ctx))
  8829                        	.line	1424
  8830                        ;			{
  8831 04:23F8: D4 1A        	pei	<L364+ctx_0+2
  8832 04:23FA: D4 18        	pei	<L364+ctx_0
  8833 04:23FC: A9 10 00     	lda	#$10
  8834                        	xref	~~~llsr
  8835 04:23FF: 22 xx xx xx  	jsl	~~~llsr
  8836 04:2403: 85 01        	sta	<R0
  8837 04:2405: 86 03        	stx	<R0+2
  8838 04:2407: A5 01        	lda	<R0
  8839 04:2409: 85 05        	sta	<R1
  8840 04:240B: 64 07        	stz	<R1+2
  8841 04:240D: A5 05        	lda	<R1
  8842 04:240F: A0 0D 00     	ldy	#$d
  8843 04:2412: D7 1C        	cmp	[<L364+data_0],Y
  8844 04:2414: F0 03        	beq	L369
  8845 04:2416: 82 0B 00     	brl	L10089
  8846                        L369:
  8847                        	.line	1425
  8848                        ;				((PMENU)data)->chromeLef
                    t = LOWORD((DWORD)ctx);
  8849                        	.line	1426
  8850 04:2419: E2 20        	sep	#$20
  8851                        	longa	off
  8852 04:241B: A5 18        	lda	<L364+ctx_0
  8853 04:241D: A0 0A 00     	ldy	#$a
  8854 04:2420: 97 1C        	sta	[<L364+data_0],Y
  8855 04:2422: C2 20        	rep	#$20
  8856                        	longa	on
  8857                        ;			}
  8858                        	.line	1427
  8859                        ;		}
  8860                        L10089:
  8861                        	.line	1428
  8862                        ;
  8863                        ;	}
  8864                        L10088:
  8865                        	.line	1430
  8866                        ;}
  8867                        L10087:
  Thu Dec  3 2020 22:25                                                Page 171


  8868                        	.line	1431
  8869                        L370:
  8870 04:2424: A5 16        	lda	<L364+2
  8871 04:2426: 85 1E        	sta	<L364+2+8
  8872 04:2428: A5 15        	lda	<L364+1
  8873 04:242A: 85 1D        	sta	<L364+1+8
  8874 04:242C: 2B           	pld
  8875 04:242D: 3B           	tsc
  8876 04:242E: 18           	clc
  8877 04:242F: 69 1C 00     	adc	#L364+8
  8878 04:2432: 1B           	tcs
  8879 04:2433: 6B           	rtl
  8880                        	.endblock	1431
  8881             00000014   L364	equ	20
  8882             00000009   L365	equ	9
  8883 04:2434:              	ends
  8884                        	efunc
  8885                        	.endfunc	1431,9,20
  8886                        	.line	1431
  8887                        	data
  8888                        L363:
  8889 00:05AB: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $73,$65,$74,$5F,$6D
       00:05AF: 65 72 61 74 
       00:05B3: 65 5F 73 65 
       00:05B7: 74 5F 6D 
  8890 00:05BA: 65 6E 75 5F  	db	$65,$6E,$75,$5F,$73,$74,$61,$74,$65,$3A,
                    $63,$61,$70,$74,$69
       00:05BE: 73 74 61 74 
       00:05C2: 65 3A 63 61 
       00:05C6: 70 74 69 
  8891 00:05C9: 6F 6E 3A 00  	db	$6F,$6E,$3A,$00,$6B,$5F,$69,$74,$65,$72,
                    $61,$74,$65,$5F,$73
       00:05CD: 6B 5F 69 74 
       00:05D1: 65 72 61 74 
       00:05D5: 65 5F 73 
  8892 00:05D8: 65 74 5F 6D  	db	$65,$74,$5F,$6D,$65,$6E,$75,$5F,$73,$74,
                    $61,$74,$65,$3A,$69
       00:05DC: 65 6E 75 5F 
       00:05E0: 73 74 61 74 
       00:05E4: 65 3A 69 
  8893 00:05E7: 74 65 6D 69  	db	$74,$65,$6D,$69,$64,$3A,$00,$6B,$5F,$69,
                    $74,$65,$72,$61,$74
       00:05EB: 64 3A 00 6B 
       00:05EF: 5F 69 74 65 
       00:05F3: 72 61 74 
  8894 00:05F6: 65 5F 73 65  	db	$65,$5F,$73,$65,$74,$5F,$6D,$65,$6E,$75,
                    $5F,$73,$74,$61,$74
       00:05FA: 74 5F 6D 65 
       00:05FE: 6E 75 5F 73 
       00:0602: 74 61 74 
  8895 00:0605: 65 3A 63 74  	db	$65,$3A,$63,$74,$78,$3A,$00,$6B,$5F,$69,
                    $74,$65,$72,$61,$74
       00:0609: 78 3A 00 6B 
       00:060D: 5F 69 74 65 
       00:0611: 72 61 74 
  8896 00:0614: 65 5F 73 65  	db	$65,$5F,$73,$65,$74,$5F,$6D,$65,$6E,$75,
                    $5F,$73,$74,$61,$74
  Thu Dec  3 2020 22:25                                                Page 172


       00:0618: 74 5F 6D 65 
       00:061C: 6E 75 5F 73 
       00:0620: 74 61 74 
  8897 00:0623: 65 3A 63 74  	db	$65,$3A,$63,$74,$78,$3A,$69,$64,$3A,$00,
                    $6B,$5F,$69,$74,$65
       00:0627: 78 3A 69 64 
       00:062B: 3A 00 6B 5F 
       00:062F: 69 74 65 
  8898 00:0632: 72 61 74 65  	db	$72,$61,$74,$65,$5F,$73,$65,$74,$5F,$6D,
                    $65,$6E,$75,$5F,$73
       00:0636: 5F 73 65 74 
       00:063A: 5F 6D 65 6E 
       00:063E: 75 5F 73 
  8899 00:0641: 74 61 74 65  	db	$74,$61,$74,$65,$3A,$63,$74,$78,$3A,$73,
                    $74,$61,$74,$65,$3A
       00:0645: 3A 63 74 78 
       00:0649: 3A 73 74 61 
       00:064D: 74 65 3A 
  8900 00:0650: 00           	db	$00
  8901 00:0651:              	ends
  8902                        ;
  8903                        ;void k_iterate_dropdown_menu_captions(LPVOID ctx,
                    LPVOID data)
  8904                        ;{
  8905                        	.line	1433
  8906                        	.line	1434
  8907                        	WINMAN
  8908                        	xdef	~~k_iterate_dropdown_menu_captions
  8909                        	func
  8910                        	.function	1434
  8911                        ~~k_iterate_dropdown_menu_captions:
  8912                        	longa	on
  8913                        	longi	on
  8914 04:2434: 3B           	tsc
  8915 04:2435: 38           	sec
  8916 04:2436: E9 22 00     	sbc	#L372
  8917 04:2439: 1B           	tcs
  8918 04:243A: 0B           	phd
  8919 04:243B: 5B           	tcd
  8920             00000004   ctx_0	set	4
  8921             00000008   data_0	set	8
  8922                        	.block	1434
  8923                        ;	PWINDOW     pWin = NULL;
  8924                        ;	PWINDOW     pItem = NULL;
  8925                        ;	PMENUANCHOR pMenuAnchor = NULL;
  8926                        ;	LPCSTR FAR*	captions;
  8927                        ;	LPCSTR 		caption;
  8928                        ;	UINT		i = 0;
  8929                        ;
  8930                        ;	if(data)
  8931             00000000   pWin_1	set	0
  8932             00000004   pItem_1	set	4
  8933             00000008   pMenuAnchor_1	set	8
  8934             0000000C   captions_1	set	12
  8935             00000010   caption_1	set	16
  8936             00000014   i_1	set	20
  8937                        	.sym	pWin,0,138,1,32,27
  8938                        	.sym	pItem,4,138,1,32,27
  Thu Dec  3 2020 22:25                                                Page 173


  8939                        	.sym	pMenuAnchor,8,138,1,32,38
  8940                        	.sym	captions,12,1166,1,32
  8941                        	.sym	caption,16,142,1,32
  8942                        	.sym	i,20,16,1,16
  8943                        	.sym	ctx,4,129,6,32
  8944                        	.sym	data,8,129,6,32
  8945 04:243C: 64 0D        	stz	<L373+pWin_1
  8946 04:243E: 64 0F        	stz	<L373+pWin_1+2
  8947 04:2440: 64 11        	stz	<L373+pItem_1
  8948 04:2442: 64 13        	stz	<L373+pItem_1+2
  8949 04:2444: 64 15        	stz	<L373+pMenuAnchor_1
  8950 04:2446: 64 17        	stz	<L373+pMenuAnchor_1+2
  8951 04:2448: 64 21        	stz	<L373+i_1
  8952                        	.line	1442
  8953                        ;	{
  8954 04:244A: A5 2A        	lda	<L372+data_0
  8955 04:244C: 05 2C        	ora	<L372+data_0+2
  8956 04:244E: D0 03        	bne	L375
  8957 04:2450: 82 C1 00     	brl	L10090
  8958                        L375:
  8959                        	.line	1443
  8960                        ;		k_debug_strings("k_iterate_dropdown_menu
                    s:",(LPCHAR)((PMENU)data)->pCaption) ;
  8961                        	.line	1444
  8962 04:2453: A0 11 00     	ldy	#$11
  8963 04:2456: B7 2A        	lda	[<L372+data_0],Y
  8964 04:2458: 48           	pha
  8965 04:2459: A0 0F 00     	ldy	#$f
  8966 04:245C: B7 2A        	lda	[<L372+data_0],Y
  8967 04:245E: 48           	pha
  8968 04:245F: F4 xx xx     	pea	#^L371
  8969 04:2462: F4 xx xx     	pea	#<L371
  8970 04:2465: 22 xx xx xx  	jsl	~~k_debug_strings
  8971                        ;
  8972                        ;		if(ctx)
  8973                        	.line	1446
  8974                        ;		{
  8975 04:2469: A5 26        	lda	<L372+ctx_0
  8976 04:246B: 05 28        	ora	<L372+ctx_0+2
  8977 04:246D: D0 03        	bne	L376
  8978 04:246F: 82 A2 00     	brl	L10091
  8979                        L376:
  8980                        	.line	1447
  8981                        ;			captions = (LPCSTR FAR*)ctx;
  8982                        	.line	1448
  8983 04:2472: A5 26        	lda	<L372+ctx_0
  8984 04:2474: 85 19        	sta	<L373+captions_1
  8985 04:2476: A5 28        	lda	<L372+ctx_0+2
  8986 04:2478: 85 1B        	sta	<L373+captions_1+2
  8987                        ;
  8988                        ;			while(captions[i])
  8989                        	.line	1450
  8990                        L10092:
  8991 04:247A: A5 21        	lda	<L373+i_1
  8992 04:247C: 85 05        	sta	<R1
  8993 04:247E: 64 07        	stz	<R1+2
  8994 04:2480: D4 07        	pei	<R1+2
  8995 04:2482: D4 05        	pei	<R1
  Thu Dec  3 2020 22:25                                                Page 174


  8996 04:2484: A9 02 00     	lda	#$2
  8997                        	xref	~~~lasl
  8998 04:2487: 22 xx xx xx  	jsl	~~~lasl
  8999 04:248B: 85 01        	sta	<R0
  9000 04:248D: 86 03        	stx	<R0+2
  9001 04:248F: 18           	clc
  9002 04:2490: A5 19        	lda	<L373+captions_1
  9003 04:2492: 65 01        	adc	<R0
  9004 04:2494: 85 09        	sta	<R2
  9005 04:2496: A5 1B        	lda	<L373+captions_1+2
  9006 04:2498: 65 03        	adc	<R0+2
  9007 04:249A: 85 0B        	sta	<R2+2
  9008 04:249C: A7 09        	lda	[<R2]
  9009 04:249E: A0 02 00     	ldy	#$2
  9010 04:24A1: 17 09        	ora	[<R2],Y
  9011 04:24A3: D0 03        	bne	L377
  9012 04:24A5: 82 05 00     	brl	L10093
  9013                        L377:
  9014                        ;			{
  9015                        	.line	1451
  9016                        ;				i++;
  9017                        	.line	1452
  9018 04:24A8: E6 21        	inc	<L373+i_1
  9019                        ;			}
  9020                        	.line	1453
  9021 04:24AA: 82 CD FF     	brl	L10092
  9022                        L10093:
  9023                        ;
  9024                        ;			captions[i] = (LPCSTR)((PMENU)da
                    ta)->pCaption;
  9025                        	.line	1455
  9026 04:24AD: A5 21        	lda	<L373+i_1
  9027 04:24AF: 85 05        	sta	<R1
  9028 04:24B1: 64 07        	stz	<R1+2
  9029 04:24B3: D4 07        	pei	<R1+2
  9030 04:24B5: D4 05        	pei	<R1
  9031 04:24B7: A9 02 00     	lda	#$2
  9032                        	xref	~~~lasl
  9033 04:24BA: 22 xx xx xx  	jsl	~~~lasl
  9034 04:24BE: 85 01        	sta	<R0
  9035 04:24C0: 86 03        	stx	<R0+2
  9036 04:24C2: 18           	clc
  9037 04:24C3: A5 19        	lda	<L373+captions_1
  9038 04:24C5: 65 01        	adc	<R0
  9039 04:24C7: 85 09        	sta	<R2
  9040 04:24C9: A5 1B        	lda	<L373+captions_1+2
  9041 04:24CB: 65 03        	adc	<R0+2
  9042 04:24CD: 85 0B        	sta	<R2+2
  9043 04:24CF: A0 0F 00     	ldy	#$f
  9044 04:24D2: B7 2A        	lda	[<L372+data_0],Y
  9045 04:24D4: 87 09        	sta	[<R2]
  9046 04:24D6: A0 11 00     	ldy	#$11
  9047 04:24D9: B7 2A        	lda	[<L372+data_0],Y
  9048 04:24DB: A0 02 00     	ldy	#$2
  9049 04:24DE: 97 09        	sta	[<R2],Y
  9050                        ;			captions[i+1] = NULL;
  9051                        	.line	1456
  9052 04:24E0: A5 21        	lda	<L373+i_1
  Thu Dec  3 2020 22:25                                                Page 175


  9053 04:24E2: 1A           	ina
  9054 04:24E3: 85 05        	sta	<R1
  9055 04:24E5: A5 05        	lda	<R1
  9056 04:24E7: 85 05        	sta	<R1
  9057 04:24E9: 64 07        	stz	<R1+2
  9058 04:24EB: D4 07        	pei	<R1+2
  9059 04:24ED: D4 05        	pei	<R1
  9060 04:24EF: A9 02 00     	lda	#$2
  9061                        	xref	~~~lasl
  9062 04:24F2: 22 xx xx xx  	jsl	~~~lasl
  9063 04:24F6: 85 01        	sta	<R0
  9064 04:24F8: 86 03        	stx	<R0+2
  9065 04:24FA: 18           	clc
  9066 04:24FB: A5 19        	lda	<L373+captions_1
  9067 04:24FD: 65 01        	adc	<R0
  9068 04:24FF: 85 09        	sta	<R2
  9069 04:2501: A5 1B        	lda	<L373+captions_1+2
  9070 04:2503: 65 03        	adc	<R0+2
  9071 04:2505: 85 0B        	sta	<R2+2
  9072 04:2507: A9 00 00     	lda	#$0
  9073 04:250A: 87 09        	sta	[<R2]
  9074 04:250C: A9 00 00     	lda	#$0
  9075 04:250F: A0 02 00     	ldy	#$2
  9076 04:2512: 97 09        	sta	[<R2],Y
  9077                        ;		}
  9078                        	.line	1457
  9079                        ;
  9080                        ;	}
  9081                        L10091:
  9082                        	.line	1459
  9083                        ;}
  9084                        L10090:
  9085                        	.line	1460
  9086                        L378:
  9087 04:2514: A5 24        	lda	<L372+2
  9088 04:2516: 85 2C        	sta	<L372+2+8
  9089 04:2518: A5 23        	lda	<L372+1
  9090 04:251A: 85 2B        	sta	<L372+1+8
  9091 04:251C: 2B           	pld
  9092 04:251D: 3B           	tsc
  9093 04:251E: 18           	clc
  9094 04:251F: 69 2A 00     	adc	#L372+8
  9095 04:2522: 1B           	tcs
  9096 04:2523: 6B           	rtl
  9097                        	.endblock	1460
  9098             00000022   L372	equ	34
  9099             0000000D   L373	equ	13
  9100 04:2524:              	ends
  9101                        	efunc
  9102                        	.endfunc	1460,13,34
  9103                        	.line	1460
  9104                        	data
  9105                        L371:
  9106 00:0651: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $64,$72,$6F,$70,$64
       00:0655: 65 72 61 74 
       00:0659: 65 5F 64 72 
       00:065D: 6F 70 64 
  Thu Dec  3 2020 22:25                                                Page 176


  9107 00:0660: 6F 77 6E 5F  	db	$6F,$77,$6E,$5F,$6D,$65,$6E,$75,$73,$3A,
                    $00
       00:0664: 6D 65 6E 75 
       00:0668: 73 3A 00 
  9108 00:066B:              	ends
  9109                        ;
  9110                        ;
  9111                        ;PWINDOW	k_user_CreateMenuAnchor(HWND hWndParent,
                    LPCSTR caption,HMENU hMenu,int x,int y,int width,int height)
  9112                        ;{
  9113                        	.line	1463
  9114                        	.line	1464
  9115                        	WINMAN
  9116                        	xdef	~~k_user_CreateMenuAnchor
  9117                        	func
  9118                        	.function	1464
  9119                        ~~k_user_CreateMenuAnchor:
  9120                        	longa	on
  9121                        	longi	on
  9122 04:2524: 3B           	tsc
  9123 04:2525: 38           	sec
  9124 04:2526: E9 0C 00     	sbc	#L380
  9125 04:2529: 1B           	tcs
  9126 04:252A: 0B           	phd
  9127 04:252B: 5B           	tcd
  9128             00000004   hWndParent_0	set	4
  9129             00000008   caption_0	set	8
  9130             0000000C   hMenu_0	set	12
  9131             00000010   x_0	set	16
  9132             00000012   y_0	set	18
  9133             00000014   width_0	set	20
  9134             00000016   height_0	set	22
  9135                        	.block	1464
  9136                        ;	PWINDOW pWin = NULL;
  9137                        ;
  9138                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","En
                    ter");
  9139                        ;
  9140                        ;	pWin = k_user_CreateWindow(FXWS_VISIBLE,
  9141             00000000   pWin_1	set	0
  9142                        	.sym	pWin,0,138,1,32,27
  9143                        	.sym	hWndParent,4,129,6,32
  9144                        	.sym	caption,8,142,6,32
  9145                        	.sym	hMenu,12,129,6,32
  9146                        	.sym	x,16,5,6,16
  9147                        	.sym	y,18,5,6,16
  9148                        	.sym	width,20,5,6,16
  9149                        	.sym	height,22,5,6,16
  9150 04:252C: 64 09        	stz	<L381+pWin_1
  9151 04:252E: 64 0B        	stz	<L381+pWin_1+2
  9152                        	.line	1469
  9153                        ;							
                       "menuAnchorWindowClass",
  9154                        ;							
                        caption,
  9155                        ;							
                    	x,y,
  9156                        ;							
  Thu Dec  3 2020 22:25                                                Page 177


                    	width,height,
  9157                        ;							
                    	hWndParent,
  9158                        ;							
                    	hMenu,
  9159                        ;							
                    	NULL);
  9160 04:2530: F4 00 00     	pea	#^$0
  9161 04:2533: F4 00 00     	pea	#<$0
  9162 04:2536: D4 1A        	pei	<L380+hMenu_0+2
  9163 04:2538: D4 18        	pei	<L380+hMenu_0
  9164 04:253A: D4 12        	pei	<L380+hWndParent_0+2
  9165 04:253C: D4 10        	pei	<L380+hWndParent_0
  9166 04:253E: D4 22        	pei	<L380+height_0
  9167 04:2540: D4 20        	pei	<L380+width_0
  9168 04:2542: D4 1E        	pei	<L380+y_0
  9169 04:2544: D4 1C        	pei	<L380+x_0
  9170 04:2546: D4 16        	pei	<L380+caption_0+2
  9171 04:2548: D4 14        	pei	<L380+caption_0
  9172 04:254A: F4 xx xx     	pea	#^L379
  9173 04:254D: F4 xx xx     	pea	#<L379
  9174 04:2550: F4 00 00     	pea	#^$1
  9175 04:2553: F4 01 00     	pea	#<$1
  9176 04:2556: 22 08 14 04  	jsl	~~k_user_CreateWindow
  9177 04:255A: 85 09        	sta	<L381+pWin_1
  9178 04:255C: 86 0B        	stx	<L381+pWin_1+2
  9179                        ;	if(pWin)
  9180                        	.line	1477
  9181                        ;	{
  9182 04:255E: A5 09        	lda	<L381+pWin_1
  9183 04:2560: 05 0B        	ora	<L381+pWin_1+2
  9184 04:2562: D0 03        	bne	L383
  9185 04:2564: 82 4F 00     	brl	L10094
  9186                        L383:
  9187                        	.line	1478
  9188                        ;
  9189                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);
  9190                        ;
  9191                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
  9192                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
  9193                        	.line	1483
  9194 04:2567: F4 00 00     	pea	#<$0
  9195 04:256A: F4 00 00     	pea	#^$0
  9196 04:256D: F4 00 00     	pea	#<$0
  9197 04:2570: F4 03 FF     	pea	#<$ff03
  9198 04:2573: D4 0B        	pei	<L381+pWin_1+2
  9199 04:2575: D4 09        	pei	<L381+pWin_1
  9200 04:2577: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  9201 04:257B: 85 01        	sta	<R0
  9202 04:257D: 86 03        	stx	<R0+2
  9203 04:257F: DA           	phx
  9204 04:2580: 48           	pha
  9205 04:2581: 22 xx xx xx  	jsl	~~k_send_window_message
  9206                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_command_message");
  Thu Dec  3 2020 22:25                                                Page 178


  9207                        ;		k_send_command_message(k_getHandleFromWi
                    ndow(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_str
                    ing_copy_string(caption),0L);
  9208                        	.line	1485
  9209 04:2585: F4 00 00     	pea	#^$0
  9210 04:2588: F4 00 00     	pea	#<$0
  9211 04:258B: D4 16        	pei	<L380+caption_0+2
  9212 04:258D: D4 14        	pei	<L380+caption_0
  9213 04:258F: 22 xx xx xx  	jsl	~~k_string_copy_string
  9214 04:2593: 85 01        	sta	<R0
  9215 04:2595: 86 03        	stx	<R0+2
  9216 04:2597: D4 03        	pei	<R0+2
  9217 04:2599: D4 01        	pei	<R0
  9218 04:259B: F4 00 00     	pea	#<$0
  9219 04:259E: F4 01 00     	pea	#<$1
  9220 04:25A1: F4 00 FA     	pea	#<$fa00
  9221 04:25A4: D4 0B        	pei	<L381+pWin_1+2
  9222 04:25A6: D4 09        	pei	<L381+pWin_1
  9223 04:25A8: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
  9224 04:25AC: 85 05        	sta	<R1
  9225 04:25AE: 86 07        	stx	<R1+2
  9226 04:25B0: DA           	phx
  9227 04:25B1: 48           	pha
  9228 04:25B2: 22 xx xx xx  	jsl	~~k_send_command_message
  9229                        ;
  9230                        ;	}
  9231                        	.line	1487
  9232                        ;
  9233                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","Ex
                    it");
  9234                        ;
  9235                        ;	return pWin;
  9236                        L10094:
  9237                        	.line	1491
  9238 04:25B6: A6 0B        	ldx	<L381+pWin_1+2
  9239 04:25B8: A5 09        	lda	<L381+pWin_1
  9240                        L384:
  9241 04:25BA: A8           	tay
  9242 04:25BB: A5 0E        	lda	<L380+2
  9243 04:25BD: 85 22        	sta	<L380+2+20
  9244 04:25BF: A5 0D        	lda	<L380+1
  9245 04:25C1: 85 21        	sta	<L380+1+20
  9246 04:25C3: 2B           	pld
  9247 04:25C4: 3B           	tsc
  9248 04:25C5: 18           	clc
  9249 04:25C6: 69 20 00     	adc	#L380+20
  9250 04:25C9: 1B           	tcs
  9251 04:25CA: 98           	tya
  9252 04:25CB: 6B           	rtl
  9253                        ;}
  9254                        	.line	1492
  9255                        	.endblock	1492
  9256             0000000C   L380	equ	12
  9257             00000009   L381	equ	9
  9258 04:25CC:              	ends
  9259                        	efunc
  9260                        	.endfunc	1492,9,12
  9261                        	.line	1492
  Thu Dec  3 2020 22:25                                                Page 179


  9262                        	data
  9263                        L379:
  9264 00:066B: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,
                    $57,$69,$6E,$64,$6F
       00:066F: 41 6E 63 68 
       00:0673: 6F 72 57 69 
       00:0677: 6E 64 6F 
  9265 00:067A: 77 43 6C 61  	db	$77,$43,$6C,$61,$73,$73,$00
       00:067E: 73 73 00 
  9266 00:0681:              	ends
  9267                        ;
  9268                        ;BOOL menuAnchorWindowProc(PFXOSMESSAGE pMsg)
  9269                        ;{
  9270                        	.line	1494
  9271                        	.line	1495
  9272                        	WINMAN
  9273                        	xdef	~~menuAnchorWindowProc
  9274                        	func
  9275                        	.function	1495
  9276                        ~~menuAnchorWindowProc:
  9277                        	longa	on
  9278                        	longi	on
  9279 04:25CC: 3B           	tsc
  9280 04:25CD: 38           	sec
  9281 04:25CE: E9 16 00     	sbc	#L386
  9282 04:25D1: 1B           	tcs
  9283 04:25D2: 0B           	phd
  9284 04:25D3: 5B           	tcd
  9285             00000004   pMsg_0	set	4
  9286                        	.block	1495
  9287                        ;	PFXPROCESS p = NULL;
  9288                        ;	PWINDOW	   pWin = NULL;
  9289                        ;	PMENUANCHOR	   pMenuAnchor = NULL;
  9290                        ;
  9291                        ;	UINT	   size = 0;
  9292                        ;
  9293                        ;	if(pMsg!=NULL)
  9294             00000000   p_1	set	0
  9295             00000004   pWin_1	set	4
  9296             00000008   pMenuAnchor_1	set	8
  9297             0000000C   size_1	set	12
  9298                        	.sym	p,0,138,1,32,17
  9299                        	.sym	pWin,4,138,1,32,27
  9300                        	.sym	pMenuAnchor,8,138,1,32,38
  9301                        	.sym	size,12,16,1,16
  9302                        	.sym	pMsg,4,138,6,32,13
  9303 04:25D4: 64 09        	stz	<L387+p_1
  9304 04:25D6: 64 0B        	stz	<L387+p_1+2
  9305 04:25D8: 64 0D        	stz	<L387+pWin_1
  9306 04:25DA: 64 0F        	stz	<L387+pWin_1+2
  9307 04:25DC: 64 11        	stz	<L387+pMenuAnchor_1
  9308 04:25DE: 64 13        	stz	<L387+pMenuAnchor_1+2
  9309 04:25E0: 64 15        	stz	<L387+size_1
  9310                        	.line	1502
  9311                        ;	{
  9312 04:25E2: A5 1A        	lda	<L386+pMsg_0
  9313 04:25E4: 05 1C        	ora	<L386+pMsg_0+2
  9314 04:25E6: D0 03        	bne	L389
  Thu Dec  3 2020 22:25                                                Page 180


  9315 04:25E8: 82 87 02     	brl	L10095
  9316                        L389:
  9317                        	.line	1503
  9318                        ;		p = k_exec_get_current_process();
  9319                        	.line	1504
  9320 04:25EB: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  9321 04:25EF: 85 09        	sta	<L387+p_1
  9322 04:25F1: 86 0B        	stx	<L387+p_1+2
  9323                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  9324                        	.line	1505
  9325 04:25F3: A0 0C 00     	ldy	#$c
  9326 04:25F6: B7 1A        	lda	[<L386+pMsg_0],Y
  9327 04:25F8: 48           	pha
  9328 04:25F9: A0 0A 00     	ldy	#$a
  9329 04:25FC: B7 1A        	lda	[<L386+pMsg_0],Y
  9330 04:25FE: 48           	pha
  9331 04:25FF: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
  9332 04:2603: 85 0D        	sta	<L387+pWin_1
  9333 04:2605: 86 0F        	stx	<L387+pWin_1+2
  9334                        ;		pMenuAnchor = (PMENUANCHOR)pWin->windowD
                    ata;
  9335                        	.line	1506
  9336 04:2607: A0 41 01     	ldy	#$141
  9337 04:260A: B7 0D        	lda	[<L387+pWin_1],Y
  9338 04:260C: 85 11        	sta	<L387+pMenuAnchor_1
  9339 04:260E: A0 43 01     	ldy	#$143
  9340 04:2611: B7 0D        	lda	[<L387+pWin_1],Y
  9341 04:2613: 85 13        	sta	<L387+pMenuAnchor_1+2
  9342                        ;		//pButton = ((PBUTTON)pWin->windowData);
  9343                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  9344                        ;
  9345                        ;		switch(pMsg->type)
  9346                        	.line	1510
  9347 04:2615: A0 08 00     	ldy	#$8
  9348 04:2618: B7 1A        	lda	[<L386+pMsg_0],Y
  9349 04:261A: 82 25 02     	brl	L10096
  9350                        ;		{
  9351                        	.line	1511
  9352                        ;		case FX_CREATE_WINDOW:
  9353                        	.line	1512
  9354                        L10098:
  9355                        ;			//k_debug_long("menuAnchorWindow
                    Proc::ProcessId:",p->procId);
  9356                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_CREATE_WINDOW\r\n");
  9357                        	.line	1514
  9358 04:261D: F4 xx xx     	pea	#^L385
  9359 04:2620: F4 xx xx     	pea	#<L385
  9360 04:2623: 22 xx xx xx  	jsl	~~k_debug_string
  9361                        ;
  9362                        ;			//pWin->windowData = k_mem_alloc
                    ate_heap(sizeof(BUTTON));
  9363                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(MENUANCHOR));
  9364                        	.line	1517
  9365 04:2627: F4 12 00     	pea	#<$12
  Thu Dec  3 2020 22:25                                                Page 181


  9366 04:262A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9367 04:262E: 85 01        	sta	<R0
  9368 04:2630: 86 03        	stx	<R0+2
  9369 04:2632: A5 01        	lda	<R0
  9370 04:2634: A0 41 01     	ldy	#$141
  9371 04:2637: 97 0D        	sta	[<L387+pWin_1],Y
  9372 04:2639: A5 03        	lda	<R0+2
  9373 04:263B: A0 43 01     	ldy	#$143
  9374 04:263E: 97 0D        	sta	[<L387+pWin_1],Y
  9375                        ;			(pMenuAnchor)->renderLayoutX = p
                    Win->win_x + FONTW;
  9376                        	.line	1518
  9377 04:2640: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  9378 04:2644: 85 01        	sta	<R0
  9379 04:2646: 18           	clc
  9380 04:2647: A5 01        	lda	<R0
  9381 04:2649: A0 08 00     	ldy	#$8
  9382 04:264C: 77 0D        	adc	[<L387+pWin_1],Y
  9383 04:264E: A0 04 00     	ldy	#$4
  9384 04:2651: 97 11        	sta	[<L387+pMenuAnchor_1],Y
  9385                        ;			(pMenuAnchor)->renderLayoutY = p
                    Win->win_y + FONTH;
  9386                        	.line	1519
  9387 04:2653: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  9388 04:2657: 85 01        	sta	<R0
  9389 04:2659: 18           	clc
  9390 04:265A: A5 01        	lda	<R0
  9391 04:265C: A0 0A 00     	ldy	#$a
  9392 04:265F: 77 0D        	adc	[<L387+pWin_1],Y
  9393 04:2661: A0 06 00     	ldy	#$6
  9394 04:2664: 97 11        	sta	[<L387+pMenuAnchor_1],Y
  9395                        ;
  9396                        ;			break;
  9397                        	.line	1521
  9398 04:2666: 82 09 02     	brl	L10097
  9399                        ;		case FX_REDRAW_WINDOW:
  9400                        	.line	1522
  9401                        L10099:
  9402                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_REDRAW_WINDOW\r\n");
  9403                        	.line	1523
  9404 04:2669: F4 xx xx     	pea	#^L385+41
  9405 04:266C: F4 xx xx     	pea	#<L385+41
  9406 04:266F: 22 xx xx xx  	jsl	~~k_debug_string
  9407                        ;			break;
  9408                        	.line	1524
  9409 04:2673: 82 FC 01     	brl	L10097
  9410                        ;
  9411                        ;		case FX_HIDE_WINDOW:
  9412                        	.line	1526
  9413                        L10100:
  9414                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_HIDE_WINDOW\r\n");
  9415                        	.line	1527
  9416 04:2676: F4 xx xx     	pea	#^L385+82
  9417 04:2679: F4 xx xx     	pea	#<L385+82
  9418 04:267C: 22 xx xx xx  	jsl	~~k_debug_string
  9419                        ;
  Thu Dec  3 2020 22:25                                                Page 182


  9420                        ;			pWin->isVisible = FALSE;
  9421                        	.line	1529
  9422 04:2680: E2 20        	sep	#$20
  9423                        	longa	off
  9424 04:2682: A9 00        	lda	#$0
  9425 04:2684: A0 40 01     	ldy	#$140
  9426 04:2687: 97 0D        	sta	[<L387+pWin_1],Y
  9427 04:2689: C2 20        	rep	#$20
  9428                        	longa	on
  9429                        ;
  9430                        ;			break;
  9431                        	.line	1531
  9432 04:268B: 82 E4 01     	brl	L10097
  9433                        ;		case FX_SHOW_WINDOW:
  9434                        	.line	1532
  9435                        L10101:
  9436                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_SHOW_WINDOW\r\n");
  9437                        	.line	1533
  9438 04:268E: F4 xx xx     	pea	#^L385+121
  9439 04:2691: F4 xx xx     	pea	#<L385+121
  9440 04:2694: 22 xx xx xx  	jsl	~~k_debug_string
  9441                        ;
  9442                        ;			pWin->isVisible = TRUE;
  9443                        	.line	1535
  9444 04:2698: E2 20        	sep	#$20
  9445                        	longa	off
  9446 04:269A: A9 01        	lda	#$1
  9447 04:269C: A0 40 01     	ldy	#$140
  9448 04:269F: 97 0D        	sta	[<L387+pWin_1],Y
  9449 04:26A1: C2 20        	rep	#$20
  9450                        	longa	on
  9451                        ;			k_func_drawAnchorText(pWin,k_get
                    UIGadgetColor(),k_getUIMenuColor());
  9452                        	.line	1536
  9453 04:26A3: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9454 04:26A7: 48           	pha
  9455 04:26A8: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9456 04:26AC: 48           	pha
  9457 04:26AD: D4 0F        	pei	<L387+pWin_1+2
  9458 04:26AF: D4 0D        	pei	<L387+pWin_1
  9459 04:26B1: 22 87 28 04  	jsl	~~k_func_drawAnchorText
  9460                        ;
  9461                        ;			break;
  9462                        	.line	1538
  9463 04:26B5: 82 BA 01     	brl	L10097
  9464                        ;		case FX_DRAW_WINDOW:
  9465                        	.line	1539
  9466                        L10102:
  9467                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_DRAW_WINDOW\r\n");
  9468                        	.line	1540
  9469 04:26B8: F4 xx xx     	pea	#^L385+160
  9470 04:26BB: F4 xx xx     	pea	#<L385+160
  9471 04:26BE: 22 xx xx xx  	jsl	~~k_debug_string
  9472                        ;			if(pWin->isVisible)
  9473                        	.line	1541
  9474                        ;			{
  Thu Dec  3 2020 22:25                                                Page 183


  9475 04:26C2: A0 40 01     	ldy	#$140
  9476 04:26C5: B7 0D        	lda	[<L387+pWin_1],Y
  9477 04:26C7: 29 FF 00     	and	#$ff
  9478 04:26CA: D0 03        	bne	L390
  9479 04:26CC: 82 12 00     	brl	L10103
  9480                        L390:
  9481                        	.line	1542
  9482                        ;				k_func_drawAnchorText(pW
                    in,k_getUIGadgetColor(),k_getUIMenuColor());
  9483                        	.line	1543
  9484 04:26CF: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9485 04:26D3: 48           	pha
  9486 04:26D4: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9487 04:26D8: 48           	pha
  9488 04:26D9: D4 0F        	pei	<L387+pWin_1+2
  9489 04:26DB: D4 0D        	pei	<L387+pWin_1
  9490 04:26DD: 22 87 28 04  	jsl	~~k_func_drawAnchorText
  9491                        ;			}
  9492                        	.line	1544
  9493                        ;
  9494                        ;			break;
  9495                        L10103:
  9496                        	.line	1546
  9497 04:26E1: 82 8E 01     	brl	L10097
  9498                        ;		case FX_LBUTTON_DOWN:
  9499                        	.line	1547
  9500                        L10104:
  9501                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_LBUTTON_DOWN\r\n");
  9502                        	.line	1548
  9503 04:26E4: F4 xx xx     	pea	#^L385+199
  9504 04:26E7: F4 xx xx     	pea	#<L385+199
  9505 04:26EA: 22 xx xx xx  	jsl	~~k_debug_string
  9506                        ;
  9507                        ;
  9508                        ;			if(pMenuAnchor->droppedWindow &&
                     !pMenuAnchor->droppedWindow->isClosed)
  9509                        	.line	1551
  9510                        ;			{
  9511 04:26EE: A0 0E 00     	ldy	#$e
  9512 04:26F1: B7 11        	lda	[<L387+pMenuAnchor_1],Y
  9513 04:26F3: A0 10 00     	ldy	#$10
  9514 04:26F6: 17 11        	ora	[<L387+pMenuAnchor_1],Y
  9515 04:26F8: D0 03        	bne	L391
  9516 04:26FA: 82 28 00     	brl	L10105
  9517                        L391:
  9518 04:26FD: A0 0E 00     	ldy	#$e
  9519 04:2700: B7 11        	lda	[<L387+pMenuAnchor_1],Y
  9520 04:2702: 85 01        	sta	<R0
  9521 04:2704: A0 10 00     	ldy	#$10
  9522 04:2707: B7 11        	lda	[<L387+pMenuAnchor_1],Y
  9523 04:2709: 85 03        	sta	<R0+2
  9524 04:270B: A0 5D 01     	ldy	#$15d
  9525 04:270E: B7 01        	lda	[<R0],Y
  9526 04:2710: 29 FF 00     	and	#$ff
  9527 04:2713: F0 03        	beq	L392
  9528 04:2715: 82 0D 00     	brl	L10105
  9529                        L392:
  Thu Dec  3 2020 22:25                                                Page 184


  9530                        	.line	1552
  9531                        ;
  9532                        ;				k_debug_string("menuAnch
                    orWindowProc::WINDOW STILL DROPPED\r\n");
  9533                        	.line	1554
  9534 04:2718: F4 xx xx     	pea	#^L385+239
  9535 04:271B: F4 xx xx     	pea	#<L385+239
  9536 04:271E: 22 xx xx xx  	jsl	~~k_debug_string
  9537                        ;			}
  9538                        	.line	1555
  9539                        ;			else
  9540 04:2722: 82 63 00     	brl	L10106
  9541                        L10105:
  9542                        ;			{
  9543                        	.line	1557
  9544                        ;				pMenuAnchor->droppedWind
                    ow =
  9545                        	.line	1558
  9546                        ;				k_user_CreateMenuDropDow
                    n(k_user_getDesktopWindow(),
  9547                        ;							
                    			  ((PMENU)pWin->hMenu)->pCaption,
  9548                        ;							
                    			  (PMENU)pWin->hMenu,
  9549                        ;							
                    			  pWin->win_x,
  9550                        ;							
                    			  pWin->win_y + pWin->win_height + 1,
  9551                        ;							
                    			  -1,-1);
  9552 04:2725: F4 FF FF     	pea	#<$ffffffff
  9553 04:2728: F4 FF FF     	pea	#<$ffffffff
  9554 04:272B: 18           	clc
  9555 04:272C: A0 0A 00     	ldy	#$a
  9556 04:272F: B7 0D        	lda	[<L387+pWin_1],Y
  9557 04:2731: A0 0E 00     	ldy	#$e
  9558 04:2734: 77 0D        	adc	[<L387+pWin_1],Y
  9559 04:2736: 85 01        	sta	<R0
  9560 04:2738: A5 01        	lda	<R0
  9561 04:273A: 1A           	ina
  9562 04:273B: 48           	pha
  9563 04:273C: A0 08 00     	ldy	#$8
  9564 04:273F: B7 0D        	lda	[<L387+pWin_1],Y
  9565 04:2741: 48           	pha
  9566 04:2742: A0 36 01     	ldy	#$136
  9567 04:2745: B7 0D        	lda	[<L387+pWin_1],Y
  9568 04:2747: 48           	pha
  9569 04:2748: A0 34 01     	ldy	#$134
  9570 04:274B: B7 0D        	lda	[<L387+pWin_1],Y
  9571 04:274D: 48           	pha
  9572 04:274E: A0 34 01     	ldy	#$134
  9573 04:2751: B7 0D        	lda	[<L387+pWin_1],Y
  9574 04:2753: 85 01        	sta	<R0
  9575 04:2755: A0 36 01     	ldy	#$136
  9576 04:2758: B7 0D        	lda	[<L387+pWin_1],Y
  9577 04:275A: 85 03        	sta	<R0+2
  9578 04:275C: A0 11 00     	ldy	#$11
  9579 04:275F: B7 01        	lda	[<R0],Y
  Thu Dec  3 2020 22:25                                                Page 185


  9580 04:2761: 48           	pha
  9581 04:2762: A0 0F 00     	ldy	#$f
  9582 04:2765: B7 01        	lda	[<R0],Y
  9583 04:2767: 48           	pha
  9584 04:2768: 22 D8 05 04  	jsl	~~k_user_getDesktopWindow
  9585 04:276C: 85 01        	sta	<R0
  9586 04:276E: 86 03        	stx	<R0+2
  9587 04:2770: DA           	phx
  9588 04:2771: 48           	pha
  9589 04:2772: 22 6A 2B 04  	jsl	~~k_user_CreateMenuDropDown
  9590 04:2776: 85 05        	sta	<R1
  9591 04:2778: 86 07        	stx	<R1+2
  9592 04:277A: A5 05        	lda	<R1
  9593 04:277C: A0 0E 00     	ldy	#$e
  9594 04:277F: 97 11        	sta	[<L387+pMenuAnchor_1],Y
  9595 04:2781: A5 07        	lda	<R1+2
  9596 04:2783: A0 10 00     	ldy	#$10
  9597 04:2786: 97 11        	sta	[<L387+pMenuAnchor_1],Y
  9598                        ;			}
  9599                        	.line	1565
  9600                        L10106:
  9601                        ;			break;
  9602                        	.line	1566
  9603 04:2788: 82 E7 00     	brl	L10097
  9604                        ;		case FX_LBUTTON_UP:
  9605                        	.line	1567
  9606                        L10107:
  9607                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_LBUTTON_UP\r\n");
  9608                        	.line	1568
  9609 04:278B: F4 xx xx     	pea	#^L385+284
  9610 04:278E: F4 xx xx     	pea	#<L385+284
  9611 04:2791: 22 xx xx xx  	jsl	~~k_debug_string
  9612                        ;			break;
  9613                        	.line	1569
  9614 04:2795: 82 DA 00     	brl	L10097
  9615                        ;		case FX_MOUSE_ENTER:
  9616                        	.line	1570
  9617                        L10108:
  9618                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_MOUSE_ENTER\r\n");
  9619                        	.line	1571
  9620 04:2798: F4 xx xx     	pea	#^L385+322
  9621 04:279B: F4 xx xx     	pea	#<L385+322
  9622 04:279E: 22 xx xx xx  	jsl	~~k_debug_string
  9623                        ;			k_func_drawAnchorText(pWin,k_get
                    UIMenuColor(),k_getUIGadgetColor());
  9624                        	.line	1572
  9625 04:27A2: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9626 04:27A6: 48           	pha
  9627 04:27A7: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9628 04:27AB: 48           	pha
  9629 04:27AC: D4 0F        	pei	<L387+pWin_1+2
  9630 04:27AE: D4 0D        	pei	<L387+pWin_1
  9631 04:27B0: 22 87 28 04  	jsl	~~k_func_drawAnchorText
  9632                        ;
  9633                        ;			break;
  9634                        	.line	1574
  Thu Dec  3 2020 22:25                                                Page 186


  9635 04:27B4: 82 BB 00     	brl	L10097
  9636                        ;		case FX_MOUSE_EXIT:
  9637                        	.line	1575
  9638                        L10109:
  9639                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_MOUSE_EXIT\r\n");
  9640                        	.line	1576
  9641 04:27B7: F4 xx xx     	pea	#^L385+361
  9642 04:27BA: F4 xx xx     	pea	#<L385+361
  9643 04:27BD: 22 xx xx xx  	jsl	~~k_debug_string
  9644                        ;			k_func_drawAnchorText(pWin,k_get
                    UIGadgetColor(),k_getUIMenuColor());
  9645                        	.line	1577
  9646 04:27C1: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9647 04:27C5: 48           	pha
  9648 04:27C6: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9649 04:27CA: 48           	pha
  9650 04:27CB: D4 0F        	pei	<L387+pWin_1+2
  9651 04:27CD: D4 0D        	pei	<L387+pWin_1
  9652 04:27CF: 22 87 28 04  	jsl	~~k_func_drawAnchorText
  9653                        ;			break;
  9654                        	.line	1578
  9655 04:27D3: 82 9C 00     	brl	L10097
  9656                        ;		case FX_CONTROL_COMMAND:
  9657                        	.line	1579
  9658                        L10110:
  9659                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_CONTROL_COMMAND\r\n");
  9660                        	.line	1580
  9661 04:27D6: F4 xx xx     	pea	#^L385+399
  9662 04:27D9: F4 xx xx     	pea	#<L385+399
  9663 04:27DC: 22 xx xx xx  	jsl	~~k_debug_string
  9664                        ;
  9665                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_CMD_CAPTION )
  9666                        	.line	1582
  9667                        ;			{
  9668 04:27E0: A0 16 00     	ldy	#$16
  9669 04:27E3: B7 1A        	lda	[<L386+pMsg_0],Y
  9670 04:27E5: C9 01 00     	cmp	#<$1
  9671 04:27E8: F0 03        	beq	L393
  9672 04:27EA: 82 4F 00     	brl	L10111
  9673                        L393:
  9674                        	.line	1583
  9675                        ;				pMenuAnchor->pCaption = 
                    (LPCHAR)((PFXCMDMESSAGE)pMsg)->parameter1;
  9676                        	.line	1584
  9677 04:27ED: A0 1A 00     	ldy	#$1a
  9678 04:27F0: B7 1A        	lda	[<L386+pMsg_0],Y
  9679 04:27F2: 87 11        	sta	[<L387+pMenuAnchor_1]
  9680 04:27F4: A0 1C 00     	ldy	#$1c
  9681 04:27F7: B7 1A        	lda	[<L386+pMsg_0],Y
  9682 04:27F9: A0 02 00     	ldy	#$2
  9683 04:27FC: 97 11        	sta	[<L387+pMenuAnchor_1],Y
  9684                        ;
  9685                        ;				if(pMenuAnchor->pCaption
                     && pWin->isVisible)
  9686                        	.line	1586
  Thu Dec  3 2020 22:25                                                Page 187


  9687                        ;				{
  9688 04:27FE: A7 11        	lda	[<L387+pMenuAnchor_1]
  9689 04:2800: A0 02 00     	ldy	#$2
  9690 04:2803: 17 11        	ora	[<L387+pMenuAnchor_1],Y
  9691 04:2805: D0 03        	bne	L394
  9692 04:2807: 82 32 00     	brl	L10112
  9693                        L394:
  9694 04:280A: A0 40 01     	ldy	#$140
  9695 04:280D: B7 0D        	lda	[<L387+pWin_1],Y
  9696 04:280F: 29 FF 00     	and	#$ff
  9697 04:2812: D0 03        	bne	L395
  9698 04:2814: 82 25 00     	brl	L10112
  9699                        L395:
  9700                        	.line	1587
  9701                        ;					k_debug_strings(
                    "menuAnchorWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pMenuAncho
                    r->pCaption );
  9702                        	.line	1588
  9703 04:2817: A0 02 00     	ldy	#$2
  9704 04:281A: B7 11        	lda	[<L387+pMenuAnchor_1],Y
  9705 04:281C: 48           	pha
  9706 04:281D: A7 11        	lda	[<L387+pMenuAnchor_1]
  9707 04:281F: 48           	pha
  9708 04:2820: F4 xx xx     	pea	#^L385+442
  9709 04:2823: F4 xx xx     	pea	#<L385+442
  9710 04:2826: 22 xx xx xx  	jsl	~~k_debug_strings
  9711                        ;					k_func_drawAncho
                    rText(pWin,k_getUIGadgetColor(),k_getUIMenuColor());
  9712                        	.line	1589
  9713 04:282A: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9714 04:282E: 48           	pha
  9715 04:282F: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9716 04:2833: 48           	pha
  9717 04:2834: D4 0F        	pei	<L387+pWin_1+2
  9718 04:2836: D4 0D        	pei	<L387+pWin_1
  9719 04:2838: 22 87 28 04  	jsl	~~k_func_drawAnchorText
  9720                        ;				}
  9721                        	.line	1590
  9722                        ;			}
  9723                        L10112:
  9724                        	.line	1591
  9725                        ;
  9726                        ;			break;
  9727                        L10111:
  9728                        	.line	1593
  9729 04:283C: 82 33 00     	brl	L10097
  9730                        ;		default:
  9731                        	.line	1594
  9732                        L10113:
  9733                        ;			break;
  9734                        	.line	1595
  9735 04:283F: 82 30 00     	brl	L10097
  9736                        ;		}
  9737                        	.line	1596
  9738                        L10096:
  9739                        	xref	~~~swt
  9740 04:2842: 22 xx xx xx  	jsl	~~~swt
  9741 04:2846: 0A 00        	dw	10
  Thu Dec  3 2020 22:25                                                Page 188


  9742 04:2848: 01 0F        	dw	3841
  9743 04:284A: 97 27        	dw	L10108-1
  9744 04:284C: 02 0F        	dw	3842
  9745 04:284E: B6 27        	dw	L10109-1
  9746 04:2850: 04 0F        	dw	3844
  9747 04:2852: E3 26        	dw	L10104-1
  9748 04:2854: 06 0F        	dw	3846
  9749 04:2856: 8A 27        	dw	L10107-1
  9750 04:2858: 00 FA        	dw	64000
  9751 04:285A: D5 27        	dw	L10110-1
  9752 04:285C: 00 FB        	dw	64256
  9753 04:285E: B7 26        	dw	L10102-1
  9754 04:2860: 05 FB        	dw	64261
  9755 04:2862: 8D 26        	dw	L10101-1
  9756 04:2864: 06 FB        	dw	64262
  9757 04:2866: 75 26        	dw	L10100-1
  9758 04:2868: 07 FB        	dw	64263
  9759 04:286A: 68 26        	dw	L10099-1
  9760 04:286C: 03 FF        	dw	65283
  9761 04:286E: 1C 26        	dw	L10098-1
  9762 04:2870: 3E 28        	dw	L10113-1
  9763                        L10097:
  9764                        ;	}
  9765                        	.line	1597
  9766                        ;
  9767                        ;	return TRUE;
  9768                        L10095:
  9769                        	.line	1599
  9770 04:2872: A9 01 00     	lda	#$1
  9771                        L396:
  9772 04:2875: A8           	tay
  9773 04:2876: A5 18        	lda	<L386+2
  9774 04:2878: 85 1C        	sta	<L386+2+4
  9775 04:287A: A5 17        	lda	<L386+1
  9776 04:287C: 85 1B        	sta	<L386+1+4
  9777 04:287E: 2B           	pld
  9778 04:287F: 3B           	tsc
  9779 04:2880: 18           	clc
  9780 04:2881: 69 1A 00     	adc	#L386+4
  9781 04:2884: 1B           	tcs
  9782 04:2885: 98           	tya
  9783 04:2886: 6B           	rtl
  9784                        ;
  9785                        ;}
  9786                        	.line	1601
  9787                        	.endblock	1601
  9788             00000016   L386	equ	22
  9789             00000009   L387	equ	9
  9790 04:2887:              	ends
  9791                        	efunc
  9792                        	.endfunc	1601,9,22
  9793                        	.line	1601
  9794                        	data
  9795                        L385:
  9796 00:0681: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,
                    $57,$69,$6E,$64,$6F
       00:0685: 41 6E 63 68 
       00:0689: 6F 72 57 69 
  Thu Dec  3 2020 22:25                                                Page 189


       00:068D: 6E 64 6F 
  9797 00:0690: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $43,$52,$45,$41,$54
       00:0694: 63 3A 3A 46 
       00:0698: 58 5F 43 52 
       00:069C: 45 41 54 
  9798 00:069F: 45 5F 57 49  	db	$45,$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,
                    $00,$6D,$65,$6E,$75
       00:06A3: 4E 44 4F 57 
       00:06A7: 0D 0A 00 6D 
       00:06AB: 65 6E 75 
  9799 00:06AE: 41 6E 63 68  	db	$41,$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:06B2: 6F 72 57 69 
       00:06B6: 6E 64 6F 77 
       00:06BA: 50 72 6F 
  9800 00:06BD: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$52,$45,$44,$52,
                    $41,$57,$5F,$57,$49
       00:06C1: 58 5F 52 45 
       00:06C5: 44 52 41 57 
       00:06C9: 5F 57 49 
  9801 00:06CC: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:06D0: 0D 0A 00 6D 
       00:06D4: 65 6E 75 41 
       00:06D8: 6E 63 68 
  9802 00:06DB: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:06DF: 6E 64 6F 77 
       00:06E3: 50 72 6F 63 
       00:06E7: 3A 3A 46 
  9803 00:06EA: 58 5F 48 49  	db	$58,$5F,$48,$49,$44,$45,$5F,$57,$49,$4E,
                    $44,$4F,$57,$0D,$0A
       00:06EE: 44 45 5F 57 
       00:06F2: 49 4E 44 4F 
       00:06F6: 57 0D 0A 
  9804 00:06F9: 00 6D 65 6E  	db	$00,$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,
                    $72,$57,$69,$6E,$64
       00:06FD: 75 41 6E 63 
       00:0701: 68 6F 72 57 
       00:0705: 69 6E 64 
  9805 00:0708: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$53,$48,$4F,$57
       00:070C: 6F 63 3A 3A 
       00:0710: 46 58 5F 53 
       00:0714: 48 4F 57 
  9806 00:0717: 5F 57 49 4E  	db	$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,$00,
                    $6D,$65,$6E,$75,$41
       00:071B: 44 4F 57 0D 
       00:071F: 0A 00 6D 65 
       00:0723: 6E 75 41 
  9807 00:0726: 6E 63 68 6F  	db	$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:072A: 72 57 69 6E 
       00:072E: 64 6F 77 50 
       00:0732: 72 6F 63 
  9808 00:0735: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,$5F,
                    $57,$49,$4E,$44,$4F
  Thu Dec  3 2020 22:25                                                Page 190


       00:0739: 5F 44 52 41 
       00:073D: 57 5F 57 49 
       00:0741: 4E 44 4F 
  9809 00:0744: 57 0D 0A 00  	db	$57,$0D,$0A,$00,$6D,$65,$6E,$75,$41,$6E,
                    $63,$68,$6F,$72,$57
       00:0748: 6D 65 6E 75 
       00:074C: 41 6E 63 68 
       00:0750: 6F 72 57 
  9810 00:0753: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4C
       00:0757: 77 50 72 6F 
       00:075B: 63 3A 3A 46 
       00:075F: 58 5F 4C 
  9811 00:0762: 42 55 54 54  	db	$42,$55,$54,$54,$4F,$4E,$5F,$44,$4F,$57,
                    $4E,$0D,$0A,$00,$6D
       00:0766: 4F 4E 5F 44 
       00:076A: 4F 57 4E 0D 
       00:076E: 0A 00 6D 
  9812 00:0771: 65 6E 75 41  	db	$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:0775: 6E 63 68 6F 
       00:0779: 72 57 69 6E 
       00:077D: 64 6F 77 
  9813 00:0780: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$57,$49,$4E,$44,
                    $4F,$57,$20,$53,$54
       00:0784: 3A 3A 57 49 
       00:0788: 4E 44 4F 57 
       00:078C: 20 53 54 
  9814 00:078F: 49 4C 4C 20  	db	$49,$4C,$4C,$20,$44,$52,$4F,$50,$50,$45,
                    $44,$0D,$0A,$00,$6D
       00:0793: 44 52 4F 50 
       00:0797: 50 45 44 0D 
       00:079B: 0A 00 6D 
  9815 00:079E: 65 6E 75 41  	db	$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:07A2: 6E 63 68 6F 
       00:07A6: 72 57 69 6E 
       00:07AA: 64 6F 77 
  9816 00:07AD: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,
                    $42,$55,$54,$54,$4F
       00:07B1: 3A 3A 46 58 
       00:07B5: 5F 4C 42 55 
       00:07B9: 54 54 4F 
  9817 00:07BC: 4E 5F 55 50  	db	$4E,$5F,$55,$50,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:07C0: 0D 0A 00 6D 
       00:07C4: 65 6E 75 41 
       00:07C8: 6E 63 68 
  9818 00:07CB: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:07CF: 6E 64 6F 77 
       00:07D3: 50 72 6F 63 
       00:07D7: 3A 3A 46 
  9819 00:07DA: 58 5F 4D 4F  	db	$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,$4E,
                    $54,$45,$52,$0D,$0A
       00:07DE: 55 53 45 5F 
       00:07E2: 45 4E 54 45 
       00:07E6: 52 0D 0A 
  Thu Dec  3 2020 22:25                                                Page 191


  9820 00:07E9: 00 6D 65 6E  	db	$00,$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,
                    $72,$57,$69,$6E,$64
       00:07ED: 75 41 6E 63 
       00:07F1: 68 6F 72 57 
       00:07F5: 69 6E 64 
  9821 00:07F8: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$4D,$4F,$55,$53
       00:07FC: 6F 63 3A 3A 
       00:0800: 46 58 5F 4D 
       00:0804: 4F 55 53 
  9822 00:0807: 45 5F 45 58  	db	$45,$5F,$45,$58,$49,$54,$0D,$0A,$00,$6D,
                    $65,$6E,$75,$41,$6E
       00:080B: 49 54 0D 0A 
       00:080F: 00 6D 65 6E 
       00:0813: 75 41 6E 
  9823 00:0816: 63 68 6F 72  	db	$63,$68,$6F,$72,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:081A: 57 69 6E 64 
       00:081E: 6F 77 50 72 
       00:0822: 6F 63 3A 
  9824 00:0825: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$43,$4F,$4E,$54,$52,$4F,
                    $4C,$5F,$43,$4F,$4D
       00:0829: 43 4F 4E 54 
       00:082D: 52 4F 4C 5F 
       00:0831: 43 4F 4D 
  9825 00:0834: 4D 41 4E 44  	db	$4D,$41,$4E,$44,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:0838: 0D 0A 00 6D 
       00:083C: 65 6E 75 41 
       00:0840: 6E 63 68 
  9826 00:0843: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$43
       00:0847: 6E 64 6F 77 
       00:084B: 50 72 6F 63 
       00:084F: 3A 3A 43 
  9827 00:0852: 54 4C 5F 43  	db	$54,$4C,$5F,$43,$4D,$44,$5F,$43,$41,$50,
                    $54,$49,$4F,$4E,$3A
       00:0856: 4D 44 5F 43 
       00:085A: 41 50 54 49 
       00:085E: 4F 4E 3A 
  9828 00:0861: 00           	db	$00
  9829 00:0862:              	ends
  9830                        ;
  9831                        ;void k_func_drawAnchorText(PWINDOW pWin,UINT font
                    Color,UINT menuColor)
  9832                        ;{
  9833                        	.line	1603
  9834                        	.line	1604
  9835                        	WINMAN
  9836                        	xdef	~~k_func_drawAnchorText
  9837                        	func
  9838                        	.function	1604
  9839                        ~~k_func_drawAnchorText:
  9840                        	longa	on
  9841                        	longi	on
  9842 04:2887: 3B           	tsc
  9843 04:2888: 38           	sec
  9844 04:2889: E9 0C 00     	sbc	#L398
  Thu Dec  3 2020 22:25                                                Page 192


  9845 04:288C: 1B           	tcs
  9846 04:288D: 0B           	phd
  9847 04:288E: 5B           	tcd
  9848             00000004   pWin_0	set	4
  9849             00000008   fontColor_0	set	8
  9850             0000000A   menuColor_0	set	10
  9851                        	.block	1604
  9852                        ;	k_vdma_fill_rect(pWin->win_x ,
  9853                        	.sym	pWin,4,138,6,32,27
  9854                        	.sym	fontColor,8,16,6,16
  9855                        	.sym	menuColor,10,16,6,16
  9856                        	.line	1605
  9857                        ;					 pWin->win_y,
  9858                        ;					 pWin->win_width
                    ,
  9859                        ;					 pWin->win_heigh
                    t,
  9860                        ;					 menuColor);
  9861 04:288F: D4 16        	pei	<L398+menuColor_0
  9862 04:2891: A0 0E 00     	ldy	#$e
  9863 04:2894: B7 10        	lda	[<L398+pWin_0],Y
  9864 04:2896: 48           	pha
  9865 04:2897: A0 0C 00     	ldy	#$c
  9866 04:289A: B7 10        	lda	[<L398+pWin_0],Y
  9867 04:289C: 48           	pha
  9868 04:289D: A0 00 00     	ldy	#$0
  9869 04:28A0: 5A           	phy
  9870 04:28A1: A0 0A 00     	ldy	#$a
  9871 04:28A4: B7 10        	lda	[<L398+pWin_0],Y
  9872 04:28A6: 7A           	ply
  9873 04:28A7: 2A           	rol	A
  9874 04:28A8: 6A           	ror	A
  9875 04:28A9: 10 01        	bpl	L401
  9876 04:28AB: 88           	dey
  9877                        L401:
  9878 04:28AC: 85 01        	sta	<R0
  9879 04:28AE: 84 03        	sty	<R0+2
  9880 04:28B0: D4 03        	pei	<R0+2
  9881 04:28B2: D4 01        	pei	<R0
  9882 04:28B4: A0 00 00     	ldy	#$0
  9883 04:28B7: 5A           	phy
  9884 04:28B8: A0 08 00     	ldy	#$8
  9885 04:28BB: B7 10        	lda	[<L398+pWin_0],Y
  9886 04:28BD: 7A           	ply
  9887 04:28BE: 2A           	rol	A
  9888 04:28BF: 6A           	ror	A
  9889 04:28C0: 10 01        	bpl	L402
  9890 04:28C2: 88           	dey
  9891                        L402:
  9892 04:28C3: 85 05        	sta	<R1
  9893 04:28C5: 84 07        	sty	<R1+2
  9894 04:28C7: D4 07        	pei	<R1+2
  9895 04:28C9: D4 05        	pei	<R1
  9896 04:28CB: 22 xx xx xx  	jsl	~~k_vdma_fill_rect
  9897                        ;
  9898                        ;	k_draw_text_point(((PMENUANCHOR)pWin->windowData
                    )->pCaption,
  9899                        	.line	1611
  Thu Dec  3 2020 22:25                                                Page 193


  9900                        ;	          	  	  //pWin->win_x + (pWin-
                    >win_width/2)  - (((PMENUANCHOR)pWin->windowData)->captionPi
                    xelWidth/2) - 2,
  9901                        ;					  //Win->win_y +
                     (pWin->win_height/2) - (FONTH/2)     ,
  9902                        ;					  pWin->win_x + 
                    (pWin->win_width/2) - (strlen(((PMENUANCHOR)pWin->windowData
                    )->pCaption) * FONTW/2)  ,
  9903                        ;					  pWin->win_y + 
                    (pWin->win_height/2) - (FONTH/2),
  9904                        ;					  fontColor) ;
  9905 04:28CF: D4 14        	pei	<L398+fontColor_0
  9906 04:28D1: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  9907 04:28D5: 85 05        	sta	<R1
  9908 04:28D7: A5 05        	lda	<R1
  9909 04:28D9: 4A           	lsr	A
  9910 04:28DA: 85 01        	sta	<R0
  9911 04:28DC: A0 0E 00     	ldy	#$e
  9912 04:28DF: B7 10        	lda	[<L398+pWin_0],Y
  9913 04:28E1: A2 02 00     	ldx	#<$2
  9914                        	xref	~~~div
  9915 04:28E4: 22 xx xx xx  	jsl	~~~div
  9916 04:28E8: 85 05        	sta	<R1
  9917 04:28EA: 18           	clc
  9918 04:28EB: A5 05        	lda	<R1
  9919 04:28ED: A0 0A 00     	ldy	#$a
  9920 04:28F0: 77 10        	adc	[<L398+pWin_0],Y
  9921 04:28F2: 85 09        	sta	<R2
  9922 04:28F4: 38           	sec
  9923 04:28F5: A5 09        	lda	<R2
  9924 04:28F7: E5 01        	sbc	<R0
  9925 04:28F9: 48           	pha
  9926 04:28FA: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  9927 04:28FE: 85 05        	sta	<R1
  9928 04:2900: A0 41 01     	ldy	#$141
  9929 04:2903: B7 10        	lda	[<L398+pWin_0],Y
  9930 04:2905: 85 09        	sta	<R2
  9931 04:2907: A0 43 01     	ldy	#$143
  9932 04:290A: B7 10        	lda	[<L398+pWin_0],Y
  9933 04:290C: 85 0B        	sta	<R2+2
  9934 04:290E: A0 02 00     	ldy	#$2
  9935 04:2911: B7 09        	lda	[<R2],Y
  9936 04:2913: 48           	pha
  9937 04:2914: A7 09        	lda	[<R2]
  9938 04:2916: 48           	pha
  9939 04:2917: 22 xx xx xx  	jsl	~~strlen
  9940 04:291B: 85 09        	sta	<R2
  9941 04:291D: A5 09        	lda	<R2
  9942 04:291F: A6 05        	ldx	<R1
  9943                        	xref	~~~mul
  9944 04:2921: 22 xx xx xx  	jsl	~~~mul
  9945 04:2925: 85 05        	sta	<R1
  9946 04:2927: A5 05        	lda	<R1
  9947 04:2929: 4A           	lsr	A
  9948 04:292A: 85 01        	sta	<R0
  9949 04:292C: A0 0C 00     	ldy	#$c
  9950 04:292F: B7 10        	lda	[<L398+pWin_0],Y
  9951 04:2931: A2 02 00     	ldx	#<$2
  Thu Dec  3 2020 22:25                                                Page 194


  9952                        	xref	~~~div
  9953 04:2934: 22 xx xx xx  	jsl	~~~div
  9954 04:2938: 85 05        	sta	<R1
  9955 04:293A: 18           	clc
  9956 04:293B: A5 05        	lda	<R1
  9957 04:293D: A0 08 00     	ldy	#$8
  9958 04:2940: 77 10        	adc	[<L398+pWin_0],Y
  9959 04:2942: 85 09        	sta	<R2
  9960 04:2944: 38           	sec
  9961 04:2945: A5 09        	lda	<R2
  9962 04:2947: E5 01        	sbc	<R0
  9963 04:2949: 48           	pha
  9964 04:294A: A0 41 01     	ldy	#$141
  9965 04:294D: B7 10        	lda	[<L398+pWin_0],Y
  9966 04:294F: 85 01        	sta	<R0
  9967 04:2951: A0 43 01     	ldy	#$143
  9968 04:2954: B7 10        	lda	[<L398+pWin_0],Y
  9969 04:2956: 85 03        	sta	<R0+2
  9970 04:2958: A0 02 00     	ldy	#$2
  9971 04:295B: B7 01        	lda	[<R0],Y
  9972 04:295D: 48           	pha
  9973 04:295E: A7 01        	lda	[<R0]
  9974 04:2960: 48           	pha
  9975 04:2961: 22 xx xx xx  	jsl	~~k_draw_text_point
  9976                        ;
  9977                        ;}
  9978                        	.line	1618
  9979                        L403:
  9980 04:2965: A5 0E        	lda	<L398+2
  9981 04:2967: 85 16        	sta	<L398+2+8
  9982 04:2969: A5 0D        	lda	<L398+1
  9983 04:296B: 85 15        	sta	<L398+1+8
  9984 04:296D: 2B           	pld
  9985 04:296E: 3B           	tsc
  9986 04:296F: 18           	clc
  9987 04:2970: 69 14 00     	adc	#L398+8
  9988 04:2973: 1B           	tcs
  9989 04:2974: 6B           	rtl
  9990                        	.endblock	1618
  9991             0000000C   L398	equ	12
  9992             0000000D   L399	equ	13
  9993 04:2975:              	ends
  9994                        	efunc
  9995                        	.endfunc	1618,13,12
  9996                        	.line	1618
  9997                        ;
  9998                        ;
  9999                        ;void k_size_dropdown_menus(LPVOID ctx,LPVOID data
                    )
 10000                        ;{
 10001                        	.line	1621
 10002                        	.line	1622
 10003                        	WINMAN
 10004                        	xdef	~~k_size_dropdown_menus
 10005                        	func
 10006                        	.function	1622
 10007                        ~~k_size_dropdown_menus:
 10008                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 195


 10009                        	longi	on
 10010 04:2975: 3B           	tsc
 10011 04:2976: 38           	sec
 10012 04:2977: E9 20 00     	sbc	#L404
 10013 04:297A: 1B           	tcs
 10014 04:297B: 0B           	phd
 10015 04:297C: 5B           	tcd
 10016             00000004   ctx_0	set	4
 10017             00000008   data_0	set	8
 10018                        	.block	1622
 10019                        ;	int i = 0;
 10020                        ;	//PRECT prect = ctx;
 10021                        ;	PWINDOW pMenuItem = NULL;
 10022                        ;	PMENUDROPDOWNDATA pmdd = (PMENUDROPDOWNDATA)ctx;
 10023                        ;	PMENU pMenu = (PMENU)data;
 10024                        ;	UINT  size = 0;
 10025                        ;
 10026                        ;	//k_debug_strings("k_size_dropdown_menus:","Ente
                    r");
 10027                        ;
 10028                        ;	if(pMenu->pCaption)
 10029             00000000   i_1	set	0
 10030             00000002   pMenuItem_1	set	2
 10031             00000006   pmdd_1	set	6
 10032             0000000A   pMenu_1	set	10
 10033             0000000E   size_1	set	14
 10034                        	.sym	i,0,5,1,16
 10035                        	.sym	pMenuItem,2,138,1,32,27
 10036                        	.sym	pmdd,6,138,1,32,33
 10037                        	.sym	pMenu,10,138,1,32,31
 10038                        	.sym	size,14,16,1,16
 10039                        	.sym	ctx,4,129,6,32
 10040                        	.sym	data,8,129,6,32
 10041 04:297D: 64 11        	stz	<L405+i_1
 10042 04:297F: 64 13        	stz	<L405+pMenuItem_1
 10043 04:2981: 64 15        	stz	<L405+pMenuItem_1+2
 10044 04:2983: A5 24        	lda	<L404+ctx_0
 10045 04:2985: 85 17        	sta	<L405+pmdd_1
 10046 04:2987: A5 26        	lda	<L404+ctx_0+2
 10047 04:2989: 85 19        	sta	<L405+pmdd_1+2
 10048 04:298B: A5 28        	lda	<L404+data_0
 10049 04:298D: 85 1B        	sta	<L405+pMenu_1
 10050 04:298F: A5 2A        	lda	<L404+data_0+2
 10051 04:2991: 85 1D        	sta	<L405+pMenu_1+2
 10052 04:2993: 64 1F        	stz	<L405+size_1
 10053                        	.line	1632
 10054                        ;	{
 10055 04:2995: A0 0F 00     	ldy	#$f
 10056 04:2998: B7 1B        	lda	[<L405+pMenu_1],Y
 10057 04:299A: A0 11 00     	ldy	#$11
 10058 04:299D: 17 1B        	ora	[<L405+pMenu_1],Y
 10059 04:299F: D0 03        	bne	L407
 10060 04:29A1: 82 B6 01     	brl	L10114
 10061                        L407:
 10062                        	.line	1633
 10063                        ;		//k_debug_integer("k_size_dropdown_menus
                    :height:",pmdd->rect.height);
 10064                        ;		//k_debug_strings("k_size_dropdown_menus
  Thu Dec  3 2020 22:25                                                Page 196


                    :",(LPCHAR)pMenu->pCaption);
 10065                        ;
 10066                        ;		while(pmdd->captions[i])
 10067                        	.line	1637
 10068                        L10115:
 10069 04:29A4: A0 00 00     	ldy	#$0
 10070 04:29A7: A5 11        	lda	<L405+i_1
 10071 04:29A9: 10 01        	bpl	L408
 10072 04:29AB: 88           	dey
 10073                        L408:
 10074 04:29AC: 85 05        	sta	<R1
 10075 04:29AE: 84 07        	sty	<R1+2
 10076 04:29B0: D4 07        	pei	<R1+2
 10077 04:29B2: D4 05        	pei	<R1
 10078 04:29B4: A9 02 00     	lda	#$2
 10079                        	xref	~~~lasl
 10080 04:29B7: 22 xx xx xx  	jsl	~~~lasl
 10081 04:29BB: 85 01        	sta	<R0
 10082 04:29BD: 86 03        	stx	<R0+2
 10083 04:29BF: 18           	clc
 10084 04:29C0: A9 0C 00     	lda	#$c
 10085 04:29C3: 65 17        	adc	<L405+pmdd_1
 10086 04:29C5: 85 09        	sta	<R2
 10087 04:29C7: A9 00 00     	lda	#$0
 10088 04:29CA: 65 19        	adc	<L405+pmdd_1+2
 10089 04:29CC: 85 0B        	sta	<R2+2
 10090 04:29CE: 18           	clc
 10091 04:29CF: A5 09        	lda	<R2
 10092 04:29D1: 65 01        	adc	<R0
 10093 04:29D3: 85 0D        	sta	<R3
 10094 04:29D5: A5 0B        	lda	<R2+2
 10095 04:29D7: 65 03        	adc	<R0+2
 10096 04:29D9: 85 0F        	sta	<R3+2
 10097 04:29DB: A7 0D        	lda	[<R3]
 10098 04:29DD: A0 02 00     	ldy	#$2
 10099 04:29E0: 17 0D        	ora	[<R3],Y
 10100 04:29E2: D0 03        	bne	L409
 10101 04:29E4: 82 05 00     	brl	L10116
 10102                        L409:
 10103                        ;		{
 10104                        	.line	1638
 10105                        ;			i++;
 10106                        	.line	1639
 10107 04:29E7: E6 11        	inc	<L405+i_1
 10108                        ;		}
 10109                        	.line	1640
 10110 04:29E9: 82 B8 FF     	brl	L10115
 10111                        L10116:
 10112                        ;		pmdd->ids[i] = pMenu->itemId;
 10113                        	.line	1641
 10114 04:29EC: A0 00 00     	ldy	#$0
 10115 04:29EF: A5 11        	lda	<L405+i_1
 10116 04:29F1: 10 01        	bpl	L410
 10117 04:29F3: 88           	dey
 10118                        L410:
 10119 04:29F4: 85 05        	sta	<R1
 10120 04:29F6: 84 07        	sty	<R1+2
 10121 04:29F8: D4 07        	pei	<R1+2
  Thu Dec  3 2020 22:25                                                Page 197


 10122 04:29FA: D4 05        	pei	<R1
 10123 04:29FC: A9 01 00     	lda	#$1
 10124                        	xref	~~~lasl
 10125 04:29FF: 22 xx xx xx  	jsl	~~~lasl
 10126 04:2A03: 85 01        	sta	<R0
 10127 04:2A05: 86 03        	stx	<R0+2
 10128 04:2A07: 18           	clc
 10129 04:2A08: A9 84 00     	lda	#$84
 10130 04:2A0B: 65 17        	adc	<L405+pmdd_1
 10131 04:2A0D: 85 09        	sta	<R2
 10132 04:2A0F: A9 00 00     	lda	#$0
 10133 04:2A12: 65 19        	adc	<L405+pmdd_1+2
 10134 04:2A14: 85 0B        	sta	<R2+2
 10135 04:2A16: 18           	clc
 10136 04:2A17: A5 09        	lda	<R2
 10137 04:2A19: 65 01        	adc	<R0
 10138 04:2A1B: 85 0D        	sta	<R3
 10139 04:2A1D: A5 0B        	lda	<R2+2
 10140 04:2A1F: 65 03        	adc	<R0+2
 10141 04:2A21: 85 0F        	sta	<R3+2
 10142 04:2A23: A0 0D 00     	ldy	#$d
 10143 04:2A26: B7 1B        	lda	[<L405+pMenu_1],Y
 10144 04:2A28: 87 0D        	sta	[<R3]
 10145                        ;		//k_debug_integer("k_size_dropdown_menus
                    :id:",pmdd->ids[i]);
 10146                        ;
 10147                        ;		pmdd->captions[i] = (LPCSTR)((PMENU)data
                    )->pCaption;
 10148                        	.line	1644
 10149 04:2A2A: A0 00 00     	ldy	#$0
 10150 04:2A2D: A5 11        	lda	<L405+i_1
 10151 04:2A2F: 10 01        	bpl	L411
 10152 04:2A31: 88           	dey
 10153                        L411:
 10154 04:2A32: 85 05        	sta	<R1
 10155 04:2A34: 84 07        	sty	<R1+2
 10156 04:2A36: D4 07        	pei	<R1+2
 10157 04:2A38: D4 05        	pei	<R1
 10158 04:2A3A: A9 02 00     	lda	#$2
 10159                        	xref	~~~lasl
 10160 04:2A3D: 22 xx xx xx  	jsl	~~~lasl
 10161 04:2A41: 85 01        	sta	<R0
 10162 04:2A43: 86 03        	stx	<R0+2
 10163 04:2A45: 18           	clc
 10164 04:2A46: A9 0C 00     	lda	#$c
 10165 04:2A49: 65 17        	adc	<L405+pmdd_1
 10166 04:2A4B: 85 09        	sta	<R2
 10167 04:2A4D: A9 00 00     	lda	#$0
 10168 04:2A50: 65 19        	adc	<L405+pmdd_1+2
 10169 04:2A52: 85 0B        	sta	<R2+2
 10170 04:2A54: 18           	clc
 10171 04:2A55: A5 09        	lda	<R2
 10172 04:2A57: 65 01        	adc	<R0
 10173 04:2A59: 85 0D        	sta	<R3
 10174 04:2A5B: A5 0B        	lda	<R2+2
 10175 04:2A5D: 65 03        	adc	<R0+2
 10176 04:2A5F: 85 0F        	sta	<R3+2
 10177 04:2A61: A0 0F 00     	ldy	#$f
  Thu Dec  3 2020 22:25                                                Page 198


 10178 04:2A64: B7 28        	lda	[<L404+data_0],Y
 10179 04:2A66: 87 0D        	sta	[<R3]
 10180 04:2A68: A0 11 00     	ldy	#$11
 10181 04:2A6B: B7 28        	lda	[<L404+data_0],Y
 10182 04:2A6D: A0 02 00     	ldy	#$2
 10183 04:2A70: 97 0D        	sta	[<R3],Y
 10184                        ;		//k_debug_strings("k_size_dropdown_menus
                    :",(LPCHAR)pmdd->captions[i]);
 10185                        ;		pmdd->chrome[i] = 0;
 10186                        	.line	1646
 10187 04:2A72: 18           	clc
 10188 04:2A73: A9 6C 00     	lda	#$6c
 10189 04:2A76: 65 11        	adc	<L405+i_1
 10190 04:2A78: 85 01        	sta	<R0
 10191 04:2A7A: E2 20        	sep	#$20
 10192                        	longa	off
 10193 04:2A7C: A9 00        	lda	#$0
 10194 04:2A7E: A4 01        	ldy	<R0
 10195 04:2A80: 97 17        	sta	[<L405+pmdd_1],Y
 10196 04:2A82: C2 20        	rep	#$20
 10197                        	longa	on
 10198                        ;		if(pMenu->chromeLeft != 0)
 10199                        	.line	1647
 10200                        ;		{
 10201 04:2A84: A0 0A 00     	ldy	#$a
 10202 04:2A87: B7 1B        	lda	[<L405+pMenu_1],Y
 10203 04:2A89: 29 FF 00     	and	#$ff
 10204 04:2A8C: D0 03        	bne	L412
 10205 04:2A8E: 82 15 00     	brl	L10117
 10206                        L412:
 10207                        	.line	1648
 10208                        ;			pmdd->chrome[i] = pMenu->chromeL
                    eft;
 10209                        	.line	1649
 10210 04:2A91: 18           	clc
 10211 04:2A92: A9 6C 00     	lda	#$6c
 10212 04:2A95: 65 11        	adc	<L405+i_1
 10213 04:2A97: 85 01        	sta	<R0
 10214 04:2A99: E2 20        	sep	#$20
 10215                        	longa	off
 10216 04:2A9B: A0 0A 00     	ldy	#$a
 10217 04:2A9E: B7 1B        	lda	[<L405+pMenu_1],Y
 10218 04:2AA0: A4 01        	ldy	<R0
 10219 04:2AA2: 97 17        	sta	[<L405+pmdd_1],Y
 10220 04:2AA4: C2 20        	rep	#$20
 10221                        	longa	on
 10222                        ;			//k_debug_integer("k_size_dropdo
                    wn_menus **CHECKED**:",pmdd->chrome[i]);
 10223                        ;		}
 10224                        	.line	1651
 10225                        ;
 10226                        ;		pmdd->captions[i+1] = NULL;
 10227                        L10117:
 10228                        	.line	1653
 10229 04:2AA6: A5 11        	lda	<L405+i_1
 10230 04:2AA8: 1A           	ina
 10231 04:2AA9: 85 05        	sta	<R1
 10232 04:2AAB: A0 00 00     	ldy	#$0
  Thu Dec  3 2020 22:25                                                Page 199


 10233 04:2AAE: A5 05        	lda	<R1
 10234 04:2AB0: 10 01        	bpl	L413
 10235 04:2AB2: 88           	dey
 10236                        L413:
 10237 04:2AB3: 85 05        	sta	<R1
 10238 04:2AB5: 84 07        	sty	<R1+2
 10239 04:2AB7: D4 07        	pei	<R1+2
 10240 04:2AB9: D4 05        	pei	<R1
 10241 04:2ABB: A9 02 00     	lda	#$2
 10242                        	xref	~~~lasl
 10243 04:2ABE: 22 xx xx xx  	jsl	~~~lasl
 10244 04:2AC2: 85 01        	sta	<R0
 10245 04:2AC4: 86 03        	stx	<R0+2
 10246 04:2AC6: 18           	clc
 10247 04:2AC7: A9 0C 00     	lda	#$c
 10248 04:2ACA: 65 17        	adc	<L405+pmdd_1
 10249 04:2ACC: 85 09        	sta	<R2
 10250 04:2ACE: A9 00 00     	lda	#$0
 10251 04:2AD1: 65 19        	adc	<L405+pmdd_1+2
 10252 04:2AD3: 85 0B        	sta	<R2+2
 10253 04:2AD5: 18           	clc
 10254 04:2AD6: A5 09        	lda	<R2
 10255 04:2AD8: 65 01        	adc	<R0
 10256 04:2ADA: 85 0D        	sta	<R3
 10257 04:2ADC: A5 0B        	lda	<R2+2
 10258 04:2ADE: 65 03        	adc	<R0+2
 10259 04:2AE0: 85 0F        	sta	<R3+2
 10260 04:2AE2: A9 00 00     	lda	#$0
 10261 04:2AE5: 87 0D        	sta	[<R3]
 10262 04:2AE7: A9 00 00     	lda	#$0
 10263 04:2AEA: A0 02 00     	ldy	#$2
 10264 04:2AED: 97 0D        	sta	[<R3],Y
 10265                        ;
 10266                        ;
 10267                        ;		size = (strlen(pMenu->pCaption) + 2)* FO
                    NTW;
 10268                        	.line	1656
 10269 04:2AEF: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10270 04:2AF3: 85 01        	sta	<R0
 10271 04:2AF5: A0 11 00     	ldy	#$11
 10272 04:2AF8: B7 1B        	lda	[<L405+pMenu_1],Y
 10273 04:2AFA: 48           	pha
 10274 04:2AFB: A0 0F 00     	ldy	#$f
 10275 04:2AFE: B7 1B        	lda	[<L405+pMenu_1],Y
 10276 04:2B00: 48           	pha
 10277 04:2B01: 22 xx xx xx  	jsl	~~strlen
 10278 04:2B05: 85 05        	sta	<R1
 10279 04:2B07: 18           	clc
 10280 04:2B08: A9 02 00     	lda	#$2
 10281 04:2B0B: 65 05        	adc	<R1
 10282 04:2B0D: 85 09        	sta	<R2
 10283 04:2B0F: A5 09        	lda	<R2
 10284 04:2B11: A6 01        	ldx	<R0
 10285                        	xref	~~~mul
 10286 04:2B13: 22 xx xx xx  	jsl	~~~mul
 10287 04:2B17: 85 1F        	sta	<L405+size_1
 10288                        ;		//k_debug_integer("k_size_dropdown_menus
                    :size:",size);
  Thu Dec  3 2020 22:25                                                Page 200


 10289                        ;
 10290                        ;
 10291                        ;
 10292                        ;		if(size > pmdd->rect.width)
 10293                        	.line	1661
 10294                        ;			pmdd->rect.width = size;
 10295 04:2B19: A0 08 00     	ldy	#$8
 10296 04:2B1C: B7 17        	lda	[<L405+pmdd_1],Y
 10297 04:2B1E: C5 1F        	cmp	<L405+size_1
 10298 04:2B20: 90 03        	bcc	L414
 10299 04:2B22: 82 07 00     	brl	L10118
 10300                        L414:
 10301                        	.line	1662
 10302 04:2B25: A5 1F        	lda	<L405+size_1
 10303 04:2B27: A0 08 00     	ldy	#$8
 10304 04:2B2A: 97 17        	sta	[<L405+pmdd_1],Y
 10305                        ;		pmdd->rect.height+=(FONTH + FONTH/2);
 10306                        L10118:
 10307                        	.line	1663
 10308 04:2B2C: 18           	clc
 10309 04:2B2D: A9 0A 00     	lda	#$a
 10310 04:2B30: 65 17        	adc	<L405+pmdd_1
 10311 04:2B32: 85 01        	sta	<R0
 10312 04:2B34: A9 00 00     	lda	#$0
 10313 04:2B37: 65 19        	adc	<L405+pmdd_1+2
 10314 04:2B39: 85 03        	sta	<R0+2
 10315 04:2B3B: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 10316 04:2B3F: 85 05        	sta	<R1
 10317 04:2B41: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 10318 04:2B45: 85 0D        	sta	<R3
 10319 04:2B47: A5 0D        	lda	<R3
 10320 04:2B49: 4A           	lsr	A
 10321 04:2B4A: 85 09        	sta	<R2
 10322 04:2B4C: 18           	clc
 10323 04:2B4D: A5 09        	lda	<R2
 10324 04:2B4F: 65 05        	adc	<R1
 10325 04:2B51: 85 0D        	sta	<R3
 10326 04:2B53: 18           	clc
 10327 04:2B54: A5 0D        	lda	<R3
 10328 04:2B56: 67 01        	adc	[<R0]
 10329 04:2B58: 87 01        	sta	[<R0]
 10330                        ;	}
 10331                        	.line	1664
 10332                        ;}
 10333                        L10114:
 10334                        	.line	1665
 10335                        L415:
 10336 04:2B5A: A5 22        	lda	<L404+2
 10337 04:2B5C: 85 2A        	sta	<L404+2+8
 10338 04:2B5E: A5 21        	lda	<L404+1
 10339 04:2B60: 85 29        	sta	<L404+1+8
 10340 04:2B62: 2B           	pld
 10341 04:2B63: 3B           	tsc
 10342 04:2B64: 18           	clc
 10343 04:2B65: 69 28 00     	adc	#L404+8
 10344 04:2B68: 1B           	tcs
 10345 04:2B69: 6B           	rtl
 10346                        	.endblock	1665
  Thu Dec  3 2020 22:25                                                Page 201


 10347             00000020   L404	equ	32
 10348             00000011   L405	equ	17
 10349 04:2B6A:              	ends
 10350                        	efunc
 10351                        	.endfunc	1665,17,32
 10352                        	.line	1665
 10353                        ;
 10354                        ;
 10355                        ;
 10356                        ;
 10357                        ;PWINDOW	k_user_CreateMenuDropDown(HWND hWndParen
                    t,LPCSTR caption,HMENU hMenu,int x,int y,int width,int heigh
                    t)
 10358                        ;{
 10359                        	.line	1670
 10360                        	.line	1671
 10361                        	WINMAN
 10362                        	xdef	~~k_user_CreateMenuDropDown
 10363                        	func
 10364                        	.function	1671
 10365                        ~~k_user_CreateMenuDropDown:
 10366                        	longa	on
 10367                        	longi	on
 10368 04:2B6A: 3B           	tsc
 10369 04:2B6B: 38           	sec
 10370 04:2B6C: E9 26 00     	sbc	#L416
 10371 04:2B6F: 1B           	tcs
 10372 04:2B70: 0B           	phd
 10373 04:2B71: 5B           	tcd
 10374             00000004   hWndParent_0	set	4
 10375             00000008   caption_0	set	8
 10376             0000000C   hMenu_0	set	12
 10377             00000010   x_0	set	16
 10378             00000012   y_0	set	18
 10379             00000014   width_0	set	20
 10380             00000016   height_0	set	22
 10381                        	.block	1671
 10382                        ;	PWINDOW pWin  = NULL;
 10383                        ;	PMENU   pMenu = NULL;
 10384                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 10385                        ;	RECT rect;
 10386                        ;	int i;
 10387                        ;	k_debug_strings("k_user_CreateMenuDropDown:","En
                    ter");
 10388             00000000   pWin_1	set	0
 10389             00000004   pMenu_1	set	4
 10390             00000008   pddmData_1	set	8
 10391             0000000C   rect_1	set	12
 10392             00000014   i_1	set	20
 10393                        	.sym	pWin,0,138,1,32,27
 10394                        	.sym	pMenu,4,138,1,32,31
 10395                        	.sym	pddmData,8,138,1,32,33
 10396                        	.sym	rect,12,10,1,64,22
 10397                        	.sym	i,20,5,1,16
 10398                        	.sym	hWndParent,4,129,6,32
 10399                        	.sym	caption,8,142,6,32
 10400                        	.sym	hMenu,12,129,6,32
 10401                        	.sym	x,16,5,6,16
  Thu Dec  3 2020 22:25                                                Page 202


 10402                        	.sym	y,18,5,6,16
 10403                        	.sym	width,20,5,6,16
 10404                        	.sym	height,22,5,6,16
 10405 04:2B72: 64 11        	stz	<L417+pWin_1
 10406 04:2B74: 64 13        	stz	<L417+pWin_1+2
 10407 04:2B76: 64 15        	stz	<L417+pMenu_1
 10408 04:2B78: 64 17        	stz	<L417+pMenu_1+2
 10409 04:2B7A: 64 19        	stz	<L417+pddmData_1
 10410 04:2B7C: 64 1B        	stz	<L417+pddmData_1+2
 10411                        	.line	1677
 10412 04:2B7E: F4 xx xx     	pea	#^L397+27
 10413 04:2B81: F4 xx xx     	pea	#<L397+27
 10414 04:2B84: F4 xx xx     	pea	#^L397
 10415 04:2B87: F4 xx xx     	pea	#<L397
 10416 04:2B8A: 22 xx xx xx  	jsl	~~k_debug_strings
 10417                        ;
 10418                        ;
 10419                        ;	if(hMenu)
 10420                        	.line	1680
 10421                        ;	{
 10422 04:2B8E: A5 32        	lda	<L416+hMenu_0
 10423 04:2B90: 05 34        	ora	<L416+hMenu_0+2
 10424 04:2B92: D0 03        	bne	L419
 10425 04:2B94: 82 5E 01     	brl	L10119
 10426                        L419:
 10427                        	.line	1681
 10428                        ;		rect.x = 0;
 10429                        	.line	1682
 10430 04:2B97: 64 1D        	stz	<L417+rect_1
 10431                        ;		rect.y = 0;
 10432                        	.line	1683
 10433 04:2B99: 64 1F        	stz	<L417+rect_1+2
 10434                        ;		rect.height = 0;
 10435                        	.line	1684
 10436 04:2B9B: 64 23        	stz	<L417+rect_1+6
 10437                        ;		rect.width = 0;
 10438                        	.line	1685
 10439 04:2B9D: 64 21        	stz	<L417+rect_1+4
 10440                        ;		pMenu = (PMENU)hMenu;
 10441                        	.line	1686
 10442 04:2B9F: A5 32        	lda	<L416+hMenu_0
 10443 04:2BA1: 85 15        	sta	<L417+pMenu_1
 10444 04:2BA3: A5 34        	lda	<L416+hMenu_0+2
 10445 04:2BA5: 85 17        	sta	<L417+pMenu_1+2
 10446                        ;
 10447                        ;		pddmData = (PMENUDROPDOWNDATA)k_mem_allo
                    cate_heap(sizeof(MENUDROPDOWNDATA));
 10448                        	.line	1688
 10449 04:2BA7: F4 BE 01     	pea	#<$1be
 10450 04:2BAA: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 10451 04:2BAE: 85 19        	sta	<L417+pddmData_1
 10452 04:2BB0: 86 1B        	stx	<L417+pddmData_1+2
 10453                        ;
 10454                        ;		if(pddmData)
 10455                        	.line	1690
 10456                        ;		{
 10457 04:2BB2: A5 19        	lda	<L417+pddmData_1
 10458 04:2BB4: 05 1B        	ora	<L417+pddmData_1+2
  Thu Dec  3 2020 22:25                                                Page 203


 10459 04:2BB6: D0 03        	bne	L420
 10460 04:2BB8: 82 3A 01     	brl	L10120
 10461                        L420:
 10462                        	.line	1691
 10463                        ;			memset(pddmData,0,sizeof(MENUDRO
                    PDOWNDATA));
 10464                        	.line	1692
 10465 04:2BBB: F4 BE 01     	pea	#<$1be
 10466 04:2BBE: F4 00 00     	pea	#<$0
 10467 04:2BC1: D4 1B        	pei	<L417+pddmData_1+2
 10468 04:2BC3: D4 19        	pei	<L417+pddmData_1
 10469 04:2BC5: 22 xx xx xx  	jsl	~~memset
 10470                        ;
 10471                        ;			k_debug_pointer("k_user_CreateMe
                    nuDropDown:pMenu:",pMenu);
 10472                        	.line	1694
 10473 04:2BC9: D4 17        	pei	<L417+pMenu_1+2
 10474 04:2BCB: D4 15        	pei	<L417+pMenu_1
 10475 04:2BCD: F4 xx xx     	pea	#^L397+33
 10476 04:2BD0: F4 xx xx     	pea	#<L397+33
 10477 04:2BD3: 22 xx xx xx  	jsl	~~k_debug_pointer
 10478                        ;
 10479                        ;			k_nodelist_foreach_type(pMenu->s
                    ubMenus,
 10480                        	.line	1696
 10481                        ;							
                    		NL_TYPE_WINDOW_MENU,
 10482                        ;							
                    		pddmData,
 10483                        ;							
                    		k_size_dropdown_menus);
 10484 04:2BD7: F4 04 00     	pea	#^~~k_size_dropdown_menus
 10485 04:2BDA: F4 75 29     	pea	#<~~k_size_dropdown_menus
 10486 04:2BDD: D4 1B        	pei	<L417+pddmData_1+2
 10487 04:2BDF: D4 19        	pei	<L417+pddmData_1
 10488 04:2BE1: F4 03 00     	pea	#<$3
 10489 04:2BE4: A0 15 00     	ldy	#$15
 10490 04:2BE7: B7 15        	lda	[<L417+pMenu_1],Y
 10491 04:2BE9: 48           	pha
 10492 04:2BEA: A0 13 00     	ldy	#$13
 10493 04:2BED: B7 15        	lda	[<L417+pMenu_1],Y
 10494 04:2BEF: 48           	pha
 10495 04:2BF0: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
 10496                        ;
 10497                        ;
 10498                        ;			pWin = k_user_CreateWindow(FXWS_
                    VISIBLE | FXWS_BORDER,
 10499                        	.line	1702
 10500                        ;							
                    		   "menuDropDownWindowClass",
 10501                        ;							
                    			caption,
 10502                        ;							
                    			x,y,
 10503                        ;							
                    			pddmData->rect.width,
 10504                        ;							
                    			pddmData->rect.height,
  Thu Dec  3 2020 22:25                                                Page 204


 10505                        ;							
                    			hWndParent,//k_user_getDesktopWindow(),
 10506                        ;							
                    			(HMENU)hMenu,
 10507                        ;							
                    			NULL);
 10508 04:2BF4: F4 00 00     	pea	#^$0
 10509 04:2BF7: F4 00 00     	pea	#<$0
 10510 04:2BFA: D4 34        	pei	<L416+hMenu_0+2
 10511 04:2BFC: D4 32        	pei	<L416+hMenu_0
 10512 04:2BFE: D4 2C        	pei	<L416+hWndParent_0+2
 10513 04:2C00: D4 2A        	pei	<L416+hWndParent_0
 10514 04:2C02: A0 0A 00     	ldy	#$a
 10515 04:2C05: B7 19        	lda	[<L417+pddmData_1],Y
 10516 04:2C07: 48           	pha
 10517 04:2C08: A0 08 00     	ldy	#$8
 10518 04:2C0B: B7 19        	lda	[<L417+pddmData_1],Y
 10519 04:2C0D: 48           	pha
 10520 04:2C0E: D4 38        	pei	<L416+y_0
 10521 04:2C10: D4 36        	pei	<L416+x_0
 10522 04:2C12: D4 30        	pei	<L416+caption_0+2
 10523 04:2C14: D4 2E        	pei	<L416+caption_0
 10524 04:2C16: F4 xx xx     	pea	#^L397+66
 10525 04:2C19: F4 xx xx     	pea	#<L397+66
 10526 04:2C1C: F4 01 00     	pea	#^$10001
 10527 04:2C1F: F4 01 00     	pea	#<$10001
 10528 04:2C22: 22 08 14 04  	jsl	~~k_user_CreateWindow
 10529 04:2C26: 85 11        	sta	<L417+pWin_1
 10530 04:2C28: 86 13        	stx	<L417+pWin_1+2
 10531                        ;
 10532                        ;			//k_debug_pointer("k_user_Create
                    MenuDropDown:pWin:",pWin);
 10533                        ;			if(pWin)
 10534                        	.line	1713
 10535                        ;			{
 10536 04:2C2A: A5 11        	lda	<L417+pWin_1
 10537 04:2C2C: 05 13        	ora	<L417+pWin_1+2
 10538 04:2C2E: D0 03        	bne	L421
 10539 04:2C30: 82 C2 00     	brl	L10121
 10540                        L421:
 10541                        	.line	1714
 10542                        ;				pWin->windowData = pddmD
                    ata;
 10543                        	.line	1715
 10544 04:2C33: A5 19        	lda	<L417+pddmData_1
 10545 04:2C35: A0 41 01     	ldy	#$141
 10546 04:2C38: 97 11        	sta	[<L417+pWin_1],Y
 10547 04:2C3A: A5 1B        	lda	<L417+pddmData_1+2
 10548 04:2C3C: A0 43 01     	ldy	#$143
 10549 04:2C3F: 97 11        	sta	[<L417+pWin_1],Y
 10550                        ;
 10551                        ;				pddmData->pParent = pWin
                    ;
 10552                        	.line	1717
 10553 04:2C41: A5 11        	lda	<L417+pWin_1
 10554 04:2C43: 87 19        	sta	[<L417+pddmData_1]
 10555 04:2C45: A5 13        	lda	<L417+pWin_1+2
 10556 04:2C47: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 205


 10557 04:2C4A: 97 19        	sta	[<L417+pddmData_1],Y
 10558                        ;				pddmData->selected = -1;
 10559                        	.line	1718
 10560 04:2C4C: A9 FF FF     	lda	#$ffff
 10561 04:2C4F: A0 BC 01     	ldy	#$1bc
 10562 04:2C52: 97 19        	sta	[<L417+pddmData_1],Y
 10563                        ;
 10564                        ;				/*
 10565                        ;
 10566                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::win_x:", pWin->win_x);
 10567                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::win_y:", pWin->win_y);
 10568                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::rect.width:", pddmData->rect.width);
 10569                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::rect.height:", pddmData->rect.height);
 10570                        ;
 10571                        ;
 10572                        ;				k_debug_pointer("k_user_
                    CreateMenuDropDown:pWin:",pWin);
 10573                        ;				k_debug_pointer("k_user_
                    CreateMenuDropDown:ParentWin:",k_getWindowFromHandle(hWndPar
                    ent));
 10574                        ;				*/
 10575                        ;				for(i=0;i<24;i++)
 10576                        	.line	1731
 10577 04:2C54: 64 25        	stz	<L417+i_1
 10578                        L10124:
 10579                        ;				{
 10580                        	.line	1732
 10581                        ;					if(pddmData->cap
                    tions[i])
 10582                        	.line	1733
 10583                        ;						k_debug_
                    strings("k_user_CreateMenuDropDown[pddmData]::caption:", (LP
                    STR)pddmData->captions[i]);
 10584 04:2C56: A0 00 00     	ldy	#$0
 10585 04:2C59: A5 25        	lda	<L417+i_1
 10586 04:2C5B: 10 01        	bpl	L422
 10587 04:2C5D: 88           	dey
 10588                        L422:
 10589 04:2C5E: 85 05        	sta	<R1
 10590 04:2C60: 84 07        	sty	<R1+2
 10591 04:2C62: D4 07        	pei	<R1+2
 10592 04:2C64: D4 05        	pei	<R1
 10593 04:2C66: A9 02 00     	lda	#$2
 10594                        	xref	~~~lasl
 10595 04:2C69: 22 xx xx xx  	jsl	~~~lasl
 10596 04:2C6D: 85 01        	sta	<R0
 10597 04:2C6F: 86 03        	stx	<R0+2
 10598 04:2C71: 18           	clc
 10599 04:2C72: A9 0C 00     	lda	#$c
 10600 04:2C75: 65 19        	adc	<L417+pddmData_1
 10601 04:2C77: 85 09        	sta	<R2
 10602 04:2C79: A9 00 00     	lda	#$0
 10603 04:2C7C: 65 1B        	adc	<L417+pddmData_1+2
 10604 04:2C7E: 85 0B        	sta	<R2+2
  Thu Dec  3 2020 22:25                                                Page 206


 10605 04:2C80: 18           	clc
 10606 04:2C81: A5 09        	lda	<R2
 10607 04:2C83: 65 01        	adc	<R0
 10608 04:2C85: 85 0D        	sta	<R3
 10609 04:2C87: A5 0B        	lda	<R2+2
 10610 04:2C89: 65 03        	adc	<R0+2
 10611 04:2C8B: 85 0F        	sta	<R3+2
 10612 04:2C8D: A7 0D        	lda	[<R3]
 10613 04:2C8F: A0 02 00     	ldy	#$2
 10614 04:2C92: 17 0D        	ora	[<R3],Y
 10615 04:2C94: D0 03        	bne	L423
 10616 04:2C96: 82 4A 00     	brl	L10125
 10617                        L423:
 10618                        	.line	1734
 10619 04:2C99: A0 00 00     	ldy	#$0
 10620 04:2C9C: A5 25        	lda	<L417+i_1
 10621 04:2C9E: 10 01        	bpl	L424
 10622 04:2CA0: 88           	dey
 10623                        L424:
 10624 04:2CA1: 85 05        	sta	<R1
 10625 04:2CA3: 84 07        	sty	<R1+2
 10626 04:2CA5: D4 07        	pei	<R1+2
 10627 04:2CA7: D4 05        	pei	<R1
 10628 04:2CA9: A9 02 00     	lda	#$2
 10629                        	xref	~~~lasl
 10630 04:2CAC: 22 xx xx xx  	jsl	~~~lasl
 10631 04:2CB0: 85 01        	sta	<R0
 10632 04:2CB2: 86 03        	stx	<R0+2
 10633 04:2CB4: 18           	clc
 10634 04:2CB5: A9 0C 00     	lda	#$c
 10635 04:2CB8: 65 19        	adc	<L417+pddmData_1
 10636 04:2CBA: 85 09        	sta	<R2
 10637 04:2CBC: A9 00 00     	lda	#$0
 10638 04:2CBF: 65 1B        	adc	<L417+pddmData_1+2
 10639 04:2CC1: 85 0B        	sta	<R2+2
 10640 04:2CC3: 18           	clc
 10641 04:2CC4: A5 09        	lda	<R2
 10642 04:2CC6: 65 01        	adc	<R0
 10643 04:2CC8: 85 0D        	sta	<R3
 10644 04:2CCA: A5 0B        	lda	<R2+2
 10645 04:2CCC: 65 03        	adc	<R0+2
 10646 04:2CCE: 85 0F        	sta	<R3+2
 10647 04:2CD0: A0 02 00     	ldy	#$2
 10648 04:2CD3: B7 0D        	lda	[<R3],Y
 10649 04:2CD5: 48           	pha
 10650 04:2CD6: A7 0D        	lda	[<R3]
 10651 04:2CD8: 48           	pha
 10652 04:2CD9: F4 xx xx     	pea	#^L397+90
 10653 04:2CDC: F4 xx xx     	pea	#<L397+90
 10654 04:2CDF: 22 xx xx xx  	jsl	~~k_debug_strings
 10655                        ;				}
 10656                        L10125:
 10657                        	.line	1735
 10658                        L10122:
 10659 04:2CE3: E6 25        	inc	<L417+i_1
 10660 04:2CE5: 38           	sec
 10661 04:2CE6: A5 25        	lda	<L417+i_1
 10662 04:2CE8: E9 18 00     	sbc	#<$18
  Thu Dec  3 2020 22:25                                                Page 207


 10663 04:2CEB: 70 03        	bvs	L425
 10664 04:2CED: 49 00 80     	eor	#$8000
 10665                        L425:
 10666 04:2CF0: 30 03        	bmi	L426
 10667 04:2CF2: 82 61 FF     	brl	L10124
 10668                        L426:
 10669                        L10123:
 10670                        ;			}
 10671                        	.line	1736
 10672                        ;		}
 10673                        L10121:
 10674                        	.line	1737
 10675                        ;	}
 10676                        L10120:
 10677                        	.line	1738
 10678                        ;
 10679                        ;	k_debug_strings("k_user_CreateMenuDropDown:","Ex
                    it");
 10680                        L10119:
 10681                        	.line	1740
 10682 04:2CF5: F4 xx xx     	pea	#^L397+163
 10683 04:2CF8: F4 xx xx     	pea	#<L397+163
 10684 04:2CFB: F4 xx xx     	pea	#^L397+136
 10685 04:2CFE: F4 xx xx     	pea	#<L397+136
 10686 04:2D01: 22 xx xx xx  	jsl	~~k_debug_strings
 10687                        ;
 10688                        ;	return pWin;
 10689                        	.line	1742
 10690 04:2D05: A6 13        	ldx	<L417+pWin_1+2
 10691 04:2D07: A5 11        	lda	<L417+pWin_1
 10692                        L427:
 10693 04:2D09: A8           	tay
 10694 04:2D0A: A5 28        	lda	<L416+2
 10695 04:2D0C: 85 3C        	sta	<L416+2+20
 10696 04:2D0E: A5 27        	lda	<L416+1
 10697 04:2D10: 85 3B        	sta	<L416+1+20
 10698 04:2D12: 2B           	pld
 10699 04:2D13: 3B           	tsc
 10700 04:2D14: 18           	clc
 10701 04:2D15: 69 3A 00     	adc	#L416+20
 10702 04:2D18: 1B           	tcs
 10703 04:2D19: 98           	tya
 10704 04:2D1A: 6B           	rtl
 10705                        ;}
 10706                        	.line	1743
 10707                        	.endblock	1743
 10708             00000026   L416	equ	38
 10709             00000011   L417	equ	17
 10710 04:2D1B:              	ends
 10711                        	efunc
 10712                        	.endfunc	1743,17,38
 10713                        	.line	1743
 10714                        	data
 10715                        L397:
 10716 00:0862: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$4D,$65
       00:0866: 65 72 5F 43 
       00:086A: 72 65 61 74 
  Thu Dec  3 2020 22:25                                                Page 208


       00:086E: 65 4D 65 
 10717 00:0871: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $3A,$00,$45,$6E,$74
       00:0875: 6F 70 44 6F 
       00:0879: 77 6E 3A 00 
       00:087D: 45 6E 74 
 10718 00:0880: 65 72 00 6B  	db	$65,$72,$00,$6B,$5F,$75,$73,$65,$72,$5F,
                    $43,$72,$65,$61,$74
       00:0884: 5F 75 73 65 
       00:0888: 72 5F 43 72 
       00:088C: 65 61 74 
 10719 00:088F: 65 4D 65 6E  	db	$65,$4D,$65,$6E,$75,$44,$72,$6F,$70,$44,
                    $6F,$77,$6E,$3A,$70
       00:0893: 75 44 72 6F 
       00:0897: 70 44 6F 77 
       00:089B: 6E 3A 70 
 10720 00:089E: 4D 65 6E 75  	db	$4D,$65,$6E,$75,$3A,$00,$6D,$65,$6E,$75,
                    $44,$72,$6F,$70,$44
       00:08A2: 3A 00 6D 65 
       00:08A6: 6E 75 44 72 
       00:08AA: 6F 70 44 
 10721 00:08AD: 6F 77 6E 57  	db	$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,$43,
                    $6C,$61,$73,$73,$00
       00:08B1: 69 6E 64 6F 
       00:08B5: 77 43 6C 61 
       00:08B9: 73 73 00 
 10722 00:08BC: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$4D,$65
       00:08C0: 65 72 5F 43 
       00:08C4: 72 65 61 74 
       00:08C8: 65 4D 65 
 10723 00:08CB: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $5B,$70,$64,$64,$6D
       00:08CF: 6F 70 44 6F 
       00:08D3: 77 6E 5B 70 
       00:08D7: 64 64 6D 
 10724 00:08DA: 44 61 74 61  	db	$44,$61,$74,$61,$5D,$3A,$3A,$63,$61,$70,
                    $74,$69,$6F,$6E,$3A
       00:08DE: 5D 3A 3A 63 
       00:08E2: 61 70 74 69 
       00:08E6: 6F 6E 3A 
 10725 00:08E9: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$4D
       00:08ED: 73 65 72 5F 
       00:08F1: 43 72 65 61 
       00:08F5: 74 65 4D 
 10726 00:08F8: 65 6E 75 44  	db	$65,$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,
                    $6E,$3A,$00,$45,$78
       00:08FC: 72 6F 70 44 
       00:0900: 6F 77 6E 3A 
       00:0904: 00 45 78 
 10727 00:0907: 69 74 00     	db	$69,$74,$00
 10728 00:090A:              	ends
 10729                        ;
 10730                        ;
 10731                        ;BOOL menuDropDownWindowProc(PFXOSMESSAGE pMsg)
 10732                        ;{
 10733                        	.line	1746
  Thu Dec  3 2020 22:25                                                Page 209


 10734                        	.line	1747
 10735                        	WINMAN
 10736                        	xdef	~~menuDropDownWindowProc
 10737                        	func
 10738                        	.function	1747
 10739                        ~~menuDropDownWindowProc:
 10740                        	longa	on
 10741                        	longi	on
 10742 04:2D1B: 3B           	tsc
 10743 04:2D1C: 38           	sec
 10744 04:2D1D: E9 92 00     	sbc	#L429
 10745 04:2D20: 1B           	tcs
 10746 04:2D21: 0B           	phd
 10747 04:2D22: 5B           	tcd
 10748             00000004   pMsg_0	set	4
 10749                        	.block	1747
 10750                        ;	PFXPROCESS p = NULL;
 10751                        ;	PWINDOW	   pWin = NULL;
 10752                        ;	PBUTTON	   pButton = NULL;
 10753                        ;	//LPCSTR	   captions[] = {"About FX/OS...
                    ",NULL};
 10754                        ;	LPCSTR	   captions[25];
 10755                        ;	UINT	   size = 0;
 10756                        ;	UINT	   cy = 0;
 10757                        ;	PMENU	   pMenu = NULL;
 10758                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 10759                        ;	int i;
 10760                        ;
 10761                        ;	if(pMsg!=NULL)
 10762             00000000   p_1	set	0
 10763             00000004   pWin_1	set	4
 10764             00000008   pButton_1	set	8
 10765             0000000C   captions_1	set	12
 10766             00000070   size_1	set	112
 10767             00000072   cy_1	set	114
 10768             00000074   pMenu_1	set	116
 10769             00000078   pddmData_1	set	120
 10770             0000007C   i_1	set	124
 10771                        	.sym	p,0,138,1,32,17
 10772                        	.sym	pWin,4,138,1,32,27
 10773                        	.sym	pButton,8,138,1,32,34
 10774                        	.sym	captions,12,1134,1,32,25
 10775                        	.sym	size,112,16,1,16
 10776                        	.sym	cy,114,16,1,16
 10777                        	.sym	pMenu,116,138,1,32,31
 10778                        	.sym	pddmData,120,138,1,32,33
 10779                        	.sym	i,124,5,1,16
 10780                        	.sym	pMsg,4,138,6,32,13
 10781 04:2D23: 64 15        	stz	<L430+p_1
 10782 04:2D25: 64 17        	stz	<L430+p_1+2
 10783 04:2D27: 64 19        	stz	<L430+pWin_1
 10784 04:2D29: 64 1B        	stz	<L430+pWin_1+2
 10785 04:2D2B: 64 1D        	stz	<L430+pButton_1
 10786 04:2D2D: 64 1F        	stz	<L430+pButton_1+2
 10787 04:2D2F: 64 85        	stz	<L430+size_1
 10788 04:2D31: 64 87        	stz	<L430+cy_1
 10789 04:2D33: 64 89        	stz	<L430+pMenu_1
 10790 04:2D35: 64 8B        	stz	<L430+pMenu_1+2
  Thu Dec  3 2020 22:25                                                Page 210


 10791 04:2D37: 64 8D        	stz	<L430+pddmData_1
 10792 04:2D39: 64 8F        	stz	<L430+pddmData_1+2
 10793                        	.line	1759
 10794                        ;	{
 10795 04:2D3B: A5 96        	lda	<L429+pMsg_0
 10796 04:2D3D: 05 98        	ora	<L429+pMsg_0+2
 10797 04:2D3F: D0 03        	bne	L432
 10798 04:2D41: 82 9D 03     	brl	L10126
 10799                        L432:
 10800                        	.line	1760
 10801                        ;		p = k_exec_get_current_process();
 10802                        	.line	1761
 10803 04:2D44: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 10804 04:2D48: 85 15        	sta	<L430+p_1
 10805 04:2D4A: 86 17        	stx	<L430+p_1+2
 10806                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 10807                        	.line	1762
 10808 04:2D4C: A0 0C 00     	ldy	#$c
 10809 04:2D4F: B7 96        	lda	[<L429+pMsg_0],Y
 10810 04:2D51: 48           	pha
 10811 04:2D52: A0 0A 00     	ldy	#$a
 10812 04:2D55: B7 96        	lda	[<L429+pMsg_0],Y
 10813 04:2D57: 48           	pha
 10814 04:2D58: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 10815 04:2D5C: 85 19        	sta	<L430+pWin_1
 10816 04:2D5E: 86 1B        	stx	<L430+pWin_1+2
 10817                        ;		//pButton = ((PBUTTON)pWin->windowData);
 10818                        ;
 10819                        ;		switch(pMsg->type)
 10820                        	.line	1765
 10821 04:2D60: A0 08 00     	ldy	#$8
 10822 04:2D63: B7 96        	lda	[<L429+pMsg_0],Y
 10823 04:2D65: 82 4D 03     	brl	L10127
 10824                        ;		{
 10825                        	.line	1766
 10826                        ;		case FX_CREATE_WINDOW:
 10827                        	.line	1767
 10828                        L10129:
 10829                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 10830                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_CREATE_WINDOW\r\n");
 10831                        	.line	1769
 10832 04:2D68: F4 xx xx     	pea	#^L428
 10833 04:2D6B: F4 xx xx     	pea	#<L428
 10834 04:2D6E: 22 xx xx xx  	jsl	~~k_debug_string
 10835                        ;
 10836                        ;			pWin->isVisible = TRUE;
 10837                        	.line	1771
 10838 04:2D72: E2 20        	sep	#$20
 10839                        	longa	off
 10840 04:2D74: A9 01        	lda	#$1
 10841 04:2D76: A0 40 01     	ldy	#$140
 10842 04:2D79: 97 19        	sta	[<L430+pWin_1],Y
 10843 04:2D7B: C2 20        	rep	#$20
 10844                        	longa	on
 10845                        ;
  Thu Dec  3 2020 22:25                                                Page 211


 10846                        ;			/*
 10847                        ;			k_scratch_save_bitblt(pWin->win_
                    x,
 10848                        ;							
                    	  pWin->win_y,
 10849                        ;							
                    	  pWin->win_width,
 10850                        ;							
                    	  pWin->win_height, 0, 0);
 10851                        ;			*/
 10852                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
 10853                        	.line	1779
 10854 04:2D7D: A0 41 01     	ldy	#$141
 10855 04:2D80: B7 19        	lda	[<L430+pWin_1],Y
 10856 04:2D82: 85 8D        	sta	<L430+pddmData_1
 10857 04:2D84: A0 43 01     	ldy	#$143
 10858 04:2D87: B7 19        	lda	[<L430+pWin_1],Y
 10859 04:2D89: 85 8F        	sta	<L430+pddmData_1+2
 10860                        ;			/*
 10861                        ;			for(i=0;i<24;i++)
 10862                        ;			{
 10863                        ;				if(pddmData->captions[i]
                    )
 10864                        ;					k_debug_strings(
                    "menuDropDownWindowProc[pddmData]::caption:", (LPSTR)pddmDat
                    a->captions[i]);
 10865                        ;			}
 10866                        ;			*/
 10867                        ;			break;
 10868                        	.line	1787
 10869 04:2D8B: 82 53 03     	brl	L10128
 10870                        ;		case FX_DRAW_WINDOW:
 10871                        	.line	1788
 10872                        L10130:
 10873                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_DRAW_WINDOW\r\n");
 10874                        	.line	1789
 10875 04:2D8E: F4 xx xx     	pea	#^L428+43
 10876 04:2D91: F4 xx xx     	pea	#<L428+43
 10877 04:2D94: 22 xx xx xx  	jsl	~~k_debug_string
 10878                        ;
 10879                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
 10880                        	.line	1791
 10881 04:2D98: A0 41 01     	ldy	#$141
 10882 04:2D9B: B7 19        	lda	[<L430+pWin_1],Y
 10883 04:2D9D: 85 8D        	sta	<L430+pddmData_1
 10884 04:2D9F: A0 43 01     	ldy	#$143
 10885 04:2DA2: B7 19        	lda	[<L430+pWin_1],Y
 10886 04:2DA4: 85 8F        	sta	<L430+pddmData_1+2
 10887                        ;			if(pddmData)
 10888                        	.line	1792
 10889                        ;			{
 10890 04:2DA6: A5 8D        	lda	<L430+pddmData_1
 10891 04:2DA8: 05 8F        	ora	<L430+pddmData_1+2
 10892 04:2DAA: D0 03        	bne	L433
 10893 04:2DAC: 82 56 00     	brl	L10131
  Thu Dec  3 2020 22:25                                                Page 212


 10894                        L433:
 10895                        	.line	1793
 10896                        ;				k_create_context_menu_in
                    _window_ex(pWin,
 10897                        	.line	1794
 10898                        ;						        
                                    -1,
 10899                        ;							
                    				    -1,
 10900                        ;						        
                                    pWin->win_x,
 10901                        ;							
                    				    pWin->win_y,
 10902                        ;							
                    				    pWin->win_width,
 10903                        ;							
                    				    pWin->win_height,
 10904                        ;							
                    				    pddmData->captions,
 10905                        ;							
                    					pddmData->chrome,
 10906                        ;							
                    				    k_getUIGadgetColor(),
 10907                        ;							
                    				    k_getUIMenuColor());
 10908 04:2DAF: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10909 04:2DB3: 48           	pha
 10910 04:2DB4: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10911 04:2DB8: 48           	pha
 10912 04:2DB9: 18           	clc
 10913 04:2DBA: A9 6C 00     	lda	#$6c
 10914 04:2DBD: 65 8D        	adc	<L430+pddmData_1
 10915 04:2DBF: 85 01        	sta	<R0
 10916 04:2DC1: A9 00 00     	lda	#$0
 10917 04:2DC4: 65 8F        	adc	<L430+pddmData_1+2
 10918 04:2DC6: 85 03        	sta	<R0+2
 10919 04:2DC8: D4 03        	pei	<R0+2
 10920 04:2DCA: D4 01        	pei	<R0
 10921 04:2DCC: 18           	clc
 10922 04:2DCD: A9 0C 00     	lda	#$c
 10923 04:2DD0: 65 8D        	adc	<L430+pddmData_1
 10924 04:2DD2: 85 05        	sta	<R1
 10925 04:2DD4: A9 00 00     	lda	#$0
 10926 04:2DD7: 65 8F        	adc	<L430+pddmData_1+2
 10927 04:2DD9: 85 07        	sta	<R1+2
 10928 04:2DDB: D4 07        	pei	<R1+2
 10929 04:2DDD: D4 05        	pei	<R1
 10930 04:2DDF: A0 0E 00     	ldy	#$e
 10931 04:2DE2: B7 19        	lda	[<L430+pWin_1],Y
 10932 04:2DE4: 48           	pha
 10933 04:2DE5: A0 0C 00     	ldy	#$c
 10934 04:2DE8: B7 19        	lda	[<L430+pWin_1],Y
 10935 04:2DEA: 48           	pha
 10936 04:2DEB: A0 0A 00     	ldy	#$a
 10937 04:2DEE: B7 19        	lda	[<L430+pWin_1],Y
 10938 04:2DF0: 48           	pha
 10939 04:2DF1: A0 08 00     	ldy	#$8
 10940 04:2DF4: B7 19        	lda	[<L430+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 213


 10941 04:2DF6: 48           	pha
 10942 04:2DF7: F4 FF FF     	pea	#<$ffffffff
 10943 04:2DFA: F4 FF FF     	pea	#<$ffffffff
 10944 04:2DFD: D4 1B        	pei	<L430+pWin_1+2
 10945 04:2DFF: D4 19        	pei	<L430+pWin_1
 10946 04:2E01: 22 xx xx xx  	jsl	~~k_create_context_menu_in_window_ex
 10947                        ;
 10948                        ;			}
 10949                        	.line	1806
 10950                        ;
 10951                        ;			break;
 10952                        L10131:
 10953                        	.line	1808
 10954 04:2E05: 82 D9 02     	brl	L10128
 10955                        ;		case FX_LBUTTON_DOWN:
 10956                        	.line	1809
 10957                        L10132:
 10958                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_LBUTTON_DOWN\r\n");
 10959                        	.line	1810
 10960 04:2E08: F4 xx xx     	pea	#^L428+84
 10961 04:2E0B: F4 xx xx     	pea	#<L428+84
 10962 04:2E0E: 22 xx xx xx  	jsl	~~k_debug_string
 10963                        ;
 10964                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
 10965                        	.line	1812
 10966 04:2E12: A0 41 01     	ldy	#$141
 10967 04:2E15: B7 19        	lda	[<L430+pWin_1],Y
 10968 04:2E17: 85 8D        	sta	<L430+pddmData_1
 10969 04:2E19: A0 43 01     	ldy	#$143
 10970 04:2E1C: B7 19        	lda	[<L430+pWin_1],Y
 10971 04:2E1E: 85 8F        	sta	<L430+pddmData_1+2
 10972                        ;			if(pddmData->selected!=-1)
 10973                        	.line	1813
 10974                        ;			{
 10975 04:2E20: A0 BC 01     	ldy	#$1bc
 10976 04:2E23: B7 8D        	lda	[<L430+pddmData_1],Y
 10977 04:2E25: C9 FF FF     	cmp	#<$ffffffff
 10978 04:2E28: D0 03        	bne	L434
 10979 04:2E2A: 82 31 01     	brl	L10133
 10980                        L434:
 10981                        	.line	1814
 10982                        ;				/*
 10983                        ;				k_scratch_restore_bitblt
                    (0,0,
 10984                        ;							
                    			 pWin->win_width,
 10985                        ;							
                    			 pWin->win_height,
 10986                        ;							
                    			 pWin->win_x,
 10987                        ;							
                    			 pWin->win_y);
 10988                        ;				*/
 10989                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,
 10990                        	.line	1822
  Thu Dec  3 2020 22:25                                                Page 214


 10991                        ;							
                    		pWin->win_y,
 10992                        ;							
                    		pWin->win_width,
 10993                        ;							
                    		pWin->win_height,
 10994                        ;							
                    		0,
 10995                        ;							
                    		0x00);
 10996 04:2E2D: F4 00 00     	pea	#<$0
 10997 04:2E30: F4 00 00     	pea	#<$0
 10998 04:2E33: A0 0E 00     	ldy	#$e
 10999 04:2E36: B7 19        	lda	[<L430+pWin_1],Y
 11000 04:2E38: 48           	pha
 11001 04:2E39: A0 0C 00     	ldy	#$c
 11002 04:2E3C: B7 19        	lda	[<L430+pWin_1],Y
 11003 04:2E3E: 48           	pha
 11004 04:2E3F: A0 00 00     	ldy	#$0
 11005 04:2E42: 5A           	phy
 11006 04:2E43: A0 0A 00     	ldy	#$a
 11007 04:2E46: B7 19        	lda	[<L430+pWin_1],Y
 11008 04:2E48: 7A           	ply
 11009 04:2E49: 2A           	rol	A
 11010 04:2E4A: 6A           	ror	A
 11011 04:2E4B: 10 01        	bpl	L435
 11012 04:2E4D: 88           	dey
 11013                        L435:
 11014 04:2E4E: 85 01        	sta	<R0
 11015 04:2E50: 84 03        	sty	<R0+2
 11016 04:2E52: D4 03        	pei	<R0+2
 11017 04:2E54: D4 01        	pei	<R0
 11018 04:2E56: A0 00 00     	ldy	#$0
 11019 04:2E59: 5A           	phy
 11020 04:2E5A: A0 08 00     	ldy	#$8
 11021 04:2E5D: B7 19        	lda	[<L430+pWin_1],Y
 11022 04:2E5F: 7A           	ply
 11023 04:2E60: 2A           	rol	A
 11024 04:2E61: 6A           	ror	A
 11025 04:2E62: 10 01        	bpl	L436
 11026 04:2E64: 88           	dey
 11027                        L436:
 11028 04:2E65: 85 05        	sta	<R1
 11029 04:2E67: 84 07        	sty	<R1+2
 11030 04:2E69: D4 07        	pei	<R1+2
 11031 04:2E6B: D4 05        	pei	<R1
 11032 04:2E6D: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
 11033                        ;
 11034                        ;				pWin->isVisible = FALSE;
 11035                        	.line	1829
 11036 04:2E71: E2 20        	sep	#$20
 11037                        	longa	off
 11038 04:2E73: A9 00        	lda	#$0
 11039 04:2E75: A0 40 01     	ldy	#$140
 11040 04:2E78: 97 19        	sta	[<L430+pWin_1],Y
 11041 04:2E7A: C2 20        	rep	#$20
 11042                        	longa	on
 11043                        ;
  Thu Dec  3 2020 22:25                                                Page 215


 11044                        ;				k_debug_pointer("k_size_
                    dropdown_menus:hwnd:",pMsg->hwnd);
 11045                        	.line	1831
 11046 04:2E7C: A0 0C 00     	ldy	#$c
 11047 04:2E7F: B7 96        	lda	[<L429+pMsg_0],Y
 11048 04:2E81: 48           	pha
 11049 04:2E82: A0 0A 00     	ldy	#$a
 11050 04:2E85: B7 96        	lda	[<L429+pMsg_0],Y
 11051 04:2E87: 48           	pha
 11052 04:2E88: F4 xx xx     	pea	#^L428+126
 11053 04:2E8B: F4 xx xx     	pea	#<L428+126
 11054 04:2E8E: 22 xx xx xx  	jsl	~~k_debug_pointer
 11055                        ;				k_debug_integer("k_size_
                    dropdown_menus:id:",pddmData->selected);
 11056                        	.line	1832
 11057 04:2E92: A0 BC 01     	ldy	#$1bc
 11058 04:2E95: B7 8D        	lda	[<L430+pddmData_1],Y
 11059 04:2E97: 48           	pha
 11060 04:2E98: F4 xx xx     	pea	#^L428+154
 11061 04:2E9B: F4 xx xx     	pea	#<L428+154
 11062 04:2E9E: 22 xx xx xx  	jsl	~~k_debug_integer
 11063                        ;				k_debug_integer("k_size_
                    dropdown_menus:id:",pddmData->ids[pddmData->selected]);
 11064                        	.line	1833
 11065 04:2EA2: A0 BC 01     	ldy	#$1bc
 11066 04:2EA5: B7 8D        	lda	[<L430+pddmData_1],Y
 11067 04:2EA7: 85 05        	sta	<R1
 11068 04:2EA9: 64 07        	stz	<R1+2
 11069 04:2EAB: D4 07        	pei	<R1+2
 11070 04:2EAD: D4 05        	pei	<R1
 11071 04:2EAF: A9 01 00     	lda	#$1
 11072                        	xref	~~~lasl
 11073 04:2EB2: 22 xx xx xx  	jsl	~~~lasl
 11074 04:2EB6: 85 01        	sta	<R0
 11075 04:2EB8: 86 03        	stx	<R0+2
 11076 04:2EBA: 18           	clc
 11077 04:2EBB: A9 84 00     	lda	#$84
 11078 04:2EBE: 65 8D        	adc	<L430+pddmData_1
 11079 04:2EC0: 85 09        	sta	<R2
 11080 04:2EC2: A9 00 00     	lda	#$0
 11081 04:2EC5: 65 8F        	adc	<L430+pddmData_1+2
 11082 04:2EC7: 85 0B        	sta	<R2+2
 11083 04:2EC9: 18           	clc
 11084 04:2ECA: A5 09        	lda	<R2
 11085 04:2ECC: 65 01        	adc	<R0
 11086 04:2ECE: 85 0D        	sta	<R3
 11087 04:2ED0: A5 0B        	lda	<R2+2
 11088 04:2ED2: 65 03        	adc	<R0+2
 11089 04:2ED4: 85 0F        	sta	<R3+2
 11090 04:2ED6: A7 0D        	lda	[<R3]
 11091 04:2ED8: 48           	pha
 11092 04:2ED9: F4 xx xx     	pea	#^L428+180
 11093 04:2EDC: F4 xx xx     	pea	#<L428+180
 11094 04:2EDF: 22 xx xx xx  	jsl	~~k_debug_integer
 11095                        ;
 11096                        ;
 11097                        ;
 11098                        ;
  Thu Dec  3 2020 22:25                                                Page 216


 11099                        ;				k_send_command_message(p
                    Win->pParentWindow,
 11100                        	.line	1838
 11101                        ;						 	
                     	 	   FX_MENU_COMMAND,
 11102                        ;							
                    		   CTL_MENU_SELECTED,
 11103                        ;							
                    		   pddmData->ids[pddmData->selected],
 11104                        ;							
                    		   pddmData->selected,
 11105                        ;							
                    		   (ULONG)pWin->hMenu);
 11106 04:2EE3: A0 36 01     	ldy	#$136
 11107 04:2EE6: B7 19        	lda	[<L430+pWin_1],Y
 11108 04:2EE8: 48           	pha
 11109 04:2EE9: A0 34 01     	ldy	#$134
 11110 04:2EEC: B7 19        	lda	[<L430+pWin_1],Y
 11111 04:2EEE: 48           	pha
 11112 04:2EEF: A0 BC 01     	ldy	#$1bc
 11113 04:2EF2: B7 8D        	lda	[<L430+pddmData_1],Y
 11114 04:2EF4: 85 01        	sta	<R0
 11115 04:2EF6: 64 03        	stz	<R0+2
 11116 04:2EF8: D4 03        	pei	<R0+2
 11117 04:2EFA: D4 01        	pei	<R0
 11118 04:2EFC: A0 BC 01     	ldy	#$1bc
 11119 04:2EFF: B7 8D        	lda	[<L430+pddmData_1],Y
 11120 04:2F01: 85 09        	sta	<R2
 11121 04:2F03: 64 0B        	stz	<R2+2
 11122 04:2F05: D4 0B        	pei	<R2+2
 11123 04:2F07: D4 09        	pei	<R2
 11124 04:2F09: A9 01 00     	lda	#$1
 11125                        	xref	~~~lasl
 11126 04:2F0C: 22 xx xx xx  	jsl	~~~lasl
 11127 04:2F10: 85 05        	sta	<R1
 11128 04:2F12: 86 07        	stx	<R1+2
 11129 04:2F14: 18           	clc
 11130 04:2F15: A9 84 00     	lda	#$84
 11131 04:2F18: 65 8D        	adc	<L430+pddmData_1
 11132 04:2F1A: 85 0D        	sta	<R3
 11133 04:2F1C: A9 00 00     	lda	#$0
 11134 04:2F1F: 65 8F        	adc	<L430+pddmData_1+2
 11135 04:2F21: 85 0F        	sta	<R3+2
 11136 04:2F23: 18           	clc
 11137 04:2F24: A5 0D        	lda	<R3
 11138 04:2F26: 65 05        	adc	<R1
 11139 04:2F28: 85 11        	sta	<17
 11140 04:2F2A: A5 0F        	lda	<R3+2
 11141 04:2F2C: 65 07        	adc	<R1+2
 11142 04:2F2E: 85 13        	sta	<17+2
 11143 04:2F30: A7 11        	lda	[<17]
 11144 04:2F32: 48           	pha
 11145 04:2F33: F4 01 00     	pea	#<$1
 11146 04:2F36: F4 01 FA     	pea	#<$fa01
 11147 04:2F39: A0 32 01     	ldy	#$132
 11148 04:2F3C: B7 19        	lda	[<L430+pWin_1],Y
 11149 04:2F3E: 48           	pha
 11150 04:2F3F: A0 30 01     	ldy	#$130
  Thu Dec  3 2020 22:25                                                Page 217


 11151 04:2F42: B7 19        	lda	[<L430+pWin_1],Y
 11152 04:2F44: 48           	pha
 11153 04:2F45: 22 xx xx xx  	jsl	~~k_send_command_message
 11154                        ;
 11155                        ;				return FALSE;
 11156                        	.line	1845
 11157 04:2F49: A9 00 00     	lda	#$0
 11158                        L437:
 11159 04:2F4C: A8           	tay
 11160 04:2F4D: A5 94        	lda	<L429+2
 11161 04:2F4F: 85 98        	sta	<L429+2+4
 11162 04:2F51: A5 93        	lda	<L429+1
 11163 04:2F53: 85 97        	sta	<L429+1+4
 11164 04:2F55: 2B           	pld
 11165 04:2F56: 3B           	tsc
 11166 04:2F57: 18           	clc
 11167 04:2F58: 69 96 00     	adc	#L429+4
 11168 04:2F5B: 1B           	tcs
 11169 04:2F5C: 98           	tya
 11170 04:2F5D: 6B           	rtl
 11171                        ;			}
 11172                        	.line	1846
 11173                        ;
 11174                        ;			break;
 11175                        L10133:
 11176                        	.line	1848
 11177 04:2F5E: 82 80 01     	brl	L10128
 11178                        ;
 11179                        ;		case FX_LBUTTON_UP:
 11180                        	.line	1850
 11181                        L10134:
 11182                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_LBUTTON_UP\r\n");
 11183                        	.line	1851
 11184 04:2F61: F4 xx xx     	pea	#^L428+206
 11185 04:2F64: F4 xx xx     	pea	#<L428+206
 11186 04:2F67: 22 xx xx xx  	jsl	~~k_debug_string
 11187                        ;			break;
 11188                        	.line	1852
 11189 04:2F6B: 82 73 01     	brl	L10128
 11190                        ;		case FX_MOUSE_ENTER:
 11191                        	.line	1853
 11192                        L10135:
 11193                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_MOUSE_ENTER\r\n");
 11194                        	.line	1854
 11195 04:2F6E: F4 xx xx     	pea	#^L428+246
 11196 04:2F71: F4 xx xx     	pea	#<L428+246
 11197 04:2F74: 22 xx xx xx  	jsl	~~k_debug_string
 11198                        ;
 11199                        ;			break;
 11200                        	.line	1856
 11201 04:2F78: 82 66 01     	brl	L10128
 11202                        ;		case FX_MOUSE_MOVE:
 11203                        	.line	1857
 11204                        L10136:
 11205                        ;
 11206                        ;			cy = *((INT*)&pMsg->data[3]) - p
  Thu Dec  3 2020 22:25                                                Page 218


                    Win->win_y;
 11207                        	.line	1859
 11208 04:2F7B: 38           	sec
 11209 04:2F7C: A0 19 00     	ldy	#$19
 11210 04:2F7F: B7 96        	lda	[<L429+pMsg_0],Y
 11211 04:2F81: A0 0A 00     	ldy	#$a
 11212 04:2F84: F7 19        	sbc	[<L430+pWin_1],Y
 11213 04:2F86: 85 87        	sta	<L430+cy_1
 11214                        ;
 11215                        ;			if(cy > 4 &&  cy < (pWin->win_y+
                    pWin->win_height))
 11216                        	.line	1861
 11217                        ;			{
 11218 04:2F88: A9 04 00     	lda	#$4
 11219 04:2F8B: C5 87        	cmp	<L430+cy_1
 11220 04:2F8D: 90 03        	bcc	L438
 11221 04:2F8F: 82 AB 00     	brl	L10137
 11222                        L438:
 11223 04:2F92: 18           	clc
 11224 04:2F93: A0 0A 00     	ldy	#$a
 11225 04:2F96: B7 19        	lda	[<L430+pWin_1],Y
 11226 04:2F98: A0 0E 00     	ldy	#$e
 11227 04:2F9B: 77 19        	adc	[<L430+pWin_1],Y
 11228 04:2F9D: 85 01        	sta	<R0
 11229 04:2F9F: A5 87        	lda	<L430+cy_1
 11230 04:2FA1: C5 01        	cmp	<R0
 11231 04:2FA3: 90 03        	bcc	L439
 11232 04:2FA5: 82 95 00     	brl	L10137
 11233                        L439:
 11234                        	.line	1862
 11235                        ;				size = (INT)((cy - 4)/10
                    );
 11236                        	.line	1863
 11237 04:2FA8: 18           	clc
 11238 04:2FA9: A9 FC FF     	lda	#$fffc
 11239 04:2FAC: 65 87        	adc	<L430+cy_1
 11240 04:2FAE: 85 01        	sta	<R0
 11241 04:2FB0: A5 01        	lda	<R0
 11242 04:2FB2: A2 0A 00     	ldx	#<$a
 11243                        	xref	~~~udv
 11244 04:2FB5: 22 xx xx xx  	jsl	~~~udv
 11245 04:2FB9: 85 85        	sta	<L430+size_1
 11246                        ;
 11247                        ;				pddmData = (PMENUDROPDOW
                    NDATA)pWin->windowData;
 11248                        	.line	1865
 11249 04:2FBB: A0 41 01     	ldy	#$141
 11250 04:2FBE: B7 19        	lda	[<L430+pWin_1],Y
 11251 04:2FC0: 85 8D        	sta	<L430+pddmData_1
 11252 04:2FC2: A0 43 01     	ldy	#$143
 11253 04:2FC5: B7 19        	lda	[<L430+pWin_1],Y
 11254 04:2FC7: 85 8F        	sta	<L430+pddmData_1+2
 11255                        ;				if(pddmData)
 11256                        	.line	1866
 11257                        ;				{
 11258 04:2FC9: A5 8D        	lda	<L430+pddmData_1
 11259 04:2FCB: 05 8F        	ora	<L430+pddmData_1+2
 11260 04:2FCD: D0 03        	bne	L440
  Thu Dec  3 2020 22:25                                                Page 219


 11261 04:2FCF: 82 6B 00     	brl	L10138
 11262                        L440:
 11263                        	.line	1867
 11264                        ;					if(pddmData->sel
                    ected!=size)
 11265                        	.line	1868
 11266                        ;					{
 11267 04:2FD2: A0 BC 01     	ldy	#$1bc
 11268 04:2FD5: B7 8D        	lda	[<L430+pddmData_1],Y
 11269 04:2FD7: C5 85        	cmp	<L430+size_1
 11270 04:2FD9: D0 03        	bne	L441
 11271 04:2FDB: 82 5F 00     	brl	L10139
 11272                        L441:
 11273                        	.line	1869
 11274                        ;						k_create
                    _context_menu_in_window_ex(pWin,
 11275                        	.line	1870
 11276                        ;							
                    						    size,
 11277                        ;							
                    							pddmData
                    ->selected,
 11278                        ;							
                    						    pWin->win_x,
 11279                        ;							
                    						    pWin->win_y,
 11280                        ;							
                    						    pWin->win_wi
                    dth,
 11281                        ;							
                    						    pWin->win_he
                    ight,
 11282                        ;							
                    						    pddmData->ca
                    ptions,
 11283                        ;							
                    							pddmData
                    ->chrome,
 11284                        ;							
                    						    k_getUIGadge
                    tColor(),
 11285                        ;							
                    						    k_getUIMenuC
                    olor());
 11286 04:2FDE: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 11287 04:2FE2: 48           	pha
 11288 04:2FE3: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 11289 04:2FE7: 48           	pha
 11290 04:2FE8: 18           	clc
 11291 04:2FE9: A9 6C 00     	lda	#$6c
 11292 04:2FEC: 65 8D        	adc	<L430+pddmData_1
 11293 04:2FEE: 85 01        	sta	<R0
 11294 04:2FF0: A9 00 00     	lda	#$0
 11295 04:2FF3: 65 8F        	adc	<L430+pddmData_1+2
 11296 04:2FF5: 85 03        	sta	<R0+2
 11297 04:2FF7: D4 03        	pei	<R0+2
 11298 04:2FF9: D4 01        	pei	<R0
 11299 04:2FFB: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 220


 11300 04:2FFC: A9 0C 00     	lda	#$c
 11301 04:2FFF: 65 8D        	adc	<L430+pddmData_1
 11302 04:3001: 85 05        	sta	<R1
 11303 04:3003: A9 00 00     	lda	#$0
 11304 04:3006: 65 8F        	adc	<L430+pddmData_1+2
 11305 04:3008: 85 07        	sta	<R1+2
 11306 04:300A: D4 07        	pei	<R1+2
 11307 04:300C: D4 05        	pei	<R1
 11308 04:300E: A0 0E 00     	ldy	#$e
 11309 04:3011: B7 19        	lda	[<L430+pWin_1],Y
 11310 04:3013: 48           	pha
 11311 04:3014: A0 0C 00     	ldy	#$c
 11312 04:3017: B7 19        	lda	[<L430+pWin_1],Y
 11313 04:3019: 48           	pha
 11314 04:301A: A0 0A 00     	ldy	#$a
 11315 04:301D: B7 19        	lda	[<L430+pWin_1],Y
 11316 04:301F: 48           	pha
 11317 04:3020: A0 08 00     	ldy	#$8
 11318 04:3023: B7 19        	lda	[<L430+pWin_1],Y
 11319 04:3025: 48           	pha
 11320 04:3026: A0 BC 01     	ldy	#$1bc
 11321 04:3029: B7 8D        	lda	[<L430+pddmData_1],Y
 11322 04:302B: 48           	pha
 11323 04:302C: D4 85        	pei	<L430+size_1
 11324 04:302E: D4 1B        	pei	<L430+pWin_1+2
 11325 04:3030: D4 19        	pei	<L430+pWin_1
 11326 04:3032: 22 xx xx xx  	jsl	~~k_create_context_menu_in_window_ex
 11327                        ;						pddmData
                    ->selected = size;
 11328                        	.line	1881
 11329 04:3036: A5 85        	lda	<L430+size_1
 11330 04:3038: A0 BC 01     	ldy	#$1bc
 11331 04:303B: 97 8D        	sta	[<L430+pddmData_1],Y
 11332                        ;					}
 11333                        	.line	1882
 11334                        ;				}
 11335                        L10139:
 11336                        	.line	1883
 11337                        ;			}
 11338                        L10138:
 11339                        	.line	1884
 11340                        ;
 11341                        ;
 11342                        ;			break;
 11343                        L10137:
 11344                        	.line	1887
 11345 04:303D: 82 A1 00     	brl	L10128
 11346                        ;
 11347                        ;		case FX_MOUSE_EXIT:
 11348                        	.line	1889
 11349                        L10140:
 11350                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_MOUSE_EXIT\r\n");
 11351                        	.line	1890
 11352 04:3040: F4 xx xx     	pea	#^L428+287
 11353 04:3043: F4 xx xx     	pea	#<L428+287
 11354 04:3046: 22 xx xx xx  	jsl	~~k_debug_string
 11355                        ;			/*
  Thu Dec  3 2020 22:25                                                Page 221


 11356                        ;			k_scratch_restore_bitblt(0,0,
 11357                        ;							
                    		 pWin->win_width,
 11358                        ;							
                    		 pWin->win_height,
 11359                        ;							
                    		 pWin->win_x,
 11360                        ;							
                    		 pWin->win_y);
 11361                        ;
 11362                        ;			*/
 11363                        ;			k_vdma_fill_rect_ex(pWin->win_x,
 11364                        	.line	1899
 11365                        ;					 	 	
                     	 pWin->win_y,
 11366                        ;							
                    	 pWin->win_width,
 11367                        ;							
                    	 pWin->win_height,
 11368                        ;							
                    	 0,
 11369                        ;							
                    	 0x00);
 11370 04:304A: F4 00 00     	pea	#<$0
 11371 04:304D: F4 00 00     	pea	#<$0
 11372 04:3050: A0 0E 00     	ldy	#$e
 11373 04:3053: B7 19        	lda	[<L430+pWin_1],Y
 11374 04:3055: 48           	pha
 11375 04:3056: A0 0C 00     	ldy	#$c
 11376 04:3059: B7 19        	lda	[<L430+pWin_1],Y
 11377 04:305B: 48           	pha
 11378 04:305C: A0 00 00     	ldy	#$0
 11379 04:305F: 5A           	phy
 11380 04:3060: A0 0A 00     	ldy	#$a
 11381 04:3063: B7 19        	lda	[<L430+pWin_1],Y
 11382 04:3065: 7A           	ply
 11383 04:3066: 2A           	rol	A
 11384 04:3067: 6A           	ror	A
 11385 04:3068: 10 01        	bpl	L442
 11386 04:306A: 88           	dey
 11387                        L442:
 11388 04:306B: 85 01        	sta	<R0
 11389 04:306D: 84 03        	sty	<R0+2
 11390 04:306F: D4 03        	pei	<R0+2
 11391 04:3071: D4 01        	pei	<R0
 11392 04:3073: A0 00 00     	ldy	#$0
 11393 04:3076: 5A           	phy
 11394 04:3077: A0 08 00     	ldy	#$8
 11395 04:307A: B7 19        	lda	[<L430+pWin_1],Y
 11396 04:307C: 7A           	ply
 11397 04:307D: 2A           	rol	A
 11398 04:307E: 6A           	ror	A
 11399 04:307F: 10 01        	bpl	L443
 11400 04:3081: 88           	dey
 11401                        L443:
 11402 04:3082: 85 05        	sta	<R1
 11403 04:3084: 84 07        	sty	<R1+2
 11404 04:3086: D4 07        	pei	<R1+2
  Thu Dec  3 2020 22:25                                                Page 222


 11405 04:3088: D4 05        	pei	<R1
 11406 04:308A: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
 11407                        ;
 11408                        ;			pWin->isVisible = FALSE;
 11409                        	.line	1906
 11410 04:308E: E2 20        	sep	#$20
 11411                        	longa	off
 11412 04:3090: A9 00        	lda	#$0
 11413 04:3092: A0 40 01     	ldy	#$140
 11414 04:3095: 97 19        	sta	[<L430+pWin_1],Y
 11415 04:3097: C2 20        	rep	#$20
 11416                        	longa	on
 11417                        ;
 11418                        ;			return FALSE;
 11419                        	.line	1908
 11420 04:3099: A9 00 00     	lda	#$0
 11421 04:309C: 82 AD FE     	brl	L437
 11422                        ;
 11423                        ;			break;
 11424                        	.line	1910
 11425                        ;		case FX_CONTROL_COMMAND:
 11426                        	.line	1911
 11427                        L10141:
 11428                        ;		case FX_MENU_COMMAND:
 11429                        	.line	1912
 11430                        L10142:
 11431                        ;			k_debug_integer("menuDropDownWin
                    dowProc::FX_MENU_COMMAND:",pMsg->type);
 11432                        	.line	1913
 11433 04:309F: A0 08 00     	ldy	#$8
 11434 04:30A2: B7 96        	lda	[<L429+pMsg_0],Y
 11435 04:30A4: 48           	pha
 11436 04:30A5: F4 xx xx     	pea	#^L428+327
 11437 04:30A8: F4 xx xx     	pea	#<L428+327
 11438 04:30AB: 22 xx xx xx  	jsl	~~k_debug_integer
 11439                        ;			break;
 11440                        	.line	1914
 11441 04:30AF: 82 2F 00     	brl	L10128
 11442                        ;		default:
 11443                        	.line	1915
 11444                        L10143:
 11445                        ;			//DefWindowProc(pMsg);
 11446                        ;			break;
 11447                        	.line	1917
 11448 04:30B2: 82 2C 00     	brl	L10128
 11449                        ;		}
 11450                        	.line	1918
 11451                        L10127:
 11452                        	xref	~~~swt
 11453 04:30B5: 22 xx xx xx  	jsl	~~~swt
 11454 04:30B9: 09 00        	dw	9
 11455 04:30BB: 01 0F        	dw	3841
 11456 04:30BD: 6D 2F        	dw	L10135-1
 11457 04:30BF: 02 0F        	dw	3842
 11458 04:30C1: 3F 30        	dw	L10140-1
 11459 04:30C3: 03 0F        	dw	3843
 11460 04:30C5: 7A 2F        	dw	L10136-1
 11461 04:30C7: 04 0F        	dw	3844
  Thu Dec  3 2020 22:25                                                Page 223


 11462 04:30C9: 07 2E        	dw	L10132-1
 11463 04:30CB: 06 0F        	dw	3846
 11464 04:30CD: 60 2F        	dw	L10134-1
 11465 04:30CF: 00 FA        	dw	64000
 11466 04:30D1: 9E 30        	dw	L10141-1
 11467 04:30D3: 01 FA        	dw	64001
 11468 04:30D5: 9E 30        	dw	L10142-1
 11469 04:30D7: 00 FB        	dw	64256
 11470 04:30D9: 8D 2D        	dw	L10130-1
 11471 04:30DB: 03 FF        	dw	65283
 11472 04:30DD: 67 2D        	dw	L10129-1
 11473 04:30DF: B1 30        	dw	L10143-1
 11474                        L10128:
 11475                        ;	}
 11476                        	.line	1919
 11477                        ;
 11478                        ;	return TRUE;
 11479                        L10126:
 11480                        	.line	1921
 11481 04:30E1: A9 01 00     	lda	#$1
 11482 04:30E4: 82 65 FE     	brl	L437
 11483                        ;
 11484                        ;}
 11485                        	.line	1923
 11486                        	.endblock	1923
 11487             00000092   L429	equ	146
 11488             00000015   L430	equ	21
 11489 04:30E7:              	ends
 11490                        	efunc
 11491                        	.endfunc	1923,21,146
 11492                        	.line	1923
 11493                        	data
 11494                        L428:
 11495 00:090A: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$44,$72,$6F,$70,$44,$6F,
                    $77,$6E,$57,$69,$6E
       00:090E: 44 72 6F 70 
       00:0912: 44 6F 77 6E 
       00:0916: 57 69 6E 
 11496 00:0919: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$43,$52,$45
       00:091D: 72 6F 63 3A 
       00:0921: 3A 46 58 5F 
       00:0925: 43 52 45 
 11497 00:0928: 41 54 45 5F  	db	$41,$54,$45,$5F,$57,$49,$4E,$44,$4F,$57,
                    $0D,$0A,$00,$6D,$65
       00:092C: 57 49 4E 44 
       00:0930: 4F 57 0D 0A 
       00:0934: 00 6D 65 
 11498 00:0937: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $57,$69,$6E,$64,$6F
       00:093B: 6F 70 44 6F 
       00:093F: 77 6E 57 69 
       00:0943: 6E 64 6F 
 11499 00:0946: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $44,$52,$41,$57,$5F
       00:094A: 63 3A 3A 46 
       00:094E: 58 5F 44 52 
       00:0952: 41 57 5F 
  Thu Dec  3 2020 22:25                                                Page 224


 11500 00:0955: 57 49 4E 44  	db	$57,$49,$4E,$44,$4F,$57,$0D,$0A,$00,$6D,
                    $65,$6E,$75,$44,$72
       00:0959: 4F 57 0D 0A 
       00:095D: 00 6D 65 6E 
       00:0961: 75 44 72 
 11501 00:0964: 6F 70 44 6F  	db	$6F,$70,$44,$6F,$77,$6E,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0968: 77 6E 57 69 
       00:096C: 6E 64 6F 77 
       00:0970: 50 72 6F 
 11502 00:0973: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$4C,$42,$55,$54,
                    $54,$4F,$4E,$5F,$44
       00:0977: 58 5F 4C 42 
       00:097B: 55 54 54 4F 
       00:097F: 4E 5F 44 
 11503 00:0982: 4F 57 4E 0D  	db	$4F,$57,$4E,$0D,$0A,$00,$6B,$5F,$73,$69,
                    $7A,$65,$5F,$64,$72
       00:0986: 0A 00 6B 5F 
       00:098A: 73 69 7A 65 
       00:098E: 5F 64 72 
 11504 00:0991: 6F 70 64 6F  	db	$6F,$70,$64,$6F,$77,$6E,$5F,$6D,$65,$6E,
                    $75,$73,$3A,$68,$77
       00:0995: 77 6E 5F 6D 
       00:0999: 65 6E 75 73 
       00:099D: 3A 68 77 
 11505 00:09A0: 6E 64 3A 00  	db	$6E,$64,$3A,$00,$6B,$5F,$73,$69,$7A,$65,
                    $5F,$64,$72,$6F,$70
       00:09A4: 6B 5F 73 69 
       00:09A8: 7A 65 5F 64 
       00:09AC: 72 6F 70 
 11506 00:09AF: 64 6F 77 6E  	db	$64,$6F,$77,$6E,$5F,$6D,$65,$6E,$75,$73,
                    $3A,$69,$64,$3A,$00
       00:09B3: 5F 6D 65 6E 
       00:09B7: 75 73 3A 69 
       00:09BB: 64 3A 00 
 11507 00:09BE: 6B 5F 73 69  	db	$6B,$5F,$73,$69,$7A,$65,$5F,$64,$72,$6F,
                    $70,$64,$6F,$77,$6E
       00:09C2: 7A 65 5F 64 
       00:09C6: 72 6F 70 64 
       00:09CA: 6F 77 6E 
 11508 00:09CD: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$73,$3A,$69,$64,$3A,
                    $00,$6D,$65,$6E,$75
       00:09D1: 75 73 3A 69 
       00:09D5: 64 3A 00 6D 
       00:09D9: 65 6E 75 
 11509 00:09DC: 44 72 6F 70  	db	$44,$72,$6F,$70,$44,$6F,$77,$6E,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:09E0: 44 6F 77 6E 
       00:09E4: 57 69 6E 64 
       00:09E8: 6F 77 50 
 11510 00:09EB: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:09EF: 3A 46 58 5F 
       00:09F3: 4C 42 55 54 
       00:09F7: 54 4F 4E 
 11511 00:09FA: 5F 55 50 0D  	db	$5F,$55,$50,$0D,$0A,$00,$6D,$65,$6E,$75,
                    $44,$72,$6F,$70,$44
       00:09FE: 0A 00 6D 65 
  Thu Dec  3 2020 22:25                                                Page 225


       00:0A02: 6E 75 44 72 
       00:0A06: 6F 70 44 
 11512 00:0A09: 6F 77 6E 57  	db	$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:0A0D: 69 6E 64 6F 
       00:0A11: 77 50 72 6F 
       00:0A15: 63 3A 3A 
 11513 00:0A18: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $4E,$54,$45,$52,$0D
       00:0A1C: 4F 55 53 45 
       00:0A20: 5F 45 4E 54 
       00:0A24: 45 52 0D 
 11514 00:0A27: 0A 00 6D 65  	db	$0A,$00,$6D,$65,$6E,$75,$44,$72,$6F,$70,
                    $44,$6F,$77,$6E,$57
       00:0A2B: 6E 75 44 72 
       00:0A2F: 6F 70 44 6F 
       00:0A33: 77 6E 57 
 11515 00:0A36: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4D
       00:0A3A: 77 50 72 6F 
       00:0A3E: 63 3A 3A 46 
       00:0A42: 58 5F 4D 
 11516 00:0A45: 4F 55 53 45  	db	$4F,$55,$53,$45,$5F,$45,$58,$49,$54,$0D,
                    $0A,$00,$6D,$65,$6E
       00:0A49: 5F 45 58 49 
       00:0A4D: 54 0D 0A 00 
       00:0A51: 6D 65 6E 
 11517 00:0A54: 75 44 72 6F  	db	$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,$57,
                    $69,$6E,$64,$6F,$77
       00:0A58: 70 44 6F 77 
       00:0A5C: 6E 57 69 6E 
       00:0A60: 64 6F 77 
 11518 00:0A63: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4D,
                    $45,$4E,$55,$5F,$43
       00:0A67: 3A 3A 46 58 
       00:0A6B: 5F 4D 45 4E 
       00:0A6F: 55 5F 43 
 11519 00:0A72: 4F 4D 4D 41  	db	$4F,$4D,$4D,$41,$4E,$44,$3A,$00
       00:0A76: 4E 44 3A 00 
 11520 00:0A7A:              	ends
 11521                        ;
 11522                        ;/*
 11523                        ;PWINDOW	k_user_CreateMenuDropItem(HWND hWndParen
                    t,LPCSTR caption,HMENU hMenu,int x,int y,int width,int heigh
                    t)
 11524                        ;{
 11525                        ;	PWINDOW pWin = NULL;
 11526                        ;
 11527                        ;	k_debug_strings("k_user_CreateMenuDropItem:","En
                    ter");
 11528                        ;
 11529                        ;	pWin = k_user_CreateWindow(0,
 11530                        ;							
                       "menuItemWindowClass",
 11531                        ;							
                        caption,
 11532                        ;							
                    	x,y,
  Thu Dec  3 2020 22:25                                                Page 226


 11533                        ;							
                    	width,height,
 11534                        ;							
                    	hWndParent,
 11535                        ;							
                    	hMenu,
 11536                        ;							
                    	NULL);
 11537                        ;	if(pWin)
 11538                        ;	{
 11539                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);
 11540                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
 11541                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
 11542                        ;		//k_send_command_message(k_getHandleFrom
                    Window(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_s
                    tring_copy_string(caption),0L);
 11543                        ;	}
 11544                        ;
 11545                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","Ex
                    it");
 11546                        ;
 11547                        ;	return pWin;
 11548                        ;}
 11549                        ;
 11550                        ;BOOL menuItemWindowProc(PFXOSMESSAGE pMsg)
 11551                        ;{
 11552                        ;	PFXPROCESS p = NULL;
 11553                        ;	PWINDOW	   pWin = NULL;
 11554                        ;	PBUTTON	   pButton = NULL;
 11555                        ;	//LPCSTR	   captions[] = {"About FX/OS...
                    ",NULL};
 11556                        ;	LPCSTR	   captions[25];
 11557                        ;	UINT	   size = 0;
 11558                        ;	PMENU	   pMenu = NULL;
 11559                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 11560                        ;
 11561                        ;	if(pMsg!=NULL)
 11562                        ;	{
 11563                        ;		p = k_exec_get_current_process();
 11564                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 11565                        ;		//pButton = ((PBUTTON)pWin->windowData);
 11566                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 11567                        ;
 11568                        ;		switch(pMsg->type)
 11569                        ;		{
 11570                        ;		case FX_CREATE_WINDOW:
 11571                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 11572                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_CREATE_WINDOW:",pWin->win_title);
 11573                        ;			break;
 11574                        ;		case FX_MOUSE_ENTER:
 11575                        ;			//k_debug_long("menuDropDownWind
  Thu Dec  3 2020 22:25                                                Page 227


                    owProc::ProcessId:",p->procId);
 11576                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_MOUSE_ENTER:",pWin->win_title);
 11577                        ;
 11578                        ;			//k_vdma_fill_rect(pWin->win_x,p
                    Win->win_y,pWin->win_width,pWin->win_height,k_getUIGadgetCol
                    or());
 11579                        ;			//k_draw_text_point(pWin->win_ti
                    tle,pWin->win_x,pWin->win_y,k_getUIMenuColor());
 11580                        ;
 11581                        ;
 11582                        ;			break;
 11583                        ;		case FX_MOUSE_EXIT:
 11584                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 11585                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_MOUSE_EXIT:",pWin->win_title);
 11586                        ;
 11587                        ;			//k_vdma_fill_rect(pWin->win_x,p
                    Win->win_y,pWin->win_width,pWin->win_height,k_getUIMenuColor
                    ());
 11588                        ;			//k_draw_text_point(pWin->win_ti
                    tle,pWin->win_x,pWin->win_y,k_getUIGadgetColor());
 11589                        ;			break;
 11590                        ;		case FX_DRAW_WINDOW:
 11591                        ;
 11592                        ;			break;
 11593                        ;		case FX_CONTROL_COMMAND:
 11594                        ;			break;
 11595                        ;
 11596                        ;		default:
 11597                        ;			break;
 11598                        ;		}
 11599                        ;	}
 11600                        ;	return TRUE;
 11601                        ;}
 11602                        ;*/
 11603                        ;
 11604                        ;
 11605                        ;PWINDOW	k_user_CreateButton(HWND hWndParent,LPCS
                    TR caption,UINT buttonId,int x,int y,int width,int height)
 11606                        ;{
 11607                        	.line	2008
 11608                        	.line	2009
 11609                        	WINMAN
 11610                        	xdef	~~k_user_CreateButton
 11611                        	func
 11612                        	.function	2009
 11613                        ~~k_user_CreateButton:
 11614                        	longa	on
 11615                        	longi	on
 11616 04:30E7: 3B           	tsc
 11617 04:30E8: 38           	sec
 11618 04:30E9: E9 14 00     	sbc	#L445
 11619 04:30EC: 1B           	tcs
 11620 04:30ED: 0B           	phd
 11621 04:30EE: 5B           	tcd
 11622             00000004   hWndParent_0	set	4
  Thu Dec  3 2020 22:25                                                Page 228


 11623             00000008   caption_0	set	8
 11624             0000000C   buttonId_0	set	12
 11625             0000000E   x_0	set	14
 11626             00000010   y_0	set	16
 11627             00000012   width_0	set	18
 11628             00000014   height_0	set	20
 11629                        	.block	2009
 11630                        ;	PWINDOW pWin = NULL;
 11631                        ;	PWINDOW pParent = NULL;
 11632                        ;
 11633                        ;	//k_debug_strings("k_user_CreateButton:","Enter"
                    );
 11634                        ;
 11635                        ;	if(width < 0)
 11636             00000000   pWin_1	set	0
 11637             00000004   pParent_1	set	4
 11638                        	.sym	pWin,0,138,1,32,27
 11639                        	.sym	pParent,4,138,1,32,27
 11640                        	.sym	hWndParent,4,129,6,32
 11641                        	.sym	caption,8,142,6,32
 11642                        	.sym	buttonId,12,16,6,16
 11643                        	.sym	x,14,5,6,16
 11644                        	.sym	y,16,5,6,16
 11645                        	.sym	width,18,5,6,16
 11646                        	.sym	height,20,5,6,16
 11647 04:30EF: 64 0D        	stz	<L446+pWin_1
 11648 04:30F1: 64 0F        	stz	<L446+pWin_1+2
 11649 04:30F3: 64 11        	stz	<L446+pParent_1
 11650 04:30F5: 64 13        	stz	<L446+pParent_1+2
 11651                        	.line	2015
 11652                        ;		width = (FONTW * strlen(caption)) + (2 *
                     FONTW);
 11653 04:30F7: A5 26        	lda	<L445+width_0
 11654 04:30F9: 30 03        	bmi	L448
 11655 04:30FB: 82 2C 00     	brl	L10144
 11656                        L448:
 11657                        	.line	2016
 11658 04:30FE: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 11659 04:3102: 85 05        	sta	<R1
 11660 04:3104: A5 05        	lda	<R1
 11661 04:3106: 0A           	asl	A
 11662 04:3107: 85 01        	sta	<R0
 11663 04:3109: D4 1E        	pei	<L445+caption_0+2
 11664 04:310B: D4 1C        	pei	<L445+caption_0
 11665 04:310D: 22 xx xx xx  	jsl	~~strlen
 11666 04:3111: 85 05        	sta	<R1
 11667 04:3113: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 11668 04:3117: 85 09        	sta	<R2
 11669 04:3119: A5 09        	lda	<R2
 11670 04:311B: A6 05        	ldx	<R1
 11671                        	xref	~~~mul
 11672 04:311D: 22 xx xx xx  	jsl	~~~mul
 11673 04:3121: 85 05        	sta	<R1
 11674 04:3123: 18           	clc
 11675 04:3124: A5 05        	lda	<R1
 11676 04:3126: 65 01        	adc	<R0
 11677 04:3128: 85 26        	sta	<L445+width_0
 11678                        ;	if(height < 0)
  Thu Dec  3 2020 22:25                                                Page 229


 11679                        L10144:
 11680                        	.line	2017
 11681                        ;		height = FONTH * 3;
 11682 04:312A: A5 28        	lda	<L445+height_0
 11683 04:312C: 30 03        	bmi	L449
 11684 04:312E: 82 0D 00     	brl	L10145
 11685                        L449:
 11686                        	.line	2018
 11687 04:3131: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 11688 04:3135: 85 01        	sta	<R0
 11689 04:3137: A5 01        	lda	<R0
 11690 04:3139: 0A           	asl	A
 11691 04:313A: 65 01        	adc	<R0
 11692 04:313C: 85 28        	sta	<L445+height_0
 11693                        ;
 11694                        ;
 11695                        ;	k_debug_integer("k_user_CreateButton:cx:",x);
 11696                        L10145:
 11697                        	.line	2021
 11698 04:313E: D4 22        	pei	<L445+x_0
 11699 04:3140: F4 xx xx     	pea	#^L444
 11700 04:3143: F4 xx xx     	pea	#<L444
 11701 04:3146: 22 xx xx xx  	jsl	~~k_debug_integer
 11702                        ;	k_debug_integer("k_user_CreateButton:cy:",y);
 11703                        	.line	2022
 11704 04:314A: D4 24        	pei	<L445+y_0
 11705 04:314C: F4 xx xx     	pea	#^L444+24
 11706 04:314F: F4 xx xx     	pea	#<L444+24
 11707 04:3152: 22 xx xx xx  	jsl	~~k_debug_integer
 11708                        ;	k_debug_integer("k_user_CreateButton:width:",wid
                    th);
 11709                        	.line	2023
 11710 04:3156: D4 26        	pei	<L445+width_0
 11711 04:3158: F4 xx xx     	pea	#^L444+48
 11712 04:315B: F4 xx xx     	pea	#<L444+48
 11713 04:315E: 22 xx xx xx  	jsl	~~k_debug_integer
 11714                        ;	k_debug_integer("k_user_CreateButton:height:",he
                    ight);
 11715                        	.line	2024
 11716 04:3162: D4 28        	pei	<L445+height_0
 11717 04:3164: F4 xx xx     	pea	#^L444+75
 11718 04:3167: F4 xx xx     	pea	#<L444+75
 11719 04:316A: 22 xx xx xx  	jsl	~~k_debug_integer
 11720                        ;
 11721                        ;	pWin = k_user_CreateWindow(FXWS_BORDER | FXWS_VI
                    SIBLE,
 11722                        	.line	2026
 11723                        ;							
                       "buttonWindowClass",
 11724                        ;							
                    	caption,
 11725                        ;							
                    	x,y,
 11726                        ;							
                    	width,height,
 11727                        ;							
                    	hWndParent,
 11728                        ;							
  Thu Dec  3 2020 22:25                                                Page 230


                    	(HMENU)buttonId,
 11729                        ;							
                    	NULL);
 11730 04:316E: F4 00 00     	pea	#^$0
 11731 04:3171: F4 00 00     	pea	#<$0
 11732 04:3174: A0 00 00     	ldy	#$0
 11733 04:3177: A5 20        	lda	<L445+buttonId_0
 11734 04:3179: 10 01        	bpl	L450
 11735 04:317B: 88           	dey
 11736                        L450:
 11737 04:317C: 85 01        	sta	<R0
 11738 04:317E: 84 03        	sty	<R0+2
 11739 04:3180: D4 03        	pei	<R0+2
 11740 04:3182: D4 01        	pei	<R0
 11741 04:3184: D4 1A        	pei	<L445+hWndParent_0+2
 11742 04:3186: D4 18        	pei	<L445+hWndParent_0
 11743 04:3188: D4 28        	pei	<L445+height_0
 11744 04:318A: D4 26        	pei	<L445+width_0
 11745 04:318C: D4 24        	pei	<L445+y_0
 11746 04:318E: D4 22        	pei	<L445+x_0
 11747 04:3190: D4 1E        	pei	<L445+caption_0+2
 11748 04:3192: D4 1C        	pei	<L445+caption_0
 11749 04:3194: F4 xx xx     	pea	#^L444+103
 11750 04:3197: F4 xx xx     	pea	#<L444+103
 11751 04:319A: F4 01 00     	pea	#^$10001
 11752 04:319D: F4 01 00     	pea	#<$10001
 11753 04:31A0: 22 08 14 04  	jsl	~~k_user_CreateWindow
 11754 04:31A4: 85 0D        	sta	<L446+pWin_1
 11755 04:31A6: 86 0F        	stx	<L446+pWin_1+2
 11756                        ;
 11757                        ;	k_debug_integer("k_user_CreateButtonA:cx:",pWin-
                    >win_x);
 11758                        	.line	2035
 11759 04:31A8: A0 08 00     	ldy	#$8
 11760 04:31AB: B7 0D        	lda	[<L446+pWin_1],Y
 11761 04:31AD: 48           	pha
 11762 04:31AE: F4 xx xx     	pea	#^L444+121
 11763 04:31B1: F4 xx xx     	pea	#<L444+121
 11764 04:31B4: 22 xx xx xx  	jsl	~~k_debug_integer
 11765                        ;	k_debug_integer("k_user_CreateButtonA:cy:",pWin-
                    >win_y);
 11766                        	.line	2036
 11767 04:31B8: A0 0A 00     	ldy	#$a
 11768 04:31BB: B7 0D        	lda	[<L446+pWin_1],Y
 11769 04:31BD: 48           	pha
 11770 04:31BE: F4 xx xx     	pea	#^L444+146
 11771 04:31C1: F4 xx xx     	pea	#<L444+146
 11772 04:31C4: 22 xx xx xx  	jsl	~~k_debug_integer
 11773                        ;	k_debug_integer("k_user_CreateButtonA:width:",pW
                    in->win_width);
 11774                        	.line	2037
 11775 04:31C8: A0 0C 00     	ldy	#$c
 11776 04:31CB: B7 0D        	lda	[<L446+pWin_1],Y
 11777 04:31CD: 48           	pha
 11778 04:31CE: F4 xx xx     	pea	#^L444+171
 11779 04:31D1: F4 xx xx     	pea	#<L444+171
 11780 04:31D4: 22 xx xx xx  	jsl	~~k_debug_integer
 11781                        ;	k_debug_integer("k_user_CreateButtonA:height:",p
  Thu Dec  3 2020 22:25                                                Page 231


                    Win->win_height);
 11782                        	.line	2038
 11783 04:31D8: A0 0E 00     	ldy	#$e
 11784 04:31DB: B7 0D        	lda	[<L446+pWin_1],Y
 11785 04:31DD: 48           	pha
 11786 04:31DE: F4 xx xx     	pea	#^L444+199
 11787 04:31E1: F4 xx xx     	pea	#<L444+199
 11788 04:31E4: 22 xx xx xx  	jsl	~~k_debug_integer
 11789                        ;
 11790                        ;
 11791                        ;	if(pWin)
 11792                        	.line	2041
 11793                        ;	{
 11794 04:31E8: A5 0D        	lda	<L446+pWin_1
 11795 04:31EA: 05 0F        	ora	<L446+pWin_1+2
 11796 04:31EC: D0 03        	bne	L451
 11797 04:31EE: 82 4F 00     	brl	L10146
 11798                        L451:
 11799                        	.line	2042
 11800                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);//k_buttonHitDe
                    tected);
 11801                        ;
 11802                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
 11803                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
 11804                        	.line	2046
 11805 04:31F1: F4 00 00     	pea	#<$0
 11806 04:31F4: F4 00 00     	pea	#^$0
 11807 04:31F7: F4 00 00     	pea	#<$0
 11808 04:31FA: F4 03 FF     	pea	#<$ff03
 11809 04:31FD: D4 0F        	pei	<L446+pWin_1+2
 11810 04:31FF: D4 0D        	pei	<L446+pWin_1
 11811 04:3201: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 11812 04:3205: 85 01        	sta	<R0
 11813 04:3207: 86 03        	stx	<R0+2
 11814 04:3209: DA           	phx
 11815 04:320A: 48           	pha
 11816 04:320B: 22 xx xx xx  	jsl	~~k_send_window_message
 11817                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_command_message");
 11818                        ;		k_send_command_message(k_getHandleFromWi
                    ndow(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_str
                    ing_copy_string(caption),0L);
 11819                        	.line	2048
 11820 04:320F: F4 00 00     	pea	#^$0
 11821 04:3212: F4 00 00     	pea	#<$0
 11822 04:3215: D4 1E        	pei	<L445+caption_0+2
 11823 04:3217: D4 1C        	pei	<L445+caption_0
 11824 04:3219: 22 xx xx xx  	jsl	~~k_string_copy_string
 11825 04:321D: 85 01        	sta	<R0
 11826 04:321F: 86 03        	stx	<R0+2
 11827 04:3221: D4 03        	pei	<R0+2
 11828 04:3223: D4 01        	pei	<R0
 11829 04:3225: F4 00 00     	pea	#<$0
 11830 04:3228: F4 01 00     	pea	#<$1
 11831 04:322B: F4 00 FA     	pea	#<$fa00
  Thu Dec  3 2020 22:25                                                Page 232


 11832 04:322E: D4 0F        	pei	<L446+pWin_1+2
 11833 04:3230: D4 0D        	pei	<L446+pWin_1
 11834 04:3232: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 11835 04:3236: 85 05        	sta	<R1
 11836 04:3238: 86 07        	stx	<R1+2
 11837 04:323A: DA           	phx
 11838 04:323B: 48           	pha
 11839 04:323C: 22 xx xx xx  	jsl	~~k_send_command_message
 11840                        ;
 11841                        ;	}
 11842                        	.line	2050
 11843                        ;
 11844                        ;	//k_debug_strings("k_user_CreateButton:","Exit")
                    ;
 11845                        ;
 11846                        ;	return pWin;
 11847                        L10146:
 11848                        	.line	2054
 11849 04:3240: A6 0F        	ldx	<L446+pWin_1+2
 11850 04:3242: A5 0D        	lda	<L446+pWin_1
 11851                        L452:
 11852 04:3244: A8           	tay
 11853 04:3245: A5 16        	lda	<L445+2
 11854 04:3247: 85 28        	sta	<L445+2+18
 11855 04:3249: A5 15        	lda	<L445+1
 11856 04:324B: 85 27        	sta	<L445+1+18
 11857 04:324D: 2B           	pld
 11858 04:324E: 3B           	tsc
 11859 04:324F: 18           	clc
 11860 04:3250: 69 26 00     	adc	#L445+18
 11861 04:3253: 1B           	tcs
 11862 04:3254: 98           	tya
 11863 04:3255: 6B           	rtl
 11864                        ;}
 11865                        	.line	2055
 11866                        	.endblock	2055
 11867             00000014   L445	equ	20
 11868             0000000D   L446	equ	13
 11869 04:3256:              	ends
 11870                        	efunc
 11871                        	.endfunc	2055,13,20
 11872                        	.line	2055
 11873                        	data
 11874                        L444:
 11875 00:0A7A: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$42,$75
       00:0A7E: 65 72 5F 43 
       00:0A82: 72 65 61 74 
       00:0A86: 65 42 75 
 11876 00:0A89: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$3A,$63,$78,$3A,$00,$6B,
                    $5F,$75,$73,$65,$72
       00:0A8D: 3A 63 78 3A 
       00:0A91: 00 6B 5F 75 
       00:0A95: 73 65 72 
 11877 00:0A98: 5F 43 72 65  	db	$5F,$43,$72,$65,$61,$74,$65,$42,$75,$74,
                    $74,$6F,$6E,$3A,$63
       00:0A9C: 61 74 65 42 
       00:0AA0: 75 74 74 6F 
  Thu Dec  3 2020 22:25                                                Page 233


       00:0AA4: 6E 3A 63 
 11878 00:0AA7: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,
                    $43,$72,$65,$61,$74
       00:0AAB: 5F 75 73 65 
       00:0AAF: 72 5F 43 72 
       00:0AB3: 65 61 74 
 11879 00:0AB6: 65 42 75 74  	db	$65,$42,$75,$74,$74,$6F,$6E,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0ABA: 74 6F 6E 3A 
       00:0ABE: 77 69 64 74 
       00:0AC2: 68 3A 00 
 11880 00:0AC5: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$42,$75
       00:0AC9: 65 72 5F 43 
       00:0ACD: 72 65 61 74 
       00:0AD1: 65 42 75 
 11881 00:0AD4: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$3A,$68,$65,$69,$67,$68,
                    $74,$3A,$00,$62,$75
       00:0AD8: 3A 68 65 69 
       00:0ADC: 67 68 74 3A 
       00:0AE0: 00 62 75 
 11882 00:0AE3: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:0AE7: 57 69 6E 64 
       00:0AEB: 6F 77 43 6C 
       00:0AEF: 61 73 73 
 11883 00:0AF2: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$42
       00:0AF6: 73 65 72 5F 
       00:0AFA: 43 72 65 61 
       00:0AFE: 74 65 42 
 11884 00:0B01: 75 74 74 6F  	db	$75,$74,$74,$6F,$6E,$41,$3A,$63,$78,$3A,
                    $00,$6B,$5F,$75,$73
       00:0B05: 6E 41 3A 63 
       00:0B09: 78 3A 00 6B 
       00:0B0D: 5F 75 73 
 11885 00:0B10: 65 72 5F 43  	db	$65,$72,$5F,$43,$72,$65,$61,$74,$65,$42,
                    $75,$74,$74,$6F,$6E
       00:0B14: 72 65 61 74 
       00:0B18: 65 42 75 74 
       00:0B1C: 74 6F 6E 
 11886 00:0B1F: 41 3A 63 79  	db	$41,$3A,$63,$79,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$43,$72
       00:0B23: 3A 00 6B 5F 
       00:0B27: 75 73 65 72 
       00:0B2B: 5F 43 72 
 11887 00:0B2E: 65 61 74 65  	db	$65,$61,$74,$65,$42,$75,$74,$74,$6F,$6E,
                    $41,$3A,$77,$69,$64
       00:0B32: 42 75 74 74 
       00:0B36: 6F 6E 41 3A 
       00:0B3A: 77 69 64 
 11888 00:0B3D: 74 68 3A 00  	db	$74,$68,$3A,$00,$6B,$5F,$75,$73,$65,$72,
                    $5F,$43,$72,$65,$61
       00:0B41: 6B 5F 75 73 
       00:0B45: 65 72 5F 43 
       00:0B49: 72 65 61 
 11889 00:0B4C: 74 65 42 75  	db	$74,$65,$42,$75,$74,$74,$6F,$6E,$41,$3A,
                    $68,$65,$69,$67,$68
  Thu Dec  3 2020 22:25                                                Page 234


       00:0B50: 74 74 6F 6E 
       00:0B54: 41 3A 68 65 
       00:0B58: 69 67 68 
 11890 00:0B5B: 74 3A 00     	db	$74,$3A,$00
 11891 00:0B5E:              	ends
 11892                        ;
 11893                        ;BOOL buttonWindowProc(PFXOSMESSAGE pMsg)
 11894                        ;{
 11895                        	.line	2057
 11896                        	.line	2058
 11897                        	WINMAN
 11898                        	xdef	~~buttonWindowProc
 11899                        	func
 11900                        	.function	2058
 11901                        ~~buttonWindowProc:
 11902                        	longa	on
 11903                        	longi	on
 11904 04:3256: 3B           	tsc
 11905 04:3257: 38           	sec
 11906 04:3258: E9 1A 00     	sbc	#L454
 11907 04:325B: 1B           	tcs
 11908 04:325C: 0B           	phd
 11909 04:325D: 5B           	tcd
 11910             00000004   pMsg_0	set	4
 11911                        	.block	2058
 11912                        ;	PFXPROCESS p = NULL;
 11913                        ;	PWINDOW	   pWin = NULL;
 11914                        ;	PBUTTON	   pButton = NULL;
 11915                        ;	UINT	   size = 0;
 11916                        ;
 11917                        ;	if(pMsg!=NULL)
 11918             00000000   p_1	set	0
 11919             00000004   pWin_1	set	4
 11920             00000008   pButton_1	set	8
 11921             0000000C   size_1	set	12
 11922                        	.sym	p,0,138,1,32,17
 11923                        	.sym	pWin,4,138,1,32,27
 11924                        	.sym	pButton,8,138,1,32,34
 11925                        	.sym	size,12,16,1,16
 11926                        	.sym	pMsg,4,138,6,32,13
 11927 04:325E: 64 0D        	stz	<L455+p_1
 11928 04:3260: 64 0F        	stz	<L455+p_1+2
 11929 04:3262: 64 11        	stz	<L455+pWin_1
 11930 04:3264: 64 13        	stz	<L455+pWin_1+2
 11931 04:3266: 64 15        	stz	<L455+pButton_1
 11932 04:3268: 64 17        	stz	<L455+pButton_1+2
 11933 04:326A: 64 19        	stz	<L455+size_1
 11934                        	.line	2064
 11935                        ;	{
 11936 04:326C: A5 1E        	lda	<L454+pMsg_0
 11937 04:326E: 05 20        	ora	<L454+pMsg_0+2
 11938 04:3270: D0 03        	bne	L457
 11939 04:3272: 82 1B 05     	brl	L10147
 11940                        L457:
 11941                        	.line	2065
 11942                        ;		p = k_exec_get_current_process();
 11943                        	.line	2066
 11944 04:3275: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  Thu Dec  3 2020 22:25                                                Page 235


 11945 04:3279: 85 0D        	sta	<L455+p_1
 11946 04:327B: 86 0F        	stx	<L455+p_1+2
 11947                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 11948                        	.line	2067
 11949 04:327D: A0 0C 00     	ldy	#$c
 11950 04:3280: B7 1E        	lda	[<L454+pMsg_0],Y
 11951 04:3282: 48           	pha
 11952 04:3283: A0 0A 00     	ldy	#$a
 11953 04:3286: B7 1E        	lda	[<L454+pMsg_0],Y
 11954 04:3288: 48           	pha
 11955 04:3289: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 11956 04:328D: 85 11        	sta	<L455+pWin_1
 11957 04:328F: 86 13        	stx	<L455+pWin_1+2
 11958                        ;		pButton = ((PBUTTON)pWin->windowData);
 11959                        	.line	2068
 11960 04:3291: A0 41 01     	ldy	#$141
 11961 04:3294: B7 11        	lda	[<L455+pWin_1],Y
 11962 04:3296: 85 15        	sta	<L455+pButton_1
 11963 04:3298: A0 43 01     	ldy	#$143
 11964 04:329B: B7 11        	lda	[<L455+pWin_1],Y
 11965 04:329D: 85 17        	sta	<L455+pButton_1+2
 11966                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 11967                        ;
 11968                        ;		switch(pMsg->type)
 11969                        	.line	2071
 11970 04:329F: A0 08 00     	ldy	#$8
 11971 04:32A2: B7 1E        	lda	[<L454+pMsg_0],Y
 11972 04:32A4: 82 C1 04     	brl	L10148
 11973                        ;		{
 11974                        	.line	2072
 11975                        ;		case FX_CREATE_WINDOW:
 11976                        	.line	2073
 11977                        L10150:
 11978                        ;			//k_debug_long("buttonWindowProc
                    ::ProcessId:",p->procId);
 11979                        ;			//k_debug_string("buttonWindowPr
                    oc::FX_CREATE_WINDOW\r\n");
 11980                        ;
 11981                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(BUTTON));
 11982                        	.line	2077
 11983 04:32A7: F4 0A 00     	pea	#<$a
 11984 04:32AA: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 11985 04:32AE: 85 01        	sta	<R0
 11986 04:32B0: 86 03        	stx	<R0+2
 11987 04:32B2: A5 01        	lda	<R0
 11988 04:32B4: A0 41 01     	ldy	#$141
 11989 04:32B7: 97 11        	sta	[<L455+pWin_1],Y
 11990 04:32B9: A5 03        	lda	<R0+2
 11991 04:32BB: A0 43 01     	ldy	#$143
 11992 04:32BE: 97 11        	sta	[<L455+pWin_1],Y
 11993                        ;
 11994                        ;
 11995                        ;			k_vdraw_ui_window(pWin,
 11996                        	.line	2080
 11997                        ;							
  Thu Dec  3 2020 22:25                                                Page 236


                      FXWS_BORDER | FXWS_VISIBLE,
 11998                        ;							
                      pWin->win_x ,pWin->win_y,
 11999                        ;							
                      pWin->win_height,pWin->win_width,
 12000                        ;							
                      pWin->win_title,
 12001                        ;							
                      k_getUIGadgetColor(), k_getUIMenuColor());
 12002 04:32C0: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12003 04:32C4: 48           	pha
 12004 04:32C5: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12005 04:32C9: 48           	pha
 12006 04:32CA: 18           	clc
 12007 04:32CB: A9 D4 00     	lda	#$d4
 12008 04:32CE: 65 11        	adc	<L455+pWin_1
 12009 04:32D0: 85 01        	sta	<R0
 12010 04:32D2: A9 00 00     	lda	#$0
 12011 04:32D5: 65 13        	adc	<L455+pWin_1+2
 12012 04:32D7: 85 03        	sta	<R0+2
 12013 04:32D9: D4 03        	pei	<R0+2
 12014 04:32DB: D4 01        	pei	<R0
 12015 04:32DD: A0 0C 00     	ldy	#$c
 12016 04:32E0: B7 11        	lda	[<L455+pWin_1],Y
 12017 04:32E2: 48           	pha
 12018 04:32E3: A0 0E 00     	ldy	#$e
 12019 04:32E6: B7 11        	lda	[<L455+pWin_1],Y
 12020 04:32E8: 48           	pha
 12021 04:32E9: A0 0A 00     	ldy	#$a
 12022 04:32EC: B7 11        	lda	[<L455+pWin_1],Y
 12023 04:32EE: 48           	pha
 12024 04:32EF: A0 08 00     	ldy	#$8
 12025 04:32F2: B7 11        	lda	[<L455+pWin_1],Y
 12026 04:32F4: 48           	pha
 12027 04:32F5: F4 01 00     	pea	#^$10001
 12028 04:32F8: F4 01 00     	pea	#<$10001
 12029 04:32FB: D4 13        	pei	<L455+pWin_1+2
 12030 04:32FD: D4 11        	pei	<L455+pWin_1
 12031 04:32FF: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 12032                        ;
 12033                        ;
 12034                        ;			break;
 12035                        	.line	2088
 12036 04:3303: 82 8A 04     	brl	L10149
 12037                        ;		case FX_DRAW_WINDOW:
 12038                        	.line	2089
 12039                        L10151:
 12040                        ;			k_debug_pointer("buttonWindowPro
                    c::FX_DRAW_WINDOW:",pButton);
 12041                        	.line	2090
 12042 04:3306: D4 17        	pei	<L455+pButton_1+2
 12043 04:3308: D4 15        	pei	<L455+pButton_1
 12044 04:330A: F4 xx xx     	pea	#^L453
 12045 04:330D: F4 xx xx     	pea	#<L453
 12046 04:3310: 22 xx xx xx  	jsl	~~k_debug_pointer
 12047                        ;			if(pButton)
 12048                        	.line	2091
 12049                        ;			{
  Thu Dec  3 2020 22:25                                                Page 237


 12050 04:3314: A5 15        	lda	<L455+pButton_1
 12051 04:3316: 05 17        	ora	<L455+pButton_1+2
 12052 04:3318: D0 03        	bne	L458
 12053 04:331A: 82 B6 00     	brl	L10152
 12054                        L458:
 12055                        	.line	2092
 12056                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 12057                        	.line	2093
 12058                        ;							
                    	  pWin->win_x ,pWin->win_y,
 12059                        ;							
                    	  pWin->win_height,pWin->win_width,
 12060                        ;							
                    	  pWin->win_title,
 12061                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 12062 04:331D: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12063 04:3321: 48           	pha
 12064 04:3322: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12065 04:3326: 48           	pha
 12066 04:3327: 18           	clc
 12067 04:3328: A9 D4 00     	lda	#$d4
 12068 04:332B: 65 11        	adc	<L455+pWin_1
 12069 04:332D: 85 01        	sta	<R0
 12070 04:332F: A9 00 00     	lda	#$0
 12071 04:3332: 65 13        	adc	<L455+pWin_1+2
 12072 04:3334: 85 03        	sta	<R0+2
 12073 04:3336: D4 03        	pei	<R0+2
 12074 04:3338: D4 01        	pei	<R0
 12075 04:333A: A0 0C 00     	ldy	#$c
 12076 04:333D: B7 11        	lda	[<L455+pWin_1],Y
 12077 04:333F: 48           	pha
 12078 04:3340: A0 0E 00     	ldy	#$e
 12079 04:3343: B7 11        	lda	[<L455+pWin_1],Y
 12080 04:3345: 48           	pha
 12081 04:3346: A0 0A 00     	ldy	#$a
 12082 04:3349: B7 11        	lda	[<L455+pWin_1],Y
 12083 04:334B: 48           	pha
 12084 04:334C: A0 08 00     	ldy	#$8
 12085 04:334F: B7 11        	lda	[<L455+pWin_1],Y
 12086 04:3351: 48           	pha
 12087 04:3352: F4 01 00     	pea	#^$10001
 12088 04:3355: F4 01 00     	pea	#<$10001
 12089 04:3358: D4 13        	pei	<L455+pWin_1+2
 12090 04:335A: D4 11        	pei	<L455+pWin_1
 12091 04:335C: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 12092                        ;
 12093                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 12094                        	.line	2099
 12095 04:3360: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12096 04:3364: 85 01        	sta	<R0
 12097 04:3366: A0 02 00     	ldy	#$2
 12098 04:3369: B7 15        	lda	[<L455+pButton_1],Y
 12099 04:336B: 48           	pha
 12100 04:336C: A7 15        	lda	[<L455+pButton_1]
 12101 04:336E: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 238


 12102 04:336F: 22 xx xx xx  	jsl	~~strlen
 12103 04:3373: 85 05        	sta	<R1
 12104 04:3375: A5 05        	lda	<R1
 12105 04:3377: A6 01        	ldx	<R0
 12106                        	xref	~~~mul
 12107 04:3379: 22 xx xx xx  	jsl	~~~mul
 12108 04:337D: 85 19        	sta	<L455+size_1
 12109                        ;				k_draw_text_point(pButto
                    n->pCaption,
 12110                        	.line	2100
 12111                        ;							
                    	  pWin->win_x + (pWin->win_width/2)  - (size/2),
 12112                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4),k_getUIGadget
                    Color());
 12113 04:337F: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12114 04:3383: 48           	pha
 12115 04:3384: A0 0E 00     	ldy	#$e
 12116 04:3387: B7 11        	lda	[<L455+pWin_1],Y
 12117 04:3389: A2 02 00     	ldx	#<$2
 12118                        	xref	~~~div
 12119 04:338C: 22 xx xx xx  	jsl	~~~div
 12120 04:3390: 85 01        	sta	<R0
 12121 04:3392: 18           	clc
 12122 04:3393: A5 01        	lda	<R0
 12123 04:3395: A0 0A 00     	ldy	#$a
 12124 04:3398: 77 11        	adc	[<L455+pWin_1],Y
 12125 04:339A: 85 05        	sta	<R1
 12126 04:339C: 18           	clc
 12127 04:339D: A9 FC FF     	lda	#$fffc
 12128 04:33A0: 65 05        	adc	<R1
 12129 04:33A2: 48           	pha
 12130 04:33A3: A5 19        	lda	<L455+size_1
 12131 04:33A5: 4A           	lsr	A
 12132 04:33A6: 85 01        	sta	<R0
 12133 04:33A8: A0 0C 00     	ldy	#$c
 12134 04:33AB: B7 11        	lda	[<L455+pWin_1],Y
 12135 04:33AD: A2 02 00     	ldx	#<$2
 12136                        	xref	~~~div
 12137 04:33B0: 22 xx xx xx  	jsl	~~~div
 12138 04:33B4: 85 05        	sta	<R1
 12139 04:33B6: 18           	clc
 12140 04:33B7: A5 05        	lda	<R1
 12141 04:33B9: A0 08 00     	ldy	#$8
 12142 04:33BC: 77 11        	adc	[<L455+pWin_1],Y
 12143 04:33BE: 85 09        	sta	<R2
 12144 04:33C0: 38           	sec
 12145 04:33C1: A5 09        	lda	<R2
 12146 04:33C3: E5 01        	sbc	<R0
 12147 04:33C5: 48           	pha
 12148 04:33C6: A0 02 00     	ldy	#$2
 12149 04:33C9: B7 15        	lda	[<L455+pButton_1],Y
 12150 04:33CB: 48           	pha
 12151 04:33CC: A7 15        	lda	[<L455+pButton_1]
 12152 04:33CE: 48           	pha
 12153 04:33CF: 22 xx xx xx  	jsl	~~k_draw_text_point
 12154                        ;			}
 12155                        	.line	2103
  Thu Dec  3 2020 22:25                                                Page 239


 12156                        ;			break;
 12157                        L10152:
 12158                        	.line	2104
 12159 04:33D3: 82 BA 03     	brl	L10149
 12160                        ;		case FX_REDRAW_WINDOW:
 12161                        	.line	2105
 12162                        L10153:
 12163                        ;			k_debug_string("buttonWindowProc
                    ::FX_REDRAW_WINDOW\r\n");
 12164                        	.line	2106
 12165 04:33D6: F4 xx xx     	pea	#^L453+34
 12166 04:33D9: F4 xx xx     	pea	#<L453+34
 12167 04:33DC: 22 xx xx xx  	jsl	~~k_debug_string
 12168                        ;			break;
 12169                        	.line	2107
 12170 04:33E0: 82 AD 03     	brl	L10149
 12171                        ;
 12172                        ;		case FX_LBUTTON_DOWN:
 12173                        	.line	2109
 12174                        L10154:
 12175                        ;			k_debug_string("buttonWindowProc
                    ::FX_LBUTTON_DOWN\r\n");
 12176                        	.line	2110
 12177 04:33E3: F4 xx xx     	pea	#^L453+71
 12178 04:33E6: F4 xx xx     	pea	#<L453+71
 12179 04:33E9: 22 xx xx xx  	jsl	~~k_debug_string
 12180                        ;
 12181                        ;
 12182                        ;			if(pButton->pCaption)
 12183                        	.line	2113
 12184                        ;			{
 12185 04:33ED: A7 15        	lda	[<L455+pButton_1]
 12186 04:33EF: A0 02 00     	ldy	#$2
 12187 04:33F2: 17 15        	ora	[<L455+pButton_1],Y
 12188 04:33F4: D0 03        	bne	L459
 12189 04:33F6: 82 B8 01     	brl	L10155
 12190                        L459:
 12191                        	.line	2114
 12192                        ;				//k_debug_strings("butto
                    nWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCaption );
 12193                        ;
 12194                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 12195                        	.line	2117
 12196                        ;							
                    	  pWin->win_x ,pWin->win_y,
 12197                        ;							
                    	  pWin->win_height,pWin->win_width,
 12198                        ;							
                    	  pWin->win_title,
 12199                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 12200 04:33F9: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12201 04:33FD: 48           	pha
 12202 04:33FE: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12203 04:3402: 48           	pha
 12204 04:3403: 18           	clc
 12205 04:3404: A9 D4 00     	lda	#$d4
  Thu Dec  3 2020 22:25                                                Page 240


 12206 04:3407: 65 11        	adc	<L455+pWin_1
 12207 04:3409: 85 01        	sta	<R0
 12208 04:340B: A9 00 00     	lda	#$0
 12209 04:340E: 65 13        	adc	<L455+pWin_1+2
 12210 04:3410: 85 03        	sta	<R0+2
 12211 04:3412: D4 03        	pei	<R0+2
 12212 04:3414: D4 01        	pei	<R0
 12213 04:3416: A0 0C 00     	ldy	#$c
 12214 04:3419: B7 11        	lda	[<L455+pWin_1],Y
 12215 04:341B: 48           	pha
 12216 04:341C: A0 0E 00     	ldy	#$e
 12217 04:341F: B7 11        	lda	[<L455+pWin_1],Y
 12218 04:3421: 48           	pha
 12219 04:3422: A0 0A 00     	ldy	#$a
 12220 04:3425: B7 11        	lda	[<L455+pWin_1],Y
 12221 04:3427: 48           	pha
 12222 04:3428: A0 08 00     	ldy	#$8
 12223 04:342B: B7 11        	lda	[<L455+pWin_1],Y
 12224 04:342D: 48           	pha
 12225 04:342E: F4 01 00     	pea	#^$10001
 12226 04:3431: F4 01 00     	pea	#<$10001
 12227 04:3434: D4 13        	pei	<L455+pWin_1+2
 12228 04:3436: D4 11        	pei	<L455+pWin_1
 12229 04:3438: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 12230                        ;
 12231                        ;				/*
 12232                        ;				k_draw_line(pWin->win_x 
                    + 1 ,pWin->win_y + 1,
 12233                        ;						    pWin
                    ->win_x + 1,
 12234                        ;							
                    pWin->win_y + pWin->win_height - 1 , 0);
 12235                        ;
 12236                        ;				k_draw_line(pWin->win_x 
                    + 1 ,pWin->win_y + pWin->win_height - 1,
 12237                        ;						    pWin
                    ->win_x + pWin->win_width - 1,pWin->win_y + pWin->win_height
                     - 1 , 0);
 12238                        ;
 12239                        ;				*/
 12240                        ;
 12241                        ;				k_draw_line(pWin->win_x 
                    + 1 ,
 12242                        	.line	2133
 12243                        ;							
                    pWin->win_y + 1,
 12244                        ;						    pWin
                    ->win_x + pWin->win_width - 1,
 12245                        ;							
                    pWin->win_y + 1,
 12246                        ;							
                    0);
 12247 04:343C: F4 00 00     	pea	#<$0
 12248 04:343F: A0 0A 00     	ldy	#$a
 12249 04:3442: B7 11        	lda	[<L455+pWin_1],Y
 12250 04:3444: 1A           	ina
 12251 04:3445: 48           	pha
 12252 04:3446: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 241


 12253 04:3447: A0 08 00     	ldy	#$8
 12254 04:344A: B7 11        	lda	[<L455+pWin_1],Y
 12255 04:344C: A0 0C 00     	ldy	#$c
 12256 04:344F: 77 11        	adc	[<L455+pWin_1],Y
 12257 04:3451: 85 01        	sta	<R0
 12258 04:3453: 18           	clc
 12259 04:3454: A9 FF FF     	lda	#$ffff
 12260 04:3457: 65 01        	adc	<R0
 12261 04:3459: 48           	pha
 12262 04:345A: A0 0A 00     	ldy	#$a
 12263 04:345D: B7 11        	lda	[<L455+pWin_1],Y
 12264 04:345F: 1A           	ina
 12265 04:3460: 48           	pha
 12266 04:3461: A0 08 00     	ldy	#$8
 12267 04:3464: B7 11        	lda	[<L455+pWin_1],Y
 12268 04:3466: 1A           	ina
 12269 04:3467: 48           	pha
 12270 04:3468: 22 xx xx xx  	jsl	~~k_draw_line
 12271                        ;
 12272                        ;				k_draw_line(pWin->win_x 
                    + 1 ,
 12273                        	.line	2139
 12274                        ;							
                    pWin->win_y + 2,
 12275                        ;						    pWin
                    ->win_x + pWin->win_width - 1,
 12276                        ;							
                    pWin->win_y + 2,
 12277                        ;							
                    0);
 12278 04:346C: F4 00 00     	pea	#<$0
 12279 04:346F: 18           	clc
 12280 04:3470: A9 02 00     	lda	#$2
 12281 04:3473: A0 0A 00     	ldy	#$a
 12282 04:3476: 77 11        	adc	[<L455+pWin_1],Y
 12283 04:3478: 48           	pha
 12284 04:3479: 18           	clc
 12285 04:347A: A0 08 00     	ldy	#$8
 12286 04:347D: B7 11        	lda	[<L455+pWin_1],Y
 12287 04:347F: A0 0C 00     	ldy	#$c
 12288 04:3482: 77 11        	adc	[<L455+pWin_1],Y
 12289 04:3484: 85 01        	sta	<R0
 12290 04:3486: 18           	clc
 12291 04:3487: A9 FF FF     	lda	#$ffff
 12292 04:348A: 65 01        	adc	<R0
 12293 04:348C: 48           	pha
 12294 04:348D: 18           	clc
 12295 04:348E: A9 02 00     	lda	#$2
 12296 04:3491: A0 0A 00     	ldy	#$a
 12297 04:3494: 77 11        	adc	[<L455+pWin_1],Y
 12298 04:3496: 48           	pha
 12299 04:3497: A0 08 00     	ldy	#$8
 12300 04:349A: B7 11        	lda	[<L455+pWin_1],Y
 12301 04:349C: 1A           	ina
 12302 04:349D: 48           	pha
 12303 04:349E: 22 xx xx xx  	jsl	~~k_draw_line
 12304                        ;
 12305                        ;
  Thu Dec  3 2020 22:25                                                Page 242


 12306                        ;				k_draw_line(pWin->win_x 
                    + pWin->win_width  - 1,
 12307                        	.line	2146
 12308                        ;							
                    pWin->win_y + 1 ,
 12309                        ;						    pWin
                    ->win_x + pWin->win_width  - 1,
 12310                        ;							
                    pWin->win_y + pWin->win_height - 1,
 12311                        ;							
                    0);
 12312 04:34A2: F4 00 00     	pea	#<$0
 12313 04:34A5: 18           	clc
 12314 04:34A6: A0 0A 00     	ldy	#$a
 12315 04:34A9: B7 11        	lda	[<L455+pWin_1],Y
 12316 04:34AB: A0 0E 00     	ldy	#$e
 12317 04:34AE: 77 11        	adc	[<L455+pWin_1],Y
 12318 04:34B0: 85 01        	sta	<R0
 12319 04:34B2: 18           	clc
 12320 04:34B3: A9 FF FF     	lda	#$ffff
 12321 04:34B6: 65 01        	adc	<R0
 12322 04:34B8: 48           	pha
 12323 04:34B9: 18           	clc
 12324 04:34BA: A0 08 00     	ldy	#$8
 12325 04:34BD: B7 11        	lda	[<L455+pWin_1],Y
 12326 04:34BF: A0 0C 00     	ldy	#$c
 12327 04:34C2: 77 11        	adc	[<L455+pWin_1],Y
 12328 04:34C4: 85 01        	sta	<R0
 12329 04:34C6: 18           	clc
 12330 04:34C7: A9 FF FF     	lda	#$ffff
 12331 04:34CA: 65 01        	adc	<R0
 12332 04:34CC: 48           	pha
 12333 04:34CD: A0 0A 00     	ldy	#$a
 12334 04:34D0: B7 11        	lda	[<L455+pWin_1],Y
 12335 04:34D2: 1A           	ina
 12336 04:34D3: 48           	pha
 12337 04:34D4: 18           	clc
 12338 04:34D5: A0 08 00     	ldy	#$8
 12339 04:34D8: B7 11        	lda	[<L455+pWin_1],Y
 12340 04:34DA: A0 0C 00     	ldy	#$c
 12341 04:34DD: 77 11        	adc	[<L455+pWin_1],Y
 12342 04:34DF: 85 01        	sta	<R0
 12343 04:34E1: 18           	clc
 12344 04:34E2: A9 FF FF     	lda	#$ffff
 12345 04:34E5: 65 01        	adc	<R0
 12346 04:34E7: 48           	pha
 12347 04:34E8: 22 xx xx xx  	jsl	~~k_draw_line
 12348                        ;
 12349                        ;				k_draw_line(pWin->win_x 
                    + pWin->win_width  - 2,
 12350                        	.line	2152
 12351                        ;							
                    pWin->win_y + 1,
 12352                        ;						    pWin
                    ->win_x + pWin->win_width  - 2,
 12353                        ;							
                    pWin->win_y + pWin->win_height - 1,
 12354                        ;							
  Thu Dec  3 2020 22:25                                                Page 243


                    0);
 12355 04:34EC: F4 00 00     	pea	#<$0
 12356 04:34EF: 18           	clc
 12357 04:34F0: A0 0A 00     	ldy	#$a
 12358 04:34F3: B7 11        	lda	[<L455+pWin_1],Y
 12359 04:34F5: A0 0E 00     	ldy	#$e
 12360 04:34F8: 77 11        	adc	[<L455+pWin_1],Y
 12361 04:34FA: 85 01        	sta	<R0
 12362 04:34FC: 18           	clc
 12363 04:34FD: A9 FF FF     	lda	#$ffff
 12364 04:3500: 65 01        	adc	<R0
 12365 04:3502: 48           	pha
 12366 04:3503: 18           	clc
 12367 04:3504: A0 08 00     	ldy	#$8
 12368 04:3507: B7 11        	lda	[<L455+pWin_1],Y
 12369 04:3509: A0 0C 00     	ldy	#$c
 12370 04:350C: 77 11        	adc	[<L455+pWin_1],Y
 12371 04:350E: 85 01        	sta	<R0
 12372 04:3510: 18           	clc
 12373 04:3511: A9 FE FF     	lda	#$fffe
 12374 04:3514: 65 01        	adc	<R0
 12375 04:3516: 48           	pha
 12376 04:3517: A0 0A 00     	ldy	#$a
 12377 04:351A: B7 11        	lda	[<L455+pWin_1],Y
 12378 04:351C: 1A           	ina
 12379 04:351D: 48           	pha
 12380 04:351E: 18           	clc
 12381 04:351F: A0 08 00     	ldy	#$8
 12382 04:3522: B7 11        	lda	[<L455+pWin_1],Y
 12383 04:3524: A0 0C 00     	ldy	#$c
 12384 04:3527: 77 11        	adc	[<L455+pWin_1],Y
 12385 04:3529: 85 01        	sta	<R0
 12386 04:352B: 18           	clc
 12387 04:352C: A9 FE FF     	lda	#$fffe
 12388 04:352F: 65 01        	adc	<R0
 12389 04:3531: 48           	pha
 12390 04:3532: 22 xx xx xx  	jsl	~~k_draw_line
 12391                        ;
 12392                        ;
 12393                        ;
 12394                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 12395                        	.line	2160
 12396 04:3536: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12397 04:353A: 85 01        	sta	<R0
 12398 04:353C: A0 02 00     	ldy	#$2
 12399 04:353F: B7 15        	lda	[<L455+pButton_1],Y
 12400 04:3541: 48           	pha
 12401 04:3542: A7 15        	lda	[<L455+pButton_1]
 12402 04:3544: 48           	pha
 12403 04:3545: 22 xx xx xx  	jsl	~~strlen
 12404 04:3549: 85 05        	sta	<R1
 12405 04:354B: A5 05        	lda	<R1
 12406 04:354D: A6 01        	ldx	<R0
 12407                        	xref	~~~mul
 12408 04:354F: 22 xx xx xx  	jsl	~~~mul
 12409 04:3553: 85 19        	sta	<L455+size_1
 12410                        ;				k_draw_text_point(pButto
  Thu Dec  3 2020 22:25                                                Page 244


                    n->pCaption,
 12411                        	.line	2161
 12412                        ;						        
                      pWin->win_x + (pWin->win_width/2)  - (size/2) - 2,
 12413                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4) + 2     , k_g
                    etUIGadgetColor()) ;
 12414 04:3555: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12415 04:3559: 48           	pha
 12416 04:355A: A0 0E 00     	ldy	#$e
 12417 04:355D: B7 11        	lda	[<L455+pWin_1],Y
 12418 04:355F: A2 02 00     	ldx	#<$2
 12419                        	xref	~~~div
 12420 04:3562: 22 xx xx xx  	jsl	~~~div
 12421 04:3566: 85 01        	sta	<R0
 12422 04:3568: 18           	clc
 12423 04:3569: A5 01        	lda	<R0
 12424 04:356B: A0 0A 00     	ldy	#$a
 12425 04:356E: 77 11        	adc	[<L455+pWin_1],Y
 12426 04:3570: 85 05        	sta	<R1
 12427 04:3572: 18           	clc
 12428 04:3573: A9 FE FF     	lda	#$fffe
 12429 04:3576: 65 05        	adc	<R1
 12430 04:3578: 48           	pha
 12431 04:3579: A5 19        	lda	<L455+size_1
 12432 04:357B: 4A           	lsr	A
 12433 04:357C: 85 01        	sta	<R0
 12434 04:357E: A0 0C 00     	ldy	#$c
 12435 04:3581: B7 11        	lda	[<L455+pWin_1],Y
 12436 04:3583: A2 02 00     	ldx	#<$2
 12437                        	xref	~~~div
 12438 04:3586: 22 xx xx xx  	jsl	~~~div
 12439 04:358A: 85 05        	sta	<R1
 12440 04:358C: 18           	clc
 12441 04:358D: A5 05        	lda	<R1
 12442 04:358F: A0 08 00     	ldy	#$8
 12443 04:3592: 77 11        	adc	[<L455+pWin_1],Y
 12444 04:3594: 85 09        	sta	<R2
 12445 04:3596: 38           	sec
 12446 04:3597: A5 09        	lda	<R2
 12447 04:3599: E5 01        	sbc	<R0
 12448 04:359B: 85 05        	sta	<R1
 12449 04:359D: 18           	clc
 12450 04:359E: A9 FE FF     	lda	#$fffe
 12451 04:35A1: 65 05        	adc	<R1
 12452 04:35A3: 48           	pha
 12453 04:35A4: A0 02 00     	ldy	#$2
 12454 04:35A7: B7 15        	lda	[<L455+pButton_1],Y
 12455 04:35A9: 48           	pha
 12456 04:35AA: A7 15        	lda	[<L455+pButton_1]
 12457 04:35AC: 48           	pha
 12458 04:35AD: 22 xx xx xx  	jsl	~~k_draw_text_point
 12459                        ;			}
 12460                        	.line	2164
 12461                        ;
 12462                        ;
 12463                        ;			break;
 12464                        L10155:
  Thu Dec  3 2020 22:25                                                Page 245


 12465                        	.line	2167
 12466 04:35B1: 82 DC 01     	brl	L10149
 12467                        ;
 12468                        ;		case FX_LBUTTON_UP:
 12469                        	.line	2169
 12470                        L10156:
 12471                        ;			k_debug_string("buttonWindowProc
                    ::FX_LBUTTON_UP\r\n");
 12472                        	.line	2170
 12473 04:35B4: F4 xx xx     	pea	#^L453+107
 12474 04:35B7: F4 xx xx     	pea	#<L453+107
 12475 04:35BA: 22 xx xx xx  	jsl	~~k_debug_string
 12476                        ;			if(pButton->pCaption)
 12477                        	.line	2171
 12478                        ;			{
 12479 04:35BE: A7 15        	lda	[<L455+pButton_1]
 12480 04:35C0: A0 02 00     	ldy	#$2
 12481 04:35C3: 17 15        	ora	[<L455+pButton_1],Y
 12482 04:35C5: D0 03        	bne	L460
 12483 04:35C7: 82 B6 00     	brl	L10157
 12484                        L460:
 12485                        	.line	2172
 12486                        ;				//k_debug_strings("butto
                    nWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCaption );
 12487                        ;
 12488                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 12489                        	.line	2175
 12490                        ;							
                    	  pWin->win_x ,pWin->win_y,
 12491                        ;							
                    	  pWin->win_height,pWin->win_width,
 12492                        ;							
                    	  pWin->win_title,
 12493                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 12494 04:35CA: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12495 04:35CE: 48           	pha
 12496 04:35CF: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12497 04:35D3: 48           	pha
 12498 04:35D4: 18           	clc
 12499 04:35D5: A9 D4 00     	lda	#$d4
 12500 04:35D8: 65 11        	adc	<L455+pWin_1
 12501 04:35DA: 85 01        	sta	<R0
 12502 04:35DC: A9 00 00     	lda	#$0
 12503 04:35DF: 65 13        	adc	<L455+pWin_1+2
 12504 04:35E1: 85 03        	sta	<R0+2
 12505 04:35E3: D4 03        	pei	<R0+2
 12506 04:35E5: D4 01        	pei	<R0
 12507 04:35E7: A0 0C 00     	ldy	#$c
 12508 04:35EA: B7 11        	lda	[<L455+pWin_1],Y
 12509 04:35EC: 48           	pha
 12510 04:35ED: A0 0E 00     	ldy	#$e
 12511 04:35F0: B7 11        	lda	[<L455+pWin_1],Y
 12512 04:35F2: 48           	pha
 12513 04:35F3: A0 0A 00     	ldy	#$a
 12514 04:35F6: B7 11        	lda	[<L455+pWin_1],Y
 12515 04:35F8: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 246


 12516 04:35F9: A0 08 00     	ldy	#$8
 12517 04:35FC: B7 11        	lda	[<L455+pWin_1],Y
 12518 04:35FE: 48           	pha
 12519 04:35FF: F4 01 00     	pea	#^$10001
 12520 04:3602: F4 01 00     	pea	#<$10001
 12521 04:3605: D4 13        	pei	<L455+pWin_1+2
 12522 04:3607: D4 11        	pei	<L455+pWin_1
 12523 04:3609: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 12524                        ;
 12525                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 12526                        	.line	2181
 12527 04:360D: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12528 04:3611: 85 01        	sta	<R0
 12529 04:3613: A0 02 00     	ldy	#$2
 12530 04:3616: B7 15        	lda	[<L455+pButton_1],Y
 12531 04:3618: 48           	pha
 12532 04:3619: A7 15        	lda	[<L455+pButton_1]
 12533 04:361B: 48           	pha
 12534 04:361C: 22 xx xx xx  	jsl	~~strlen
 12535 04:3620: 85 05        	sta	<R1
 12536 04:3622: A5 05        	lda	<R1
 12537 04:3624: A6 01        	ldx	<R0
 12538                        	xref	~~~mul
 12539 04:3626: 22 xx xx xx  	jsl	~~~mul
 12540 04:362A: 85 19        	sta	<L455+size_1
 12541                        ;				k_draw_text_point(pButto
                    n->pCaption,
 12542                        	.line	2182
 12543                        ;						        
                      pWin->win_x + (pWin->win_width/2)  - (size/2),
 12544                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4),k_getUIGadget
                    Color());
 12545 04:362C: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12546 04:3630: 48           	pha
 12547 04:3631: A0 0E 00     	ldy	#$e
 12548 04:3634: B7 11        	lda	[<L455+pWin_1],Y
 12549 04:3636: A2 02 00     	ldx	#<$2
 12550                        	xref	~~~div
 12551 04:3639: 22 xx xx xx  	jsl	~~~div
 12552 04:363D: 85 01        	sta	<R0
 12553 04:363F: 18           	clc
 12554 04:3640: A5 01        	lda	<R0
 12555 04:3642: A0 0A 00     	ldy	#$a
 12556 04:3645: 77 11        	adc	[<L455+pWin_1],Y
 12557 04:3647: 85 05        	sta	<R1
 12558 04:3649: 18           	clc
 12559 04:364A: A9 FC FF     	lda	#$fffc
 12560 04:364D: 65 05        	adc	<R1
 12561 04:364F: 48           	pha
 12562 04:3650: A5 19        	lda	<L455+size_1
 12563 04:3652: 4A           	lsr	A
 12564 04:3653: 85 01        	sta	<R0
 12565 04:3655: A0 0C 00     	ldy	#$c
 12566 04:3658: B7 11        	lda	[<L455+pWin_1],Y
 12567 04:365A: A2 02 00     	ldx	#<$2
 12568                        	xref	~~~div
  Thu Dec  3 2020 22:25                                                Page 247


 12569 04:365D: 22 xx xx xx  	jsl	~~~div
 12570 04:3661: 85 05        	sta	<R1
 12571 04:3663: 18           	clc
 12572 04:3664: A5 05        	lda	<R1
 12573 04:3666: A0 08 00     	ldy	#$8
 12574 04:3669: 77 11        	adc	[<L455+pWin_1],Y
 12575 04:366B: 85 09        	sta	<R2
 12576 04:366D: 38           	sec
 12577 04:366E: A5 09        	lda	<R2
 12578 04:3670: E5 01        	sbc	<R0
 12579 04:3672: 48           	pha
 12580 04:3673: A0 02 00     	ldy	#$2
 12581 04:3676: B7 15        	lda	[<L455+pButton_1],Y
 12582 04:3678: 48           	pha
 12583 04:3679: A7 15        	lda	[<L455+pButton_1]
 12584 04:367B: 48           	pha
 12585 04:367C: 22 xx xx xx  	jsl	~~k_draw_text_point
 12586                        ;			}
 12587                        	.line	2185
 12588                        ;
 12589                        ;			//k_send_command_message(pWin->p
                    ParentWindow,FX_CONTROL_COMMAND,LOWORD((ULONG)pWin->hMenu),0
                    ,0L,0L);
 12590                        ;
 12591                        ;			k_send_command_message(pWin->pPa
                    rentWindow,FX_CONTROL_COMMAND,CTL_BUTTON_SELECTED,LOWORD((UL
                    ONG)pWin->hMenu),0L,0L);
 12592                        L10157:
 12593                        	.line	2189
 12594 04:3680: F4 00 00     	pea	#^$0
 12595 04:3683: F4 00 00     	pea	#<$0
 12596 04:3686: F4 00 00     	pea	#^$0
 12597 04:3689: F4 00 00     	pea	#<$0
 12598 04:368C: A0 34 01     	ldy	#$134
 12599 04:368F: B7 11        	lda	[<L455+pWin_1],Y
 12600 04:3691: 48           	pha
 12601 04:3692: F4 02 00     	pea	#<$2
 12602 04:3695: F4 00 FA     	pea	#<$fa00
 12603 04:3698: A0 32 01     	ldy	#$132
 12604 04:369B: B7 11        	lda	[<L455+pWin_1],Y
 12605 04:369D: 48           	pha
 12606 04:369E: A0 30 01     	ldy	#$130
 12607 04:36A1: B7 11        	lda	[<L455+pWin_1],Y
 12608 04:36A3: 48           	pha
 12609 04:36A4: 22 xx xx xx  	jsl	~~k_send_command_message
 12610                        ;
 12611                        ;			break;
 12612                        	.line	2191
 12613 04:36A8: 82 E5 00     	brl	L10149
 12614                        ;		case FX_MOUSE_ENTER:
 12615                        	.line	2192
 12616                        L10158:
 12617                        ;			k_debug_string("buttonWindowProc
                    ::FX_MOUSE_ENTER\r\n");
 12618                        	.line	2193
 12619 04:36AB: F4 xx xx     	pea	#^L453+141
 12620 04:36AE: F4 xx xx     	pea	#<L453+141
 12621 04:36B1: 22 xx xx xx  	jsl	~~k_debug_string
  Thu Dec  3 2020 22:25                                                Page 248


 12622                        ;
 12623                        ;			break;
 12624                        	.line	2195
 12625 04:36B5: 82 D8 00     	brl	L10149
 12626                        ;		case FX_MOUSE_EXIT:
 12627                        	.line	2196
 12628                        L10159:
 12629                        ;			k_debug_string("buttonWindowProc
                    ::FX_MOUSE_EXIT\r\n");
 12630                        	.line	2197
 12631 04:36B8: F4 xx xx     	pea	#^L453+176
 12632 04:36BB: F4 xx xx     	pea	#<L453+176
 12633 04:36BE: 22 xx xx xx  	jsl	~~k_debug_string
 12634                        ;
 12635                        ;			break;
 12636                        	.line	2199
 12637 04:36C2: 82 CB 00     	brl	L10149
 12638                        ;
 12639                        ;		case FX_CONTROL_COMMAND:
 12640                        	.line	2201
 12641                        L10160:
 12642                        ;			//k_debug_string("buttonWindowPr
                    oc::FX_CONTROL_COMMAND\r\n");
 12643                        ;
 12644                        ;
 12645                        ;
 12646                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_CMD_CAPTION )
 12647                        	.line	2206
 12648                        ;			{
 12649 04:36C5: A0 16 00     	ldy	#$16
 12650 04:36C8: B7 1E        	lda	[<L454+pMsg_0],Y
 12651 04:36CA: C9 01 00     	cmp	#<$1
 12652 04:36CD: F0 03        	beq	L461
 12653 04:36CF: 82 90 00     	brl	L10161
 12654                        L461:
 12655                        	.line	2207
 12656                        ;				pButton->pCaption = (LPC
                    HAR)((PFXCMDMESSAGE)pMsg)->parameter1;
 12657                        	.line	2208
 12658 04:36D2: A0 1A 00     	ldy	#$1a
 12659 04:36D5: B7 1E        	lda	[<L454+pMsg_0],Y
 12660 04:36D7: 87 15        	sta	[<L455+pButton_1]
 12661 04:36D9: A0 1C 00     	ldy	#$1c
 12662 04:36DC: B7 1E        	lda	[<L454+pMsg_0],Y
 12663 04:36DE: A0 02 00     	ldy	#$2
 12664 04:36E1: 97 15        	sta	[<L455+pButton_1],Y
 12665                        ;
 12666                        ;				if(pButton->pCaption)
 12667                        	.line	2210
 12668                        ;				{
 12669 04:36E3: A7 15        	lda	[<L455+pButton_1]
 12670 04:36E5: A0 02 00     	ldy	#$2
 12671 04:36E8: 17 15        	ora	[<L455+pButton_1],Y
 12672 04:36EA: D0 03        	bne	L462
 12673 04:36EC: 82 73 00     	brl	L10162
 12674                        L462:
 12675                        	.line	2211
  Thu Dec  3 2020 22:25                                                Page 249


 12676                        ;					//k_debug_string
                    s("buttonWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCa
                    ption );
 12677                        ;
 12678                        ;					size = strlen(pB
                    utton->pCaption) * FONTW;
 12679                        	.line	2214
 12680 04:36EF: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12681 04:36F3: 85 01        	sta	<R0
 12682 04:36F5: A0 02 00     	ldy	#$2
 12683 04:36F8: B7 15        	lda	[<L455+pButton_1],Y
 12684 04:36FA: 48           	pha
 12685 04:36FB: A7 15        	lda	[<L455+pButton_1]
 12686 04:36FD: 48           	pha
 12687 04:36FE: 22 xx xx xx  	jsl	~~strlen
 12688 04:3702: 85 05        	sta	<R1
 12689 04:3704: A5 05        	lda	<R1
 12690 04:3706: A6 01        	ldx	<R0
 12691                        	xref	~~~mul
 12692 04:3708: 22 xx xx xx  	jsl	~~~mul
 12693 04:370C: 85 19        	sta	<L455+size_1
 12694                        ;					k_draw_text_poin
                    t(pButton->pCaption,
 12695                        	.line	2215
 12696                        ;							
                              pWin->win_x + (pWin->win_width/2)  - (size/2),
 12697                        ;							
                    		  pWin->win_y + (pWin->win_height/2) - (4),k_get
                    UIGadgetColor());
 12698 04:370E: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12699 04:3712: 48           	pha
 12700 04:3713: A0 0E 00     	ldy	#$e
 12701 04:3716: B7 11        	lda	[<L455+pWin_1],Y
 12702 04:3718: A2 02 00     	ldx	#<$2
 12703                        	xref	~~~div
 12704 04:371B: 22 xx xx xx  	jsl	~~~div
 12705 04:371F: 85 01        	sta	<R0
 12706 04:3721: 18           	clc
 12707 04:3722: A5 01        	lda	<R0
 12708 04:3724: A0 0A 00     	ldy	#$a
 12709 04:3727: 77 11        	adc	[<L455+pWin_1],Y
 12710 04:3729: 85 05        	sta	<R1
 12711 04:372B: 18           	clc
 12712 04:372C: A9 FC FF     	lda	#$fffc
 12713 04:372F: 65 05        	adc	<R1
 12714 04:3731: 48           	pha
 12715 04:3732: A5 19        	lda	<L455+size_1
 12716 04:3734: 4A           	lsr	A
 12717 04:3735: 85 01        	sta	<R0
 12718 04:3737: A0 0C 00     	ldy	#$c
 12719 04:373A: B7 11        	lda	[<L455+pWin_1],Y
 12720 04:373C: A2 02 00     	ldx	#<$2
 12721                        	xref	~~~div
 12722 04:373F: 22 xx xx xx  	jsl	~~~div
 12723 04:3743: 85 05        	sta	<R1
 12724 04:3745: 18           	clc
 12725 04:3746: A5 05        	lda	<R1
 12726 04:3748: A0 08 00     	ldy	#$8
  Thu Dec  3 2020 22:25                                                Page 250


 12727 04:374B: 77 11        	adc	[<L455+pWin_1],Y
 12728 04:374D: 85 09        	sta	<R2
 12729 04:374F: 38           	sec
 12730 04:3750: A5 09        	lda	<R2
 12731 04:3752: E5 01        	sbc	<R0
 12732 04:3754: 48           	pha
 12733 04:3755: A0 02 00     	ldy	#$2
 12734 04:3758: B7 15        	lda	[<L455+pButton_1],Y
 12735 04:375A: 48           	pha
 12736 04:375B: A7 15        	lda	[<L455+pButton_1]
 12737 04:375D: 48           	pha
 12738 04:375E: 22 xx xx xx  	jsl	~~k_draw_text_point
 12739                        ;				}
 12740                        	.line	2218
 12741                        ;			}
 12742                        L10162:
 12743                        	.line	2219
 12744                        ;
 12745                        ;			break;
 12746                        L10161:
 12747                        	.line	2221
 12748 04:3762: 82 2B 00     	brl	L10149
 12749                        ;		default:
 12750                        	.line	2222
 12751                        L10163:
 12752                        ;			break;
 12753                        	.line	2223
 12754 04:3765: 82 28 00     	brl	L10149
 12755                        ;		}
 12756                        	.line	2224
 12757                        L10148:
 12758                        	xref	~~~swt
 12759 04:3768: 22 xx xx xx  	jsl	~~~swt
 12760 04:376C: 08 00        	dw	8
 12761 04:376E: 01 0F        	dw	3841
 12762 04:3770: AA 36        	dw	L10158-1
 12763 04:3772: 02 0F        	dw	3842
 12764 04:3774: B7 36        	dw	L10159-1
 12765 04:3776: 04 0F        	dw	3844
 12766 04:3778: E2 33        	dw	L10154-1
 12767 04:377A: 06 0F        	dw	3846
 12768 04:377C: B3 35        	dw	L10156-1
 12769 04:377E: 00 FA        	dw	64000
 12770 04:3780: C4 36        	dw	L10160-1
 12771 04:3782: 00 FB        	dw	64256
 12772 04:3784: 05 33        	dw	L10151-1
 12773 04:3786: 07 FB        	dw	64263
 12774 04:3788: D5 33        	dw	L10153-1
 12775 04:378A: 03 FF        	dw	65283
 12776 04:378C: A6 32        	dw	L10150-1
 12777 04:378E: 64 37        	dw	L10163-1
 12778                        L10149:
 12779                        ;	}
 12780                        	.line	2225
 12781                        ;
 12782                        ;	return TRUE;
 12783                        L10147:
 12784                        	.line	2227
  Thu Dec  3 2020 22:25                                                Page 251


 12785 04:3790: A9 01 00     	lda	#$1
 12786                        L463:
 12787 04:3793: A8           	tay
 12788 04:3794: A5 1C        	lda	<L454+2
 12789 04:3796: 85 20        	sta	<L454+2+4
 12790 04:3798: A5 1B        	lda	<L454+1
 12791 04:379A: 85 1F        	sta	<L454+1+4
 12792 04:379C: 2B           	pld
 12793 04:379D: 3B           	tsc
 12794 04:379E: 18           	clc
 12795 04:379F: 69 1E 00     	adc	#L454+4
 12796 04:37A2: 1B           	tcs
 12797 04:37A3: 98           	tya
 12798 04:37A4: 6B           	rtl
 12799                        ;
 12800                        ;}
 12801                        	.line	2229
 12802                        	.endblock	2229
 12803             0000001A   L454	equ	26
 12804             0000000D   L455	equ	13
 12805 04:37A5:              	ends
 12806                        	efunc
 12807                        	.endfunc	2229,13,26
 12808                        	.line	2229
 12809                        	data
 12810                        L453:
 12811 00:0B5E: 62 75 74 74  	db	$62,$75,$74,$74,$6F,$6E,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0B62: 6F 6E 57 69 
       00:0B66: 6E 64 6F 77 
       00:0B6A: 50 72 6F 
 12812 00:0B6D: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,
                    $5F,$57,$49,$4E,$44
       00:0B71: 58 5F 44 52 
       00:0B75: 41 57 5F 57 
       00:0B79: 49 4E 44 
 12813 00:0B7C: 4F 57 3A 00  	db	$4F,$57,$3A,$00,$62,$75,$74,$74,$6F,$6E,
                    $57,$69,$6E,$64,$6F
       00:0B80: 62 75 74 74 
       00:0B84: 6F 6E 57 69 
       00:0B88: 6E 64 6F 
 12814 00:0B8B: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $52,$45,$44,$52,$41
       00:0B8F: 63 3A 3A 46 
       00:0B93: 58 5F 52 45 
       00:0B97: 44 52 41 
 12815 00:0B9A: 57 5F 57 49  	db	$57,$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,
                    $00,$62,$75,$74,$74
       00:0B9E: 4E 44 4F 57 
       00:0BA2: 0D 0A 00 62 
       00:0BA6: 75 74 74 
 12816 00:0BA9: 6F 6E 57 69  	db	$6F,$6E,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0BAD: 6E 64 6F 77 
       00:0BB1: 50 72 6F 63 
       00:0BB5: 3A 3A 46 
 12817 00:0BB8: 58 5F 4C 42  	db	$58,$5F,$4C,$42,$55,$54,$54,$4F,$4E,$5F,
                    $44,$4F,$57,$4E,$0D
  Thu Dec  3 2020 22:25                                                Page 252


       00:0BBC: 55 54 54 4F 
       00:0BC0: 4E 5F 44 4F 
       00:0BC4: 57 4E 0D 
 12818 00:0BC7: 0A 00 62 75  	db	$0A,$00,$62,$75,$74,$74,$6F,$6E,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:0BCB: 74 74 6F 6E 
       00:0BCF: 57 69 6E 64 
       00:0BD3: 6F 77 50 
 12819 00:0BD6: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:0BDA: 3A 46 58 5F 
       00:0BDE: 4C 42 55 54 
       00:0BE2: 54 4F 4E 
 12820 00:0BE5: 5F 55 50 0D  	db	$5F,$55,$50,$0D,$0A,$00,$62,$75,$74,$74,
                    $6F,$6E,$57,$69,$6E
       00:0BE9: 0A 00 62 75 
       00:0BED: 74 74 6F 6E 
       00:0BF1: 57 69 6E 
 12821 00:0BF4: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$4D,$4F,$55
       00:0BF8: 72 6F 63 3A 
       00:0BFC: 3A 46 58 5F 
       00:0C00: 4D 4F 55 
 12822 00:0C03: 53 45 5F 45  	db	$53,$45,$5F,$45,$4E,$54,$45,$52,$0D,$0A,
                    $00,$62,$75,$74,$74
       00:0C07: 4E 54 45 52 
       00:0C0B: 0D 0A 00 62 
       00:0C0F: 75 74 74 
 12823 00:0C12: 6F 6E 57 69  	db	$6F,$6E,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0C16: 6E 64 6F 77 
       00:0C1A: 50 72 6F 63 
       00:0C1E: 3A 3A 46 
 12824 00:0C21: 58 5F 4D 4F  	db	$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,$58,
                    $49,$54,$0D,$0A,$00
       00:0C25: 55 53 45 5F 
       00:0C29: 45 58 49 54 
       00:0C2D: 0D 0A 00 
 12825 00:0C30:              	ends
 12826                        ;
 12827                        ;
 12828                        ;
 12829                        ;
 12830                        ;BOOL k_add_child_window(PWINDOW pParent,PWINDOW p
                    Child,OBJECTCLICKED objclickCallback)
 12831                        ;{
 12832                        	.line	2234
 12833                        	.line	2235
 12834                        	WINMAN
 12835                        	xdef	~~k_add_child_window
 12836                        	func
 12837                        	.function	2235
 12838                        ~~k_add_child_window:
 12839                        	longa	on
 12840                        	longi	on
 12841 04:37A5: 3B           	tsc
 12842 04:37A6: 38           	sec
 12843 04:37A7: E9 09 00     	sbc	#L465
  Thu Dec  3 2020 22:25                                                Page 253


 12844 04:37AA: 1B           	tcs
 12845 04:37AB: 0B           	phd
 12846 04:37AC: 5B           	tcd
 12847             00000004   pParent_0	set	4
 12848             00000008   pChild_0	set	8
 12849             0000000C   objclickCallback_0	set	12
 12850                        	.block	2235
 12851                        ;	BOOL bRet = FALSE;
 12852                        ;
 12853                        ;	PFXNODE new = NULL;
 12854                        ;
 12855                        ;	if(pParent && pChild)
 12856             00000000   bRet_1	set	0
 12857             00000001   new_1	set	1
 12858                        	.sym	bRet,0,14,1,8
 12859                        	.sym	new,1,138,1,32,2
 12860                        	.sym	pParent,4,138,6,32,27
 12861                        	.sym	pChild,8,138,6,32,27
 12862                        	.sym	objclickCallback,12,641,6,32
 12863 04:37AD: E2 20        	sep	#$20
 12864                        	longa	off
 12865 04:37AF: 64 05        	stz	<L466+bRet_1
 12866 04:37B1: C2 20        	rep	#$20
 12867                        	longa	on
 12868 04:37B3: 64 06        	stz	<L466+new_1
 12869 04:37B5: 64 08        	stz	<L466+new_1+2
 12870                        	.line	2240
 12871                        ;	{
 12872 04:37B7: A5 0D        	lda	<L465+pParent_0
 12873 04:37B9: 05 0F        	ora	<L465+pParent_0+2
 12874 04:37BB: D0 03        	bne	L468
 12875 04:37BD: 82 CA 00     	brl	L10164
 12876                        L468:
 12877 04:37C0: A5 11        	lda	<L465+pChild_0
 12878 04:37C2: 05 13        	ora	<L465+pChild_0+2
 12879 04:37C4: D0 03        	bne	L469
 12880 04:37C6: 82 C1 00     	brl	L10164
 12881                        L469:
 12882                        	.line	2241
 12883                        ;		new = k_nodelist_ncreate(NL_TYPE_WINDOW_
                    OBJ,(ULONG)k_getHandleFromWindow(pChild),pChild,NULL,NULL);
 12884                        	.line	2242
 12885 04:37C9: F4 00 00     	pea	#^$0
 12886 04:37CC: F4 00 00     	pea	#<$0
 12887 04:37CF: F4 00 00     	pea	#^$0
 12888 04:37D2: F4 00 00     	pea	#<$0
 12889 04:37D5: D4 13        	pei	<L465+pChild_0+2
 12890 04:37D7: D4 11        	pei	<L465+pChild_0
 12891 04:37D9: D4 13        	pei	<L465+pChild_0+2
 12892 04:37DB: D4 11        	pei	<L465+pChild_0
 12893 04:37DD: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 12894 04:37E1: 85 01        	sta	<R0
 12895 04:37E3: 86 03        	stx	<R0+2
 12896 04:37E5: D4 03        	pei	<R0+2
 12897 04:37E7: D4 01        	pei	<R0
 12898 04:37E9: F4 02 00     	pea	#<$2
 12899 04:37EC: 22 xx xx xx  	jsl	~~k_nodelist_ncreate
 12900 04:37F0: 85 06        	sta	<L466+new_1
  Thu Dec  3 2020 22:25                                                Page 254


 12901 04:37F2: 86 08        	stx	<L466+new_1+2
 12902                        ;		//k_debug_strings("Created Child node:",
                    pChild->win_title);
 12903                        ;
 12904                        ;		if(!pParent->pChildWindows)
 12905                        	.line	2245
 12906                        ;		{
 12907 04:37F4: A0 38 01     	ldy	#$138
 12908 04:37F7: B7 0D        	lda	[<L465+pParent_0],Y
 12909 04:37F9: A0 3A 01     	ldy	#$13a
 12910 04:37FC: 17 0D        	ora	[<L465+pParent_0],Y
 12911 04:37FE: F0 03        	beq	L470
 12912 04:3800: 82 22 00     	brl	L10165
 12913                        L470:
 12914                        	.line	2246
 12915                        ;			pParent->pChildWindows = k_nodel
                    ist_allocate_list("_child_window_class_list" ,k_deallocate_w
                    indow_object);
 12916                        	.line	2247
 12917 04:3803: F4 04 00     	pea	#^~~k_deallocate_window_object
 12918 04:3806: F4 18 00     	pea	#<~~k_deallocate_window_object
 12919 04:3809: F4 xx xx     	pea	#^L464
 12920 04:380C: F4 xx xx     	pea	#<L464
 12921 04:380F: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
 12922 04:3813: 85 01        	sta	<R0
 12923 04:3815: 86 03        	stx	<R0+2
 12924 04:3817: A5 01        	lda	<R0
 12925 04:3819: A0 38 01     	ldy	#$138
 12926 04:381C: 97 0D        	sta	[<L465+pParent_0],Y
 12927 04:381E: A5 03        	lda	<R0+2
 12928 04:3820: A0 3A 01     	ldy	#$13a
 12929 04:3823: 97 0D        	sta	[<L465+pParent_0],Y
 12930                        ;			//k_debug_pointer("k_add_child_w
                    indow:pChildWindows created:",pParent->pChildWindows);
 12931                        ;		}
 12932                        	.line	2249
 12933                        ;
 12934                        ;		if(!pParent->pChildHitList)
 12935                        L10165:
 12936                        	.line	2251
 12937                        ;		{
 12938 04:3825: A0 3C 01     	ldy	#$13c
 12939 04:3828: B7 0D        	lda	[<L465+pParent_0],Y
 12940 04:382A: A0 3E 01     	ldy	#$13e
 12941 04:382D: 17 0D        	ora	[<L465+pParent_0],Y
 12942 04:382F: F0 03        	beq	L471
 12943 04:3831: 82 22 00     	brl	L10166
 12944                        L471:
 12945                        	.line	2252
 12946                        ;			pParent->pChildHitList = k_nodel
                    ist_allocate_list("_child_hit_list" ,k_deallocate_hit_class)
                    ;
 12947                        	.line	2253
 12948 04:3834: F4 04 00     	pea	#^~~k_deallocate_hit_class
 12949 04:3837: F4 13 01     	pea	#<~~k_deallocate_hit_class
 12950 04:383A: F4 xx xx     	pea	#^L464+25
 12951 04:383D: F4 xx xx     	pea	#<L464+25
 12952 04:3840: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  Thu Dec  3 2020 22:25                                                Page 255


 12953 04:3844: 85 01        	sta	<R0
 12954 04:3846: 86 03        	stx	<R0+2
 12955 04:3848: A5 01        	lda	<R0
 12956 04:384A: A0 3C 01     	ldy	#$13c
 12957 04:384D: 97 0D        	sta	[<L465+pParent_0],Y
 12958 04:384F: A5 03        	lda	<R0+2
 12959 04:3851: A0 3E 01     	ldy	#$13e
 12960 04:3854: 97 0D        	sta	[<L465+pParent_0],Y
 12961                        ;			//k_debug_pointer("k_add_child_w
                    indow:pChildHitList created:",pParent->pChildHitList);
 12962                        ;		}
 12963                        	.line	2255
 12964                        ;
 12965                        ;		//k_debug_pointer("k_add_child_window:pC
                    hildWindows:",pParent->pChildWindows);
 12966                        ;		//k_debug_pointer("k_add_child_window:pC
                    hildHitList:",pParent->pChildHitList);
 12967                        ;
 12968                        ;		k_nodelist_addnodetolist(pParent->pChild
                    Windows,new);
 12969                        L10166:
 12970                        	.line	2260
 12971 04:3856: D4 08        	pei	<L466+new_1+2
 12972 04:3858: D4 06        	pei	<L466+new_1
 12973 04:385A: A0 3A 01     	ldy	#$13a
 12974 04:385D: B7 0D        	lda	[<L465+pParent_0],Y
 12975 04:385F: 48           	pha
 12976 04:3860: A0 38 01     	ldy	#$138
 12977 04:3863: B7 0D        	lda	[<L465+pParent_0],Y
 12978 04:3865: 48           	pha
 12979 04:3866: 22 xx xx xx  	jsl	~~k_nodelist_addnodetolist
 12980                        ;
 12981                        ;		//k_debug_strings("Node List for:",pPare
                    nt->win_title);
 12982                        ;		//k_debug_nodelist(pParent->pChildWindow
                    s->listhead->next);
 12983                        ;		k_attach_mouse_detection_local(pParent->
                    pChildHitList,pChild,objclickCallback);
 12984                        	.line	2264
 12985 04:386A: D4 17        	pei	<L465+objclickCallback_0+2
 12986 04:386C: D4 15        	pei	<L465+objclickCallback_0
 12987 04:386E: D4 13        	pei	<L465+pChild_0+2
 12988 04:3870: D4 11        	pei	<L465+pChild_0
 12989 04:3872: A0 3E 01     	ldy	#$13e
 12990 04:3875: B7 0D        	lda	[<L465+pParent_0],Y
 12991 04:3877: 48           	pha
 12992 04:3878: A0 3C 01     	ldy	#$13c
 12993 04:387B: B7 0D        	lda	[<L465+pParent_0],Y
 12994 04:387D: 48           	pha
 12995 04:387E: 22 1B 3B 04  	jsl	~~k_attach_mouse_detection_local
 12996                        ;
 12997                        ;		bRet = TRUE;
 12998                        	.line	2266
 12999 04:3882: E2 20        	sep	#$20
 13000                        	longa	off
 13001 04:3884: A9 01        	lda	#$1
 13002 04:3886: 85 05        	sta	<L466+bRet_1
 13003 04:3888: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 256


 13004                        	longa	on
 13005                        ;	}
 13006                        	.line	2267
 13007                        ;
 13008                        ;	return bRet;
 13009                        L10164:
 13010                        	.line	2269
 13011 04:388A: A5 05        	lda	<L466+bRet_1
 13012 04:388C: 29 FF 00     	and	#$ff
 13013                        L472:
 13014 04:388F: A8           	tay
 13015 04:3890: A5 0B        	lda	<L465+2
 13016 04:3892: 85 17        	sta	<L465+2+12
 13017 04:3894: A5 0A        	lda	<L465+1
 13018 04:3896: 85 16        	sta	<L465+1+12
 13019 04:3898: 2B           	pld
 13020 04:3899: 3B           	tsc
 13021 04:389A: 18           	clc
 13022 04:389B: 69 15 00     	adc	#L465+12
 13023 04:389E: 1B           	tcs
 13024 04:389F: 98           	tya
 13025 04:38A0: 6B           	rtl
 13026                        ;}
 13027                        	.line	2270
 13028                        	.endblock	2270
 13029             00000009   L465	equ	9
 13030             00000005   L466	equ	5
 13031 04:38A1:              	ends
 13032                        	efunc
 13033                        	.endfunc	2270,5,9
 13034                        	.line	2270
 13035                        	data
 13036                        L464:
 13037 00:0C30: 5F 63 68 69  	db	$5F,$63,$68,$69,$6C,$64,$5F,$77,$69,$6E,
                    $64,$6F,$77,$5F,$63
       00:0C34: 6C 64 5F 77 
       00:0C38: 69 6E 64 6F 
       00:0C3C: 77 5F 63 
 13038 00:0C3F: 6C 61 73 73  	db	$6C,$61,$73,$73,$5F,$6C,$69,$73,$74,$00,
                    $5F,$63,$68,$69,$6C
       00:0C43: 5F 6C 69 73 
       00:0C47: 74 00 5F 63 
       00:0C4B: 68 69 6C 
 13039 00:0C4E: 64 5F 68 69  	db	$64,$5F,$68,$69,$74,$5F,$6C,$69,$73,$74,
                    $00
       00:0C52: 74 5F 6C 69 
       00:0C56: 73 74 00 
 13040 00:0C59:              	ends
 13041                        ;
 13042                        ;void k_update_hover_location(PWINDOW pWin)
 13043                        ;{
 13044                        	.line	2272
 13045                        	.line	2273
 13046                        	WINMAN
 13047                        	xdef	~~k_update_hover_location
 13048                        	func
 13049                        	.function	2273
 13050                        ~~k_update_hover_location:
  Thu Dec  3 2020 22:25                                                Page 257


 13051                        	longa	on
 13052                        	longi	on
 13053 04:38A1: 3B           	tsc
 13054 04:38A2: 38           	sec
 13055 04:38A3: E9 08 00     	sbc	#L474
 13056 04:38A6: 1B           	tcs
 13057 04:38A7: 0B           	phd
 13058 04:38A8: 5B           	tcd
 13059             00000004   pWin_0	set	4
 13060                        	.block	2273
 13061                        ;	PWINDOW pOld = NULL;
 13062                        ;
 13063                        ;	//k_debug_strings("k_update_hover_location::pWin
                    :",pWin->win_title);
 13064                        ;
 13065                        ;	//k_debug_strings("k_menuHitDetected::pWin:",pWi
                    n->win_title);
 13066                        ;
 13067                        ;	if(_k_windowManager_WindowObjectList->listData!=
                    pWin)
 13068             00000000   pOld_1	set	0
 13069                        	.sym	pOld,0,138,1,32,27
 13070                        	.sym	pWin,4,138,6,32,27
 13071 04:38A9: 64 05        	stz	<L475+pOld_1
 13072 04:38AB: 64 07        	stz	<L475+pOld_1+2
 13073                        	.line	2280
 13074                        ;	{
 13075 04:38AD: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13076 04:38B0: 85 01        	sta	<R0
 13077 04:38B2: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13078 04:38B5: 85 03        	sta	<R0+2
 13079 04:38B7: A0 04 00     	ldy	#$4
 13080 04:38BA: B7 01        	lda	[<R0],Y
 13081 04:38BC: C5 0C        	cmp	<L474+pWin_0
 13082 04:38BE: D0 07        	bne	L477
 13083 04:38C0: A0 06 00     	ldy	#$6
 13084 04:38C3: B7 01        	lda	[<R0],Y
 13085 04:38C5: C5 0E        	cmp	<L474+pWin_0+2
 13086                        L477:
 13087 04:38C7: D0 03        	bne	L478
 13088 04:38C9: 82 8E 00     	brl	L10167
 13089                        L478:
 13090                        	.line	2281
 13091                        ;		if(_k_windowManager_WindowObjectList->li
                    stData != NULL)
 13092                        	.line	2282
 13093                        ;		{
 13094 04:38CC: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13095 04:38CF: 85 01        	sta	<R0
 13096 04:38D1: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13097 04:38D4: 85 03        	sta	<R0+2
 13098 04:38D6: A0 04 00     	ldy	#$4
 13099 04:38D9: B7 01        	lda	[<R0],Y
 13100 04:38DB: A0 06 00     	ldy	#$6
 13101 04:38DE: 17 01        	ora	[<R0],Y
 13102 04:38E0: D0 03        	bne	L479
 13103 04:38E2: 82 18 00     	brl	L10168
 13104                        L479:
  Thu Dec  3 2020 22:25                                                Page 258


 13105                        	.line	2283
 13106                        ;			pOld = _k_windowManager_WindowOb
                    jectList->listData;
 13107                        	.line	2284
 13108 04:38E5: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13109 04:38E8: 85 01        	sta	<R0
 13110 04:38EA: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13111 04:38ED: 85 03        	sta	<R0+2
 13112 04:38EF: A0 04 00     	ldy	#$4
 13113 04:38F2: B7 01        	lda	[<R0],Y
 13114 04:38F4: 85 05        	sta	<L475+pOld_1
 13115 04:38F6: A0 06 00     	ldy	#$6
 13116 04:38F9: B7 01        	lda	[<R0],Y
 13117 04:38FB: 85 07        	sta	<L475+pOld_1+2
 13118                        ;			//k_debug_strings("k_Detected::p
                    Old:",pOld->win_title);
 13119                        ;			/*
 13120                        ;			k_vdraw_ui_window(FXWS_OVERLAPPE
                    D,
 13121                        ;							
                      pWin->win_x ,pWin->win_y,
 13122                        ;							
                      pWin->win_height,pWin->win_width,
 13123                        ;							
                      (LPCHAR)pWin->win_title,
 13124                        ;							
                      15, 3);*/
 13125                        ;		}
 13126                        	.line	2292
 13127                        ;		_k_windowManager_WindowObjectList->listD
                    ata=pWin;
 13128                        L10168:
 13129                        	.line	2293
 13130 04:38FD: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13131 04:3900: 85 01        	sta	<R0
 13132 04:3902: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13133 04:3905: 85 03        	sta	<R0+2
 13134 04:3907: A5 0C        	lda	<L474+pWin_0
 13135 04:3909: A0 04 00     	ldy	#$4
 13136 04:390C: 97 01        	sta	[<R0],Y
 13137 04:390E: A5 0E        	lda	<L474+pWin_0+2
 13138 04:3910: A0 06 00     	ldy	#$6
 13139 04:3913: 97 01        	sta	[<R0],Y
 13140                        ;
 13141                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_MOUSE_ENTER,NULL,0);
 13142                        	.line	2295
 13143 04:3915: F4 00 00     	pea	#<$0
 13144 04:3918: F4 00 00     	pea	#^$0
 13145 04:391B: F4 00 00     	pea	#<$0
 13146 04:391E: F4 01 0F     	pea	#<$f01
 13147 04:3921: D4 0E        	pei	<L474+pWin_0+2
 13148 04:3923: D4 0C        	pei	<L474+pWin_0
 13149 04:3925: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 13150 04:3929: 85 01        	sta	<R0
 13151 04:392B: 86 03        	stx	<R0+2
 13152 04:392D: DA           	phx
 13153 04:392E: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 259


 13154 04:392F: 22 xx xx xx  	jsl	~~k_send_window_message
 13155                        ;		if(pOld)
 13156                        	.line	2296
 13157                        ;		{
 13158 04:3933: A5 05        	lda	<L475+pOld_1
 13159 04:3935: 05 07        	ora	<L475+pOld_1+2
 13160 04:3937: D0 03        	bne	L480
 13161 04:3939: 82 1E 00     	brl	L10169
 13162                        L480:
 13163                        	.line	2297
 13164                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pOld),FX_MOUSE_EXIT,NULL,0);
 13165                        	.line	2298
 13166 04:393C: F4 00 00     	pea	#<$0
 13167 04:393F: F4 00 00     	pea	#^$0
 13168 04:3942: F4 00 00     	pea	#<$0
 13169 04:3945: F4 02 0F     	pea	#<$f02
 13170 04:3948: D4 07        	pei	<L475+pOld_1+2
 13171 04:394A: D4 05        	pei	<L475+pOld_1
 13172 04:394C: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 13173 04:3950: 85 01        	sta	<R0
 13174 04:3952: 86 03        	stx	<R0+2
 13175 04:3954: DA           	phx
 13176 04:3955: 48           	pha
 13177 04:3956: 22 xx xx xx  	jsl	~~k_send_window_message
 13178                        ;		}
 13179                        	.line	2299
 13180                        ;		//k_send_window_message(k_getHandleFromW
                    indow(pWin),FX_MOUSE_ENTER,NULL,0);
 13181                        ;	}
 13182                        L10169:
 13183                        	.line	2301
 13184                        ;
 13185                        ;}
 13186                        L10167:
 13187                        	.line	2303
 13188                        L481:
 13189 04:395A: A5 0A        	lda	<L474+2
 13190 04:395C: 85 0E        	sta	<L474+2+4
 13191 04:395E: A5 09        	lda	<L474+1
 13192 04:3960: 85 0D        	sta	<L474+1+4
 13193 04:3962: 2B           	pld
 13194 04:3963: 3B           	tsc
 13195 04:3964: 18           	clc
 13196 04:3965: 69 0C 00     	adc	#L474+4
 13197 04:3968: 1B           	tcs
 13198 04:3969: 6B           	rtl
 13199                        	.endblock	2303
 13200             00000008   L474	equ	8
 13201             00000005   L475	equ	5
 13202 04:396A:              	ends
 13203                        	efunc
 13204                        	.endfunc	2303,5,8
 13205                        	.line	2303
 13206                        ;
 13207                        ;HWND k_user_getFocusWindow()
 13208                        ;{
 13209                        	.line	2305
  Thu Dec  3 2020 22:25                                                Page 260


 13210                        	.line	2306
 13211                        	WINMAN
 13212                        	xdef	~~k_user_getFocusWindow
 13213                        	func
 13214                        	.function	2306
 13215                        ~~k_user_getFocusWindow:
 13216                        	longa	on
 13217                        	longi	on
 13218 04:396A: 3B           	tsc
 13219 04:396B: 38           	sec
 13220 04:396C: E9 04 00     	sbc	#L482
 13221 04:396F: 1B           	tcs
 13222 04:3970: 0B           	phd
 13223 04:3971: 5B           	tcd
 13224                        	.block	2306
 13225                        ;	return k_getHandleFromWindow((PWINDOW) _k_window
                    Manager_WindowObjectList->listData);
 13226                        	.line	2307
 13227 04:3972: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13228 04:3975: 85 01        	sta	<R0
 13229 04:3977: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13230 04:397A: 85 03        	sta	<R0+2
 13231 04:397C: A0 06 00     	ldy	#$6
 13232 04:397F: B7 01        	lda	[<R0],Y
 13233 04:3981: 48           	pha
 13234 04:3982: A0 04 00     	ldy	#$4
 13235 04:3985: B7 01        	lda	[<R0],Y
 13236 04:3987: 48           	pha
 13237 04:3988: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 13238 04:398C: 85 01        	sta	<R0
 13239 04:398E: 86 03        	stx	<R0+2
 13240 04:3990: A6 03        	ldx	<R0+2
 13241 04:3992: A5 01        	lda	<R0
 13242                        L485:
 13243 04:3994: A8           	tay
 13244 04:3995: 2B           	pld
 13245 04:3996: 3B           	tsc
 13246 04:3997: 18           	clc
 13247 04:3998: 69 04 00     	adc	#L482
 13248 04:399B: 1B           	tcs
 13249 04:399C: 98           	tya
 13250 04:399D: 6B           	rtl
 13251                        ;}
 13252                        	.line	2308
 13253                        	.endblock	2308
 13254             00000004   L482	equ	4
 13255             00000005   L483	equ	5
 13256 04:399E:              	ends
 13257                        	efunc
 13258                        	.endfunc	2308,5,4
 13259                        	.line	2308
 13260                        ;
 13261                        ;BOOL find_child_window(LPVOID ctx,LPVOID data)
 13262                        ;{
 13263                        	.line	2310
 13264                        	.line	2311
 13265                        	WINMAN
 13266                        	xdef	~~find_child_window
  Thu Dec  3 2020 22:25                                                Page 261


 13267                        	func
 13268                        	.function	2311
 13269                        ~~find_child_window:
 13270                        	longa	on
 13271                        	longi	on
 13272 04:399E: 3B           	tsc
 13273 04:399F: 38           	sec
 13274 04:39A0: E9 08 00     	sbc	#L486
 13275 04:39A3: 1B           	tcs
 13276 04:39A4: 0B           	phd
 13277 04:39A5: 5B           	tcd
 13278             00000004   ctx_0	set	4
 13279             00000008   data_0	set	8
 13280                        	.block	2311
 13281                        ;	PWINDOW pChild = (PWINDOW)ctx;
 13282                        ;
 13283                        ;	if(ctx && data)
 13284             00000000   pChild_1	set	0
 13285                        	.sym	pChild,0,138,1,32,27
 13286                        	.sym	ctx,4,129,6,32
 13287                        	.sym	data,8,129,6,32
 13288 04:39A6: A5 0C        	lda	<L486+ctx_0
 13289 04:39A8: 85 05        	sta	<L487+pChild_1
 13290 04:39AA: A5 0E        	lda	<L486+ctx_0+2
 13291 04:39AC: 85 07        	sta	<L487+pChild_1+2
 13292                        	.line	2314
 13293                        ;	{
 13294 04:39AE: A5 0C        	lda	<L486+ctx_0
 13295 04:39B0: 05 0E        	ora	<L486+ctx_0+2
 13296 04:39B2: D0 03        	bne	L489
 13297 04:39B4: 82 33 00     	brl	L10170
 13298                        L489:
 13299 04:39B7: A5 10        	lda	<L486+data_0
 13300 04:39B9: 05 12        	ora	<L486+data_0+2
 13301 04:39BB: D0 03        	bne	L490
 13302 04:39BD: 82 2A 00     	brl	L10170
 13303                        L490:
 13304                        	.line	2315
 13305                        ;		return (pChild == data);
 13306                        	.line	2316
 13307 04:39C0: 64 01        	stz	<R0
 13308 04:39C2: A5 05        	lda	<L487+pChild_1
 13309 04:39C4: C5 10        	cmp	<L486+data_0
 13310 04:39C6: D0 04        	bne	L492
 13311 04:39C8: A5 07        	lda	<L487+pChild_1+2
 13312 04:39CA: C5 12        	cmp	<L486+data_0+2
 13313                        L492:
 13314 04:39CC: F0 03        	beq	L493
 13315 04:39CE: 82 02 00     	brl	L491
 13316                        L493:
 13317 04:39D1: E6 01        	inc	<R0
 13318                        L491:
 13319 04:39D3: A5 01        	lda	<R0
 13320 04:39D5: 29 FF 00     	and	#$ff
 13321                        L494:
 13322 04:39D8: A8           	tay
 13323 04:39D9: A5 0A        	lda	<L486+2
 13324 04:39DB: 85 12        	sta	<L486+2+8
  Thu Dec  3 2020 22:25                                                Page 262


 13325 04:39DD: A5 09        	lda	<L486+1
 13326 04:39DF: 85 11        	sta	<L486+1+8
 13327 04:39E1: 2B           	pld
 13328 04:39E2: 3B           	tsc
 13329 04:39E3: 18           	clc
 13330 04:39E4: 69 10 00     	adc	#L486+8
 13331 04:39E7: 1B           	tcs
 13332 04:39E8: 98           	tya
 13333 04:39E9: 6B           	rtl
 13334                        ;	}
 13335                        	.line	2317
 13336                        ;
 13337                        ;	return FALSE;
 13338                        L10170:
 13339                        	.line	2319
 13340 04:39EA: A9 00 00     	lda	#$0
 13341 04:39ED: 82 E8 FF     	brl	L494
 13342                        ;}
 13343                        	.line	2320
 13344                        	.endblock	2320
 13345             00000008   L486	equ	8
 13346             00000005   L487	equ	5
 13347 04:39F0:              	ends
 13348                        	efunc
 13349                        	.endfunc	2320,5,8
 13350                        	.line	2320
 13351                        ;
 13352                        ;BOOL k_user_IsChildWindow(HWND hWndParent,HWND hW
                    ndChild)
 13353                        ;{
 13354                        	.line	2322
 13355                        	.line	2323
 13356                        	WINMAN
 13357                        	xdef	~~k_user_IsChildWindow
 13358                        	func
 13359                        	.function	2323
 13360                        ~~k_user_IsChildWindow:
 13361                        	longa	on
 13362                        	longi	on
 13363 04:39F0: 3B           	tsc
 13364 04:39F1: 38           	sec
 13365 04:39F2: E9 09 00     	sbc	#L495
 13366 04:39F5: 1B           	tcs
 13367 04:39F6: 0B           	phd
 13368 04:39F7: 5B           	tcd
 13369             00000004   hWndParent_0	set	4
 13370             00000008   hWndChild_0	set	8
 13371                        	.block	2323
 13372                        ;	BOOL bRet = FALSE;
 13373                        ;
 13374                        ;	PWINDOW pWin = NULL;
 13375                        ;
 13376                        ;	if(hWndParent && hWndChild)
 13377             00000000   bRet_1	set	0
 13378             00000001   pWin_1	set	1
 13379                        	.sym	bRet,0,14,1,8
 13380                        	.sym	pWin,1,138,1,32,27
 13381                        	.sym	hWndParent,4,129,6,32
  Thu Dec  3 2020 22:25                                                Page 263


 13382                        	.sym	hWndChild,8,129,6,32
 13383 04:39F8: E2 20        	sep	#$20
 13384                        	longa	off
 13385 04:39FA: 64 05        	stz	<L496+bRet_1
 13386 04:39FC: C2 20        	rep	#$20
 13387                        	longa	on
 13388 04:39FE: 64 06        	stz	<L496+pWin_1
 13389 04:3A00: 64 08        	stz	<L496+pWin_1+2
 13390                        	.line	2328
 13391                        ;	{
 13392 04:3A02: A5 0D        	lda	<L495+hWndParent_0
 13393 04:3A04: 05 0F        	ora	<L495+hWndParent_0+2
 13394 04:3A06: D0 03        	bne	L498
 13395 04:3A08: 82 51 00     	brl	L10171
 13396                        L498:
 13397 04:3A0B: A5 11        	lda	<L495+hWndChild_0
 13398 04:3A0D: 05 13        	ora	<L495+hWndChild_0+2
 13399 04:3A0F: D0 03        	bne	L499
 13400 04:3A11: 82 48 00     	brl	L10171
 13401                        L499:
 13402                        	.line	2329
 13403                        ;		pWin = k_getWindowFromHandle(hWndParent)
                    ;
 13404                        	.line	2330
 13405 04:3A14: D4 0F        	pei	<L495+hWndParent_0+2
 13406 04:3A16: D4 0D        	pei	<L495+hWndParent_0
 13407 04:3A18: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 13408 04:3A1C: 85 06        	sta	<L496+pWin_1
 13409 04:3A1E: 86 08        	stx	<L496+pWin_1+2
 13410                        ;		if(pWin && pWin->pChildWindows)
 13411                        	.line	2331
 13412                        ;		{
 13413 04:3A20: A5 06        	lda	<L496+pWin_1
 13414 04:3A22: 05 08        	ora	<L496+pWin_1+2
 13415 04:3A24: D0 03        	bne	L500
 13416 04:3A26: 82 33 00     	brl	L10172
 13417                        L500:
 13418 04:3A29: A0 38 01     	ldy	#$138
 13419 04:3A2C: B7 06        	lda	[<L496+pWin_1],Y
 13420 04:3A2E: A0 3A 01     	ldy	#$13a
 13421 04:3A31: 17 06        	ora	[<L496+pWin_1],Y
 13422 04:3A33: D0 03        	bne	L501
 13423 04:3A35: 82 24 00     	brl	L10172
 13424                        L501:
 13425                        	.line	2332
 13426                        ;			k_nodelist_foreach_until_listdat
                    a(pWin->pChildWindows,k_getWindowFromHandle(hWndChild),find_
                    child_window);
 13427                        	.line	2333
 13428 04:3A38: F4 04 00     	pea	#^~~find_child_window
 13429 04:3A3B: F4 9E 39     	pea	#<~~find_child_window
 13430 04:3A3E: D4 13        	pei	<L495+hWndChild_0+2
 13431 04:3A40: D4 11        	pei	<L495+hWndChild_0
 13432 04:3A42: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 13433 04:3A46: 85 01        	sta	<R0
 13434 04:3A48: 86 03        	stx	<R0+2
 13435 04:3A4A: DA           	phx
 13436 04:3A4B: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 264


 13437 04:3A4C: A0 3A 01     	ldy	#$13a
 13438 04:3A4F: B7 06        	lda	[<L496+pWin_1],Y
 13439 04:3A51: 48           	pha
 13440 04:3A52: A0 38 01     	ldy	#$138
 13441 04:3A55: B7 06        	lda	[<L496+pWin_1],Y
 13442 04:3A57: 48           	pha
 13443 04:3A58: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
 13444                        ;		}
 13445                        	.line	2334
 13446                        ;	}
 13447                        L10172:
 13448                        	.line	2335
 13449                        ;
 13450                        ;	return bRet;
 13451                        L10171:
 13452                        	.line	2337
 13453 04:3A5C: A5 05        	lda	<L496+bRet_1
 13454 04:3A5E: 29 FF 00     	and	#$ff
 13455                        L502:
 13456 04:3A61: A8           	tay
 13457 04:3A62: A5 0B        	lda	<L495+2
 13458 04:3A64: 85 13        	sta	<L495+2+8
 13459 04:3A66: A5 0A        	lda	<L495+1
 13460 04:3A68: 85 12        	sta	<L495+1+8
 13461 04:3A6A: 2B           	pld
 13462 04:3A6B: 3B           	tsc
 13463 04:3A6C: 18           	clc
 13464 04:3A6D: 69 11 00     	adc	#L495+8
 13465 04:3A70: 1B           	tcs
 13466 04:3A71: 98           	tya
 13467 04:3A72: 6B           	rtl
 13468                        ;}
 13469                        	.line	2338
 13470                        	.endblock	2338
 13471             00000009   L495	equ	9
 13472             00000005   L496	equ	5
 13473 04:3A73:              	ends
 13474                        	efunc
 13475                        	.endfunc	2338,5,9
 13476                        	.line	2338
 13477                        ;
 13478                        ;/*
 13479                        ;void k_buttonHitDetected(PWINDOW pWin)
 13480                        ;{
 13481                        ;	k_update_hover_location(pWin);
 13482                        ;}
 13483                        ;
 13484                        ;void k_menuHitDetected(PWINDOW pWin)
 13485                        ;{
 13486                        ;	k_update_hover_location(pWin);
 13487                        ;}
 13488                        ;
 13489                        ;
 13490                        ;void k_windowHitDetected(PWINDOW pWin)
 13491                        ;{
 13492                        ;	k_update_hover_location(pWin);
 13493                        ;}
 13494                        ;*/
  Thu Dec  3 2020 22:25                                                Page 265


 13495                        ;int k_attach_mouse_detection(PWINDOW pWin,OBJECTC
                    LICKED objclickCallback)
 13496                        ;{
 13497                        	.line	2357
 13498                        	.line	2358
 13499                        	WINMAN
 13500                        	xdef	~~k_attach_mouse_detection
 13501                        	func
 13502                        	.function	2358
 13503                        ~~k_attach_mouse_detection:
 13504                        	longa	on
 13505                        	longi	on
 13506 04:3A73: 3B           	tsc
 13507 04:3A74: 38           	sec
 13508 04:3A75: E9 06 00     	sbc	#L503
 13509 04:3A78: 1B           	tcs
 13510 04:3A79: 0B           	phd
 13511 04:3A7A: 5B           	tcd
 13512             00000004   pWin_0	set	4
 13513             00000008   objclickCallback_0	set	8
 13514                        	.block	2358
 13515                        ;	PCLICKDETECTED pcd = NULL;
 13516                        ;
 13517                        ;	int retCode = 0;
 13518                        ;
 13519                        ;	if(pWin)
 13520             00000000   pcd_1	set	0
 13521             00000004   retCode_1	set	4
 13522                        	.sym	pcd,0,138,1,32,61
 13523                        	.sym	retCode,4,5,1,16
 13524                        	.sym	pWin,4,138,6,32,27
 13525                        	.sym	objclickCallback,8,641,6,32
 13526 04:3A7B: 64 01        	stz	<L504+pcd_1
 13527 04:3A7D: 64 03        	stz	<L504+pcd_1+2
 13528 04:3A7F: 64 05        	stz	<L504+retCode_1
 13529                        	.line	2363
 13530                        ;	{
 13531 04:3A81: A5 0A        	lda	<L503+pWin_0
 13532 04:3A83: 05 0C        	ora	<L503+pWin_0+2
 13533 04:3A85: D0 03        	bne	L506
 13534 04:3A87: 82 35 00     	brl	L10173
 13535                        L506:
 13536                        	.line	2364
 13537                        ;		pcd = k_mem_allocate_heap(sizeof(CLICKDE
                    TECTED));
 13538                        	.line	2365
 13539 04:3A8A: F4 08 00     	pea	#<$8
 13540 04:3A8D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 13541 04:3A91: 85 01        	sta	<L504+pcd_1
 13542 04:3A93: 86 03        	stx	<L504+pcd_1+2
 13543                        ;		if(pcd)
 13544                        	.line	2366
 13545                        ;		{
 13546 04:3A95: A5 01        	lda	<L504+pcd_1
 13547 04:3A97: 05 03        	ora	<L504+pcd_1+2
 13548 04:3A99: D0 03        	bne	L507
 13549 04:3A9B: 82 21 00     	brl	L10174
 13550                        L507:
  Thu Dec  3 2020 22:25                                                Page 266


 13551                        	.line	2367
 13552                        ;			pcd->window  = pWin;
 13553                        	.line	2368
 13554 04:3A9E: A5 0A        	lda	<L503+pWin_0
 13555 04:3AA0: 87 01        	sta	[<L504+pcd_1]
 13556 04:3AA2: A5 0C        	lda	<L503+pWin_0+2
 13557 04:3AA4: A0 02 00     	ldy	#$2
 13558 04:3AA7: 97 01        	sta	[<L504+pcd_1],Y
 13559                        ;			pcd->handler = objclickCallback;
 13560                        	.line	2369
 13561 04:3AA9: A5 0E        	lda	<L503+objclickCallback_0
 13562 04:3AAB: A0 04 00     	ldy	#$4
 13563 04:3AAE: 97 01        	sta	[<L504+pcd_1],Y
 13564 04:3AB0: A5 10        	lda	<L503+objclickCallback_0+2
 13565 04:3AB2: A0 06 00     	ldy	#$6
 13566 04:3AB5: 97 01        	sta	[<L504+pcd_1],Y
 13567                        ;			k_add_object_hit_node(pcd);
 13568                        	.line	2370
 13569 04:3AB7: D4 03        	pei	<L504+pcd_1+2
 13570 04:3AB9: D4 01        	pei	<L504+pcd_1
 13571 04:3ABB: 22 D3 3A 04  	jsl	~~k_add_object_hit_node
 13572                        ;		}
 13573                        	.line	2371
 13574                        ;	}
 13575                        L10174:
 13576                        	.line	2372
 13577                        ;
 13578                        ;	return retCode;
 13579                        L10173:
 13580                        	.line	2374
 13581 04:3ABF: A5 05        	lda	<L504+retCode_1
 13582                        L508:
 13583 04:3AC1: A8           	tay
 13584 04:3AC2: A5 08        	lda	<L503+2
 13585 04:3AC4: 85 10        	sta	<L503+2+8
 13586 04:3AC6: A5 07        	lda	<L503+1
 13587 04:3AC8: 85 0F        	sta	<L503+1+8
 13588 04:3ACA: 2B           	pld
 13589 04:3ACB: 3B           	tsc
 13590 04:3ACC: 18           	clc
 13591 04:3ACD: 69 0E 00     	adc	#L503+8
 13592 04:3AD0: 1B           	tcs
 13593 04:3AD1: 98           	tya
 13594 04:3AD2: 6B           	rtl
 13595                        ;}
 13596                        	.line	2375
 13597                        	.endblock	2375
 13598             00000006   L503	equ	6
 13599             00000001   L504	equ	1
 13600 04:3AD3:              	ends
 13601                        	efunc
 13602                        	.endfunc	2375,1,6
 13603                        	.line	2375
 13604                        ;
 13605                        ;void k_add_object_hit_node(PCLICKDETECTED pcd)
 13606                        ;{
 13607                        	.line	2377
 13608                        	.line	2378
  Thu Dec  3 2020 22:25                                                Page 267


 13609                        	WINMAN
 13610                        	xdef	~~k_add_object_hit_node
 13611                        	func
 13612                        	.function	2378
 13613                        ~~k_add_object_hit_node:
 13614                        	longa	on
 13615                        	longi	on
 13616 04:3AD3: 3B           	tsc
 13617 04:3AD4: 38           	sec
 13618 04:3AD5: E9 08 00     	sbc	#L509
 13619 04:3AD8: 1B           	tcs
 13620 04:3AD9: 0B           	phd
 13621 04:3ADA: 5B           	tcd
 13622             00000004   pcd_0	set	4
 13623                        	.block	2378
 13624                        ;	PFXNODE new = NULL;
 13625                        ;	//k_debug_pointer("k_add_object_hit_node:",pcd);
 13626                        ;
 13627                        ;	new = k_nodelist_naddtolist_tohead(_k_windowMana
                    ger_ObjectHitList,1,(ULONG)k_getHandleFromWindow(pcd->window
                    ),pcd);
 13628             00000000   new_1	set	0
 13629                        	.sym	new,0,138,1,32,2
 13630                        	.sym	pcd,4,138,6,32,61
 13631 04:3ADB: 64 05        	stz	<L510+new_1
 13632 04:3ADD: 64 07        	stz	<L510+new_1+2
 13633                        	.line	2382
 13634 04:3ADF: D4 0E        	pei	<L509+pcd_0+2
 13635 04:3AE1: D4 0C        	pei	<L509+pcd_0
 13636 04:3AE3: A0 02 00     	ldy	#$2
 13637 04:3AE6: B7 0C        	lda	[<L509+pcd_0],Y
 13638 04:3AE8: 48           	pha
 13639 04:3AE9: A7 0C        	lda	[<L509+pcd_0]
 13640 04:3AEB: 48           	pha
 13641 04:3AEC: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 13642 04:3AF0: 85 01        	sta	<R0
 13643 04:3AF2: 86 03        	stx	<R0+2
 13644 04:3AF4: D4 03        	pei	<R0+2
 13645 04:3AF6: D4 01        	pei	<R0
 13646 04:3AF8: F4 01 00     	pea	#<$1
 13647 04:3AFB: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
 13648 04:3AFE: 48           	pha
 13649 04:3AFF: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
 13650 04:3B02: 48           	pha
 13651 04:3B03: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist_tohead
 13652 04:3B07: 85 05        	sta	<L510+new_1
 13653 04:3B09: 86 07        	stx	<L510+new_1+2
 13654                        ;	/*
 13655                        ;	if(pcd->window->pParentWindow == k_user_getDeskt
                    opWindow())
 13656                        ;	{
 13657                        ;
 13658                        ;		k_debug_strings("*** k_add_object_hit_no
                    de to HEAD:",pcd->window->win_title);
 13659                        ;		k_debug_pointer("***                    
                        WINDOW:",pcd->window);
 13660                        ;
 13661                        ;		k_debug_nodelist(_k_windowManager_Object
  Thu Dec  3 2020 22:25                                                Page 268


                    HitList->listhead->next);
 13662                        ;		k_debug_nodelist(((PWINDOW)pcd->window->
                    pParentWindow)->pChildHitList->listhead->next);
 13663                        ;
 13664                        ;
 13665                        ;		_k_windowManager_ObjectHitList->listData
                     = new;
 13666                        ;
 13667                        ;	}
 13668                        ;	*/
 13669                        ;
 13670                        ;}
 13671                        	.line	2399
 13672                        L512:
 13673 04:3B0B: A5 0A        	lda	<L509+2
 13674 04:3B0D: 85 0E        	sta	<L509+2+4
 13675 04:3B0F: A5 09        	lda	<L509+1
 13676 04:3B11: 85 0D        	sta	<L509+1+4
 13677 04:3B13: 2B           	pld
 13678 04:3B14: 3B           	tsc
 13679 04:3B15: 18           	clc
 13680 04:3B16: 69 0C 00     	adc	#L509+4
 13681 04:3B19: 1B           	tcs
 13682 04:3B1A: 6B           	rtl
 13683                        	.endblock	2399
 13684             00000008   L509	equ	8
 13685             00000005   L510	equ	5
 13686 04:3B1B:              	ends
 13687                        	efunc
 13688                        	.endfunc	2399,5,8
 13689                        	.line	2399
 13690                        ;
 13691                        ;int k_attach_mouse_detection_local(PFXNODELIST li
                    st,PWINDOW pWin,OBJECTCLICKED objclickCallback)
 13692                        ;{
 13693                        	.line	2401
 13694                        	.line	2402
 13695                        	WINMAN
 13696                        	xdef	~~k_attach_mouse_detection_local
 13697                        	func
 13698                        	.function	2402
 13699                        ~~k_attach_mouse_detection_local:
 13700                        	longa	on
 13701                        	longi	on
 13702 04:3B1B: 3B           	tsc
 13703 04:3B1C: 38           	sec
 13704 04:3B1D: E9 06 00     	sbc	#L513
 13705 04:3B20: 1B           	tcs
 13706 04:3B21: 0B           	phd
 13707 04:3B22: 5B           	tcd
 13708             00000004   list_0	set	4
 13709             00000008   pWin_0	set	8
 13710             0000000C   objclickCallback_0	set	12
 13711                        	.block	2402
 13712                        ;	PCLICKDETECTED pcd = NULL;
 13713                        ;
 13714                        ;	int retCode = 0;
 13715                        ;
  Thu Dec  3 2020 22:25                                                Page 269


 13716                        ;	//k_debug_pointer("k_attach_mouse_detection_loca
                    l:",pWin);
 13717                        ;
 13718                        ;	if(pWin)
 13719             00000000   pcd_1	set	0
 13720             00000004   retCode_1	set	4
 13721                        	.sym	pcd,0,138,1,32,61
 13722                        	.sym	retCode,4,5,1,16
 13723                        	.sym	list,4,138,6,32,3
 13724                        	.sym	pWin,8,138,6,32,27
 13725                        	.sym	objclickCallback,12,641,6,32
 13726 04:3B23: 64 01        	stz	<L514+pcd_1
 13727 04:3B25: 64 03        	stz	<L514+pcd_1+2
 13728 04:3B27: 64 05        	stz	<L514+retCode_1
 13729                        	.line	2409
 13730                        ;	{
 13731 04:3B29: A5 0E        	lda	<L513+pWin_0
 13732 04:3B2B: 05 10        	ora	<L513+pWin_0+2
 13733 04:3B2D: D0 03        	bne	L516
 13734 04:3B2F: 82 39 00     	brl	L10175
 13735                        L516:
 13736                        	.line	2410
 13737                        ;		pcd = k_mem_allocate_heap(sizeof(CLICKDE
                    TECTED));
 13738                        	.line	2411
 13739 04:3B32: F4 08 00     	pea	#<$8
 13740 04:3B35: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 13741 04:3B39: 85 01        	sta	<L514+pcd_1
 13742 04:3B3B: 86 03        	stx	<L514+pcd_1+2
 13743                        ;		if(pcd)
 13744                        	.line	2412
 13745                        ;		{
 13746 04:3B3D: A5 01        	lda	<L514+pcd_1
 13747 04:3B3F: 05 03        	ora	<L514+pcd_1+2
 13748 04:3B41: D0 03        	bne	L517
 13749 04:3B43: 82 25 00     	brl	L10176
 13750                        L517:
 13751                        	.line	2413
 13752                        ;			pcd->window  = pWin;
 13753                        	.line	2414
 13754 04:3B46: A5 0E        	lda	<L513+pWin_0
 13755 04:3B48: 87 01        	sta	[<L514+pcd_1]
 13756 04:3B4A: A5 10        	lda	<L513+pWin_0+2
 13757 04:3B4C: A0 02 00     	ldy	#$2
 13758 04:3B4F: 97 01        	sta	[<L514+pcd_1],Y
 13759                        ;			pcd->handler = objclickCallback;
 13760                        	.line	2415
 13761 04:3B51: A5 12        	lda	<L513+objclickCallback_0
 13762 04:3B53: A0 04 00     	ldy	#$4
 13763 04:3B56: 97 01        	sta	[<L514+pcd_1],Y
 13764 04:3B58: A5 14        	lda	<L513+objclickCallback_0+2
 13765 04:3B5A: A0 06 00     	ldy	#$6
 13766 04:3B5D: 97 01        	sta	[<L514+pcd_1],Y
 13767                        ;			k_add_object_hit_node_local(list
                    ,pcd);
 13768                        	.line	2416
 13769 04:3B5F: D4 03        	pei	<L514+pcd_1+2
 13770 04:3B61: D4 01        	pei	<L514+pcd_1
  Thu Dec  3 2020 22:25                                                Page 270


 13771 04:3B63: D4 0C        	pei	<L513+list_0+2
 13772 04:3B65: D4 0A        	pei	<L513+list_0
 13773 04:3B67: 22 7F 3B 04  	jsl	~~k_add_object_hit_node_local
 13774                        ;		}
 13775                        	.line	2417
 13776                        ;	}
 13777                        L10176:
 13778                        	.line	2418
 13779                        ;
 13780                        ;	return retCode;
 13781                        L10175:
 13782                        	.line	2420
 13783 04:3B6B: A5 05        	lda	<L514+retCode_1
 13784                        L518:
 13785 04:3B6D: A8           	tay
 13786 04:3B6E: A5 08        	lda	<L513+2
 13787 04:3B70: 85 14        	sta	<L513+2+12
 13788 04:3B72: A5 07        	lda	<L513+1
 13789 04:3B74: 85 13        	sta	<L513+1+12
 13790 04:3B76: 2B           	pld
 13791 04:3B77: 3B           	tsc
 13792 04:3B78: 18           	clc
 13793 04:3B79: 69 12 00     	adc	#L513+12
 13794 04:3B7C: 1B           	tcs
 13795 04:3B7D: 98           	tya
 13796 04:3B7E: 6B           	rtl
 13797                        ;}
 13798                        	.line	2421
 13799                        	.endblock	2421
 13800             00000006   L513	equ	6
 13801             00000001   L514	equ	1
 13802 04:3B7F:              	ends
 13803                        	efunc
 13804                        	.endfunc	2421,1,6
 13805                        	.line	2421
 13806                        ;
 13807                        ;
 13808                        ;void k_add_object_hit_node_local(PFXNODELIST list
                    ,PCLICKDETECTED pcd)
 13809                        ;{
 13810                        	.line	2424
 13811                        	.line	2425
 13812                        	WINMAN
 13813                        	xdef	~~k_add_object_hit_node_local
 13814                        	func
 13815                        	.function	2425
 13816                        ~~k_add_object_hit_node_local:
 13817                        	longa	on
 13818                        	longi	on
 13819 04:3B7F: 3B           	tsc
 13820 04:3B80: 38           	sec
 13821 04:3B81: E9 04 00     	sbc	#L519
 13822 04:3B84: 1B           	tcs
 13823 04:3B85: 0B           	phd
 13824 04:3B86: 5B           	tcd
 13825             00000004   list_0	set	4
 13826             00000008   pcd_0	set	8
 13827                        	.block	2425
  Thu Dec  3 2020 22:25                                                Page 271


 13828                        ;	//k_debug_pointer("k_add_object_hit_node_local:"
                    ,pcd);
 13829                        ;	//k_nodelist_naddtolist(list,1,pcd->window->win_
                    title,pcd);
 13830                        ;
 13831                        ;	//if(pcd->window->pParentWindow == k_user_getDes
                    ktopWindow())
 13832                        ;	//	k_nodelist_naddtolist_tohead(list,1,(ULO
                    NG)k_getHandleFromWindow(pcd->window),pcd);
 13833                        ;	//else
 13834                        ;		k_nodelist_naddtolist(list,1,(ULONG)k_ge
                    tHandleFromWindow(pcd->window),pcd);
 13835                        	.sym	list,4,138,6,32,3
 13836                        	.sym	pcd,8,138,6,32,61
 13837                        	.line	2432
 13838 04:3B87: D4 0E        	pei	<L519+pcd_0+2
 13839 04:3B89: D4 0C        	pei	<L519+pcd_0
 13840 04:3B8B: A0 02 00     	ldy	#$2
 13841 04:3B8E: B7 0C        	lda	[<L519+pcd_0],Y
 13842 04:3B90: 48           	pha
 13843 04:3B91: A7 0C        	lda	[<L519+pcd_0]
 13844 04:3B93: 48           	pha
 13845 04:3B94: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 13846 04:3B98: 85 01        	sta	<R0
 13847 04:3B9A: 86 03        	stx	<R0+2
 13848 04:3B9C: D4 03        	pei	<R0+2
 13849 04:3B9E: D4 01        	pei	<R0
 13850 04:3BA0: F4 01 00     	pea	#<$1
 13851 04:3BA3: D4 0A        	pei	<L519+list_0+2
 13852 04:3BA5: D4 08        	pei	<L519+list_0
 13853 04:3BA7: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
 13854                        ;
 13855                        ;
 13856                        ;}
 13857                        	.line	2435
 13858                        L522:
 13859 04:3BAB: A5 06        	lda	<L519+2
 13860 04:3BAD: 85 0E        	sta	<L519+2+8
 13861 04:3BAF: A5 05        	lda	<L519+1
 13862 04:3BB1: 85 0D        	sta	<L519+1+8
 13863 04:3BB3: 2B           	pld
 13864 04:3BB4: 3B           	tsc
 13865 04:3BB5: 18           	clc
 13866 04:3BB6: 69 0C 00     	adc	#L519+8
 13867 04:3BB9: 1B           	tcs
 13868 04:3BBA: 6B           	rtl
 13869                        	.endblock	2435
 13870             00000004   L519	equ	4
 13871             00000005   L520	equ	5
 13872 04:3BBB:              	ends
 13873                        	efunc
 13874                        	.endfunc	2435,5,4
 13875                        	.line	2435
 13876                        ;
 13877                        ;/*
 13878                        ;PFXNODE k_point_in_nodeslist(int x,int y)
 13879                        ;{
 13880                        ;	PFXNODE found = NULL;
  Thu Dec  3 2020 22:25                                                Page 272


 13881                        ;	LPCHAR ctx = "";
 13882                        ;	PFXNODE ptr = NULL;
 13883                        ;
 13884                        ;	RECT r;
 13885                        ;	int i = 0;
 13886                        ;	int index = -1;
 13887                        ;
 13888                        ;	//k_debug_string("k_point_in_nodes\r\n");
 13889                        ;
 13890                        ;	if(_k_windowManager_ObjectHitList!=NULL)
 13891                        ;	{
 13892                        ;		r = ((PCLICKABLE)((PCLICKDETECTED)((PFXN
                    ODE)_k_windowManager_ObjectHitList->listData)->data)->window
                    ->clickable)->area;
 13893                        ;		if(x >=r.x && x<(r.x+r.width))
 13894                        ;		{
 13895                        ;			if(y >=r.y && y<(r.y+r.height))
 13896                        ;			{
 13897                        ;				//k_debug_pointer("CURRE
                    NT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->listData)
                    ;
 13898                        ;				return (PFXNODE)_k_windo
                    wManager_ObjectHitList->listData;
 13899                        ;			}
 13900                        ;		}
 13901                        ;
 13902                        ;
 13903                        ;		ptr = k_nodelist_getfirstnode(_k_windowM
                    anager_ObjectHitList);
 13904                        ;		while(ptr!=NULL)
 13905                        ;		{
 13906                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 13907                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 13908                        ;			if(x >=r.x && x<(r.x+r.width))
 13909                        ;			{
 13910                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 13911                        ;				{
 13912                        ;					found = ptr;
 13913                        ;					_k_windowManager
                    _ObjectHitList->listData = found;
 13914                        ;					break;
 13915                        ;				}
 13916                        ;			}
 13917                        ;			ptr = ptr->next;
 13918                        ;		}
 13919                        ;	}
 13920                        ;
 13921                        ;	return found;
 13922                        ;}
 13923                        ;*/
 13924                        ;PFXNODE k_point_in_nodeslist(int x,int y)
 13925                        ;{
 13926                        	.line	2484
 13927                        	.line	2485
 13928                        	WINMAN
  Thu Dec  3 2020 22:25                                                Page 273


 13929                        	xdef	~~k_point_in_nodeslist
 13930                        	func
 13931                        	.function	2485
 13932                        ~~k_point_in_nodeslist:
 13933                        	longa	on
 13934                        	longi	on
 13935 04:3BBB: 3B           	tsc
 13936 04:3BBC: 38           	sec
 13937 04:3BBD: E9 04 00     	sbc	#L523
 13938 04:3BC0: 1B           	tcs
 13939 04:3BC1: 0B           	phd
 13940 04:3BC2: 5B           	tcd
 13941             00000004   x_0	set	4
 13942             00000006   y_0	set	6
 13943                        	.block	2485
 13944                        ;	return k_point_in_any_nodeslist(_k_windowManager
                    _ObjectHitList,x,y);
 13945                        	.sym	x,4,5,6,16
 13946                        	.sym	y,6,5,6,16
 13947                        	.line	2486
 13948 04:3BC3: D4 0A        	pei	<L523+y_0
 13949 04:3BC5: D4 08        	pei	<L523+x_0
 13950 04:3BC7: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
 13951 04:3BCA: 48           	pha
 13952 04:3BCB: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
 13953 04:3BCE: 48           	pha
 13954 04:3BCF: 22 ED 3B 04  	jsl	~~k_point_in_any_nodeslist
 13955 04:3BD3: 85 01        	sta	<R0
 13956 04:3BD5: 86 03        	stx	<R0+2
 13957 04:3BD7: A6 03        	ldx	<R0+2
 13958 04:3BD9: A5 01        	lda	<R0
 13959                        L526:
 13960 04:3BDB: A8           	tay
 13961 04:3BDC: A5 06        	lda	<L523+2
 13962 04:3BDE: 85 0A        	sta	<L523+2+4
 13963 04:3BE0: A5 05        	lda	<L523+1
 13964 04:3BE2: 85 09        	sta	<L523+1+4
 13965 04:3BE4: 2B           	pld
 13966 04:3BE5: 3B           	tsc
 13967 04:3BE6: 18           	clc
 13968 04:3BE7: 69 08 00     	adc	#L523+4
 13969 04:3BEA: 1B           	tcs
 13970 04:3BEB: 98           	tya
 13971 04:3BEC: 6B           	rtl
 13972                        ;}
 13973                        	.line	2487
 13974                        	.endblock	2487
 13975             00000004   L523	equ	4
 13976             00000005   L524	equ	5
 13977 04:3BED:              	ends
 13978                        	efunc
 13979                        	.endfunc	2487,5,4
 13980                        	.line	2487
 13981                        ;
 13982                        ;PFXNODE k_point_in_any_nodeslist(PFXNODELIST hitL
                    ist,int x,int y)
 13983                        ;{
 13984                        	.line	2489
  Thu Dec  3 2020 22:25                                                Page 274


 13985                        	.line	2490
 13986                        	WINMAN
 13987                        	xdef	~~k_point_in_any_nodeslist
 13988                        	func
 13989                        	.function	2490
 13990                        ~~k_point_in_any_nodeslist:
 13991                        	longa	on
 13992                        	longi	on
 13993 04:3BED: 3B           	tsc
 13994 04:3BEE: 38           	sec
 13995 04:3BEF: E9 20 00     	sbc	#L527
 13996 04:3BF2: 1B           	tcs
 13997 04:3BF3: 0B           	phd
 13998 04:3BF4: 5B           	tcd
 13999             00000004   hitList_0	set	4
 14000             00000008   x_0	set	8
 14001             0000000A   y_0	set	10
 14002                        	.block	2490
 14003                        ;	PFXNODE found = NULL;
 14004                        ;	LPCHAR ctx = "";
 14005                        ;	PFXNODE ptr = NULL;
 14006                        ;
 14007                        ;	RECT r;
 14008                        ;	int i = 0;
 14009                        ;	int index = -1;
 14010                        ;
 14011                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",hi
                    tList);
 14012                        ;
 14013                        ;	if(hitList!=NULL)
 14014             00000000   found_1	set	0
 14015             00000004   ctx_1	set	4
 14016             00000008   ptr_1	set	8
 14017             0000000C   r_1	set	12
 14018             00000014   i_1	set	20
 14019             00000016   index_1	set	22
 14020                        	.sym	found,0,138,1,32,2
 14021                        	.sym	ctx,4,142,1,32
 14022                        	.sym	ptr,8,138,1,32,2
 14023                        	.sym	r,12,10,1,64,22
 14024                        	.sym	i,20,5,1,16
 14025                        	.sym	index,22,5,1,16
 14026                        	.sym	hitList,4,138,6,32,3
 14027                        	.sym	x,8,5,6,16
 14028                        	.sym	y,10,5,6,16
 14029 04:3BF5: 64 09        	stz	<L528+found_1
 14030 04:3BF7: 64 0B        	stz	<L528+found_1+2
 14031 04:3BF9: A9 xx xx     	lda	#<L473
 14032 04:3BFC: 85 0D        	sta	<L528+ctx_1
 14033 04:3BFE: A9 xx xx     	lda	#^L473
 14034 04:3C01: 85 0F        	sta	<L528+ctx_1+2
 14035 04:3C03: 64 11        	stz	<L528+ptr_1
 14036 04:3C05: 64 13        	stz	<L528+ptr_1+2
 14037 04:3C07: 64 1D        	stz	<L528+i_1
 14038 04:3C09: A9 FF FF     	lda	#$ffff
 14039 04:3C0C: 85 1F        	sta	<L528+index_1
 14040                        	.line	2501
 14041                        ;	{
  Thu Dec  3 2020 22:25                                                Page 275


 14042 04:3C0E: A5 24        	lda	<L527+hitList_0
 14043 04:3C10: 05 26        	ora	<L527+hitList_0+2
 14044 04:3C12: D0 03        	bne	L530
 14045 04:3C14: 82 07 04     	brl	L10177
 14046                        L530:
 14047                        	.line	2502
 14048                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:data:",((PFXNODE)hitList->listData)->data);
 14049                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:window:",((PCLICKDETECTED)((PFXNODE)hitList->listData)->
                    data)->window);
 14050                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:clickable:",((PCLICKDETECTED)((PFXNODE)hitList->listData
                    )->data)->window->clickable);
 14051                        ;
 14052                        ;		if(hitList->listData && ((PFXNODE)hitLis
                    t->listData)->data && ((PCLICKDETECTED)((PFXNODE)hitList->li
                    stData)->data)->window && ((PCLICKDETECTED)((PFXNODE)hitList
                    ->listData)->data)->window->clickable)
 14053                        	.line	2507
 14054                        ;		{
 14055 04:3C17: A0 04 00     	ldy	#$4
 14056 04:3C1A: B7 24        	lda	[<L527+hitList_0],Y
 14057 04:3C1C: A0 06 00     	ldy	#$6
 14058 04:3C1F: 17 24        	ora	[<L527+hitList_0],Y
 14059 04:3C21: D0 03        	bne	L531
 14060 04:3C23: 82 7B 01     	brl	L10178
 14061                        L531:
 14062 04:3C26: A0 04 00     	ldy	#$4
 14063 04:3C29: B7 24        	lda	[<L527+hitList_0],Y
 14064 04:3C2B: 85 01        	sta	<R0
 14065 04:3C2D: A0 06 00     	ldy	#$6
 14066 04:3C30: B7 24        	lda	[<L527+hitList_0],Y
 14067 04:3C32: 85 03        	sta	<R0+2
 14068 04:3C34: A0 02 00     	ldy	#$2
 14069 04:3C37: B7 01        	lda	[<R0],Y
 14070 04:3C39: A0 04 00     	ldy	#$4
 14071 04:3C3C: 17 01        	ora	[<R0],Y
 14072 04:3C3E: D0 03        	bne	L532
 14073 04:3C40: 82 5E 01     	brl	L10178
 14074                        L532:
 14075 04:3C43: A0 04 00     	ldy	#$4
 14076 04:3C46: B7 24        	lda	[<L527+hitList_0],Y
 14077 04:3C48: 85 01        	sta	<R0
 14078 04:3C4A: A0 06 00     	ldy	#$6
 14079 04:3C4D: B7 24        	lda	[<L527+hitList_0],Y
 14080 04:3C4F: 85 03        	sta	<R0+2
 14081 04:3C51: A0 02 00     	ldy	#$2
 14082 04:3C54: B7 01        	lda	[<R0],Y
 14083 04:3C56: 85 05        	sta	<R1
 14084 04:3C58: A0 04 00     	ldy	#$4
 14085 04:3C5B: B7 01        	lda	[<R0],Y
 14086 04:3C5D: 85 07        	sta	<R1+2
 14087 04:3C5F: A7 05        	lda	[<R1]
 14088 04:3C61: A0 02 00     	ldy	#$2
 14089 04:3C64: 17 05        	ora	[<R1],Y
 14090 04:3C66: D0 03        	bne	L533
 14091 04:3C68: 82 36 01     	brl	L10178
  Thu Dec  3 2020 22:25                                                Page 276


 14092                        L533:
 14093 04:3C6B: A0 04 00     	ldy	#$4
 14094 04:3C6E: B7 24        	lda	[<L527+hitList_0],Y
 14095 04:3C70: 85 01        	sta	<R0
 14096 04:3C72: A0 06 00     	ldy	#$6
 14097 04:3C75: B7 24        	lda	[<L527+hitList_0],Y
 14098 04:3C77: 85 03        	sta	<R0+2
 14099 04:3C79: A0 02 00     	ldy	#$2
 14100 04:3C7C: B7 01        	lda	[<R0],Y
 14101 04:3C7E: 85 05        	sta	<R1
 14102 04:3C80: A0 04 00     	ldy	#$4
 14103 04:3C83: B7 01        	lda	[<R0],Y
 14104 04:3C85: 85 07        	sta	<R1+2
 14105 04:3C87: A7 05        	lda	[<R1]
 14106 04:3C89: 85 01        	sta	<R0
 14107 04:3C8B: A0 02 00     	ldy	#$2
 14108 04:3C8E: B7 05        	lda	[<R1],Y
 14109 04:3C90: 85 03        	sta	<R0+2
 14110 04:3C92: A0 D0 00     	ldy	#$d0
 14111 04:3C95: B7 01        	lda	[<R0],Y
 14112 04:3C97: A0 D2 00     	ldy	#$d2
 14113 04:3C9A: 17 01        	ora	[<R0],Y
 14114 04:3C9C: D0 03        	bne	L534
 14115 04:3C9E: 82 00 01     	brl	L10178
 14116                        L534:
 14117                        	.line	2508
 14118                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)((PFXNODE)hitList->listData)->data)->window->clickable)->a
                    rea;
 14119                        	.line	2509
 14120 04:3CA1: A0 04 00     	ldy	#$4
 14121 04:3CA4: B7 24        	lda	[<L527+hitList_0],Y
 14122 04:3CA6: 85 01        	sta	<R0
 14123 04:3CA8: A0 06 00     	ldy	#$6
 14124 04:3CAB: B7 24        	lda	[<L527+hitList_0],Y
 14125 04:3CAD: 85 03        	sta	<R0+2
 14126 04:3CAF: A0 02 00     	ldy	#$2
 14127 04:3CB2: B7 01        	lda	[<R0],Y
 14128 04:3CB4: 85 05        	sta	<R1
 14129 04:3CB6: A0 04 00     	ldy	#$4
 14130 04:3CB9: B7 01        	lda	[<R0],Y
 14131 04:3CBB: 85 07        	sta	<R1+2
 14132 04:3CBD: A7 05        	lda	[<R1]
 14133 04:3CBF: 85 01        	sta	<R0
 14134 04:3CC1: A0 02 00     	ldy	#$2
 14135 04:3CC4: B7 05        	lda	[<R1],Y
 14136 04:3CC6: 85 03        	sta	<R0+2
 14137 04:3CC8: A0 D2 00     	ldy	#$d2
 14138 04:3CCB: B7 01        	lda	[<R0],Y
 14139 04:3CCD: 48           	pha
 14140 04:3CCE: A0 D0 00     	ldy	#$d0
 14141 04:3CD1: B7 01        	lda	[<R0],Y
 14142 04:3CD3: 48           	pha
 14143 04:3CD4: 18           	clc
 14144 04:3CD5: 7B           	tdc
 14145 04:3CD6: 69 15 00     	adc	#<L528+r_1
 14146 04:3CD9: 85 01        	sta	<R0
 14147 04:3CDB: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 277


 14148 04:3CDE: 85 03        	sta	<R0+2
 14149 04:3CE0: D4 03        	pei	<R0+2
 14150 04:3CE2: D4 01        	pei	<R0
 14151 04:3CE4: A9 08 00     	lda	#$8
 14152                        	xref	~~~fmov
 14153 04:3CE7: 22 xx xx xx  	jsl	~~~fmov
 14154                        ;			if(x >=r.x && x<(r.x+r.width))
 14155                        	.line	2510
 14156                        ;			{
 14157 04:3CEB: 38           	sec
 14158 04:3CEC: A5 28        	lda	<L527+x_0
 14159 04:3CEE: E5 15        	sbc	<L528+r_1
 14160 04:3CF0: 70 03        	bvs	L535
 14161 04:3CF2: 49 00 80     	eor	#$8000
 14162                        L535:
 14163 04:3CF5: 30 03        	bmi	L536
 14164 04:3CF7: 82 A7 00     	brl	L10179
 14165                        L536:
 14166 04:3CFA: 18           	clc
 14167 04:3CFB: A5 15        	lda	<L528+r_1
 14168 04:3CFD: 65 19        	adc	<L528+r_1+4
 14169 04:3CFF: 85 01        	sta	<R0
 14170 04:3D01: 38           	sec
 14171 04:3D02: A5 28        	lda	<L527+x_0
 14172 04:3D04: E5 01        	sbc	<R0
 14173 04:3D06: 70 03        	bvs	L537
 14174 04:3D08: 49 00 80     	eor	#$8000
 14175                        L537:
 14176 04:3D0B: 10 03        	bpl	L538
 14177 04:3D0D: 82 91 00     	brl	L10179
 14178                        L538:
 14179                        	.line	2511
 14180                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 14181                        	.line	2512
 14182                        ;				{
 14183 04:3D10: 38           	sec
 14184 04:3D11: A5 2A        	lda	<L527+y_0
 14185 04:3D13: E5 17        	sbc	<L528+r_1+2
 14186 04:3D15: 70 03        	bvs	L539
 14187 04:3D17: 49 00 80     	eor	#$8000
 14188                        L539:
 14189 04:3D1A: 30 03        	bmi	L540
 14190 04:3D1C: 82 82 00     	brl	L10180
 14191                        L540:
 14192 04:3D1F: 18           	clc
 14193 04:3D20: A5 17        	lda	<L528+r_1+2
 14194 04:3D22: 65 1B        	adc	<L528+r_1+6
 14195 04:3D24: 85 01        	sta	<R0
 14196 04:3D26: 38           	sec
 14197 04:3D27: A5 2A        	lda	<L527+y_0
 14198 04:3D29: E5 01        	sbc	<R0
 14199 04:3D2B: 70 03        	bvs	L541
 14200 04:3D2D: 49 00 80     	eor	#$8000
 14201                        L541:
 14202 04:3D30: 10 03        	bpl	L542
 14203 04:3D32: 82 6C 00     	brl	L10180
 14204                        L542:
  Thu Dec  3 2020 22:25                                                Page 278


 14205                        	.line	2513
 14206                        ;					//k_debug_pointe
                    r("CURRENT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->l
                    istData);
 14207                        ;					found = k_point_
                    in_any_nodeslist(  ((PCLICKDETECTED)((PFXNODE)hitList->listD
                    ata)->data)->window->pChildHitList,x,y);
 14208                        	.line	2515
 14209 04:3D35: D4 2A        	pei	<L527+y_0
 14210 04:3D37: D4 28        	pei	<L527+x_0
 14211 04:3D39: A0 04 00     	ldy	#$4
 14212 04:3D3C: B7 24        	lda	[<L527+hitList_0],Y
 14213 04:3D3E: 85 01        	sta	<R0
 14214 04:3D40: A0 06 00     	ldy	#$6
 14215 04:3D43: B7 24        	lda	[<L527+hitList_0],Y
 14216 04:3D45: 85 03        	sta	<R0+2
 14217 04:3D47: A0 02 00     	ldy	#$2
 14218 04:3D4A: B7 01        	lda	[<R0],Y
 14219 04:3D4C: 85 05        	sta	<R1
 14220 04:3D4E: A0 04 00     	ldy	#$4
 14221 04:3D51: B7 01        	lda	[<R0],Y
 14222 04:3D53: 85 07        	sta	<R1+2
 14223 04:3D55: A7 05        	lda	[<R1]
 14224 04:3D57: 85 01        	sta	<R0
 14225 04:3D59: A0 02 00     	ldy	#$2
 14226 04:3D5C: B7 05        	lda	[<R1],Y
 14227 04:3D5E: 85 03        	sta	<R0+2
 14228 04:3D60: A0 3E 01     	ldy	#$13e
 14229 04:3D63: B7 01        	lda	[<R0],Y
 14230 04:3D65: 48           	pha
 14231 04:3D66: A0 3C 01     	ldy	#$13c
 14232 04:3D69: B7 01        	lda	[<R0],Y
 14233 04:3D6B: 48           	pha
 14234 04:3D6C: 22 ED 3B 04  	jsl	~~k_point_in_any_nodeslist
 14235 04:3D70: 85 09        	sta	<L528+found_1
 14236 04:3D72: 86 0B        	stx	<L528+found_1+2
 14237                        ;					if(found)
 14238                        	.line	2516
 14239                        ;						return f
                    ound;
 14240 04:3D74: A5 09        	lda	<L528+found_1
 14241 04:3D76: 05 0B        	ora	<L528+found_1+2
 14242 04:3D78: D0 03        	bne	L543
 14243 04:3D7A: 82 16 00     	brl	L10181
 14244                        L543:
 14245                        	.line	2517
 14246 04:3D7D: A6 0B        	ldx	<L528+found_1+2
 14247 04:3D7F: A5 09        	lda	<L528+found_1
 14248                        L544:
 14249 04:3D81: A8           	tay
 14250 04:3D82: A5 22        	lda	<L527+2
 14251 04:3D84: 85 2A        	sta	<L527+2+8
 14252 04:3D86: A5 21        	lda	<L527+1
 14253 04:3D88: 85 29        	sta	<L527+1+8
 14254 04:3D8A: 2B           	pld
 14255 04:3D8B: 3B           	tsc
 14256 04:3D8C: 18           	clc
 14257 04:3D8D: 69 28 00     	adc	#L527+8
  Thu Dec  3 2020 22:25                                                Page 279


 14258 04:3D90: 1B           	tcs
 14259 04:3D91: 98           	tya
 14260 04:3D92: 6B           	rtl
 14261                        ;
 14262                        ;					return (PFXNODE)
                    hitList->listData;
 14263                        L10181:
 14264                        	.line	2519
 14265 04:3D93: A0 06 00     	ldy	#$6
 14266 04:3D96: B7 24        	lda	[<L527+hitList_0],Y
 14267 04:3D98: AA           	tax
 14268 04:3D99: A0 04 00     	ldy	#$4
 14269 04:3D9C: B7 24        	lda	[<L527+hitList_0],Y
 14270 04:3D9E: 82 E0 FF     	brl	L544
 14271                        ;				}
 14272                        	.line	2520
 14273                        ;			}
 14274                        L10180:
 14275                        	.line	2521
 14276                        ;		}
 14277                        L10179:
 14278                        	.line	2522
 14279                        ;
 14280                        ;		ptr = k_nodelist_getfirstnode(hitList);
 14281                        L10178:
 14282                        	.line	2524
 14283 04:3DA1: D4 26        	pei	<L527+hitList_0+2
 14284 04:3DA3: D4 24        	pei	<L527+hitList_0
 14285 04:3DA5: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 14286 04:3DA9: 85 11        	sta	<L528+ptr_1
 14287 04:3DAB: 86 13        	stx	<L528+ptr_1+2
 14288                        ;		while(ptr!=NULL)
 14289                        	.line	2525
 14290                        L10182:
 14291 04:3DAD: A5 11        	lda	<L528+ptr_1
 14292 04:3DAF: 05 13        	ora	<L528+ptr_1+2
 14293 04:3DB1: D0 03        	bne	L545
 14294 04:3DB3: 82 68 02     	brl	L10183
 14295                        L545:
 14296                        ;		{
 14297                        	.line	2526
 14298                        ;			//k_debug_pointer("FOUND HIT CHE
                    CK ITEM:",ptr);
 14299                        ;			found = k_point_in_any_nodeslist
                    (NULL,x,y); //k_point_in_any_nodeslist(((PCLICKDETECTED)ptr-
                    >data)->window->pChildHitList,x,y);
 14300                        	.line	2528
 14301 04:3DB6: D4 2A        	pei	<L527+y_0
 14302 04:3DB8: D4 28        	pei	<L527+x_0
 14303 04:3DBA: F4 00 00     	pea	#^$0
 14304 04:3DBD: F4 00 00     	pea	#<$0
 14305 04:3DC0: 22 ED 3B 04  	jsl	~~k_point_in_any_nodeslist
 14306 04:3DC4: 85 09        	sta	<L528+found_1
 14307 04:3DC6: 86 0B        	stx	<L528+found_1+2
 14308                        ;			if(!found)
 14309                        	.line	2529
 14310                        ;			{
 14311 04:3DC8: A5 09        	lda	<L528+found_1
  Thu Dec  3 2020 22:25                                                Page 280


 14312 04:3DCA: 05 0B        	ora	<L528+found_1+2
 14313 04:3DCC: F0 03        	beq	L546
 14314 04:3DCE: 82 4A 02     	brl	L10184
 14315                        L546:
 14316                        	.line	2530
 14317                        ;				r = ((PCLICKABLE)((PCLIC
                    KDETECTED)ptr->data)->window->clickable)->area;
 14318                        	.line	2531
 14319 04:3DD1: A0 02 00     	ldy	#$2
 14320 04:3DD4: B7 11        	lda	[<L528+ptr_1],Y
 14321 04:3DD6: 85 01        	sta	<R0
 14322 04:3DD8: A0 04 00     	ldy	#$4
 14323 04:3DDB: B7 11        	lda	[<L528+ptr_1],Y
 14324 04:3DDD: 85 03        	sta	<R0+2
 14325 04:3DDF: A7 01        	lda	[<R0]
 14326 04:3DE1: 85 05        	sta	<R1
 14327 04:3DE3: A0 02 00     	ldy	#$2
 14328 04:3DE6: B7 01        	lda	[<R0],Y
 14329 04:3DE8: 85 07        	sta	<R1+2
 14330 04:3DEA: A0 D2 00     	ldy	#$d2
 14331 04:3DED: B7 05        	lda	[<R1],Y
 14332 04:3DEF: 48           	pha
 14333 04:3DF0: A0 D0 00     	ldy	#$d0
 14334 04:3DF3: B7 05        	lda	[<R1],Y
 14335 04:3DF5: 48           	pha
 14336 04:3DF6: 18           	clc
 14337 04:3DF7: 7B           	tdc
 14338 04:3DF8: 69 15 00     	adc	#<L528+r_1
 14339 04:3DFB: 85 01        	sta	<R0
 14340 04:3DFD: A9 00 00     	lda	#$0
 14341 04:3E00: 85 03        	sta	<R0+2
 14342 04:3E02: D4 03        	pei	<R0+2
 14343 04:3E04: D4 01        	pei	<R0
 14344 04:3E06: A9 08 00     	lda	#$8
 14345                        	xref	~~~fmov
 14346 04:3E09: 22 xx xx xx  	jsl	~~~fmov
 14347                        ;				if(x >=r.x && x<(r.x+r.w
                    idth))
 14348                        	.line	2532
 14349                        ;				{
 14350 04:3E0D: 38           	sec
 14351 04:3E0E: A5 28        	lda	<L527+x_0
 14352 04:3E10: E5 15        	sbc	<L528+r_1
 14353 04:3E12: 70 03        	bvs	L547
 14354 04:3E14: 49 00 80     	eor	#$8000
 14355                        L547:
 14356 04:3E17: 30 03        	bmi	L548
 14357 04:3E19: 82 8E 00     	brl	L10185
 14358                        L548:
 14359 04:3E1C: 18           	clc
 14360 04:3E1D: A5 15        	lda	<L528+r_1
 14361 04:3E1F: 65 19        	adc	<L528+r_1+4
 14362 04:3E21: 85 01        	sta	<R0
 14363 04:3E23: 38           	sec
 14364 04:3E24: A5 28        	lda	<L527+x_0
 14365 04:3E26: E5 01        	sbc	<R0
 14366 04:3E28: 70 03        	bvs	L549
 14367 04:3E2A: 49 00 80     	eor	#$8000
  Thu Dec  3 2020 22:25                                                Page 281


 14368                        L549:
 14369 04:3E2D: 10 03        	bpl	L550
 14370 04:3E2F: 82 78 00     	brl	L10185
 14371                        L550:
 14372                        	.line	2533
 14373                        ;					if(y >=r.y && y<
                    (r.y+r.height))
 14374                        	.line	2534
 14375                        ;					{
 14376 04:3E32: 38           	sec
 14377 04:3E33: A5 2A        	lda	<L527+y_0
 14378 04:3E35: E5 17        	sbc	<L528+r_1+2
 14379 04:3E37: 70 03        	bvs	L551
 14380 04:3E39: 49 00 80     	eor	#$8000
 14381                        L551:
 14382 04:3E3C: 30 03        	bmi	L552
 14383 04:3E3E: 82 69 00     	brl	L10186
 14384                        L552:
 14385 04:3E41: 18           	clc
 14386 04:3E42: A5 17        	lda	<L528+r_1+2
 14387 04:3E44: 65 1B        	adc	<L528+r_1+6
 14388 04:3E46: 85 01        	sta	<R0
 14389 04:3E48: 38           	sec
 14390 04:3E49: A5 2A        	lda	<L527+y_0
 14391 04:3E4B: E5 01        	sbc	<R0
 14392 04:3E4D: 70 03        	bvs	L553
 14393 04:3E4F: 49 00 80     	eor	#$8000
 14394                        L553:
 14395 04:3E52: 10 03        	bpl	L554
 14396 04:3E54: 82 53 00     	brl	L10186
 14397                        L554:
 14398                        	.line	2535
 14399                        ;						//found 
                    = ptr;
 14400                        ;
 14401                        ;						found = 
                     k_point_in_any_nodeslist( ((PCLICKDETECTED)ptr->data)->wind
                    ow->pChildHitList   ,x,y); // k_point_in_any_nodeslist(((PCL
                    ICKDETECTED)ptr->data)->window->pChildHitList,x,y);
 14402                        	.line	2538
 14403 04:3E57: D4 2A        	pei	<L527+y_0
 14404 04:3E59: D4 28        	pei	<L527+x_0
 14405 04:3E5B: A0 02 00     	ldy	#$2
 14406 04:3E5E: B7 11        	lda	[<L528+ptr_1],Y
 14407 04:3E60: 85 01        	sta	<R0
 14408 04:3E62: A0 04 00     	ldy	#$4
 14409 04:3E65: B7 11        	lda	[<L528+ptr_1],Y
 14410 04:3E67: 85 03        	sta	<R0+2
 14411 04:3E69: A7 01        	lda	[<R0]
 14412 04:3E6B: 85 05        	sta	<R1
 14413 04:3E6D: A0 02 00     	ldy	#$2
 14414 04:3E70: B7 01        	lda	[<R0],Y
 14415 04:3E72: 85 07        	sta	<R1+2
 14416 04:3E74: A0 3E 01     	ldy	#$13e
 14417 04:3E77: B7 05        	lda	[<R1],Y
 14418 04:3E79: 48           	pha
 14419 04:3E7A: A0 3C 01     	ldy	#$13c
 14420 04:3E7D: B7 05        	lda	[<R1],Y
  Thu Dec  3 2020 22:25                                                Page 282


 14421 04:3E7F: 48           	pha
 14422 04:3E80: 22 ED 3B 04  	jsl	~~k_point_in_any_nodeslist
 14423 04:3E84: 85 09        	sta	<L528+found_1
 14424 04:3E86: 86 0B        	stx	<L528+found_1+2
 14425                        ;						if(!foun
                    d)
 14426                        	.line	2539
 14427                        ;						{
 14428 04:3E88: A5 09        	lda	<L528+found_1
 14429 04:3E8A: 05 0B        	ora	<L528+found_1+2
 14430 04:3E8C: F0 03        	beq	L555
 14431 04:3E8E: 82 08 00     	brl	L10187
 14432                        L555:
 14433                        	.line	2540
 14434                        ;							
                    found = ptr;
 14435                        	.line	2541
 14436 04:3E91: A5 11        	lda	<L528+ptr_1
 14437 04:3E93: 85 09        	sta	<L528+found_1
 14438 04:3E95: A5 13        	lda	<L528+ptr_1+2
 14439 04:3E97: 85 0B        	sta	<L528+found_1+2
 14440                        ;						}
 14441                        	.line	2542
 14442                        ;
 14443                        ;						hitList-
                    >listData = found;
 14444                        L10187:
 14445                        	.line	2544
 14446 04:3E99: A5 09        	lda	<L528+found_1
 14447 04:3E9B: A0 04 00     	ldy	#$4
 14448 04:3E9E: 97 24        	sta	[<L527+hitList_0],Y
 14449 04:3EA0: A5 0B        	lda	<L528+found_1+2
 14450 04:3EA2: A0 06 00     	ldy	#$6
 14451 04:3EA5: 97 24        	sta	[<L527+hitList_0],Y
 14452                        ;						break;
 14453                        	.line	2545
 14454 04:3EA7: 82 74 01     	brl	L10183
 14455                        ;					}
 14456                        	.line	2546
 14457                        ;				}
 14458                        L10186:
 14459                        	.line	2547
 14460                        ;				ptr = ptr->next;
 14461                        L10185:
 14462                        	.line	2548
 14463 04:3EAA: A0 0A 00     	ldy	#$a
 14464 04:3EAD: B7 11        	lda	[<L528+ptr_1],Y
 14465 04:3EAF: 85 01        	sta	<R0
 14466 04:3EB1: A0 0C 00     	ldy	#$c
 14467 04:3EB4: B7 11        	lda	[<L528+ptr_1],Y
 14468 04:3EB6: 85 03        	sta	<R0+2
 14469 04:3EB8: A5 01        	lda	<R0
 14470 04:3EBA: 85 11        	sta	<L528+ptr_1
 14471 04:3EBC: A5 03        	lda	<R0+2
 14472 04:3EBE: 85 13        	sta	<L528+ptr_1+2
 14473                        ;
 14474                        ;				if(ptr)
 14475                        	.line	2550
  Thu Dec  3 2020 22:25                                                Page 283


 14476                        ;				{
 14477 04:3EC0: A5 11        	lda	<L528+ptr_1
 14478 04:3EC2: 05 13        	ora	<L528+ptr_1+2
 14479 04:3EC4: D0 03        	bne	L556
 14480 04:3EC6: 82 52 01     	brl	L10188
 14481                        L556:
 14482                        	.line	2551
 14483                        ;					if(((PCLICKDETEC
                    TED)ptr->data)->window && ((PCLICKDETECTED)ptr->data)->windo
                    w->isClosed)
 14484                        	.line	2552
 14485                        ;					{
 14486 04:3EC9: A0 02 00     	ldy	#$2
 14487 04:3ECC: B7 11        	lda	[<L528+ptr_1],Y
 14488 04:3ECE: 85 01        	sta	<R0
 14489 04:3ED0: A0 04 00     	ldy	#$4
 14490 04:3ED3: B7 11        	lda	[<L528+ptr_1],Y
 14491 04:3ED5: 85 03        	sta	<R0+2
 14492 04:3ED7: A7 01        	lda	[<R0]
 14493 04:3ED9: A0 02 00     	ldy	#$2
 14494 04:3EDC: 17 01        	ora	[<R0],Y
 14495 04:3EDE: D0 03        	bne	L557
 14496 04:3EE0: 82 38 01     	brl	L10189
 14497                        L557:
 14498 04:3EE3: A0 02 00     	ldy	#$2
 14499 04:3EE6: B7 11        	lda	[<L528+ptr_1],Y
 14500 04:3EE8: 85 01        	sta	<R0
 14501 04:3EEA: A0 04 00     	ldy	#$4
 14502 04:3EED: B7 11        	lda	[<L528+ptr_1],Y
 14503 04:3EEF: 85 03        	sta	<R0+2
 14504 04:3EF1: A7 01        	lda	[<R0]
 14505 04:3EF3: 85 05        	sta	<R1
 14506 04:3EF5: A0 02 00     	ldy	#$2
 14507 04:3EF8: B7 01        	lda	[<R0],Y
 14508 04:3EFA: 85 07        	sta	<R1+2
 14509 04:3EFC: A0 5D 01     	ldy	#$15d
 14510 04:3EFF: B7 05        	lda	[<R1],Y
 14511 04:3F01: 29 FF 00     	and	#$ff
 14512 04:3F04: D0 03        	bne	L558
 14513 04:3F06: 82 12 01     	brl	L10189
 14514                        L558:
 14515                        	.line	2553
 14516                        ;						((PCLICK
                    DETECTED)ptr->data)->window->win_title[31] = 0;
 14517                        	.line	2554
 14518 04:3F09: A0 02 00     	ldy	#$2
 14519 04:3F0C: B7 11        	lda	[<L528+ptr_1],Y
 14520 04:3F0E: 85 01        	sta	<R0
 14521 04:3F10: A0 04 00     	ldy	#$4
 14522 04:3F13: B7 11        	lda	[<L528+ptr_1],Y
 14523 04:3F15: 85 03        	sta	<R0+2
 14524 04:3F17: A7 01        	lda	[<R0]
 14525 04:3F19: 85 05        	sta	<R1
 14526 04:3F1B: A0 02 00     	ldy	#$2
 14527 04:3F1E: B7 01        	lda	[<R0],Y
 14528 04:3F20: 85 07        	sta	<R1+2
 14529 04:3F22: E2 20        	sep	#$20
 14530                        	longa	off
  Thu Dec  3 2020 22:25                                                Page 284


 14531 04:3F24: A9 00        	lda	#$0
 14532 04:3F26: A0 F3 00     	ldy	#$f3
 14533 04:3F29: 97 05        	sta	[<R1],Y
 14534 04:3F2B: C2 20        	rep	#$20
 14535                        	longa	on
 14536                        ;
 14537                        ;						if(((PCL
                    ICKDETECTED)ptr->data)->window->win_title)
 14538                        	.line	2556
 14539                        ;							
                    k_debug_strings("k_point_in_any_nodeslist::removing closed w
                    indow:",((PCLICKDETECTED)ptr->data)->window->win_title);
 14540 04:3F2D: A0 02 00     	ldy	#$2
 14541 04:3F30: B7 11        	lda	[<L528+ptr_1],Y
 14542 04:3F32: 85 01        	sta	<R0
 14543 04:3F34: A0 04 00     	ldy	#$4
 14544 04:3F37: B7 11        	lda	[<L528+ptr_1],Y
 14545 04:3F39: 85 03        	sta	<R0+2
 14546 04:3F3B: 18           	clc
 14547 04:3F3C: A9 D4 00     	lda	#$d4
 14548 04:3F3F: 67 01        	adc	[<R0]
 14549 04:3F41: 85 05        	sta	<R1
 14550 04:3F43: A9 00 00     	lda	#$0
 14551 04:3F46: A0 02 00     	ldy	#$2
 14552 04:3F49: 77 01        	adc	[<R0],Y
 14553 04:3F4B: 85 07        	sta	<R1+2
 14554 04:3F4D: A5 05        	lda	<R1
 14555 04:3F4F: 05 07        	ora	<R1+2
 14556 04:3F51: D0 03        	bne	L559
 14557 04:3F53: 82 31 00     	brl	L10190
 14558                        L559:
 14559                        	.line	2557
 14560 04:3F56: A0 02 00     	ldy	#$2
 14561 04:3F59: B7 11        	lda	[<L528+ptr_1],Y
 14562 04:3F5B: 85 01        	sta	<R0
 14563 04:3F5D: A0 04 00     	ldy	#$4
 14564 04:3F60: B7 11        	lda	[<L528+ptr_1],Y
 14565 04:3F62: 85 03        	sta	<R0+2
 14566 04:3F64: 18           	clc
 14567 04:3F65: A9 D4 00     	lda	#$d4
 14568 04:3F68: 67 01        	adc	[<R0]
 14569 04:3F6A: 85 05        	sta	<R1
 14570 04:3F6C: A9 00 00     	lda	#$0
 14571 04:3F6F: A0 02 00     	ldy	#$2
 14572 04:3F72: 77 01        	adc	[<R0],Y
 14573 04:3F74: 85 07        	sta	<R1+2
 14574 04:3F76: D4 07        	pei	<R1+2
 14575 04:3F78: D4 05        	pei	<R1
 14576 04:3F7A: F4 xx xx     	pea	#^L473+1
 14577 04:3F7D: F4 xx xx     	pea	#<L473+1
 14578 04:3F80: 22 xx xx xx  	jsl	~~k_debug_strings
 14579                        ;						else
 14580 04:3F84: 82 10 00     	brl	L10191
 14581                        L10190:
 14582                        ;							
                    k_debug_strings("k_point_in_any_nodeslist::removing closed w
                    indow:","NO NAME");
 14583                        	.line	2559
  Thu Dec  3 2020 22:25                                                Page 285


 14584 04:3F87: F4 xx xx     	pea	#^L473+101
 14585 04:3F8A: F4 xx xx     	pea	#<L473+101
 14586 04:3F8D: F4 xx xx     	pea	#^L473+51
 14587 04:3F90: F4 xx xx     	pea	#<L473+51
 14588 04:3F93: 22 xx xx xx  	jsl	~~k_debug_strings
 14589                        L10191:
 14590                        ;
 14591                        ;						found = 
                    ptr->next;
 14592                        	.line	2561
 14593 04:3F97: A0 0A 00     	ldy	#$a
 14594 04:3F9A: B7 11        	lda	[<L528+ptr_1],Y
 14595 04:3F9C: 85 09        	sta	<L528+found_1
 14596 04:3F9E: A0 0C 00     	ldy	#$c
 14597 04:3FA1: B7 11        	lda	[<L528+ptr_1],Y
 14598 04:3FA3: 85 0B        	sta	<L528+found_1+2
 14599                        ;
 14600                        ;						if(ptr->
                    last)
 14601                        	.line	2563
 14602                        ;							
                    ptr->last->next = ptr->next;
 14603 04:3FA5: A0 06 00     	ldy	#$6
 14604 04:3FA8: B7 11        	lda	[<L528+ptr_1],Y
 14605 04:3FAA: A0 08 00     	ldy	#$8
 14606 04:3FAD: 17 11        	ora	[<L528+ptr_1],Y
 14607 04:3FAF: D0 03        	bne	L560
 14608 04:3FB1: 82 22 00     	brl	L10192
 14609                        L560:
 14610                        	.line	2564
 14611 04:3FB4: A0 06 00     	ldy	#$6
 14612 04:3FB7: B7 11        	lda	[<L528+ptr_1],Y
 14613 04:3FB9: 85 01        	sta	<R0
 14614 04:3FBB: A0 08 00     	ldy	#$8
 14615 04:3FBE: B7 11        	lda	[<L528+ptr_1],Y
 14616 04:3FC0: 85 03        	sta	<R0+2
 14617 04:3FC2: A0 0A 00     	ldy	#$a
 14618 04:3FC5: B7 11        	lda	[<L528+ptr_1],Y
 14619 04:3FC7: A0 0A 00     	ldy	#$a
 14620 04:3FCA: 97 01        	sta	[<R0],Y
 14621 04:3FCC: A0 0C 00     	ldy	#$c
 14622 04:3FCF: B7 11        	lda	[<L528+ptr_1],Y
 14623 04:3FD1: A0 0C 00     	ldy	#$c
 14624 04:3FD4: 97 01        	sta	[<R0],Y
 14625                        ;						if(ptr->
                    next)
 14626                        L10192:
 14627                        	.line	2565
 14628                        ;							
                    ptr->next->last = ptr->last;
 14629 04:3FD6: A0 0A 00     	ldy	#$a
 14630 04:3FD9: B7 11        	lda	[<L528+ptr_1],Y
 14631 04:3FDB: A0 0C 00     	ldy	#$c
 14632 04:3FDE: 17 11        	ora	[<L528+ptr_1],Y
 14633 04:3FE0: D0 03        	bne	L561
 14634 04:3FE2: 82 22 00     	brl	L10193
 14635                        L561:
 14636                        	.line	2566
  Thu Dec  3 2020 22:25                                                Page 286


 14637 04:3FE5: A0 0A 00     	ldy	#$a
 14638 04:3FE8: B7 11        	lda	[<L528+ptr_1],Y
 14639 04:3FEA: 85 01        	sta	<R0
 14640 04:3FEC: A0 0C 00     	ldy	#$c
 14641 04:3FEF: B7 11        	lda	[<L528+ptr_1],Y
 14642 04:3FF1: 85 03        	sta	<R0+2
 14643 04:3FF3: A0 06 00     	ldy	#$6
 14644 04:3FF6: B7 11        	lda	[<L528+ptr_1],Y
 14645 04:3FF8: A0 06 00     	ldy	#$6
 14646 04:3FFB: 97 01        	sta	[<R0],Y
 14647 04:3FFD: A0 08 00     	ldy	#$8
 14648 04:4000: B7 11        	lda	[<L528+ptr_1],Y
 14649 04:4002: A0 08 00     	ldy	#$8
 14650 04:4005: 97 01        	sta	[<R0],Y
 14651                        ;
 14652                        ;						//k_mem_
                    deallocate_heap(ptr->data);
 14653                        ;						k_mem_de
                    allocate_heap(ptr);
 14654                        L10193:
 14655                        	.line	2569
 14656 04:4007: D4 13        	pei	<L528+ptr_1+2
 14657 04:4009: D4 11        	pei	<L528+ptr_1
 14658 04:400B: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 14659                        ;
 14660                        ;						ptr = fo
                    und;
 14661                        	.line	2571
 14662 04:400F: A5 09        	lda	<L528+found_1
 14663 04:4011: 85 11        	sta	<L528+ptr_1
 14664 04:4013: A5 0B        	lda	<L528+found_1+2
 14665 04:4015: 85 13        	sta	<L528+ptr_1+2
 14666                        ;						found = 
                    NULL;
 14667                        	.line	2572
 14668 04:4017: 64 09        	stz	<L528+found_1
 14669 04:4019: 64 0B        	stz	<L528+found_1+2
 14670                        ;					}
 14671                        	.line	2573
 14672                        ;				}
 14673                        L10189:
 14674                        	.line	2574
 14675                        ;			}
 14676                        L10188:
 14677                        	.line	2575
 14678                        ;		}
 14679                        L10184:
 14680                        	.line	2576
 14681 04:401B: 82 8F FD     	brl	L10182
 14682                        L10183:
 14683                        ;	}
 14684                        	.line	2577
 14685                        ;
 14686                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",fo
                    und);
 14687                        ;
 14688                        ;	return found;
 14689                        L10177:
  Thu Dec  3 2020 22:25                                                Page 287


 14690                        	.line	2581
 14691 04:401E: A6 0B        	ldx	<L528+found_1+2
 14692 04:4020: A5 09        	lda	<L528+found_1
 14693 04:4022: 82 5C FD     	brl	L544
 14694                        ;}
 14695                        	.line	2582
 14696                        	.endblock	2582
 14697             00000020   L527	equ	32
 14698             00000009   L528	equ	9
 14699 04:4025:              	ends
 14700                        	efunc
 14701                        	.endfunc	2582,9,32
 14702                        	.line	2582
 14703                        	data
 14704                        L473:
 14705 00:0C59: 00 6B 5F 70  	db	$00,$6B,$5F,$70,$6F,$69,$6E,$74,$5F,$69,
                    $6E,$5F,$61,$6E,$79
       00:0C5D: 6F 69 6E 74 
       00:0C61: 5F 69 6E 5F 
       00:0C65: 61 6E 79 
 14706 00:0C68: 5F 6E 6F 64  	db	$5F,$6E,$6F,$64,$65,$73,$6C,$69,$73,$74,
                    $3A,$3A,$72,$65,$6D
       00:0C6C: 65 73 6C 69 
       00:0C70: 73 74 3A 3A 
       00:0C74: 72 65 6D 
 14707 00:0C77: 6F 76 69 6E  	db	$6F,$76,$69,$6E,$67,$20,$63,$6C,$6F,$73,
                    $65,$64,$20,$77,$69
       00:0C7B: 67 20 63 6C 
       00:0C7F: 6F 73 65 64 
       00:0C83: 20 77 69 
 14708 00:0C86: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$00,$6B,$5F,$70,$6F,
                    $69,$6E,$74,$5F,$69
       00:0C8A: 3A 00 6B 5F 
       00:0C8E: 70 6F 69 6E 
       00:0C92: 74 5F 69 
 14709 00:0C95: 6E 5F 61 6E  	db	$6E,$5F,$61,$6E,$79,$5F,$6E,$6F,$64,$65,
                    $73,$6C,$69,$73,$74
       00:0C99: 79 5F 6E 6F 
       00:0C9D: 64 65 73 6C 
       00:0CA1: 69 73 74 
 14710 00:0CA4: 3A 3A 72 65  	db	$3A,$3A,$72,$65,$6D,$6F,$76,$69,$6E,$67,
                    $20,$63,$6C,$6F,$73
       00:0CA8: 6D 6F 76 69 
       00:0CAC: 6E 67 20 63 
       00:0CB0: 6C 6F 73 
 14711 00:0CB3: 65 64 20 77  	db	$65,$64,$20,$77,$69,$6E,$64,$6F,$77,$3A,
                    $00,$4E,$4F,$20,$4E
       00:0CB7: 69 6E 64 6F 
       00:0CBB: 77 3A 00 4E 
       00:0CBF: 4F 20 4E 
 14712 00:0CC2: 41 4D 45 00  	db	$41,$4D,$45,$00
 14713 00:0CC6:              	ends
 14714                        ;
 14715                        ;
 14716                        ;PFXNODE k_point_in_depth_nodeslist(PFXNODELIST hi
                    tList,int x,int y)
 14717                        ;{
 14718                        	.line	2585
  Thu Dec  3 2020 22:25                                                Page 288


 14719                        	.line	2586
 14720                        	WINMAN
 14721                        	xdef	~~k_point_in_depth_nodeslist
 14722                        	func
 14723                        	.function	2586
 14724                        ~~k_point_in_depth_nodeslist:
 14725                        	longa	on
 14726                        	longi	on
 14727 04:4025: 3B           	tsc
 14728 04:4026: 38           	sec
 14729 04:4027: E9 20 00     	sbc	#L563
 14730 04:402A: 1B           	tcs
 14731 04:402B: 0B           	phd
 14732 04:402C: 5B           	tcd
 14733             00000004   hitList_0	set	4
 14734             00000008   x_0	set	8
 14735             0000000A   y_0	set	10
 14736                        	.block	2586
 14737                        ;	PFXNODE found = NULL;
 14738                        ;	LPCHAR ctx = "";
 14739                        ;	PFXNODE ptr = NULL;
 14740                        ;
 14741                        ;	RECT r;
 14742                        ;	int i = 0;
 14743                        ;	int index = -1;
 14744                        ;
 14745                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",hi
                    tList);
 14746                        ;
 14747                        ;	if(hitList!=NULL)
 14748             00000000   found_1	set	0
 14749             00000004   ctx_1	set	4
 14750             00000008   ptr_1	set	8
 14751             0000000C   r_1	set	12
 14752             00000014   i_1	set	20
 14753             00000016   index_1	set	22
 14754                        	.sym	found,0,138,1,32,2
 14755                        	.sym	ctx,4,142,1,32
 14756                        	.sym	ptr,8,138,1,32,2
 14757                        	.sym	r,12,10,1,64,22
 14758                        	.sym	i,20,5,1,16
 14759                        	.sym	index,22,5,1,16
 14760                        	.sym	hitList,4,138,6,32,3
 14761                        	.sym	x,8,5,6,16
 14762                        	.sym	y,10,5,6,16
 14763 04:402D: 64 09        	stz	<L564+found_1
 14764 04:402F: 64 0B        	stz	<L564+found_1+2
 14765 04:4031: A9 xx xx     	lda	#<L562
 14766 04:4034: 85 0D        	sta	<L564+ctx_1
 14767 04:4036: A9 xx xx     	lda	#^L562
 14768 04:4039: 85 0F        	sta	<L564+ctx_1+2
 14769 04:403B: 64 11        	stz	<L564+ptr_1
 14770 04:403D: 64 13        	stz	<L564+ptr_1+2
 14771 04:403F: 64 1D        	stz	<L564+i_1
 14772 04:4041: A9 FF FF     	lda	#$ffff
 14773 04:4044: 85 1F        	sta	<L564+index_1
 14774                        	.line	2597
 14775                        ;	{
  Thu Dec  3 2020 22:25                                                Page 289


 14776 04:4046: A5 24        	lda	<L563+hitList_0
 14777 04:4048: 05 26        	ora	<L563+hitList_0+2
 14778 04:404A: D0 03        	bne	L566
 14779 04:404C: 82 BD 02     	brl	L10194
 14780                        L566:
 14781                        	.line	2598
 14782                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:data:",((PFXNODE)hitList->listData)->data);
 14783                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:window:",((PCLICKDETECTED)((PFXNODE)hitList->listData)->
                    data)->window);
 14784                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:clickable:",((PCLICKDETECTED)((PFXNODE)hitList->listData
                    )->data)->window->clickable);
 14785                        ;
 14786                        ;		if(hitList->listData && ((PFXNODE)hitLis
                    t->listData)->data && ((PCLICKDETECTED)((PFXNODE)hitList->li
                    stData)->data)->window && ((PCLICKDETECTED)((PFXNODE)hitList
                    ->listData)->data)->window->clickable)
 14787                        	.line	2603
 14788                        ;		{
 14789 04:404F: A0 04 00     	ldy	#$4
 14790 04:4052: B7 24        	lda	[<L563+hitList_0],Y
 14791 04:4054: A0 06 00     	ldy	#$6
 14792 04:4057: 17 24        	ora	[<L563+hitList_0],Y
 14793 04:4059: D0 03        	bne	L567
 14794 04:405B: 82 65 01     	brl	L10195
 14795                        L567:
 14796 04:405E: A0 04 00     	ldy	#$4
 14797 04:4061: B7 24        	lda	[<L563+hitList_0],Y
 14798 04:4063: 85 01        	sta	<R0
 14799 04:4065: A0 06 00     	ldy	#$6
 14800 04:4068: B7 24        	lda	[<L563+hitList_0],Y
 14801 04:406A: 85 03        	sta	<R0+2
 14802 04:406C: A0 02 00     	ldy	#$2
 14803 04:406F: B7 01        	lda	[<R0],Y
 14804 04:4071: A0 04 00     	ldy	#$4
 14805 04:4074: 17 01        	ora	[<R0],Y
 14806 04:4076: D0 03        	bne	L568
 14807 04:4078: 82 48 01     	brl	L10195
 14808                        L568:
 14809 04:407B: A0 04 00     	ldy	#$4
 14810 04:407E: B7 24        	lda	[<L563+hitList_0],Y
 14811 04:4080: 85 01        	sta	<R0
 14812 04:4082: A0 06 00     	ldy	#$6
 14813 04:4085: B7 24        	lda	[<L563+hitList_0],Y
 14814 04:4087: 85 03        	sta	<R0+2
 14815 04:4089: A0 02 00     	ldy	#$2
 14816 04:408C: B7 01        	lda	[<R0],Y
 14817 04:408E: 85 05        	sta	<R1
 14818 04:4090: A0 04 00     	ldy	#$4
 14819 04:4093: B7 01        	lda	[<R0],Y
 14820 04:4095: 85 07        	sta	<R1+2
 14821 04:4097: A7 05        	lda	[<R1]
 14822 04:4099: A0 02 00     	ldy	#$2
 14823 04:409C: 17 05        	ora	[<R1],Y
 14824 04:409E: D0 03        	bne	L569
 14825 04:40A0: 82 20 01     	brl	L10195
  Thu Dec  3 2020 22:25                                                Page 290


 14826                        L569:
 14827 04:40A3: A0 04 00     	ldy	#$4
 14828 04:40A6: B7 24        	lda	[<L563+hitList_0],Y
 14829 04:40A8: 85 01        	sta	<R0
 14830 04:40AA: A0 06 00     	ldy	#$6
 14831 04:40AD: B7 24        	lda	[<L563+hitList_0],Y
 14832 04:40AF: 85 03        	sta	<R0+2
 14833 04:40B1: A0 02 00     	ldy	#$2
 14834 04:40B4: B7 01        	lda	[<R0],Y
 14835 04:40B6: 85 05        	sta	<R1
 14836 04:40B8: A0 04 00     	ldy	#$4
 14837 04:40BB: B7 01        	lda	[<R0],Y
 14838 04:40BD: 85 07        	sta	<R1+2
 14839 04:40BF: A7 05        	lda	[<R1]
 14840 04:40C1: 85 01        	sta	<R0
 14841 04:40C3: A0 02 00     	ldy	#$2
 14842 04:40C6: B7 05        	lda	[<R1],Y
 14843 04:40C8: 85 03        	sta	<R0+2
 14844 04:40CA: A0 D0 00     	ldy	#$d0
 14845 04:40CD: B7 01        	lda	[<R0],Y
 14846 04:40CF: A0 D2 00     	ldy	#$d2
 14847 04:40D2: 17 01        	ora	[<R0],Y
 14848 04:40D4: D0 03        	bne	L570
 14849 04:40D6: 82 EA 00     	brl	L10195
 14850                        L570:
 14851                        	.line	2604
 14852                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)((PFXNODE)hitList->listData)->data)->window->clickable)->a
                    rea;
 14853                        	.line	2605
 14854 04:40D9: A0 04 00     	ldy	#$4
 14855 04:40DC: B7 24        	lda	[<L563+hitList_0],Y
 14856 04:40DE: 85 01        	sta	<R0
 14857 04:40E0: A0 06 00     	ldy	#$6
 14858 04:40E3: B7 24        	lda	[<L563+hitList_0],Y
 14859 04:40E5: 85 03        	sta	<R0+2
 14860 04:40E7: A0 02 00     	ldy	#$2
 14861 04:40EA: B7 01        	lda	[<R0],Y
 14862 04:40EC: 85 05        	sta	<R1
 14863 04:40EE: A0 04 00     	ldy	#$4
 14864 04:40F1: B7 01        	lda	[<R0],Y
 14865 04:40F3: 85 07        	sta	<R1+2
 14866 04:40F5: A7 05        	lda	[<R1]
 14867 04:40F7: 85 01        	sta	<R0
 14868 04:40F9: A0 02 00     	ldy	#$2
 14869 04:40FC: B7 05        	lda	[<R1],Y
 14870 04:40FE: 85 03        	sta	<R0+2
 14871 04:4100: A0 D2 00     	ldy	#$d2
 14872 04:4103: B7 01        	lda	[<R0],Y
 14873 04:4105: 48           	pha
 14874 04:4106: A0 D0 00     	ldy	#$d0
 14875 04:4109: B7 01        	lda	[<R0],Y
 14876 04:410B: 48           	pha
 14877 04:410C: 18           	clc
 14878 04:410D: 7B           	tdc
 14879 04:410E: 69 15 00     	adc	#<L564+r_1
 14880 04:4111: 85 01        	sta	<R0
 14881 04:4113: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 291


 14882 04:4116: 85 03        	sta	<R0+2
 14883 04:4118: D4 03        	pei	<R0+2
 14884 04:411A: D4 01        	pei	<R0
 14885 04:411C: A9 08 00     	lda	#$8
 14886                        	xref	~~~fmov
 14887 04:411F: 22 xx xx xx  	jsl	~~~fmov
 14888                        ;			if(x >=r.x && x<(r.x+r.width))
 14889                        	.line	2606
 14890                        ;			{
 14891 04:4123: 38           	sec
 14892 04:4124: A5 28        	lda	<L563+x_0
 14893 04:4126: E5 15        	sbc	<L564+r_1
 14894 04:4128: 70 03        	bvs	L571
 14895 04:412A: 49 00 80     	eor	#$8000
 14896                        L571:
 14897 04:412D: 30 03        	bmi	L572
 14898 04:412F: 82 91 00     	brl	L10196
 14899                        L572:
 14900 04:4132: 18           	clc
 14901 04:4133: A5 15        	lda	<L564+r_1
 14902 04:4135: 65 19        	adc	<L564+r_1+4
 14903 04:4137: 85 01        	sta	<R0
 14904 04:4139: 38           	sec
 14905 04:413A: A5 28        	lda	<L563+x_0
 14906 04:413C: E5 01        	sbc	<R0
 14907 04:413E: 70 03        	bvs	L573
 14908 04:4140: 49 00 80     	eor	#$8000
 14909                        L573:
 14910 04:4143: 10 03        	bpl	L574
 14911 04:4145: 82 7B 00     	brl	L10196
 14912                        L574:
 14913                        	.line	2607
 14914                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 14915                        	.line	2608
 14916                        ;				{
 14917 04:4148: 38           	sec
 14918 04:4149: A5 2A        	lda	<L563+y_0
 14919 04:414B: E5 17        	sbc	<L564+r_1+2
 14920 04:414D: 70 03        	bvs	L575
 14921 04:414F: 49 00 80     	eor	#$8000
 14922                        L575:
 14923 04:4152: 30 03        	bmi	L576
 14924 04:4154: 82 6C 00     	brl	L10197
 14925                        L576:
 14926 04:4157: 18           	clc
 14927 04:4158: A5 17        	lda	<L564+r_1+2
 14928 04:415A: 65 1B        	adc	<L564+r_1+6
 14929 04:415C: 85 01        	sta	<R0
 14930 04:415E: 38           	sec
 14931 04:415F: A5 2A        	lda	<L563+y_0
 14932 04:4161: E5 01        	sbc	<R0
 14933 04:4163: 70 03        	bvs	L577
 14934 04:4165: 49 00 80     	eor	#$8000
 14935                        L577:
 14936 04:4168: 10 03        	bpl	L578
 14937 04:416A: 82 56 00     	brl	L10197
 14938                        L578:
  Thu Dec  3 2020 22:25                                                Page 292


 14939                        	.line	2609
 14940                        ;					//k_debug_pointe
                    r("CURRENT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->l
                    istData);
 14941                        ;					found = k_point_
                    in_depth_nodeslist(  ((PCLICKDETECTED)((PFXNODE)hitList->lis
                    tData)->data)->window->pChildHitList,x,y);
 14942                        	.line	2611
 14943 04:416D: D4 2A        	pei	<L563+y_0
 14944 04:416F: D4 28        	pei	<L563+x_0
 14945 04:4171: A0 04 00     	ldy	#$4
 14946 04:4174: B7 24        	lda	[<L563+hitList_0],Y
 14947 04:4176: 85 01        	sta	<R0
 14948 04:4178: A0 06 00     	ldy	#$6
 14949 04:417B: B7 24        	lda	[<L563+hitList_0],Y
 14950 04:417D: 85 03        	sta	<R0+2
 14951 04:417F: A0 02 00     	ldy	#$2
 14952 04:4182: B7 01        	lda	[<R0],Y
 14953 04:4184: 85 05        	sta	<R1
 14954 04:4186: A0 04 00     	ldy	#$4
 14955 04:4189: B7 01        	lda	[<R0],Y
 14956 04:418B: 85 07        	sta	<R1+2
 14957 04:418D: A7 05        	lda	[<R1]
 14958 04:418F: 85 01        	sta	<R0
 14959 04:4191: A0 02 00     	ldy	#$2
 14960 04:4194: B7 05        	lda	[<R1],Y
 14961 04:4196: 85 03        	sta	<R0+2
 14962 04:4198: A0 3E 01     	ldy	#$13e
 14963 04:419B: B7 01        	lda	[<R0],Y
 14964 04:419D: 48           	pha
 14965 04:419E: A0 3C 01     	ldy	#$13c
 14966 04:41A1: B7 01        	lda	[<R0],Y
 14967 04:41A3: 48           	pha
 14968 04:41A4: 22 25 40 04  	jsl	~~k_point_in_depth_nodeslist
 14969 04:41A8: 85 09        	sta	<L564+found_1
 14970 04:41AA: 86 0B        	stx	<L564+found_1+2
 14971                        ;					if(!found)
 14972                        	.line	2612
 14973                        ;						found = 
                    (PFXNODE)hitList->listData;
 14974 04:41AC: A5 09        	lda	<L564+found_1
 14975 04:41AE: 05 0B        	ora	<L564+found_1+2
 14976 04:41B0: F0 03        	beq	L579
 14977 04:41B2: 82 0E 00     	brl	L10198
 14978                        L579:
 14979                        	.line	2613
 14980 04:41B5: A0 04 00     	ldy	#$4
 14981 04:41B8: B7 24        	lda	[<L563+hitList_0],Y
 14982 04:41BA: 85 09        	sta	<L564+found_1
 14983 04:41BC: A0 06 00     	ldy	#$6
 14984 04:41BF: B7 24        	lda	[<L563+hitList_0],Y
 14985 04:41C1: 85 0B        	sta	<L564+found_1+2
 14986                        ;				}
 14987                        L10198:
 14988                        	.line	2614
 14989                        ;			}
 14990                        L10197:
 14991                        	.line	2615
  Thu Dec  3 2020 22:25                                                Page 293


 14992                        ;		}
 14993                        L10196:
 14994                        	.line	2616
 14995                        ;
 14996                        ;		if(found)
 14997                        L10195:
 14998                        	.line	2618
 14999                        ;			return found;
 15000 04:41C3: A5 09        	lda	<L564+found_1
 15001 04:41C5: 05 0B        	ora	<L564+found_1+2
 15002 04:41C7: D0 03        	bne	L580
 15003 04:41C9: 82 16 00     	brl	L10199
 15004                        L580:
 15005                        	.line	2619
 15006 04:41CC: A6 0B        	ldx	<L564+found_1+2
 15007 04:41CE: A5 09        	lda	<L564+found_1
 15008                        L581:
 15009 04:41D0: A8           	tay
 15010 04:41D1: A5 22        	lda	<L563+2
 15011 04:41D3: 85 2A        	sta	<L563+2+8
 15012 04:41D5: A5 21        	lda	<L563+1
 15013 04:41D7: 85 29        	sta	<L563+1+8
 15014 04:41D9: 2B           	pld
 15015 04:41DA: 3B           	tsc
 15016 04:41DB: 18           	clc
 15017 04:41DC: 69 28 00     	adc	#L563+8
 15018 04:41DF: 1B           	tcs
 15019 04:41E0: 98           	tya
 15020 04:41E1: 6B           	rtl
 15021                        ;
 15022                        ;		ptr = k_nodelist_getfirstnode(hitList);
 15023                        L10199:
 15024                        	.line	2621
 15025 04:41E2: D4 26        	pei	<L563+hitList_0+2
 15026 04:41E4: D4 24        	pei	<L563+hitList_0
 15027 04:41E6: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 15028 04:41EA: 85 11        	sta	<L564+ptr_1
 15029 04:41EC: 86 13        	stx	<L564+ptr_1+2
 15030                        ;		while(ptr!=NULL)
 15031                        	.line	2622
 15032                        L10200:
 15033 04:41EE: A5 11        	lda	<L564+ptr_1
 15034 04:41F0: 05 13        	ora	<L564+ptr_1+2
 15035 04:41F2: D0 03        	bne	L582
 15036 04:41F4: 82 15 01     	brl	L10201
 15037                        L582:
 15038                        ;		{
 15039                        	.line	2623
 15040                        ;			//k_debug_pointer("FOUND HIT CHE
                    CK ITEM:",ptr);
 15041                        ;			found = k_point_in_any_nodeslist
                    (NULL,x,y); //k_point_in_any_nodeslist(((PCLICKDETECTED)ptr-
                    >data)->window->pChildHitList,x,y);
 15042                        	.line	2625
 15043 04:41F7: D4 2A        	pei	<L563+y_0
 15044 04:41F9: D4 28        	pei	<L563+x_0
 15045 04:41FB: F4 00 00     	pea	#^$0
 15046 04:41FE: F4 00 00     	pea	#<$0
  Thu Dec  3 2020 22:25                                                Page 294


 15047 04:4201: 22 ED 3B 04  	jsl	~~k_point_in_any_nodeslist
 15048 04:4205: 85 09        	sta	<L564+found_1
 15049 04:4207: 86 0B        	stx	<L564+found_1+2
 15050                        ;			if(!found)
 15051                        	.line	2626
 15052                        ;			{
 15053 04:4209: A5 09        	lda	<L564+found_1
 15054 04:420B: 05 0B        	ora	<L564+found_1+2
 15055 04:420D: F0 03        	beq	L583
 15056 04:420F: 82 F7 00     	brl	L10202
 15057                        L583:
 15058                        	.line	2627
 15059                        ;				r = ((PCLICKABLE)((PCLIC
                    KDETECTED)ptr->data)->window->clickable)->area;
 15060                        	.line	2628
 15061 04:4212: A0 02 00     	ldy	#$2
 15062 04:4215: B7 11        	lda	[<L564+ptr_1],Y
 15063 04:4217: 85 01        	sta	<R0
 15064 04:4219: A0 04 00     	ldy	#$4
 15065 04:421C: B7 11        	lda	[<L564+ptr_1],Y
 15066 04:421E: 85 03        	sta	<R0+2
 15067 04:4220: A7 01        	lda	[<R0]
 15068 04:4222: 85 05        	sta	<R1
 15069 04:4224: A0 02 00     	ldy	#$2
 15070 04:4227: B7 01        	lda	[<R0],Y
 15071 04:4229: 85 07        	sta	<R1+2
 15072 04:422B: A0 D2 00     	ldy	#$d2
 15073 04:422E: B7 05        	lda	[<R1],Y
 15074 04:4230: 48           	pha
 15075 04:4231: A0 D0 00     	ldy	#$d0
 15076 04:4234: B7 05        	lda	[<R1],Y
 15077 04:4236: 48           	pha
 15078 04:4237: 18           	clc
 15079 04:4238: 7B           	tdc
 15080 04:4239: 69 15 00     	adc	#<L564+r_1
 15081 04:423C: 85 01        	sta	<R0
 15082 04:423E: A9 00 00     	lda	#$0
 15083 04:4241: 85 03        	sta	<R0+2
 15084 04:4243: D4 03        	pei	<R0+2
 15085 04:4245: D4 01        	pei	<R0
 15086 04:4247: A9 08 00     	lda	#$8
 15087                        	xref	~~~fmov
 15088 04:424A: 22 xx xx xx  	jsl	~~~fmov
 15089                        ;				if(x >=r.x && x<(r.x+r.w
                    idth))
 15090                        	.line	2629
 15091                        ;				{
 15092 04:424E: 38           	sec
 15093 04:424F: A5 28        	lda	<L563+x_0
 15094 04:4251: E5 15        	sbc	<L564+r_1
 15095 04:4253: 70 03        	bvs	L584
 15096 04:4255: 49 00 80     	eor	#$8000
 15097                        L584:
 15098 04:4258: 30 03        	bmi	L585
 15099 04:425A: 82 8E 00     	brl	L10203
 15100                        L585:
 15101 04:425D: 18           	clc
 15102 04:425E: A5 15        	lda	<L564+r_1
  Thu Dec  3 2020 22:25                                                Page 295


 15103 04:4260: 65 19        	adc	<L564+r_1+4
 15104 04:4262: 85 01        	sta	<R0
 15105 04:4264: 38           	sec
 15106 04:4265: A5 28        	lda	<L563+x_0
 15107 04:4267: E5 01        	sbc	<R0
 15108 04:4269: 70 03        	bvs	L586
 15109 04:426B: 49 00 80     	eor	#$8000
 15110                        L586:
 15111 04:426E: 10 03        	bpl	L587
 15112 04:4270: 82 78 00     	brl	L10203
 15113                        L587:
 15114                        	.line	2630
 15115                        ;					if(y >=r.y && y<
                    (r.y+r.height))
 15116                        	.line	2631
 15117                        ;					{
 15118 04:4273: 38           	sec
 15119 04:4274: A5 2A        	lda	<L563+y_0
 15120 04:4276: E5 17        	sbc	<L564+r_1+2
 15121 04:4278: 70 03        	bvs	L588
 15122 04:427A: 49 00 80     	eor	#$8000
 15123                        L588:
 15124 04:427D: 30 03        	bmi	L589
 15125 04:427F: 82 69 00     	brl	L10204
 15126                        L589:
 15127 04:4282: 18           	clc
 15128 04:4283: A5 17        	lda	<L564+r_1+2
 15129 04:4285: 65 1B        	adc	<L564+r_1+6
 15130 04:4287: 85 01        	sta	<R0
 15131 04:4289: 38           	sec
 15132 04:428A: A5 2A        	lda	<L563+y_0
 15133 04:428C: E5 01        	sbc	<R0
 15134 04:428E: 70 03        	bvs	L590
 15135 04:4290: 49 00 80     	eor	#$8000
 15136                        L590:
 15137 04:4293: 10 03        	bpl	L591
 15138 04:4295: 82 53 00     	brl	L10204
 15139                        L591:
 15140                        	.line	2632
 15141                        ;						//found 
                    = ptr;
 15142                        ;
 15143                        ;						found = 
                     k_point_in_depth_nodeslist( ((PCLICKDETECTED)ptr->data)->wi
                    ndow->pChildHitList   ,x,y); // k_point_in_any_nodeslist(((P
                    CLICKDETECTED)ptr->data)->window->pChildHitList,x,y);
 15144                        	.line	2635
 15145 04:4298: D4 2A        	pei	<L563+y_0
 15146 04:429A: D4 28        	pei	<L563+x_0
 15147 04:429C: A0 02 00     	ldy	#$2
 15148 04:429F: B7 11        	lda	[<L564+ptr_1],Y
 15149 04:42A1: 85 01        	sta	<R0
 15150 04:42A3: A0 04 00     	ldy	#$4
 15151 04:42A6: B7 11        	lda	[<L564+ptr_1],Y
 15152 04:42A8: 85 03        	sta	<R0+2
 15153 04:42AA: A7 01        	lda	[<R0]
 15154 04:42AC: 85 05        	sta	<R1
 15155 04:42AE: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 296


 15156 04:42B1: B7 01        	lda	[<R0],Y
 15157 04:42B3: 85 07        	sta	<R1+2
 15158 04:42B5: A0 3E 01     	ldy	#$13e
 15159 04:42B8: B7 05        	lda	[<R1],Y
 15160 04:42BA: 48           	pha
 15161 04:42BB: A0 3C 01     	ldy	#$13c
 15162 04:42BE: B7 05        	lda	[<R1],Y
 15163 04:42C0: 48           	pha
 15164 04:42C1: 22 25 40 04  	jsl	~~k_point_in_depth_nodeslist
 15165 04:42C5: 85 09        	sta	<L564+found_1
 15166 04:42C7: 86 0B        	stx	<L564+found_1+2
 15167                        ;						if(!foun
                    d)
 15168                        	.line	2636
 15169                        ;						{
 15170 04:42C9: A5 09        	lda	<L564+found_1
 15171 04:42CB: 05 0B        	ora	<L564+found_1+2
 15172 04:42CD: F0 03        	beq	L592
 15173 04:42CF: 82 08 00     	brl	L10205
 15174                        L592:
 15175                        	.line	2637
 15176                        ;							
                    found = ptr;
 15177                        	.line	2638
 15178 04:42D2: A5 11        	lda	<L564+ptr_1
 15179 04:42D4: 85 09        	sta	<L564+found_1
 15180 04:42D6: A5 13        	lda	<L564+ptr_1+2
 15181 04:42D8: 85 0B        	sta	<L564+found_1+2
 15182                        ;						}
 15183                        	.line	2639
 15184                        ;
 15185                        ;						hitList-
                    >listData = found;
 15186                        L10205:
 15187                        	.line	2641
 15188 04:42DA: A5 09        	lda	<L564+found_1
 15189 04:42DC: A0 04 00     	ldy	#$4
 15190 04:42DF: 97 24        	sta	[<L563+hitList_0],Y
 15191 04:42E1: A5 0B        	lda	<L564+found_1+2
 15192 04:42E3: A0 06 00     	ldy	#$6
 15193 04:42E6: 97 24        	sta	[<L563+hitList_0],Y
 15194                        ;						break;
 15195                        	.line	2642
 15196 04:42E8: 82 21 00     	brl	L10201
 15197                        ;					}
 15198                        	.line	2643
 15199                        ;				}
 15200                        L10204:
 15201                        	.line	2644
 15202                        ;
 15203                        ;				// CLEANUP CLOSED CLOSED
                     WINDOWS
 15204                        ;				ptr = ptr->next;
 15205                        L10203:
 15206                        	.line	2647
 15207 04:42EB: A0 0A 00     	ldy	#$a
 15208 04:42EE: B7 11        	lda	[<L564+ptr_1],Y
 15209 04:42F0: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 297


 15210 04:42F2: A0 0C 00     	ldy	#$c
 15211 04:42F5: B7 11        	lda	[<L564+ptr_1],Y
 15212 04:42F7: 85 03        	sta	<R0+2
 15213 04:42F9: A5 01        	lda	<R0
 15214 04:42FB: 85 11        	sta	<L564+ptr_1
 15215 04:42FD: A5 03        	lda	<R0+2
 15216 04:42FF: 85 13        	sta	<L564+ptr_1+2
 15217                        ;
 15218                        ;				k_remove_closed_windows_
                    from_list(ptr);
 15219                        	.line	2649
 15220 04:4301: D4 13        	pei	<L564+ptr_1+2
 15221 04:4303: D4 11        	pei	<L564+ptr_1
 15222 04:4305: 22 25 45 04  	jsl	~~k_remove_closed_windows_from_list
 15223                        ;				/*
 15224                        ;				if(((PCLICKDETECTED)ptr-
                    >data)->window->isClosed)
 15225                        ;				{
 15226                        ;					((PCLICKDETECTED
                    )ptr->data)->window->win_title[31] = 0;
 15227                        ;					k_debug_strings(
                    "k_point_in_any_nodeslist::removing closed window:",((PCLICK
                    DETECTED)ptr->data)->window->win_title);
 15228                        ;
 15229                        ;					found = ptr->nex
                    t;
 15230                        ;
 15231                        ;					if(ptr->last)
 15232                        ;						ptr->las
                    t->next = ptr->next;
 15233                        ;					if(ptr->next)
 15234                        ;						ptr->nex
                    t->last = ptr->last;
 15235                        ;
 15236                        ;					//k_mem_dealloca
                    te_heap(ptr->data);
 15237                        ;					k_mem_deallocate
                    _heap(ptr);
 15238                        ;
 15239                        ;					ptr = found;
 15240                        ;					found = NULL;
 15241                        ;				}
 15242                        ;				*/
 15243                        ;			}
 15244                        	.line	2670
 15245                        ;		}
 15246                        L10202:
 15247                        	.line	2671
 15248 04:4309: 82 E2 FE     	brl	L10200
 15249                        L10201:
 15250                        ;	}
 15251                        	.line	2672
 15252                        ;
 15253                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",fo
                    und);
 15254                        ;
 15255                        ;	return found;
 15256                        L10194:
  Thu Dec  3 2020 22:25                                                Page 298


 15257                        	.line	2676
 15258 04:430C: A6 0B        	ldx	<L564+found_1+2
 15259 04:430E: A5 09        	lda	<L564+found_1
 15260 04:4310: 82 BD FE     	brl	L581
 15261                        ;}
 15262                        	.line	2677
 15263                        	.endblock	2677
 15264             00000020   L563	equ	32
 15265             00000009   L564	equ	9
 15266 04:4313:              	ends
 15267                        	efunc
 15268                        	.endfunc	2677,9,32
 15269                        	.line	2677
 15270                        	data
 15271                        L562:
 15272 00:0CC6: 00           	db	$00
 15273 00:0CC7:              	ends
 15274                        ;
 15275                        ;VOID k_point_hit_resetdepth_nodeslist(PFXNODELIST
                     hitList,int depth)
 15276                        ;{
 15277                        	.line	2679
 15278                        	.line	2680
 15279                        	WINMAN
 15280                        	xdef	~~k_point_hit_resetdepth_nodeslist
 15281                        	func
 15282                        	.function	2680
 15283                        ~~k_point_hit_resetdepth_nodeslist:
 15284                        	longa	on
 15285                        	longi	on
 15286 04:4313: 3B           	tsc
 15287 04:4314: 38           	sec
 15288 04:4315: E9 10 00     	sbc	#L594
 15289 04:4318: 1B           	tcs
 15290 04:4319: 0B           	phd
 15291 04:431A: 5B           	tcd
 15292             00000004   hitList_0	set	4
 15293             00000008   depth_0	set	8
 15294                        	.block	2680
 15295                        ;	PCLICKABLE c 	 = NULL;
 15296                        ;	PFXNODE    ptr   = NULL;
 15297                        ;
 15298                        ;	ptr = k_nodelist_getfirstnode(hitList);
 15299             00000000   c_1	set	0
 15300             00000004   ptr_1	set	4
 15301                        	.sym	c,0,138,1,32,24
 15302                        	.sym	ptr,4,138,1,32,2
 15303                        	.sym	hitList,4,138,6,32,3
 15304                        	.sym	depth,8,5,6,16
 15305 04:431B: 64 09        	stz	<L595+c_1
 15306 04:431D: 64 0B        	stz	<L595+c_1+2
 15307 04:431F: 64 0D        	stz	<L595+ptr_1
 15308 04:4321: 64 0F        	stz	<L595+ptr_1+2
 15309                        	.line	2684
 15310 04:4323: D4 16        	pei	<L594+hitList_0+2
 15311 04:4325: D4 14        	pei	<L594+hitList_0
 15312 04:4327: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 15313 04:432B: 85 0D        	sta	<L595+ptr_1
  Thu Dec  3 2020 22:25                                                Page 299


 15314 04:432D: 86 0F        	stx	<L595+ptr_1+2
 15315                        ;	while(ptr!=NULL)
 15316                        	.line	2685
 15317                        L10206:
 15318 04:432F: A5 0D        	lda	<L595+ptr_1
 15319 04:4331: 05 0F        	ora	<L595+ptr_1+2
 15320 04:4333: D0 03        	bne	L597
 15321 04:4335: 82 47 00     	brl	L10207
 15322                        L597:
 15323                        ;	{
 15324                        	.line	2686
 15325                        ;		((PCLICKABLE)((PCLICKDETECTED)ptr->data)
                    ->window->clickable)->z = depth;
 15326                        	.line	2687
 15327 04:4338: A0 02 00     	ldy	#$2
 15328 04:433B: B7 0D        	lda	[<L595+ptr_1],Y
 15329 04:433D: 85 01        	sta	<R0
 15330 04:433F: A0 04 00     	ldy	#$4
 15331 04:4342: B7 0D        	lda	[<L595+ptr_1],Y
 15332 04:4344: 85 03        	sta	<R0+2
 15333 04:4346: A7 01        	lda	[<R0]
 15334 04:4348: 85 05        	sta	<R1
 15335 04:434A: A0 02 00     	ldy	#$2
 15336 04:434D: B7 01        	lda	[<R0],Y
 15337 04:434F: 85 07        	sta	<R1+2
 15338 04:4351: A0 D0 00     	ldy	#$d0
 15339 04:4354: B7 05        	lda	[<R1],Y
 15340 04:4356: 85 01        	sta	<R0
 15341 04:4358: A0 D2 00     	ldy	#$d2
 15342 04:435B: B7 05        	lda	[<R1],Y
 15343 04:435D: 85 03        	sta	<R0+2
 15344 04:435F: A5 18        	lda	<L594+depth_0
 15345 04:4361: A0 08 00     	ldy	#$8
 15346 04:4364: 97 01        	sta	[<R0],Y
 15347                        ;		ptr = ptr->next;
 15348                        	.line	2688
 15349 04:4366: A0 0A 00     	ldy	#$a
 15350 04:4369: B7 0D        	lda	[<L595+ptr_1],Y
 15351 04:436B: 85 01        	sta	<R0
 15352 04:436D: A0 0C 00     	ldy	#$c
 15353 04:4370: B7 0D        	lda	[<L595+ptr_1],Y
 15354 04:4372: 85 03        	sta	<R0+2
 15355 04:4374: A5 01        	lda	<R0
 15356 04:4376: 85 0D        	sta	<L595+ptr_1
 15357 04:4378: A5 03        	lda	<R0+2
 15358 04:437A: 85 0F        	sta	<L595+ptr_1+2
 15359                        ;	}
 15360                        	.line	2689
 15361 04:437C: 82 B0 FF     	brl	L10206
 15362                        L10207:
 15363                        ;}
 15364                        	.line	2690
 15365                        L598:
 15366 04:437F: A5 12        	lda	<L594+2
 15367 04:4381: 85 18        	sta	<L594+2+6
 15368 04:4383: A5 11        	lda	<L594+1
 15369 04:4385: 85 17        	sta	<L594+1+6
 15370 04:4387: 2B           	pld
  Thu Dec  3 2020 22:25                                                Page 300


 15371 04:4388: 3B           	tsc
 15372 04:4389: 18           	clc
 15373 04:438A: 69 16 00     	adc	#L594+6
 15374 04:438D: 1B           	tcs
 15375 04:438E: 6B           	rtl
 15376                        	.endblock	2690
 15377             00000010   L594	equ	16
 15378             00000009   L595	equ	9
 15379 04:438F:              	ends
 15380                        	efunc
 15381                        	.endfunc	2690,9,16
 15382                        	.line	2690
 15383                        ;
 15384                        ;PFXNODE k_point_hit_scan(int x,int y)
 15385                        ;{
 15386                        	.line	2692
 15387                        	.line	2693
 15388                        	WINMAN
 15389                        	xdef	~~k_point_hit_scan
 15390                        	func
 15391                        	.function	2693
 15392                        ~~k_point_hit_scan:
 15393                        	longa	on
 15394                        	longi	on
 15395 04:438F: 3B           	tsc
 15396 04:4390: 38           	sec
 15397 04:4391: E9 04 00     	sbc	#L599
 15398 04:4394: 1B           	tcs
 15399 04:4395: 0B           	phd
 15400 04:4396: 5B           	tcd
 15401             00000004   x_0	set	4
 15402             00000006   y_0	set	6
 15403                        	.block	2693
 15404                        ;	//return k_point_hit_scan_nodeslist(_k_windowMan
                    ager_ObjectHitList,x,y);
 15405                        ;	return k_point_hit_scan_nodeslist(((PWINDOW)k_us
                    er_getDesktopWindow())->pChildHitList,x,y);
 15406                        	.sym	x,4,5,6,16
 15407                        	.sym	y,6,5,6,16
 15408                        	.line	2695
 15409 04:4397: D4 0A        	pei	<L599+y_0
 15410 04:4399: D4 08        	pei	<L599+x_0
 15411 04:439B: 22 D8 05 04  	jsl	~~k_user_getDesktopWindow
 15412 04:439F: 85 01        	sta	<R0
 15413 04:43A1: 86 03        	stx	<R0+2
 15414 04:43A3: A0 3E 01     	ldy	#$13e
 15415 04:43A6: B7 01        	lda	[<R0],Y
 15416 04:43A8: 48           	pha
 15417 04:43A9: A0 3C 01     	ldy	#$13c
 15418 04:43AC: B7 01        	lda	[<R0],Y
 15419 04:43AE: 48           	pha
 15420 04:43AF: 22 CD 43 04  	jsl	~~k_point_hit_scan_nodeslist
 15421 04:43B3: 85 01        	sta	<R0
 15422 04:43B5: 86 03        	stx	<R0+2
 15423 04:43B7: A6 03        	ldx	<R0+2
 15424 04:43B9: A5 01        	lda	<R0
 15425                        L602:
 15426 04:43BB: A8           	tay
  Thu Dec  3 2020 22:25                                                Page 301


 15427 04:43BC: A5 06        	lda	<L599+2
 15428 04:43BE: 85 0A        	sta	<L599+2+4
 15429 04:43C0: A5 05        	lda	<L599+1
 15430 04:43C2: 85 09        	sta	<L599+1+4
 15431 04:43C4: 2B           	pld
 15432 04:43C5: 3B           	tsc
 15433 04:43C6: 18           	clc
 15434 04:43C7: 69 08 00     	adc	#L599+4
 15435 04:43CA: 1B           	tcs
 15436 04:43CB: 98           	tya
 15437 04:43CC: 6B           	rtl
 15438                        ;
 15439                        ;}
 15440                        	.line	2697
 15441                        	.endblock	2697
 15442             00000004   L599	equ	4
 15443             00000005   L600	equ	5
 15444 04:43CD:              	ends
 15445                        	efunc
 15446                        	.endfunc	2697,5,4
 15447                        	.line	2697
 15448                        ;
 15449                        ;PFXNODE k_point_hit_scan_nodeslist(PFXNODELIST hi
                    tList,int x,int y)
 15450                        ;{
 15451                        	.line	2699
 15452                        	.line	2700
 15453                        	WINMAN
 15454                        	xdef	~~k_point_hit_scan_nodeslist
 15455                        	func
 15456                        	.function	2700
 15457                        ~~k_point_hit_scan_nodeslist:
 15458                        	longa	on
 15459                        	longi	on
 15460 04:43CD: 3B           	tsc
 15461 04:43CE: 38           	sec
 15462 04:43CF: E9 20 00     	sbc	#L603
 15463 04:43D2: 1B           	tcs
 15464 04:43D3: 0B           	phd
 15465 04:43D4: 5B           	tcd
 15466             00000004   hitList_0	set	4
 15467             00000008   x_0	set	8
 15468             0000000A   y_0	set	10
 15469                        	.block	2700
 15470                        ;	RECT r;
 15471                        ;	PCLICKABLE c 	 = NULL;
 15472                        ;	PFXNODE    ptr   = NULL;
 15473                        ;	PCLICKABLE found = NULL;
 15474                        ;	PFXNODE    nodeFound = NULL;
 15475                        ;
 15476                        ;
 15477                        ;	ptr = k_nodelist_getfirstnode(hitList);
 15478             00000000   r_1	set	0
 15479             00000008   c_1	set	8
 15480             0000000C   ptr_1	set	12
 15481             00000010   found_1	set	16
 15482             00000014   nodeFound_1	set	20
 15483                        	.sym	r,0,10,1,64,22
  Thu Dec  3 2020 22:25                                                Page 302


 15484                        	.sym	c,8,138,1,32,24
 15485                        	.sym	ptr,12,138,1,32,2
 15486                        	.sym	found,16,138,1,32,24
 15487                        	.sym	nodeFound,20,138,1,32,2
 15488                        	.sym	hitList,4,138,6,32,3
 15489                        	.sym	x,8,5,6,16
 15490                        	.sym	y,10,5,6,16
 15491 04:43D5: 64 11        	stz	<L604+c_1
 15492 04:43D7: 64 13        	stz	<L604+c_1+2
 15493 04:43D9: 64 15        	stz	<L604+ptr_1
 15494 04:43DB: 64 17        	stz	<L604+ptr_1+2
 15495 04:43DD: 64 19        	stz	<L604+found_1
 15496 04:43DF: 64 1B        	stz	<L604+found_1+2
 15497 04:43E1: 64 1D        	stz	<L604+nodeFound_1
 15498 04:43E3: 64 1F        	stz	<L604+nodeFound_1+2
 15499                        	.line	2708
 15500 04:43E5: D4 26        	pei	<L603+hitList_0+2
 15501 04:43E7: D4 24        	pei	<L603+hitList_0
 15502 04:43E9: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 15503 04:43ED: 85 15        	sta	<L604+ptr_1
 15504 04:43EF: 86 17        	stx	<L604+ptr_1+2
 15505                        ;	while(ptr!=NULL)
 15506                        	.line	2709
 15507                        L10208:
 15508 04:43F1: A5 15        	lda	<L604+ptr_1
 15509 04:43F3: 05 17        	ora	<L604+ptr_1+2
 15510 04:43F5: D0 03        	bne	L606
 15511 04:43F7: 82 0C 01     	brl	L10209
 15512                        L606:
 15513                        ;	{
 15514                        	.line	2710
 15515                        ;		//ptr = k_remove_closed_windows_from_lis
                    t(ptr);
 15516                        ;		if(!HITTOWND(ptr)->isClosed)
 15517                        	.line	2712
 15518                        ;		{
 15519 04:43FA: A0 02 00     	ldy	#$2
 15520 04:43FD: B7 15        	lda	[<L604+ptr_1],Y
 15521 04:43FF: 85 01        	sta	<R0
 15522 04:4401: A0 04 00     	ldy	#$4
 15523 04:4404: B7 15        	lda	[<L604+ptr_1],Y
 15524 04:4406: 85 03        	sta	<R0+2
 15525 04:4408: A7 01        	lda	[<R0]
 15526 04:440A: 85 05        	sta	<R1
 15527 04:440C: A0 02 00     	ldy	#$2
 15528 04:440F: B7 01        	lda	[<R0],Y
 15529 04:4411: 85 07        	sta	<R1+2
 15530 04:4413: A0 5D 01     	ldy	#$15d
 15531 04:4416: B7 05        	lda	[<R1],Y
 15532 04:4418: 29 FF 00     	and	#$ff
 15533 04:441B: F0 03        	beq	L607
 15534 04:441D: 82 CD 00     	brl	L10210
 15535                        L607:
 15536                        	.line	2713
 15537                        ;			c = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable);
 15538                        	.line	2714
 15539 04:4420: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 303


 15540 04:4423: B7 15        	lda	[<L604+ptr_1],Y
 15541 04:4425: 85 01        	sta	<R0
 15542 04:4427: A0 04 00     	ldy	#$4
 15543 04:442A: B7 15        	lda	[<L604+ptr_1],Y
 15544 04:442C: 85 03        	sta	<R0+2
 15545 04:442E: A7 01        	lda	[<R0]
 15546 04:4430: 85 05        	sta	<R1
 15547 04:4432: A0 02 00     	ldy	#$2
 15548 04:4435: B7 01        	lda	[<R0],Y
 15549 04:4437: 85 07        	sta	<R1+2
 15550 04:4439: A0 D0 00     	ldy	#$d0
 15551 04:443C: B7 05        	lda	[<R1],Y
 15552 04:443E: 85 11        	sta	<L604+c_1
 15553 04:4440: A0 D2 00     	ldy	#$d2
 15554 04:4443: B7 05        	lda	[<R1],Y
 15555 04:4445: 85 13        	sta	<L604+c_1+2
 15556                        ;
 15557                        ;			r = c->area;
 15558                        	.line	2716
 15559 04:4447: D4 13        	pei	<L604+c_1+2
 15560 04:4449: D4 11        	pei	<L604+c_1
 15561 04:444B: 18           	clc
 15562 04:444C: 7B           	tdc
 15563 04:444D: 69 09 00     	adc	#<L604+r_1
 15564 04:4450: 85 01        	sta	<R0
 15565 04:4452: A9 00 00     	lda	#$0
 15566 04:4455: 85 03        	sta	<R0+2
 15567 04:4457: D4 03        	pei	<R0+2
 15568 04:4459: D4 01        	pei	<R0
 15569 04:445B: A9 08 00     	lda	#$8
 15570                        	xref	~~~fmov
 15571 04:445E: 22 xx xx xx  	jsl	~~~fmov
 15572                        ;			if(x >=r.x && x<(r.x+r.width))
 15573                        	.line	2717
 15574                        ;			{
 15575 04:4462: 38           	sec
 15576 04:4463: A5 28        	lda	<L603+x_0
 15577 04:4465: E5 09        	sbc	<L604+r_1
 15578 04:4467: 70 03        	bvs	L608
 15579 04:4469: 49 00 80     	eor	#$8000
 15580                        L608:
 15581 04:446C: 30 03        	bmi	L609
 15582 04:446E: 82 7C 00     	brl	L10211
 15583                        L609:
 15584 04:4471: 18           	clc
 15585 04:4472: A5 09        	lda	<L604+r_1
 15586 04:4474: 65 0D        	adc	<L604+r_1+4
 15587 04:4476: 85 01        	sta	<R0
 15588 04:4478: 38           	sec
 15589 04:4479: A5 28        	lda	<L603+x_0
 15590 04:447B: E5 01        	sbc	<R0
 15591 04:447D: 70 03        	bvs	L610
 15592 04:447F: 49 00 80     	eor	#$8000
 15593                        L610:
 15594 04:4482: 10 03        	bpl	L611
 15595 04:4484: 82 66 00     	brl	L10211
 15596                        L611:
 15597                        	.line	2718
  Thu Dec  3 2020 22:25                                                Page 304


 15598                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 15599                        	.line	2719
 15600                        ;				{
 15601 04:4487: 38           	sec
 15602 04:4488: A5 2A        	lda	<L603+y_0
 15603 04:448A: E5 0B        	sbc	<L604+r_1+2
 15604 04:448C: 70 03        	bvs	L612
 15605 04:448E: 49 00 80     	eor	#$8000
 15606                        L612:
 15607 04:4491: 30 03        	bmi	L613
 15608 04:4493: 82 57 00     	brl	L10212
 15609                        L613:
 15610 04:4496: 18           	clc
 15611 04:4497: A5 0B        	lda	<L604+r_1+2
 15612 04:4499: 65 0F        	adc	<L604+r_1+6
 15613 04:449B: 85 01        	sta	<R0
 15614 04:449D: 38           	sec
 15615 04:449E: A5 2A        	lda	<L603+y_0
 15616 04:44A0: E5 01        	sbc	<R0
 15617 04:44A2: 70 03        	bvs	L614
 15618 04:44A4: 49 00 80     	eor	#$8000
 15619                        L614:
 15620 04:44A7: 10 03        	bpl	L615
 15621 04:44A9: 82 41 00     	brl	L10212
 15622                        L615:
 15623                        	.line	2720
 15624                        ;					if(!found)
 15625                        	.line	2721
 15626                        ;					{
 15627 04:44AC: A5 19        	lda	<L604+found_1
 15628 04:44AE: 05 1B        	ora	<L604+found_1+2
 15629 04:44B0: F0 03        	beq	L616
 15630 04:44B2: 82 13 00     	brl	L10213
 15631                        L616:
 15632                        	.line	2722
 15633                        ;						found = 
                    c;
 15634                        	.line	2723
 15635 04:44B5: A5 11        	lda	<L604+c_1
 15636 04:44B7: 85 19        	sta	<L604+found_1
 15637 04:44B9: A5 13        	lda	<L604+c_1+2
 15638 04:44BB: 85 1B        	sta	<L604+found_1+2
 15639                        ;						nodeFoun
                    d = ptr;
 15640                        	.line	2724
 15641 04:44BD: A5 15        	lda	<L604+ptr_1
 15642 04:44BF: 85 1D        	sta	<L604+nodeFound_1
 15643 04:44C1: A5 17        	lda	<L604+ptr_1+2
 15644 04:44C3: 85 1F        	sta	<L604+nodeFound_1+2
 15645                        ;					}
 15646                        	.line	2725
 15647                        ;					else
 15648 04:44C5: 82 25 00     	brl	L10214
 15649                        L10213:
 15650                        ;					{
 15651                        	.line	2727
 15652                        ;						if(c->z 
  Thu Dec  3 2020 22:25                                                Page 305


                    > found->z)
 15653                        	.line	2728
 15654                        ;						{
 15655 04:44C8: 38           	sec
 15656 04:44C9: A0 08 00     	ldy	#$8
 15657 04:44CC: B7 19        	lda	[<L604+found_1],Y
 15658 04:44CE: A0 08 00     	ldy	#$8
 15659 04:44D1: F7 11        	sbc	[<L604+c_1],Y
 15660 04:44D3: 70 03        	bvs	L617
 15661 04:44D5: 49 00 80     	eor	#$8000
 15662                        L617:
 15663 04:44D8: 10 03        	bpl	L618
 15664 04:44DA: 82 10 00     	brl	L10215
 15665                        L618:
 15666                        	.line	2729
 15667                        ;							
                    found = c;
 15668                        	.line	2730
 15669 04:44DD: A5 11        	lda	<L604+c_1
 15670 04:44DF: 85 19        	sta	<L604+found_1
 15671 04:44E1: A5 13        	lda	<L604+c_1+2
 15672 04:44E3: 85 1B        	sta	<L604+found_1+2
 15673                        ;							
                    nodeFound = ptr;
 15674                        	.line	2731
 15675 04:44E5: A5 15        	lda	<L604+ptr_1
 15676 04:44E7: 85 1D        	sta	<L604+nodeFound_1
 15677 04:44E9: A5 17        	lda	<L604+ptr_1+2
 15678 04:44EB: 85 1F        	sta	<L604+nodeFound_1+2
 15679                        ;							
                    //k_debug_strings("k_point_hit_scan_nodeslist:","Found Highe
                    r");
 15680                        ;							
                    //debug_window_node(NULL,((PCLICKDETECTED)nodeFound->data)->
                    window);
 15681                        ;						}
 15682                        	.line	2734
 15683                        ;					}
 15684                        L10215:
 15685                        	.line	2735
 15686                        L10214:
 15687                        ;				}
 15688                        	.line	2736
 15689                        ;			}
 15690                        L10212:
 15691                        	.line	2737
 15692                        ;		}
 15693                        L10211:
 15694                        	.line	2738
 15695                        ;		// CLEANUP CLOSED CLOSED WINDOWS
 15696                        ;		ptr = ptr->next;
 15697                        L10210:
 15698                        	.line	2740
 15699 04:44ED: A0 0A 00     	ldy	#$a
 15700 04:44F0: B7 15        	lda	[<L604+ptr_1],Y
 15701 04:44F2: 85 01        	sta	<R0
 15702 04:44F4: A0 0C 00     	ldy	#$c
 15703 04:44F7: B7 15        	lda	[<L604+ptr_1],Y
  Thu Dec  3 2020 22:25                                                Page 306


 15704 04:44F9: 85 03        	sta	<R0+2
 15705 04:44FB: A5 01        	lda	<R0
 15706 04:44FD: 85 15        	sta	<L604+ptr_1
 15707 04:44FF: A5 03        	lda	<R0+2
 15708 04:4501: 85 17        	sta	<L604+ptr_1+2
 15709                        ;	}
 15710                        	.line	2741
 15711 04:4503: 82 EB FE     	brl	L10208
 15712                        L10209:
 15713                        ;
 15714                        ;	//k_debug_pointer("k_point_hit_scan_nodeslist:",
                    nodeFound);
 15715                        ;	if(nodeFound)
 15716                        	.line	2744
 15717                        ;	{
 15718 04:4506: A5 1D        	lda	<L604+nodeFound_1
 15719 04:4508: 05 1F        	ora	<L604+nodeFound_1+2
 15720 04:450A: D0 03        	bne	L619
 15721 04:450C: 82 00 00     	brl	L10216
 15722                        L619:
 15723                        	.line	2745
 15724                        ;		//k_debug_pointer("k_point_hit_scan_node
                    slist:window:",((PCLICKDETECTED)nodeFound->data)->window);
 15725                        ;		//k_debug_pointer("k_point_hit_scan_node
                    slist:inside:",((PCLICKDETECTED)nodeFound->data)->window->wi
                    n_title);
 15726                        ;
 15727                        ;		//debug_window_node(NULL,((PCLICKDETECTE
                    D)nodeFound->data)->window);
 15728                        ;	}
 15729                        	.line	2750
 15730                        ;
 15731                        ;	return nodeFound;
 15732                        L10216:
 15733                        	.line	2752
 15734 04:450F: A6 1F        	ldx	<L604+nodeFound_1+2
 15735 04:4511: A5 1D        	lda	<L604+nodeFound_1
 15736                        L620:
 15737 04:4513: A8           	tay
 15738 04:4514: A5 22        	lda	<L603+2
 15739 04:4516: 85 2A        	sta	<L603+2+8
 15740 04:4518: A5 21        	lda	<L603+1
 15741 04:451A: 85 29        	sta	<L603+1+8
 15742 04:451C: 2B           	pld
 15743 04:451D: 3B           	tsc
 15744 04:451E: 18           	clc
 15745 04:451F: 69 28 00     	adc	#L603+8
 15746 04:4522: 1B           	tcs
 15747 04:4523: 98           	tya
 15748 04:4524: 6B           	rtl
 15749                        ;}
 15750                        	.line	2753
 15751                        	.endblock	2753
 15752             00000020   L603	equ	32
 15753             00000009   L604	equ	9
 15754 04:4525:              	ends
 15755                        	efunc
 15756                        	.endfunc	2753,9,32
  Thu Dec  3 2020 22:25                                                Page 307


 15757                        	.line	2753
 15758                        ;
 15759                        ;
 15760                        ;
 15761                        ;PFXNODE k_remove_closed_windows_from_list(PFXNODE
                     ptr)
 15762                        ;{
 15763                        	.line	2757
 15764                        	.line	2758
 15765                        	WINMAN
 15766                        	xdef	~~k_remove_closed_windows_from_list
 15767                        	func
 15768                        	.function	2758
 15769                        ~~k_remove_closed_windows_from_list:
 15770                        	longa	on
 15771                        	longi	on
 15772 04:4525: 3B           	tsc
 15773 04:4526: 38           	sec
 15774 04:4527: E9 0C 00     	sbc	#L621
 15775 04:452A: 1B           	tcs
 15776 04:452B: 0B           	phd
 15777 04:452C: 5B           	tcd
 15778             00000004   ptr_0	set	4
 15779                        	.block	2758
 15780                        ;	PFXNODE tmp = ptr;
 15781                        ;
 15782                        ;	if(((PCLICKDETECTED)ptr->data)->window && ((PCLI
                    CKDETECTED)ptr->data)->window->isClosed)
 15783             00000000   tmp_1	set	0
 15784                        	.sym	tmp,0,138,1,32,2
 15785                        	.sym	ptr,4,138,6,32,2
 15786 04:452D: A5 10        	lda	<L621+ptr_0
 15787 04:452F: 85 09        	sta	<L622+tmp_1
 15788 04:4531: A5 12        	lda	<L621+ptr_0+2
 15789 04:4533: 85 0B        	sta	<L622+tmp_1+2
 15790                        	.line	2761
 15791                        ;	{
 15792 04:4535: A0 02 00     	ldy	#$2
 15793 04:4538: B7 10        	lda	[<L621+ptr_0],Y
 15794 04:453A: 85 01        	sta	<R0
 15795 04:453C: A0 04 00     	ldy	#$4
 15796 04:453F: B7 10        	lda	[<L621+ptr_0],Y
 15797 04:4541: 85 03        	sta	<R0+2
 15798 04:4543: A7 01        	lda	[<R0]
 15799 04:4545: A0 02 00     	ldy	#$2
 15800 04:4548: 17 01        	ora	[<R0],Y
 15801 04:454A: D0 03        	bne	L624
 15802 04:454C: 82 38 01     	brl	L10217
 15803                        L624:
 15804 04:454F: A0 02 00     	ldy	#$2
 15805 04:4552: B7 10        	lda	[<L621+ptr_0],Y
 15806 04:4554: 85 01        	sta	<R0
 15807 04:4556: A0 04 00     	ldy	#$4
 15808 04:4559: B7 10        	lda	[<L621+ptr_0],Y
 15809 04:455B: 85 03        	sta	<R0+2
 15810 04:455D: A7 01        	lda	[<R0]
 15811 04:455F: 85 05        	sta	<R1
 15812 04:4561: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 308


 15813 04:4564: B7 01        	lda	[<R0],Y
 15814 04:4566: 85 07        	sta	<R1+2
 15815 04:4568: A0 5D 01     	ldy	#$15d
 15816 04:456B: B7 05        	lda	[<R1],Y
 15817 04:456D: 29 FF 00     	and	#$ff
 15818 04:4570: D0 03        	bne	L625
 15819 04:4572: 82 12 01     	brl	L10217
 15820                        L625:
 15821                        	.line	2762
 15822                        ;		((PCLICKDETECTED)ptr->data)->window->win
                    _title[31] = 0;
 15823                        	.line	2763
 15824 04:4575: A0 02 00     	ldy	#$2
 15825 04:4578: B7 10        	lda	[<L621+ptr_0],Y
 15826 04:457A: 85 01        	sta	<R0
 15827 04:457C: A0 04 00     	ldy	#$4
 15828 04:457F: B7 10        	lda	[<L621+ptr_0],Y
 15829 04:4581: 85 03        	sta	<R0+2
 15830 04:4583: A7 01        	lda	[<R0]
 15831 04:4585: 85 05        	sta	<R1
 15832 04:4587: A0 02 00     	ldy	#$2
 15833 04:458A: B7 01        	lda	[<R0],Y
 15834 04:458C: 85 07        	sta	<R1+2
 15835 04:458E: E2 20        	sep	#$20
 15836                        	longa	off
 15837 04:4590: A9 00        	lda	#$0
 15838 04:4592: A0 F3 00     	ldy	#$f3
 15839 04:4595: 97 05        	sta	[<R1],Y
 15840 04:4597: C2 20        	rep	#$20
 15841                        	longa	on
 15842                        ;
 15843                        ;
 15844                        ;		//k_debug_strings("k_point_in_any_nodesl
                    ist::removing closed window:",((PCLICKDETECTED)ptr->data)->w
                    indow->win_title);
 15845                        ;		if(((PCLICKDETECTED)ptr->data)->window->
                    win_title)
 15846                        	.line	2767
 15847                        ;			k_debug_strings("k_remove_closed
                    _windows_from_list::removing closed window:",((PCLICKDETECTE
                    D)ptr->data)->window->win_title);
 15848 04:4599: A0 02 00     	ldy	#$2
 15849 04:459C: B7 10        	lda	[<L621+ptr_0],Y
 15850 04:459E: 85 01        	sta	<R0
 15851 04:45A0: A0 04 00     	ldy	#$4
 15852 04:45A3: B7 10        	lda	[<L621+ptr_0],Y
 15853 04:45A5: 85 03        	sta	<R0+2
 15854 04:45A7: 18           	clc
 15855 04:45A8: A9 D4 00     	lda	#$d4
 15856 04:45AB: 67 01        	adc	[<R0]
 15857 04:45AD: 85 05        	sta	<R1
 15858 04:45AF: A9 00 00     	lda	#$0
 15859 04:45B2: A0 02 00     	ldy	#$2
 15860 04:45B5: 77 01        	adc	[<R0],Y
 15861 04:45B7: 85 07        	sta	<R1+2
 15862 04:45B9: A5 05        	lda	<R1
 15863 04:45BB: 05 07        	ora	<R1+2
 15864 04:45BD: D0 03        	bne	L626
  Thu Dec  3 2020 22:25                                                Page 309


 15865 04:45BF: 82 31 00     	brl	L10218
 15866                        L626:
 15867                        	.line	2768
 15868 04:45C2: A0 02 00     	ldy	#$2
 15869 04:45C5: B7 10        	lda	[<L621+ptr_0],Y
 15870 04:45C7: 85 01        	sta	<R0
 15871 04:45C9: A0 04 00     	ldy	#$4
 15872 04:45CC: B7 10        	lda	[<L621+ptr_0],Y
 15873 04:45CE: 85 03        	sta	<R0+2
 15874 04:45D0: 18           	clc
 15875 04:45D1: A9 D4 00     	lda	#$d4
 15876 04:45D4: 67 01        	adc	[<R0]
 15877 04:45D6: 85 05        	sta	<R1
 15878 04:45D8: A9 00 00     	lda	#$0
 15879 04:45DB: A0 02 00     	ldy	#$2
 15880 04:45DE: 77 01        	adc	[<R0],Y
 15881 04:45E0: 85 07        	sta	<R1+2
 15882 04:45E2: D4 07        	pei	<R1+2
 15883 04:45E4: D4 05        	pei	<R1
 15884 04:45E6: F4 xx xx     	pea	#^L593
 15885 04:45E9: F4 xx xx     	pea	#<L593
 15886 04:45EC: 22 xx xx xx  	jsl	~~k_debug_strings
 15887                        ;		else
 15888 04:45F0: 82 10 00     	brl	L10219
 15889                        L10218:
 15890                        ;			k_debug_strings("k_remove_closed
                    _windows_from_list::removing closed window:","NO NAME");
 15891                        	.line	2770
 15892 04:45F3: F4 xx xx     	pea	#^L593+118
 15893 04:45F6: F4 xx xx     	pea	#<L593+118
 15894 04:45F9: F4 xx xx     	pea	#^L593+59
 15895 04:45FC: F4 xx xx     	pea	#<L593+59
 15896 04:45FF: 22 xx xx xx  	jsl	~~k_debug_strings
 15897                        L10219:
 15898                        ;
 15899                        ;
 15900                        ;
 15901                        ;		tmp = ptr->next;
 15902                        	.line	2774
 15903 04:4603: A0 0A 00     	ldy	#$a
 15904 04:4606: B7 10        	lda	[<L621+ptr_0],Y
 15905 04:4608: 85 09        	sta	<L622+tmp_1
 15906 04:460A: A0 0C 00     	ldy	#$c
 15907 04:460D: B7 10        	lda	[<L621+ptr_0],Y
 15908 04:460F: 85 0B        	sta	<L622+tmp_1+2
 15909                        ;
 15910                        ;		if(ptr->last)
 15911                        	.line	2776
 15912                        ;			ptr->last->next = ptr->next;
 15913 04:4611: A0 06 00     	ldy	#$6
 15914 04:4614: B7 10        	lda	[<L621+ptr_0],Y
 15915 04:4616: A0 08 00     	ldy	#$8
 15916 04:4619: 17 10        	ora	[<L621+ptr_0],Y
 15917 04:461B: D0 03        	bne	L627
 15918 04:461D: 82 22 00     	brl	L10220
 15919                        L627:
 15920                        	.line	2777
 15921 04:4620: A0 06 00     	ldy	#$6
  Thu Dec  3 2020 22:25                                                Page 310


 15922 04:4623: B7 10        	lda	[<L621+ptr_0],Y
 15923 04:4625: 85 01        	sta	<R0
 15924 04:4627: A0 08 00     	ldy	#$8
 15925 04:462A: B7 10        	lda	[<L621+ptr_0],Y
 15926 04:462C: 85 03        	sta	<R0+2
 15927 04:462E: A0 0A 00     	ldy	#$a
 15928 04:4631: B7 10        	lda	[<L621+ptr_0],Y
 15929 04:4633: A0 0A 00     	ldy	#$a
 15930 04:4636: 97 01        	sta	[<R0],Y
 15931 04:4638: A0 0C 00     	ldy	#$c
 15932 04:463B: B7 10        	lda	[<L621+ptr_0],Y
 15933 04:463D: A0 0C 00     	ldy	#$c
 15934 04:4640: 97 01        	sta	[<R0],Y
 15935                        ;		if(ptr->next)
 15936                        L10220:
 15937                        	.line	2778
 15938                        ;			ptr->next->last = ptr->last;
 15939 04:4642: A0 0A 00     	ldy	#$a
 15940 04:4645: B7 10        	lda	[<L621+ptr_0],Y
 15941 04:4647: A0 0C 00     	ldy	#$c
 15942 04:464A: 17 10        	ora	[<L621+ptr_0],Y
 15943 04:464C: D0 03        	bne	L628
 15944 04:464E: 82 22 00     	brl	L10221
 15945                        L628:
 15946                        	.line	2779
 15947 04:4651: A0 0A 00     	ldy	#$a
 15948 04:4654: B7 10        	lda	[<L621+ptr_0],Y
 15949 04:4656: 85 01        	sta	<R0
 15950 04:4658: A0 0C 00     	ldy	#$c
 15951 04:465B: B7 10        	lda	[<L621+ptr_0],Y
 15952 04:465D: 85 03        	sta	<R0+2
 15953 04:465F: A0 06 00     	ldy	#$6
 15954 04:4662: B7 10        	lda	[<L621+ptr_0],Y
 15955 04:4664: A0 06 00     	ldy	#$6
 15956 04:4667: 97 01        	sta	[<R0],Y
 15957 04:4669: A0 08 00     	ldy	#$8
 15958 04:466C: B7 10        	lda	[<L621+ptr_0],Y
 15959 04:466E: A0 08 00     	ldy	#$8
 15960 04:4671: 97 01        	sta	[<R0],Y
 15961                        ;
 15962                        ;		//k_mem_deallocate_heap(ptr->data);
 15963                        ;		k_mem_deallocate_heap(ptr);
 15964                        L10221:
 15965                        	.line	2782
 15966 04:4673: D4 12        	pei	<L621+ptr_0+2
 15967 04:4675: D4 10        	pei	<L621+ptr_0
 15968 04:4677: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 15969                        ;
 15970                        ;		ptr = tmp;
 15971                        	.line	2784
 15972 04:467B: A5 09        	lda	<L622+tmp_1
 15973 04:467D: 85 10        	sta	<L621+ptr_0
 15974 04:467F: A5 0B        	lda	<L622+tmp_1+2
 15975 04:4681: 85 12        	sta	<L621+ptr_0+2
 15976                        ;		tmp = NULL;
 15977                        	.line	2785
 15978 04:4683: 64 09        	stz	<L622+tmp_1
 15979 04:4685: 64 0B        	stz	<L622+tmp_1+2
  Thu Dec  3 2020 22:25                                                Page 311


 15980                        ;	}
 15981                        	.line	2786
 15982                        ;
 15983                        ;	return ptr;
 15984                        L10217:
 15985                        	.line	2788
 15986 04:4687: A6 12        	ldx	<L621+ptr_0+2
 15987 04:4689: A5 10        	lda	<L621+ptr_0
 15988                        L629:
 15989 04:468B: A8           	tay
 15990 04:468C: A5 0E        	lda	<L621+2
 15991 04:468E: 85 12        	sta	<L621+2+4
 15992 04:4690: A5 0D        	lda	<L621+1
 15993 04:4692: 85 11        	sta	<L621+1+4
 15994 04:4694: 2B           	pld
 15995 04:4695: 3B           	tsc
 15996 04:4696: 18           	clc
 15997 04:4697: 69 10 00     	adc	#L621+4
 15998 04:469A: 1B           	tcs
 15999 04:469B: 98           	tya
 16000 04:469C: 6B           	rtl
 16001                        ;}
 16002                        	.line	2789
 16003                        	.endblock	2789
 16004             0000000C   L621	equ	12
 16005             00000009   L622	equ	9
 16006 04:469D:              	ends
 16007                        	efunc
 16008                        	.endfunc	2789,9,12
 16009                        	.line	2789
 16010                        	data
 16011                        L593:
 16012 00:0CC7: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6D,$6F,$76,$65,$5F,$63,
                    $6C,$6F,$73,$65,$64
       00:0CCB: 6D 6F 76 65 
       00:0CCF: 5F 63 6C 6F 
       00:0CD3: 73 65 64 
 16013 00:0CD6: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$73,$5F,$66,
                    $72,$6F,$6D,$5F,$6C
       00:0CDA: 64 6F 77 73 
       00:0CDE: 5F 66 72 6F 
       00:0CE2: 6D 5F 6C 
 16014 00:0CE5: 69 73 74 3A  	db	$69,$73,$74,$3A,$3A,$72,$65,$6D,$6F,$76,
                    $69,$6E,$67,$20,$63
       00:0CE9: 3A 72 65 6D 
       00:0CED: 6F 76 69 6E 
       00:0CF1: 67 20 63 
 16015 00:0CF4: 6C 6F 73 65  	db	$6C,$6F,$73,$65,$64,$20,$77,$69,$6E,$64,
                    $6F,$77,$3A,$00,$6B
       00:0CF8: 64 20 77 69 
       00:0CFC: 6E 64 6F 77 
       00:0D00: 3A 00 6B 
 16016 00:0D03: 5F 72 65 6D  	db	$5F,$72,$65,$6D,$6F,$76,$65,$5F,$63,$6C,
                    $6F,$73,$65,$64,$5F
       00:0D07: 6F 76 65 5F 
       00:0D0B: 63 6C 6F 73 
       00:0D0F: 65 64 5F 
 16017 00:0D12: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$73,$5F,$66,$72,
  Thu Dec  3 2020 22:25                                                Page 312


                    $6F,$6D,$5F,$6C,$69
       00:0D16: 6F 77 73 5F 
       00:0D1A: 66 72 6F 6D 
       00:0D1E: 5F 6C 69 
 16018 00:0D21: 73 74 3A 3A  	db	$73,$74,$3A,$3A,$72,$65,$6D,$6F,$76,$69,
                    $6E,$67,$20,$63,$6C
       00:0D25: 72 65 6D 6F 
       00:0D29: 76 69 6E 67 
       00:0D2D: 20 63 6C 
 16019 00:0D30: 6F 73 65 64  	db	$6F,$73,$65,$64,$20,$77,$69,$6E,$64,$6F,
                    $77,$3A,$00,$4E,$4F
       00:0D34: 20 77 69 6E 
       00:0D38: 64 6F 77 3A 
       00:0D3C: 00 4E 4F 
 16020 00:0D3F: 20 4E 41 4D  	db	$20,$4E,$41,$4D,$45,$00
       00:0D43: 45 00 
 16021 00:0D45:              	ends
 16022                        ;
 16023                        ;
 16024                        ;BOOL k_user_ShowWindow(HWND hWnd,UINT showFlag)
 16025                        ;{
 16026                        	.line	2792
 16027                        	.line	2793
 16028                        	WINMAN
 16029                        	xdef	~~k_user_ShowWindow
 16030                        	func
 16031                        	.function	2793
 16032                        ~~k_user_ShowWindow:
 16033                        	longa	on
 16034                        	longi	on
 16035 04:469D: 3B           	tsc
 16036 04:469E: 38           	sec
 16037 04:469F: E9 00 00     	sbc	#L631
 16038 04:46A2: 1B           	tcs
 16039 04:46A3: 0B           	phd
 16040 04:46A4: 5B           	tcd
 16041             00000004   hWnd_0	set	4
 16042             00000008   showFlag_0	set	8
 16043                        	.block	2793
 16044                        ;	return FALSE;
 16045                        	.sym	hWnd,4,129,6,32
 16046                        	.sym	showFlag,8,16,6,16
 16047                        	.line	2794
 16048 04:46A5: A9 00 00     	lda	#$0
 16049                        L634:
 16050 04:46A8: A8           	tay
 16051 04:46A9: A5 02        	lda	<L631+2
 16052 04:46AB: 85 08        	sta	<L631+2+6
 16053 04:46AD: A5 01        	lda	<L631+1
 16054 04:46AF: 85 07        	sta	<L631+1+6
 16055 04:46B1: 2B           	pld
 16056 04:46B2: 3B           	tsc
 16057 04:46B3: 18           	clc
 16058 04:46B4: 69 06 00     	adc	#L631+6
 16059 04:46B7: 1B           	tcs
 16060 04:46B8: 98           	tya
 16061 04:46B9: 6B           	rtl
 16062                        ;}
  Thu Dec  3 2020 22:25                                                Page 313


 16063                        	.line	2795
 16064                        	.endblock	2795
 16065             00000000   L631	equ	0
 16066             00000001   L632	equ	1
 16067 04:46BA:              	ends
 16068                        	efunc
 16069                        	.endfunc	2795,1,0
 16070                        	.line	2795
 16071                        ;
 16072                        ;
 16073                        ;PPOINT k_user_ClientToGlobalCoordinates(HWND hWnd
                    ,PPOINT point)
 16074                        ;{
 16075                        	.line	2798
 16076                        	.line	2799
 16077                        	WINMAN
 16078                        	xdef	~~k_user_ClientToGlobalCoordinates
 16079                        	func
 16080                        	.function	2799
 16081                        ~~k_user_ClientToGlobalCoordinates:
 16082                        	longa	on
 16083                        	longi	on
 16084 04:46BA: 3B           	tsc
 16085 04:46BB: 38           	sec
 16086 04:46BC: E9 08 00     	sbc	#L635
 16087 04:46BF: 1B           	tcs
 16088 04:46C0: 0B           	phd
 16089 04:46C1: 5B           	tcd
 16090             00000004   hWnd_0	set	4
 16091             00000008   point_0	set	8
 16092                        	.block	2799
 16093                        ;	PWINDOW pWin	 = k_getWindowFromHandle(hWnd);
 16094                        ;	PWINDOW pParent  = NULL;
 16095                        ;
 16096                        ;	if(pWin)
 16097             00000000   pWin_1	set	0
 16098             00000004   pParent_1	set	4
 16099                        	.sym	pWin,0,138,1,32,27
 16100                        	.sym	pParent,4,138,1,32,27
 16101                        	.sym	hWnd,4,129,6,32
 16102                        	.sym	point,8,138,6,32,21
 16103 04:46C2: D4 0E        	pei	<L635+hWnd_0+2
 16104 04:46C4: D4 0C        	pei	<L635+hWnd_0
 16105 04:46C6: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 16106 04:46CA: 85 01        	sta	<L636+pWin_1
 16107 04:46CC: 86 03        	stx	<L636+pWin_1+2
 16108 04:46CE: 64 05        	stz	<L636+pParent_1
 16109 04:46D0: 64 07        	stz	<L636+pParent_1+2
 16110                        	.line	2803
 16111                        ;	{
 16112 04:46D2: A5 01        	lda	<L636+pWin_1
 16113 04:46D4: 05 03        	ora	<L636+pWin_1+2
 16114 04:46D6: D0 03        	bne	L638
 16115 04:46D8: 82 20 00     	brl	L10222
 16116                        L638:
 16117                        	.line	2804
 16118                        ;		pParent = k_getWindowFromHandle(pWin->pP
                    arentWindow);
  Thu Dec  3 2020 22:25                                                Page 314


 16119                        	.line	2805
 16120 04:46DB: A0 32 01     	ldy	#$132
 16121 04:46DE: B7 01        	lda	[<L636+pWin_1],Y
 16122 04:46E0: 48           	pha
 16123 04:46E1: A0 30 01     	ldy	#$130
 16124 04:46E4: B7 01        	lda	[<L636+pWin_1],Y
 16125 04:46E6: 48           	pha
 16126 04:46E7: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 16127 04:46EB: 85 05        	sta	<L636+pParent_1
 16128 04:46ED: 86 07        	stx	<L636+pParent_1+2
 16129                        ;		if(pParent)
 16130                        	.line	2806
 16131                        ;		{
 16132 04:46EF: A5 05        	lda	<L636+pParent_1
 16133 04:46F1: 05 07        	ora	<L636+pParent_1+2
 16134 04:46F3: D0 03        	bne	L639
 16135 04:46F5: 82 03 00     	brl	L10223
 16136                        L639:
 16137                        	.line	2807
 16138                        ;		}
 16139                        	.line	2808
 16140                        ;		else
 16141 04:46F8: 82 00 00     	brl	L10224
 16142                        L10223:
 16143                        ;		{
 16144                        	.line	2810
 16145                        ;
 16146                        ;		}
 16147                        	.line	2812
 16148                        L10224:
 16149                        ;	}
 16150                        	.line	2813
 16151                        ;
 16152                        ;
 16153                        ;	return point;
 16154                        L10222:
 16155                        	.line	2816
 16156 04:46FB: A6 12        	ldx	<L635+point_0+2
 16157 04:46FD: A5 10        	lda	<L635+point_0
 16158                        L640:
 16159 04:46FF: A8           	tay
 16160 04:4700: A5 0A        	lda	<L635+2
 16161 04:4702: 85 12        	sta	<L635+2+8
 16162 04:4704: A5 09        	lda	<L635+1
 16163 04:4706: 85 11        	sta	<L635+1+8
 16164 04:4708: 2B           	pld
 16165 04:4709: 3B           	tsc
 16166 04:470A: 18           	clc
 16167 04:470B: 69 10 00     	adc	#L635+8
 16168 04:470E: 1B           	tcs
 16169 04:470F: 98           	tya
 16170 04:4710: 6B           	rtl
 16171                        ;}
 16172                        	.line	2817
 16173                        	.endblock	2817
 16174             00000008   L635	equ	8
 16175             00000001   L636	equ	1
 16176 04:4711:              	ends
  Thu Dec  3 2020 22:25                                                Page 315


 16177                        	efunc
 16178                        	.endfunc	2817,1,8
 16179                        	.line	2817
 16180                        ;
 16181                        ;
 16182                        ;PPOINT k_user_GlobalToClientCoordinates(HWND hWnd
                    ,PPOINT point)
 16183                        ;{
 16184                        	.line	2820
 16185                        	.line	2821
 16186                        	WINMAN
 16187                        	xdef	~~k_user_GlobalToClientCoordinates
 16188                        	func
 16189                        	.function	2821
 16190                        ~~k_user_GlobalToClientCoordinates:
 16191                        	longa	on
 16192                        	longi	on
 16193 04:4711: 3B           	tsc
 16194 04:4712: 38           	sec
 16195 04:4713: E9 08 00     	sbc	#L641
 16196 04:4716: 1B           	tcs
 16197 04:4717: 0B           	phd
 16198 04:4718: 5B           	tcd
 16199             00000004   hWnd_0	set	4
 16200             00000008   point_0	set	8
 16201                        	.block	2821
 16202                        ;	PWINDOW pWin	 = k_getWindowFromHandle(hWnd);
 16203                        ;	PWINDOW pParent  = NULL;
 16204                        ;
 16205                        ;	if(pWin)
 16206             00000000   pWin_1	set	0
 16207             00000004   pParent_1	set	4
 16208                        	.sym	pWin,0,138,1,32,27
 16209                        	.sym	pParent,4,138,1,32,27
 16210                        	.sym	hWnd,4,129,6,32
 16211                        	.sym	point,8,138,6,32,21
 16212 04:4719: D4 0E        	pei	<L641+hWnd_0+2
 16213 04:471B: D4 0C        	pei	<L641+hWnd_0
 16214 04:471D: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 16215 04:4721: 85 01        	sta	<L642+pWin_1
 16216 04:4723: 86 03        	stx	<L642+pWin_1+2
 16217 04:4725: 64 05        	stz	<L642+pParent_1
 16218 04:4727: 64 07        	stz	<L642+pParent_1+2
 16219                        	.line	2825
 16220                        ;	{
 16221 04:4729: A5 01        	lda	<L642+pWin_1
 16222 04:472B: 05 03        	ora	<L642+pWin_1+2
 16223 04:472D: D0 03        	bne	L644
 16224 04:472F: 82 20 00     	brl	L10225
 16225                        L644:
 16226                        	.line	2826
 16227                        ;		pParent = k_getWindowFromHandle(pWin->pP
                    arentWindow);
 16228                        	.line	2827
 16229 04:4732: A0 32 01     	ldy	#$132
 16230 04:4735: B7 01        	lda	[<L642+pWin_1],Y
 16231 04:4737: 48           	pha
 16232 04:4738: A0 30 01     	ldy	#$130
  Thu Dec  3 2020 22:25                                                Page 316


 16233 04:473B: B7 01        	lda	[<L642+pWin_1],Y
 16234 04:473D: 48           	pha
 16235 04:473E: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 16236 04:4742: 85 05        	sta	<L642+pParent_1
 16237 04:4744: 86 07        	stx	<L642+pParent_1+2
 16238                        ;		if(pParent)
 16239                        	.line	2828
 16240                        ;		{
 16241 04:4746: A5 05        	lda	<L642+pParent_1
 16242 04:4748: 05 07        	ora	<L642+pParent_1+2
 16243 04:474A: D0 03        	bne	L645
 16244 04:474C: 82 03 00     	brl	L10226
 16245                        L645:
 16246                        	.line	2829
 16247                        ;
 16248                        ;		}
 16249                        	.line	2831
 16250                        ;		else
 16251 04:474F: 82 00 00     	brl	L10227
 16252                        L10226:
 16253                        ;		{
 16254                        	.line	2833
 16255                        ;
 16256                        ;		}
 16257                        	.line	2835
 16258                        L10227:
 16259                        ;	}
 16260                        	.line	2836
 16261                        ;
 16262                        ;	return point;
 16263                        L10225:
 16264                        	.line	2838
 16265 04:4752: A6 12        	ldx	<L641+point_0+2
 16266 04:4754: A5 10        	lda	<L641+point_0
 16267                        L646:
 16268 04:4756: A8           	tay
 16269 04:4757: A5 0A        	lda	<L641+2
 16270 04:4759: 85 12        	sta	<L641+2+8
 16271 04:475B: A5 09        	lda	<L641+1
 16272 04:475D: 85 11        	sta	<L641+1+8
 16273 04:475F: 2B           	pld
 16274 04:4760: 3B           	tsc
 16275 04:4761: 18           	clc
 16276 04:4762: 69 10 00     	adc	#L641+8
 16277 04:4765: 1B           	tcs
 16278 04:4766: 98           	tya
 16279 04:4767: 6B           	rtl
 16280                        ;}
 16281                        	.line	2839
 16282                        	.endblock	2839
 16283             00000008   L641	equ	8
 16284             00000001   L642	equ	1
 16285 04:4768:              	ends
 16286                        	efunc
 16287                        	.endfunc	2839,1,8
 16288                        	.line	2839
 16289                        ;
 16290                        ;
  Thu Dec  3 2020 22:25                                                Page 317


 16291                        ;BOOL gadgetWindowProc(PFXOSMESSAGE pMsg)
 16292                        ;{
 16293                        	.line	2842
 16294                        	.line	2843
 16295                        	WINMAN
 16296                        	xdef	~~gadgetWindowProc
 16297                        	func
 16298                        	.function	2843
 16299                        ~~gadgetWindowProc:
 16300                        	longa	on
 16301                        	longi	on
 16302 04:4768: 3B           	tsc
 16303 04:4769: 38           	sec
 16304 04:476A: E9 04 00     	sbc	#L647
 16305 04:476D: 1B           	tcs
 16306 04:476E: 0B           	phd
 16307 04:476F: 5B           	tcd
 16308             00000004   pMsg_0	set	4
 16309                        	.block	2843
 16310                        ;	PFXPROCESS p = NULL;
 16311                        ;
 16312                        ;	if(pMsg!=NULL)
 16313             00000000   p_1	set	0
 16314                        	.sym	p,0,138,1,32,17
 16315                        	.sym	pMsg,4,138,6,32,13
 16316 04:4770: 64 01        	stz	<L648+p_1
 16317 04:4772: 64 03        	stz	<L648+p_1+2
 16318                        	.line	2846
 16319                        ;	{
 16320 04:4774: A5 08        	lda	<L647+pMsg_0
 16321 04:4776: 05 0A        	ora	<L647+pMsg_0+2
 16322 04:4778: D0 03        	bne	L650
 16323 04:477A: 82 66 00     	brl	L10228
 16324                        L650:
 16325                        	.line	2847
 16326                        ;		p = k_exec_get_current_process();
 16327                        	.line	2848
 16328 04:477D: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 16329 04:4781: 85 01        	sta	<L648+p_1
 16330 04:4783: 86 03        	stx	<L648+p_1+2
 16331                        ;
 16332                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 16333                        ;
 16334                        ;		switch(pMsg->type)
 16335                        	.line	2852
 16336 04:4785: A0 08 00     	ldy	#$8
 16337 04:4788: B7 08        	lda	[<L647+pMsg_0],Y
 16338 04:478A: 82 46 00     	brl	L10229
 16339                        ;		{
 16340                        	.line	2853
 16341                        ;		case FX_CREATE_WINDOW:
 16342                        	.line	2854
 16343                        L10231:
 16344                        ;			k_debug_long("gadgetWindowProc::
                    ProcessId:",p->procId);
 16345                        	.line	2855
 16346 04:478D: A0 04 00     	ldy	#$4
  Thu Dec  3 2020 22:25                                                Page 318


 16347 04:4790: B7 01        	lda	[<L648+p_1],Y
 16348 04:4792: 48           	pha
 16349 04:4793: A0 02 00     	ldy	#$2
 16350 04:4796: B7 01        	lda	[<L648+p_1],Y
 16351 04:4798: 48           	pha
 16352 04:4799: F4 xx xx     	pea	#^L630
 16353 04:479C: F4 xx xx     	pea	#<L630
 16354 04:479F: 22 xx xx xx  	jsl	~~k_debug_long
 16355                        ;			k_debug_integer("gadgetWindowPro
                    c::MessageId:",pMsg->type);
 16356                        	.line	2856
 16357 04:47A3: A0 08 00     	ldy	#$8
 16358 04:47A6: B7 08        	lda	[<L647+pMsg_0],Y
 16359 04:47A8: 48           	pha
 16360 04:47A9: F4 xx xx     	pea	#^L630+29
 16361 04:47AC: F4 xx xx     	pea	#<L630+29
 16362 04:47AF: 22 xx xx xx  	jsl	~~k_debug_integer
 16363                        ;			break;
 16364                        	.line	2857
 16365 04:47B3: 82 2D 00     	brl	L10230
 16366                        ;		case FX_LBUTTON_DOWN:
 16367                        	.line	2858
 16368                        L10232:
 16369                        ;			if(pMsg->type!=FX_PROCESS)
 16370                        	.line	2859
 16371                        ;			{
 16372 04:47B6: A0 08 00     	ldy	#$8
 16373 04:47B9: B7 08        	lda	[<L647+pMsg_0],Y
 16374 04:47BB: C9 00 FF     	cmp	#<$ff00
 16375 04:47BE: D0 03        	bne	L651
 16376 04:47C0: 82 0A 00     	brl	L10233
 16377                        L651:
 16378                        	.line	2860
 16379                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
 16380                        ;				k_debug_string("gadgetWi
                    ndowProc::FX_MBUTTON_DOWN\r\n");
 16381                        	.line	2862
 16382 04:47C3: F4 xx xx     	pea	#^L630+58
 16383 04:47C6: F4 xx xx     	pea	#<L630+58
 16384 04:47C9: 22 xx xx xx  	jsl	~~k_debug_string
 16385                        ;			}
 16386                        	.line	2863
 16387                        ;
 16388                        ;			break;
 16389                        L10233:
 16390                        	.line	2865
 16391 04:47CD: 82 13 00     	brl	L10230
 16392                        ;		default:
 16393                        	.line	2866
 16394                        L10234:
 16395                        ;			break;
 16396                        	.line	2867
 16397 04:47D0: 82 10 00     	brl	L10230
 16398                        ;		}
 16399                        	.line	2868
 16400                        L10229:
 16401                        	xref	~~~swt
  Thu Dec  3 2020 22:25                                                Page 319


 16402 04:47D3: 22 xx xx xx  	jsl	~~~swt
 16403 04:47D7: 02 00        	dw	2
 16404 04:47D9: 04 0F        	dw	3844
 16405 04:47DB: B5 47        	dw	L10232-1
 16406 04:47DD: 03 FF        	dw	65283
 16407 04:47DF: 8C 47        	dw	L10231-1
 16408 04:47E1: CF 47        	dw	L10234-1
 16409                        L10230:
 16410                        ;	}
 16411                        	.line	2869
 16412                        ;
 16413                        ;	return TRUE;
 16414                        L10228:
 16415                        	.line	2871
 16416 04:47E3: A9 01 00     	lda	#$1
 16417                        L652:
 16418 04:47E6: A8           	tay
 16419 04:47E7: A5 06        	lda	<L647+2
 16420 04:47E9: 85 0A        	sta	<L647+2+4
 16421 04:47EB: A5 05        	lda	<L647+1
 16422 04:47ED: 85 09        	sta	<L647+1+4
 16423 04:47EF: 2B           	pld
 16424 04:47F0: 3B           	tsc
 16425 04:47F1: 18           	clc
 16426 04:47F2: 69 08 00     	adc	#L647+4
 16427 04:47F5: 1B           	tcs
 16428 04:47F6: 98           	tya
 16429 04:47F7: 6B           	rtl
 16430                        ;}
 16431                        	.line	2872
 16432                        	.endblock	2872
 16433             00000004   L647	equ	4
 16434             00000001   L648	equ	1
 16435 04:47F8:              	ends
 16436                        	efunc
 16437                        	.endfunc	2872,1,4
 16438                        	.line	2872
 16439                        	data
 16440                        L630:
 16441 00:0D45: 67 61 64 67  	db	$67,$61,$64,$67,$65,$74,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0D49: 65 74 57 69 
       00:0D4D: 6E 64 6F 77 
       00:0D51: 50 72 6F 
 16442 00:0D54: 63 3A 3A 50  	db	$63,$3A,$3A,$50,$72,$6F,$63,$65,$73,$73,
                    $49,$64,$3A,$00,$67
       00:0D58: 72 6F 63 65 
       00:0D5C: 73 73 49 64 
       00:0D60: 3A 00 67 
 16443 00:0D63: 61 64 67 65  	db	$61,$64,$67,$65,$74,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:0D67: 74 57 69 6E 
       00:0D6B: 64 6F 77 50 
       00:0D6F: 72 6F 63 
 16444 00:0D72: 3A 3A 4D 65  	db	$3A,$3A,$4D,$65,$73,$73,$61,$67,$65,$49,
                    $64,$3A,$00,$67,$61
       00:0D76: 73 73 61 67 
       00:0D7A: 65 49 64 3A 
  Thu Dec  3 2020 22:25                                                Page 320


       00:0D7E: 00 67 61 
 16445 00:0D81: 64 67 65 74  	db	$64,$67,$65,$74,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:0D85: 57 69 6E 64 
       00:0D89: 6F 77 50 72 
       00:0D8D: 6F 63 3A 
 16446 00:0D90: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4D,$42,$55,$54,$54,$4F,
                    $4E,$5F,$44,$4F,$57
       00:0D94: 4D 42 55 54 
       00:0D98: 54 4F 4E 5F 
       00:0D9C: 44 4F 57 
 16447 00:0D9F: 4E 0D 0A 00  	db	$4E,$0D,$0A,$00
 16448 00:0DA3:              	ends
 16449                        ;
 16450                        ;int k_user_getSystemMetric(UINT flag)
 16451                        ;{
 16452                        	.line	2874
 16453                        	.line	2875
 16454                        	WINMAN
 16455                        	xdef	~~k_user_getSystemMetric
 16456                        	func
 16457                        	.function	2875
 16458                        ~~k_user_getSystemMetric:
 16459                        	longa	on
 16460                        	longi	on
 16461 04:47F8: 3B           	tsc
 16462 04:47F9: 38           	sec
 16463 04:47FA: E9 0E 00     	sbc	#L654
 16464 04:47FD: 1B           	tcs
 16465 04:47FE: 0B           	phd
 16466 04:47FF: 5B           	tcd
 16467             00000004   flag_0	set	4
 16468                        	.block	2875
 16469                        ;	FONTMETRIC fm;
 16470                        ;
 16471                        ;	int metric = -1;
 16472                        ;
 16473                        ;
 16474                        ;	switch(flag)
 16475             00000000   fm_1	set	0
 16476             00000004   metric_1	set	4
 16477                        	.sym	fm,0,10,1,32,29
 16478                        	.sym	metric,4,5,1,16
 16479                        	.sym	flag,4,16,6,16
 16480 04:4800: A9 FF FF     	lda	#$ffff
 16481 04:4803: 85 0D        	sta	<L655+metric_1
 16482                        	.line	2881
 16483 04:4805: A5 12        	lda	<L654+flag_0
 16484 04:4807: 82 D3 00     	brl	L10235
 16485                        ;	{
 16486                        	.line	2882
 16487                        ;	case SM_CYMENUSIZE:
 16488                        	.line	2883
 16489                        L10237:
 16490                        ;		k_get_font_metrics(&fm);
 16491                        	.line	2884
 16492 04:480A: F4 00 00     	pea	#0
 16493 04:480D: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 321


 16494 04:480E: 7B           	tdc
 16495 04:480F: 69 09 00     	adc	#<L655+fm_1
 16496 04:4812: 48           	pha
 16497 04:4813: 22 xx xx xx  	jsl	~~k_get_font_metrics
 16498                        ;
 16499                        ;		metric = fm.height + (int)(fm.width/2) +
                     1;
 16500                        	.line	2886
 16501 04:4817: A5 09        	lda	<L655+fm_1
 16502 04:4819: A2 02 00     	ldx	#<$2
 16503                        	xref	~~~div
 16504 04:481C: 22 xx xx xx  	jsl	~~~div
 16505 04:4820: 85 01        	sta	<R0
 16506 04:4822: 18           	clc
 16507 04:4823: A5 01        	lda	<R0
 16508 04:4825: 65 0B        	adc	<L655+fm_1+2
 16509 04:4827: 85 05        	sta	<R1
 16510 04:4829: A5 05        	lda	<R1
 16511 04:482B: 1A           	ina
 16512 04:482C: 85 0D        	sta	<L655+metric_1
 16513                        ;
 16514                        ;		break;
 16515                        	.line	2888
 16516 04:482E: 82 FC 00     	brl	L10236
 16517                        ;	case SM_CXMENUSIZE:
 16518                        	.line	2889
 16519                        L10238:
 16520                        ;		metric = 640;
 16521                        	.line	2890
 16522 04:4831: A9 80 02     	lda	#$280
 16523 04:4834: 85 0D        	sta	<L655+metric_1
 16524                        ;		break;
 16525                        	.line	2891
 16526 04:4836: 82 F4 00     	brl	L10236
 16527                        ;	case SM_CXFULLSCREEN:
 16528                        	.line	2892
 16529                        L10239:
 16530                        ;		if(k_get_video_mode() > 2)
 16531                        	.line	2893
 16532                        ;			metric = 800;
 16533 04:4839: 22 xx xx xx  	jsl	~~k_get_video_mode
 16534 04:483D: 85 01        	sta	<R0
 16535 04:483F: A9 02 00     	lda	#$2
 16536 04:4842: C5 01        	cmp	<R0
 16537 04:4844: 90 03        	bcc	L657
 16538 04:4846: 82 08 00     	brl	L10240
 16539                        L657:
 16540                        	.line	2894
 16541 04:4849: A9 20 03     	lda	#$320
 16542 04:484C: 85 0D        	sta	<L655+metric_1
 16543                        ;		else
 16544 04:484E: 82 05 00     	brl	L10241
 16545                        L10240:
 16546                        ;			metric = 640;
 16547                        	.line	2896
 16548 04:4851: A9 80 02     	lda	#$280
 16549 04:4854: 85 0D        	sta	<L655+metric_1
 16550                        L10241:
  Thu Dec  3 2020 22:25                                                Page 322


 16551                        ;		break;
 16552                        	.line	2897
 16553 04:4856: 82 D4 00     	brl	L10236
 16554                        ;	case SM_CYFULLSCREEN:
 16555                        	.line	2898
 16556                        L10242:
 16557                        ;		if(k_get_video_mode() > 2)
 16558                        	.line	2899
 16559                        ;			metric = 600;
 16560 04:4859: 22 xx xx xx  	jsl	~~k_get_video_mode
 16561 04:485D: 85 01        	sta	<R0
 16562 04:485F: A9 02 00     	lda	#$2
 16563 04:4862: C5 01        	cmp	<R0
 16564 04:4864: 90 03        	bcc	L658
 16565 04:4866: 82 08 00     	brl	L10243
 16566                        L658:
 16567                        	.line	2900
 16568 04:4869: A9 58 02     	lda	#$258
 16569 04:486C: 85 0D        	sta	<L655+metric_1
 16570                        ;		else
 16571 04:486E: 82 05 00     	brl	L10244
 16572                        L10243:
 16573                        ;			metric = 480;
 16574                        	.line	2902
 16575 04:4871: A9 E0 01     	lda	#$1e0
 16576 04:4874: 85 0D        	sta	<L655+metric_1
 16577                        L10244:
 16578                        ;		break;
 16579                        	.line	2903
 16580 04:4876: 82 B4 00     	brl	L10236
 16581                        ;	case SM_CXFRAME:
 16582                        	.line	2904
 16583                        L10245:
 16584                        ;		metric = 2;
 16585                        	.line	2905
 16586 04:4879: A9 02 00     	lda	#$2
 16587 04:487C: 85 0D        	sta	<L655+metric_1
 16588                        ;		break;
 16589                        	.line	2906
 16590 04:487E: 82 AC 00     	brl	L10236
 16591                        ;	case SM_CYFRAME:
 16592                        	.line	2907
 16593                        L10246:
 16594                        ;		metric = 2;
 16595                        	.line	2908
 16596 04:4881: A9 02 00     	lda	#$2
 16597 04:4884: 85 0D        	sta	<L655+metric_1
 16598                        ;		break;
 16599                        	.line	2909
 16600 04:4886: 82 A4 00     	brl	L10236
 16601                        ;	case SM_CXBORDER:
 16602                        	.line	2910
 16603                        L10247:
 16604                        ;		metric = 1;
 16605                        	.line	2911
 16606 04:4889: A9 01 00     	lda	#$1
 16607 04:488C: 85 0D        	sta	<L655+metric_1
 16608                        ;		break;
  Thu Dec  3 2020 22:25                                                Page 323


 16609                        	.line	2912
 16610 04:488E: 82 9C 00     	brl	L10236
 16611                        ;	case SM_CYBORDER:
 16612                        	.line	2913
 16613                        L10248:
 16614                        ;		metric = 1;
 16615                        	.line	2914
 16616 04:4891: A9 01 00     	lda	#$1
 16617 04:4894: 85 0D        	sta	<L655+metric_1
 16618                        ;		break;
 16619                        	.line	2915
 16620 04:4896: 82 94 00     	brl	L10236
 16621                        ;	case SM_CXVSCROLL:
 16622                        	.line	2916
 16623                        L10249:
 16624                        ;		metric = FONTH + 1;
 16625                        	.line	2917
 16626 04:4899: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 16627 04:489D: 85 01        	sta	<R0
 16628 04:489F: A5 01        	lda	<R0
 16629 04:48A1: 1A           	ina
 16630 04:48A2: 85 0D        	sta	<L655+metric_1
 16631                        ;		break;
 16632                        	.line	2918
 16633 04:48A4: 82 86 00     	brl	L10236
 16634                        ;	case SM_CYHSCROLL:
 16635                        	.line	2919
 16636                        L10250:
 16637                        ;		metric = FONTW + 1;
 16638                        	.line	2920
 16639 04:48A7: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 16640 04:48AB: 85 01        	sta	<R0
 16641 04:48AD: A5 01        	lda	<R0
 16642 04:48AF: 1A           	ina
 16643 04:48B0: 85 0D        	sta	<L655+metric_1
 16644                        ;		break;
 16645                        	.line	2921
 16646 04:48B2: 82 78 00     	brl	L10236
 16647                        ;	case SM_CYSMCAPTION:
 16648                        	.line	2922
 16649                        L10251:
 16650                        ;		metric = 10;
 16651                        	.line	2923
 16652 04:48B5: A9 0A 00     	lda	#$a
 16653 04:48B8: 85 0D        	sta	<L655+metric_1
 16654                        ;		break;
 16655                        	.line	2924
 16656 04:48BA: 82 70 00     	brl	L10236
 16657                        ;	case SM_CXICON:
 16658                        	.line	2925
 16659                        L10252:
 16660                        ;	case SM_CYICON:
 16661                        	.line	2926
 16662                        L10253:
 16663                        ;		metric = 16;
 16664                        	.line	2927
 16665 04:48BD: A9 10 00     	lda	#$10
 16666 04:48C0: 85 0D        	sta	<L655+metric_1
  Thu Dec  3 2020 22:25                                                Page 324


 16667                        ;		break;
 16668                        	.line	2928
 16669 04:48C2: 82 68 00     	brl	L10236
 16670                        ;	case SM_CXDLGFRAME: // or SM_CXFIXEDFRAME
 16671                        	.line	2929
 16672                        L10254:
 16673                        ;	case SM_CYDLGFRAME: // or SM_CYFIXEDFRAME
 16674                        	.line	2930
 16675                        L10255:
 16676                        ;		metric = 4;
 16677                        	.line	2931
 16678 04:48C5: A9 04 00     	lda	#$4
 16679 04:48C8: 85 0D        	sta	<L655+metric_1
 16680                        ;		break;
 16681                        	.line	2932
 16682 04:48CA: 82 60 00     	brl	L10236
 16683                        ;	case SM_CYCAPTION:
 16684                        	.line	2933
 16685                        L10256:
 16686                        ;		metric = 2;
 16687                        	.line	2934
 16688 04:48CD: A9 02 00     	lda	#$2
 16689 04:48D0: 85 0D        	sta	<L655+metric_1
 16690                        ;		break;
 16691                        	.line	2935
 16692 04:48D2: 82 58 00     	brl	L10236
 16693                        ;
 16694                        ;	case SM_CXGADGET:
 16695                        	.line	2937
 16696                        L10257:
 16697                        ;	case SM_CYGADGET:
 16698                        	.line	2938
 16699                        L10258:
 16700                        ;		metric = 8;
 16701                        	.line	2939
 16702 04:48D5: A9 08 00     	lda	#$8
 16703 04:48D8: 85 0D        	sta	<L655+metric_1
 16704                        ;		break;
 16705                        	.line	2940
 16706 04:48DA: 82 50 00     	brl	L10236
 16707                        ;
 16708                        ;	}
 16709                        	.line	2942
 16710                        L10235:
 16711                        	xref	~~~swt
 16712 04:48DD: 22 xx xx xx  	jsl	~~~swt
 16713 04:48E1: 12 00        	dw	18
 16714 04:48E3: 02 00        	dw	2
 16715 04:48E5: 98 48        	dw	L10249-1
 16716 04:48E7: 03 00        	dw	3
 16717 04:48E9: A6 48        	dw	L10250-1
 16718 04:48EB: 04 00        	dw	4
 16719 04:48ED: CC 48        	dw	L10256-1
 16720 04:48EF: 05 00        	dw	5
 16721 04:48F1: 88 48        	dw	L10247-1
 16722 04:48F3: 06 00        	dw	6
 16723 04:48F5: 90 48        	dw	L10248-1
 16724 04:48F7: 07 00        	dw	7
  Thu Dec  3 2020 22:25                                                Page 325


 16725 04:48F9: C4 48        	dw	L10254-1
 16726 04:48FB: 08 00        	dw	8
 16727 04:48FD: C4 48        	dw	L10255-1
 16728 04:48FF: 0B 00        	dw	11
 16729 04:4901: BC 48        	dw	L10252-1
 16730 04:4903: 0C 00        	dw	12
 16731 04:4905: BC 48        	dw	L10253-1
 16732 04:4907: 10 00        	dw	16
 16733 04:4909: 38 48        	dw	L10239-1
 16734 04:490B: 11 00        	dw	17
 16735 04:490D: 58 48        	dw	L10242-1
 16736 04:490F: 18 00        	dw	24
 16737 04:4911: D4 48        	dw	L10257-1
 16738 04:4913: 19 00        	dw	25
 16739 04:4915: D4 48        	dw	L10258-1
 16740 04:4917: 20 00        	dw	32
 16741 04:4919: 78 48        	dw	L10245-1
 16742 04:491B: 21 00        	dw	33
 16743 04:491D: 80 48        	dw	L10246-1
 16744 04:491F: 33 00        	dw	51
 16745 04:4921: B4 48        	dw	L10251-1
 16746 04:4923: 36 00        	dw	54
 16747 04:4925: 30 48        	dw	L10238-1
 16748 04:4927: 37 00        	dw	55
 16749 04:4929: 09 48        	dw	L10237-1
 16750 04:492B: 2C 49        	dw	L10236-1
 16751                        L10236:
 16752                        ;
 16753                        ;	return metric;
 16754                        	.line	2944
 16755 04:492D: A5 0D        	lda	<L655+metric_1
 16756                        L659:
 16757 04:492F: A8           	tay
 16758 04:4930: A5 10        	lda	<L654+2
 16759 04:4932: 85 12        	sta	<L654+2+2
 16760 04:4934: A5 0F        	lda	<L654+1
 16761 04:4936: 85 11        	sta	<L654+1+2
 16762 04:4938: 2B           	pld
 16763 04:4939: 3B           	tsc
 16764 04:493A: 18           	clc
 16765 04:493B: 69 10 00     	adc	#L654+2
 16766 04:493E: 1B           	tcs
 16767 04:493F: 98           	tya
 16768 04:4940: 6B           	rtl
 16769                        ;}
 16770                        	.line	2945
 16771                        	.endblock	2945
 16772             0000000E   L654	equ	14
 16773             00000009   L655	equ	9
 16774 04:4941:              	ends
 16775                        	efunc
 16776                        	.endfunc	2945,9,14
 16777                        	.line	2945
 16778                        ;
 16779                        ;void k_text_callback(PWINDOW textWindow)
 16780                        ;{
 16781                        	.line	2947
 16782                        	.line	2948
  Thu Dec  3 2020 22:25                                                Page 326


 16783                        	WINMAN
 16784                        	xdef	~~k_text_callback
 16785                        	func
 16786                        	.function	2948
 16787                        ~~k_text_callback:
 16788                        	longa	on
 16789                        	longi	on
 16790 04:4941: 3B           	tsc
 16791 04:4942: 38           	sec
 16792 04:4943: E9 04 00     	sbc	#L660
 16793 04:4946: 1B           	tcs
 16794 04:4947: 0B           	phd
 16795 04:4948: 5B           	tcd
 16796             00000004   textWindow_0	set	4
 16797                        	.block	2948
 16798                        ;	k_debug_message("k_text_callback:clicked:",textW
                    indow->win_class);
 16799                        	.sym	textWindow,4,138,6,32,27
 16800                        	.line	2949
 16801 04:4949: 18           	clc
 16802 04:494A: A9 F6 00     	lda	#$f6
 16803 04:494D: 65 08        	adc	<L660+textWindow_0
 16804 04:494F: 85 01        	sta	<R0
 16805 04:4951: A9 00 00     	lda	#$0
 16806 04:4954: 65 0A        	adc	<L660+textWindow_0+2
 16807 04:4956: 85 03        	sta	<R0+2
 16808 04:4958: D4 03        	pei	<R0+2
 16809 04:495A: D4 01        	pei	<R0
 16810 04:495C: F4 xx xx     	pea	#^L653
 16811 04:495F: F4 xx xx     	pea	#<L653
 16812 04:4962: 22 xx xx xx  	jsl	~~k_debug_message
 16813                        ;	//k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 16814                        ;	return;
 16815                        	.line	2951
 16816                        L663:
 16817 04:4966: A5 06        	lda	<L660+2
 16818 04:4968: 85 0A        	sta	<L660+2+4
 16819 04:496A: A5 05        	lda	<L660+1
 16820 04:496C: 85 09        	sta	<L660+1+4
 16821 04:496E: 2B           	pld
 16822 04:496F: 3B           	tsc
 16823 04:4970: 18           	clc
 16824 04:4971: 69 08 00     	adc	#L660+4
 16825 04:4974: 1B           	tcs
 16826 04:4975: 6B           	rtl
 16827                        ;}
 16828                        	.line	2952
 16829                        	.endblock	2952
 16830             00000004   L660	equ	4
 16831             00000005   L661	equ	5
 16832 04:4976:              	ends
 16833                        	efunc
 16834                        	.endfunc	2952,5,4
 16835                        	.line	2952
 16836                        	data
 16837                        L653:
 16838 00:0DA3: 6B 5F 74 65  	db	$6B,$5F,$74,$65,$78,$74,$5F,$63,$61,$6C,
                    $6C,$62,$61,$63,$6B
  Thu Dec  3 2020 22:25                                                Page 327


       00:0DA7: 78 74 5F 63 
       00:0DAB: 61 6C 6C 62 
       00:0DAF: 61 63 6B 
 16839 00:0DB2: 3A 63 6C 69  	db	$3A,$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0DB6: 63 6B 65 64 
       00:0DBA: 3A 00 
 16840 00:0DBC:              	ends
 16841                        ;
 16842                        ;
 16843                        ;int k_render_text(HWND pParent,LPCSTR clickableTe
                    xt,int cx,int cy,char color,OBJECTCLICKED callback)
 16844                        ;{
 16845                        	.line	2955
 16846                        	.line	2956
 16847                        	WINMAN
 16848                        	xdef	~~k_render_text
 16849                        	func
 16850                        	.function	2956
 16851                        ~~k_render_text:
 16852                        	longa	on
 16853                        	longi	on
 16854 04:4976: 3B           	tsc
 16855 04:4977: 38           	sec
 16856 04:4978: E9 0C 00     	sbc	#L665
 16857 04:497B: 1B           	tcs
 16858 04:497C: 0B           	phd
 16859 04:497D: 5B           	tcd
 16860             00000004   pParent_0	set	4
 16861             00000008   clickableText_0	set	8
 16862             0000000C   cx_0	set	12
 16863             0000000E   cy_0	set	14
 16864             00000010   color_0	set	16
 16865             00000012   callback_0	set	18
 16866                        	.block	2956
 16867                        ;	PCLICKDETECTED pcd = NULL;
 16868                        ;	int pos = 0;
 16869                        ;	int retCode = 0;
 16870                        ;
 16871                        ;	pos = k_draw_text_point(clickableText,cx,cy,colo
                    r);
 16872             00000000   pcd_1	set	0
 16873             00000004   pos_1	set	4
 16874             00000006   retCode_1	set	6
 16875                        	.sym	pcd,0,138,1,32,61
 16876                        	.sym	pos,4,5,1,16
 16877                        	.sym	retCode,6,5,1,16
 16878                        	.sym	pParent,4,129,6,32
 16879                        	.sym	clickableText,8,142,6,32
 16880                        	.sym	cx,12,5,6,16
 16881                        	.sym	cy,14,5,6,16
 16882                        	.sym	color,16,14,6,8
 16883                        	.sym	callback,18,641,6,32
 16884 04:497E: 64 05        	stz	<L666+pcd_1
 16885 04:4980: 64 07        	stz	<L666+pcd_1+2
 16886 04:4982: 64 09        	stz	<L666+pos_1
 16887 04:4984: 64 0B        	stz	<L666+retCode_1
 16888                        	.line	2961
 16889 04:4986: D4 1C        	pei	<L665+color_0
  Thu Dec  3 2020 22:25                                                Page 328


 16890 04:4988: D4 1A        	pei	<L665+cy_0
 16891 04:498A: D4 18        	pei	<L665+cx_0
 16892 04:498C: D4 16        	pei	<L665+clickableText_0+2
 16893 04:498E: D4 14        	pei	<L665+clickableText_0
 16894 04:4990: 22 xx xx xx  	jsl	~~k_draw_text_point
 16895 04:4994: 85 09        	sta	<L666+pos_1
 16896                        ;
 16897                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 16898                        	.line	2963
 16899 04:4996: F4 08 00     	pea	#<$8
 16900 04:4999: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 16901 04:499D: 85 05        	sta	<L666+pcd_1
 16902 04:499F: 86 07        	stx	<L666+pcd_1+2
 16903                        ;	if(pcd)
 16904                        	.line	2964
 16905                        ;	{
 16906 04:49A1: A5 05        	lda	<L666+pcd_1
 16907 04:49A3: 05 07        	ora	<L666+pcd_1+2
 16908 04:49A5: D0 03        	bne	L668
 16909 04:49A7: 82 8C 00     	brl	L10259
 16910                        L668:
 16911                        	.line	2965
 16912                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,pos - cx,"text","text",NULL);
 16913                        	.line	2966
 16914 04:49AA: F4 00 00     	pea	#^$0
 16915 04:49AD: F4 00 00     	pea	#<$0
 16916 04:49B0: F4 xx xx     	pea	#^L664+5
 16917 04:49B3: F4 xx xx     	pea	#<L664+5
 16918 04:49B6: F4 xx xx     	pea	#^L664
 16919 04:49B9: F4 xx xx     	pea	#<L664
 16920 04:49BC: 38           	sec
 16921 04:49BD: A5 09        	lda	<L666+pos_1
 16922 04:49BF: E5 18        	sbc	<L665+cx_0
 16923 04:49C1: 48           	pha
 16924 04:49C2: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 16925 04:49C6: 48           	pha
 16926 04:49C7: D4 1A        	pei	<L665+cy_0
 16927 04:49C9: D4 18        	pei	<L665+cx_0
 16928 04:49CB: 22 xx xx xx  	jsl	~~k_create_ui_window_class
 16929 04:49CF: 85 01        	sta	<R0
 16930 04:49D1: 86 03        	stx	<R0+2
 16931 04:49D3: A5 01        	lda	<R0
 16932 04:49D5: 87 05        	sta	[<L666+pcd_1]
 16933 04:49D7: A5 03        	lda	<R0+2
 16934 04:49D9: A0 02 00     	ldy	#$2
 16935 04:49DC: 97 05        	sta	[<L666+pcd_1],Y
 16936                        ;		pcd->handler = callback;
 16937                        	.line	2967
 16938 04:49DE: A5 1E        	lda	<L665+callback_0
 16939 04:49E0: A0 04 00     	ldy	#$4
 16940 04:49E3: 97 05        	sta	[<L666+pcd_1],Y
 16941 04:49E5: A5 20        	lda	<L665+callback_0+2
 16942 04:49E7: A0 06 00     	ldy	#$6
 16943 04:49EA: 97 05        	sta	[<L666+pcd_1],Y
 16944                        ;		//k_add_window_hit_node(pcd);
 16945                        ;
  Thu Dec  3 2020 22:25                                                Page 329


 16946                        ;		if(pParent)
 16947                        	.line	2970
 16948                        ;			k_attach_mouse_detection_local(k
                    _getWindowFromHandle(pParent)->pChildHitList,pcd->window ,k_
                    update_hover_location);
 16949 04:49EC: A5 10        	lda	<L665+pParent_0
 16950 04:49EE: 05 12        	ora	<L665+pParent_0+2
 16951 04:49F0: D0 03        	bne	L669
 16952 04:49F2: 82 2E 00     	brl	L10260
 16953                        L669:
 16954                        	.line	2971
 16955 04:49F5: F4 04 00     	pea	#^~~k_update_hover_location
 16956 04:49F8: F4 A1 38     	pea	#<~~k_update_hover_location
 16957 04:49FB: A0 02 00     	ldy	#$2
 16958 04:49FE: B7 05        	lda	[<L666+pcd_1],Y
 16959 04:4A00: 48           	pha
 16960 04:4A01: A7 05        	lda	[<L666+pcd_1]
 16961 04:4A03: 48           	pha
 16962 04:4A04: D4 12        	pei	<L665+pParent_0+2
 16963 04:4A06: D4 10        	pei	<L665+pParent_0
 16964 04:4A08: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 16965 04:4A0C: 85 01        	sta	<R0
 16966 04:4A0E: 86 03        	stx	<R0+2
 16967 04:4A10: A0 3E 01     	ldy	#$13e
 16968 04:4A13: B7 01        	lda	[<R0],Y
 16969 04:4A15: 48           	pha
 16970 04:4A16: A0 3C 01     	ldy	#$13c
 16971 04:4A19: B7 01        	lda	[<R0],Y
 16972 04:4A1B: 48           	pha
 16973 04:4A1C: 22 1B 3B 04  	jsl	~~k_attach_mouse_detection_local
 16974                        ;		else
 16975 04:4A20: 82 13 00     	brl	L10261
 16976                        L10260:
 16977                        ;			k_attach_mouse_detection(pcd->wi
                    ndow,k_update_hover_location);
 16978                        	.line	2973
 16979 04:4A23: F4 04 00     	pea	#^~~k_update_hover_location
 16980 04:4A26: F4 A1 38     	pea	#<~~k_update_hover_location
 16981 04:4A29: A0 02 00     	ldy	#$2
 16982 04:4A2C: B7 05        	lda	[<L666+pcd_1],Y
 16983 04:4A2E: 48           	pha
 16984 04:4A2F: A7 05        	lda	[<L666+pcd_1]
 16985 04:4A31: 48           	pha
 16986 04:4A32: 22 73 3A 04  	jsl	~~k_attach_mouse_detection
 16987                        L10261:
 16988                        ;	}
 16989                        	.line	2974
 16990                        ;
 16991                        ;	return retCode;
 16992                        L10259:
 16993                        	.line	2976
 16994 04:4A36: A5 0B        	lda	<L666+retCode_1
 16995                        L670:
 16996 04:4A38: A8           	tay
 16997 04:4A39: A5 0E        	lda	<L665+2
 16998 04:4A3B: 85 20        	sta	<L665+2+18
 16999 04:4A3D: A5 0D        	lda	<L665+1
 17000 04:4A3F: 85 1F        	sta	<L665+1+18
  Thu Dec  3 2020 22:25                                                Page 330


 17001 04:4A41: 2B           	pld
 17002 04:4A42: 3B           	tsc
 17003 04:4A43: 18           	clc
 17004 04:4A44: 69 1E 00     	adc	#L665+18
 17005 04:4A47: 1B           	tcs
 17006 04:4A48: 98           	tya
 17007 04:4A49: 6B           	rtl
 17008                        ;}
 17009                        	.line	2977
 17010                        	.endblock	2977
 17011             0000000C   L665	equ	12
 17012             00000005   L666	equ	5
 17013 04:4A4A:              	ends
 17014                        	efunc
 17015                        	.endfunc	2977,5,12
 17016                        	.line	2977
 17017                        	data
 17018                        L664:
 17019 00:0DBC: 74 65 78 74  	db	$74,$65,$78,$74,$00,$74,$65,$78,$74,$00
       00:0DC0: 00 74 65 78 
       00:0DC4: 74 00 
 17020 00:0DC6:              	ends
 17021                        ;
 17022                        ;BOOL _k_user_send_child_message(HWND hParentWindo
                    w,MSGTYPE type,LPVOID data,UINT size)
 17023                        ;{
 17024                        	.line	2979
 17025                        	.line	2980
 17026                        	WINMAN
 17027                        	xdef	~~_k_user_send_child_message
 17028                        	func
 17029                        	.function	2980
 17030                        ~~_k_user_send_child_message:
 17031                        	longa	on
 17032                        	longi	on
 17033 04:4A4A: 3B           	tsc
 17034 04:4A4B: 38           	sec
 17035 04:4A4C: E9 0C 00     	sbc	#L672
 17036 04:4A4F: 1B           	tcs
 17037 04:4A50: 0B           	phd
 17038 04:4A51: 5B           	tcd
 17039             00000004   hParentWindow_0	set	4
 17040             00000008   type_0	set	8
 17041             0000000A   data_0	set	10
 17042             0000000E   size_0	set	14
 17043                        	.block	2980
 17044                        ;
 17045                        ;	EACHCHILD_MSG 	msgData;
 17046                        ;	PWINDOW pWin = k_getWindowFromHandle(hParentWind
                    ow);
 17047                        ;
 17048                        ;	if(pWin && pWin->pChildWindows)
 17049             00000000   msgData_1	set	0
 17050             00000008   pWin_1	set	8
 17051                        	.sym	msgData,0,10,1,64,63
 17052                        	.sym	pWin,8,138,1,32,27
 17053                        	.sym	hParentWindow,4,129,6,32
 17054                        	.sym	type,8,16,6,16
  Thu Dec  3 2020 22:25                                                Page 331


 17055                        	.sym	data,10,129,6,32
 17056                        	.sym	size,14,16,6,16
 17057 04:4A52: D4 12        	pei	<L672+hParentWindow_0+2
 17058 04:4A54: D4 10        	pei	<L672+hParentWindow_0
 17059 04:4A56: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 17060 04:4A5A: 85 09        	sta	<L673+pWin_1
 17061 04:4A5C: 86 0B        	stx	<L673+pWin_1+2
 17062                        	.line	2985
 17063                        ;	{
 17064 04:4A5E: A5 09        	lda	<L673+pWin_1
 17065 04:4A60: 05 0B        	ora	<L673+pWin_1+2
 17066 04:4A62: D0 03        	bne	L675
 17067 04:4A64: 82 3E 00     	brl	L10262
 17068                        L675:
 17069 04:4A67: A0 38 01     	ldy	#$138
 17070 04:4A6A: B7 09        	lda	[<L673+pWin_1],Y
 17071 04:4A6C: A0 3A 01     	ldy	#$13a
 17072 04:4A6F: 17 09        	ora	[<L673+pWin_1],Y
 17073 04:4A71: D0 03        	bne	L676
 17074 04:4A73: 82 2F 00     	brl	L10262
 17075                        L676:
 17076                        	.line	2986
 17077                        ;		msgData.msgType 	= type;
 17078                        	.line	2987
 17079 04:4A76: A5 14        	lda	<L672+type_0
 17080 04:4A78: 85 01        	sta	<L673+msgData_1
 17081                        ;		msgData.msgData 	= data;
 17082                        	.line	2988
 17083 04:4A7A: A5 16        	lda	<L672+data_0
 17084 04:4A7C: 85 03        	sta	<L673+msgData_1+2
 17085 04:4A7E: A5 18        	lda	<L672+data_0+2
 17086 04:4A80: 85 05        	sta	<L673+msgData_1+4
 17087                        ;		msgData.dataSize 	= size;
 17088                        	.line	2989
 17089 04:4A82: A5 1A        	lda	<L672+size_0
 17090 04:4A84: 85 07        	sta	<L673+msgData_1+6
 17091                        ;
 17092                        ;		k_nodelist_foreach_listdata(pWin->pChild
                    Windows,
 17093                        	.line	2991
 17094                        ;							
                    		(LPVOID)&msgData,
 17095                        ;							
                    		k_iterate_children);
 17096 04:4A86: F4 04 00     	pea	#^~~k_iterate_children
 17097 04:4A89: F4 BA 4A     	pea	#<~~k_iterate_children
 17098 04:4A8C: F4 00 00     	pea	#0
 17099 04:4A8F: 18           	clc
 17100 04:4A90: 7B           	tdc
 17101 04:4A91: 69 01 00     	adc	#<L673+msgData_1
 17102 04:4A94: 48           	pha
 17103 04:4A95: A0 3A 01     	ldy	#$13a
 17104 04:4A98: B7 09        	lda	[<L673+pWin_1],Y
 17105 04:4A9A: 48           	pha
 17106 04:4A9B: A0 38 01     	ldy	#$138
 17107 04:4A9E: B7 09        	lda	[<L673+pWin_1],Y
 17108 04:4AA0: 48           	pha
 17109 04:4AA1: 22 xx xx xx  	jsl	~~k_nodelist_foreach_listdata
  Thu Dec  3 2020 22:25                                                Page 332


 17110                        ;	}
 17111                        	.line	2994
 17112                        ;
 17113                        ;	return TRUE;
 17114                        L10262:
 17115                        	.line	2996
 17116 04:4AA5: A9 01 00     	lda	#$1
 17117                        L677:
 17118 04:4AA8: A8           	tay
 17119 04:4AA9: A5 0E        	lda	<L672+2
 17120 04:4AAB: 85 1A        	sta	<L672+2+12
 17121 04:4AAD: A5 0D        	lda	<L672+1
 17122 04:4AAF: 85 19        	sta	<L672+1+12
 17123 04:4AB1: 2B           	pld
 17124 04:4AB2: 3B           	tsc
 17125 04:4AB3: 18           	clc
 17126 04:4AB4: 69 18 00     	adc	#L672+12
 17127 04:4AB7: 1B           	tcs
 17128 04:4AB8: 98           	tya
 17129 04:4AB9: 6B           	rtl
 17130                        ;}
 17131                        	.line	2997
 17132                        	.endblock	2997
 17133             0000000C   L672	equ	12
 17134             00000001   L673	equ	1
 17135 04:4ABA:              	ends
 17136                        	efunc
 17137                        	.endfunc	2997,1,12
 17138                        	.line	2997
 17139                        ;
 17140                        ;
 17141                        ;void k_iterate_children(LPVOID ctx,LPVOID data)
 17142                        ;{
 17143                        	.line	3000
 17144                        	.line	3001
 17145                        	WINMAN
 17146                        	xdef	~~k_iterate_children
 17147                        	func
 17148                        	.function	3001
 17149                        ~~k_iterate_children:
 17150                        	longa	on
 17151                        	longi	on
 17152 04:4ABA: 3B           	tsc
 17153 04:4ABB: 38           	sec
 17154 04:4ABC: E9 0C 00     	sbc	#L678
 17155 04:4ABF: 1B           	tcs
 17156 04:4AC0: 0B           	phd
 17157 04:4AC1: 5B           	tcd
 17158             00000004   ctx_0	set	4
 17159             00000008   data_0	set	8
 17160                        	.block	3001
 17161                        ;	PWINDOW 		pWin   = ((PWINDOW)data)
                    ;
 17162                        ;	PEACHCHILD_MSG 	pChildMsg = (PEACHCHILD_MSG)ctx;
 17163                        ;
 17164                        ;	if(pWin && pChildMsg)
 17165             00000000   pWin_1	set	0
 17166             00000004   pChildMsg_1	set	4
  Thu Dec  3 2020 22:25                                                Page 333


 17167                        	.sym	pWin,0,138,1,32,27
 17168                        	.sym	pChildMsg,4,138,1,32,63
 17169                        	.sym	ctx,4,129,6,32
 17170                        	.sym	data,8,129,6,32
 17171 04:4AC2: A5 14        	lda	<L678+data_0
 17172 04:4AC4: 85 05        	sta	<L679+pWin_1
 17173 04:4AC6: A5 16        	lda	<L678+data_0+2
 17174 04:4AC8: 85 07        	sta	<L679+pWin_1+2
 17175 04:4ACA: A5 10        	lda	<L678+ctx_0
 17176 04:4ACC: 85 09        	sta	<L679+pChildMsg_1
 17177 04:4ACE: A5 12        	lda	<L678+ctx_0+2
 17178 04:4AD0: 85 0B        	sta	<L679+pChildMsg_1+2
 17179                        	.line	3005
 17180                        ;	{
 17181 04:4AD2: A5 05        	lda	<L679+pWin_1
 17182 04:4AD4: 05 07        	ora	<L679+pWin_1+2
 17183 04:4AD6: D0 03        	bne	L681
 17184 04:4AD8: 82 4A 00     	brl	L10263
 17185                        L681:
 17186 04:4ADB: A5 09        	lda	<L679+pChildMsg_1
 17187 04:4ADD: 05 0B        	ora	<L679+pChildMsg_1+2
 17188 04:4ADF: D0 03        	bne	L682
 17189 04:4AE1: 82 41 00     	brl	L10263
 17190                        L682:
 17191                        	.line	3006
 17192                        ;		if(!pWin->isClosed && !pWin->isClosing)
 17193                        	.line	3007
 17194                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pWin),pChildMsg->msgType,pChildMsg->msgData,pChi
                    ldMsg->dataSize);
 17195 04:4AE4: A0 5D 01     	ldy	#$15d
 17196 04:4AE7: B7 05        	lda	[<L679+pWin_1],Y
 17197 04:4AE9: 29 FF 00     	and	#$ff
 17198 04:4AEC: F0 03        	beq	L683
 17199 04:4AEE: 82 34 00     	brl	L10264
 17200                        L683:
 17201 04:4AF1: A0 5E 01     	ldy	#$15e
 17202 04:4AF4: B7 05        	lda	[<L679+pWin_1],Y
 17203 04:4AF6: 29 FF 00     	and	#$ff
 17204 04:4AF9: F0 03        	beq	L684
 17205 04:4AFB: 82 27 00     	brl	L10264
 17206                        L684:
 17207                        	.line	3008
 17208 04:4AFE: A0 06 00     	ldy	#$6
 17209 04:4B01: B7 09        	lda	[<L679+pChildMsg_1],Y
 17210 04:4B03: 48           	pha
 17211 04:4B04: A0 04 00     	ldy	#$4
 17212 04:4B07: B7 09        	lda	[<L679+pChildMsg_1],Y
 17213 04:4B09: 48           	pha
 17214 04:4B0A: A0 02 00     	ldy	#$2
 17215 04:4B0D: B7 09        	lda	[<L679+pChildMsg_1],Y
 17216 04:4B0F: 48           	pha
 17217 04:4B10: A7 09        	lda	[<L679+pChildMsg_1]
 17218 04:4B12: 48           	pha
 17219 04:4B13: D4 07        	pei	<L679+pWin_1+2
 17220 04:4B15: D4 05        	pei	<L679+pWin_1
 17221 04:4B17: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 17222 04:4B1B: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 334


 17223 04:4B1D: 86 03        	stx	<R0+2
 17224 04:4B1F: DA           	phx
 17225 04:4B20: 48           	pha
 17226 04:4B21: 22 xx xx xx  	jsl	~~k_send_window_message
 17227                        ;	}
 17228                        L10264:
 17229                        	.line	3009
 17230                        ;}
 17231                        L10263:
 17232                        	.line	3010
 17233                        L685:
 17234 04:4B25: A5 0E        	lda	<L678+2
 17235 04:4B27: 85 16        	sta	<L678+2+8
 17236 04:4B29: A5 0D        	lda	<L678+1
 17237 04:4B2B: 85 15        	sta	<L678+1+8
 17238 04:4B2D: 2B           	pld
 17239 04:4B2E: 3B           	tsc
 17240 04:4B2F: 18           	clc
 17241 04:4B30: 69 14 00     	adc	#L678+8
 17242 04:4B33: 1B           	tcs
 17243 04:4B34: 6B           	rtl
 17244                        	.endblock	3010
 17245             0000000C   L678	equ	12
 17246             00000005   L679	equ	5
 17247 04:4B35:              	ends
 17248                        	efunc
 17249                        	.endfunc	3010,5,12
 17250                        	.line	3010
 17251                        ;
 17252                        ;
 17253                        ;void debug_window_node(LPVOID ctx,LPVOID data)
 17254                        ;{
 17255                        	.line	3013
 17256                        	.line	3014
 17257                        	WINMAN
 17258                        	xdef	~~debug_window_node
 17259                        	func
 17260                        	.function	3014
 17261                        ~~debug_window_node:
 17262                        	longa	on
 17263                        	longi	on
 17264 04:4B35: 3B           	tsc
 17265 04:4B36: 38           	sec
 17266 04:4B37: E9 08 00     	sbc	#L686
 17267 04:4B3A: 1B           	tcs
 17268 04:4B3B: 0B           	phd
 17269 04:4B3C: 5B           	tcd
 17270             00000004   ctx_0	set	4
 17271             00000008   data_0	set	8
 17272                        	.block	3014
 17273                        ;	PWINDOW pWin = (PWINDOW)data;
 17274                        ;	if(pWin)
 17275             00000000   pWin_1	set	0
 17276                        	.sym	pWin,0,138,1,32,27
 17277                        	.sym	ctx,4,129,6,32
 17278                        	.sym	data,8,129,6,32
 17279 04:4B3D: A5 10        	lda	<L686+data_0
 17280 04:4B3F: 85 05        	sta	<L687+pWin_1
  Thu Dec  3 2020 22:25                                                Page 335


 17281 04:4B41: A5 12        	lda	<L686+data_0+2
 17282 04:4B43: 85 07        	sta	<L687+pWin_1+2
 17283                        	.line	3016
 17284                        ;	{
 17285 04:4B45: A5 05        	lda	<L687+pWin_1
 17286 04:4B47: 05 07        	ora	<L687+pWin_1+2
 17287 04:4B49: D0 03        	bne	L689
 17288 04:4B4B: 82 F4 00     	brl	L10265
 17289                        L689:
 17290                        	.line	3017
 17291                        ;		pWin->win_title[31] = 0;
 17292                        	.line	3018
 17293 04:4B4E: E2 20        	sep	#$20
 17294                        	longa	off
 17295 04:4B50: A9 00        	lda	#$0
 17296 04:4B52: A0 F3 00     	ldy	#$f3
 17297 04:4B55: 97 05        	sta	[<L687+pWin_1],Y
 17298 04:4B57: C2 20        	rep	#$20
 17299                        	longa	on
 17300                        ;		pWin->win_class[15] = 0;
 17301                        	.line	3019
 17302 04:4B59: E2 20        	sep	#$20
 17303                        	longa	off
 17304 04:4B5B: A9 00        	lda	#$0
 17305 04:4B5D: A0 05 01     	ldy	#$105
 17306 04:4B60: 97 05        	sta	[<L687+pWin_1],Y
 17307 04:4B62: C2 20        	rep	#$20
 17308                        	longa	on
 17309                        ;		k_debug_strings("      WINDOW TITLE:",pW
                    in->win_title);
 17310                        	.line	3020
 17311 04:4B64: 18           	clc
 17312 04:4B65: A9 D4 00     	lda	#$d4
 17313 04:4B68: 65 05        	adc	<L687+pWin_1
 17314 04:4B6A: 85 01        	sta	<R0
 17315 04:4B6C: A9 00 00     	lda	#$0
 17316 04:4B6F: 65 07        	adc	<L687+pWin_1+2
 17317 04:4B71: 85 03        	sta	<R0+2
 17318 04:4B73: D4 03        	pei	<R0+2
 17319 04:4B75: D4 01        	pei	<R0
 17320 04:4B77: F4 xx xx     	pea	#^L671
 17321 04:4B7A: F4 xx xx     	pea	#<L671
 17322 04:4B7D: 22 xx xx xx  	jsl	~~k_debug_strings
 17323                        ;		k_debug_pointer("      WINDOW CLASS:",pW
                    in->win_class);
 17324                        	.line	3021
 17325 04:4B81: 18           	clc
 17326 04:4B82: A9 F6 00     	lda	#$f6
 17327 04:4B85: 65 05        	adc	<L687+pWin_1
 17328 04:4B87: 85 01        	sta	<R0
 17329 04:4B89: A9 00 00     	lda	#$0
 17330 04:4B8C: 65 07        	adc	<L687+pWin_1+2
 17331 04:4B8E: 85 03        	sta	<R0+2
 17332 04:4B90: D4 03        	pei	<R0+2
 17333 04:4B92: D4 01        	pei	<R0
 17334 04:4B94: F4 xx xx     	pea	#^L671+20
 17335 04:4B97: F4 xx xx     	pea	#<L671+20
 17336 04:4B9A: 22 xx xx xx  	jsl	~~k_debug_pointer
  Thu Dec  3 2020 22:25                                                Page 336


 17337                        ;		k_debug_long   ("      WINDOW   PID:",pW
                    in->procid);
 17338                        	.line	3022
 17339 04:4B9E: A0 2A 01     	ldy	#$12a
 17340 04:4BA1: B7 05        	lda	[<L687+pWin_1],Y
 17341 04:4BA3: 48           	pha
 17342 04:4BA4: A0 28 01     	ldy	#$128
 17343 04:4BA7: B7 05        	lda	[<L687+pWin_1],Y
 17344 04:4BA9: 48           	pha
 17345 04:4BAA: F4 xx xx     	pea	#^L671+40
 17346 04:4BAD: F4 xx xx     	pea	#<L671+40
 17347 04:4BB0: 22 xx xx xx  	jsl	~~k_debug_long
 17348                        ;		k_debug_pointer("      WINDOW   PTR:",pW
                    in);
 17349                        	.line	3023
 17350 04:4BB4: D4 07        	pei	<L687+pWin_1+2
 17351 04:4BB6: D4 05        	pei	<L687+pWin_1
 17352 04:4BB8: F4 xx xx     	pea	#^L671+60
 17353 04:4BBB: F4 xx xx     	pea	#<L671+60
 17354 04:4BBE: 22 xx xx xx  	jsl	~~k_debug_pointer
 17355                        ;		k_debug_pointer("      WINDOW  PPTR:",pW
                    in->pParentWindow);
 17356                        	.line	3024
 17357 04:4BC2: A0 32 01     	ldy	#$132
 17358 04:4BC5: B7 05        	lda	[<L687+pWin_1],Y
 17359 04:4BC7: 48           	pha
 17360 04:4BC8: A0 30 01     	ldy	#$130
 17361 04:4BCB: B7 05        	lda	[<L687+pWin_1],Y
 17362 04:4BCD: 48           	pha
 17363 04:4BCE: F4 xx xx     	pea	#^L671+80
 17364 04:4BD1: F4 xx xx     	pea	#<L671+80
 17365 04:4BD4: 22 xx xx xx  	jsl	~~k_debug_pointer
 17366                        ;		k_debug_pointer("      WINDOW  CPTR:",pW
                    in->pChildWindows);
 17367                        	.line	3025
 17368 04:4BD8: A0 3A 01     	ldy	#$13a
 17369 04:4BDB: B7 05        	lda	[<L687+pWin_1],Y
 17370 04:4BDD: 48           	pha
 17371 04:4BDE: A0 38 01     	ldy	#$138
 17372 04:4BE1: B7 05        	lda	[<L687+pWin_1],Y
 17373 04:4BE3: 48           	pha
 17374 04:4BE4: F4 xx xx     	pea	#^L671+100
 17375 04:4BE7: F4 xx xx     	pea	#<L671+100
 17376 04:4BEA: 22 xx xx xx  	jsl	~~k_debug_pointer
 17377                        ;		k_debug_pointer("      WINDOW  HPTR:",pW
                    in->pChildHitList);
 17378                        	.line	3026
 17379 04:4BEE: A0 3E 01     	ldy	#$13e
 17380 04:4BF1: B7 05        	lda	[<L687+pWin_1],Y
 17381 04:4BF3: 48           	pha
 17382 04:4BF4: A0 3C 01     	ldy	#$13c
 17383 04:4BF7: B7 05        	lda	[<L687+pWin_1],Y
 17384 04:4BF9: 48           	pha
 17385 04:4BFA: F4 xx xx     	pea	#^L671+120
 17386 04:4BFD: F4 xx xx     	pea	#<L671+120
 17387 04:4C00: 22 xx xx xx  	jsl	~~k_debug_pointer
 17388                        ;		k_debug_integer("      WINDOW     X:",pW
                    in->win_x);
  Thu Dec  3 2020 22:25                                                Page 337


 17389                        	.line	3027
 17390 04:4C04: A0 08 00     	ldy	#$8
 17391 04:4C07: B7 05        	lda	[<L687+pWin_1],Y
 17392 04:4C09: 48           	pha
 17393 04:4C0A: F4 xx xx     	pea	#^L671+140
 17394 04:4C0D: F4 xx xx     	pea	#<L671+140
 17395 04:4C10: 22 xx xx xx  	jsl	~~k_debug_integer
 17396                        ;		k_debug_integer("      WINDOW     Y:",pW
                    in->win_y);
 17397                        	.line	3028
 17398 04:4C14: A0 0A 00     	ldy	#$a
 17399 04:4C17: B7 05        	lda	[<L687+pWin_1],Y
 17400 04:4C19: 48           	pha
 17401 04:4C1A: F4 xx xx     	pea	#^L671+160
 17402 04:4C1D: F4 xx xx     	pea	#<L671+160
 17403 04:4C20: 22 xx xx xx  	jsl	~~k_debug_integer
 17404                        ;
 17405                        ;		k_debug_integer("      WINDOW     Z:",((
                    PCLICKABLE)pWin->clickable)->z);
 17406                        	.line	3030
 17407 04:4C24: A0 D0 00     	ldy	#$d0
 17408 04:4C27: B7 05        	lda	[<L687+pWin_1],Y
 17409 04:4C29: 85 01        	sta	<R0
 17410 04:4C2B: A0 D2 00     	ldy	#$d2
 17411 04:4C2E: B7 05        	lda	[<L687+pWin_1],Y
 17412 04:4C30: 85 03        	sta	<R0+2
 17413 04:4C32: A0 08 00     	ldy	#$8
 17414 04:4C35: B7 01        	lda	[<R0],Y
 17415 04:4C37: 48           	pha
 17416 04:4C38: F4 xx xx     	pea	#^L671+180
 17417 04:4C3B: F4 xx xx     	pea	#<L671+180
 17418 04:4C3E: 22 xx xx xx  	jsl	~~k_debug_integer
 17419                        ;	}
 17420                        	.line	3031
 17421                        ;}
 17422                        L10265:
 17423                        	.line	3032
 17424                        L690:
 17425 04:4C42: A5 0A        	lda	<L686+2
 17426 04:4C44: 85 12        	sta	<L686+2+8
 17427 04:4C46: A5 09        	lda	<L686+1
 17428 04:4C48: 85 11        	sta	<L686+1+8
 17429 04:4C4A: 2B           	pld
 17430 04:4C4B: 3B           	tsc
 17431 04:4C4C: 18           	clc
 17432 04:4C4D: 69 10 00     	adc	#L686+8
 17433 04:4C50: 1B           	tcs
 17434 04:4C51: 6B           	rtl
 17435                        	.endblock	3032
 17436             00000008   L686	equ	8
 17437             00000005   L687	equ	5
 17438 04:4C52:              	ends
 17439                        	efunc
 17440                        	.endfunc	3032,5,8
 17441                        	.line	3032
 17442                        	data
 17443                        L671:
 17444 00:0DC6: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
  Thu Dec  3 2020 22:25                                                Page 338


                    $4F,$57,$20,$54,$49
       00:0DCA: 20 20 57 49 
       00:0DCE: 4E 44 4F 57 
       00:0DD2: 20 54 49 
 17445 00:0DD5: 54 4C 45 3A  	db	$54,$4C,$45,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0DD9: 00 20 20 20 
       00:0DDD: 20 20 20 57 
       00:0DE1: 49 4E 44 
 17446 00:0DE4: 4F 57 20 43  	db	$4F,$57,$20,$43,$4C,$41,$53,$53,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0DE8: 4C 41 53 53 
       00:0DEC: 3A 00 20 20 
       00:0DF0: 20 20 20 
 17447 00:0DF3: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $50,$49,$44,$3A,$00
       00:0DF7: 44 4F 57 20 
       00:0DFB: 20 20 50 49 
       00:0DFF: 44 3A 00 
 17448 00:0E02: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0E06: 20 20 57 49 
       00:0E0A: 4E 44 4F 57 
       00:0E0E: 20 20 20 
 17449 00:0E11: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0E15: 00 20 20 20 
       00:0E19: 20 20 20 57 
       00:0E1D: 49 4E 44 
 17450 00:0E20: 4F 57 20 20  	db	$4F,$57,$20,$20,$50,$50,$54,$52,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0E24: 50 50 54 52 
       00:0E28: 3A 00 20 20 
       00:0E2C: 20 20 20 
 17451 00:0E2F: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$43,
                    $50,$54,$52,$3A,$00
       00:0E33: 44 4F 57 20 
       00:0E37: 20 43 50 54 
       00:0E3B: 52 3A 00 
 17452 00:0E3E: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$48
       00:0E42: 20 20 57 49 
       00:0E46: 4E 44 4F 57 
       00:0E4A: 20 20 48 
 17453 00:0E4D: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0E51: 00 20 20 20 
       00:0E55: 20 20 20 57 
       00:0E59: 49 4E 44 
 17454 00:0E5C: 4F 57 20 20  	db	$4F,$57,$20,$20,$20,$20,$20,$58,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0E60: 20 20 20 58 
       00:0E64: 3A 00 20 20 
       00:0E68: 20 20 20 
 17455 00:0E6B: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $20,$20,$59,$3A,$00
       00:0E6F: 44 4F 57 20 
       00:0E73: 20 20 20 20 
  Thu Dec  3 2020 22:25                                                Page 339


       00:0E77: 59 3A 00 
 17456 00:0E7A: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0E7E: 20 20 57 49 
       00:0E82: 4E 44 4F 57 
       00:0E86: 20 20 20 
 17457 00:0E89: 20 20 5A 3A  	db	$20,$20,$5A,$3A,$00
       00:0E8D: 00 
 17458 00:0E8E:              	ends
 17459                        ;
 17460                        ;void debug_clickable_node(LPVOID ctx,LPVOID data)
 17461                        ;{
 17462                        	.line	3034
 17463                        	.line	3035
 17464                        	WINMAN
 17465                        	xdef	~~debug_clickable_node
 17466                        	func
 17467                        	.function	3035
 17468                        ~~debug_clickable_node:
 17469                        	longa	on
 17470                        	longi	on
 17471 04:4C52: 3B           	tsc
 17472 04:4C53: 38           	sec
 17473 04:4C54: E9 0C 00     	sbc	#L692
 17474 04:4C57: 1B           	tcs
 17475 04:4C58: 0B           	phd
 17476 04:4C59: 5B           	tcd
 17477             00000004   ctx_0	set	4
 17478             00000008   data_0	set	8
 17479                        	.block	3035
 17480                        ;	PCLICKDETECTED pclickable = ((PCLICKDETECTED)dat
                    a);
 17481                        ;	if(pclickable)
 17482             00000000   pclickable_1	set	0
 17483                        	.sym	pclickable,0,138,1,32,61
 17484                        	.sym	ctx,4,129,6,32
 17485                        	.sym	data,8,129,6,32
 17486 04:4C5A: A5 14        	lda	<L692+data_0
 17487 04:4C5C: 85 05        	sta	<L693+pclickable_1
 17488 04:4C5E: A5 16        	lda	<L692+data_0+2
 17489 04:4C60: 85 07        	sta	<L693+pclickable_1+2
 17490                        	.line	3037
 17491                        ;	{
 17492 04:4C62: A5 05        	lda	<L693+pclickable_1
 17493 04:4C64: 05 07        	ora	<L693+pclickable_1+2
 17494 04:4C66: D0 03        	bne	L695
 17495 04:4C68: 82 08 01     	brl	L10266
 17496                        L695:
 17497                        	.line	3038
 17498                        ;		PWINDOW pWin = pclickable->window;
 17499                        ;		if(pWin)
 17500                        	.block	3040
 17501             00000004   pWin_2	set	4
 17502                        	.sym	pWin,4,138,1,32,27
 17503 04:4C6B: A7 05        	lda	[<L693+pclickable_1]
 17504 04:4C6D: 85 09        	sta	<L693+pWin_2
 17505 04:4C6F: A0 02 00     	ldy	#$2
 17506 04:4C72: B7 05        	lda	[<L693+pclickable_1],Y
  Thu Dec  3 2020 22:25                                                Page 340


 17507 04:4C74: 85 0B        	sta	<L693+pWin_2+2
 17508                        	.line	3040
 17509                        ;		{
 17510 04:4C76: A5 09        	lda	<L693+pWin_2
 17511 04:4C78: 05 0B        	ora	<L693+pWin_2+2
 17512 04:4C7A: D0 03        	bne	L697
 17513 04:4C7C: 82 F4 00     	brl	L10267
 17514                        L697:
 17515                        	.line	3041
 17516                        ;			pWin->win_title[31] = 0;
 17517                        	.line	3042
 17518 04:4C7F: E2 20        	sep	#$20
 17519                        	longa	off
 17520 04:4C81: A9 00        	lda	#$0
 17521 04:4C83: A0 F3 00     	ldy	#$f3
 17522 04:4C86: 97 09        	sta	[<L693+pWin_2],Y
 17523 04:4C88: C2 20        	rep	#$20
 17524                        	longa	on
 17525                        ;			pWin->win_class[15] = 0;
 17526                        	.line	3043
 17527 04:4C8A: E2 20        	sep	#$20
 17528                        	longa	off
 17529 04:4C8C: A9 00        	lda	#$0
 17530 04:4C8E: A0 05 01     	ldy	#$105
 17531 04:4C91: 97 09        	sta	[<L693+pWin_2],Y
 17532 04:4C93: C2 20        	rep	#$20
 17533                        	longa	on
 17534                        ;			k_debug_strings("      WINDOW TI
                    TLE:",pWin->win_title);
 17535                        	.line	3044
 17536 04:4C95: 18           	clc
 17537 04:4C96: A9 D4 00     	lda	#$d4
 17538 04:4C99: 65 09        	adc	<L693+pWin_2
 17539 04:4C9B: 85 01        	sta	<R0
 17540 04:4C9D: A9 00 00     	lda	#$0
 17541 04:4CA0: 65 0B        	adc	<L693+pWin_2+2
 17542 04:4CA2: 85 03        	sta	<R0+2
 17543 04:4CA4: D4 03        	pei	<R0+2
 17544 04:4CA6: D4 01        	pei	<R0
 17545 04:4CA8: F4 xx xx     	pea	#^L691
 17546 04:4CAB: F4 xx xx     	pea	#<L691
 17547 04:4CAE: 22 xx xx xx  	jsl	~~k_debug_strings
 17548                        ;			k_debug_pointer("      WINDOW CL
                    ASS:",pWin->win_class);
 17549                        	.line	3045
 17550 04:4CB2: 18           	clc
 17551 04:4CB3: A9 F6 00     	lda	#$f6
 17552 04:4CB6: 65 09        	adc	<L693+pWin_2
 17553 04:4CB8: 85 01        	sta	<R0
 17554 04:4CBA: A9 00 00     	lda	#$0
 17555 04:4CBD: 65 0B        	adc	<L693+pWin_2+2
 17556 04:4CBF: 85 03        	sta	<R0+2
 17557 04:4CC1: D4 03        	pei	<R0+2
 17558 04:4CC3: D4 01        	pei	<R0
 17559 04:4CC5: F4 xx xx     	pea	#^L691+20
 17560 04:4CC8: F4 xx xx     	pea	#<L691+20
 17561 04:4CCB: 22 xx xx xx  	jsl	~~k_debug_pointer
 17562                        ;			k_debug_long   ("      WINDOW   
  Thu Dec  3 2020 22:25                                                Page 341


                    PID:",pWin->procid);
 17563                        	.line	3046
 17564 04:4CCF: A0 2A 01     	ldy	#$12a
 17565 04:4CD2: B7 09        	lda	[<L693+pWin_2],Y
 17566 04:4CD4: 48           	pha
 17567 04:4CD5: A0 28 01     	ldy	#$128
 17568 04:4CD8: B7 09        	lda	[<L693+pWin_2],Y
 17569 04:4CDA: 48           	pha
 17570 04:4CDB: F4 xx xx     	pea	#^L691+40
 17571 04:4CDE: F4 xx xx     	pea	#<L691+40
 17572 04:4CE1: 22 xx xx xx  	jsl	~~k_debug_long
 17573                        ;			k_debug_pointer("      WINDOW   
                    PTR:",pWin);
 17574                        	.line	3047
 17575 04:4CE5: D4 0B        	pei	<L693+pWin_2+2
 17576 04:4CE7: D4 09        	pei	<L693+pWin_2
 17577 04:4CE9: F4 xx xx     	pea	#^L691+60
 17578 04:4CEC: F4 xx xx     	pea	#<L691+60
 17579 04:4CEF: 22 xx xx xx  	jsl	~~k_debug_pointer
 17580                        ;			k_debug_pointer("      WINDOW  P
                    PTR:",pWin->pParentWindow);
 17581                        	.line	3048
 17582 04:4CF3: A0 32 01     	ldy	#$132
 17583 04:4CF6: B7 09        	lda	[<L693+pWin_2],Y
 17584 04:4CF8: 48           	pha
 17585 04:4CF9: A0 30 01     	ldy	#$130
 17586 04:4CFC: B7 09        	lda	[<L693+pWin_2],Y
 17587 04:4CFE: 48           	pha
 17588 04:4CFF: F4 xx xx     	pea	#^L691+80
 17589 04:4D02: F4 xx xx     	pea	#<L691+80
 17590 04:4D05: 22 xx xx xx  	jsl	~~k_debug_pointer
 17591                        ;			k_debug_pointer("      WINDOW  C
                    PTR:",pWin->pChildWindows);
 17592                        	.line	3049
 17593 04:4D09: A0 3A 01     	ldy	#$13a
 17594 04:4D0C: B7 09        	lda	[<L693+pWin_2],Y
 17595 04:4D0E: 48           	pha
 17596 04:4D0F: A0 38 01     	ldy	#$138
 17597 04:4D12: B7 09        	lda	[<L693+pWin_2],Y
 17598 04:4D14: 48           	pha
 17599 04:4D15: F4 xx xx     	pea	#^L691+100
 17600 04:4D18: F4 xx xx     	pea	#<L691+100
 17601 04:4D1B: 22 xx xx xx  	jsl	~~k_debug_pointer
 17602                        ;			k_debug_pointer("      WINDOW  H
                    PTR:",pWin->pChildHitList);
 17603                        	.line	3050
 17604 04:4D1F: A0 3E 01     	ldy	#$13e
 17605 04:4D22: B7 09        	lda	[<L693+pWin_2],Y
 17606 04:4D24: 48           	pha
 17607 04:4D25: A0 3C 01     	ldy	#$13c
 17608 04:4D28: B7 09        	lda	[<L693+pWin_2],Y
 17609 04:4D2A: 48           	pha
 17610 04:4D2B: F4 xx xx     	pea	#^L691+120
 17611 04:4D2E: F4 xx xx     	pea	#<L691+120
 17612 04:4D31: 22 xx xx xx  	jsl	~~k_debug_pointer
 17613                        ;			k_debug_integer("      WINDOW   
                      X:",pWin->win_x);
 17614                        	.line	3051
  Thu Dec  3 2020 22:25                                                Page 342


 17615 04:4D35: A0 08 00     	ldy	#$8
 17616 04:4D38: B7 09        	lda	[<L693+pWin_2],Y
 17617 04:4D3A: 48           	pha
 17618 04:4D3B: F4 xx xx     	pea	#^L691+140
 17619 04:4D3E: F4 xx xx     	pea	#<L691+140
 17620 04:4D41: 22 xx xx xx  	jsl	~~k_debug_integer
 17621                        ;			k_debug_integer("      WINDOW   
                      Y:",pWin->win_y);
 17622                        	.line	3052
 17623 04:4D45: A0 0A 00     	ldy	#$a
 17624 04:4D48: B7 09        	lda	[<L693+pWin_2],Y
 17625 04:4D4A: 48           	pha
 17626 04:4D4B: F4 xx xx     	pea	#^L691+160
 17627 04:4D4E: F4 xx xx     	pea	#<L691+160
 17628 04:4D51: 22 xx xx xx  	jsl	~~k_debug_integer
 17629                        ;			k_debug_integer("      WINDOW   
                      Z:",((PCLICKABLE)pWin->clickable)->z);
 17630                        	.line	3053
 17631 04:4D55: A0 D0 00     	ldy	#$d0
 17632 04:4D58: B7 09        	lda	[<L693+pWin_2],Y
 17633 04:4D5A: 85 01        	sta	<R0
 17634 04:4D5C: A0 D2 00     	ldy	#$d2
 17635 04:4D5F: B7 09        	lda	[<L693+pWin_2],Y
 17636 04:4D61: 85 03        	sta	<R0+2
 17637 04:4D63: A0 08 00     	ldy	#$8
 17638 04:4D66: B7 01        	lda	[<R0],Y
 17639 04:4D68: 48           	pha
 17640 04:4D69: F4 xx xx     	pea	#^L691+180
 17641 04:4D6C: F4 xx xx     	pea	#<L691+180
 17642 04:4D6F: 22 xx xx xx  	jsl	~~k_debug_integer
 17643                        ;		}
 17644                        	.line	3054
 17645                        ;	}
 17646                        L10267:
 17647                        	.endblock	3055
 17648                        	.line	3055
 17649                        ;}
 17650                        L10266:
 17651                        	.line	3056
 17652                        L698:
 17653 04:4D73: A5 0E        	lda	<L692+2
 17654 04:4D75: 85 16        	sta	<L692+2+8
 17655 04:4D77: A5 0D        	lda	<L692+1
 17656 04:4D79: 85 15        	sta	<L692+1+8
 17657 04:4D7B: 2B           	pld
 17658 04:4D7C: 3B           	tsc
 17659 04:4D7D: 18           	clc
 17660 04:4D7E: 69 14 00     	adc	#L692+8
 17661 04:4D81: 1B           	tcs
 17662 04:4D82: 6B           	rtl
 17663                        	.endblock	3056
 17664             0000000C   L692	equ	12
 17665             00000005   L693	equ	5
 17666 04:4D83:              	ends
 17667                        	efunc
 17668                        	.endfunc	3056,5,12
 17669                        	.line	3056
 17670                        	data
  Thu Dec  3 2020 22:25                                                Page 343


 17671                        L691:
 17672 00:0E8E: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$54,$49
       00:0E92: 20 20 57 49 
       00:0E96: 4E 44 4F 57 
       00:0E9A: 20 54 49 
 17673 00:0E9D: 54 4C 45 3A  	db	$54,$4C,$45,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0EA1: 00 20 20 20 
       00:0EA5: 20 20 20 57 
       00:0EA9: 49 4E 44 
 17674 00:0EAC: 4F 57 20 43  	db	$4F,$57,$20,$43,$4C,$41,$53,$53,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0EB0: 4C 41 53 53 
       00:0EB4: 3A 00 20 20 
       00:0EB8: 20 20 20 
 17675 00:0EBB: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $50,$49,$44,$3A,$00
       00:0EBF: 44 4F 57 20 
       00:0EC3: 20 20 50 49 
       00:0EC7: 44 3A 00 
 17676 00:0ECA: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0ECE: 20 20 57 49 
       00:0ED2: 4E 44 4F 57 
       00:0ED6: 20 20 20 
 17677 00:0ED9: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0EDD: 00 20 20 20 
       00:0EE1: 20 20 20 57 
       00:0EE5: 49 4E 44 
 17678 00:0EE8: 4F 57 20 20  	db	$4F,$57,$20,$20,$50,$50,$54,$52,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0EEC: 50 50 54 52 
       00:0EF0: 3A 00 20 20 
       00:0EF4: 20 20 20 
 17679 00:0EF7: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$43,
                    $50,$54,$52,$3A,$00
       00:0EFB: 44 4F 57 20 
       00:0EFF: 20 43 50 54 
       00:0F03: 52 3A 00 
 17680 00:0F06: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$48
       00:0F0A: 20 20 57 49 
       00:0F0E: 4E 44 4F 57 
       00:0F12: 20 20 48 
 17681 00:0F15: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0F19: 00 20 20 20 
       00:0F1D: 20 20 20 57 
       00:0F21: 49 4E 44 
 17682 00:0F24: 4F 57 20 20  	db	$4F,$57,$20,$20,$20,$20,$20,$58,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0F28: 20 20 20 58 
       00:0F2C: 3A 00 20 20 
       00:0F30: 20 20 20 
 17683 00:0F33: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $20,$20,$59,$3A,$00
  Thu Dec  3 2020 22:25                                                Page 344


       00:0F37: 44 4F 57 20 
       00:0F3B: 20 20 20 20 
       00:0F3F: 59 3A 00 
 17684 00:0F42: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0F46: 20 20 57 49 
       00:0F4A: 4E 44 4F 57 
       00:0F4E: 20 20 20 
 17685 00:0F51: 20 20 5A 3A  	db	$20,$20,$5A,$3A,$00
       00:0F55: 00 
 17686 00:0F56:              	ends
 17687                        ;
 17688                        ;BOOL DefWindowProc(PFXOSMESSAGE pMsg)
 17689                        ;{
 17690                        	.line	3058
 17691                        	.line	3059
 17692                        	WINMAN
 17693                        	xdef	~~DefWindowProc
 17694                        	func
 17695                        	.function	3059
 17696                        ~~DefWindowProc:
 17697                        	longa	on
 17698                        	longi	on
 17699 04:4D83: 3B           	tsc
 17700 04:4D84: 38           	sec
 17701 04:4D85: E9 37 00     	sbc	#L700
 17702 04:4D88: 1B           	tcs
 17703 04:4D89: 0B           	phd
 17704 04:4D8A: 5B           	tcd
 17705             00000004   pMsg_0	set	4
 17706                        	.block	3059
 17707                        ;	PFXPROCESS p = NULL;
 17708                        ;	PWINDOW	   pWin = NULL;
 17709                        ;	PPOINT 	   ppoint = NULL;
 17710                        ;	RECT 	   clientRect;
 17711                        ;	INT 	   cx,cy,dx,dy,bx,by,gx,gy,index;
 17712                        ;
 17713                        ;	PDRAGDATA defPrcData = NULL;
 17714                        ;
 17715                        ;	BOOL bRet = TRUE;
 17716                        ;
 17717                        ;	if(pMsg)
 17718             00000000   p_1	set	0
 17719             00000004   pWin_1	set	4
 17720             00000008   ppoint_1	set	8
 17721             0000000C   clientRect_1	set	12
 17722             00000014   cx_1	set	20
 17723             00000016   cy_1	set	22
 17724             00000018   dx_1	set	24
 17725             0000001A   dy_1	set	26
 17726             0000001C   bx_1	set	28
 17727             0000001E   by_1	set	30
 17728             00000020   gx_1	set	32
 17729             00000022   gy_1	set	34
 17730             00000024   index_1	set	36
 17731             00000026   defPrcData_1	set	38
 17732             0000002A   bRet_1	set	42
 17733                        	.sym	p,0,138,1,32,17
  Thu Dec  3 2020 22:25                                                Page 345


 17734                        	.sym	pWin,4,138,1,32,27
 17735                        	.sym	ppoint,8,138,1,32,21
 17736                        	.sym	clientRect,12,10,1,64,22
 17737                        	.sym	cx,20,5,1,16
 17738                        	.sym	cy,22,5,1,16
 17739                        	.sym	dx,24,5,1,16
 17740                        	.sym	dy,26,5,1,16
 17741                        	.sym	bx,28,5,1,16
 17742                        	.sym	by,30,5,1,16
 17743                        	.sym	gx,32,5,1,16
 17744                        	.sym	gy,34,5,1,16
 17745                        	.sym	index,36,5,1,16
 17746                        	.sym	defPrcData,38,138,1,32,26
 17747                        	.sym	bRet,42,14,1,8
 17748                        	.sym	pMsg,4,138,6,32,13
 17749 04:4D8B: 64 0D        	stz	<L701+p_1
 17750 04:4D8D: 64 0F        	stz	<L701+p_1+2
 17751 04:4D8F: 64 11        	stz	<L701+pWin_1
 17752 04:4D91: 64 13        	stz	<L701+pWin_1+2
 17753 04:4D93: 64 15        	stz	<L701+ppoint_1
 17754 04:4D95: 64 17        	stz	<L701+ppoint_1+2
 17755 04:4D97: 64 33        	stz	<L701+defPrcData_1
 17756 04:4D99: 64 35        	stz	<L701+defPrcData_1+2
 17757 04:4D9B: E2 20        	sep	#$20
 17758                        	longa	off
 17759 04:4D9D: A9 01        	lda	#$1
 17760 04:4D9F: 85 37        	sta	<L701+bRet_1
 17761 04:4DA1: C2 20        	rep	#$20
 17762                        	longa	on
 17763                        	.line	3070
 17764                        ;	{
 17765 04:4DA3: A5 3B        	lda	<L700+pMsg_0
 17766 04:4DA5: 05 3D        	ora	<L700+pMsg_0+2
 17767 04:4DA7: D0 03        	bne	L703
 17768 04:4DA9: 82 5E 08     	brl	L10268
 17769                        L703:
 17770                        	.line	3071
 17771                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 17772                        	.line	3072
 17773 04:4DAC: A0 0C 00     	ldy	#$c
 17774 04:4DAF: B7 3B        	lda	[<L700+pMsg_0],Y
 17775 04:4DB1: 48           	pha
 17776 04:4DB2: A0 0A 00     	ldy	#$a
 17777 04:4DB5: B7 3B        	lda	[<L700+pMsg_0],Y
 17778 04:4DB7: 48           	pha
 17779 04:4DB8: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 17780 04:4DBC: 85 11        	sta	<L701+pWin_1
 17781 04:4DBE: 86 13        	stx	<L701+pWin_1+2
 17782                        ;
 17783                        ;		defPrcData = (PDRAGDATA)k_user_GetWindow
                    Data(pMsg->hwnd,CLIENTDATA_DEFAULT);
 17784                        	.line	3074
 17785 04:4DC0: F4 00 00     	pea	#<$0
 17786 04:4DC3: A0 0C 00     	ldy	#$c
 17787 04:4DC6: B7 3B        	lda	[<L700+pMsg_0],Y
 17788 04:4DC8: 48           	pha
 17789 04:4DC9: A0 0A 00     	ldy	#$a
  Thu Dec  3 2020 22:25                                                Page 346


 17790 04:4DCC: B7 3B        	lda	[<L700+pMsg_0],Y
 17791 04:4DCE: 48           	pha
 17792 04:4DCF: 22 2D 1A 04  	jsl	~~k_user_GetWindowData
 17793 04:4DD3: 85 33        	sta	<L701+defPrcData_1
 17794 04:4DD5: 86 35        	stx	<L701+defPrcData_1+2
 17795                        ;		if(defPrcData == NULL)
 17796                        	.line	3075
 17797                        ;		{
 17798 04:4DD7: A5 33        	lda	<L701+defPrcData_1
 17799 04:4DD9: 05 35        	ora	<L701+defPrcData_1+2
 17800 04:4DDB: F0 03        	beq	L704
 17801 04:4DDD: 82 46 00     	brl	L10269
 17802                        L704:
 17803                        	.line	3076
 17804                        ;			k_debug_pointer("DefWndProc::def
                    PrcData[create]:pMsg->hwnd:",pMsg->hwnd);
 17805                        	.line	3077
 17806 04:4DE0: A0 0C 00     	ldy	#$c
 17807 04:4DE3: B7 3B        	lda	[<L700+pMsg_0],Y
 17808 04:4DE5: 48           	pha
 17809 04:4DE6: A0 0A 00     	ldy	#$a
 17810 04:4DE9: B7 3B        	lda	[<L700+pMsg_0],Y
 17811 04:4DEB: 48           	pha
 17812 04:4DEC: F4 xx xx     	pea	#^L699
 17813 04:4DEF: F4 xx xx     	pea	#<L699
 17814 04:4DF2: 22 xx xx xx  	jsl	~~k_debug_pointer
 17815                        ;			defPrcData = (PDRAGDATA)k_mem_al
                    locate_heap(sizeof(DRAGDATA));
 17816                        	.line	3078
 17817 04:4DF6: F4 11 00     	pea	#<$11
 17818 04:4DF9: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 17819 04:4DFD: 85 33        	sta	<L701+defPrcData_1
 17820 04:4DFF: 86 35        	stx	<L701+defPrcData_1+2
 17821                        ;			k_user_SetWindowData(pMsg->hwnd,
                    CLIENTDATA_DEFAULT,(LPVOID)defPrcData);
 17822                        	.line	3079
 17823 04:4E01: D4 35        	pei	<L701+defPrcData_1+2
 17824 04:4E03: D4 33        	pei	<L701+defPrcData_1
 17825 04:4E05: F4 00 00     	pea	#<$0
 17826 04:4E08: A0 0C 00     	ldy	#$c
 17827 04:4E0B: B7 3B        	lda	[<L700+pMsg_0],Y
 17828 04:4E0D: 48           	pha
 17829 04:4E0E: A0 0A 00     	ldy	#$a
 17830 04:4E11: B7 3B        	lda	[<L700+pMsg_0],Y
 17831 04:4E13: 48           	pha
 17832 04:4E14: 22 98 19 04  	jsl	~~k_user_SetWindowData
 17833                        ;			memset(defPrcData,0,sizeof(DRAGD
                    ATA));
 17834                        	.line	3080
 17835 04:4E18: F4 11 00     	pea	#<$11
 17836 04:4E1B: F4 00 00     	pea	#<$0
 17837 04:4E1E: D4 35        	pei	<L701+defPrcData_1+2
 17838 04:4E20: D4 33        	pei	<L701+defPrcData_1
 17839 04:4E22: 22 xx xx xx  	jsl	~~memset
 17840                        ;		}
 17841                        	.line	3081
 17842                        ;
 17843                        ;		//k_debug_pointer("DefWndProc::defPrcDat
  Thu Dec  3 2020 22:25                                                Page 347


                    a:",defPrcData);
 17844                        ;
 17845                        ;		//k_debug_integer(" *** DefWndProc::Type
                    :",pMsg->type);
 17846                        ;		if(pMsg!=NULL)
 17847                        L10269:
 17848                        	.line	3086
 17849                        ;		{
 17850 04:4E26: A5 3B        	lda	<L700+pMsg_0
 17851 04:4E28: 05 3D        	ora	<L700+pMsg_0+2
 17852 04:4E2A: D0 03        	bne	L705
 17853 04:4E2C: 82 DB 07     	brl	L10270
 17854                        L705:
 17855                        	.line	3087
 17856                        ;			p = k_exec_get_current_process()
                    ;
 17857                        	.line	3088
 17858 04:4E2F: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 17859 04:4E33: 85 0D        	sta	<L701+p_1
 17860 04:4E35: 86 0F        	stx	<L701+p_1+2
 17861                        ;			switch(pMsg->type)
 17862                        	.line	3089
 17863 04:4E37: A0 08 00     	ldy	#$8
 17864 04:4E3A: B7 3B        	lda	[<L700+pMsg_0],Y
 17865 04:4E3C: 82 8B 07     	brl	L10271
 17866                        ;			{
 17867                        	.line	3090
 17868                        ;
 17869                        ;			case FX_RESIZE_WINDOW_START:
 17870                        	.line	3092
 17871                        L10273:
 17872                        ;				k_debug_strings("DefWind
                    owProc::FX_RESIZE_WINDOW_START:",pWin->win_title);
 17873                        	.line	3093
 17874 04:4E3F: 18           	clc
 17875 04:4E40: A9 D4 00     	lda	#$d4
 17876 04:4E43: 65 11        	adc	<L701+pWin_1
 17877 04:4E45: 85 01        	sta	<R0
 17878 04:4E47: A9 00 00     	lda	#$0
 17879 04:4E4A: 65 13        	adc	<L701+pWin_1+2
 17880 04:4E4C: 85 03        	sta	<R0+2
 17881 04:4E4E: D4 03        	pei	<R0+2
 17882 04:4E50: D4 01        	pei	<R0
 17883 04:4E52: F4 xx xx     	pea	#^L699+43
 17884 04:4E55: F4 xx xx     	pea	#<L699+43
 17885 04:4E58: 22 xx xx xx  	jsl	~~k_debug_strings
 17886                        ;				break;
 17887                        	.line	3094
 17888 04:4E5C: 82 AB 07     	brl	L10272
 17889                        ;			case FX_RESIZE_WINDOW_END:
 17890                        	.line	3095
 17891                        L10274:
 17892                        ;				k_debug_strings("DefWind
                    owProc::FX_RESIZE_WINDOW_END:",pWin->win_title);
 17893                        	.line	3096
 17894 04:4E5F: 18           	clc
 17895 04:4E60: A9 D4 00     	lda	#$d4
 17896 04:4E63: 65 11        	adc	<L701+pWin_1
  Thu Dec  3 2020 22:25                                                Page 348


 17897 04:4E65: 85 01        	sta	<R0
 17898 04:4E67: A9 00 00     	lda	#$0
 17899 04:4E6A: 65 13        	adc	<L701+pWin_1+2
 17900 04:4E6C: 85 03        	sta	<R0+2
 17901 04:4E6E: D4 03        	pei	<R0+2
 17902 04:4E70: D4 01        	pei	<R0
 17903 04:4E72: F4 xx xx     	pea	#^L699+82
 17904 04:4E75: F4 xx xx     	pea	#<L699+82
 17905 04:4E78: 22 xx xx xx  	jsl	~~k_debug_strings
 17906                        ;				break;
 17907                        	.line	3097
 17908 04:4E7C: 82 8B 07     	brl	L10272
 17909                        ;			case FX_DRAG_WINDOW_START:
 17910                        	.line	3098
 17911                        L10275:
 17912                        ;				k_debug_strings("DefWind
                    owProc::FX_DRAG_WINDOW_START:",pWin->win_title);
 17913                        	.line	3099
 17914 04:4E7F: 18           	clc
 17915 04:4E80: A9 D4 00     	lda	#$d4
 17916 04:4E83: 65 11        	adc	<L701+pWin_1
 17917 04:4E85: 85 01        	sta	<R0
 17918 04:4E87: A9 00 00     	lda	#$0
 17919 04:4E8A: 65 13        	adc	<L701+pWin_1+2
 17920 04:4E8C: 85 03        	sta	<R0+2
 17921 04:4E8E: D4 03        	pei	<R0+2
 17922 04:4E90: D4 01        	pei	<R0
 17923 04:4E92: F4 xx xx     	pea	#^L699+119
 17924 04:4E95: F4 xx xx     	pea	#<L699+119
 17925 04:4E98: 22 xx xx xx  	jsl	~~k_debug_strings
 17926                        ;				k_user_StartWindowForDra
                    g(pMsg->hwnd,cx,cy);
 17927                        	.line	3100
 17928 04:4E9C: D4 23        	pei	<L701+cy_1
 17929 04:4E9E: D4 21        	pei	<L701+cx_1
 17930 04:4EA0: A0 0C 00     	ldy	#$c
 17931 04:4EA3: B7 3B        	lda	[<L700+pMsg_0],Y
 17932 04:4EA5: 48           	pha
 17933 04:4EA6: A0 0A 00     	ldy	#$a
 17934 04:4EA9: B7 3B        	lda	[<L700+pMsg_0],Y
 17935 04:4EAB: 48           	pha
 17936 04:4EAC: 22 F3 56 04  	jsl	~~k_user_StartWindowForDrag
 17937                        ;				break;
 17938                        	.line	3101
 17939 04:4EB0: 82 57 07     	brl	L10272
 17940                        ;			case FX_DRAG_WINDOW_END:
 17941                        	.line	3102
 17942                        L10276:
 17943                        ;				k_debug_strings("DefWind
                    owProc::FX_DRAG_WINDOW_END:",pWin->win_title);
 17944                        	.line	3103
 17945 04:4EB3: 18           	clc
 17946 04:4EB4: A9 D4 00     	lda	#$d4
 17947 04:4EB7: 65 11        	adc	<L701+pWin_1
 17948 04:4EB9: 85 01        	sta	<R0
 17949 04:4EBB: A9 00 00     	lda	#$0
 17950 04:4EBE: 65 13        	adc	<L701+pWin_1+2
 17951 04:4EC0: 85 03        	sta	<R0+2
  Thu Dec  3 2020 22:25                                                Page 349


 17952 04:4EC2: D4 03        	pei	<R0+2
 17953 04:4EC4: D4 01        	pei	<R0
 17954 04:4EC6: F4 xx xx     	pea	#^L699+156
 17955 04:4EC9: F4 xx xx     	pea	#<L699+156
 17956 04:4ECC: 22 xx xx xx  	jsl	~~k_debug_strings
 17957                        ;				k_user_EndWindowForDrag(
                    pMsg->hwnd,defPrcData->area.x,defPrcData->area.y);
 17958                        	.line	3104
 17959 04:4ED0: A0 02 00     	ldy	#$2
 17960 04:4ED3: B7 33        	lda	[<L701+defPrcData_1],Y
 17961 04:4ED5: 48           	pha
 17962 04:4ED6: A7 33        	lda	[<L701+defPrcData_1]
 17963 04:4ED8: 48           	pha
 17964 04:4ED9: A0 0C 00     	ldy	#$c
 17965 04:4EDC: B7 3B        	lda	[<L700+pMsg_0],Y
 17966 04:4EDE: 48           	pha
 17967 04:4EDF: A0 0A 00     	ldy	#$a
 17968 04:4EE2: B7 3B        	lda	[<L700+pMsg_0],Y
 17969 04:4EE4: 48           	pha
 17970 04:4EE5: 22 21 56 04  	jsl	~~k_user_EndWindowForDrag
 17971                        ;				break;
 17972                        	.line	3105
 17973 04:4EE9: 82 1E 07     	brl	L10272
 17974                        ;			case FX_WINDOW_CLOSE:
 17975                        	.line	3106
 17976                        L10277:
 17977                        ;				k_debug_strings("DefWind
                    owProc::FX_WINDOW_CLOSE:",pWin->win_title);
 17978                        	.line	3107
 17979 04:4EEC: 18           	clc
 17980 04:4EED: A9 D4 00     	lda	#$d4
 17981 04:4EF0: 65 11        	adc	<L701+pWin_1
 17982 04:4EF2: 85 01        	sta	<R0
 17983 04:4EF4: A9 00 00     	lda	#$0
 17984 04:4EF7: 65 13        	adc	<L701+pWin_1+2
 17985 04:4EF9: 85 03        	sta	<R0+2
 17986 04:4EFB: D4 03        	pei	<R0+2
 17987 04:4EFD: D4 01        	pei	<R0
 17988 04:4EFF: F4 xx xx     	pea	#^L699+191
 17989 04:4F02: F4 xx xx     	pea	#<L699+191
 17990 04:4F05: 22 xx xx xx  	jsl	~~k_debug_strings
 17991                        ;				bRet = k_user_DestroyWin
                    dow(pMsg->hwnd);
 17992                        	.line	3108
 17993 04:4F09: A0 0C 00     	ldy	#$c
 17994 04:4F0C: B7 3B        	lda	[<L700+pMsg_0],Y
 17995 04:4F0E: 48           	pha
 17996 04:4F0F: A0 0A 00     	ldy	#$a
 17997 04:4F12: B7 3B        	lda	[<L700+pMsg_0],Y
 17998 04:4F14: 48           	pha
 17999 04:4F15: 22 FC 12 04  	jsl	~~k_user_DestroyWindow
 18000 04:4F19: E2 20        	sep	#$20
 18001                        	longa	off
 18002 04:4F1B: 85 37        	sta	<L701+bRet_1
 18003 04:4F1D: C2 20        	rep	#$20
 18004                        	longa	on
 18005                        ;				break;
 18006                        	.line	3109
  Thu Dec  3 2020 22:25                                                Page 350


 18007 04:4F1F: 82 E8 06     	brl	L10272
 18008                        ;			case FX_RESIZE_WINDOW:
 18009                        	.line	3110
 18010                        L10278:
 18011                        ;				k_debug_strings("DefWind
                    owProc::FX_RESIZE_WINDOW:",pWin->win_title);
 18012                        	.line	3111
 18013 04:4F22: 18           	clc
 18014 04:4F23: A9 D4 00     	lda	#$d4
 18015 04:4F26: 65 11        	adc	<L701+pWin_1
 18016 04:4F28: 85 01        	sta	<R0
 18017 04:4F2A: A9 00 00     	lda	#$0
 18018 04:4F2D: 65 13        	adc	<L701+pWin_1+2
 18019 04:4F2F: 85 03        	sta	<R0+2
 18020 04:4F31: D4 03        	pei	<R0+2
 18021 04:4F33: D4 01        	pei	<R0
 18022 04:4F35: F4 xx xx     	pea	#^L699+223
 18023 04:4F38: F4 xx xx     	pea	#<L699+223
 18024 04:4F3B: 22 xx xx xx  	jsl	~~k_debug_strings
 18025                        ;				break;
 18026                        	.line	3112
 18027 04:4F3F: 82 C8 06     	brl	L10272
 18028                        ;			case FX_LBUTTON_DOWN:
 18029                        	.line	3113
 18030                        L10279:
 18031                        ;				k_debug_strings("DefWind
                    owProc::FX_LBUTTON_DOWN:",pWin->win_title);
 18032                        	.line	3114
 18033 04:4F42: 18           	clc
 18034 04:4F43: A9 D4 00     	lda	#$d4
 18035 04:4F46: 65 11        	adc	<L701+pWin_1
 18036 04:4F48: 85 01        	sta	<R0
 18037 04:4F4A: A9 00 00     	lda	#$0
 18038 04:4F4D: 65 13        	adc	<L701+pWin_1+2
 18039 04:4F4F: 85 03        	sta	<R0+2
 18040 04:4F51: D4 03        	pei	<R0+2
 18041 04:4F53: D4 01        	pei	<R0
 18042 04:4F55: F4 xx xx     	pea	#^L699+256
 18043 04:4F58: F4 xx xx     	pea	#<L699+256
 18044 04:4F5B: 22 xx xx xx  	jsl	~~k_debug_strings
 18045                        ;				break;
 18046                        	.line	3115
 18047 04:4F5F: 82 A8 06     	brl	L10272
 18048                        ;			case FX_DRAW_NONCLIENT:
 18049                        	.line	3116
 18050                        L10280:
 18051                        ;
 18052                        ;				k_debug_string("DefWindo
                    wProc::FX_DRAW_NONCLIENT\r\n");
 18053                        	.line	3118
 18054 04:4F62: F4 xx xx     	pea	#^L699+288
 18055 04:4F65: F4 xx xx     	pea	#<L699+288
 18056 04:4F68: 22 xx xx xx  	jsl	~~k_debug_string
 18057                        ;				/*
 18058                        ;				k_draw_nonclient_area((P
                    RECT)&pWin->win_x,
 18059                        ;							
                              &clientRect,
  Thu Dec  3 2020 22:25                                                Page 351


 18060                        ;							
                    		  pWin->style,
 18061                        ;							
                    		  pWin->win_title,
 18062                        ;							
                    		  k_getUIMenuColor(),
 18063                        ;							
                    		  k_getUIBackgroundColor());*/
 18064                        ;				k_vdraw_ui_window(pWin,
 18065                        	.line	3126
 18066                        ;							
                    	  pWin->style,
 18067                        ;							
                    	  pWin->win_x,
 18068                        ;							
                    	  pWin->win_y,
 18069                        ;							
                    	  pWin->win_height,
 18070                        ;							
                    	  pWin->win_width,
 18071                        ;							
                    	  pWin->win_title,
 18072                        ;							
                    	  k_getUIMenuColor(),
 18073                        ;							
                    	  k_getUIBackgroundColor());
 18074 04:4F6C: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
 18075 04:4F70: 48           	pha
 18076 04:4F71: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 18077 04:4F75: 48           	pha
 18078 04:4F76: 18           	clc
 18079 04:4F77: A9 D4 00     	lda	#$d4
 18080 04:4F7A: 65 11        	adc	<L701+pWin_1
 18081 04:4F7C: 85 01        	sta	<R0
 18082 04:4F7E: A9 00 00     	lda	#$0
 18083 04:4F81: 65 13        	adc	<L701+pWin_1+2
 18084 04:4F83: 85 03        	sta	<R0+2
 18085 04:4F85: D4 03        	pei	<R0+2
 18086 04:4F87: D4 01        	pei	<R0
 18087 04:4F89: A0 0C 00     	ldy	#$c
 18088 04:4F8C: B7 11        	lda	[<L701+pWin_1],Y
 18089 04:4F8E: 48           	pha
 18090 04:4F8F: A0 0E 00     	ldy	#$e
 18091 04:4F92: B7 11        	lda	[<L701+pWin_1],Y
 18092 04:4F94: 48           	pha
 18093 04:4F95: A0 0A 00     	ldy	#$a
 18094 04:4F98: B7 11        	lda	[<L701+pWin_1],Y
 18095 04:4F9A: 48           	pha
 18096 04:4F9B: A0 08 00     	ldy	#$8
 18097 04:4F9E: B7 11        	lda	[<L701+pWin_1],Y
 18098 04:4FA0: 48           	pha
 18099 04:4FA1: A0 04 00     	ldy	#$4
 18100 04:4FA4: B7 11        	lda	[<L701+pWin_1],Y
 18101 04:4FA6: 48           	pha
 18102 04:4FA7: A0 02 00     	ldy	#$2
 18103 04:4FAA: B7 11        	lda	[<L701+pWin_1],Y
 18104 04:4FAC: 48           	pha
 18105 04:4FAD: D4 13        	pei	<L701+pWin_1+2
  Thu Dec  3 2020 22:25                                                Page 352


 18106 04:4FAF: D4 11        	pei	<L701+pWin_1
 18107 04:4FB1: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 18108                        ;				break;
 18109                        	.line	3135
 18110 04:4FB5: 82 52 06     	brl	L10272
 18111                        ;			case FX_MOVE_WINDOW:
 18112                        	.line	3136
 18113                        L10281:
 18114                        ;				k_user_MoveWindow(pMsg->
                    hwnd,((PPOINT)pMsg->pheap)->x,((PPOINT)pMsg->pheap)->y);
 18115                        	.line	3137
 18116 04:4FB8: A0 0E 00     	ldy	#$e
 18117 04:4FBB: B7 3B        	lda	[<L700+pMsg_0],Y
 18118 04:4FBD: 85 01        	sta	<R0
 18119 04:4FBF: A0 10 00     	ldy	#$10
 18120 04:4FC2: B7 3B        	lda	[<L700+pMsg_0],Y
 18121 04:4FC4: 85 03        	sta	<R0+2
 18122 04:4FC6: A0 02 00     	ldy	#$2
 18123 04:4FC9: B7 01        	lda	[<R0],Y
 18124 04:4FCB: 48           	pha
 18125 04:4FCC: A0 0E 00     	ldy	#$e
 18126 04:4FCF: B7 3B        	lda	[<L700+pMsg_0],Y
 18127 04:4FD1: 85 01        	sta	<R0
 18128 04:4FD3: A0 10 00     	ldy	#$10
 18129 04:4FD6: B7 3B        	lda	[<L700+pMsg_0],Y
 18130 04:4FD8: 85 03        	sta	<R0+2
 18131 04:4FDA: A7 01        	lda	[<R0]
 18132 04:4FDC: 48           	pha
 18133 04:4FDD: A0 0C 00     	ldy	#$c
 18134 04:4FE0: B7 3B        	lda	[<L700+pMsg_0],Y
 18135 04:4FE2: 48           	pha
 18136 04:4FE3: A0 0A 00     	ldy	#$a
 18137 04:4FE6: B7 3B        	lda	[<L700+pMsg_0],Y
 18138 04:4FE8: 48           	pha
 18139 04:4FE9: 22 C3 07 04  	jsl	~~k_user_MoveWindow
 18140                        ;
 18141                        ;
 18142                        ;				break;
 18143                        	.line	3140
 18144 04:4FED: 82 1A 06     	brl	L10272
 18145                        ;			case FX_NC_MOUSE_MOVE:
 18146                        	.line	3141
 18147                        L10282:
 18148                        ;				k_debug_string("DefWindo
                    wProc::FX_NC_MOUSE_MOVE\r\n");
 18149                        	.line	3142
 18150 04:4FF0: F4 xx xx     	pea	#^L699+323
 18151 04:4FF3: F4 xx xx     	pea	#<L699+323
 18152 04:4FF6: 22 xx xx xx  	jsl	~~k_debug_string
 18153                        ;
 18154                        ;
 18155                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 18156                        	.line	3145
 18157 04:4FFA: A0 17 00     	ldy	#$17
 18158 04:4FFD: B7 3B        	lda	[<L700+pMsg_0],Y
 18159 04:4FFF: 85 21        	sta	<L701+cx_1
 18160                        ;				cy = MSG_GETMOUSE_Y(pMsg
  Thu Dec  3 2020 22:25                                                Page 353


                    );
 18161                        	.line	3146
 18162 04:5001: A0 19 00     	ldy	#$19
 18163 04:5004: B7 3B        	lda	[<L700+pMsg_0],Y
 18164 04:5006: 85 23        	sta	<L701+cy_1
 18165                        ;				dx = (cx - pWin->win_x);
 18166                        	.line	3147
 18167 04:5008: 38           	sec
 18168 04:5009: A5 21        	lda	<L701+cx_1
 18169 04:500B: A0 08 00     	ldy	#$8
 18170 04:500E: F7 11        	sbc	[<L701+pWin_1],Y
 18171 04:5010: 85 25        	sta	<L701+dx_1
 18172                        ;				dy = (cy - pWin->win_y);
 18173                        	.line	3148
 18174 04:5012: 38           	sec
 18175 04:5013: A5 23        	lda	<L701+cy_1
 18176 04:5015: A0 0A 00     	ldy	#$a
 18177 04:5018: F7 11        	sbc	[<L701+pWin_1],Y
 18178 04:501A: 85 27        	sta	<L701+dy_1
 18179                        ;
 18180                        ;				k_user_setMousePointer("
                    ARROW");
 18181                        	.line	3150
 18182 04:501C: F4 xx xx     	pea	#^L699+357
 18183 04:501F: F4 xx xx     	pea	#<L699+357
 18184 04:5022: 22 C7 0E 04  	jsl	~~k_user_setMousePointer
 18185                        ;				for(index = 0;index<8;in
                    dex++)
 18186                        	.line	3151
 18187 04:5026: 64 31        	stz	<L701+index_1
 18188                        L10285:
 18189                        ;				{
 18190                        	.line	3152
 18191                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 18192                        	.line	3153
 18193                        ;					{
 18194 04:5028: D4 23        	pei	<L701+cy_1
 18195 04:502A: D4 21        	pei	<L701+cx_1
 18196 04:502C: A0 00 00     	ldy	#$0
 18197 04:502F: A5 31        	lda	<L701+index_1
 18198 04:5031: 10 01        	bpl	L706
 18199 04:5033: 88           	dey
 18200                        L706:
 18201 04:5034: 85 01        	sta	<R0
 18202 04:5036: 84 03        	sty	<R0+2
 18203 04:5038: F4 00 00     	pea	#^$b
 18204 04:503B: F4 0B 00     	pea	#<$b
 18205 04:503E: D4 03        	pei	<R0+2
 18206 04:5040: D4 01        	pei	<R0
 18207                        	xref	~~~lmul
 18208 04:5042: 22 xx xx xx  	jsl	~~~lmul
 18209 04:5046: 85 01        	sta	<R0
 18210 04:5048: 86 03        	stx	<R0+2
 18211 04:504A: 18           	clc
 18212 04:504B: A9 20 00     	lda	#$20
 18213 04:504E: 65 01        	adc	<R0
 18214 04:5050: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 354


 18215 04:5052: A9 00 00     	lda	#$0
 18216 04:5055: 65 03        	adc	<R0+2
 18217 04:5057: 85 07        	sta	<R1+2
 18218 04:5059: 18           	clc
 18219 04:505A: A5 11        	lda	<L701+pWin_1
 18220 04:505C: 65 05        	adc	<R1
 18221 04:505E: 85 01        	sta	<R0
 18222 04:5060: A5 13        	lda	<L701+pWin_1+2
 18223 04:5062: 65 07        	adc	<R1+2
 18224 04:5064: 85 03        	sta	<R0+2
 18225 04:5066: D4 03        	pei	<R0+2
 18226 04:5068: D4 01        	pei	<R0
 18227 04:506A: 22 xx xx xx  	jsl	~~k_is_inside_rect
 18228 04:506E: AA           	tax
 18229 04:506F: D0 03        	bne	L707
 18230 04:5071: 82 98 00     	brl	L10286
 18231                        L707:
 18232                        	.line	3154
 18233                        ;						k_debug_
                    integer("DefWindowProc::nonclientGadgets:rect:hit:",pWin->no
                    nclientGadgets[index].msgType);
 18234                        	.line	3155
 18235 04:5074: A0 00 00     	ldy	#$0
 18236 04:5077: A5 31        	lda	<L701+index_1
 18237 04:5079: 10 01        	bpl	L708
 18238 04:507B: 88           	dey
 18239                        L708:
 18240 04:507C: 85 01        	sta	<R0
 18241 04:507E: 84 03        	sty	<R0+2
 18242 04:5080: F4 00 00     	pea	#^$b
 18243 04:5083: F4 0B 00     	pea	#<$b
 18244 04:5086: D4 03        	pei	<R0+2
 18245 04:5088: D4 01        	pei	<R0
 18246                        	xref	~~~lmul
 18247 04:508A: 22 xx xx xx  	jsl	~~~lmul
 18248 04:508E: 85 01        	sta	<R0
 18249 04:5090: 86 03        	stx	<R0+2
 18250 04:5092: 18           	clc
 18251 04:5093: A9 28 00     	lda	#$28
 18252 04:5096: 65 11        	adc	<L701+pWin_1
 18253 04:5098: 85 05        	sta	<R1
 18254 04:509A: A9 00 00     	lda	#$0
 18255 04:509D: 65 13        	adc	<L701+pWin_1+2
 18256 04:509F: 85 07        	sta	<R1+2
 18257 04:50A1: 18           	clc
 18258 04:50A2: A5 05        	lda	<R1
 18259 04:50A4: 65 01        	adc	<R0
 18260 04:50A6: 85 09        	sta	<R2
 18261 04:50A8: A5 07        	lda	<R1+2
 18262 04:50AA: 65 03        	adc	<R0+2
 18263 04:50AC: 85 0B        	sta	<R2+2
 18264 04:50AE: A7 09        	lda	[<R2]
 18265 04:50B0: 48           	pha
 18266 04:50B1: F4 xx xx     	pea	#^L699+363
 18267 04:50B4: F4 xx xx     	pea	#<L699+363
 18268 04:50B7: 22 xx xx xx  	jsl	~~k_debug_integer
 18269                        ;
 18270                        ;						if(pWin-
  Thu Dec  3 2020 22:25                                                Page 355


                    >nonclientGadgets[index].msgType == FX_RESIZE_WINDOW)
 18271                        	.line	3157
 18272                        ;							
                    k_user_setMousePointer("RESIZE");
 18273 04:50BB: A0 00 00     	ldy	#$0
 18274 04:50BE: A5 31        	lda	<L701+index_1
 18275 04:50C0: 10 01        	bpl	L709
 18276 04:50C2: 88           	dey
 18277                        L709:
 18278 04:50C3: 85 01        	sta	<R0
 18279 04:50C5: 84 03        	sty	<R0+2
 18280 04:50C7: F4 00 00     	pea	#^$b
 18281 04:50CA: F4 0B 00     	pea	#<$b
 18282 04:50CD: D4 03        	pei	<R0+2
 18283 04:50CF: D4 01        	pei	<R0
 18284                        	xref	~~~lmul
 18285 04:50D1: 22 xx xx xx  	jsl	~~~lmul
 18286 04:50D5: 85 01        	sta	<R0
 18287 04:50D7: 86 03        	stx	<R0+2
 18288 04:50D9: 18           	clc
 18289 04:50DA: A9 28 00     	lda	#$28
 18290 04:50DD: 65 11        	adc	<L701+pWin_1
 18291 04:50DF: 85 05        	sta	<R1
 18292 04:50E1: A9 00 00     	lda	#$0
 18293 04:50E4: 65 13        	adc	<L701+pWin_1+2
 18294 04:50E6: 85 07        	sta	<R1+2
 18295 04:50E8: 18           	clc
 18296 04:50E9: A5 05        	lda	<R1
 18297 04:50EB: 65 01        	adc	<R0
 18298 04:50ED: 85 09        	sta	<R2
 18299 04:50EF: A5 07        	lda	<R1+2
 18300 04:50F1: 65 03        	adc	<R0+2
 18301 04:50F3: 85 0B        	sta	<R2+2
 18302 04:50F5: A7 09        	lda	[<R2]
 18303 04:50F7: C9 0F FB     	cmp	#<$fb0f
 18304 04:50FA: F0 03        	beq	L710
 18305 04:50FC: 82 0A 00     	brl	L10287
 18306                        L710:
 18307                        	.line	3158
 18308 04:50FF: F4 xx xx     	pea	#^L699+405
 18309 04:5102: F4 xx xx     	pea	#<L699+405
 18310 04:5105: 22 C7 0E 04  	jsl	~~k_user_setMousePointer
 18311                        ;
 18312                        ;						break;
 18313                        L10287:
 18314                        	.line	3160
 18315 04:5109: 82 12 00     	brl	L10284
 18316                        ;					}
 18317                        	.line	3161
 18318                        ;				}
 18319                        L10286:
 18320                        	.line	3162
 18321                        L10283:
 18322 04:510C: E6 31        	inc	<L701+index_1
 18323 04:510E: 38           	sec
 18324 04:510F: A5 31        	lda	<L701+index_1
 18325 04:5111: E9 08 00     	sbc	#<$8
 18326 04:5114: 70 03        	bvs	L711
  Thu Dec  3 2020 22:25                                                Page 356


 18327 04:5116: 49 00 80     	eor	#$8000
 18328                        L711:
 18329 04:5119: 30 03        	bmi	L712
 18330 04:511B: 82 0A FF     	brl	L10285
 18331                        L712:
 18332                        L10284:
 18333                        ;				/*
 18334                        ;				if(pWin->style & FXWS_SY
                    SMENU)
 18335                        ;				{
 18336                        ;					gx = k_user_getS
                    ystemMetric(SM_CXGADGET);
 18337                        ;					gy = k_user_getS
                    ystemMetric(SM_CYGADGET);
 18338                        ;					bx = k_user_getS
                    ystemMetric(SM_CXBORDER);
 18339                        ;					by = k_user_getS
                    ystemMetric(SM_CYBORDER);
 18340                        ;
 18341                        ;					if((dx > bx) && 
                    (dx < (bx + gx)))
 18342                        ;					{
 18343                        ;						if((dy >
                     by) && (dy < (by + gy)))
 18344                        ;						{
 18345                        ;							
                    k_debug_string("DefWindowProc::FX_NC_MOUSE_MOVE:CLOSEBOX\r\n
                    ");
 18346                        ;						}
 18347                        ;					}
 18348                        ;				}
 18349                        ;				*/
 18350                        ;
 18351                        ;
 18352                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_MOUSE_MOVE:cx:",cx);
 18353                        	.line	3182
 18354 04:511E: D4 21        	pei	<L701+cx_1
 18355 04:5120: F4 xx xx     	pea	#^L699+412
 18356 04:5123: F4 xx xx     	pea	#<L699+412
 18357 04:5126: 22 xx xx xx  	jsl	~~k_debug_integer
 18358                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_MOUSE_MOVE:cy:",cy);
 18359                        	.line	3183
 18360 04:512A: D4 23        	pei	<L701+cy_1
 18361 04:512C: F4 xx xx     	pea	#^L699+448
 18362 04:512F: F4 xx xx     	pea	#<L699+448
 18363 04:5132: 22 xx xx xx  	jsl	~~k_debug_integer
 18364                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_MOUSE_MOVE:dx:",dx);
 18365                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_MOUSE_MOVE:dy:",dy);
 18366                        ;
 18367                        ;				break;
 18368                        	.line	3187
 18369 04:5136: 82 D1 04     	brl	L10272
 18370                        ;			case FX_NC_LBUTTON_DOWN:
 18371                        	.line	3188
  Thu Dec  3 2020 22:25                                                Page 357


 18372                        L10288:
 18373                        ;				k_debug_pointer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:",pMsg->hwnd);
 18374                        	.line	3189
 18375 04:5139: A0 0C 00     	ldy	#$c
 18376 04:513C: B7 3B        	lda	[<L700+pMsg_0],Y
 18377 04:513E: 48           	pha
 18378 04:513F: A0 0A 00     	ldy	#$a
 18379 04:5142: B7 3B        	lda	[<L700+pMsg_0],Y
 18380 04:5144: 48           	pha
 18381 04:5145: F4 xx xx     	pea	#^L699+484
 18382 04:5148: F4 xx xx     	pea	#<L699+484
 18383 04:514B: 22 xx xx xx  	jsl	~~k_debug_pointer
 18384                        ;
 18385                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 18386                        	.line	3191
 18387 04:514F: A0 17 00     	ldy	#$17
 18388 04:5152: B7 3B        	lda	[<L700+pMsg_0],Y
 18389 04:5154: 85 21        	sta	<L701+cx_1
 18390                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 18391                        	.line	3192
 18392 04:5156: A0 19 00     	ldy	#$19
 18393 04:5159: B7 3B        	lda	[<L700+pMsg_0],Y
 18394 04:515B: 85 23        	sta	<L701+cy_1
 18395                        ;
 18396                        ;				for(index = 0;index<8;in
                    dex++)
 18397                        	.line	3194
 18398 04:515D: 64 31        	stz	<L701+index_1
 18399                        L10291:
 18400                        ;				{
 18401                        	.line	3195
 18402                        ;					//k_debug_rect("
                    testWindowProc::nonclientGadgets:rect:",&pWin->nonclientGadg
                    ets[index].area);
 18403                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 18404                        	.line	3197
 18405                        ;					{
 18406 04:515F: D4 23        	pei	<L701+cy_1
 18407 04:5161: D4 21        	pei	<L701+cx_1
 18408 04:5163: A0 00 00     	ldy	#$0
 18409 04:5166: A5 31        	lda	<L701+index_1
 18410 04:5168: 10 01        	bpl	L713
 18411 04:516A: 88           	dey
 18412                        L713:
 18413 04:516B: 85 01        	sta	<R0
 18414 04:516D: 84 03        	sty	<R0+2
 18415 04:516F: F4 00 00     	pea	#^$b
 18416 04:5172: F4 0B 00     	pea	#<$b
 18417 04:5175: D4 03        	pei	<R0+2
 18418 04:5177: D4 01        	pei	<R0
 18419                        	xref	~~~lmul
 18420 04:5179: 22 xx xx xx  	jsl	~~~lmul
 18421 04:517D: 85 01        	sta	<R0
 18422 04:517F: 86 03        	stx	<R0+2
  Thu Dec  3 2020 22:25                                                Page 358


 18423 04:5181: 18           	clc
 18424 04:5182: A9 20 00     	lda	#$20
 18425 04:5185: 65 01        	adc	<R0
 18426 04:5187: 85 05        	sta	<R1
 18427 04:5189: A9 00 00     	lda	#$0
 18428 04:518C: 65 03        	adc	<R0+2
 18429 04:518E: 85 07        	sta	<R1+2
 18430 04:5190: 18           	clc
 18431 04:5191: A5 11        	lda	<L701+pWin_1
 18432 04:5193: 65 05        	adc	<R1
 18433 04:5195: 85 01        	sta	<R0
 18434 04:5197: A5 13        	lda	<L701+pWin_1+2
 18435 04:5199: 65 07        	adc	<R1+2
 18436 04:519B: 85 03        	sta	<R0+2
 18437 04:519D: D4 03        	pei	<R0+2
 18438 04:519F: D4 01        	pei	<R0
 18439 04:51A1: 22 xx xx xx  	jsl	~~k_is_inside_rect
 18440 04:51A5: AA           	tax
 18441 04:51A6: D0 03        	bne	L714
 18442 04:51A8: 82 24 01     	brl	L10292
 18443                        L714:
 18444                        	.line	3198
 18445                        ;						k_debug_
                    integer("DefWindowProc::nonclientGadgets:rect:hit:",pWin->no
                    nclientGadgets[index].msgType);
 18446                        	.line	3199
 18447 04:51AB: A0 00 00     	ldy	#$0
 18448 04:51AE: A5 31        	lda	<L701+index_1
 18449 04:51B0: 10 01        	bpl	L715
 18450 04:51B2: 88           	dey
 18451                        L715:
 18452 04:51B3: 85 01        	sta	<R0
 18453 04:51B5: 84 03        	sty	<R0+2
 18454 04:51B7: F4 00 00     	pea	#^$b
 18455 04:51BA: F4 0B 00     	pea	#<$b
 18456 04:51BD: D4 03        	pei	<R0+2
 18457 04:51BF: D4 01        	pei	<R0
 18458                        	xref	~~~lmul
 18459 04:51C1: 22 xx xx xx  	jsl	~~~lmul
 18460 04:51C5: 85 01        	sta	<R0
 18461 04:51C7: 86 03        	stx	<R0+2
 18462 04:51C9: 18           	clc
 18463 04:51CA: A9 28 00     	lda	#$28
 18464 04:51CD: 65 11        	adc	<L701+pWin_1
 18465 04:51CF: 85 05        	sta	<R1
 18466 04:51D1: A9 00 00     	lda	#$0
 18467 04:51D4: 65 13        	adc	<L701+pWin_1+2
 18468 04:51D6: 85 07        	sta	<R1+2
 18469 04:51D8: 18           	clc
 18470 04:51D9: A5 05        	lda	<R1
 18471 04:51DB: 65 01        	adc	<R0
 18472 04:51DD: 85 09        	sta	<R2
 18473 04:51DF: A5 07        	lda	<R1+2
 18474 04:51E1: 65 03        	adc	<R0+2
 18475 04:51E3: 85 0B        	sta	<R2+2
 18476 04:51E5: A7 09        	lda	[<R2]
 18477 04:51E7: 48           	pha
 18478 04:51E8: F4 xx xx     	pea	#^L699+519
  Thu Dec  3 2020 22:25                                                Page 359


 18479 04:51EB: F4 xx xx     	pea	#<L699+519
 18480 04:51EE: 22 xx xx xx  	jsl	~~k_debug_integer
 18481                        ;
 18482                        ;						switch(p
                    Win->nonclientGadgets[index].msgType)
 18483                        	.line	3201
 18484 04:51F2: A0 00 00     	ldy	#$0
 18485 04:51F5: A5 31        	lda	<L701+index_1
 18486 04:51F7: 10 01        	bpl	L716
 18487 04:51F9: 88           	dey
 18488                        L716:
 18489 04:51FA: 85 01        	sta	<R0
 18490 04:51FC: 84 03        	sty	<R0+2
 18491 04:51FE: F4 00 00     	pea	#^$b
 18492 04:5201: F4 0B 00     	pea	#<$b
 18493 04:5204: D4 03        	pei	<R0+2
 18494 04:5206: D4 01        	pei	<R0
 18495                        	xref	~~~lmul
 18496 04:5208: 22 xx xx xx  	jsl	~~~lmul
 18497 04:520C: 85 01        	sta	<R0
 18498 04:520E: 86 03        	stx	<R0+2
 18499 04:5210: 18           	clc
 18500 04:5211: A9 28 00     	lda	#$28
 18501 04:5214: 65 11        	adc	<L701+pWin_1
 18502 04:5216: 85 05        	sta	<R1
 18503 04:5218: A9 00 00     	lda	#$0
 18504 04:521B: 65 13        	adc	<L701+pWin_1+2
 18505 04:521D: 85 07        	sta	<R1+2
 18506 04:521F: 18           	clc
 18507 04:5220: A5 05        	lda	<R1
 18508 04:5222: 65 01        	adc	<R0
 18509 04:5224: 85 09        	sta	<R2
 18510 04:5226: A5 07        	lda	<R1+2
 18511 04:5228: 65 03        	adc	<R0+2
 18512 04:522A: 85 0B        	sta	<R2+2
 18513 04:522C: A7 09        	lda	[<R2]
 18514 04:522E: 82 8B 00     	brl	L10293
 18515                        ;						{
 18516                        	.line	3202
 18517                        ;						case FX_
                    DRAG_WINDOW:
 18518                        	.line	3203
 18519                        L10295:
 18520                        ;							
                    //k_user_StartWindowForDrag(pMsg->hwnd,cx,cy);
 18521                        ;							
                    k_send_window_message(pMsg->hwnd,FX_DRAG_WINDOW_START,NULL,0
                    );
 18522                        	.line	3205
 18523 04:5231: F4 00 00     	pea	#<$0
 18524 04:5234: F4 00 00     	pea	#^$0
 18525 04:5237: F4 00 00     	pea	#<$0
 18526 04:523A: F4 0D FB     	pea	#<$fb0d
 18527 04:523D: A0 0C 00     	ldy	#$c
 18528 04:5240: B7 3B        	lda	[<L700+pMsg_0],Y
 18529 04:5242: 48           	pha
 18530 04:5243: A0 0A 00     	ldy	#$a
 18531 04:5246: B7 3B        	lda	[<L700+pMsg_0],Y
  Thu Dec  3 2020 22:25                                                Page 360


 18532 04:5248: 48           	pha
 18533 04:5249: 22 xx xx xx  	jsl	~~k_send_window_message
 18534                        ;							
                    break;
 18535                        	.line	3206
 18536 04:524D: 82 7C 00     	brl	L10294
 18537                        ;						case FX_
                    RESIZE_WINDOW:
 18538                        	.line	3207
 18539                        L10296:
 18540                        ;							
                    k_debug_strings("DefWindowProc::FX_NC_LBUTTON_DOWN:","FX_RES
                    IZE_WINDOW");
 18541                        	.line	3208
 18542 04:5250: F4 xx xx     	pea	#^L699+596
 18543 04:5253: F4 xx xx     	pea	#<L699+596
 18544 04:5256: F4 xx xx     	pea	#^L699+561
 18545 04:5259: F4 xx xx     	pea	#<L699+561
 18546 04:525C: 22 xx xx xx  	jsl	~~k_debug_strings
 18547                        ;							
                    break;
 18548                        	.line	3209
 18549 04:5260: 82 69 00     	brl	L10294
 18550                        ;						default:
 18551                        	.line	3210
 18552                        L10297:
 18553                        ;							
                    k_send_window_message(pMsg->hwnd,pWin->nonclientGadgets[inde
                    x].msgType,NULL,0);
 18554                        	.line	3211
 18555 04:5263: F4 00 00     	pea	#<$0
 18556 04:5266: F4 00 00     	pea	#^$0
 18557 04:5269: F4 00 00     	pea	#<$0
 18558 04:526C: A0 00 00     	ldy	#$0
 18559 04:526F: A5 31        	lda	<L701+index_1
 18560 04:5271: 10 01        	bpl	L717
 18561 04:5273: 88           	dey
 18562                        L717:
 18563 04:5274: 85 01        	sta	<R0
 18564 04:5276: 84 03        	sty	<R0+2
 18565 04:5278: F4 00 00     	pea	#^$b
 18566 04:527B: F4 0B 00     	pea	#<$b
 18567 04:527E: D4 03        	pei	<R0+2
 18568 04:5280: D4 01        	pei	<R0
 18569                        	xref	~~~lmul
 18570 04:5282: 22 xx xx xx  	jsl	~~~lmul
 18571 04:5286: 85 01        	sta	<R0
 18572 04:5288: 86 03        	stx	<R0+2
 18573 04:528A: 18           	clc
 18574 04:528B: A9 28 00     	lda	#$28
 18575 04:528E: 65 11        	adc	<L701+pWin_1
 18576 04:5290: 85 05        	sta	<R1
 18577 04:5292: A9 00 00     	lda	#$0
 18578 04:5295: 65 13        	adc	<L701+pWin_1+2
 18579 04:5297: 85 07        	sta	<R1+2
 18580 04:5299: 18           	clc
 18581 04:529A: A5 05        	lda	<R1
 18582 04:529C: 65 01        	adc	<R0
  Thu Dec  3 2020 22:25                                                Page 361


 18583 04:529E: 85 09        	sta	<R2
 18584 04:52A0: A5 07        	lda	<R1+2
 18585 04:52A2: 65 03        	adc	<R0+2
 18586 04:52A4: 85 0B        	sta	<R2+2
 18587 04:52A6: A7 09        	lda	[<R2]
 18588 04:52A8: 48           	pha
 18589 04:52A9: A0 0C 00     	ldy	#$c
 18590 04:52AC: B7 3B        	lda	[<L700+pMsg_0],Y
 18591 04:52AE: 48           	pha
 18592 04:52AF: A0 0A 00     	ldy	#$a
 18593 04:52B2: B7 3B        	lda	[<L700+pMsg_0],Y
 18594 04:52B4: 48           	pha
 18595 04:52B5: 22 xx xx xx  	jsl	~~k_send_window_message
 18596                        ;							
                    break;
 18597                        	.line	3212
 18598 04:52B9: 82 10 00     	brl	L10294
 18599                        ;						}
 18600                        	.line	3213
 18601                        L10293:
 18602                        	xref	~~~swt
 18603 04:52BC: 22 xx xx xx  	jsl	~~~swt
 18604 04:52C0: 02 00        	dw	2
 18605 04:52C2: 0F FB        	dw	64271
 18606 04:52C4: 4F 52        	dw	L10296-1
 18607 04:52C6: 10 FB        	dw	64272
 18608 04:52C8: 30 52        	dw	L10295-1
 18609 04:52CA: 62 52        	dw	L10297-1
 18610                        L10294:
 18611                        ;						/*
 18612                        ;						if(pWin-
                    >nonclientGadgets[index].msgType == FX_DRAG_WINDOW)
 18613                        ;						{
 18614                        ;							
                    k_debug_strings("DefWindowProc::nonclientGadgets:rect:hit:",
                    "FX_NC_LBUTTON_DOWN:FX_DRAG_WINDOW");
 18615                        ;							
                    k_user_StartWindowForDrag(pMsg->hwnd,cx,cy);
 18616                        ;						}
 18617                        ;						else
 18618                        ;							
                    k_send_window_message(pMsg->hwnd,pWin->nonclientGadgets[inde
                    x].msgType,NULL,0);
 18619                        ;						*/
 18620                        ;						break;
 18621                        	.line	3223
 18622 04:52CC: 82 12 00     	brl	L10290
 18623                        ;					}
 18624                        	.line	3224
 18625                        ;				}
 18626                        L10292:
 18627                        	.line	3225
 18628                        L10289:
 18629 04:52CF: E6 31        	inc	<L701+index_1
 18630 04:52D1: 38           	sec
 18631 04:52D2: A5 31        	lda	<L701+index_1
 18632 04:52D4: E9 08 00     	sbc	#<$8
 18633 04:52D7: 70 03        	bvs	L718
  Thu Dec  3 2020 22:25                                                Page 362


 18634 04:52D9: 49 00 80     	eor	#$8000
 18635                        L718:
 18636 04:52DC: 30 03        	bmi	L719
 18637 04:52DE: 82 7E FE     	brl	L10291
 18638                        L719:
 18639                        L10290:
 18640                        ;
 18641                        ;				//k_event_lock_focus_ex(
                    pMsg->hwnd,TRUE);
 18642                        ;
 18643                        ;				//k_user_StartWindowForD
                    rag(pMsg->hwnd,cx,cy);
 18644                        ;
 18645                        ;				/*
 18646                        ;				if(defPrcData)
 18647                        ;				{
 18648                        ;					defPrcData->canD
                    rag = FALSE;
 18649                        ;				}
 18650                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 18651                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 18652                        ;				dx = (cx - pWin->win_x);
 18653                        ;				dy = (cy - pWin->win_y);
 18654                        ;
 18655                        ;
 18656                        ;				k_debug_integer("DefWind
                    owProc::nonclientGadgets:rect:cx:",cx);
 18657                        ;				k_debug_integer("DefWind
                    owProc::nonclientGadgets:rect:cy:",cy);
 18658                        ;
 18659                        ;
 18660                        ;				for(index = 0;index<8;in
                    dex++)
 18661                        ;				{
 18662                        ;					//k_debug_rect("
                    testWindowProc::nonclientGadgets:rect:",&pWin->nonclientGadg
                    ets[index].area);
 18663                        ;
 18664                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 18665                        ;					{
 18666                        ;						k_debug_
                    integer("DefWindowProc::nonclientGadgets:rect:hit:",pWin->no
                    nclientGadgets[index].msgType);
 18667                        ;						k_send_w
                    indow_message(pMsg->hwnd,pWin->nonclientGadgets[index].msgTy
                    pe,NULL,0);
 18668                        ;						break;
 18669                        ;					}
 18670                        ;				}
 18671                        ;
 18672                        ;				// push window to backgr
                    ound before frame drag
 18673                        ;				k_switch_window_page(pMs
                    g->hwnd,BITMAP_BACK,BITMAP_FRONT,TRUE);
 18674                        ;
  Thu Dec  3 2020 22:25                                                Page 363


 18675                        ;				if(defPrcData)
 18676                        ;				{
 18677                        ;					defPrcData->area
                    .x = cx;
 18678                        ;					defPrcData->area
                    .y = cy;
 18679                        ;
 18680                        ;					defPrcData->xoff
                    set = cx - pWin->win_x;
 18681                        ;					defPrcData->yoff
                    set = cy - pWin->win_y;
 18682                        ;
 18683                        ;					k_debug_integer(
                    "DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->xoffset:
                    ",defPrcData->xoffset);
 18684                        ;					k_debug_integer(
                    "DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->yoffset:
                    ",defPrcData->yoffset);
 18685                        ;
 18686                        ;				}
 18687                        ;
 18688                        ;
 18689                        ;
 18690                        ;				k_draw_rect(pWin->win_x,
 18691                        ;							
                    pWin->win_y,
 18692                        ;							
                    pWin->win_x + pWin->win_width,
 18693                        ;							
                    pWin->win_y + pWin->win_height,
 18694                        ;							
                    DEFAULT_WIN_HIGHLIGHT_COLOR,
 18695                        ;							
                    BITMAP_NOBRUSH,
 18696                        ;							
                    BITMAP_FRONT);
 18697                        ;				*/
 18698                        ;
 18699                        ;				/*
 18700                        ;				if(pWin->style & FXWS_SY
                    SMENU)
 18701                        ;				{
 18702                        ;					gx = k_user_getS
                    ystemMetric(SM_CXGADGET);
 18703                        ;					gy = k_user_getS
                    ystemMetric(SM_CYGADGET);
 18704                        ;					bx = k_user_getS
                    ystemMetric(SM_CXBORDER);
 18705                        ;					by = k_user_getS
                    ystemMetric(SM_CYBORDER);
 18706                        ;
 18707                        ;					if((dx > bx) && 
                    (dx < (bx + gx)))
 18708                        ;					{
 18709                        ;						if((dy >
                     by) && (dy < (by + gy)))
 18710                        ;						{
 18711                        ;							
  Thu Dec  3 2020 22:25                                                Page 364


                    k_debug_string("DefWindowProc::FX_NC_LBUTTON_DOWN:CLOSEBOX\r
                    \n");
 18712                        ;						}
 18713                        ;					}
 18714                        ;				}
 18715                        ;
 18716                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:cx:",cx);
 18717                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:cy:",cy);
 18718                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:dx:",dx);
 18719                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:dy:",dy);
 18720                        ;				*/
 18721                        ;				break;
 18722                        	.line	3307
 18723 04:52E1: 82 26 03     	brl	L10272
 18724                        ;
 18725                        ;			case FX_NC_LBUTTON_DRAG:
 18726                        	.line	3309
 18727                        L10298:
 18728                        ;				k_debug_string("DefWindo
                    wProc::FX_NC_LBUTTON_DRAG\r\n");
 18729                        	.line	3310
 18730 04:52E4: F4 xx xx     	pea	#^L699+613
 18731 04:52E7: F4 xx xx     	pea	#<L699+613
 18732 04:52EA: 22 xx xx xx  	jsl	~~k_debug_string
 18733                        ;
 18734                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 18735                        	.line	3312
 18736 04:52EE: A0 17 00     	ldy	#$17
 18737 04:52F1: B7 3B        	lda	[<L700+pMsg_0],Y
 18738 04:52F3: 85 21        	sta	<L701+cx_1
 18739                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 18740                        	.line	3313
 18741 04:52F5: A0 19 00     	ldy	#$19
 18742 04:52F8: B7 3B        	lda	[<L700+pMsg_0],Y
 18743 04:52FA: 85 23        	sta	<L701+cy_1
 18744                        ;				dx = (cx - pWin->win_x);
 18745                        	.line	3314
 18746 04:52FC: 38           	sec
 18747 04:52FD: A5 21        	lda	<L701+cx_1
 18748 04:52FF: A0 08 00     	ldy	#$8
 18749 04:5302: F7 11        	sbc	[<L701+pWin_1],Y
 18750 04:5304: 85 25        	sta	<L701+dx_1
 18751                        ;				dy = (cy - pWin->win_y);
 18752                        	.line	3315
 18753 04:5306: 38           	sec
 18754 04:5307: A5 23        	lda	<L701+cy_1
 18755 04:5309: A0 0A 00     	ldy	#$a
 18756 04:530C: F7 11        	sbc	[<L701+pWin_1],Y
 18757 04:530E: 85 27        	sta	<L701+dy_1
 18758                        ;
 18759                        ;
 18760                        ;				if(defPrcData)
  Thu Dec  3 2020 22:25                                                Page 365


 18761                        	.line	3318
 18762                        ;				{
 18763 04:5310: A5 33        	lda	<L701+defPrcData_1
 18764 04:5312: 05 35        	ora	<L701+defPrcData_1+2
 18765 04:5314: D0 03        	bne	L720
 18766 04:5316: 82 A2 00     	brl	L10299
 18767                        L720:
 18768                        	.line	3319
 18769                        ;					defPrcData->isDr
                    ag = TRUE;
 18770                        	.line	3320
 18771 04:5319: E2 20        	sep	#$20
 18772                        	longa	off
 18773 04:531B: A9 01        	lda	#$1
 18774 04:531D: A0 0E 00     	ldy	#$e
 18775 04:5320: 97 33        	sta	[<L701+defPrcData_1],Y
 18776 04:5322: C2 20        	rep	#$20
 18777                        	longa	on
 18778                        ;
 18779                        ;					//k_debug_intege
                    r("DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->area.x
                    :",defPrcData->area.x);
 18780                        ;					//k_debug_intege
                    r("DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->area.y
                    :",defPrcData->area.y);
 18781                        ;
 18782                        ;					k_draw_rect(defP
                    rcData->area.x,
 18783                        	.line	3325
 18784                        ;							
                        defPrcData->area.y,
 18785                        ;							
                    	defPrcData->area.x + pWin->win_width - 1,
 18786                        ;							
                    	defPrcData->area.y + pWin->win_height - 1,
 18787                        ;							
                    	FILLCOLOR_TRANSPARENT,
 18788                        ;							
                    	BITMAP_NOBRUSH,
 18789                        ;							
                    	BITMAP_FRONT);
 18790 04:5324: F4 00 00     	pea	#<$0
 18791 04:5327: F4 00 00     	pea	#<$0
 18792 04:532A: F4 00 00     	pea	#<$0
 18793 04:532D: 18           	clc
 18794 04:532E: A0 02 00     	ldy	#$2
 18795 04:5331: B7 33        	lda	[<L701+defPrcData_1],Y
 18796 04:5333: A0 0E 00     	ldy	#$e
 18797 04:5336: 77 11        	adc	[<L701+pWin_1],Y
 18798 04:5338: 85 01        	sta	<R0
 18799 04:533A: 18           	clc
 18800 04:533B: A9 FF FF     	lda	#$ffff
 18801 04:533E: 65 01        	adc	<R0
 18802 04:5340: 48           	pha
 18803 04:5341: 18           	clc
 18804 04:5342: A7 33        	lda	[<L701+defPrcData_1]
 18805 04:5344: A0 0C 00     	ldy	#$c
 18806 04:5347: 77 11        	adc	[<L701+pWin_1],Y
  Thu Dec  3 2020 22:25                                                Page 366


 18807 04:5349: 85 01        	sta	<R0
 18808 04:534B: 18           	clc
 18809 04:534C: A9 FF FF     	lda	#$ffff
 18810 04:534F: 65 01        	adc	<R0
 18811 04:5351: 48           	pha
 18812 04:5352: A0 02 00     	ldy	#$2
 18813 04:5355: B7 33        	lda	[<L701+defPrcData_1],Y
 18814 04:5357: 48           	pha
 18815 04:5358: A7 33        	lda	[<L701+defPrcData_1]
 18816 04:535A: 48           	pha
 18817 04:535B: 22 xx xx xx  	jsl	~~k_draw_rect
 18818                        ;
 18819                        ;					defPrcData->area
                    .x = cx - defPrcData->xoffset + 1;
 18820                        	.line	3333
 18821 04:535F: 38           	sec
 18822 04:5360: A5 21        	lda	<L701+cx_1
 18823 04:5362: A0 08 00     	ldy	#$8
 18824 04:5365: F7 33        	sbc	[<L701+defPrcData_1],Y
 18825 04:5367: 85 01        	sta	<R0
 18826 04:5369: A5 01        	lda	<R0
 18827 04:536B: 1A           	ina
 18828 04:536C: 87 33        	sta	[<L701+defPrcData_1]
 18829                        ;					defPrcData->area
                    .y = cy - defPrcData->yoffset + 1;
 18830                        	.line	3334
 18831 04:536E: 38           	sec
 18832 04:536F: A5 23        	lda	<L701+cy_1
 18833 04:5371: A0 0A 00     	ldy	#$a
 18834 04:5374: F7 33        	sbc	[<L701+defPrcData_1],Y
 18835 04:5376: 85 01        	sta	<R0
 18836 04:5378: A5 01        	lda	<R0
 18837 04:537A: 1A           	ina
 18838 04:537B: A0 02 00     	ldy	#$2
 18839 04:537E: 97 33        	sta	[<L701+defPrcData_1],Y
 18840                        ;
 18841                        ;					k_draw_rect(defP
                    rcData->area.x,
 18842                        	.line	3336
 18843                        ;						        
                    defPrcData->area.y,
 18844                        ;							
                    	defPrcData->area.x + pWin->win_width - 1,
 18845                        ;							
                    	defPrcData->area.y + pWin->win_height - 1,
 18846                        ;							
                    	DEFAULT_WIN_HIGHLIGHT_COLOR,
 18847                        ;							
                    	BITMAP_NOBRUSH,
 18848                        ;							
                    	BITMAP_FRONT);
 18849 04:5380: F4 00 00     	pea	#<$0
 18850 04:5383: F4 00 00     	pea	#<$0
 18851 04:5386: F4 03 00     	pea	#<$3
 18852 04:5389: 18           	clc
 18853 04:538A: A0 02 00     	ldy	#$2
 18854 04:538D: B7 33        	lda	[<L701+defPrcData_1],Y
 18855 04:538F: A0 0E 00     	ldy	#$e
  Thu Dec  3 2020 22:25                                                Page 367


 18856 04:5392: 77 11        	adc	[<L701+pWin_1],Y
 18857 04:5394: 85 01        	sta	<R0
 18858 04:5396: 18           	clc
 18859 04:5397: A9 FF FF     	lda	#$ffff
 18860 04:539A: 65 01        	adc	<R0
 18861 04:539C: 48           	pha
 18862 04:539D: 18           	clc
 18863 04:539E: A7 33        	lda	[<L701+defPrcData_1]
 18864 04:53A0: A0 0C 00     	ldy	#$c
 18865 04:53A3: 77 11        	adc	[<L701+pWin_1],Y
 18866 04:53A5: 85 01        	sta	<R0
 18867 04:53A7: 18           	clc
 18868 04:53A8: A9 FF FF     	lda	#$ffff
 18869 04:53AB: 65 01        	adc	<R0
 18870 04:53AD: 48           	pha
 18871 04:53AE: A0 02 00     	ldy	#$2
 18872 04:53B1: B7 33        	lda	[<L701+defPrcData_1],Y
 18873 04:53B3: 48           	pha
 18874 04:53B4: A7 33        	lda	[<L701+defPrcData_1]
 18875 04:53B6: 48           	pha
 18876 04:53B7: 22 xx xx xx  	jsl	~~k_draw_rect
 18877                        ;
 18878                        ;				}
 18879                        	.line	3344
 18880                        ;
 18881                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->area.x:",defPrcD
                    ata->area.x);
 18882                        L10299:
 18883                        	.line	3346
 18884 04:53BB: A7 33        	lda	[<L701+defPrcData_1]
 18885 04:53BD: 48           	pha
 18886 04:53BE: F4 xx xx     	pea	#^L699+649
 18887 04:53C1: F4 xx xx     	pea	#<L699+649
 18888 04:53C4: 22 xx xx xx  	jsl	~~k_debug_integer
 18889                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->area.y:",defPrcD
                    ata->area.y);
 18890                        	.line	3347
 18891 04:53C8: A0 02 00     	ldy	#$2
 18892 04:53CB: B7 33        	lda	[<L701+defPrcData_1],Y
 18893 04:53CD: 48           	pha
 18894 04:53CE: F4 xx xx     	pea	#^L699+708
 18895 04:53D1: F4 xx xx     	pea	#<L699+708
 18896 04:53D4: 22 xx xx xx  	jsl	~~k_debug_integer
 18897                        ;
 18898                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_LBUTTON_DRAG:rect:cx:",cx);
 18899                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_LBUTTON_DRAG:rect:cy:",cy);
 18900                        ;
 18901                        ;				break;
 18902                        	.line	3352
 18903 04:53D8: 82 2F 02     	brl	L10272
 18904                        ;			case FX_NC_LBUTTON_UP:
 18905                        	.line	3353
 18906                        L10300:
 18907                        ;				k_debug_pointer("DefWind
  Thu Dec  3 2020 22:25                                                Page 368


                    owProc::FX_NC_LBUTTON_UP:",pMsg->hwnd);
 18908                        	.line	3354
 18909 04:53DB: A0 0C 00     	ldy	#$c
 18910 04:53DE: B7 3B        	lda	[<L700+pMsg_0],Y
 18911 04:53E0: 48           	pha
 18912 04:53E1: A0 0A 00     	ldy	#$a
 18913 04:53E4: B7 3B        	lda	[<L700+pMsg_0],Y
 18914 04:53E6: 48           	pha
 18915 04:53E7: F4 xx xx     	pea	#^L699+767
 18916 04:53EA: F4 xx xx     	pea	#<L699+767
 18917 04:53ED: 22 xx xx xx  	jsl	~~k_debug_pointer
 18918                        ;
 18919                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_UP:rect:defPrcData->area.x:",defPrcDat
                    a->area.x);
 18920                        	.line	3356
 18921 04:53F1: A7 33        	lda	[<L701+defPrcData_1]
 18922 04:53F3: 48           	pha
 18923 04:53F4: F4 xx xx     	pea	#^L699+800
 18924 04:53F7: F4 xx xx     	pea	#<L699+800
 18925 04:53FA: 22 xx xx xx  	jsl	~~k_debug_integer
 18926                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_UP:rect:defPrcData->area.y:",defPrcDat
                    a->area.y);
 18927                        	.line	3357
 18928 04:53FE: A0 02 00     	ldy	#$2
 18929 04:5401: B7 33        	lda	[<L701+defPrcData_1],Y
 18930 04:5403: 48           	pha
 18931 04:5404: F4 xx xx     	pea	#^L699+857
 18932 04:5407: F4 xx xx     	pea	#<L699+857
 18933 04:540A: 22 xx xx xx  	jsl	~~k_debug_integer
 18934                        ;
 18935                        ;				/*
 18936                        ;				k_draw_rect(defPrcData->
                    area.x,
 18937                        ;					    	defPrcDa
                    ta->area.y,
 18938                        ;							
                    defPrcData->area.x + pWin->win_width,
 18939                        ;							
                    defPrcData->area.y + pWin->win_height,
 18940                        ;						    FILL
                    COLOR_TRANSPARENT,
 18941                        ;							
                    BITMAP_NOBRUSH,
 18942                        ;							
                    BITMAP_FRONT);
 18943                        ;
 18944                        ;				k_user_MoveWindow_ex(pMs
                    g->hwnd,defPrcData->area.x,defPrcData->area.y);
 18945                        ;
 18946                        ;				// pull window to foregr
                    ound after frame drag
 18947                        ;				//k_switch_window_page(p
                    Msg->hwnd,BITMAP_FRONT,BITMAP_BACK,FALSE);
 18948                        ;				*/
 18949                        ;
 18950                        ;				/*
  Thu Dec  3 2020 22:25                                                Page 369


 18951                        ;				if(k_is_inside_rect(&pWi
                    n->nonclientGadgets[index].area,cx,cy))
 18952                        ;				{
 18953                        ;					k_debug_integer(
                    "DefWindowProc::nonclientGadgets:rect:hit:",pWin->nonclientG
                    adgets[index].msgType);
 18954                        ;					k_send_window_me
                    ssage(pMsg->hwnd,pWin->nonclientGadgets[index].msgType,NULL,
                    0);
 18955                        ;
 18956                        ;					break;
 18957                        ;				}
 18958                        ;				*/
 18959                        ;
 18960                        ;				if(defPrcData->isDrag)
 18961                        	.line	3384
 18962                        ;				{
 18963 04:540E: A0 0E 00     	ldy	#$e
 18964 04:5411: B7 33        	lda	[<L701+defPrcData_1],Y
 18965 04:5413: 29 FF 00     	and	#$ff
 18966 04:5416: D0 03        	bne	L721
 18967 04:5418: 82 1C 00     	brl	L10301
 18968                        L721:
 18969                        	.line	3385
 18970                        ;					k_send_window_me
                    ssage(pMsg->hwnd,FX_DRAG_WINDOW_END,NULL,0);
 18971                        	.line	3386
 18972 04:541B: F4 00 00     	pea	#<$0
 18973 04:541E: F4 00 00     	pea	#^$0
 18974 04:5421: F4 00 00     	pea	#<$0
 18975 04:5424: F4 0E FB     	pea	#<$fb0e
 18976 04:5427: A0 0C 00     	ldy	#$c
 18977 04:542A: B7 3B        	lda	[<L700+pMsg_0],Y
 18978 04:542C: 48           	pha
 18979 04:542D: A0 0A 00     	ldy	#$a
 18980 04:5430: B7 3B        	lda	[<L700+pMsg_0],Y
 18981 04:5432: 48           	pha
 18982 04:5433: 22 xx xx xx  	jsl	~~k_send_window_message
 18983                        ;				}
 18984                        	.line	3387
 18985                        ;
 18986                        ;				switch(pWin->nonclientGa
                    dgets[index].msgType)
 18987                        L10301:
 18988                        	.line	3389
 18989 04:5437: A0 00 00     	ldy	#$0
 18990 04:543A: A5 31        	lda	<L701+index_1
 18991 04:543C: 10 01        	bpl	L722
 18992 04:543E: 88           	dey
 18993                        L722:
 18994 04:543F: 85 01        	sta	<R0
 18995 04:5441: 84 03        	sty	<R0+2
 18996 04:5443: F4 00 00     	pea	#^$b
 18997 04:5446: F4 0B 00     	pea	#<$b
 18998 04:5449: D4 03        	pei	<R0+2
 18999 04:544B: D4 01        	pei	<R0
 19000                        	xref	~~~lmul
 19001 04:544D: 22 xx xx xx  	jsl	~~~lmul
  Thu Dec  3 2020 22:25                                                Page 370


 19002 04:5451: 85 01        	sta	<R0
 19003 04:5453: 86 03        	stx	<R0+2
 19004 04:5455: 18           	clc
 19005 04:5456: A9 28 00     	lda	#$28
 19006 04:5459: 65 11        	adc	<L701+pWin_1
 19007 04:545B: 85 05        	sta	<R1
 19008 04:545D: A9 00 00     	lda	#$0
 19009 04:5460: 65 13        	adc	<L701+pWin_1+2
 19010 04:5462: 85 07        	sta	<R1+2
 19011 04:5464: 18           	clc
 19012 04:5465: A5 05        	lda	<R1
 19013 04:5467: 65 01        	adc	<R0
 19014 04:5469: 85 09        	sta	<R2
 19015 04:546B: A5 07        	lda	<R1+2
 19016 04:546D: 65 03        	adc	<R0+2
 19017 04:546F: 85 0B        	sta	<R2+2
 19018 04:5471: A7 09        	lda	[<R2]
 19019 04:5473: 82 59 00     	brl	L10302
 19020                        ;				{
 19021                        	.line	3390
 19022                        ;				default:
 19023                        	.line	3391
 19024                        L10304:
 19025                        ;					k_send_window_me
                    ssage(pMsg->hwnd,pWin->nonclientGadgets[index].msgType,NULL,
                    0);
 19026                        	.line	3392
 19027 04:5476: F4 00 00     	pea	#<$0
 19028 04:5479: F4 00 00     	pea	#^$0
 19029 04:547C: F4 00 00     	pea	#<$0
 19030 04:547F: A0 00 00     	ldy	#$0
 19031 04:5482: A5 31        	lda	<L701+index_1
 19032 04:5484: 10 01        	bpl	L723
 19033 04:5486: 88           	dey
 19034                        L723:
 19035 04:5487: 85 01        	sta	<R0
 19036 04:5489: 84 03        	sty	<R0+2
 19037 04:548B: F4 00 00     	pea	#^$b
 19038 04:548E: F4 0B 00     	pea	#<$b
 19039 04:5491: D4 03        	pei	<R0+2
 19040 04:5493: D4 01        	pei	<R0
 19041                        	xref	~~~lmul
 19042 04:5495: 22 xx xx xx  	jsl	~~~lmul
 19043 04:5499: 85 01        	sta	<R0
 19044 04:549B: 86 03        	stx	<R0+2
 19045 04:549D: 18           	clc
 19046 04:549E: A9 28 00     	lda	#$28
 19047 04:54A1: 65 11        	adc	<L701+pWin_1
 19048 04:54A3: 85 05        	sta	<R1
 19049 04:54A5: A9 00 00     	lda	#$0
 19050 04:54A8: 65 13        	adc	<L701+pWin_1+2
 19051 04:54AA: 85 07        	sta	<R1+2
 19052 04:54AC: 18           	clc
 19053 04:54AD: A5 05        	lda	<R1
 19054 04:54AF: 65 01        	adc	<R0
 19055 04:54B1: 85 09        	sta	<R2
 19056 04:54B3: A5 07        	lda	<R1+2
 19057 04:54B5: 65 03        	adc	<R0+2
  Thu Dec  3 2020 22:25                                                Page 371


 19058 04:54B7: 85 0B        	sta	<R2+2
 19059 04:54B9: A7 09        	lda	[<R2]
 19060 04:54BB: 48           	pha
 19061 04:54BC: A0 0C 00     	ldy	#$c
 19062 04:54BF: B7 3B        	lda	[<L700+pMsg_0],Y
 19063 04:54C1: 48           	pha
 19064 04:54C2: A0 0A 00     	ldy	#$a
 19065 04:54C5: B7 3B        	lda	[<L700+pMsg_0],Y
 19066 04:54C7: 48           	pha
 19067 04:54C8: 22 xx xx xx  	jsl	~~k_send_window_message
 19068                        ;					break;
 19069                        	.line	3393
 19070 04:54CC: 82 08 00     	brl	L10303
 19071                        ;				}
 19072                        	.line	3394
 19073                        L10302:
 19074                        	xref	~~~swt
 19075 04:54CF: 22 xx xx xx  	jsl	~~~swt
 19076 04:54D3: 00 00        	dw	0
 19077 04:54D5: 75 54        	dw	L10304-1
 19078                        L10303:
 19079                        ;
 19080                        ;
 19081                        ;				//k_user_EndWindowForDra
                    g(pMsg->hwnd,defPrcData->area.x,defPrcData->area.y);
 19082                        ;
 19083                        ;				//k_event_unlock_focus()
                    ;
 19084                        ;
 19085                        ;				if(defPrcData)
 19086                        	.line	3401
 19087                        ;					defPrcData->canD
                    rag = FALSE;
 19088 04:54D7: A5 33        	lda	<L701+defPrcData_1
 19089 04:54D9: 05 35        	ora	<L701+defPrcData_1+2
 19090 04:54DB: D0 03        	bne	L724
 19091 04:54DD: 82 0B 00     	brl	L10305
 19092                        L724:
 19093                        	.line	3402
 19094 04:54E0: E2 20        	sep	#$20
 19095                        	longa	off
 19096 04:54E2: A9 00        	lda	#$0
 19097 04:54E4: A0 0F 00     	ldy	#$f
 19098 04:54E7: 97 33        	sta	[<L701+defPrcData_1],Y
 19099 04:54E9: C2 20        	rep	#$20
 19100                        	longa	on
 19101                        ;
 19102                        ;				break;
 19103                        L10305:
 19104                        	.line	3404
 19105 04:54EB: 82 1C 01     	brl	L10272
 19106                        ;			case FX_NC_RBUTTON_DOWN:
 19107                        	.line	3405
 19108                        L10306:
 19109                        ;				k_debug_string("DefWindo
                    wProc::FX_NC_RBUTTON_DOWN\r\n");
 19110                        	.line	3406
 19111 04:54EE: F4 xx xx     	pea	#^L699+914
  Thu Dec  3 2020 22:25                                                Page 372


 19112 04:54F1: F4 xx xx     	pea	#<L699+914
 19113 04:54F4: 22 xx xx xx  	jsl	~~k_debug_string
 19114                        ;
 19115                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 19116                        	.line	3408
 19117 04:54F8: A0 17 00     	ldy	#$17
 19118 04:54FB: B7 3B        	lda	[<L700+pMsg_0],Y
 19119 04:54FD: 85 21        	sta	<L701+cx_1
 19120                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 19121                        	.line	3409
 19122 04:54FF: A0 19 00     	ldy	#$19
 19123 04:5502: B7 3B        	lda	[<L700+pMsg_0],Y
 19124 04:5504: 85 23        	sta	<L701+cy_1
 19125                        ;
 19126                        ;				dx = (cx - pWin->win_x);
 19127                        	.line	3411
 19128 04:5506: 38           	sec
 19129 04:5507: A5 21        	lda	<L701+cx_1
 19130 04:5509: A0 08 00     	ldy	#$8
 19131 04:550C: F7 11        	sbc	[<L701+pWin_1],Y
 19132 04:550E: 85 25        	sta	<L701+dx_1
 19133                        ;				dy = (cy - pWin->win_y);
 19134                        	.line	3412
 19135 04:5510: 38           	sec
 19136 04:5511: A5 23        	lda	<L701+cy_1
 19137 04:5513: A0 0A 00     	ldy	#$a
 19138 04:5516: F7 11        	sbc	[<L701+pWin_1],Y
 19139 04:5518: 85 27        	sta	<L701+dy_1
 19140                        ;
 19141                        ;
 19142                        ;				for(index = 0;index<8;in
                    dex++)
 19143                        	.line	3415
 19144 04:551A: 64 31        	stz	<L701+index_1
 19145                        L10309:
 19146                        ;				{
 19147                        	.line	3416
 19148                        ;					//k_debug_rect("
                    testWindowProc::nonclientGadgets:rect:",&pWin->nonclientGadg
                    ets[index].area);
 19149                        ;
 19150                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 19151                        	.line	3419
 19152                        ;					{
 19153 04:551C: D4 23        	pei	<L701+cy_1
 19154 04:551E: D4 21        	pei	<L701+cx_1
 19155 04:5520: A0 00 00     	ldy	#$0
 19156 04:5523: A5 31        	lda	<L701+index_1
 19157 04:5525: 10 01        	bpl	L725
 19158 04:5527: 88           	dey
 19159                        L725:
 19160 04:5528: 85 01        	sta	<R0
 19161 04:552A: 84 03        	sty	<R0+2
 19162 04:552C: F4 00 00     	pea	#^$b
 19163 04:552F: F4 0B 00     	pea	#<$b
  Thu Dec  3 2020 22:25                                                Page 373


 19164 04:5532: D4 03        	pei	<R0+2
 19165 04:5534: D4 01        	pei	<R0
 19166                        	xref	~~~lmul
 19167 04:5536: 22 xx xx xx  	jsl	~~~lmul
 19168 04:553A: 85 01        	sta	<R0
 19169 04:553C: 86 03        	stx	<R0+2
 19170 04:553E: 18           	clc
 19171 04:553F: A9 20 00     	lda	#$20
 19172 04:5542: 65 01        	adc	<R0
 19173 04:5544: 85 05        	sta	<R1
 19174 04:5546: A9 00 00     	lda	#$0
 19175 04:5549: 65 03        	adc	<R0+2
 19176 04:554B: 85 07        	sta	<R1+2
 19177 04:554D: 18           	clc
 19178 04:554E: A5 11        	lda	<L701+pWin_1
 19179 04:5550: 65 05        	adc	<R1
 19180 04:5552: 85 01        	sta	<R0
 19181 04:5554: A5 13        	lda	<L701+pWin_1+2
 19182 04:5556: 65 07        	adc	<R1+2
 19183 04:5558: 85 03        	sta	<R0+2
 19184 04:555A: D4 03        	pei	<R0+2
 19185 04:555C: D4 01        	pei	<R0
 19186 04:555E: 22 xx xx xx  	jsl	~~k_is_inside_rect
 19187 04:5562: AA           	tax
 19188 04:5563: D0 03        	bne	L726
 19189 04:5565: 82 4A 00     	brl	L10310
 19190                        L726:
 19191                        	.line	3420
 19192                        ;						k_debug_
                    integer("testWindowProc::nonclientGadgets:rect:hit:",pWin->n
                    onclientGadgets[index].msgType);
 19193                        	.line	3421
 19194 04:5568: A0 00 00     	ldy	#$0
 19195 04:556B: A5 31        	lda	<L701+index_1
 19196 04:556D: 10 01        	bpl	L727
 19197 04:556F: 88           	dey
 19198                        L727:
 19199 04:5570: 85 01        	sta	<R0
 19200 04:5572: 84 03        	sty	<R0+2
 19201 04:5574: F4 00 00     	pea	#^$b
 19202 04:5577: F4 0B 00     	pea	#<$b
 19203 04:557A: D4 03        	pei	<R0+2
 19204 04:557C: D4 01        	pei	<R0
 19205                        	xref	~~~lmul
 19206 04:557E: 22 xx xx xx  	jsl	~~~lmul
 19207 04:5582: 85 01        	sta	<R0
 19208 04:5584: 86 03        	stx	<R0+2
 19209 04:5586: 18           	clc
 19210 04:5587: A9 28 00     	lda	#$28
 19211 04:558A: 65 11        	adc	<L701+pWin_1
 19212 04:558C: 85 05        	sta	<R1
 19213 04:558E: A9 00 00     	lda	#$0
 19214 04:5591: 65 13        	adc	<L701+pWin_1+2
 19215 04:5593: 85 07        	sta	<R1+2
 19216 04:5595: 18           	clc
 19217 04:5596: A5 05        	lda	<R1
 19218 04:5598: 65 01        	adc	<R0
 19219 04:559A: 85 09        	sta	<R2
  Thu Dec  3 2020 22:25                                                Page 374


 19220 04:559C: A5 07        	lda	<R1+2
 19221 04:559E: 65 03        	adc	<R0+2
 19222 04:55A0: 85 0B        	sta	<R2+2
 19223 04:55A2: A7 09        	lda	[<R2]
 19224 04:55A4: 48           	pha
 19225 04:55A5: F4 xx xx     	pea	#^L699+950
 19226 04:55A8: F4 xx xx     	pea	#<L699+950
 19227 04:55AB: 22 xx xx xx  	jsl	~~k_debug_integer
 19228                        ;						break;
 19229                        	.line	3422
 19230 04:55AF: 82 12 00     	brl	L10308
 19231                        ;					}
 19232                        	.line	3423
 19233                        ;				}
 19234                        L10310:
 19235                        	.line	3424
 19236                        L10307:
 19237 04:55B2: E6 31        	inc	<L701+index_1
 19238 04:55B4: 38           	sec
 19239 04:55B5: A5 31        	lda	<L701+index_1
 19240 04:55B7: E9 08 00     	sbc	#<$8
 19241 04:55BA: 70 03        	bvs	L728
 19242 04:55BC: 49 00 80     	eor	#$8000
 19243                        L728:
 19244 04:55BF: 30 03        	bmi	L729
 19245 04:55C1: 82 58 FF     	brl	L10309
 19246                        L729:
 19247                        L10308:
 19248                        ;
 19249                        ;
 19250                        ;
 19251                        ;
 19252                        ;				/*
 19253                        ;				if(pWin->style & FXWS_SY
                    SMENU)
 19254                        ;				{
 19255                        ;					gx = k_user_getS
                    ystemMetric(SM_CXGADGET);
 19256                        ;					gy = k_user_getS
                    ystemMetric(SM_CYGADGET);
 19257                        ;					bx = k_user_getS
                    ystemMetric(SM_CXBORDER);
 19258                        ;					by = k_user_getS
                    ystemMetric(SM_CYBORDER);
 19259                        ;
 19260                        ;					if((dx > bx) && 
                    (dx < (bx + gx)))
 19261                        ;					{
 19262                        ;						if((dy >
                     by) && (dy < (by + gy)))
 19263                        ;						{
 19264                        ;							
                    k_debug_string("DefWindowProc::FX_NC_RBUTTON_DOWN:CLOSEBOX\r
                    \n");
 19265                        ;						}
 19266                        ;					}
 19267                        ;				}
 19268                        ;
  Thu Dec  3 2020 22:25                                                Page 375


 19269                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:cx:",cx);
 19270                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:cy:",cy);
 19271                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:dx:",dx);
 19272                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:dy:",dy);
 19273                        ;				*/
 19274                        ;				break;
 19275                        	.line	3451
 19276 04:55C4: 82 43 00     	brl	L10272
 19277                        ;			default:
 19278                        	.line	3452
 19279                        L10311:
 19280                        ;				break;
 19281                        	.line	3453
 19282 04:55C7: 82 40 00     	brl	L10272
 19283                        ;			}
 19284                        	.line	3454
 19285                        L10271:
 19286                        	xref	~~~swt
 19287 04:55CA: 22 xx xx xx  	jsl	~~~swt
 19288 04:55CE: 0E 00        	dw	14
 19289 04:55D0: 04 0F        	dw	3844
 19290 04:55D2: 41 4F        	dw	L10279-1
 19291 04:55D4: 03 8F        	dw	36611
 19292 04:55D6: EF 4F        	dw	L10282-1
 19293 04:55D8: 04 8F        	dw	36612
 19294 04:55DA: 38 51        	dw	L10288-1
 19295 04:55DC: 05 8F        	dw	36613
 19296 04:55DE: E3 52        	dw	L10298-1
 19297 04:55E0: 06 8F        	dw	36614
 19298 04:55E2: DA 53        	dw	L10300-1
 19299 04:55E4: 08 8F        	dw	36616
 19300 04:55E6: ED 54        	dw	L10306-1
 19301 04:55E8: 01 FB        	dw	64257
 19302 04:55EA: 61 4F        	dw	L10280-1
 19303 04:55EC: 08 FB        	dw	64264
 19304 04:55EE: B7 4F        	dw	L10281-1
 19305 04:55F0: 0B FB        	dw	64267
 19306 04:55F2: 3E 4E        	dw	L10273-1
 19307 04:55F4: 0C FB        	dw	64268
 19308 04:55F6: 5E 4E        	dw	L10274-1
 19309 04:55F8: 0D FB        	dw	64269
 19310 04:55FA: 7E 4E        	dw	L10275-1
 19311 04:55FC: 0E FB        	dw	64270
 19312 04:55FE: B2 4E        	dw	L10276-1
 19313 04:5600: 0F FB        	dw	64271
 19314 04:5602: 21 4F        	dw	L10278-1
 19315 04:5604: FF FB        	dw	64511
 19316 04:5606: EB 4E        	dw	L10277-1
 19317 04:5608: C6 55        	dw	L10311-1
 19318                        L10272:
 19319                        ;		}
 19320                        	.line	3455
 19321                        ;	}
 19322                        L10270:
  Thu Dec  3 2020 22:25                                                Page 376


 19323                        	.line	3456
 19324                        ;	return bRet;
 19325                        L10268:
 19326                        	.line	3457
 19327 04:560A: A5 37        	lda	<L701+bRet_1
 19328 04:560C: 29 FF 00     	and	#$ff
 19329                        L730:
 19330 04:560F: A8           	tay
 19331 04:5610: A5 39        	lda	<L700+2
 19332 04:5612: 85 3D        	sta	<L700+2+4
 19333 04:5614: A5 38        	lda	<L700+1
 19334 04:5616: 85 3C        	sta	<L700+1+4
 19335 04:5618: 2B           	pld
 19336 04:5619: 3B           	tsc
 19337 04:561A: 18           	clc
 19338 04:561B: 69 3B 00     	adc	#L700+4
 19339 04:561E: 1B           	tcs
 19340 04:561F: 98           	tya
 19341 04:5620: 6B           	rtl
 19342                        ;}
 19343                        	.line	3458
 19344                        	.endblock	3458
 19345             00000037   L700	equ	55
 19346             0000000D   L701	equ	13
 19347 04:5621:              	ends
 19348                        	efunc
 19349                        	.endfunc	3458,13,55
 19350                        	.line	3458
 19351                        	data
 19352                        L699:
 19353 00:0F56: 44 65 66 57  	db	$44,$65,$66,$57,$6E,$64,$50,$72,$6F,$63,
                    $3A,$3A,$64,$65,$66
       00:0F5A: 6E 64 50 72 
       00:0F5E: 6F 63 3A 3A 
       00:0F62: 64 65 66 
 19354 00:0F65: 50 72 63 44  	db	$50,$72,$63,$44,$61,$74,$61,$5B,$63,$72,
                    $65,$61,$74,$65,$5D
       00:0F69: 61 74 61 5B 
       00:0F6D: 63 72 65 61 
       00:0F71: 74 65 5D 
 19355 00:0F74: 3A 70 4D 73  	db	$3A,$70,$4D,$73,$67,$2D,$3E,$68,$77,$6E,
                    $64,$3A,$00,$44,$65
       00:0F78: 67 2D 3E 68 
       00:0F7C: 77 6E 64 3A 
       00:0F80: 00 44 65 
 19356 00:0F83: 66 57 69 6E  	db	$66,$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,
                    $63,$3A,$3A,$46,$58
       00:0F87: 64 6F 77 50 
       00:0F8B: 72 6F 63 3A 
       00:0F8F: 3A 46 58 
 19357 00:0F92: 5F 52 45 53  	db	$5F,$52,$45,$53,$49,$5A,$45,$5F,$57,$49,
                    $4E,$44,$4F,$57,$5F
       00:0F96: 49 5A 45 5F 
       00:0F9A: 57 49 4E 44 
       00:0F9E: 4F 57 5F 
 19358 00:0FA1: 53 54 41 52  	db	$53,$54,$41,$52,$54,$3A,$00,$44,$65,$66,
                    $57,$69,$6E,$64,$6F
       00:0FA5: 54 3A 00 44 
  Thu Dec  3 2020 22:25                                                Page 377


       00:0FA9: 65 66 57 69 
       00:0FAD: 6E 64 6F 
 19359 00:0FB0: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $52,$45,$53,$49,$5A
       00:0FB4: 63 3A 3A 46 
       00:0FB8: 58 5F 52 45 
       00:0FBC: 53 49 5A 
 19360 00:0FBF: 45 5F 57 49  	db	$45,$5F,$57,$49,$4E,$44,$4F,$57,$5F,$45,
                    $4E,$44,$3A,$00,$44
       00:0FC3: 4E 44 4F 57 
       00:0FC7: 5F 45 4E 44 
       00:0FCB: 3A 00 44 
 19361 00:0FCE: 65 66 57 69  	db	$65,$66,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0FD2: 6E 64 6F 77 
       00:0FD6: 50 72 6F 63 
       00:0FDA: 3A 3A 46 
 19362 00:0FDD: 58 5F 44 52  	db	$58,$5F,$44,$52,$41,$47,$5F,$57,$49,$4E,
                    $44,$4F,$57,$5F,$53
       00:0FE1: 41 47 5F 57 
       00:0FE5: 49 4E 44 4F 
       00:0FE9: 57 5F 53 
 19363 00:0FEC: 54 41 52 54  	db	$54,$41,$52,$54,$3A,$00,$44,$65,$66,$57,
                    $69,$6E,$64,$6F,$77
       00:0FF0: 3A 00 44 65 
       00:0FF4: 66 57 69 6E 
       00:0FF8: 64 6F 77 
 19364 00:0FFB: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$44,
                    $52,$41,$47,$5F,$57
       00:0FFF: 3A 3A 46 58 
       00:1003: 5F 44 52 41 
       00:1007: 47 5F 57 
 19365 00:100A: 49 4E 44 4F  	db	$49,$4E,$44,$4F,$57,$5F,$45,$4E,$44,$3A,
                    $00,$44,$65,$66,$57
       00:100E: 57 5F 45 4E 
       00:1012: 44 3A 00 44 
       00:1016: 65 66 57 
 19366 00:1019: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$57
       00:101D: 77 50 72 6F 
       00:1021: 63 3A 3A 46 
       00:1025: 58 5F 57 
 19367 00:1028: 49 4E 44 4F  	db	$49,$4E,$44,$4F,$57,$5F,$43,$4C,$4F,$53,
                    $45,$3A,$00,$44,$65
       00:102C: 57 5F 43 4C 
       00:1030: 4F 53 45 3A 
       00:1034: 00 44 65 
 19368 00:1037: 66 57 69 6E  	db	$66,$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,
                    $63,$3A,$3A,$46,$58
       00:103B: 64 6F 77 50 
       00:103F: 72 6F 63 3A 
       00:1043: 3A 46 58 
 19369 00:1046: 5F 52 45 53  	db	$5F,$52,$45,$53,$49,$5A,$45,$5F,$57,$49,
                    $4E,$44,$4F,$57,$3A
       00:104A: 49 5A 45 5F 
       00:104E: 57 49 4E 44 
       00:1052: 4F 57 3A 
 19370 00:1055: 00 44 65 66  	db	$00,$44,$65,$66,$57,$69,$6E,$64,$6F,$77,
  Thu Dec  3 2020 22:25                                                Page 378


                    $50,$72,$6F,$63,$3A
       00:1059: 57 69 6E 64 
       00:105D: 6F 77 50 72 
       00:1061: 6F 63 3A 
 19371 00:1064: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4C,$42,$55,$54,$54,$4F,
                    $4E,$5F,$44,$4F,$57
       00:1068: 4C 42 55 54 
       00:106C: 54 4F 4E 5F 
       00:1070: 44 4F 57 
 19372 00:1073: 4E 3A 00 44  	db	$4E,$3A,$00,$44,$65,$66,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:1077: 65 66 57 69 
       00:107B: 6E 64 6F 77 
       00:107F: 50 72 6F 
 19373 00:1082: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,
                    $5F,$4E,$4F,$4E,$43
       00:1086: 58 5F 44 52 
       00:108A: 41 57 5F 4E 
       00:108E: 4F 4E 43 
 19374 00:1091: 4C 49 45 4E  	db	$4C,$49,$45,$4E,$54,$0D,$0A,$00,$44,$65,
                    $66,$57,$69,$6E,$64
       00:1095: 54 0D 0A 00 
       00:1099: 44 65 66 57 
       00:109D: 69 6E 64 
 19375 00:10A0: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$4E,$43,$5F,$4D
       00:10A4: 6F 63 3A 3A 
       00:10A8: 46 58 5F 4E 
       00:10AC: 43 5F 4D 
 19376 00:10AF: 4F 55 53 45  	db	$4F,$55,$53,$45,$5F,$4D,$4F,$56,$45,$0D,
                    $0A,$00,$41,$52,$52
       00:10B3: 5F 4D 4F 56 
       00:10B7: 45 0D 0A 00 
       00:10BB: 41 52 52 
 19377 00:10BE: 4F 57 00 44  	db	$4F,$57,$00,$44,$65,$66,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:10C2: 65 66 57 69 
       00:10C6: 6E 64 6F 77 
       00:10CA: 50 72 6F 
 19378 00:10CD: 63 3A 3A 6E  	db	$63,$3A,$3A,$6E,$6F,$6E,$63,$6C,$69,$65,
                    $6E,$74,$47,$61,$64
       00:10D1: 6F 6E 63 6C 
       00:10D5: 69 65 6E 74 
       00:10D9: 47 61 64 
 19379 00:10DC: 67 65 74 73  	db	$67,$65,$74,$73,$3A,$72,$65,$63,$74,$3A,
                    $68,$69,$74,$3A,$00
       00:10E0: 3A 72 65 63 
       00:10E4: 74 3A 68 69 
       00:10E8: 74 3A 00 
 19380 00:10EB: 52 45 53 49  	db	$52,$45,$53,$49,$5A,$45,$00,$44,$65,$66,
                    $57,$69,$6E,$64,$6F
       00:10EF: 5A 45 00 44 
       00:10F3: 65 66 57 69 
       00:10F7: 6E 64 6F 
 19381 00:10FA: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $4E,$43,$5F,$4D,$4F
       00:10FE: 63 3A 3A 46 
       00:1102: 58 5F 4E 43 
  Thu Dec  3 2020 22:25                                                Page 379


       00:1106: 5F 4D 4F 
 19382 00:1109: 55 53 45 5F  	db	$55,$53,$45,$5F,$4D,$4F,$56,$45,$3A,$63,
                    $78,$3A,$00,$44,$65
       00:110D: 4D 4F 56 45 
       00:1111: 3A 63 78 3A 
       00:1115: 00 44 65 
 19383 00:1118: 66 57 69 6E  	db	$66,$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,
                    $63,$3A,$3A,$46,$58
       00:111C: 64 6F 77 50 
       00:1120: 72 6F 63 3A 
       00:1124: 3A 46 58 
 19384 00:1127: 5F 4E 43 5F  	db	$5F,$4E,$43,$5F,$4D,$4F,$55,$53,$45,$5F,
                    $4D,$4F,$56,$45,$3A
       00:112B: 4D 4F 55 53 
       00:112F: 45 5F 4D 4F 
       00:1133: 56 45 3A 
 19385 00:1136: 63 79 3A 00  	db	$63,$79,$3A,$00,$44,$65,$66,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:113A: 44 65 66 57 
       00:113E: 69 6E 64 6F 
       00:1142: 77 50 72 
 19386 00:1145: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4E,$43,$5F,
                    $4C,$42,$55,$54,$54
       00:1149: 46 58 5F 4E 
       00:114D: 43 5F 4C 42 
       00:1151: 55 54 54 
 19387 00:1154: 4F 4E 5F 44  	db	$4F,$4E,$5F,$44,$4F,$57,$4E,$3A,$00,$44,
                    $65,$66,$57,$69,$6E
       00:1158: 4F 57 4E 3A 
       00:115C: 00 44 65 66 
       00:1160: 57 69 6E 
 19388 00:1163: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$6E,
                    $6F,$6E,$63,$6C,$69
       00:1167: 72 6F 63 3A 
       00:116B: 3A 6E 6F 6E 
       00:116F: 63 6C 69 
 19389 00:1172: 65 6E 74 47  	db	$65,$6E,$74,$47,$61,$64,$67,$65,$74,$73,
                    $3A,$72,$65,$63,$74
       00:1176: 61 64 67 65 
       00:117A: 74 73 3A 72 
       00:117E: 65 63 74 
 19390 00:1181: 3A 68 69 74  	db	$3A,$68,$69,$74,$3A,$00,$44,$65,$66,$57,
                    $69,$6E,$64,$6F,$77
       00:1185: 3A 00 44 65 
       00:1189: 66 57 69 6E 
       00:118D: 64 6F 77 
 19391 00:1190: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4E,
                    $43,$5F,$4C,$42,$55
       00:1194: 3A 3A 46 58 
       00:1198: 5F 4E 43 5F 
       00:119C: 4C 42 55 
 19392 00:119F: 54 54 4F 4E  	db	$54,$54,$4F,$4E,$5F,$44,$4F,$57,$4E,$3A,
                    $00,$46,$58,$5F,$52
       00:11A3: 5F 44 4F 57 
       00:11A7: 4E 3A 00 46 
       00:11AB: 58 5F 52 
 19393 00:11AE: 45 53 49 5A  	db	$45,$53,$49,$5A,$45,$5F,$57,$49,$4E,$44,
                    $4F,$57,$00,$44,$65
  Thu Dec  3 2020 22:25                                                Page 380


       00:11B2: 45 5F 57 49 
       00:11B6: 4E 44 4F 57 
       00:11BA: 00 44 65 
 19394 00:11BD: 66 57 69 6E  	db	$66,$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,
                    $63,$3A,$3A,$46,$58
       00:11C1: 64 6F 77 50 
       00:11C5: 72 6F 63 3A 
       00:11C9: 3A 46 58 
 19395 00:11CC: 5F 4E 43 5F  	db	$5F,$4E,$43,$5F,$4C,$42,$55,$54,$54,$4F,
                    $4E,$5F,$44,$52,$41
       00:11D0: 4C 42 55 54 
       00:11D4: 54 4F 4E 5F 
       00:11D8: 44 52 41 
 19396 00:11DB: 47 0D 0A 00  	db	$47,$0D,$0A,$00,$44,$65,$66,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:11DF: 44 65 66 57 
       00:11E3: 69 6E 64 6F 
       00:11E7: 77 50 72 
 19397 00:11EA: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4E,$43,$5F,
                    $4C,$42,$55,$54,$54
       00:11EE: 46 58 5F 4E 
       00:11F2: 43 5F 4C 42 
       00:11F6: 55 54 54 
 19398 00:11F9: 4F 4E 5F 44  	db	$4F,$4E,$5F,$44,$52,$41,$47,$3A,$72,$65,
                    $63,$74,$3A,$64,$65
       00:11FD: 52 41 47 3A 
       00:1201: 72 65 63 74 
       00:1205: 3A 64 65 
 19399 00:1208: 66 50 72 63  	db	$66,$50,$72,$63,$44,$61,$74,$61,$2D,$3E,
                    $61,$72,$65,$61,$2E
       00:120C: 44 61 74 61 
       00:1210: 2D 3E 61 72 
       00:1214: 65 61 2E 
 19400 00:1217: 78 3A 00 44  	db	$78,$3A,$00,$44,$65,$66,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:121B: 65 66 57 69 
       00:121F: 6E 64 6F 77 
       00:1223: 50 72 6F 
 19401 00:1226: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$4E,$43,$5F,$4C,
                    $42,$55,$54,$54,$4F
       00:122A: 58 5F 4E 43 
       00:122E: 5F 4C 42 55 
       00:1232: 54 54 4F 
 19402 00:1235: 4E 5F 44 52  	db	$4E,$5F,$44,$52,$41,$47,$3A,$72,$65,$63,
                    $74,$3A,$64,$65,$66
       00:1239: 41 47 3A 72 
       00:123D: 65 63 74 3A 
       00:1241: 64 65 66 
 19403 00:1244: 50 72 63 44  	db	$50,$72,$63,$44,$61,$74,$61,$2D,$3E,$61,
                    $72,$65,$61,$2E,$79
       00:1248: 61 74 61 2D 
       00:124C: 3E 61 72 65 
       00:1250: 61 2E 79 
 19404 00:1253: 3A 00 44 65  	db	$3A,$00,$44,$65,$66,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:1257: 66 57 69 6E 
       00:125B: 64 6F 77 50 
       00:125F: 72 6F 63 
  Thu Dec  3 2020 22:25                                                Page 381


 19405 00:1262: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$4E,$43,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:1266: 5F 4E 43 5F 
       00:126A: 4C 42 55 54 
       00:126E: 54 4F 4E 
 19406 00:1271: 5F 55 50 3A  	db	$5F,$55,$50,$3A,$00,$44,$65,$66,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:1275: 00 44 65 66 
       00:1279: 57 69 6E 64 
       00:127D: 6F 77 50 
 19407 00:1280: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4E,$43,
                    $5F,$4C,$42,$55,$54
       00:1284: 3A 46 58 5F 
       00:1288: 4E 43 5F 4C 
       00:128C: 42 55 54 
 19408 00:128F: 54 4F 4E 5F  	db	$54,$4F,$4E,$5F,$55,$50,$3A,$72,$65,$63,
                    $74,$3A,$64,$65,$66
       00:1293: 55 50 3A 72 
       00:1297: 65 63 74 3A 
       00:129B: 64 65 66 
 19409 00:129E: 50 72 63 44  	db	$50,$72,$63,$44,$61,$74,$61,$2D,$3E,$61,
                    $72,$65,$61,$2E,$78
       00:12A2: 61 74 61 2D 
       00:12A6: 3E 61 72 65 
       00:12AA: 61 2E 78 
 19410 00:12AD: 3A 00 44 65  	db	$3A,$00,$44,$65,$66,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:12B1: 66 57 69 6E 
       00:12B5: 64 6F 77 50 
       00:12B9: 72 6F 63 
 19411 00:12BC: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$4E,$43,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:12C0: 5F 4E 43 5F 
       00:12C4: 4C 42 55 54 
       00:12C8: 54 4F 4E 
 19412 00:12CB: 5F 55 50 3A  	db	$5F,$55,$50,$3A,$72,$65,$63,$74,$3A,$64,
                    $65,$66,$50,$72,$63
       00:12CF: 72 65 63 74 
       00:12D3: 3A 64 65 66 
       00:12D7: 50 72 63 
 19413 00:12DA: 44 61 74 61  	db	$44,$61,$74,$61,$2D,$3E,$61,$72,$65,$61,
                    $2E,$79,$3A,$00,$44
       00:12DE: 2D 3E 61 72 
       00:12E2: 65 61 2E 79 
       00:12E6: 3A 00 44 
 19414 00:12E9: 65 66 57 69  	db	$65,$66,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:12ED: 6E 64 6F 77 
       00:12F1: 50 72 6F 63 
       00:12F5: 3A 3A 46 
 19415 00:12F8: 58 5F 4E 43  	db	$58,$5F,$4E,$43,$5F,$52,$42,$55,$54,$54,
                    $4F,$4E,$5F,$44,$4F
       00:12FC: 5F 52 42 55 
       00:1300: 54 54 4F 4E 
       00:1304: 5F 44 4F 
 19416 00:1307: 57 4E 0D 0A  	db	$57,$4E,$0D,$0A,$00,$74,$65,$73,$74,$57,
                    $69,$6E,$64,$6F,$77
       00:130B: 00 74 65 73 
  Thu Dec  3 2020 22:25                                                Page 382


       00:130F: 74 57 69 6E 
       00:1313: 64 6F 77 
 19417 00:1316: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$6E,$6F,$6E,$63,
                    $6C,$69,$65,$6E,$74
       00:131A: 3A 3A 6E 6F 
       00:131E: 6E 63 6C 69 
       00:1322: 65 6E 74 
 19418 00:1325: 47 61 64 67  	db	$47,$61,$64,$67,$65,$74,$73,$3A,$72,$65,
                    $63,$74,$3A,$68,$69
       00:1329: 65 74 73 3A 
       00:132D: 72 65 63 74 
       00:1331: 3A 68 69 
 19419 00:1334: 74 3A 00     	db	$74,$3A,$00
 19420 00:1337:              	ends
 19421                        ;
 19422                        ;void k_user_EndWindowForDrag(HWND hWnd,int cx,int
                     cy)
 19423                        ;{
 19424                        	.line	3460
 19425                        	.line	3461
 19426                        	WINMAN
 19427                        	xdef	~~k_user_EndWindowForDrag
 19428                        	func
 19429                        	.function	3461
 19430                        ~~k_user_EndWindowForDrag:
 19431                        	longa	on
 19432                        	longi	on
 19433 04:5621: 3B           	tsc
 19434 04:5622: 38           	sec
 19435 04:5623: E9 0C 00     	sbc	#L732
 19436 04:5626: 1B           	tcs
 19437 04:5627: 0B           	phd
 19438 04:5628: 5B           	tcd
 19439             00000004   hWnd_0	set	4
 19440             00000008   cx_0	set	8
 19441             0000000A   cy_0	set	10
 19442                        	.block	3461
 19443                        ;	PWINDOW   pWin = NULL;
 19444                        ;	PDRAGDATA defPrcData = NULL;
 19445                        ;
 19446                        ;	if(hWnd)
 19447             00000000   pWin_1	set	0
 19448             00000004   defPrcData_1	set	4
 19449                        	.sym	pWin,0,138,1,32,27
 19450                        	.sym	defPrcData,4,138,1,32,26
 19451                        	.sym	hWnd,4,129,6,32
 19452                        	.sym	cx,8,5,6,16
 19453                        	.sym	cy,10,5,6,16
 19454 04:5629: 64 05        	stz	<L733+pWin_1
 19455 04:562B: 64 07        	stz	<L733+pWin_1+2
 19456 04:562D: 64 09        	stz	<L733+defPrcData_1
 19457 04:562F: 64 0B        	stz	<L733+defPrcData_1+2
 19458                        	.line	3465
 19459                        ;	{
 19460 04:5631: A5 10        	lda	<L732+hWnd_0
 19461 04:5633: 05 12        	ora	<L732+hWnd_0+2
 19462 04:5635: D0 03        	bne	L735
 19463 04:5637: 82 A9 00     	brl	L10312
  Thu Dec  3 2020 22:25                                                Page 383


 19464                        L735:
 19465                        	.line	3466
 19466                        ;		pWin = k_getWindowFromHandle(hWnd);
 19467                        	.line	3467
 19468 04:563A: D4 12        	pei	<L732+hWnd_0+2
 19469 04:563C: D4 10        	pei	<L732+hWnd_0
 19470 04:563E: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 19471 04:5642: 85 05        	sta	<L733+pWin_1
 19472 04:5644: 86 07        	stx	<L733+pWin_1+2
 19473                        ;
 19474                        ;		if(pWin)
 19475                        	.line	3469
 19476                        ;		{
 19477 04:5646: A5 05        	lda	<L733+pWin_1
 19478 04:5648: 05 07        	ora	<L733+pWin_1+2
 19479 04:564A: D0 03        	bne	L736
 19480 04:564C: 82 90 00     	brl	L10313
 19481                        L736:
 19482                        	.line	3470
 19483                        ;			defPrcData = (PDRAGDATA)k_user_G
                    etWindowData(hWnd,CLIENTDATA_DEFAULT);
 19484                        	.line	3471
 19485 04:564F: F4 00 00     	pea	#<$0
 19486 04:5652: D4 12        	pei	<L732+hWnd_0+2
 19487 04:5654: D4 10        	pei	<L732+hWnd_0
 19488 04:5656: 22 2D 1A 04  	jsl	~~k_user_GetWindowData
 19489 04:565A: 85 09        	sta	<L733+defPrcData_1
 19490 04:565C: 86 0B        	stx	<L733+defPrcData_1+2
 19491                        ;			if(defPrcData != NULL)
 19492                        	.line	3472
 19493                        ;			{
 19494 04:565E: A5 09        	lda	<L733+defPrcData_1
 19495 04:5660: 05 0B        	ora	<L733+defPrcData_1+2
 19496 04:5662: D0 03        	bne	L737
 19497 04:5664: 82 78 00     	brl	L10314
 19498                        L737:
 19499                        	.line	3473
 19500                        ;				k_draw_rect(defPrcData->
                    area.x,
 19501                        	.line	3474
 19502                        ;							
                    defPrcData->area.y,
 19503                        ;							
                    defPrcData->area.x + pWin->win_width  - 1,
 19504                        ;							
                    defPrcData->area.y + pWin->win_height - 1,
 19505                        ;							
                    FILLCOLOR_TRANSPARENT,
 19506                        ;							
                    BITMAP_NOBRUSH,
 19507                        ;							
                    BITMAP_FRONT);
 19508 04:5667: F4 00 00     	pea	#<$0
 19509 04:566A: F4 00 00     	pea	#<$0
 19510 04:566D: F4 00 00     	pea	#<$0
 19511 04:5670: 18           	clc
 19512 04:5671: A0 02 00     	ldy	#$2
 19513 04:5674: B7 09        	lda	[<L733+defPrcData_1],Y
  Thu Dec  3 2020 22:25                                                Page 384


 19514 04:5676: A0 0E 00     	ldy	#$e
 19515 04:5679: 77 05        	adc	[<L733+pWin_1],Y
 19516 04:567B: 85 01        	sta	<R0
 19517 04:567D: 18           	clc
 19518 04:567E: A9 FF FF     	lda	#$ffff
 19519 04:5681: 65 01        	adc	<R0
 19520 04:5683: 48           	pha
 19521 04:5684: 18           	clc
 19522 04:5685: A7 09        	lda	[<L733+defPrcData_1]
 19523 04:5687: A0 0C 00     	ldy	#$c
 19524 04:568A: 77 05        	adc	[<L733+pWin_1],Y
 19525 04:568C: 85 01        	sta	<R0
 19526 04:568E: 18           	clc
 19527 04:568F: A9 FF FF     	lda	#$ffff
 19528 04:5692: 65 01        	adc	<R0
 19529 04:5694: 48           	pha
 19530 04:5695: A0 02 00     	ldy	#$2
 19531 04:5698: B7 09        	lda	[<L733+defPrcData_1],Y
 19532 04:569A: 48           	pha
 19533 04:569B: A7 09        	lda	[<L733+defPrcData_1]
 19534 04:569D: 48           	pha
 19535 04:569E: 22 xx xx xx  	jsl	~~k_draw_rect
 19536                        ;				if(defPrcData->isDrag)
 19537                        	.line	3481
 19538                        ;				{
 19539 04:56A2: A0 0E 00     	ldy	#$e
 19540 04:56A5: B7 09        	lda	[<L733+defPrcData_1],Y
 19541 04:56A7: 29 FF 00     	and	#$ff
 19542 04:56AA: D0 03        	bne	L738
 19543 04:56AC: 82 11 00     	brl	L10315
 19544                        L738:
 19545                        	.line	3482
 19546                        ;					k_user_MoveWindo
                    w_ex(hWnd,defPrcData->area.x,defPrcData->area.y);
 19547                        	.line	3483
 19548 04:56AF: A0 02 00     	ldy	#$2
 19549 04:56B2: B7 09        	lda	[<L733+defPrcData_1],Y
 19550 04:56B4: 48           	pha
 19551 04:56B5: A7 09        	lda	[<L733+defPrcData_1]
 19552 04:56B7: 48           	pha
 19553 04:56B8: D4 12        	pei	<L732+hWnd_0+2
 19554 04:56BA: D4 10        	pei	<L732+hWnd_0
 19555 04:56BC: 22 D8 09 04  	jsl	~~k_user_MoveWindow_ex
 19556                        ;				}
 19557                        	.line	3484
 19558                        ;				k_switch_window_page(hWn
                    d,BITMAP_FRONT,BITMAP_BACK,FALSE);
 19559                        L10315:
 19560                        	.line	3485
 19561 04:56C0: F4 00 00     	pea	#<$0
 19562 04:56C3: F4 10 00     	pea	#<$10
 19563 04:56C6: F4 00 00     	pea	#<$0
 19564 04:56C9: D4 12        	pei	<L732+hWnd_0+2
 19565 04:56CB: D4 10        	pei	<L732+hWnd_0
 19566 04:56CD: 22 27 5D 04  	jsl	~~k_switch_window_page
 19567                        ;
 19568                        ;				memset(defPrcData,0,size
                    of(DRAGDATA));
  Thu Dec  3 2020 22:25                                                Page 385


 19569                        	.line	3487
 19570 04:56D1: F4 11 00     	pea	#<$11
 19571 04:56D4: F4 00 00     	pea	#<$0
 19572 04:56D7: D4 0B        	pei	<L733+defPrcData_1+2
 19573 04:56D9: D4 09        	pei	<L733+defPrcData_1
 19574 04:56DB: 22 xx xx xx  	jsl	~~memset
 19575                        ;			}
 19576                        	.line	3488
 19577                        ;		}
 19578                        L10314:
 19579                        	.line	3489
 19580                        ;		k_event_unlock_focus();
 19581                        L10313:
 19582                        	.line	3490
 19583 04:56DF: 22 xx xx xx  	jsl	~~k_event_unlock_focus
 19584                        ;	}
 19585                        	.line	3491
 19586                        ;}
 19587                        L10312:
 19588                        	.line	3492
 19589                        L739:
 19590 04:56E3: A5 0E        	lda	<L732+2
 19591 04:56E5: 85 16        	sta	<L732+2+8
 19592 04:56E7: A5 0D        	lda	<L732+1
 19593 04:56E9: 85 15        	sta	<L732+1+8
 19594 04:56EB: 2B           	pld
 19595 04:56EC: 3B           	tsc
 19596 04:56ED: 18           	clc
 19597 04:56EE: 69 14 00     	adc	#L732+8
 19598 04:56F1: 1B           	tcs
 19599 04:56F2: 6B           	rtl
 19600                        	.endblock	3492
 19601             0000000C   L732	equ	12
 19602             00000005   L733	equ	5
 19603 04:56F3:              	ends
 19604                        	efunc
 19605                        	.endfunc	3492,5,12
 19606                        	.line	3492
 19607                        ;
 19608                        ;void k_user_StartWindowForDrag(HWND hWnd,int cx,i
                    nt cy)
 19609                        ;{
 19610                        	.line	3494
 19611                        	.line	3495
 19612                        	WINMAN
 19613                        	xdef	~~k_user_StartWindowForDrag
 19614                        	func
 19615                        	.function	3495
 19616                        ~~k_user_StartWindowForDrag:
 19617                        	longa	on
 19618                        	longi	on
 19619 04:56F3: 3B           	tsc
 19620 04:56F4: 38           	sec
 19621 04:56F5: E9 0C 00     	sbc	#L740
 19622 04:56F8: 1B           	tcs
 19623 04:56F9: 0B           	phd
 19624 04:56FA: 5B           	tcd
 19625             00000004   hWnd_0	set	4
  Thu Dec  3 2020 22:25                                                Page 386


 19626             00000008   cx_0	set	8
 19627             0000000A   cy_0	set	10
 19628                        	.block	3495
 19629                        ;	PWINDOW   pWin = NULL;
 19630                        ;	PDRAGDATA defPrcData = NULL;
 19631                        ;
 19632                        ;	if(hWnd)
 19633             00000000   pWin_1	set	0
 19634             00000004   defPrcData_1	set	4
 19635                        	.sym	pWin,0,138,1,32,27
 19636                        	.sym	defPrcData,4,138,1,32,26
 19637                        	.sym	hWnd,4,129,6,32
 19638                        	.sym	cx,8,5,6,16
 19639                        	.sym	cy,10,5,6,16
 19640 04:56FB: 64 05        	stz	<L741+pWin_1
 19641 04:56FD: 64 07        	stz	<L741+pWin_1+2
 19642 04:56FF: 64 09        	stz	<L741+defPrcData_1
 19643 04:5701: 64 0B        	stz	<L741+defPrcData_1+2
 19644                        	.line	3499
 19645                        ;	{
 19646 04:5703: A5 10        	lda	<L740+hWnd_0
 19647 04:5705: 05 12        	ora	<L740+hWnd_0+2
 19648 04:5707: D0 03        	bne	L743
 19649 04:5709: 82 F2 00     	brl	L10316
 19650                        L743:
 19651                        	.line	3500
 19652                        ;		k_event_lock_focus_ex(hWnd,TRUE);
 19653                        	.line	3501
 19654 04:570C: F4 01 00     	pea	#<$1
 19655 04:570F: D4 12        	pei	<L740+hWnd_0+2
 19656 04:5711: D4 10        	pei	<L740+hWnd_0
 19657 04:5713: 22 xx xx xx  	jsl	~~k_event_lock_focus_ex
 19658                        ;
 19659                        ;		pWin = k_getWindowFromHandle(hWnd);
 19660                        	.line	3503
 19661 04:5717: D4 12        	pei	<L740+hWnd_0+2
 19662 04:5719: D4 10        	pei	<L740+hWnd_0
 19663 04:571B: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 19664 04:571F: 85 05        	sta	<L741+pWin_1
 19665 04:5721: 86 07        	stx	<L741+pWin_1+2
 19666                        ;
 19667                        ;		if(pWin)
 19668                        	.line	3505
 19669                        ;		{
 19670 04:5723: A5 05        	lda	<L741+pWin_1
 19671 04:5725: 05 07        	ora	<L741+pWin_1+2
 19672 04:5727: D0 03        	bne	L744
 19673 04:5729: 82 D2 00     	brl	L10317
 19674                        L744:
 19675                        	.line	3506
 19676                        ;			defPrcData = (PDRAGDATA)k_user_G
                    etWindowData(hWnd,CLIENTDATA_DEFAULT);
 19677                        	.line	3507
 19678 04:572C: F4 00 00     	pea	#<$0
 19679 04:572F: D4 12        	pei	<L740+hWnd_0+2
 19680 04:5731: D4 10        	pei	<L740+hWnd_0
 19681 04:5733: 22 2D 1A 04  	jsl	~~k_user_GetWindowData
 19682 04:5737: 85 09        	sta	<L741+defPrcData_1
  Thu Dec  3 2020 22:25                                                Page 387


 19683 04:5739: 86 0B        	stx	<L741+defPrcData_1+2
 19684                        ;			if(defPrcData != NULL)
 19685                        	.line	3508
 19686                        ;			{
 19687 04:573B: A5 09        	lda	<L741+defPrcData_1
 19688 04:573D: 05 0B        	ora	<L741+defPrcData_1+2
 19689 04:573F: D0 03        	bne	L745
 19690 04:5741: 82 BA 00     	brl	L10318
 19691                        L745:
 19692                        	.line	3509
 19693                        ;				k_switch_window_page(hWn
                    d,BITMAP_BACK,BITMAP_FRONT,TRUE);
 19694                        	.line	3510
 19695 04:5744: F4 01 00     	pea	#<$1
 19696 04:5747: F4 00 00     	pea	#<$0
 19697 04:574A: F4 10 00     	pea	#<$10
 19698 04:574D: D4 12        	pei	<L740+hWnd_0+2
 19699 04:574F: D4 10        	pei	<L740+hWnd_0
 19700 04:5751: 22 27 5D 04  	jsl	~~k_switch_window_page
 19701                        ;
 19702                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:cx:",cx);
 19703                        	.line	3512
 19704 04:5755: D4 14        	pei	<L740+cx_0
 19705 04:5757: F4 xx xx     	pea	#^L731
 19706 04:575A: F4 xx xx     	pea	#<L731
 19707 04:575D: 22 xx xx xx  	jsl	~~k_debug_integer
 19708                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:cy:",cy);
 19709                        	.line	3513
 19710 04:5761: D4 16        	pei	<L740+cy_0
 19711 04:5763: F4 xx xx     	pea	#^L731+30
 19712 04:5766: F4 xx xx     	pea	#<L731+30
 19713 04:5769: 22 xx xx xx  	jsl	~~k_debug_integer
 19714                        ;
 19715                        ;
 19716                        ;				defPrcData->area.x = cx;
 19717                        	.line	3516
 19718 04:576D: A5 14        	lda	<L740+cx_0
 19719 04:576F: 87 09        	sta	[<L741+defPrcData_1]
 19720                        ;				defPrcData->area.y = cy;
 19721                        	.line	3517
 19722 04:5771: A5 16        	lda	<L740+cy_0
 19723 04:5773: A0 02 00     	ldy	#$2
 19724 04:5776: 97 09        	sta	[<L741+defPrcData_1],Y
 19725                        ;
 19726                        ;				defPrcData->xoffset = cx
                     - pWin->win_x;
 19727                        	.line	3519
 19728 04:5778: 38           	sec
 19729 04:5779: A5 14        	lda	<L740+cx_0
 19730 04:577B: A0 08 00     	ldy	#$8
 19731 04:577E: F7 05        	sbc	[<L741+pWin_1],Y
 19732 04:5780: A0 08 00     	ldy	#$8
 19733 04:5783: 97 09        	sta	[<L741+defPrcData_1],Y
 19734                        ;				defPrcData->yoffset = cy
                     - pWin->win_y;
 19735                        	.line	3520
  Thu Dec  3 2020 22:25                                                Page 388


 19736 04:5785: 38           	sec
 19737 04:5786: A5 16        	lda	<L740+cy_0
 19738 04:5788: A0 0A 00     	ldy	#$a
 19739 04:578B: F7 05        	sbc	[<L741+pWin_1],Y
 19740 04:578D: A0 0A 00     	ldy	#$a
 19741 04:5790: 97 09        	sta	[<L741+defPrcData_1],Y
 19742                        ;
 19743                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:defPrcData->xoffset:",defPrcData->xoffset
                    );
 19744                        	.line	3522
 19745 04:5792: A0 08 00     	ldy	#$8
 19746 04:5795: B7 09        	lda	[<L741+defPrcData_1],Y
 19747 04:5797: 48           	pha
 19748 04:5798: F4 xx xx     	pea	#^L731+60
 19749 04:579B: F4 xx xx     	pea	#<L731+60
 19750 04:579E: 22 xx xx xx  	jsl	~~k_debug_integer
 19751                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:defPrcData->yoffset:",defPrcData->yoffset
                    );
 19752                        	.line	3523
 19753 04:57A2: A0 0A 00     	ldy	#$a
 19754 04:57A5: B7 09        	lda	[<L741+defPrcData_1],Y
 19755 04:57A7: 48           	pha
 19756 04:57A8: F4 xx xx     	pea	#^L731+107
 19757 04:57AB: F4 xx xx     	pea	#<L731+107
 19758 04:57AE: 22 xx xx xx  	jsl	~~k_debug_integer
 19759                        ;
 19760                        ;
 19761                        ;				k_draw_rect(pWin->win_x,
 19762                        	.line	3526
 19763                        ;							
                    pWin->win_y,
 19764                        ;							
                    pWin->win_x + pWin->win_width  - 1,
 19765                        ;							
                    pWin->win_y + pWin->win_height - 1,
 19766                        ;							
                    DEFAULT_WIN_HIGHLIGHT_COLOR,
 19767                        ;							
                    BITMAP_NOBRUSH,
 19768                        ;							
                    BITMAP_FRONT);
 19769 04:57B2: F4 00 00     	pea	#<$0
 19770 04:57B5: F4 00 00     	pea	#<$0
 19771 04:57B8: F4 03 00     	pea	#<$3
 19772 04:57BB: 18           	clc
 19773 04:57BC: A0 0A 00     	ldy	#$a
 19774 04:57BF: B7 05        	lda	[<L741+pWin_1],Y
 19775 04:57C1: A0 0E 00     	ldy	#$e
 19776 04:57C4: 77 05        	adc	[<L741+pWin_1],Y
 19777 04:57C6: 85 01        	sta	<R0
 19778 04:57C8: 18           	clc
 19779 04:57C9: A9 FF FF     	lda	#$ffff
 19780 04:57CC: 65 01        	adc	<R0
 19781 04:57CE: 48           	pha
 19782 04:57CF: 18           	clc
 19783 04:57D0: A0 08 00     	ldy	#$8
  Thu Dec  3 2020 22:25                                                Page 389


 19784 04:57D3: B7 05        	lda	[<L741+pWin_1],Y
 19785 04:57D5: A0 0C 00     	ldy	#$c
 19786 04:57D8: 77 05        	adc	[<L741+pWin_1],Y
 19787 04:57DA: 85 01        	sta	<R0
 19788 04:57DC: 18           	clc
 19789 04:57DD: A9 FF FF     	lda	#$ffff
 19790 04:57E0: 65 01        	adc	<R0
 19791 04:57E2: 48           	pha
 19792 04:57E3: A0 0A 00     	ldy	#$a
 19793 04:57E6: B7 05        	lda	[<L741+pWin_1],Y
 19794 04:57E8: 48           	pha
 19795 04:57E9: A0 08 00     	ldy	#$8
 19796 04:57EC: B7 05        	lda	[<L741+pWin_1],Y
 19797 04:57EE: 48           	pha
 19798 04:57EF: 22 xx xx xx  	jsl	~~k_draw_rect
 19799                        ;
 19800                        ;
 19801                        ;				defPrcData->isDrag = TRU
                    E;
 19802                        	.line	3535
 19803 04:57F3: E2 20        	sep	#$20
 19804                        	longa	off
 19805 04:57F5: A9 01        	lda	#$1
 19806 04:57F7: A0 0E 00     	ldy	#$e
 19807 04:57FA: 97 09        	sta	[<L741+defPrcData_1],Y
 19808 04:57FC: C2 20        	rep	#$20
 19809                        	longa	on
 19810                        ;			}
 19811                        	.line	3536
 19812                        ;		}
 19813                        L10318:
 19814                        	.line	3537
 19815                        ;	}
 19816                        L10317:
 19817                        	.line	3538
 19818                        ;
 19819                        ;}
 19820                        L10316:
 19821                        	.line	3540
 19822                        L746:
 19823 04:57FE: A5 0E        	lda	<L740+2
 19824 04:5800: 85 16        	sta	<L740+2+8
 19825 04:5802: A5 0D        	lda	<L740+1
 19826 04:5804: 85 15        	sta	<L740+1+8
 19827 04:5806: 2B           	pld
 19828 04:5807: 3B           	tsc
 19829 04:5808: 18           	clc
 19830 04:5809: 69 14 00     	adc	#L740+8
 19831 04:580C: 1B           	tcs
 19832 04:580D: 6B           	rtl
 19833                        	.endblock	3540
 19834             0000000C   L740	equ	12
 19835             00000005   L741	equ	5
 19836 04:580E:              	ends
 19837                        	efunc
 19838                        	.endfunc	3540,5,12
 19839                        	.line	3540
 19840                        	data
  Thu Dec  3 2020 22:25                                                Page 390


 19841                        L731:
 19842 00:1337: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:133B: 65 72 5F 53 
       00:133F: 74 61 72 74 
       00:1343: 57 69 6E 
 19843 00:1346: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$44,$72,$61,$67,
                    $3A,$63,$78,$3A,$00
       00:134A: 6F 72 44 72 
       00:134E: 61 67 3A 63 
       00:1352: 78 3A 00 
 19844 00:1355: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:1359: 65 72 5F 53 
       00:135D: 74 61 72 74 
       00:1361: 57 69 6E 
 19845 00:1364: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$44,$72,$61,$67,
                    $3A,$63,$79,$3A,$00
       00:1368: 6F 72 44 72 
       00:136C: 61 67 3A 63 
       00:1370: 79 3A 00 
 19846 00:1373: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:1377: 65 72 5F 53 
       00:137B: 74 61 72 74 
       00:137F: 57 69 6E 
 19847 00:1382: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$44,$72,$61,$67,
                    $3A,$64,$65,$66,$50
       00:1386: 6F 72 44 72 
       00:138A: 61 67 3A 64 
       00:138E: 65 66 50 
 19848 00:1391: 72 63 44 61  	db	$72,$63,$44,$61,$74,$61,$2D,$3E,$78,$6F,
                    $66,$66,$73,$65,$74
       00:1395: 74 61 2D 3E 
       00:1399: 78 6F 66 66 
       00:139D: 73 65 74 
 19849 00:13A0: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,$53,
                    $74,$61,$72,$74,$57
       00:13A4: 75 73 65 72 
       00:13A8: 5F 53 74 61 
       00:13AC: 72 74 57 
 19850 00:13AF: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$46,$6F,$72,$44,$72,
                    $61,$67,$3A,$64,$65
       00:13B3: 77 46 6F 72 
       00:13B7: 44 72 61 67 
       00:13BB: 3A 64 65 
 19851 00:13BE: 66 50 72 63  	db	$66,$50,$72,$63,$44,$61,$74,$61,$2D,$3E,
                    $79,$6F,$66,$66,$73
       00:13C2: 44 61 74 61 
       00:13C6: 2D 3E 79 6F 
       00:13CA: 66 66 73 
 19852 00:13CD: 65 74 3A 00  	db	$65,$74,$3A,$00
 19853 00:13D1:              	ends
 19854                        ;
 19855                        ;BOOL DlgWindowProc(PFXOSMESSAGE pMsg)
 19856                        ;{
 19857                        	.line	3542
 19858                        	.line	3543
  Thu Dec  3 2020 22:25                                                Page 391


 19859                        	WINMAN
 19860                        	xdef	~~DlgWindowProc
 19861                        	func
 19862                        	.function	3543
 19863                        ~~DlgWindowProc:
 19864                        	longa	on
 19865                        	longi	on
 19866 04:580E: 3B           	tsc
 19867 04:580F: 38           	sec
 19868 04:5810: E9 0C 00     	sbc	#L748
 19869 04:5813: 1B           	tcs
 19870 04:5814: 0B           	phd
 19871 04:5815: 5B           	tcd
 19872             00000004   pMsg_0	set	4
 19873                        	.block	3543
 19874                        ;	PFXPROCESS p = NULL;
 19875                        ;	PWINDOW	   pWin = NULL;
 19876                        ;
 19877                        ;
 19878                        ;	if(pMsg)
 19879             00000000   p_1	set	0
 19880             00000004   pWin_1	set	4
 19881                        	.sym	p,0,138,1,32,17
 19882                        	.sym	pWin,4,138,1,32,27
 19883                        	.sym	pMsg,4,138,6,32,13
 19884 04:5816: 64 05        	stz	<L749+p_1
 19885 04:5818: 64 07        	stz	<L749+p_1+2
 19886 04:581A: 64 09        	stz	<L749+pWin_1
 19887 04:581C: 64 0B        	stz	<L749+pWin_1+2
 19888                        	.line	3548
 19889                        ;	{
 19890 04:581E: A5 10        	lda	<L748+pMsg_0
 19891 04:5820: 05 12        	ora	<L748+pMsg_0+2
 19892 04:5822: D0 03        	bne	L751
 19893 04:5824: 82 CC 00     	brl	L10319
 19894                        L751:
 19895                        	.line	3549
 19896                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 19897                        	.line	3550
 19898 04:5827: A0 0C 00     	ldy	#$c
 19899 04:582A: B7 10        	lda	[<L748+pMsg_0],Y
 19900 04:582C: 48           	pha
 19901 04:582D: A0 0A 00     	ldy	#$a
 19902 04:5830: B7 10        	lda	[<L748+pMsg_0],Y
 19903 04:5832: 48           	pha
 19904 04:5833: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 19905 04:5837: 85 09        	sta	<L749+pWin_1
 19906 04:5839: 86 0B        	stx	<L749+pWin_1+2
 19907                        ;		if(pMsg!=NULL)
 19908                        	.line	3551
 19909                        ;		{
 19910 04:583B: A5 10        	lda	<L748+pMsg_0
 19911 04:583D: 05 12        	ora	<L748+pMsg_0+2
 19912 04:583F: D0 03        	bne	L752
 19913 04:5841: 82 AF 00     	brl	L10320
 19914                        L752:
 19915                        	.line	3552
  Thu Dec  3 2020 22:25                                                Page 392


 19916                        ;			p = k_exec_get_current_process()
                    ;
 19917                        	.line	3553
 19918 04:5844: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 19919 04:5848: 85 05        	sta	<L749+p_1
 19920 04:584A: 86 07        	stx	<L749+p_1+2
 19921                        ;			switch(pMsg->type)
 19922                        	.line	3554
 19923 04:584C: A0 08 00     	ldy	#$8
 19924 04:584F: B7 10        	lda	[<L748+pMsg_0],Y
 19925 04:5851: 82 8B 00     	brl	L10321
 19926                        ;			{
 19927                        	.line	3555
 19928                        ;			case FX_DRAW_NONCLIENT:
 19929                        	.line	3556
 19930                        L10323:
 19931                        ;				k_vdraw_ui_window(pWin,
 19932                        	.line	3557
 19933                        ;						        
                      pWin->style,
 19934                        ;							
                    	  pWin->win_x,
 19935                        ;							
                    	  pWin->win_y,
 19936                        ;							
                    	  pWin->win_height,
 19937                        ;							
                    	  pWin->win_width,
 19938                        ;							
                    	  pWin->win_title,
 19939                        ;							
                    	  15,
 19940                        ;							
                    	  15);
 19941 04:5854: F4 0F 00     	pea	#<$f
 19942 04:5857: F4 0F 00     	pea	#<$f
 19943 04:585A: 18           	clc
 19944 04:585B: A9 D4 00     	lda	#$d4
 19945 04:585E: 65 09        	adc	<L749+pWin_1
 19946 04:5860: 85 01        	sta	<R0
 19947 04:5862: A9 00 00     	lda	#$0
 19948 04:5865: 65 0B        	adc	<L749+pWin_1+2
 19949 04:5867: 85 03        	sta	<R0+2
 19950 04:5869: D4 03        	pei	<R0+2
 19951 04:586B: D4 01        	pei	<R0
 19952 04:586D: A0 0C 00     	ldy	#$c
 19953 04:5870: B7 09        	lda	[<L749+pWin_1],Y
 19954 04:5872: 48           	pha
 19955 04:5873: A0 0E 00     	ldy	#$e
 19956 04:5876: B7 09        	lda	[<L749+pWin_1],Y
 19957 04:5878: 48           	pha
 19958 04:5879: A0 0A 00     	ldy	#$a
 19959 04:587C: B7 09        	lda	[<L749+pWin_1],Y
 19960 04:587E: 48           	pha
 19961 04:587F: A0 08 00     	ldy	#$8
 19962 04:5882: B7 09        	lda	[<L749+pWin_1],Y
 19963 04:5884: 48           	pha
 19964 04:5885: A0 04 00     	ldy	#$4
  Thu Dec  3 2020 22:25                                                Page 393


 19965 04:5888: B7 09        	lda	[<L749+pWin_1],Y
 19966 04:588A: 48           	pha
 19967 04:588B: A0 02 00     	ldy	#$2
 19968 04:588E: B7 09        	lda	[<L749+pWin_1],Y
 19969 04:5890: 48           	pha
 19970 04:5891: D4 0B        	pei	<L749+pWin_1+2
 19971 04:5893: D4 09        	pei	<L749+pWin_1
 19972 04:5895: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 19973                        ;				break;
 19974                        	.line	3566
 19975 04:5899: 82 57 00     	brl	L10322
 19976                        ;
 19977                        ;			case FX_MOUSE_ENTER:
 19978                        	.line	3568
 19979                        L10324:
 19980                        ;				k_debug_strings("DlgWind
                    owProc::FX_MOUSE_ENTER",pWin->win_title);
 19981                        	.line	3569
 19982 04:589C: 18           	clc
 19983 04:589D: A9 D4 00     	lda	#$d4
 19984 04:58A0: 65 09        	adc	<L749+pWin_1
 19985 04:58A2: 85 01        	sta	<R0
 19986 04:58A4: A9 00 00     	lda	#$0
 19987 04:58A7: 65 0B        	adc	<L749+pWin_1+2
 19988 04:58A9: 85 03        	sta	<R0+2
 19989 04:58AB: D4 03        	pei	<R0+2
 19990 04:58AD: D4 01        	pei	<R0
 19991 04:58AF: F4 xx xx     	pea	#^L747
 19992 04:58B2: F4 xx xx     	pea	#<L747
 19993 04:58B5: 22 xx xx xx  	jsl	~~k_debug_strings
 19994                        ;				break;
 19995                        	.line	3570
 19996 04:58B9: 82 37 00     	brl	L10322
 19997                        ;			case FX_MOUSE_EXIT:
 19998                        	.line	3571
 19999                        L10325:
 20000                        ;				k_debug_strings("DlgWind
                    owProc::FX_MOUSE_EXIT",pWin->win_title);
 20001                        	.line	3572
 20002 04:58BC: 18           	clc
 20003 04:58BD: A9 D4 00     	lda	#$d4
 20004 04:58C0: 65 09        	adc	<L749+pWin_1
 20005 04:58C2: 85 01        	sta	<R0
 20006 04:58C4: A9 00 00     	lda	#$0
 20007 04:58C7: 65 0B        	adc	<L749+pWin_1+2
 20008 04:58C9: 85 03        	sta	<R0+2
 20009 04:58CB: D4 03        	pei	<R0+2
 20010 04:58CD: D4 01        	pei	<R0
 20011 04:58CF: F4 xx xx     	pea	#^L747+30
 20012 04:58D2: F4 xx xx     	pea	#<L747+30
 20013 04:58D5: 22 xx xx xx  	jsl	~~k_debug_strings
 20014                        ;				break;
 20015                        	.line	3573
 20016 04:58D9: 82 17 00     	brl	L10322
 20017                        ;			default:
 20018                        	.line	3574
 20019                        L10326:
 20020                        ;				break;
  Thu Dec  3 2020 22:25                                                Page 394


 20021                        	.line	3575
 20022 04:58DC: 82 14 00     	brl	L10322
 20023                        ;			}
 20024                        	.line	3576
 20025                        L10321:
 20026                        	xref	~~~swt
 20027 04:58DF: 22 xx xx xx  	jsl	~~~swt
 20028 04:58E3: 03 00        	dw	3
 20029 04:58E5: 01 0F        	dw	3841
 20030 04:58E7: 9B 58        	dw	L10324-1
 20031 04:58E9: 02 0F        	dw	3842
 20032 04:58EB: BB 58        	dw	L10325-1
 20033 04:58ED: 01 FB        	dw	64257
 20034 04:58EF: 53 58        	dw	L10323-1
 20035 04:58F1: DB 58        	dw	L10326-1
 20036                        L10322:
 20037                        ;		}
 20038                        	.line	3577
 20039                        ;	}
 20040                        L10320:
 20041                        	.line	3578
 20042                        ;	return TRUE;
 20043                        L10319:
 20044                        	.line	3579
 20045 04:58F3: A9 01 00     	lda	#$1
 20046                        L753:
 20047 04:58F6: A8           	tay
 20048 04:58F7: A5 0E        	lda	<L748+2
 20049 04:58F9: 85 12        	sta	<L748+2+4
 20050 04:58FB: A5 0D        	lda	<L748+1
 20051 04:58FD: 85 11        	sta	<L748+1+4
 20052 04:58FF: 2B           	pld
 20053 04:5900: 3B           	tsc
 20054 04:5901: 18           	clc
 20055 04:5902: 69 10 00     	adc	#L748+4
 20056 04:5905: 1B           	tcs
 20057 04:5906: 98           	tya
 20058 04:5907: 6B           	rtl
 20059                        ;}
 20060                        	.line	3580
 20061                        	.endblock	3580
 20062             0000000C   L748	equ	12
 20063             00000005   L749	equ	5
 20064 04:5908:              	ends
 20065                        	efunc
 20066                        	.endfunc	3580,5,12
 20067                        	.line	3580
 20068                        	data
 20069                        L747:
 20070 00:13D1: 44 6C 67 57  	db	$44,$6C,$67,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:13D5: 69 6E 64 6F 
       00:13D9: 77 50 72 6F 
       00:13DD: 63 3A 3A 
 20071 00:13E0: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $4E,$54,$45,$52,$00
       00:13E4: 4F 55 53 45 
       00:13E8: 5F 45 4E 54 
  Thu Dec  3 2020 22:25                                                Page 395


       00:13EC: 45 52 00 
 20072 00:13EF: 44 6C 67 57  	db	$44,$6C,$67,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:13F3: 69 6E 64 6F 
       00:13F7: 77 50 72 6F 
       00:13FB: 63 3A 3A 
 20073 00:13FE: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $58,$49,$54,$00
       00:1402: 4F 55 53 45 
       00:1406: 5F 45 58 49 
       00:140A: 54 00 
 20074 00:140C:              	ends
 20075                        ;
 20076                        ;BOOL DlgAboutWindowProc(PFXOSMESSAGE pMsg)
 20077                        ;{
 20078                        	.line	3582
 20079                        	.line	3583
 20080                        	WINMAN
 20081                        	xdef	~~DlgAboutWindowProc
 20082                        	func
 20083                        	.function	3583
 20084                        ~~DlgAboutWindowProc:
 20085                        	longa	on
 20086                        	longi	on
 20087 04:5908: 3B           	tsc
 20088 04:5909: 38           	sec
 20089 04:590A: E9 22 00     	sbc	#L755
 20090 04:590D: 1B           	tcs
 20091 04:590E: 0B           	phd
 20092 04:590F: 5B           	tcd
 20093             00000004   pMsg_0	set	4
 20094                        	.block	3583
 20095                        ;	PFXPROCESS p = NULL;
 20096                        ;	PWINDOW	   pWin = NULL;
 20097                        ;	PWINDOW	   pButton = NULL;
 20098                        ;	RECT	   rect;
 20099                        ;	PPOINT 	   ppoint = NULL;
 20100                        ;	int 	   row = 0;
 20101                        ;
 20102                        ;	if(pMsg)
 20103             00000000   p_1	set	0
 20104             00000004   pWin_1	set	4
 20105             00000008   pButton_1	set	8
 20106             0000000C   rect_1	set	12
 20107             00000014   ppoint_1	set	20
 20108             00000018   row_1	set	24
 20109                        	.sym	p,0,138,1,32,17
 20110                        	.sym	pWin,4,138,1,32,27
 20111                        	.sym	pButton,8,138,1,32,27
 20112                        	.sym	rect,12,10,1,64,22
 20113                        	.sym	ppoint,20,138,1,32,21
 20114                        	.sym	row,24,5,1,16
 20115                        	.sym	pMsg,4,138,6,32,13
 20116 04:5910: 64 09        	stz	<L756+p_1
 20117 04:5912: 64 0B        	stz	<L756+p_1+2
 20118 04:5914: 64 0D        	stz	<L756+pWin_1
 20119 04:5916: 64 0F        	stz	<L756+pWin_1+2
 20120 04:5918: 64 11        	stz	<L756+pButton_1
  Thu Dec  3 2020 22:25                                                Page 396


 20121 04:591A: 64 13        	stz	<L756+pButton_1+2
 20122 04:591C: 64 1D        	stz	<L756+ppoint_1
 20123 04:591E: 64 1F        	stz	<L756+ppoint_1+2
 20124 04:5920: 64 21        	stz	<L756+row_1
 20125                        	.line	3591
 20126                        ;	{
 20127 04:5922: A5 26        	lda	<L755+pMsg_0
 20128 04:5924: 05 28        	ora	<L755+pMsg_0+2
 20129 04:5926: D0 03        	bne	L758
 20130 04:5928: 82 78 03     	brl	L10327
 20131                        L758:
 20132                        	.line	3592
 20133                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 20134                        	.line	3593
 20135 04:592B: A0 0C 00     	ldy	#$c
 20136 04:592E: B7 26        	lda	[<L755+pMsg_0],Y
 20137 04:5930: 48           	pha
 20138 04:5931: A0 0A 00     	ldy	#$a
 20139 04:5934: B7 26        	lda	[<L755+pMsg_0],Y
 20140 04:5936: 48           	pha
 20141 04:5937: 22 0B 0D 04  	jsl	~~k_getWindowFromHandle
 20142 04:593B: 85 0D        	sta	<L756+pWin_1
 20143 04:593D: 86 0F        	stx	<L756+pWin_1+2
 20144                        ;		if(pMsg!=NULL)
 20145                        	.line	3594
 20146                        ;		{
 20147 04:593F: A5 26        	lda	<L755+pMsg_0
 20148 04:5941: 05 28        	ora	<L755+pMsg_0+2
 20149 04:5943: D0 03        	bne	L759
 20150 04:5945: 82 5B 03     	brl	L10328
 20151                        L759:
 20152                        	.line	3595
 20153                        ;			k_debug_integer(" *** DlgAboutWi
                    ndowProc:WndProc::Type:",pMsg->type);
 20154                        	.line	3596
 20155 04:5948: A0 08 00     	ldy	#$8
 20156 04:594B: B7 26        	lda	[<L755+pMsg_0],Y
 20157 04:594D: 48           	pha
 20158 04:594E: F4 xx xx     	pea	#^L754
 20159 04:5951: F4 xx xx     	pea	#<L754
 20160 04:5954: 22 xx xx xx  	jsl	~~k_debug_integer
 20161                        ;
 20162                        ;			p = k_exec_get_current_process()
                    ;
 20163                        	.line	3598
 20164 04:5958: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 20165 04:595C: 85 09        	sta	<L756+p_1
 20166 04:595E: 86 0B        	stx	<L756+p_1+2
 20167                        ;			switch(pMsg->type)
 20168                        	.line	3599
 20169 04:5960: A0 08 00     	ldy	#$8
 20170 04:5963: B7 26        	lda	[<L755+pMsg_0],Y
 20171 04:5965: 82 17 03     	brl	L10329
 20172                        ;			{
 20173                        	.line	3600
 20174                        ;			case FX_CREATE_WINDOW:
 20175                        	.line	3601
  Thu Dec  3 2020 22:25                                                Page 397


 20176                        L10331:
 20177                        ;				//k_user_CreateButton(pM
                    sg->hwnd,"Ok",0x8801,0,0,-1,-1);
 20178                        ;				pButton = k_user_CreateB
                    utton(pMsg->hwnd,"Ok",0x8801,140,130,-1,-1);
 20179                        	.line	3603
 20180 04:5968: F4 FF FF     	pea	#<$ffffffff
 20181 04:596B: F4 FF FF     	pea	#<$ffffffff
 20182 04:596E: F4 82 00     	pea	#<$82
 20183 04:5971: F4 8C 00     	pea	#<$8c
 20184 04:5974: F4 01 88     	pea	#<$8801
 20185 04:5977: F4 xx xx     	pea	#^L754+39
 20186 04:597A: F4 xx xx     	pea	#<L754+39
 20187 04:597D: A0 0C 00     	ldy	#$c
 20188 04:5980: B7 26        	lda	[<L755+pMsg_0],Y
 20189 04:5982: 48           	pha
 20190 04:5983: A0 0A 00     	ldy	#$a
 20191 04:5986: B7 26        	lda	[<L755+pMsg_0],Y
 20192 04:5988: 48           	pha
 20193 04:5989: 22 E7 30 04  	jsl	~~k_user_CreateButton
 20194 04:598D: 85 11        	sta	<L756+pButton_1
 20195 04:598F: 86 13        	stx	<L756+pButton_1+2
 20196                        ;				//pButton = k_user_Creat
                    eButton(k_user_getDesktopWindow(),"Ok",0x8801,10,10,-1,-1);
 20197                        ;				k_user_CenterBottomWindo
                    w(pButton);
 20198                        	.line	3605
 20199 04:5991: D4 13        	pei	<L756+pButton_1+2
 20200 04:5993: D4 11        	pei	<L756+pButton_1
 20201 04:5995: 22 CB 06 04  	jsl	~~k_user_CenterBottomWindow
 20202                        ;				break;
 20203                        	.line	3606
 20204 04:5999: 82 07 03     	brl	L10330
 20205                        ;			case FX_DRAW_NONCLIENT:
 20206                        	.line	3607
 20207                        L10332:
 20208                        ;				/*
 20209                        ;				k_scratch_save_bitblt(pW
                    in->win_x,
 20210                        ;							
                    		  pWin->win_y,
 20211                        ;							
                    		  pWin->win_width + 1,
 20212                        ;							
                    		  pWin->win_height + 1, 0, 0);
 20213                        ;				*/
 20214                        ;
 20215                        ;				k_vdraw_ui_window(pWin,p
                    Win->style,
 20216                        	.line	3615
 20217                        ;							
                    	  pWin->win_x,
 20218                        ;							
                    	  pWin->win_y,
 20219                        ;							
                    	  pWin->win_height,
 20220                        ;							
                    	  pWin->win_width,
  Thu Dec  3 2020 22:25                                                Page 398


 20221                        ;							
                    	  pWin->win_title,
 20222                        ;							
                    	  15,
 20223                        ;							
                    	  15);
 20224 04:599C: F4 0F 00     	pea	#<$f
 20225 04:599F: F4 0F 00     	pea	#<$f
 20226 04:59A2: 18           	clc
 20227 04:59A3: A9 D4 00     	lda	#$d4
 20228 04:59A6: 65 0D        	adc	<L756+pWin_1
 20229 04:59A8: 85 01        	sta	<R0
 20230 04:59AA: A9 00 00     	lda	#$0
 20231 04:59AD: 65 0F        	adc	<L756+pWin_1+2
 20232 04:59AF: 85 03        	sta	<R0+2
 20233 04:59B1: D4 03        	pei	<R0+2
 20234 04:59B3: D4 01        	pei	<R0
 20235 04:59B5: A0 0C 00     	ldy	#$c
 20236 04:59B8: B7 0D        	lda	[<L756+pWin_1],Y
 20237 04:59BA: 48           	pha
 20238 04:59BB: A0 0E 00     	ldy	#$e
 20239 04:59BE: B7 0D        	lda	[<L756+pWin_1],Y
 20240 04:59C0: 48           	pha
 20241 04:59C1: A0 0A 00     	ldy	#$a
 20242 04:59C4: B7 0D        	lda	[<L756+pWin_1],Y
 20243 04:59C6: 48           	pha
 20244 04:59C7: A0 08 00     	ldy	#$8
 20245 04:59CA: B7 0D        	lda	[<L756+pWin_1],Y
 20246 04:59CC: 48           	pha
 20247 04:59CD: A0 04 00     	ldy	#$4
 20248 04:59D0: B7 0D        	lda	[<L756+pWin_1],Y
 20249 04:59D2: 48           	pha
 20250 04:59D3: A0 02 00     	ldy	#$2
 20251 04:59D6: B7 0D        	lda	[<L756+pWin_1],Y
 20252 04:59D8: 48           	pha
 20253 04:59D9: D4 0F        	pei	<L756+pWin_1+2
 20254 04:59DB: D4 0D        	pei	<L756+pWin_1
 20255 04:59DD: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 20256                        ;
 20257                        ;				//k_draw_text_point(pWin
                    ->win_title);
 20258                        ;
 20259                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ATI8x16,100,100,0);
 20260                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ATI6x8,100,120,0);
 20261                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ToshibaLCD8x8,100,130,0);
 20262                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("TINYTYPE
                    8x8"),100,130,0);
 20263                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("FANTASY8
                    x8"),100,140,0);
 20264                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("Italics8
                    x8"),100,150,0);
 20265                        ;
  Thu Dec  3 2020 22:25                                                Page 399


 20266                        ;				//k_draw_text_point_with
                    _font("\x80\x81",(LPCSTR)k_user_getFontClass("AMIGO8x8"),100
                    ,160,0);
 20267                        ;
 20268                        ;
 20269                        ;				//k_draw_text_point_with
                    _font("\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8A\x8B\x8C\
                    x8D\x8E\x8F",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,100,1
                    5);
 20270                        ;				//k_draw_text_point_with
                    _font("\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9A\x9B\x9C\
                    x9D\x9E\x9F",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,110,1
                    5);
 20271                        ;				//k_draw_text_point_with
                    _font("\xA0\xA1\xA2\xA3\xA4\xA5\xA6\xA7\xA8\xA9\xAA\xAB\xAC\
                    xAD\xAE\xAF",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,120,1
                    5);
 20272                        ;
 20273                        ;
 20274                        ;				//k_draw_text_point("Abo
                    ut FX/OS...",100,180,0);
 20275                        ;
 20276                        ;				break;
 20277                        	.line	3643
 20278 04:59E1: 82 BF 02     	brl	L10330
 20279                        ;			case FX_DRAW_WINDOW:
 20280                        	.line	3644
 20281                        L10333:
 20282                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_DRAW_WINDOW","");
 20283                        	.line	3645
 20284 04:59E4: F4 xx xx     	pea	#^L754+77
 20285 04:59E7: F4 xx xx     	pea	#<L754+77
 20286 04:59EA: F4 xx xx     	pea	#^L754+42
 20287 04:59ED: F4 xx xx     	pea	#<L754+42
 20288 04:59F0: 22 xx xx xx  	jsl	~~k_debug_strings
 20289                        ;
 20290                        ;				row = 10;
 20291                        	.line	3647
 20292 04:59F4: A9 0A 00     	lda	#$a
 20293 04:59F7: 85 21        	sta	<L756+row_1
 20294                        ;				rect.x = 10;
 20295                        	.line	3648
 20296 04:59F9: A9 0A 00     	lda	#$a
 20297 04:59FC: 85 15        	sta	<L756+rect_1
 20298                        ;				rect.y = row;
 20299                        	.line	3649
 20300 04:59FE: A5 21        	lda	<L756+row_1
 20301 04:5A00: 85 17        	sta	<L756+rect_1+2
 20302                        ;				k_user_DrawWindowTextToP
                    oint(k_getHandleFromWindow(pWin),"FX/OS Foenix Workspace",0,
                    &rect);
 20303                        	.line	3650
 20304 04:5A02: F4 00 00     	pea	#0
 20305 04:5A05: 18           	clc
 20306 04:5A06: 7B           	tdc
 20307 04:5A07: 69 15 00     	adc	#<L756+rect_1
 20308 04:5A0A: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 400


 20309 04:5A0B: F4 00 00     	pea	#<$0
 20310 04:5A0E: F4 xx xx     	pea	#^L754+78
 20311 04:5A11: F4 xx xx     	pea	#<L754+78
 20312 04:5A14: D4 0F        	pei	<L756+pWin_1+2
 20313 04:5A16: D4 0D        	pei	<L756+pWin_1
 20314 04:5A18: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20315 04:5A1C: 85 01        	sta	<R0
 20316 04:5A1E: 86 03        	stx	<R0+2
 20317 04:5A20: DA           	phx
 20318 04:5A21: 48           	pha
 20319 04:5A22: 22 08 11 04  	jsl	~~k_user_DrawWindowTextToPoint
 20320                        ;				row+=30;
 20321                        	.line	3651
 20322 04:5A26: 18           	clc
 20323 04:5A27: A9 1E 00     	lda	#$1e
 20324 04:5A2A: 65 21        	adc	<L756+row_1
 20325 04:5A2C: 85 21        	sta	<L756+row_1
 20326                        ;
 20327                        ;				rect.x = 10;
 20328                        	.line	3653
 20329 04:5A2E: A9 0A 00     	lda	#$a
 20330 04:5A31: 85 15        	sta	<L756+rect_1
 20331                        ;				rect.y = row;
 20332                        	.line	3654
 20333 04:5A33: A5 21        	lda	<L756+row_1
 20334 04:5A35: 85 17        	sta	<L756+rect_1+2
 20335                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 20336                        	.line	3655
 20337                        ;							
                    						 "Prerelease 1.0
                    .0 Beta",
 20338                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 20339 04:5A37: F4 xx xx     	pea	#^L754+123
 20340 04:5A3A: F4 xx xx     	pea	#<L754+123
 20341 04:5A3D: 22 E3 0D 04  	jsl	~~k_user_getFontClass
 20342 04:5A41: 85 01        	sta	<R0
 20343 04:5A43: 86 03        	stx	<R0+2
 20344 04:5A45: DA           	phx
 20345 04:5A46: 48           	pha
 20346 04:5A47: F4 00 00     	pea	#0
 20347 04:5A4A: 18           	clc
 20348 04:5A4B: 7B           	tdc
 20349 04:5A4C: 69 15 00     	adc	#<L756+rect_1
 20350 04:5A4F: 48           	pha
 20351 04:5A50: F4 00 00     	pea	#<$0
 20352 04:5A53: F4 xx xx     	pea	#^L754+101
 20353 04:5A56: F4 xx xx     	pea	#<L754+101
 20354 04:5A59: D4 0F        	pei	<L756+pWin_1+2
 20355 04:5A5B: D4 0D        	pei	<L756+pWin_1
 20356 04:5A5D: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20357 04:5A61: 85 05        	sta	<R1
 20358 04:5A63: 86 07        	stx	<R1+2
 20359 04:5A65: DA           	phx
 20360 04:5A66: 48           	pha
 20361 04:5A67: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  Thu Dec  3 2020 22:25                                                Page 401


 20362                        ;				row+=10;
 20363                        	.line	3658
 20364 04:5A6B: 18           	clc
 20365 04:5A6C: A9 0A 00     	lda	#$a
 20366 04:5A6F: 65 21        	adc	<L756+row_1
 20367 04:5A71: 85 21        	sta	<L756+row_1
 20368                        ;				rect.x = 10;
 20369                        	.line	3659
 20370 04:5A73: A9 0A 00     	lda	#$a
 20371 04:5A76: 85 15        	sta	<L756+rect_1
 20372                        ;				rect.y = row;
 20373                        	.line	3660
 20374 04:5A78: A5 21        	lda	<L756+row_1
 20375 04:5A7A: 85 17        	sta	<L756+rect_1+2
 20376                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 20377                        	.line	3661
 20378                        ;							
                    						 "October 1, 201
                    9",
 20379                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 20380 04:5A7C: F4 xx xx     	pea	#^L754+151
 20381 04:5A7F: F4 xx xx     	pea	#<L754+151
 20382 04:5A82: 22 E3 0D 04  	jsl	~~k_user_getFontClass
 20383 04:5A86: 85 01        	sta	<R0
 20384 04:5A88: 86 03        	stx	<R0+2
 20385 04:5A8A: DA           	phx
 20386 04:5A8B: 48           	pha
 20387 04:5A8C: F4 00 00     	pea	#0
 20388 04:5A8F: 18           	clc
 20389 04:5A90: 7B           	tdc
 20390 04:5A91: 69 15 00     	adc	#<L756+rect_1
 20391 04:5A94: 48           	pha
 20392 04:5A95: F4 00 00     	pea	#<$0
 20393 04:5A98: F4 xx xx     	pea	#^L754+135
 20394 04:5A9B: F4 xx xx     	pea	#<L754+135
 20395 04:5A9E: D4 0F        	pei	<L756+pWin_1+2
 20396 04:5AA0: D4 0D        	pei	<L756+pWin_1
 20397 04:5AA2: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20398 04:5AA6: 85 05        	sta	<R1
 20399 04:5AA8: 86 07        	stx	<R1+2
 20400 04:5AAA: DA           	phx
 20401 04:5AAB: 48           	pha
 20402 04:5AAC: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 20403                        ;				row+=10;
 20404                        	.line	3664
 20405 04:5AB0: 18           	clc
 20406 04:5AB1: A9 0A 00     	lda	#$a
 20407 04:5AB4: 65 21        	adc	<L756+row_1
 20408 04:5AB6: 85 21        	sta	<L756+row_1
 20409                        ;
 20410                        ;				rect.x = 10;
 20411                        	.line	3666
 20412 04:5AB8: A9 0A 00     	lda	#$a
 20413 04:5ABB: 85 15        	sta	<L756+rect_1
 20414                        ;				rect.y = row;
  Thu Dec  3 2020 22:25                                                Page 402


 20415                        	.line	3667
 20416 04:5ABD: A5 21        	lda	<L756+row_1
 20417 04:5ABF: 85 17        	sta	<L756+rect_1+2
 20418                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 20419                        	.line	3668
 20420                        ;							
                    						 "Copyright (c) 
                    2019, Mike Bush",
 20421                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 20422 04:5AC1: F4 xx xx     	pea	#^L754+193
 20423 04:5AC4: F4 xx xx     	pea	#<L754+193
 20424 04:5AC7: 22 E3 0D 04  	jsl	~~k_user_getFontClass
 20425 04:5ACB: 85 01        	sta	<R0
 20426 04:5ACD: 86 03        	stx	<R0+2
 20427 04:5ACF: DA           	phx
 20428 04:5AD0: 48           	pha
 20429 04:5AD1: F4 00 00     	pea	#0
 20430 04:5AD4: 18           	clc
 20431 04:5AD5: 7B           	tdc
 20432 04:5AD6: 69 15 00     	adc	#<L756+rect_1
 20433 04:5AD9: 48           	pha
 20434 04:5ADA: F4 00 00     	pea	#<$0
 20435 04:5ADD: F4 xx xx     	pea	#^L754+163
 20436 04:5AE0: F4 xx xx     	pea	#<L754+163
 20437 04:5AE3: D4 0F        	pei	<L756+pWin_1+2
 20438 04:5AE5: D4 0D        	pei	<L756+pWin_1
 20439 04:5AE7: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20440 04:5AEB: 85 05        	sta	<R1
 20441 04:5AED: 86 07        	stx	<R1+2
 20442 04:5AEF: DA           	phx
 20443 04:5AF0: 48           	pha
 20444 04:5AF1: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 20445                        ;				row+=15;
 20446                        	.line	3671
 20447 04:5AF5: 18           	clc
 20448 04:5AF6: A9 0F 00     	lda	#$f
 20449 04:5AF9: 65 21        	adc	<L756+row_1
 20450 04:5AFB: 85 21        	sta	<L756+row_1
 20451                        ;
 20452                        ;				rect.x = 20;
 20453                        	.line	3673
 20454 04:5AFD: A9 14 00     	lda	#$14
 20455 04:5B00: 85 15        	sta	<L756+rect_1
 20456                        ;				rect.y = row;
 20457                        	.line	3674
 20458 04:5B02: A5 21        	lda	<L756+row_1
 20459 04:5B04: 85 17        	sta	<L756+rect_1+2
 20460                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 20461                        	.line	3675
 20462                        ;							
                    						 "Author: Mike B
                    ush",
 20463                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
  Thu Dec  3 2020 22:25                                                Page 403


                    NYTYPE8x8"));
 20464 04:5B06: F4 xx xx     	pea	#^L754+223
 20465 04:5B09: F4 xx xx     	pea	#<L754+223
 20466 04:5B0C: 22 E3 0D 04  	jsl	~~k_user_getFontClass
 20467 04:5B10: 85 01        	sta	<R0
 20468 04:5B12: 86 03        	stx	<R0+2
 20469 04:5B14: DA           	phx
 20470 04:5B15: 48           	pha
 20471 04:5B16: F4 00 00     	pea	#0
 20472 04:5B19: 18           	clc
 20473 04:5B1A: 7B           	tdc
 20474 04:5B1B: 69 15 00     	adc	#<L756+rect_1
 20475 04:5B1E: 48           	pha
 20476 04:5B1F: F4 00 00     	pea	#<$0
 20477 04:5B22: F4 xx xx     	pea	#^L754+205
 20478 04:5B25: F4 xx xx     	pea	#<L754+205
 20479 04:5B28: D4 0F        	pei	<L756+pWin_1+2
 20480 04:5B2A: D4 0D        	pei	<L756+pWin_1
 20481 04:5B2C: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20482 04:5B30: 85 05        	sta	<R1
 20483 04:5B32: 86 07        	stx	<R1+2
 20484 04:5B34: DA           	phx
 20485 04:5B35: 48           	pha
 20486 04:5B36: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 20487                        ;				row+=15;
 20488                        	.line	3678
 20489 04:5B3A: 18           	clc
 20490 04:5B3B: A9 0F 00     	lda	#$f
 20491 04:5B3E: 65 21        	adc	<L756+row_1
 20492 04:5B40: 85 21        	sta	<L756+row_1
 20493                        ;
 20494                        ;				rect.x = 20;
 20495                        	.line	3680
 20496 04:5B42: A9 14 00     	lda	#$14
 20497 04:5B45: 85 15        	sta	<L756+rect_1
 20498                        ;				rect.y = row;
 20499                        	.line	3681
 20500 04:5B47: A5 21        	lda	<L756+row_1
 20501 04:5B49: 85 17        	sta	<L756+rect_1+2
 20502                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 20503                        	.line	3682
 20504                        ;							
                    						 "Special Thanks
                    : Stefany Allaire",
 20505                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 20506 04:5B4B: F4 xx xx     	pea	#^L754+267
 20507 04:5B4E: F4 xx xx     	pea	#<L754+267
 20508 04:5B51: 22 E3 0D 04  	jsl	~~k_user_getFontClass
 20509 04:5B55: 85 01        	sta	<R0
 20510 04:5B57: 86 03        	stx	<R0+2
 20511 04:5B59: DA           	phx
 20512 04:5B5A: 48           	pha
 20513 04:5B5B: F4 00 00     	pea	#0
 20514 04:5B5E: 18           	clc
 20515 04:5B5F: 7B           	tdc
  Thu Dec  3 2020 22:25                                                Page 404


 20516 04:5B60: 69 15 00     	adc	#<L756+rect_1
 20517 04:5B63: 48           	pha
 20518 04:5B64: F4 00 00     	pea	#<$0
 20519 04:5B67: F4 xx xx     	pea	#^L754+235
 20520 04:5B6A: F4 xx xx     	pea	#<L754+235
 20521 04:5B6D: D4 0F        	pei	<L756+pWin_1+2
 20522 04:5B6F: D4 0D        	pei	<L756+pWin_1
 20523 04:5B71: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20524 04:5B75: 85 05        	sta	<R1
 20525 04:5B77: 86 07        	stx	<R1+2
 20526 04:5B79: DA           	phx
 20527 04:5B7A: 48           	pha
 20528 04:5B7B: 22 5F 11 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 20529                        ;
 20530                        ;				ppoint = (PPOINT)k_mem_a
                    llocate_heap(sizeof(POINT));
 20531                        	.line	3686
 20532 04:5B7F: F4 04 00     	pea	#<$4
 20533 04:5B82: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 20534 04:5B86: 85 1D        	sta	<L756+ppoint_1
 20535 04:5B88: 86 1F        	stx	<L756+ppoint_1+2
 20536                        ;				ppoint->x = 0;
 20537                        	.line	3687
 20538 04:5B8A: A9 00 00     	lda	#$0
 20539 04:5B8D: 87 1D        	sta	[<L756+ppoint_1]
 20540                        ;				ppoint->y = 0;
 20541                        	.line	3688
 20542 04:5B8F: A9 00 00     	lda	#$0
 20543 04:5B92: A0 02 00     	ldy	#$2
 20544 04:5B95: 97 1D        	sta	[<L756+ppoint_1],Y
 20545                        ;
 20546                        ;				//_k_user_send_child_mes
                    sage(pWin,FX_MOVE_WINDOW,ppoint,sizeof(POINT));
 20547                        ;				_k_user_send_child_messa
                    ge(pWin,FX_DRAW_WINDOW,NULL,0);
 20548                        	.line	3691
 20549 04:5B97: F4 00 00     	pea	#<$0
 20550 04:5B9A: F4 00 00     	pea	#^$0
 20551 04:5B9D: F4 00 00     	pea	#<$0
 20552 04:5BA0: F4 00 FB     	pea	#<$fb00
 20553 04:5BA3: D4 0F        	pei	<L756+pWin_1+2
 20554 04:5BA5: D4 0D        	pei	<L756+pWin_1
 20555 04:5BA7: 22 4A 4A 04  	jsl	~~_k_user_send_child_message
 20556                        ;
 20557                        ;				break;
 20558                        	.line	3693
 20559 04:5BAB: 82 F5 00     	brl	L10330
 20560                        ;			case FX_CONTROL_COMMAND:
 20561                        	.line	3694
 20562                        L10334:
 20563                        ;				k_debug_string("DlgAbout
                    WindowProc::FX_CONTROL_COMMAND\r\n");
 20564                        	.line	3695
 20565 04:5BAE: F4 xx xx     	pea	#^L754+279
 20566 04:5BB1: F4 xx xx     	pea	#<L754+279
 20567 04:5BB4: 22 xx xx xx  	jsl	~~k_debug_string
 20568                        ;				k_debug_integer("DlgAbou
                    tWindowProc::ID:",((PFXCMDMESSAGE)pMsg)->cmdMId);
  Thu Dec  3 2020 22:25                                                Page 405


 20569                        	.line	3696
 20570 04:5BB8: A0 18 00     	ldy	#$18
 20571 04:5BBB: B7 26        	lda	[<L755+pMsg_0],Y
 20572 04:5BBD: 48           	pha
 20573 04:5BBE: F4 xx xx     	pea	#^L754+320
 20574 04:5BC1: F4 xx xx     	pea	#<L754+320
 20575 04:5BC4: 22 xx xx xx  	jsl	~~k_debug_integer
 20576                        ;				if( ((PFXCMDMESSAGE)pMsg
                    )->cmdCId == CTL_BUTTON_SELECTED)
 20577                        	.line	3697
 20578                        ;				{
 20579 04:5BC8: A0 16 00     	ldy	#$16
 20580 04:5BCB: B7 26        	lda	[<L755+pMsg_0],Y
 20581 04:5BCD: C9 02 00     	cmp	#<$2
 20582 04:5BD0: F0 03        	beq	L760
 20583 04:5BD2: 82 2A 00     	brl	L10335
 20584                        L760:
 20585                        	.line	3698
 20586                        ;					/*
 20587                        ;					k_scratch_restor
                    e_bitblt(0,0,
 20588                        ;							
                    				 pWin->win_width + 1,
 20589                        ;							
                    				 pWin->win_height + 1,
 20590                        ;							
                    				 pWin->win_x,
 20591                        ;							
                    				 pWin->win_y);
 20592                        ;
 20593                        ;					*/
 20594                        ;					pWin->isVisible 
                    = FALSE;
 20595                        	.line	3707
 20596 04:5BD5: E2 20        	sep	#$20
 20597                        	longa	off
 20598 04:5BD7: A9 00        	lda	#$0
 20599 04:5BD9: A0 40 01     	ldy	#$140
 20600 04:5BDC: 97 0D        	sta	[<L756+pWin_1],Y
 20601 04:5BDE: C2 20        	rep	#$20
 20602                        	longa	on
 20603                        ;					if(((PFXCMDMESSA
                    GE)pMsg)->cmdMId == 0x8801)
 20604                        	.line	3708
 20605                        ;						k_user_C
                    loseWindow(k_getHandleFromWindow(pWin));
 20606 04:5BE0: A0 18 00     	ldy	#$18
 20607 04:5BE3: B7 26        	lda	[<L755+pMsg_0],Y
 20608 04:5BE5: C9 01 88     	cmp	#<$8801
 20609 04:5BE8: F0 03        	beq	L761
 20610 04:5BEA: 82 12 00     	brl	L10336
 20611                        L761:
 20612                        	.line	3709
 20613 04:5BED: D4 0F        	pei	<L756+pWin_1+2
 20614 04:5BEF: D4 0D        	pei	<L756+pWin_1
 20615 04:5BF1: 22 ED 0C 04  	jsl	~~k_getHandleFromWindow
 20616 04:5BF5: 85 01        	sta	<R0
 20617 04:5BF7: 86 03        	stx	<R0+2
  Thu Dec  3 2020 22:25                                                Page 406


 20618 04:5BF9: DA           	phx
 20619 04:5BFA: 48           	pha
 20620 04:5BFB: 22 A3 12 04  	jsl	~~k_user_CloseWindow
 20621                        ;						//return
                     FALSE;
 20622                        ;				}
 20623                        L10336:
 20624                        	.line	3711
 20625                        ;				break;
 20626                        L10335:
 20627                        	.line	3712
 20628 04:5BFF: 82 A1 00     	brl	L10330
 20629                        ;			case FX_MOUSE_ENTER:
 20630                        	.line	3713
 20631                        L10337:
 20632                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_MOUSE_ENTER:",pWin->win_title);
 20633                        	.line	3714
 20634 04:5C02: 18           	clc
 20635 04:5C03: A9 D4 00     	lda	#$d4
 20636 04:5C06: 65 0D        	adc	<L756+pWin_1
 20637 04:5C08: 85 01        	sta	<R0
 20638 04:5C0A: A9 00 00     	lda	#$0
 20639 04:5C0D: 65 0F        	adc	<L756+pWin_1+2
 20640 04:5C0F: 85 03        	sta	<R0+2
 20641 04:5C11: D4 03        	pei	<R0+2
 20642 04:5C13: D4 01        	pei	<R0
 20643 04:5C15: F4 xx xx     	pea	#^L754+344
 20644 04:5C18: F4 xx xx     	pea	#<L754+344
 20645 04:5C1B: 22 xx xx xx  	jsl	~~k_debug_strings
 20646                        ;				break;
 20647                        	.line	3715
 20648 04:5C1F: 82 81 00     	brl	L10330
 20649                        ;			case FX_MOUSE_EXIT:
 20650                        	.line	3716
 20651                        L10338:
 20652                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_MOUSE_EXIT:",pWin->win_title);
 20653                        	.line	3717
 20654 04:5C22: 18           	clc
 20655 04:5C23: A9 D4 00     	lda	#$d4
 20656 04:5C26: 65 0D        	adc	<L756+pWin_1
 20657 04:5C28: 85 01        	sta	<R0
 20658 04:5C2A: A9 00 00     	lda	#$0
 20659 04:5C2D: 65 0F        	adc	<L756+pWin_1+2
 20660 04:5C2F: 85 03        	sta	<R0+2
 20661 04:5C31: D4 03        	pei	<R0+2
 20662 04:5C33: D4 01        	pei	<R0
 20663 04:5C35: F4 xx xx     	pea	#^L754+380
 20664 04:5C38: F4 xx xx     	pea	#<L754+380
 20665 04:5C3B: 22 xx xx xx  	jsl	~~k_debug_strings
 20666                        ;				break;
 20667                        	.line	3718
 20668 04:5C3F: 82 61 00     	brl	L10330
 20669                        ;			case FX_WINDOW_CLOSE:
 20670                        	.line	3719
 20671                        L10339:
 20672                        ;				k_debug_strings("DlgAbou
  Thu Dec  3 2020 22:25                                                Page 407


                    tWindowProc::FX_WINDOW_CLOSE:",pWin->win_title);
 20673                        	.line	3720
 20674 04:5C42: 18           	clc
 20675 04:5C43: A9 D4 00     	lda	#$d4
 20676 04:5C46: 65 0D        	adc	<L756+pWin_1
 20677 04:5C48: 85 01        	sta	<R0
 20678 04:5C4A: A9 00 00     	lda	#$0
 20679 04:5C4D: 65 0F        	adc	<L756+pWin_1+2
 20680 04:5C4F: 85 03        	sta	<R0+2
 20681 04:5C51: D4 03        	pei	<R0+2
 20682 04:5C53: D4 01        	pei	<R0
 20683 04:5C55: F4 xx xx     	pea	#^L754+415
 20684 04:5C58: F4 xx xx     	pea	#<L754+415
 20685 04:5C5B: 22 xx xx xx  	jsl	~~k_debug_strings
 20686                        ;				return FALSE;
 20687                        	.line	3721
 20688 04:5C5F: A9 00 00     	lda	#$0
 20689                        L762:
 20690 04:5C62: A8           	tay
 20691 04:5C63: A5 24        	lda	<L755+2
 20692 04:5C65: 85 28        	sta	<L755+2+4
 20693 04:5C67: A5 23        	lda	<L755+1
 20694 04:5C69: 85 27        	sta	<L755+1+4
 20695 04:5C6B: 2B           	pld
 20696 04:5C6C: 3B           	tsc
 20697 04:5C6D: 18           	clc
 20698 04:5C6E: 69 26 00     	adc	#L755+4
 20699 04:5C71: 1B           	tcs
 20700 04:5C72: 98           	tya
 20701 04:5C73: 6B           	rtl
 20702                        ;			default:
 20703                        	.line	3722
 20704                        L10340:
 20705                        ;				DlgWindowProc(pMsg);
 20706                        	.line	3723
 20707 04:5C74: D4 28        	pei	<L755+pMsg_0+2
 20708 04:5C76: D4 26        	pei	<L755+pMsg_0
 20709 04:5C78: 22 0E 58 04  	jsl	~~DlgWindowProc
 20710                        ;				break;
 20711                        	.line	3724
 20712 04:5C7C: 82 24 00     	brl	L10330
 20713                        ;			}
 20714                        	.line	3725
 20715                        L10329:
 20716                        	xref	~~~swt
 20717 04:5C7F: 22 xx xx xx  	jsl	~~~swt
 20718 04:5C83: 07 00        	dw	7
 20719 04:5C85: 01 0F        	dw	3841
 20720 04:5C87: 01 5C        	dw	L10337-1
 20721 04:5C89: 02 0F        	dw	3842
 20722 04:5C8B: 21 5C        	dw	L10338-1
 20723 04:5C8D: 00 FA        	dw	64000
 20724 04:5C8F: AD 5B        	dw	L10334-1
 20725 04:5C91: 00 FB        	dw	64256
 20726 04:5C93: E3 59        	dw	L10333-1
 20727 04:5C95: 01 FB        	dw	64257
 20728 04:5C97: 9B 59        	dw	L10332-1
 20729 04:5C99: FF FB        	dw	64511
  Thu Dec  3 2020 22:25                                                Page 408


 20730 04:5C9B: 41 5C        	dw	L10339-1
 20731 04:5C9D: 03 FF        	dw	65283
 20732 04:5C9F: 67 59        	dw	L10331-1
 20733 04:5CA1: 73 5C        	dw	L10340-1
 20734                        L10330:
 20735                        ;		}
 20736                        	.line	3726
 20737                        ;	}
 20738                        L10328:
 20739                        	.line	3727
 20740                        ;	return TRUE;
 20741                        L10327:
 20742                        	.line	3728
 20743 04:5CA3: A9 01 00     	lda	#$1
 20744 04:5CA6: 82 B9 FF     	brl	L762
 20745                        ;}
 20746                        	.line	3729
 20747                        	.endblock	3729
 20748             00000022   L755	equ	34
 20749             00000009   L756	equ	9
 20750 04:5CA9:              	ends
 20751                        	efunc
 20752                        	.endfunc	3729,9,34
 20753                        	.line	3729
 20754                        	data
 20755                        L754:
 20756 00:140C: 20 2A 2A 2A  	db	$20,$2A,$2A,$2A,$20,$44,$6C,$67,$41,$62,
                    $6F,$75,$74,$57,$69
       00:1410: 20 44 6C 67 
       00:1414: 41 62 6F 75 
       00:1418: 74 57 69 
 20757 00:141B: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$57,
                    $6E,$64,$50,$72,$6F
       00:141F: 50 72 6F 63 
       00:1423: 3A 57 6E 64 
       00:1427: 50 72 6F 
 20758 00:142A: 63 3A 3A 54  	db	$63,$3A,$3A,$54,$79,$70,$65,$3A,$00,$4F,
                    $6B,$00,$44,$6C,$67
       00:142E: 79 70 65 3A 
       00:1432: 00 4F 6B 00 
       00:1436: 44 6C 67 
 20759 00:1439: 41 62 6F 75  	db	$41,$62,$6F,$75,$74,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:143D: 74 57 69 6E 
       00:1441: 64 6F 77 50 
       00:1445: 72 6F 63 
 20760 00:1448: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,$5F,
                    $57,$49,$4E,$44,$4F
       00:144C: 5F 44 52 41 
       00:1450: 57 5F 57 49 
       00:1454: 4E 44 4F 
 20761 00:1457: 57 00 00 46  	db	$57,$00,$00,$46,$58,$2F,$4F,$53,$20,$46,
                    $6F,$65,$6E,$69,$78
       00:145B: 58 2F 4F 53 
       00:145F: 20 46 6F 65 
       00:1463: 6E 69 78 
 20762 00:1466: 20 57 6F 72  	db	$20,$57,$6F,$72,$6B,$73,$70,$61,$63,$65,
                    $00,$50,$72,$65,$72
  Thu Dec  3 2020 22:25                                                Page 409


       00:146A: 6B 73 70 61 
       00:146E: 63 65 00 50 
       00:1472: 72 65 72 
 20763 00:1475: 65 6C 65 61  	db	$65,$6C,$65,$61,$73,$65,$20,$31,$2E,$30,
                    $2E,$30,$20,$42,$65
       00:1479: 73 65 20 31 
       00:147D: 2E 30 2E 30 
       00:1481: 20 42 65 
 20764 00:1484: 74 61 00 54  	db	$74,$61,$00,$54,$49,$4E,$59,$54,$59,$50,
                    $45,$38,$78,$38,$00
       00:1488: 49 4E 59 54 
       00:148C: 59 50 45 38 
       00:1490: 78 38 00 
 20765 00:1493: 4F 63 74 6F  	db	$4F,$63,$74,$6F,$62,$65,$72,$20,$31,$2C,
                    $20,$32,$30,$31,$39
       00:1497: 62 65 72 20 
       00:149B: 31 2C 20 32 
       00:149F: 30 31 39 
 20766 00:14A2: 00 54 49 4E  	db	$00,$54,$49,$4E,$59,$54,$59,$50,$45,$38,
                    $78,$38,$00,$43,$6F
       00:14A6: 59 54 59 50 
       00:14AA: 45 38 78 38 
       00:14AE: 00 43 6F 
 20767 00:14B1: 70 79 72 69  	db	$70,$79,$72,$69,$67,$68,$74,$20,$28,$63,
                    $29,$20,$32,$30,$31
       00:14B5: 67 68 74 20 
       00:14B9: 28 63 29 20 
       00:14BD: 32 30 31 
 20768 00:14C0: 39 2C 20 4D  	db	$39,$2C,$20,$4D,$69,$6B,$65,$20,$42,$75,
                    $73,$68,$00,$54,$49
       00:14C4: 69 6B 65 20 
       00:14C8: 42 75 73 68 
       00:14CC: 00 54 49 
 20769 00:14CF: 4E 59 54 59  	db	$4E,$59,$54,$59,$50,$45,$38,$78,$38,$00,
                    $41,$75,$74,$68,$6F
       00:14D3: 50 45 38 78 
       00:14D7: 38 00 41 75 
       00:14DB: 74 68 6F 
 20770 00:14DE: 72 3A 20 4D  	db	$72,$3A,$20,$4D,$69,$6B,$65,$20,$42,$75,
                    $73,$68,$00,$54,$49
       00:14E2: 69 6B 65 20 
       00:14E6: 42 75 73 68 
       00:14EA: 00 54 49 
 20771 00:14ED: 4E 59 54 59  	db	$4E,$59,$54,$59,$50,$45,$38,$78,$38,$00,
                    $53,$70,$65,$63,$69
       00:14F1: 50 45 38 78 
       00:14F5: 38 00 53 70 
       00:14F9: 65 63 69 
 20772 00:14FC: 61 6C 20 54  	db	$61,$6C,$20,$54,$68,$61,$6E,$6B,$73,$3A,
                    $20,$53,$74,$65,$66
       00:1500: 68 61 6E 6B 
       00:1504: 73 3A 20 53 
       00:1508: 74 65 66 
 20773 00:150B: 61 6E 79 20  	db	$61,$6E,$79,$20,$41,$6C,$6C,$61,$69,$72,
                    $65,$00,$54,$49,$4E
       00:150F: 41 6C 6C 61 
       00:1513: 69 72 65 00 
       00:1517: 54 49 4E 
  Thu Dec  3 2020 22:25                                                Page 410


 20774 00:151A: 59 54 59 50  	db	$59,$54,$59,$50,$45,$38,$78,$38,$00,$44,
                    $6C,$67,$41,$62,$6F
       00:151E: 45 38 78 38 
       00:1522: 00 44 6C 67 
       00:1526: 41 62 6F 
 20775 00:1529: 75 74 57 69  	db	$75,$74,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:152D: 6E 64 6F 77 
       00:1531: 50 72 6F 63 
       00:1535: 3A 3A 46 
 20776 00:1538: 58 5F 43 4F  	db	$58,$5F,$43,$4F,$4E,$54,$52,$4F,$4C,$5F,
                    $43,$4F,$4D,$4D,$41
       00:153C: 4E 54 52 4F 
       00:1540: 4C 5F 43 4F 
       00:1544: 4D 4D 41 
 20777 00:1547: 4E 44 0D 0A  	db	$4E,$44,$0D,$0A,$00,$44,$6C,$67,$41,$62,
                    $6F,$75,$74,$57,$69
       00:154B: 00 44 6C 67 
       00:154F: 41 62 6F 75 
       00:1553: 74 57 69 
 20778 00:1556: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,
                    $49,$44,$3A,$00,$44
       00:155A: 50 72 6F 63 
       00:155E: 3A 3A 49 44 
       00:1562: 3A 00 44 
 20779 00:1565: 6C 67 41 62  	db	$6C,$67,$41,$62,$6F,$75,$74,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:1569: 6F 75 74 57 
       00:156D: 69 6E 64 6F 
       00:1571: 77 50 72 
 20780 00:1574: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4D,$4F,$55,
                    $53,$45,$5F,$45,$4E
       00:1578: 46 58 5F 4D 
       00:157C: 4F 55 53 45 
       00:1580: 5F 45 4E 
 20781 00:1583: 54 45 52 3A  	db	$54,$45,$52,$3A,$00,$44,$6C,$67,$41,$62,
                    $6F,$75,$74,$57,$69
       00:1587: 00 44 6C 67 
       00:158B: 41 62 6F 75 
       00:158F: 74 57 69 
 20782 00:1592: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,
                    $46,$58,$5F,$4D,$4F
       00:1596: 50 72 6F 63 
       00:159A: 3A 3A 46 58 
       00:159E: 5F 4D 4F 
 20783 00:15A1: 55 53 45 5F  	db	$55,$53,$45,$5F,$45,$58,$49,$54,$3A,$00,
                    $44,$6C,$67,$41,$62
       00:15A5: 45 58 49 54 
       00:15A9: 3A 00 44 6C 
       00:15AD: 67 41 62 
 20784 00:15B0: 6F 75 74 57  	db	$6F,$75,$74,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:15B4: 69 6E 64 6F 
       00:15B8: 77 50 72 6F 
       00:15BC: 63 3A 3A 
 20785 00:15BF: 46 58 5F 57  	db	$46,$58,$5F,$57,$49,$4E,$44,$4F,$57,$5F,
                    $43,$4C,$4F,$53,$45
       00:15C3: 49 4E 44 4F 
  Thu Dec  3 2020 22:25                                                Page 411


       00:15C7: 57 5F 43 4C 
       00:15CB: 4F 53 45 
 20786 00:15CE: 3A 00        	db	$3A,$00
 20787 00:15D0:              	ends
 20788                        ;
 20789                        ;BOOL k_user_SetMenuState(HMENU hMenu,UINT cmdId,U
                    INT state)
 20790                        ;{
 20791                        	.line	3731
 20792                        	.line	3732
 20793                        	WINMAN
 20794                        	xdef	~~k_user_SetMenuState
 20795                        	func
 20796                        	.function	3732
 20797                        ~~k_user_SetMenuState:
 20798                        	longa	on
 20799                        	longi	on
 20800 04:5CA9: 3B           	tsc
 20801 04:5CAA: 38           	sec
 20802 04:5CAB: E9 18 00     	sbc	#L764
 20803 04:5CAE: 1B           	tcs
 20804 04:5CAF: 0B           	phd
 20805 04:5CB0: 5B           	tcd
 20806             00000004   hMenu_0	set	4
 20807             00000008   cmdId_0	set	8
 20808             0000000A   state_0	set	10
 20809                        	.block	3732
 20810                        ;	PMENU pMenu = (PMENU)hMenu;
 20811                        ;
 20812                        ;	if(pMenu)
 20813             00000000   pMenu_1	set	0
 20814                        	.sym	pMenu,0,138,1,32,31
 20815                        	.sym	hMenu,4,129,6,32
 20816                        	.sym	cmdId,8,16,6,16
 20817                        	.sym	state,10,16,6,16
 20818 04:5CB1: A5 1C        	lda	<L764+hMenu_0
 20819 04:5CB3: 85 11        	sta	<L765+pMenu_1
 20820 04:5CB5: A5 1E        	lda	<L764+hMenu_0+2
 20821 04:5CB7: 85 13        	sta	<L765+pMenu_1+2
 20822                        	.line	3735
 20823                        ;	{
 20824 04:5CB9: A5 11        	lda	<L765+pMenu_1
 20825 04:5CBB: 05 13        	ora	<L765+pMenu_1+2
 20826 04:5CBD: D0 03        	bne	L767
 20827 04:5CBF: 82 50 00     	brl	L10341
 20828                        L767:
 20829                        	.line	3736
 20830                        ;		PFXNODELIST menus = pMenu->subMenus;
 20831                        ;		k_nodelist_foreach_type(menus,
 20832                        	.block	3738
 20833             00000004   menus_2	set	4
 20834                        	.sym	menus,4,138,1,32,3
 20835 04:5CC2: A0 13 00     	ldy	#$13
 20836 04:5CC5: B7 11        	lda	[<L765+pMenu_1],Y
 20837 04:5CC7: 85 15        	sta	<L765+menus_2
 20838 04:5CC9: A0 15 00     	ldy	#$15
 20839 04:5CCC: B7 11        	lda	[<L765+pMenu_1],Y
 20840 04:5CCE: 85 17        	sta	<L765+menus_2+2
  Thu Dec  3 2020 22:25                                                Page 412


 20841                        	.line	3738
 20842                        ;							
                    	NL_TYPE_WINDOW_MENU,
 20843                        ;							
                    	(LPVOID)MAKELONG(state,cmdId),
 20844                        ;							
                    	k_iterate_set_menu_state);
 20845 04:5CD0: F4 04 00     	pea	#^~~k_iterate_set_menu_state
 20846 04:5CD3: F4 71 23     	pea	#<~~k_iterate_set_menu_state
 20847 04:5CD6: A5 20        	lda	<L764+cmdId_0
 20848 04:5CD8: 85 05        	sta	<R1
 20849 04:5CDA: 64 07        	stz	<R1+2
 20850 04:5CDC: D4 07        	pei	<R1+2
 20851 04:5CDE: D4 05        	pei	<R1
 20852 04:5CE0: A9 10 00     	lda	#$10
 20853                        	xref	~~~lasl
 20854 04:5CE3: 22 xx xx xx  	jsl	~~~lasl
 20855 04:5CE7: 85 01        	sta	<R0
 20856 04:5CE9: 86 03        	stx	<R0+2
 20857 04:5CEB: A0 00 00     	ldy	#$0
 20858 04:5CEE: A5 22        	lda	<L764+state_0
 20859 04:5CF0: 10 01        	bpl	L769
 20860 04:5CF2: 88           	dey
 20861                        L769:
 20862 04:5CF3: 85 09        	sta	<R2
 20863 04:5CF5: 84 0B        	sty	<R2+2
 20864 04:5CF7: A5 09        	lda	<R2
 20865 04:5CF9: 05 01        	ora	<R0
 20866 04:5CFB: 85 0D        	sta	<R3
 20867 04:5CFD: A5 0B        	lda	<R2+2
 20868 04:5CFF: 05 03        	ora	<R0+2
 20869 04:5D01: 85 0F        	sta	<R3+2
 20870 04:5D03: D4 0F        	pei	<R3+2
 20871 04:5D05: D4 0D        	pei	<R3
 20872 04:5D07: F4 03 00     	pea	#<$3
 20873 04:5D0A: D4 17        	pei	<L765+menus_2+2
 20874 04:5D0C: D4 15        	pei	<L765+menus_2
 20875 04:5D0E: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
 20876                        ;	}
 20877                        	.endblock	3742
 20878                        	.line	3742
 20879                        ;
 20880                        ;	return TRUE;
 20881                        L10341:
 20882                        	.line	3744
 20883 04:5D12: A9 01 00     	lda	#$1
 20884                        L770:
 20885 04:5D15: A8           	tay
 20886 04:5D16: A5 1A        	lda	<L764+2
 20887 04:5D18: 85 22        	sta	<L764+2+8
 20888 04:5D1A: A5 19        	lda	<L764+1
 20889 04:5D1C: 85 21        	sta	<L764+1+8
 20890 04:5D1E: 2B           	pld
 20891 04:5D1F: 3B           	tsc
 20892 04:5D20: 18           	clc
 20893 04:5D21: 69 20 00     	adc	#L764+8
 20894 04:5D24: 1B           	tcs
 20895 04:5D25: 98           	tya
  Thu Dec  3 2020 22:25                                                Page 413


 20896 04:5D26: 6B           	rtl
 20897                        ;}
 20898                        	.line	3745
 20899                        	.endblock	3745
 20900             00000018   L764	equ	24
 20901             00000011   L765	equ	17
 20902 04:5D27:              	ends
 20903                        	efunc
 20904                        	.endfunc	3745,17,24
 20905                        	.line	3745
 20906                        ;
 20907                        ;VOID k_switch_window_page(HWND hWnd,UINT toPage,U
                    INT fromPage,BOOL bFillSrc)
 20908                        ;{
 20909                        	.line	3747
 20910                        	.line	3748
 20911                        	WINMAN
 20912                        	xdef	~~k_switch_window_page
 20913                        	func
 20914                        	.function	3748
 20915                        ~~k_switch_window_page:
 20916                        	longa	on
 20917                        	longi	on
 20918 04:5D27: 3B           	tsc
 20919 04:5D28: 38           	sec
 20920 04:5D29: E9 24 00     	sbc	#L771
 20921 04:5D2C: 1B           	tcs
 20922 04:5D2D: 0B           	phd
 20923 04:5D2E: 5B           	tcd
 20924             00000004   hWnd_0	set	4
 20925             00000008   toPage_0	set	8
 20926             0000000A   fromPage_0	set	10
 20927             0000000C   bFillSrc_0	set	12
 20928                        	.block	3748
 20929                        ;	RECT winRect;
 20930                        ;	LONG offset  = 0L;
 20931                        ;	LPVOID pSrc  = (LPVOID)(((LONG)fromPage << 16) &
                     0xFF0000);
 20932                        ;	LPVOID pDest = (LPVOID)(((LONG)toPage   << 16) &
                     0xFF0000);
 20933                        ;
 20934                        ;	//k_debug_pointer("k_switch_window_page:toPage:"
                      ,pDest);
 20935                        ;	//k_debug_pointer("k_switch_window_page:fromPage
                    :",pSrc);
 20936                        ;
 20937                        ;	k_getWindowRect(hWnd,&winRect);
 20938             00000000   winRect_1	set	0
 20939             00000008   offset_1	set	8
 20940             0000000C   pSrc_1	set	12
 20941             00000010   pDest_1	set	16
 20942                        	.sym	winRect,0,10,1,64,22
 20943                        	.sym	offset,8,7,1,32
 20944                        	.sym	pSrc,12,129,1,32
 20945                        	.sym	pDest,16,129,1,32
 20946                        	.sym	hWnd,4,129,6,32
 20947                        	.sym	toPage,8,16,6,16
 20948                        	.sym	fromPage,10,16,6,16
  Thu Dec  3 2020 22:25                                                Page 414


 20949                        	.sym	bFillSrc,12,14,6,8
 20950 04:5D2F: 64 19        	stz	<L772+offset_1
 20951 04:5D31: 64 1B        	stz	<L772+offset_1+2
 20952 04:5D33: A5 2E        	lda	<L771+fromPage_0
 20953 04:5D35: 85 05        	sta	<R1
 20954 04:5D37: 64 07        	stz	<R1+2
 20955 04:5D39: D4 07        	pei	<R1+2
 20956 04:5D3B: D4 05        	pei	<R1
 20957 04:5D3D: A9 10 00     	lda	#$10
 20958                        	xref	~~~lasl
 20959 04:5D40: 22 xx xx xx  	jsl	~~~lasl
 20960 04:5D44: 85 01        	sta	<R0
 20961 04:5D46: 86 03        	stx	<R0+2
 20962 04:5D48: 64 09        	stz	<R2
 20963 04:5D4A: A5 03        	lda	<R0+2
 20964 04:5D4C: 29 FF 00     	and	#^$ff0000
 20965 04:5D4F: 85 0B        	sta	<R2+2
 20966 04:5D51: A5 09        	lda	<R2
 20967 04:5D53: 85 1D        	sta	<L772+pSrc_1
 20968 04:5D55: A5 0B        	lda	<R2+2
 20969 04:5D57: 85 1F        	sta	<L772+pSrc_1+2
 20970 04:5D59: A5 2C        	lda	<L771+toPage_0
 20971 04:5D5B: 85 09        	sta	<R2
 20972 04:5D5D: 64 0B        	stz	<R2+2
 20973 04:5D5F: D4 0B        	pei	<R2+2
 20974 04:5D61: D4 09        	pei	<R2
 20975 04:5D63: A9 10 00     	lda	#$10
 20976                        	xref	~~~lasl
 20977 04:5D66: 22 xx xx xx  	jsl	~~~lasl
 20978 04:5D6A: 85 01        	sta	<R0
 20979 04:5D6C: 86 03        	stx	<R0+2
 20980 04:5D6E: 64 0D        	stz	<R3
 20981 04:5D70: A5 03        	lda	<R0+2
 20982 04:5D72: 29 FF 00     	and	#^$ff0000
 20983 04:5D75: 85 0F        	sta	<R3+2
 20984 04:5D77: A5 0D        	lda	<R3
 20985 04:5D79: 85 21        	sta	<L772+pDest_1
 20986 04:5D7B: A5 0F        	lda	<R3+2
 20987 04:5D7D: 85 23        	sta	<L772+pDest_1+2
 20988                        	.line	3757
 20989 04:5D7F: F4 00 00     	pea	#0
 20990 04:5D82: 18           	clc
 20991 04:5D83: 7B           	tdc
 20992 04:5D84: 69 11 00     	adc	#<L772+winRect_1
 20993 04:5D87: 48           	pha
 20994 04:5D88: D4 2A        	pei	<L771+hWnd_0+2
 20995 04:5D8A: D4 28        	pei	<L771+hWnd_0
 20996 04:5D8C: 22 29 0D 04  	jsl	~~k_getWindowRect
 20997                        ;	offset = k_gui_get_pixel_offset(winRect.x,winRec
                    t.y);
 20998                        	.line	3758
 20999 04:5D90: D4 13        	pei	<L772+winRect_1+2
 21000 04:5D92: D4 11        	pei	<L772+winRect_1
 21001 04:5D94: 22 xx xx xx  	jsl	~~k_gui_get_pixel_offset
 21002 04:5D98: 85 19        	sta	<L772+offset_1
 21003 04:5D9A: 86 1B        	stx	<L772+offset_1+2
 21004                        ;
 21005                        ;	pDest = (LPVOID)( (LONG)pDest | offset);
  Thu Dec  3 2020 22:25                                                Page 415


 21006                        	.line	3760
 21007 04:5D9C: A5 19        	lda	<L772+offset_1
 21008 04:5D9E: 05 21        	ora	<L772+pDest_1
 21009 04:5DA0: 85 01        	sta	<R0
 21010 04:5DA2: A5 1B        	lda	<L772+offset_1+2
 21011 04:5DA4: 05 23        	ora	<L772+pDest_1+2
 21012 04:5DA6: 85 03        	sta	<R0+2
 21013 04:5DA8: A5 01        	lda	<R0
 21014 04:5DAA: 85 21        	sta	<L772+pDest_1
 21015 04:5DAC: A5 03        	lda	<R0+2
 21016 04:5DAE: 85 23        	sta	<L772+pDest_1+2
 21017                        ;	pSrc  = (LPVOID)( (LONG)pSrc  | offset);
 21018                        	.line	3761
 21019 04:5DB0: A5 19        	lda	<L772+offset_1
 21020 04:5DB2: 05 1D        	ora	<L772+pSrc_1
 21021 04:5DB4: 85 01        	sta	<R0
 21022 04:5DB6: A5 1B        	lda	<L772+offset_1+2
 21023 04:5DB8: 05 1F        	ora	<L772+pSrc_1+2
 21024 04:5DBA: 85 03        	sta	<R0+2
 21025 04:5DBC: A5 01        	lda	<R0
 21026 04:5DBE: 85 1D        	sta	<L772+pSrc_1
 21027 04:5DC0: A5 03        	lda	<R0+2
 21028 04:5DC2: 85 1F        	sta	<L772+pSrc_1+2
 21029                        ;
 21030                        ;	//k_debug_pointer("k_switch_window_page:toPage:"
                      ,pDest);
 21031                        ;	//k_debug_pointer("k_switch_window_page:fromPage
                    :",pSrc);
 21032                        ;
 21033                        ;
 21034                        ;	k_vdma_copy_address_ex(pDest,pSrc,winRect.width,
                    winRect.height);
 21035                        	.line	3767
 21036 04:5DC4: D4 17        	pei	<L772+winRect_1+6
 21037 04:5DC6: D4 15        	pei	<L772+winRect_1+4
 21038 04:5DC8: D4 1F        	pei	<L772+pSrc_1+2
 21039 04:5DCA: D4 1D        	pei	<L772+pSrc_1
 21040 04:5DCC: D4 23        	pei	<L772+pDest_1+2
 21041 04:5DCE: D4 21        	pei	<L772+pDest_1
 21042 04:5DD0: 22 xx xx xx  	jsl	~~k_vdma_copy_address_ex
 21043                        ;	if(bFillSrc)
 21044                        	.line	3768
 21045                        ;		k_vdma_fill_rect_ex(winRect.x,winRect.y,
                    winRect.width,winRect.height,FILLCOLOR_TRANSPARENT,fromPage)
                    ;
 21046 04:5DD4: A5 30        	lda	<L771+bFillSrc_0
 21047 04:5DD6: 29 FF 00     	and	#$ff
 21048 04:5DD9: D0 03        	bne	L774
 21049 04:5DDB: 82 2D 00     	brl	L10342
 21050                        L774:
 21051                        	.line	3769
 21052 04:5DDE: D4 2E        	pei	<L771+fromPage_0
 21053 04:5DE0: F4 00 00     	pea	#<$0
 21054 04:5DE3: D4 17        	pei	<L772+winRect_1+6
 21055 04:5DE5: D4 15        	pei	<L772+winRect_1+4
 21056 04:5DE7: A0 00 00     	ldy	#$0
 21057 04:5DEA: A5 13        	lda	<L772+winRect_1+2
 21058 04:5DEC: 10 01        	bpl	L775
  Thu Dec  3 2020 22:25                                                Page 416


 21059 04:5DEE: 88           	dey
 21060                        L775:
 21061 04:5DEF: 85 01        	sta	<R0
 21062 04:5DF1: 84 03        	sty	<R0+2
 21063 04:5DF3: D4 03        	pei	<R0+2
 21064 04:5DF5: D4 01        	pei	<R0
 21065 04:5DF7: A0 00 00     	ldy	#$0
 21066 04:5DFA: A5 11        	lda	<L772+winRect_1
 21067 04:5DFC: 10 01        	bpl	L776
 21068 04:5DFE: 88           	dey
 21069                        L776:
 21070 04:5DFF: 85 05        	sta	<R1
 21071 04:5E01: 84 07        	sty	<R1+2
 21072 04:5E03: D4 07        	pei	<R1+2
 21073 04:5E05: D4 05        	pei	<R1
 21074 04:5E07: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
 21075                        ;}
 21076                        L10342:
 21077                        	.line	3770
 21078                        L777:
 21079 04:5E0B: A5 26        	lda	<L771+2
 21080 04:5E0D: 85 30        	sta	<L771+2+10
 21081 04:5E0F: A5 25        	lda	<L771+1
 21082 04:5E11: 85 2F        	sta	<L771+1+10
 21083 04:5E13: 2B           	pld
 21084 04:5E14: 3B           	tsc
 21085 04:5E15: 18           	clc
 21086 04:5E16: 69 2E 00     	adc	#L771+10
 21087 04:5E19: 1B           	tcs
 21088 04:5E1A: 6B           	rtl
 21089                        	.endblock	3770
 21090             00000024   L771	equ	36
 21091             00000011   L772	equ	17
 21092 04:5E1B:              	ends
 21093                        	efunc
 21094                        	.endfunc	3770,17,36
 21095                        	.line	3770
 21096                        ;
 21097                        	.line	3770
 21098                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",3747
 21099                        	xref	~~k_draw_rect
 21100                        	xref	~~k_is_inside_rect
 21101                        	xref	~~hscrollbarWindowProc
 21102                        	xref	~~vscrollbarWindowProc
 21103                        	xref	~~k_gui_set_mousepointer
 21104                        	xref	~~k_font_getFontWidth
 21105                        	xref	~~k_font_getFontHeight
 21106                        	xref	~~k_create_ui_window_class
 21107                        	xref	~~k_create_context_menu_in_window_ex
 21108                        	xref	~~k_vdma_copy_address_ex
 21109                        	xref	~~k_vdma_fill_rect_ex
 21110                        	xref	~~k_vdma_fill_rect
 21111                        	xref	~~k_vdraw_ui_window
 21112                        	xref	~~k_get_font_metrics
 21113                        	xref	~~k_draw_text_point_with_font_ex
 21114                        	xref	~~k_draw_text_point_with_font
 21115                        	xref	~~k_draw_text_point
  Thu Dec  3 2020 22:25                                                Page 417


 21116                        	xref	~~k_draw_line
 21117                        	xref	~~k_gui_get_pixel_offset
 21118                        	xref	~~k_get_video_mode
 21119                        	xref	~~k_getUIGadgetColor
 21120                        	xref	~~k_getUIMenuColor
 21121                        	xref	~~k_getUIBackgroundColor
 21122                        	xref	~~k_vdraw_ui_menu_ex
 21123                        	xref	~~k_mem_deallocate_heap
 21124                        	xref	~~k_mem_allocate_heap
 21125                        	xref	~~k_send_command_message
 21126                        	xref	~~k_send_window_message
 21127                        	xref	~~k_event_unlock_focus
 21128                        	xref	~~k_event_lock_focus_ex
 21129                        	xref	~~k_exec_get_current_process
 21130                        	xref	~~k_get_localtime_string
 21131                        	xref	~~k_string_copy_string
 21132                        	xref	~~k_debug_nodelist
 21133                        	xref	~~k_debug_rect
 21134                        	xref	~~k_debug_strings
 21135                        	xref	~~k_debug_message
 21136                        	xref	~~k_debug_long
 21137                        	xref	~~k_debug_integer
 21138                        	xref	~~k_debug_pointer
 21139                        	xref	~~k_debug_string
 21140                        	xref	~~k_nodelist_foreach_listdata_remove
 21141                        	xref	~~k_nodelist_foreach_until_listdata
 21142                        	xref	~~k_nodelist_foreach_listdata
 21143                        	xref	~~k_nodelist_foreach_type
 21144                        	xref	~~k_nodelist_getfirstnode
 21145                        	xref	~~k_nodelist_searchByName
 21146                        	xref	~~k_nodelist_addnodetolist
 21147                        	xref	~~k_nodelist_naddtolist
 21148                        	xref	~~k_nodelist_naddtolist_tohead
 21149                        	xref	~~k_nodelist_addtolist
 21150                        	xref	~~k_nodelist_deallocate_list
 21151                        	xref	~~k_nodelist_allocate_list
 21152                        	xref	~~k_nodelist_ncreate
 21153                        	xref	~~strlen
 21154                        	xref	~~strcpy
 21155                        	xref	~~strcmp
 21156                        	xref	~~memset
 21157                        	xref	~~MOUSE_POINTER_RESIZE
 21158                        	xref	~~MOUSE_POINTER_HOURGLASS
 21159                        	xref	~~MOUSE_POINTER_HELP
 21160                        	xref	~~MOUSE_POINTER_ARROW
 21161                        	xref	~~BM437FXOS8x8
 21162                        	xref	~~BM4378X8ITAL
 21163                        	xref	~~BM437AMIGO8x8
 21164                        	xref	~~BM437FANTASY
 21165                        	xref	~~BM437TINYTYPE8x8
 21166                        	xref	~~Bm437ATI6x8
 21167                        	xref	~~Bm437ATI8x16
 21168                        	xref	~~Bm437ToshibaLCD8x8
 21169                        	.sym	~~k_draw_rect,~~k_draw_rect,69,18,0
 21170                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,69
                    ,18,0
 21171                        	.sym	~~k_point_in_depth_nodeslist,~~k_point_i
                    n_depth_nodeslist,1098,2,32,2
  Thu Dec  3 2020 22:25                                                Page 418


 21172                        	.sym	~~k_user_CreateWindowEx,~~k_user_CreateW
                    indowEx,1098,2,32,28
 21173                        	.sym	~~k_user_SelectColorIntoContext,~~k_user
                    _SelectColorIntoContext,65,2,0
 21174                        	.sym	~~k_user_SelectFontIntoContext,~~k_user_
                    SelectFontIntoContext,65,2,0
 21175                        	.sym	~~k_user_ReleaseWindowDrawingContext,~~k
                    _user_ReleaseWindowDrawingContext,65,2,0
 21176                        	.sym	~~k_user_GetWindowDrawingContext,~~k_use
                    r_GetWindowDrawingContext,1089,2,32
 21177                        	.sym	~~k_user_GetFont,~~k_user_GetFont,1089,2
                    ,32
 21178                        	.sym	~~k_user_getWindowClass,~~k_user_getWind
                    owClass,1098,2,32,23
 21179                        	.sym	~~k_deallocate_menu_resource,~~k_dealloc
                    ate_menu_resource,65,2,0
 21180                        	.sym	~~k_deallocate_icon_object,~~k_deallocat
                    e_icon_object,65,2,0
 21181                        	.sym	~~_k_windowManager_CursorList,~~_k_windo
                    wManager_CursorList,138,3,32,3
 21182                        	.sym	~~_k_windowManager_FontList,~~_k_windowM
                    anager_FontList,138,3,32,3
 21183                        	.sym	~~_k_windowManager_IconList,~~_k_windowM
                    anager_IconList,138,3,32,3
 21184                        	.sym	~~_k_windowManager_WindowMenuList,~~_k_w
                    indowManager_WindowMenuList,138,3,32,3
 21185                        	.sym	~~_k_windowManager_ObjectHitList,~~_k_wi
                    ndowManager_ObjectHitList,138,3,32,3
 21186                        	.sym	~~_k_windowManager_WindowObjectList,~~_k
                    _windowManager_WindowObjectList,138,3,32,3
 21187                        	.sym	~~_k_windowManager_WindowClassList,~~_k_
                    windowManager_WindowClassList,138,3,32,3
 21188                        	.sym	~~debug_clickable_node,~~debug_clickable
                    _node,65,2,0
 21189                        	.sym	~~debug_window_node,~~debug_window_node,
                    65,2,0
 21190                        	.sym	~~k_is_window_closed,~~k_is_window_close
                    d,78,2,0
 21191                        	.sym	~~k_size_dropdown_menus,~~k_size_dropdow
                    n_menus,65,2,0
 21192                        	.sym	~~find_window_caption,~~find_window_capt
                    ion,78,2,0
 21193                        	.sym	~~find_child_window,~~find_child_window,
                    78,2,0
 21194                        	.sym	~~k_iterate_children,~~k_iterate_childre
                    n,65,2,0
 21195                        	.sym	~~k_iterate_dropdown_menu_captions,~~k_i
                    terate_dropdown_menu_captions,65,2,0
 21196                        	.sym	~~k_iterate_set_menu_state,~~k_iterate_s
                    et_menu_state,65,2,0
 21197                        	.sym	~~k_iterate_menus,~~k_iterate_menus,65,2
                    ,0
 21198                        	.sym	~~_k_user_send_child_message,~~_k_user_s
                    end_child_message,78,2,0
 21199                        	.sym	PEACHCHILD_MSG,0,138,14,32,63
 21200                        	.sym	EACHCHILD_MSG,0,10,14,64,63
 21201                        	.sym	~~k_switch_window_page,~~k_switch_window
                    _page,65,2,0
  Thu Dec  3 2020 22:25                                                Page 419


 21202                        	.sym	~~menuDropDownWindowProc,~~menuDropDownW
                    indowProc,78,2,0
 21203                        	.sym	~~menuAnchorWindowProc,~~menuAnchorWindo
                    wProc,78,2,0
 21204                        	.sym	~~gadgetWindowProc,~~gadgetWindowProc,78
                    ,2,0
 21205                        	.sym	~~menuWindowProc,~~menuWindowProc,78,2,0
 21206                        	.sym	~~hscrollbarWindowProc,~~hscrollbarWindo
                    wProc,78,18,0
 21207                        	.sym	~~vscrollbarWindowProc,~~vscrollbarWindo
                    wProc,78,18,0
 21208                        	.sym	~~buttonWindowProc,~~buttonWindowProc,78
                    ,2,0
 21209                        	.sym	~~DlgAboutWindowProc,~~DlgAboutWindowPro
                    c,78,2,0
 21210                        	.sym	~~DlgWindowProc,~~DlgWindowProc,78,2,0
 21211                        	.sym	~~DefWindowProc,~~DefWindowProc,78,2,0
 21212                        	.sym	~~k_clean_closed_windows,~~k_clean_close
                    d_windows,65,2,0
 21213                        	.sym	~~k_deallocate_cursor_object,~~k_dealloc
                    ate_cursor_object,65,2,0
 21214                        	.sym	~~k_deallocate_font_object,~~k_deallocat
                    e_font_object,65,2,0
 21215                        	.sym	~~k_deallocate_hit_class,~~k_deallocate_
                    hit_class,65,2,0
 21216                        	.sym	~~k_deallocate_menu_object,~~k_deallocat
                    e_menu_object,65,2,0
 21217                        	.sym	~~k_deallocate_window_object,~~k_dealloc
                    ate_window_object,65,2,0
 21218                        	.sym	~~k_deallocate_window_class,~~k_dealloca
                    te_window_class,65,2,0
 21219                        	.sym	~~k_func_drawAnchorText,~~k_func_drawAnc
                    horText,65,2,0
 21220                        	.sym	~~k_render_text,~~k_render_text,69,2,0
 21221                        	.sym	~~k_text_callback,~~k_text_callback,65,2
                    ,0
 21222                        	.sym	~~k_point_hit_scan_nodeslist,~~k_point_h
                    it_scan_nodeslist,1098,2,32,2
 21223                        	.sym	~~k_point_hit_resetdepth_nodeslist,~~k_p
                    oint_hit_resetdepth_nodeslist,65,2,0
 21224                        	.sym	~~k_point_hit_scan,~~k_point_hit_scan,10
                    98,2,32,2
 21225                        	.sym	~~k_remove_closed_windows_from_list,~~k_
                    remove_closed_windows_from_list,1098,2,32,2
 21226                        	.sym	~~k_update_hover_location,~~k_update_hov
                    er_location,65,2,0
 21227                        	.sym	~~k_add_object_hit_node_local,~~k_add_ob
                    ject_hit_node_local,65,2,0
 21228                        	.sym	~~k_attach_mouse_detection_local,~~k_att
                    ach_mouse_detection_local,69,2,0
 21229                        	.sym	~~k_point_in_any_nodeslist,~~k_point_in_
                    any_nodeslist,1098,2,32,2
 21230                        	.sym	~~k_point_in_nodeslist,~~k_point_in_node
                    slist,1098,2,32,2
 21231                        	.sym	~~k_add_object_hit_node,~~k_add_object_h
                    it_node,65,2,0
 21232                        	.sym	~~k_attach_mouse_detection,~~k_attach_mo
                    use_detection,69,2,0
  Thu Dec  3 2020 22:25                                                Page 420


 21233                        	.sym	~~k_add_child_window,~~k_add_child_windo
                    w,78,2,0
 21234                        	.sym	~~k_user_FillClientRect,~~k_user_FillCli
                    entRect,1098,2,32,22
 21235                        	.sym	~~k_user_DrawWindowTextToPointWithFont,~
                    ~k_user_DrawWindowTextToPointWithFont,80,2,0
 21236                        	.sym	~~k_user_DrawWindowTextToPoint,~~k_user_
                    DrawWindowTextToPoint,80,2,0
 21237                        	.sym	~~k_user_DrawText,~~k_user_DrawText,80,2
                    ,0
 21238                        	.sym	~~k_user_EndWindowForDrag,~~k_user_EndWi
                    ndowForDrag,65,2,0
 21239                        	.sym	~~k_user_StartWindowForDrag,~~k_user_Sta
                    rtWindowForDrag,65,2,0
 21240                        	.sym	~~k_user_CopyRect,~~k_user_CopyRect,65,2
                    ,0
 21241                        	.sym	~~k_user_ClearRect,~~k_user_ClearRect,65
                    ,2,0
 21242                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,2,0
 21243                        	.sym	~~k_user_IsChildWindow,~~k_user_IsChildW
                    indow,78,2,0
 21244                        	.sym	~~k_user_getFocusWindow,~~k_user_getFocu
                    sWindow,1089,2,32
 21245                        	.sym	~~k_user_MoveWindow_ex,~~k_user_MoveWind
                    ow_ex,65,2,0
 21246                        	.sym	~~k_user_MoveWindow,~~k_user_MoveWindow,
                    65,2,0
 21247                        	.sym	~~k_user_CenterBottomWindow,~~k_user_Cen
                    terBottomWindow,65,2,0
 21248                        	.sym	~~k_user_CenterWindow,~~k_user_CenterWin
                    dow,65,2,0
 21249                        	.sym	~~k_user_CreateButton,~~k_user_CreateBut
                    ton,1098,2,32,27
 21250                        	.sym	~~k_user_SetMenuState,~~k_user_SetMenuSt
                    ate,78,2,0
 21251                        	.sym	~~k_user_CreateMenuDropDown,~~k_user_Cre
                    ateMenuDropDown,1098,2,32,27
 21252                        	.sym	~~k_user_CreateMenuAnchor,~~k_user_Creat
                    eMenuAnchor,1098,2,32,27
 21253                        	.sym	~~k_user_AddMenuItem,~~k_user_AddMenuIte
                    m,1089,2,32
 21254                        	.sym	~~k_user_CreateMenuResource,~~k_user_Cre
                    ateMenuResource,1089,2,32
 21255                        	.sym	~~k_user_CreateMenu,~~k_user_CreateMenu,
                    1098,2,32,27
 21256                        	.sym	~~k_user_GlobalToClientCoordinates,~~k_u
                    ser_GlobalToClientCoordinates,1098,2,32,21
 21257                        	.sym	~~k_user_ClientToGlobalCoordinates,~~k_u
                    ser_ClientToGlobalCoordinates,1098,2,32,21
 21258                        	.sym	~~k_user_ShowWindow,~~k_user_ShowWindow,
                    78,2,0
 21259                        	.sym	~~k_user_setMousePointer,~~k_user_setMou
                    sePointer,1089,2,32
 21260                        	.sym	~~k_user_getMousePointerClass,~~k_user_g
                    etMousePointerClass,1089,2,32
 21261                        	.sym	~~k_user_getFontClass,~~k_user_getFontCl
                    ass,1089,2,32
 21262                        	.sym	~~k_user_RegisterFontClass,~~k_user_Regi
  Thu Dec  3 2020 22:25                                                Page 421


                    sterFontClass,1089,2,32
 21263                        	.sym	~~k_user_RegisterMousePointerClass,~~k_u
                    ser_RegisterMousePointerClass,1089,2,32
 21264                        	.sym	~~k_user_DestroyWindow,~~k_user_DestroyW
                    indow,78,2,0
 21265                        	.sym	~~k_user_CloseWindow,~~k_user_CloseWindo
                    w,78,2,0
 21266                        	.sym	~~k_user_LoadDialog,~~k_user_LoadDialog,
                    1098,2,32,27
 21267                        	.sym	~~k_user_GetWindowData,~~k_user_GetWindo
                    wData,1089,2,32
 21268                        	.sym	~~k_user_SetWindowData,~~k_user_SetWindo
                    wData,1089,2,32
 21269                        	.sym	~~k_user_CreateWindow,~~k_user_CreateWin
                    dow,1098,2,32,27
 21270                        	.sym	~~k_user_RegisterWindowClass,~~k_user_Re
                    gisterWindowClass,1089,2,32
 21271                        	.sym	~~k_user_CreateWindowClass,~~k_user_Crea
                    teWindowClass,1098,2,32,23
 21272                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,2,0
 21273                        	.sym	~~k_user_findWindow,~~k_user_findWindow,
                    1089,2,32
 21274                        	.sym	~~k_user_getDesktopWindow,~~k_user_getDe
                    sktopWindow,1089,2,32
 21275                        	.sym	~~k_getWindowRect,~~k_getWindowRect,80,2
                    ,0
 21276                        	.sym	~~k_getHandleFromWindow,~~k_getHandleFro
                    mWindow,1089,2,32
 21277                        	.sym	~~k_getWindowFromHandle,~~k_getWindowFro
                    mHandle,1098,2,32,27
 21278                        	.sym	~~k_getWindowClassList,~~k_getWindowClas
                    sList,1098,2,32,2
 21279                        	.sym	~~k_getWindowList,~~k_getWindowList,1098
                    ,2,32,2
 21280                        	.sym	~~k_getWindowHitList,~~k_getWindowHitLis
                    t,1098,2,32,2
 21281                        	.sym	~~k_getWindowManagerHitList,~~k_getWindo
                    wManagerHitList,1098,2,32,3
 21282                        	.sym	~~k_getWindowManagerClassList,~~k_getWin
                    dowManagerClassList,1098,2,32,3
 21283                        	.sym	~~k_getWindowManagerList,~~k_getWindowMa
                    nagerList,1098,2,32,3
 21284                        	.sym	~~k_initializeWindowManager,~~k_initiali
                    zeWindowManager,78,2,0
 21285                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,18,0
 21286                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,18,0
 21287                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,18,0
 21288                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,18,32,27
 21289                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,18,32,31
 21290                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,18,0
 21291                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
  Thu Dec  3 2020 22:25                                                Page 422


                    _ex,65,18,0
 21292                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,18,0
 21293                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,18,0
 21294                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,18,0
 21295                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,18,0
 21296                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,18,0
 21297                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,18,0
 21298                        	.sym	~~k_draw_line,~~k_draw_line,65,18,0
 21299                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,18,0
 21300                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,18,0
 21301                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,18,0
 21302                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,18,0
 21303                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,18,0
 21304                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,62
 21305                        	.sym	CUR_PALETTE_MAP,0,10,14,400,62
 21306                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,18,32,31
 21307                        	.sym	PCLICKDETECTED,0,138,14,32,61
 21308                        	.sym	CLICKDETECTED,0,10,14,64,61
 21309                        	.sym	OBJECTCLICKED,0,641,14,32
 21310                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,18,0,0
 21311                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,18,0,0
 21312                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,18,0,0
 21313                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,18,0,0
 21314                        	.sym	~~BM437FXOS8x8,~~BM437FXOS8x8,110,18,0,0
 21315                        	.sym	~~BM4378X8ITAL,~~BM4378X8ITAL,110,18,0,0
 21316                        	.sym	~~BM437AMIGO8x8,~~BM437AMIGO8x8,110,18,0
                    ,0
 21317                        	.sym	~~BM437FANTASY,~~BM437FANTASY,110,18,0,0
 21318                        	.sym	~~BM437TINYTYPE8x8,~~BM437TINYTYPE8x8,11
                    0,18,0,0
 21319                        	.sym	~~Bm437ATI6x8,~~Bm437ATI6x8,110,18,0,0
 21320                        	.sym	~~Bm437ATI8x16,~~Bm437ATI8x16,110,18,0,0
 21321                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 21322                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 21323                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 21324                        	.sym	MemoryCallback,0,641,14,32
 21325                        	.sym	PFXMEMORYMAP,0,138,14,32,60
 21326                        	.sym	FXMEMORYMAP,0,10,14,2072,60
 21327                        	.sym	UMM_HEAP_INFO,0,10,14,256,59
  Thu Dec  3 2020 22:25                                                Page 423


 21328                        	.sym	PCOMMANDARGS,0,138,14,32,58
 21329                        	.sym	COMMANDARGS,0,10,14,64,58
 21330                        	.sym	PTOKENIZESTATE,0,133,14,32
 21331                        	.sym	TOKENIZESTATE,0,5,14,16
 21332                        	.sym	PTOKEN,0,138,14,32,57
 21333                        	.sym	TOKEN,0,10,14,64,57
 21334                        	.sym	PTOKENTYPE,0,133,14,32
 21335                        	.sym	TOKENTYPE,0,5,14,16
 21336                        	.sym	FXCommandHandler,0,656,14,32
 21337                        	.sym	PCONSOLECTX,0,138,14,32,56
 21338                        	.sym	CONSOLECTX,0,10,14,1144,56
 21339                        	.sym	PSPINNERCTX,0,138,14,32,55
 21340                        	.sym	SPINNERCTX,0,10,14,48,55
 21341                        	.sym	~~k_send_command_message,~~k_send_comman
                    d_message,78,18,0
 21342                        	.sym	~~k_send_window_message,~~k_send_window_
                    message,78,18,0
 21343                        	.sym	~~k_event_unlock_focus,~~k_event_unlock_
                    focus,1089,18,32
 21344                        	.sym	~~k_event_lock_focus_ex,~~k_event_lock_f
                    ocus_ex,78,18,0
 21345                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,54
 21346                        	.sym	MOUSE_MSG_STATE,0,10,14,184,54
 21347                        	.sym	PFXEVENTPROCESS,0,138,14,32,53
 21348                        	.sym	FXEVENTPROCESS,0,10,14,64,53
 21349                        	.sym	FXEventProc,0,641,14,32
 21350                        	.sym	PMOUSEMSGDATA,0,138,14,32,52
 21351                        	.sym	MOUSEMSGDATA,0,10,14,64,52
 21352                        	.sym	MSGIRQ,0,5,14,16
 21353                        	.sym	MAINLOOPARGS,0,10,14,16,51
 21354                        	.sym	~~k_exec_get_current_process,~~k_exec_ge
                    t_current_process,1098,18,32,17
 21355                        	.sym	~~k_get_localtime_string,~~k_get_localti
                    me_string,1102,18,32
 21356                        	.sym	~~k_string_copy_string,~~k_string_copy_s
                    tring,1102,18,32
 21357                        	.sym	PFXSTRING,0,138,14,32,50
 21358                        	.sym	FXSTRING,0,10,14,64,50
 21359                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 21360                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 21361                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 21362                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 21363                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 21364                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,49
 21365                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,49
 21366                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,48
 21367                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,48
 21368                        	.sym	~~k_debug_nodelist,~~k_debug_nodelist,65
                    ,18,0
 21369                        	.sym	~~k_debug_rect,~~k_debug_rect,65,18,0
 21370                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 21371                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 21372                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 21373                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 21374                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
  Thu Dec  3 2020 22:25                                                Page 424


                    8,0
 21375                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 21376                        	.sym	PDEBUGBYTEBITS,0,138,14,32,47
 21377                        	.sym	DEBUGBYTEBITS,0,10,14,8,47
 21378                        	.sym	PFXENVIRONMENT,0,138,14,32,46
 21379                        	.sym	FXENVIRONMENT,0,10,14,96,46
 21380                        	.sym	PFXZERPOPAGE,0,138,14,32,45
 21381                        	.sym	FXZERPOPAGE,0,10,14,448,45
 21382                        	.sym	KERNELTRAPCALL,0,641,14,32
 21383                        	.sym	~~k_nodelist_foreach_listdata_remove,~~k
                    _nodelist_foreach_listdata_remove,65,18,0
 21384                        	.sym	~~k_nodelist_foreach_until_listdata,~~k_
                    nodelist_foreach_until_listdata,1098,18,32,2
 21385                        	.sym	~~k_nodelist_foreach_listdata,~~k_nodeli
                    st_foreach_listdata,65,18,0
 21386                        	.sym	~~k_nodelist_foreach_type,~~k_nodelist_f
                    oreach_type,65,18,0
 21387                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 21388                        	.sym	FOREACHNODE,0,641,14,32
 21389                        	.sym	~~k_nodelist_getfirstnode,~~k_nodelist_g
                    etfirstnode,1098,18,32,2
 21390                        	.sym	~~k_nodelist_searchByName,~~k_nodelist_s
                    earchByName,1098,18,32,2
 21391                        	.sym	~~k_nodelist_addnodetolist,~~k_nodelist_
                    addnodetolist,1098,18,32,2
 21392                        	.sym	~~k_nodelist_naddtolist,~~k_nodelist_nad
                    dtolist,1098,18,32,2
 21393                        	.sym	~~k_nodelist_naddtolist_tohead,~~k_nodel
                    ist_naddtolist_tohead,1098,18,32,2
 21394                        	.sym	~~k_nodelist_addtolist,~~k_nodelist_addt
                    olist,1098,18,32,2
 21395                        	.sym	~~k_nodelist_deallocate_list,~~k_nodelis
                    t_deallocate_list,65,18,0
 21396                        	.sym	~~k_nodelist_allocate_list,~~k_nodelist_
                    allocate_list,1098,18,32,3
 21397                        	.sym	~~k_nodelist_ncreate,~~k_nodelist_ncreat
                    e,1098,18,32,2
 21398                        	.sym	~~strlen,~~strlen,80,18,0
 21399                        	.sym	~~strcpy,~~strcpy,1102,18,32
 21400                        	.sym	~~strcmp,~~strcmp,69,18,0
 21401                        	.sym	~~memset,~~memset,1089,18,32
 21402                        	.sym	Boolean_T,0,5,14,16
 21403                        	.sym	ldiv_t,0,10,14,64,43
 21404                        	.sym	div_t,0,10,14,32,42
 21405                        	.sym	wctype_t,0,16,14,16
 21406                        	.sym	wint_t,0,16,14,16
 21407                        	.sym	wchar_t,0,14,14,8
 21408                        	.sym	ptrdiff_t,0,7,14,32
 21409                        	.sym	size_t,0,16,14,16
 21410                        	.sym	PFXCOMBUFFER,0,138,14,32,41
 21411                        	.sym	FXCOMBUFFER,0,10,14,2080,41
 21412                        	.sym	PSUBMENULIST,0,138,14,32,40
 21413                        	.sym	SUBMENULIST,0,10,14,40,40
 21414                        	.sym	HSUBMENU,0,7,14,32
 21415                        	.sym	PSUBMENU,0,138,14,32,39
 21416                        	.sym	SUBMENU,0,10,14,64,39
 21417                        	.sym	MenuAction,0,641,14,32
  Thu Dec  3 2020 22:25                                                Page 425


 21418                        	.sym	PMENUANCHOR,0,138,14,32,38
 21419                        	.sym	MENUANCHOR,0,10,14,144,38
 21420                        	.sym	PTEXTBOX,0,138,14,32,37
 21421                        	.sym	TEXTBOX,0,10,14,144,37
 21422                        	.sym	PLISTBOX,0,138,14,32,36
 21423                        	.sym	LISTBOX,0,10,14,240,36
 21424                        	.sym	PSCROLLBAR,0,138,14,32,35
 21425                        	.sym	SCROLLBAR,0,10,14,192,35
 21426                        	.sym	PBUTTON,0,138,14,32,34
 21427                        	.sym	BUTTON,0,10,14,80,34
 21428                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,33
 21429                        	.sym	MENUDROPDOWNDATA,0,10,14,3568,33
 21430                        	.sym	PMENUTAG,0,138,14,32,32
 21431                        	.sym	MENUTAG,0,10,14,112,32
 21432                        	.sym	PMENU,0,138,14,32,31
 21433                        	.sym	MENU,0,10,14,248,31
 21434                        	.sym	HMENURESOURCE,0,129,14,32
 21435                        	.sym	HTEXTBOX,0,7,14,32
 21436                        	.sym	PTEXTBOXX,0,138,14,32,30
 21437                        	.sym	TEXTBOXX,0,10,14,112,30
 21438                        	.sym	FONTMETRIC,0,10,14,32,29
 21439                        	.sym	TITLE,0,142,14,32
 21440                        	.sym	PHANDLE,0,1153,14,32
 21441                        	.sym	HANDLE,0,129,14,32
 21442                        	.sym	PWINDOWEX,0,138,14,32,28
 21443                        	.sym	WINDOWEX,0,10,14,2704,28
 21444                        	.sym	PWINDOW,0,138,14,32,27
 21445                        	.sym	WINDOW,0,10,14,2808,27
 21446                        	.sym	PDRAGDATA,0,138,14,32,26
 21447                        	.sym	DRAGDATA,0,10,14,136,26
 21448                        	.sym	PNCCLICKABLE,0,138,14,32,25
 21449                        	.sym	NCCLICKABLE,0,10,14,88,25
 21450                        	.sym	HCLICKABLE,0,7,14,32
 21451                        	.sym	PCLICKABLE,0,138,14,32,24
 21452                        	.sym	CLICKABLE,0,10,14,88,24
 21453                        	.sym	PWNDCLASS,0,138,14,32,23
 21454                        	.sym	WNDCLASS,0,10,14,256,23
 21455                        	.sym	HBRUSH,0,129,14,32
 21456                        	.sym	HCURSOR,0,129,14,32
 21457                        	.sym	HICON,0,129,14,32
 21458                        	.sym	HINSTANCE,0,129,14,32
 21459                        	.sym	FXWndProc,0,654,14,32
 21460                        	.sym	PRECT,0,138,14,32,22
 21461                        	.sym	RECT,0,10,14,64,22
 21462                        	.sym	PPOINT,0,138,14,32,21
 21463                        	.sym	POINT,0,10,14,32,21
 21464                        	.sym	PFXPROPERTY,0,138,14,32,19
 21465                        	.sym	FXPROPERTY,0,10,14,384,19
 21466                        	.sym	SCANCODE,0,14,14,8
 21467                        	.sym	KEYCODE,0,14,14,8
 21468                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,18
 21469                        	.sym	FXPROCESSMESSAGE,0,10,14,112,18
 21470                        	.sym	PFXPROCESS,0,138,14,32,17
 21471                        	.sym	FXPROCESS,0,10,14,800,17
 21472                        	.sym	PDESKTOP_CONTROL,0,138,14,32,16
 21473                        	.sym	DESKTOP_CONTROL,0,10,14,392,16
 21474                        	.sym	PCONSOLE_CONTROL,0,138,14,32,15
 21475                        	.sym	CONSOLE_CONTROL,0,10,14,448,15
  Thu Dec  3 2020 22:25                                                Page 426


 21476                        	.sym	FXProcessProc,0,641,14,32
 21477                        	.sym	PFXCMDMESSAGE,0,138,14,32,14
 21478                        	.sym	FXCMDMESSAGE,0,10,14,304,14
 21479                        	.sym	PFXOSMESSAGE,0,138,14,32,13
 21480                        	.sym	FXOSMESSAGE,0,10,14,304,13
 21481                        	.sym	PINT_REGS,0,138,14,32,12
 21482                        	.sym	INT_REGS,0,10,14,104,12
 21483                        	.sym	TASK_STACK,0,10,14,32,11
 21484                        	.sym	TASK,0,10,14,48,10
 21485                        	.sym	PIRQDATA,0,138,14,32,9
 21486                        	.sym	IRQDATA,0,10,14,48,9
 21487                        	.sym	HMENU,0,129,14,32
 21488                        	.sym	HWND,0,129,14,32
 21489                        	.sym	MSGDATA,0,14,14,8
 21490                        	.sym	MSGDEST,0,18,14,32
 21491                        	.sym	MSGSRC,0,18,14,32
 21492                        	.sym	MSGTYPE,0,16,14,16
 21493                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,3
 21494                        	.sym	PROCESS_TLS_LIST,0,138,14,32,3
 21495                        	.sym	SEMAPHORE_LIST,0,138,14,32,3
 21496                        	.sym	FILE_BLOCK_LIST,0,138,14,32,3
 21497                        	.sym	FILE_PATH_LIST,0,138,14,32,3
 21498                        	.sym	PROCEDURE_LIST,0,138,14,32,3
 21499                        	.sym	FILE_HANDLE,0,138,14,32,8
 21500                        	.sym	FILE_BLOCK,0,10,14,552,8
 21501                        	.sym	SEMAPHORE,0,10,14,16,7
 21502                        	.sym	PPROCESS_SIGNAL,0,138,14,32,6
 21503                        	.sym	PROCESS_SIGNAL,0,10,14,16,6
 21504                        	.sym	KRESULT,0,18,14,32
 21505                        	.sym	PKERNEL_ERROR,0,138,14,32,5
 21506                        	.sym	KERNEL_ERROR,0,10,14,32,5
 21507                        	.sym	PROCESS_STATUS,0,16,14,16
 21508                        	.sym	FILE_PATH_NAME,0,142,14,32
 21509                        	.sym	PROCESS_RESOURCE,0,129,14,32
 21510                        	.sym	PROCESS_TLS,0,129,14,32
 21511                        	.sym	PROCESS_CTX,0,129,14,32
 21512                        	.sym	USERID,0,16,14,16
 21513                        	.sym	PROCESS_ID,0,18,14,32
 21514                        	.sym	PROCESS_BANK,0,14,14,8
 21515                        	.sym	PFXQUEUE,0,138,14,32,4
 21516                        	.sym	FXQUEUE,0,10,14,80,4
 21517                        	.sym	PFXNODELIST,0,138,14,32,3
 21518                        	.sym	FXNODELIST,0,10,14,96,3
 21519                        	.sym	NodeListDeallocator,0,641,14,32
 21520                        	.sym	PFXNODE,0,138,14,32,2
 21521                        	.sym	FXNODE,0,10,14,384,2
 21522                        	.sym	PBYTEBITS,0,138,14,32,1
 21523                        	.sym	BYTEBITS,0,10,14,8,1
 21524                        	.sym	HCOLOR,0,129,14,32
 21525                        	.sym	HFONT,0,129,14,32
 21526                        	.sym	HDC,0,129,14,32
 21527                        	.sym	HPOINTER,0,129,14,32
 21528                        	.sym	uint32_t,0,18,14,32
 21529                        	.sym	uint8_t,0,14,14,8
 21530                        	.sym	PFAR,0,142,14,32
 21531                        	.sym	LPBOOL,0,142,14,32
 21532                        	.sym	BOOL,0,14,14,8
 21533                        	.sym	DWORD,0,18,14,32
  Thu Dec  3 2020 22:25                                                Page 427


 21534                        	.sym	ULONG,0,18,14,32
 21535                        	.sym	LPLONG,0,135,14,32
 21536                        	.sym	LONG,0,7,14,32
 21537                        	.sym	PUINT,0,144,14,32
 21538                        	.sym	USHORT,0,16,14,16
 21539                        	.sym	UINT,0,16,14,16
 21540                        	.sym	INT,0,5,14,16
 21541                        	.sym	WORD,0,5,14,16
 21542                        	.sym	PBYTE,0,142,14,32
 21543                        	.sym	BYTE,0,14,14,8
 21544                        	.sym	UCHAR,0,14,14,8
 21545                        	.sym	LPWCSTR,0,142,14,32
 21546                        	.sym	LPCSTR,0,142,14,32
 21547                        	.sym	LPSTR,0,142,14,32
 21548                        	.sym	LPCHAR,0,142,14,32
 21549                        	.sym	CHAR,0,14,14,8
 21550                        	.sym	LPVOID,0,129,14,32
 21551                        	.sym	VOID,0,1,14,32
 21552                        	end


      Lines assembled: 21552
      Errors: 0
