  Thu Dec  3 2020 22:25                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Thu Dec  3 2020 22:25                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Thu Dec  3 2020 22:25                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,304,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.eos
   116                        	.stag	_fx_cmdMessage,304,17
   117                        	.member	src,0,18,8,32
   118                        	.member	dest,32,18,8,32
   119                        	.member	type,64,16,8,16
   120                        	.member	hwnd,80,129,8,32
   121                        	.member	pheap,112,129,8,32
   122                        	.member	msgTime,144,18,8,32
   123                        	.member	cmdCId,176,16,8,16
   124                        	.member	cmdMId,192,16,8,16
   125                        	.member	parameter1,208,18,8,32
   126                        	.member	parameter2,240,18,8,32
   127                        	.member	parameter3,272,18,8,32
   128                        	.eos
   129                        	.stag	_fx_console_ctl,448,18
   130                        	.member	maxCols,0,5,8,16
   131                        	.member	maxRows,16,5,8,16
   132                        	.member	curX,32,5,8,16
   133                        	.member	curY,48,5,8,16
   134                        	.member	fgColor,64,5,8,16
   135                        	.member	bgColor,80,5,8,16
   136                        	.member	mode,96,14,8,8
   137                        	.member	kbBuffer,104,101,8,0,16
   138                        	.member	screenBuffer,360,142,8,32
   139                        	.member	desktopMode,392,14,8,8
   140                        	.member	lastMouseButton,400,5,8,16
   141                        	.member	lastMouseX,416,5,8,16
   142                        	.member	lastMouseY,432,5,8,16
   143                        	.eos
   144                        	.stag	_fx_desktop_ctl,392,19
   145                        	.member	desktopMode,0,14,8,8
   146                        	.member	cursorCtl,8,5,8,16
   147                        	.member	cursorState,24,5,8,16
   148                        	.member	backgroundColor,40,5,8,16
   149                        	.member	foregroundColor,56,5,8,16
   150                        	.member	menuMode,72,5,8,16
   151                        	.member	lastMouseButton,88,5,8,16
   152                        	.member	lastMouseX,104,5,8,16
   153                        	.member	lastMouseY,120,5,8,16
   154                        	.member	currentDiskName,136,142,8,32
   155                        	.member	diskNodes,168,129,8,32
   156                        	.member	titleNodes,200,129,8,32
   157                        	.member	menuNodes,232,129,8,32
  Thu Dec  3 2020 22:25                                                Page 4


   158                        	.member	iconNodes,264,129,8,32
   159                        	.member	windowNodes,296,129,8,32
   160                        	.member	fontNodes,328,129,8,32
   161                        	.member	wndProc,360,138,8,32,6
   162                        	.eos
   163                        	.stag	_fx_process,800,20
   164                        	.member	cbSize,0,5,8,16
   165                        	.member	procId,16,18,8,32
   166                        	.member	parentId,48,18,8,32
   167                        	.member	ctx,80,129,8,32
   168                        	.member	userId,112,16,8,16
   169                        	.member	status,128,16,8,16
   170                        	.member	foregroundActive,144,14,8,8
   171                        	.member	tls,152,1121,8,32,8
   172                        	.member	commandLine,408,142,8,32
   173                        	.member	semaphores,440,138,8,32,6
   174                        	.member	fileHandles,472,138,8,32,6
   175                        	.member	pathList,504,138,8,32,6
   176                        	.member	resources,536,138,8,32,6
   177                        	.member	timerAware,568,14,8,8
   178                        	.member	timerTicks,576,112,8,0,2
   179                        	.member	timerTickCount,608,112,8,0,2
   180                        	.member	kernelError,640,10,8,32,8
   181                        	.member	consoleCtl,672,138,8,32,18
   182                        	.member	desktopCtl,704,138,8,32,19
   183                        	.member	execProc,736,641,8,32
   184                        	.member	startupArgs,768,129,8,32
   185                        	.eos
   186                        	.stag	_fxProcessMessage,112,21
   187                        	.member	src,0,18,8,32
   188                        	.member	dest,32,18,8,32
   189                        	.member	type,64,16,8,16
   190                        	.member	processInfo,80,138,8,32,20
   191                        	.eos
   192                        	.stag	_fx_property,384,22
   193                        	.member	name,0,110,8,0,16
   194                        	.member	value,128,110,8,0,32
   195                        	.eos
   196                        	.utag	_24bitPointer,32,23
   197                        	.member	address,0,142,11,32
   198                        	.member	bytes,0,110,11,0,4
   199                        	.eos
   200                        	.stag	_PointStruct,32,24
   201                        	.member	x,0,5,8,16
   202                        	.member	y,16,5,8,16
   203                        	.eos
   204                        	.stag	_RectStruct,64,25
   205                        	.member	x,0,5,8,16
   206                        	.member	y,16,5,8,16
   207                        	.member	width,32,5,8,16
   208                        	.member	height,48,5,8,16
   209                        	.eos
   210                        	.stag	_k_WindowClass,256,26
   211                        	.member	cbSize,0,16,8,16
   212                        	.member	style,16,16,8,16
   213                        	.member	pWndProc,32,654,8,32
   214                        	.member	hInstance,64,129,8,32
   215                        	.member	hIcon,96,129,8,32
  Thu Dec  3 2020 22:25                                                Page 5


   216                        	.member	hCursor,128,129,8,32
   217                        	.member	hbrBackground,160,129,8,32
   218                        	.member	lpszMenuName,192,142,8,32
   219                        	.member	lpszClassName,224,142,8,32
   220                        	.eos
   221                        	.stag	_ClickableRect,88,27
   222                        	.member	area,0,10,8,64,25
   223                        	.member	z,64,5,8,16
   224                        	.member	enabled,80,14,8,8
   225                        	.eos
   226                        	.stag	_NCClickableRect,88,28
   227                        	.member	area,0,10,8,64,25
   228                        	.member	msgType,64,16,8,16
   229                        	.member	enabled,80,14,8,8
   230                        	.eos
   231                        	.stag	_DragData,136,29
   232                        	.member	area,0,10,8,64,25
   233                        	.member	xoffset,64,5,8,16
   234                        	.member	yoffset,80,5,8,16
   235                        	.member	msgType,96,16,8,16
   236                        	.member	isDrag,112,14,8,8
   237                        	.member	canDrag,120,14,8,8
   238                        	.member	canDrop,128,14,8,8
   239                        	.eos
   240                        	.stag	_k_WindowStruct,2808,30
   241                        	.member	cbSize,0,16,8,16
   242                        	.member	style,16,18,8,32
   243                        	.member	win_id,48,5,8,16
   244                        	.member	win_x,64,5,8,16
   245                        	.member	win_y,80,5,8,16
   246                        	.member	win_width,96,5,8,16
   247                        	.member	win_height,112,5,8,16
   248                        	.member	wndRect,128,10,8,64,25
   249                        	.member	clientRect,192,10,8,64,25
   250                        	.member	nonclientGadgets,256,106,8,0,28,16
   251                        	.member	clickable,1664,129,8,32
   252                        	.member	win_title,1696,110,8,0,32
   253                        	.member	Reserved0,1952,16,8,16
   254                        	.member	win_class,1968,110,8,0,16
   255                        	.member	win_class_name,2096,110,8,0,32
   256                        	.member	nBitmapLayer,2352,16,8,16
   257                        	.member	procid,2368,18,8,32
   258                        	.member	pWndClass,2400,138,8,32,26
   259                        	.member	pParentWindow,2432,129,8,32
   260                        	.member	hMenu,2464,129,8,32
   261                        	.member	pChildWindows,2496,138,8,32,6
   262                        	.member	pChildHitList,2528,138,8,32,6
   263                        	.member	isVisible,2560,14,8,8
   264                        	.member	windowData,2568,129,8,32
   265                        	.member	clientData,2600,1121,8,32,6
   266                        	.member	isClosed,2792,14,8,8
   267                        	.member	isClosing,2800,14,8,8
   268                        	.eos
   269                        	.stag	_k_WindowStructEx,2704,31
   270                        	.member	cbSize,0,16,8,16
   271                        	.member	style,16,18,8,32
   272                        	.member	win_id,48,5,8,16
   273                        	.member	win_x,64,5,8,16
  Thu Dec  3 2020 22:25                                                Page 6


   274                        	.member	win_y,80,5,8,16
   275                        	.member	win_width,96,5,8,16
   276                        	.member	win_height,112,5,8,16
   277                        	.member	wndRect,128,10,8,64,25
   278                        	.member	clientRect,192,10,8,64,25
   279                        	.member	nonclientGadgets,256,106,8,0,28,16
   280                        	.member	clickable,1664,129,8,32
   281                        	.member	win_title,1696,110,8,0,32
   282                        	.member	Reserved0,1952,16,8,16
   283                        	.member	win_class,1968,110,8,0,16
   284                        	.member	nBitmapLayer,2096,16,8,16
   285                        	.member	procid,2112,18,8,32
   286                        	.member	pWndClass,2144,138,8,32,26
   287                        	.member	pParentWindow,2176,129,8,32
   288                        	.member	hMenu,2208,129,8,32
   289                        	.member	pChildWindows,2240,138,8,32,6
   290                        	.member	pChildHitList,2272,138,8,32,6
   291                        	.member	isVisible,2304,14,8,8
   292                        	.member	windowData,2312,129,8,32
   293                        	.member	clientData,2344,1121,8,32,4
   294                        	.member	isClosed,2472,14,8,8
   295                        	.member	hWnd,2480,129,8,32
   296                        	.member	localRect,2512,10,8,64,25
   297                        	.member	globalRect,2576,10,8,64,25
   298                        	.member	clientOffsetRect,2640,10,8,64,25
   299                        	.eos
   300                        	.stag	_FontMetric,32,32
   301                        	.member	width,0,5,8,16
   302                        	.member	height,16,5,8,16
   303                        	.eos
   304                        	.stag	_ctl_Textbox,112,33
   305                        	.member	win_id,0,5,8,16
   306                        	.member	win_x,16,5,8,16
   307                        	.member	win_y,32,5,8,16
   308                        	.member	win_width,48,5,8,16
   309                        	.member	win_height,64,5,8,16
   310                        	.member	content,80,1166,8,32
   311                        	.eos
   312                        	.stag	_MenuStruct,248,34
   313                        	.member	cx,0,5,8,16
   314                        	.member	cy,16,5,8,16
   315                        	.member	width,32,5,8,16
   316                        	.member	height,48,5,8,16
   317                        	.member	fcolor,64,14,8,8
   318                        	.member	bcolor,72,14,8,8
   319                        	.member	chromeLeft,80,14,8,8
   320                        	.member	chromeRight1,88,14,8,8
   321                        	.member	chromeRight2,96,14,8,8
   322                        	.member	itemId,104,16,8,16
   323                        	.member	pCaption,120,142,8,32
   324                        	.member	subMenus,152,138,8,32,6
   325                        	.member	pBackground,184,129,8,32
   326                        	.member	hWndOwner,216,129,8,32
   327                        	.eos
   328                        	.stag	fake35_,112,35
   329                        	.member	menuId,0,16,8,16
   330                        	.member	caption,16,142,8,32
   331                        	.member	rect,48,10,8,64,25
  Thu Dec  3 2020 22:25                                                Page 7


   332                        	.eos
   333                        	.stag	fake36_,3568,36
   334                        	.member	pParent,0,138,8,32,30
   335                        	.member	rect,32,10,8,64,25
   336                        	.member	captions,96,1134,8,32,24
   337                        	.member	chrome,864,110,8,0,24
   338                        	.member	ids,1056,112,8,0,24
   339                        	.member	clickable,1440,106,8,0,27,24
   340                        	.member	selected,3552,16,8,16
   341                        	.eos
   342                        	.stag	_fx_button_t,80,37
   343                        	.member	pCaption,0,142,8,32
   344                        	.member	data,32,129,8,32
   345                        	.member	captionPixelWidth,64,16,8,16
   346                        	.eos
   347                        	.stag	_fx_scrollbar_t,192,38
   348                        	.member	min,0,16,8,16
   349                        	.member	max,16,16,8,16
   350                        	.member	increment,32,16,8,16
   351                        	.member	stopsize,48,16,8,16
   352                        	.member	location,64,5,8,16
   353                        	.member	state,80,5,8,16
   354                        	.member	rectThumb,96,10,8,64,25
   355                        	.member	data,160,129,8,32
   356                        	.eos
   357                        	.stag	_fx_listbox_t,240,39
   358                        	.member	pos,0,5,8,16
   359                        	.member	selected,16,16,8,16
   360                        	.member	offsetX,32,5,8,16
   361                        	.member	offsetY,48,5,8,16
   362                        	.member	inc,64,5,8,16
   363                        	.member	direction,80,5,8,16
   364                        	.member	top,96,5,8,16
   365                        	.member	bottom,112,5,8,16
   366                        	.member	indexTop,128,5,8,16
   367                        	.member	indexBottom,144,5,8,16
   368                        	.member	maxItems,160,16,8,16
   369                        	.member	fontSet,176,142,8,32
   370                        	.member	data,208,129,8,32
   371                        	.eos
   372                        	.stag	_fx_textbox_t,144,40
   373                        	.member	pos,0,5,8,16
   374                        	.member	selected,16,16,8,16
   375                        	.member	offsetX,32,5,8,16
   376                        	.member	offsetY,48,5,8,16
   377                        	.member	isShifted,64,14,8,8
   378                        	.member	cursorState,72,14,8,8
   379                        	.member	fontSet,80,142,8,32
   380                        	.member	data,112,129,8,32
   381                        	.eos
   382                        	.stag	_fx_menuAnchor_t,144,41
   383                        	.member	pCaption,0,142,8,32
   384                        	.member	renderLayoutX,32,16,8,16
   385                        	.member	renderLayoutY,48,16,8,16
   386                        	.member	captionPixelWidth,64,16,8,16
   387                        	.member	data,80,129,8,32
   388                        	.member	droppedWindow,112,138,8,32,30
   389                        	.eos
  Thu Dec  3 2020 22:25                                                Page 8


   390                        	.stag	_SubMenuStruct,64,42
   391                        	.member	caption,0,142,8,32
   392                        	.member	action,32,641,8,32
   393                        	.eos
   394                        	.stag	_SubMenuListStruct,40,43
   395                        	.member	cMenus,0,14,8,8
   396                        	.member	psubmenus,8,9354,8,32,42
   397                        	.eos
   398                        	.stag	_fx_ComBuffer,2080,44
   399                        	.member	cbSize,0,16,8,16
   400                        	.member	cbBuffer,16,16,8,16
   401                        	.member	buffer,32,110,8,0,256
   402                        	.eos
   403                        	.line	708
   404                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   405                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   406                        	.line	89
   407                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   408                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   410                        	.line	708
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   412                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   413                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   414                        	.line	708
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   416                        	.line	72
   417                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   418                        	.line	1325
   419                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   420                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   421                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   422                        	.line	25
   423                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   424                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   425                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   426                        	.line	708
   427                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   428                        	.line	61
   429                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
  Thu Dec  3 2020 22:25                                                Page 9


   430                        	.stag	_fx_zero_page,448,45
   431                        	.member	fxos_mouse_byte_0,0,14,8,8
   432                        	.member	fxos_mouse_byte_1,8,14,8,8
   433                        	.member	fxos_mouse_byte_2,16,14,8,8
   434                        	.member	fxos_mouse_byte_t,24,14,8,8
   435                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   436                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   437                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   438                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   439                        	.member	fxos_key_byte_0,64,14,8,8
   440                        	.member	fxos_key_byte_1,72,14,8,8
   441                        	.member	fxos_key_byte_2,80,14,8,8
   442                        	.member	fxos_mouse_ctl,88,14,8,8
   443                        	.member	fxos_mouse_index,96,14,8,8
   444                        	.member	fxos_mouse_status,104,14,8,8
   445                        	.member	VersionMajor,112,16,8,16
   446                        	.member	VersionMinor,128,16,8,16
   447                        	.member	VersionRelease,144,16,8,16
   448                        	.member	topMemory,160,18,8,32
   449                        	.member	bottomMemory,192,18,8,32
   450                        	.member	availableMemory,224,18,8,32
   451                        	.member	availableMemoryK,256,18,8,32
   452                        	.member	availableHeapMemory,288,18,8,32
   453                        	.member	availableHeapMemoryK,320,18,8,32
   454                        	.member	kernelFunctionCallId,352,16,8,16
   455                        	.member	kernelFunctionCallBank,368,14,8,8
   456                        	.member	kernelFunctionCallReserved,376,14,8,8
   457                        	.member	kernelFunctionCallParameter,384,129,8,32
   458                        	.member	kernelFunctionCallReturn,416,129,8,32
   459                        	.eos
   460                        	.stag	_fx_environment,96,46
   461                        	.member	variables,0,142,8,32
   462                        	.member	reserved1,32,5,8,16
   463                        	.member	reserved2,48,5,8,16
   464                        	.member	reserved3,64,5,8,16
   465                        	.member	reserved4,80,5,8,16
   466                        	.eos
   467                        	.stag	_debug_byte_bits,8,47
   468                        	.member	bit7,0,14,17,1
   469                        	.member	bit6,1,14,17,1
   470                        	.member	bit5,2,14,17,1
   471                        	.member	bit4,3,14,17,1
   472                        	.member	bit3,4,14,17,1
   473                        	.member	bit2,5,14,17,1
   474                        	.member	bit1,6,14,17,1
   475                        	.member	bit0,7,14,17,1
   476                        	.eos
   477                        	.stag	_fx_device_driver,1416,48
   478                        	.member	name,0,110,8,0,64
   479                        	.member	version,512,110,8,0,64
   480                        	.member	hmajor,1024,110,8,0,16
   481                        	.member	hminor,1152,110,8,0,16
   482                        	.member	type,1280,14,8,8
   483                        	.member	f_driver_load,1288,129,8,32
   484                        	.member	f_driver_read,1320,129,8,32
   485                        	.member	f_driver_write,1352,129,8,32
   486                        	.member	f_driver_unload,1384,129,8,32
   487                        	.eos
  Thu Dec  3 2020 22:25                                                Page 10


   488                        	.stag	_fx_block_device_driver,1448,49
   489                        	.member	name,0,110,8,0,64
   490                        	.member	version,512,110,8,0,64
   491                        	.member	hmajor,1024,110,8,0,16
   492                        	.member	hminor,1152,110,8,0,16
   493                        	.member	type,1280,14,8,8
   494                        	.member	f_driver_load,1288,129,8,32
   495                        	.member	f_driver_read,1320,129,8,32
   496                        	.member	f_driver_write,1352,129,8,32
   497                        	.member	f_driver_unload,1384,129,8,32
   498                        	.member	f_driver_command,1416,129,8,32
   499                        	.eos
   500                        	.line	270
   501                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   502                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   503                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   504                        	.line	134
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   506                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   507                        	.line	205
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   509                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   510                        	.line	708
   511                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   512                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   513                        	.line	1325
   514                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   516                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   517                        	.line	205
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   519                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   520                        	.line	134
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   523                        	.line	708
   524                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   525                        	.stag	_fx_string,64,50
   526                        	.member	size,0,16,8,16
   527                        	.member	pos,16,5,8,16
   528                        	.member	buffer,32,142,8,32
  Thu Dec  3 2020 22:25                                                Page 11


   529                        	.eos
   530                        	.line	71
   531                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   532                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   533                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   534                        	.line	25
   535                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   537                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   538                        	.line	708
   539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   540                        	.line	52
   541                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   542                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   543                        	.line	61
   544                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   545                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   546                        	.line	171
   547                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   548                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   549                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   550                        	.line	708
   551                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   552                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   553                        	.line	25
   554                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   555                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   556                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   557                        	.line	25
   558                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   559                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   560                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   561                        	.line	32
   562                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   563                        	.stag	UMM_HEAP_INFO_t,256,51
  Thu Dec  3 2020 22:25                                                Page 12


   564                        	.member	totalEntries,0,18,8,32
   565                        	.member	usedEntries,32,18,8,32
   566                        	.member	freeEntries,64,18,8,32
   567                        	.member	totalBlocks,96,18,8,32
   568                        	.member	usedBlocks,128,18,8,32
   569                        	.member	freeBlocks,160,18,8,32
   570                        	.member	maxFreeContiguousBlocks,192,18,8,32
   571                        	.member	blockSize,224,18,8,32
   572                        	.eos
   573                        	.line	199
   574                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   575                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   576                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   577                        	.line	708
   578                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   579                        	.line	24
   580                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   581                        	.stag	_fx_memory_map,2072,52
   582                        	.member	availableMemory,0,18,8,32
   583                        	.member	valid_segments,32,110,8,0,255
   584                        	.eos
   585                        	.line	39
   586                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   587                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   588                        	.line	743
   589                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   590                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   591                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   592                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   593                        	.line	708
   594                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   595                        	.line	64
   596                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   597                        	.stag	_click_detected,64,53
   598                        	.member	window,0,138,8,32,30
   599                        	.member	handler,32,641,8,32
   600                        	.eos
   601                        	.stag	_current_palette_map,400,54
   602                        	.member	CUR_DESKTOP,0,5,8,16
   603                        	.member	CUR_BACKGROUND,16,5,8,16
   604                        	.member	CUR_FONT,32,5,8,16
   605                        	.member	CUR_SELECTED_FONT,48,5,8,16
   606                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   607                        	.member	CUR_WINDOWFRAME,80,5,8,16
   608                        	.member	CUR_WINDOWBORDER,96,5,8,16
  Thu Dec  3 2020 22:25                                                Page 13


   609                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   610                        	.member	CUR_MENU,128,5,8,16
   611                        	.member	CUR_GADGET,144,5,8,16
   612                        	.member	CUR_COLOR,160,101,8,0,15
   613                        	.eos
   614                        	.line	264
   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   616                        	.stag	_childMessage_t,64,55
   617                        	.member	msgType,0,16,8,16
   618                        	.member	msgData,16,129,8,32
   619                        	.member	dataSize,48,16,8,16
   620                        	.eos
   621                        	.line	362
   622                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   623                        	.stag	_fx_main_loopvars,16,56
   624                        	.member	dummy,0,5,8,16
   625                        	.eos
   626                        	.stag	_fxMouseMessageData,64,57
   627                        	.member	button1,0,14,8,8
   628                        	.member	button2,8,14,8,8
   629                        	.member	button3,16,14,8,8
   630                        	.member	button4,24,14,8,8
   631                        	.member	x,32,16,8,16
   632                        	.member	y,48,16,8,16
   633                        	.eos
   634                        	.stag	_fx_eventProcess,64,58
   635                        	.member	process,0,138,8,32,20
   636                        	.member	eventProc,32,641,8,32
   637                        	.eos
   638                        	.stag	_mouse_msg_state,184,59
   639                        	.member	lastEvent,0,18,8,32
   640                        	.member	buttonLeftDown,32,14,8,8
   641                        	.member	lastLeftDown,40,18,8,32
   642                        	.member	buttonRightDown,72,14,8,8
   643                        	.member	lastRightDown,80,18,8,32
   644                        	.member	buttonMiddleDown,112,14,8,8
   645                        	.member	lastMiddleDown,120,18,8,32
   646                        	.member	lastX,152,16,8,16
   647                        	.member	lastY,168,16,8,16
   648                        	.eos
   649                        	.line	743
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   651                        	.stag	_fx_spinner_ctx,48,60
   652                        	.member	index,0,5,8,16
   653                        	.member	spinner,16,142,8,32
   654                        	.eos
   655                        	.stag	_fx_console_ctx,1144,61
   656                        	.member	lineBufferIndex,0,5,8,16
   657                        	.member	lineBuffer,16,110,8,0,128
   658                        	.member	isShifted,1040,14,8,8
   659                        	.member	userData,1048,129,8,32
   660                        	.member	screenBuffer,1080,129,8,32
   661                        	.member	Reserved1,1112,129,8,32
   662                        	.eos
   663                        	.stag	_token,64,62
  Thu Dec  3 2020 22:25                                                Page 14


   664                        	.member	type,0,5,8,16
   665                        	.member	depth,16,16,8,16
   666                        	.member	text,32,142,8,32
   667                        	.eos
   668                        	.stag	_command_args,64,63
   669                        	.member	proc,0,656,8,32
   670                        	.member	tokens,32,138,8,32,5
   671                        	.eos
   672                        	.line	171
   673                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   675                        	.line	71
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   678                        	.line	61
   679                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   680                        	.line	25
   681                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",1
   682                        ;#include "fxdos.h"
   683                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",0
   684                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   685                        	.line	708
   686                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",5
   687                        	.stag	_fx_sd_direntry,256,64
   688                        	.member	filename,0,110,8,0,11
   689                        	.member	type,88,14,8,8
   690                        	.member	attrs,96,110,8,0,20
   691                        	.eos
   692                        	.stag	_fx_info,416,65
   693                        	.member	stgName,0,110,8,0,32
   694                        	.member	Reserved1,256,14,8,8
   695                        	.member	stgType,264,16,8,16
   696                        	.member	Reserved2,280,14,8,8
   697                        	.member	stgReserved,288,110,8,0,16
   698                        	.eos
   699                        	.stag	_fx_fileinfo,136,66
   700                        	.member	type,0,14,8,8
   701                        	.member	pFilename,8,142,8,32
   702                        	.member	lSize,40,18,8,32
   703                        	.member	lcreateDate,72,18,8,32
   704                        	.member	lchangeDate,104,18,8,32
   705                        	.eos
   706                        	.stag	_FX_FAT_DIR_INFO,256,67
   707                        	.member	DIR_Name,0,110,8,0,11
   708                        	.member	DIR_Attr,88,14,8,8
   709                        	.member	DIR_NTRes,96,14,8,8
   710                        	.member	DIR_CrtTimeTenth,104,14,8,8
   711                        	.member	DIR_CrtTime,112,16,8,16
   712                        	.member	DIR_CrtDate,128,16,8,16
  Thu Dec  3 2020 22:25                                                Page 15


   713                        	.member	DIR_LstAccDate,144,16,8,16
   714                        	.member	DIR_FstClusHI,160,16,8,16
   715                        	.member	DIR_WrtTime,176,16,8,16
   716                        	.member	DIR_WrtDate,192,16,8,16
   717                        	.member	DIR_FstClusLO,208,16,8,16
   718                        	.member	DIR_FileSize,224,18,8,32
   719                        	.eos
   720                        	.stag	fat_extBS_32,416,68
   721                        	.member	table_size_32,0,18,8,32
   722                        	.member	extended_flags,32,16,8,16
   723                        	.member	fat_version,48,16,8,16
   724                        	.member	root_cluster,64,18,8,32
   725                        	.member	fat_info,96,16,8,16
   726                        	.member	backup_BS_sector,112,16,8,16
   727                        	.member	reserved_0,128,110,8,0,12
   728                        	.member	drive_number,224,14,8,8
   729                        	.member	reserved_1,232,14,8,8
   730                        	.member	boot_signature,240,14,8,8
   731                        	.member	volume_id,248,16,8,16
   732                        	.member	volume_label,264,110,8,0,11
   733                        	.member	fat_type_label,352,110,8,0,8
   734                        	.eos
   735                        	.stag	fat_extBS_16,192,69
   736                        	.member	bios_drive_num,0,14,8,8
   737                        	.member	reserved1,8,14,8,8
   738                        	.member	boot_signature,16,14,8,8
   739                        	.member	volume_id,24,16,8,16
   740                        	.member	volume_label,40,110,8,0,11
   741                        	.member	fat_type_label,128,110,8,0,8
   742                        	.eos
   743                        	.stag	fat_BS,688,70
   744                        	.member	bootjmp,0,110,8,0,3
   745                        	.member	oem_name,24,110,8,0,8
   746                        	.member	bytes_per_sector,88,16,8,16
   747                        	.member	sectors_per_cluster,104,14,8,8
   748                        	.member	reserved_sector_count,112,16,8,16
   749                        	.member	table_count,128,14,8,8
   750                        	.member	root_entry_count,136,16,8,16
   751                        	.member	total_sectors_16,152,16,8,16
   752                        	.member	media_type,168,14,8,8
   753                        	.member	table_size_16,176,16,8,16
   754                        	.member	sectors_per_track,192,16,8,16
   755                        	.member	head_side_count,208,16,8,16
   756                        	.member	hidden_sector_count,224,16,8,16
   757                        	.member	total_sectors_32,240,16,8,16
   758                        	.member	extended_section,256,110,8,0,54
   759                        	.eos
   760                        	.stag	__FATBootSector,928,71
   761                        	.member	bootjmp,0,110,8,0,3
   762                        	.member	oem_name,24,110,8,0,8
   763                        	.member	bytes_per_sector,88,16,8,16
   764                        	.member	sectors_per_cluster,104,14,8,8
   765                        	.member	reserved_sector_count,112,16,8,16
   766                        	.member	fat_table_count,128,14,8,8
   767                        	.member	root_entry_count,136,16,8,16
   768                        	.member	total_sectors_16,152,16,8,16
   769                        	.member	media_type,168,14,8,8
   770                        	.member	sectors_per_fat,176,16,8,16
  Thu Dec  3 2020 22:25                                                Page 16


   771                        	.member	sectors_per_track,192,16,8,16
   772                        	.member	head_side_count,208,16,8,16
   773                        	.member	hidden_sector_count,224,18,8,32
   774                        	.member	total_sectors_32,256,18,8,32
   775                        	.member	drive_number,288,14,8,8
   776                        	.member	reserved1,296,14,8,8
   777                        	.member	boot_sig,304,14,8,8
   778                        	.member	vol_id,312,18,8,32
   779                        	.member	vol_name,344,110,8,0,11
   780                        	.member	file_system_type,432,110,8,0,8
   781                        	.member	extended_section,496,110,8,0,54
   782                        	.eos
   783                        	.stag	__PARTITIONTABLE,128,72
   784                        	.member	first_byte,0,14,8,8
   785                        	.member	start_chs,8,110,8,0,3
   786                        	.member	partition_type,32,14,8,8
   787                        	.member	end_chs,40,110,8,0,3
   788                        	.member	start_sector,64,18,8,32
   789                        	.member	length_sectors,96,18,8,32
   790                        	.eos
   791                        	.stag	fake73_,4096,73
   792                        	.member	jmp,0,110,8,0,3
   793                        	.member	oem,24,110,8,0,8
   794                        	.member	sector_size,88,15,8,16
   795                        	.member	sectors_per_cluster,104,14,8,8
   796                        	.member	reserved_sectors,112,15,8,16
   797                        	.member	number_of_fats,128,14,8,8
   798                        	.member	root_dir_entries,136,15,8,16
   799                        	.member	total_sectors_short,152,15,8,16
   800                        	.member	media_descriptor,168,14,8,8
   801                        	.member	fat_size_sectors,176,15,8,16
   802                        	.member	sectors_per_track,192,15,8,16
   803                        	.member	number_of_heads,208,15,8,16
   804                        	.member	hidden_sectors,224,18,8,32
   805                        	.member	total_sectors_long,256,18,8,32
   806                        	.member	drive_number,288,14,8,8
   807                        	.member	current_head,296,14,8,8
   808                        	.member	boot_signature,304,14,8,8
   809                        	.member	volume_id,312,18,8,32
   810                        	.member	volume_label,344,110,8,0,11
   811                        	.member	fs_type,432,110,8,0,8
   812                        	.member	boot_code,496,110,8,0,448
   813                        	.member	boot_sector_signature,4080,15,8,16
   814                        	.eos
   815                        	.stag	__FAT16ENTRY,256,74
   816                        	.member	filename,0,110,8,0,8
   817                        	.member	ext,64,110,8,0,3
   818                        	.member	attributes,88,14,8,8
   819                        	.member	reserved,96,110,8,0,10
   820                        	.member	modify_time,176,16,8,16
   821                        	.member	modify_date,192,16,8,16
   822                        	.member	starting_cluster,208,16,8,16
   823                        	.member	file_size,224,18,8,32
   824                        	.eos
   825                        	.stag	__FAT16ENTRYLONG,288,75
   826                        	.member	filename,0,110,8,0,8
   827                        	.member	ext,64,110,8,0,3
   828                        	.member	attributes,88,14,8,8
  Thu Dec  3 2020 22:25                                                Page 17


   829                        	.member	reserved,96,110,8,0,10
   830                        	.member	modify_time,176,16,8,16
   831                        	.member	modify_date,192,16,8,16
   832                        	.member	starting_cluster,208,16,8,16
   833                        	.member	file_size,224,18,8,32
   834                        	.member	plongfileName,256,142,8,32
   835                        	.eos
   836                        	.stag	_LongFileName,256,76
   837                        	.member	sequenceNo,0,14,8,8
   838                        	.member	fileName_Part1,8,110,8,0,10
   839                        	.member	fileattribute,88,14,8,8
   840                        	.member	type,96,14,8,8
   841                        	.member	checksum,104,14,8,8
   842                        	.member	fileName_Part2,112,110,8,0,12
   843                        	.member	fstclusLO,208,5,8,16
   844                        	.member	fileName_Part3,224,110,8,0,4
   845                        	.eos
   846                        	.stag	_IDSECTOR,2048,77
   847                        	.member	wGenConfig,0,16,8,16
   848                        	.member	wNumCyls,16,16,8,16
   849                        	.member	wReserved,32,16,8,16
   850                        	.member	wNumHeads,48,16,8,16
   851                        	.member	wBytesPerTrack,64,16,8,16
   852                        	.member	wBytesPerSector,80,16,8,16
   853                        	.member	wSectorsPerTrack,96,16,8,16
   854                        	.member	wVendorUnique,112,112,8,0,3
   855                        	.member	sSerialNumber,160,110,8,0,20
   856                        	.member	wBufferType,320,16,8,16
   857                        	.member	wBufferSize,336,16,8,16
   858                        	.member	wECCSize,352,16,8,16
   859                        	.member	sFirmwareRev,368,110,8,0,8
   860                        	.member	sModelNumber,432,110,8,0,40
   861                        	.member	wMoreVendorUnique,752,16,8,16
   862                        	.member	wDoubleWordIO,768,16,8,16
   863                        	.member	wCapabilities,784,16,8,16
   864                        	.member	wReserved1,800,16,8,16
   865                        	.member	wPIOTiming,816,16,8,16
   866                        	.member	wDMATiming,832,16,8,16
   867                        	.member	wBS,848,16,8,16
   868                        	.member	wNumCurrentCyls,864,16,8,16
   869                        	.member	wNumCurrentHeads,880,16,8,16
   870                        	.member	wNumCurrentSectorsPerTrack,896,16,8,16
   871                        	.member	ulCurrentSectorCapacity,912,18,8,32
   872                        	.member	wMultSectorStuff,944,16,8,16
   873                        	.member	ulTotalAddressableSectors,960,18,8,32
   874                        	.member	wSingleWordDMA,992,16,8,16
   875                        	.member	wMultiWordDMA,1008,16,8,16
   876                        	.member	bReserved,1024,110,8,0,128
   877                        	.eos
   878                        	.stag	fake78_,16,78
   879                        	.member	Reserved1,0,16,17,1
   880                        	.member	Retired3,1,16,17,1
   881                        	.member	ResponseIncomplete,2,16,17,1
   882                        	.member	Retired2,3,16,17,3
   883                        	.member	FixedDevice,6,16,17,1
   884                        	.member	RemovableMedia,7,16,17,1
   885                        	.member	Retired1,8,16,17,7
   886                        	.member	DeviceType,15,16,17,1
  Thu Dec  3 2020 22:25                                                Page 18


   887                        	.eos
   888                        	.stag	fake79_,16,79
   889                        	.member	FeatureSupported,0,16,17,1
   890                        	.member	Reserved,1,16,17,15
   891                        	.eos
   892                        	.stag	fake80_,32,80
   893                        	.member	CurrentLongPhysicalSectorAlignment,0,14,
                    17,2
   894                        	.member	ReservedByte49,2,14,17,6
   895                        	.member	DmaSupported,8,14,17,1
   896                        	.member	LbaSupported,9,14,17,1
   897                        	.member	IordyDisable,10,14,17,1
   898                        	.member	IordySupported,11,14,17,1
   899                        	.member	Reserved1,12,14,17,1
   900                        	.member	StandybyTimerSupport,13,14,17,1
   901                        	.member	Reserved2,14,14,17,2
   902                        	.member	ReservedWord50,16,16,8,16
   903                        	.eos
   904                        	.stag	fake81_,16,81
   905                        	.member	ZonedCapabilities,0,16,17,2
   906                        	.member	NonVolatileWriteCache,2,16,17,1
   907                        	.member	ExtendedUserAddressableSectorsSupported,
                    3,16,17,1
   908                        	.member	DeviceEncryptsAllUserData,4,16,17,1
   909                        	.member	ReadZeroAfterTrimSupported,5,16,17,1
   910                        	.member	Optional28BitCommandsSupported,6,16,17,1
   911                        	.member	IEEE1667,7,16,17,1
   912                        	.member	DownloadMicrocodeDmaSupported,8,16,17,1
   913                        	.member	SetMaxSetPasswordUnlockDmaSupported,9,16
                    ,17,1
   914                        	.member	WriteBufferDmaSupported,10,16,17,1
   915                        	.member	ReadBufferDmaSupported,11,16,17,1
   916                        	.member	DeviceConfigIdentifySetDmaSupported,12,1
                    6,17,1
   917                        	.member	LPSAERCSupported,13,16,17,1
   918                        	.member	DeterministicReadAfterTrimSupported,14,1
                    6,17,1
   919                        	.member	CFastSpecSupported,15,16,17,1
   920                        	.eos
   921                        	.stag	fake82_,32,82
   922                        	.member	Reserved0,0,16,17,1
   923                        	.member	SataGen1,1,16,17,1
   924                        	.member	SataGen2,2,16,17,1
   925                        	.member	SataGen3,3,16,17,1
   926                        	.member	Reserved1,4,16,17,4
   927                        	.member	NCQ,8,16,17,1
   928                        	.member	HIPM,9,16,17,1
   929                        	.member	PhyEvents,10,16,17,1
   930                        	.member	NcqUnload,11,16,17,1
   931                        	.member	NcqPriority,12,16,17,1
   932                        	.member	HostAutoPS,13,16,17,1
   933                        	.member	DeviceAutoPS,14,16,17,1
   934                        	.member	ReadLogDMA,15,16,17,1
   935                        	.member	Reserved2,16,16,17,1
   936                        	.member	CurrentSpeed,17,16,17,3
   937                        	.member	NcqStreaming,20,16,17,1
   938                        	.member	NcqQueueMgmt,21,16,17,1
   939                        	.member	NcqReceiveSend,22,16,17,1
  Thu Dec  3 2020 22:25                                                Page 19


   940                        	.member	DEVSLPtoReducedPwrState,23,16,17,1
   941                        	.member	Reserved3,24,16,17,8
   942                        	.eos
   943                        	.stag	fake83_,16,83
   944                        	.member	Reserved0,0,16,17,1
   945                        	.member	NonZeroOffsets,1,16,17,1
   946                        	.member	DmaSetupAutoActivate,2,16,17,1
   947                        	.member	DIPM,3,16,17,1
   948                        	.member	InOrderData,4,16,17,1
   949                        	.member	HardwareFeatureControl,5,16,17,1
   950                        	.member	SoftwareSettingsPreservation,6,16,17,1
   951                        	.member	NCQAutosense,7,16,17,1
   952                        	.member	DEVSLP,8,16,17,1
   953                        	.member	HybridInformation,9,16,17,1
   954                        	.member	Reserved1,10,16,17,6
   955                        	.eos
   956                        	.stag	fake84_,16,84
   957                        	.member	Reserved0,0,16,17,1
   958                        	.member	NonZeroOffsets,1,16,17,1
   959                        	.member	DmaSetupAutoActivate,2,16,17,1
   960                        	.member	DIPM,3,16,17,1
   961                        	.member	InOrderData,4,16,17,1
   962                        	.member	HardwareFeatureControl,5,16,17,1
   963                        	.member	SoftwareSettingsPreservation,6,16,17,1
   964                        	.member	DeviceAutoPS,7,16,17,1
   965                        	.member	DEVSLP,8,16,17,1
   966                        	.member	HybridInformation,9,16,17,1
   967                        	.member	Reserved1,10,16,17,6
   968                        	.eos
   969                        	.stag	fake85_,48,85
   970                        	.member	SmartCommands,0,16,17,1
   971                        	.member	SecurityMode,1,16,17,1
   972                        	.member	RemovableMediaFeature,2,16,17,1
   973                        	.member	PowerManagement,3,16,17,1
   974                        	.member	Reserved1,4,16,17,1
   975                        	.member	WriteCache,5,16,17,1
   976                        	.member	LookAhead,6,16,17,1
   977                        	.member	ReleaseInterrupt,7,16,17,1
   978                        	.member	ServiceInterrupt,8,16,17,1
   979                        	.member	DeviceReset,9,16,17,1
   980                        	.member	HostProtectedArea,10,16,17,1
   981                        	.member	Obsolete1,11,16,17,1
   982                        	.member	WriteBuffer,12,16,17,1
   983                        	.member	ReadBuffer,13,16,17,1
   984                        	.member	Nop,14,16,17,1
   985                        	.member	Obsolete2,15,16,17,1
   986                        	.member	DownloadMicrocode,16,16,17,1
   987                        	.member	DmaQueued,17,16,17,1
   988                        	.member	Cfa,18,16,17,1
   989                        	.member	AdvancedPm,19,16,17,1
   990                        	.member	Msn,20,16,17,1
   991                        	.member	PowerUpInStandby,21,16,17,1
   992                        	.member	ManualPowerUp,22,16,17,1
   993                        	.member	Reserved2,23,16,17,1
   994                        	.member	SetMax,24,16,17,1
   995                        	.member	Acoustics,25,16,17,1
   996                        	.member	BigLba,26,16,17,1
   997                        	.member	DeviceConfigOverlay,27,16,17,1
  Thu Dec  3 2020 22:25                                                Page 20


   998                        	.member	FlushCache,28,16,17,1
   999                        	.member	FlushCacheExt,29,16,17,1
  1000                        	.member	WordValid83,30,16,17,2
  1001                        	.member	SmartErrorLog,32,16,17,1
  1002                        	.member	SmartSelfTest,33,16,17,1
  1003                        	.member	MediaSerialNumber,34,16,17,1
  1004                        	.member	MediaCardPassThrough,35,16,17,1
  1005                        	.member	StreamingFeature,36,16,17,1
  1006                        	.member	GpLogging,37,16,17,1
  1007                        	.member	WriteFua,38,16,17,1
  1008                        	.member	WriteQueuedFua,39,16,17,1
  1009                        	.member	WWN64Bit,40,16,17,1
  1010                        	.member	URGReadStream,41,16,17,1
  1011                        	.member	URGWriteStream,42,16,17,1
  1012                        	.member	ReservedForTechReport,43,16,17,2
  1013                        	.member	IdleWithUnloadFeature,45,16,17,1
  1014                        	.member	WordValid,46,16,17,2
  1015                        	.eos
  1016                        	.stag	fake86_,48,86
  1017                        	.member	SmartCommands,0,16,17,1
  1018                        	.member	SecurityMode,1,16,17,1
  1019                        	.member	RemovableMediaFeature,2,16,17,1
  1020                        	.member	PowerManagement,3,16,17,1
  1021                        	.member	Reserved1,4,16,17,1
  1022                        	.member	WriteCache,5,16,17,1
  1023                        	.member	LookAhead,6,16,17,1
  1024                        	.member	ReleaseInterrupt,7,16,17,1
  1025                        	.member	ServiceInterrupt,8,16,17,1
  1026                        	.member	DeviceReset,9,16,17,1
  1027                        	.member	HostProtectedArea,10,16,17,1
  1028                        	.member	Obsolete1,11,16,17,1
  1029                        	.member	WriteBuffer,12,16,17,1
  1030                        	.member	ReadBuffer,13,16,17,1
  1031                        	.member	Nop,14,16,17,1
  1032                        	.member	Obsolete2,15,16,17,1
  1033                        	.member	DownloadMicrocode,16,16,17,1
  1034                        	.member	DmaQueued,17,16,17,1
  1035                        	.member	Cfa,18,16,17,1
  1036                        	.member	AdvancedPm,19,16,17,1
  1037                        	.member	Msn,20,16,17,1
  1038                        	.member	PowerUpInStandby,21,16,17,1
  1039                        	.member	ManualPowerUp,22,16,17,1
  1040                        	.member	Reserved2,23,16,17,1
  1041                        	.member	SetMax,24,16,17,1
  1042                        	.member	Acoustics,25,16,17,1
  1043                        	.member	BigLba,26,16,17,1
  1044                        	.member	DeviceConfigOverlay,27,16,17,1
  1045                        	.member	FlushCache,28,16,17,1
  1046                        	.member	FlushCacheExt,29,16,17,1
  1047                        	.member	Resrved3,30,16,17,1
  1048                        	.member	Words119_120Valid,31,16,17,1
  1049                        	.member	SmartErrorLog,32,16,17,1
  1050                        	.member	SmartSelfTest,33,16,17,1
  1051                        	.member	MediaSerialNumber,34,16,17,1
  1052                        	.member	MediaCardPassThrough,35,16,17,1
  1053                        	.member	StreamingFeature,36,16,17,1
  1054                        	.member	GpLogging,37,16,17,1
  1055                        	.member	WriteFua,38,16,17,1
  Thu Dec  3 2020 22:25                                                Page 21


  1056                        	.member	WriteQueuedFua,39,16,17,1
  1057                        	.member	WWN64Bit,40,16,17,1
  1058                        	.member	URGReadStream,41,16,17,1
  1059                        	.member	URGWriteStream,42,16,17,1
  1060                        	.member	ReservedForTechReport,43,16,17,2
  1061                        	.member	IdleWithUnloadFeature,45,16,17,1
  1062                        	.member	Reserved4,46,16,17,2
  1063                        	.eos
  1064                        	.stag	fake87_,16,87
  1065                        	.member	TimeRequired,0,16,17,15
  1066                        	.member	ExtendedTimeReported,15,16,17,1
  1067                        	.eos
  1068                        	.stag	fake88_,16,88
  1069                        	.member	TimeRequired,0,16,17,15
  1070                        	.member	ExtendedTimeReported,15,16,17,1
  1071                        	.eos
  1072                        	.stag	fake89_,16,89
  1073                        	.member	LogicalSectorsPerPhysicalSector,0,16,17,
                    4
  1074                        	.member	Reserved0,4,16,17,8
  1075                        	.member	LogicalSectorLongerThan256Words,12,16,17
                    ,1
  1076                        	.member	MultipleLogicalSectorsPerPhysicalSector,
                    13,16,17,1
  1077                        	.member	Reserved1,14,16,17,2
  1078                        	.eos
  1079                        	.stag	fake90_,16,90
  1080                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1081                        	.member	WriteReadVerify,1,16,17,1
  1082                        	.member	WriteUncorrectableExt,2,16,17,1
  1083                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1084                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1085                        	.member	FreefallControl,5,16,17,1
  1086                        	.member	SenseDataReporting,6,16,17,1
  1087                        	.member	ExtendedPowerConditions,7,16,17,1
  1088                        	.member	Reserved0,8,16,17,6
  1089                        	.member	WordValid,14,16,17,2
  1090                        	.eos
  1091                        	.stag	fake91_,16,91
  1092                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1093                        	.member	WriteReadVerify,1,16,17,1
  1094                        	.member	WriteUncorrectableExt,2,16,17,1
  1095                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1096                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1097                        	.member	FreefallControl,5,16,17,1
  1098                        	.member	SenseDataReporting,6,16,17,1
  1099                        	.member	ExtendedPowerConditions,7,16,17,1
  1100                        	.member	Reserved0,8,16,17,6
  1101                        	.member	Reserved1,14,16,17,2
  1102                        	.eos
  1103                        	.stag	fake92_,16,92
  1104                        	.member	SecuritySupported,0,16,17,1
  1105                        	.member	SecurityEnabled,1,16,17,1
  1106                        	.member	SecurityLocked,2,16,17,1
  1107                        	.member	SecurityFrozen,3,16,17,1
  1108                        	.member	SecurityCountExpired,4,16,17,1
  1109                        	.member	EnhancedSecurityEraseSupported,5,16,17,1
  1110                        	.member	Reserved0,6,16,17,2
  Thu Dec  3 2020 22:25                                                Page 22


  1111                        	.member	SecurityLevel,8,16,17,1
  1112                        	.member	Reserved1,9,16,17,7
  1113                        	.eos
  1114                        	.stag	fake93_,16,93
  1115                        	.member	MaximumCurrentInMA,0,16,17,12
  1116                        	.member	CfaPowerMode1Disabled,12,16,17,1
  1117                        	.member	CfaPowerMode1Required,13,16,17,1
  1118                        	.member	Reserved0,14,16,17,1
  1119                        	.member	Word160Supported,15,16,17,1
  1120                        	.eos
  1121                        	.stag	fake94_,16,94
  1122                        	.member	SupportsTrim,0,16,17,1
  1123                        	.member	Reserved0,1,16,17,15
  1124                        	.eos
  1125                        	.stag	fake95_,16,95
  1126                        	.member	Supported,0,16,17,1
  1127                        	.member	Reserved0,1,16,17,1
  1128                        	.member	WriteSameSuported,2,16,17,1
  1129                        	.member	ErrorRecoveryControlSupported,3,16,17,1
  1130                        	.member	FeatureControlSuported,4,16,17,1
  1131                        	.member	DataTablesSuported,5,16,17,1
  1132                        	.member	Reserved1,6,16,17,6
  1133                        	.member	VendorSpecific,12,16,17,4
  1134                        	.eos
  1135                        	.stag	fake96_,16,96
  1136                        	.member	AlignmentOfLogicalWithinPhysical,0,16,17
                    ,14
  1137                        	.member	Word209Supported,14,16,17,1
  1138                        	.member	Reserved0,15,16,17,1
  1139                        	.eos
  1140                        	.stag	fake97_,16,97
  1141                        	.member	NVCachePowerModeEnabled,0,16,17,1
  1142                        	.member	Reserved0,1,16,17,3
  1143                        	.member	NVCacheFeatureSetEnabled,4,16,17,1
  1144                        	.member	Reserved1,5,16,17,3
  1145                        	.member	NVCachePowerModeVersion,8,16,17,4
  1146                        	.member	NVCacheFeatureSetVersion,12,16,17,4
  1147                        	.eos
  1148                        	.stag	fake98_,16,98
  1149                        	.member	NVCacheEstimatedTimeToSpinUpInSeconds,0,
                    14,8,8
  1150                        	.member	Reserved,8,14,8,8
  1151                        	.eos
  1152                        	.stag	fake99_,16,99
  1153                        	.member	MajorVersion,0,16,17,12
  1154                        	.member	TransportType,12,16,17,4
  1155                        	.eos
  1156                        	.stag	_IDENTIFY_DEVICE_DATA,4096,100
  1157                        	.member	GeneralConfiguration,0,10,8,16,78
  1158                        	.member	NumCylinders,16,16,8,16
  1159                        	.member	SpecificConfiguration,32,16,8,16
  1160                        	.member	NumHeads,48,16,8,16
  1161                        	.member	Retired1Bytes,64,110,8,0,4
  1162                        	.member	NumSectorsPerTrack,96,16,8,16
  1163                        	.member	VendorUnique1Bytes,112,110,8,0,6
  1164                        	.member	SerialNumber,160,110,8,0,20
  1165                        	.member	Retired2,320,112,8,0,2
  1166                        	.member	Obsolete1,352,16,8,16
  Thu Dec  3 2020 22:25                                                Page 23


  1167                        	.member	FirmwareRevision,368,110,8,0,8
  1168                        	.member	ModelNumber,432,110,8,0,40
  1169                        	.member	MaximumBlockTransfer,752,14,8,8
  1170                        	.member	VendorUnique2,760,14,8,8
  1171                        	.member	TrustedComputing,768,10,8,16,79
  1172                        	.member	Capabilities,784,10,8,32,80
  1173                        	.member	ObsoleteWords51,816,112,8,0,2
  1174                        	.member	TranslationFieldsValid,848,16,17,3
  1175                        	.member	Reserved3,851,16,17,5
  1176                        	.member	FreeFallControlSensitivity,856,16,17,8
  1177                        	.member	NumberOfCurrentCylinders,864,16,8,16
  1178                        	.member	NumberOfCurrentHeads,880,16,8,16
  1179                        	.member	CurrentSectorsPerTrack,896,16,8,16
  1180                        	.member	CurrentSectorCapacity,912,18,8,32
  1181                        	.member	CurrentMultiSectorSetting,944,14,8,8
  1182                        	.member	MultiSectorSettingValid,952,14,17,1
  1183                        	.member	ReservedByte59,953,14,17,3
  1184                        	.member	SanitizeFeatureSupported,956,14,17,1
  1185                        	.member	CryptoScrambleExtCommandSupported,957,14
                    ,17,1
  1186                        	.member	OverwriteExtCommandSupported,958,14,17,1
  1187                        	.member	BlockEraseExtCommandSupported,959,14,17,
                    1
  1188                        	.member	UserAddressableSectors,960,18,8,32
  1189                        	.member	ObsoleteWord62,992,16,8,16
  1190                        	.member	MultiWordDMASupport,1008,16,17,8
  1191                        	.member	MultiWordDMAActive,1016,16,17,8
  1192                        	.member	AdvancedPIOModes,1024,16,17,8
  1193                        	.member	ReservedByte64,1032,16,17,8
  1194                        	.member	MinimumMWXferCycleTime,1040,16,8,16
  1195                        	.member	RecommendedMWXferCycleTime,1056,16,8,16
  1196                        	.member	MinimumPIOCycleTime,1072,16,8,16
  1197                        	.member	MinimumPIOCycleTimeIORDY,1088,16,8,16
  1198                        	.member	AdditionalSupported,1104,10,8,16,81
  1199                        	.member	ReservedWords70,1120,112,8,0,5
  1200                        	.member	QueueDepth,1200,16,17,5
  1201                        	.member	ReservedWord75,1205,16,17,11
  1202                        	.member	SerialAtaCapabilities,1216,10,8,32,82
  1203                        	.member	SerialAtaFeaturesSupported,1248,10,8,16,
                    83
  1204                        	.member	SerialAtaFeaturesEnabled,1264,10,8,16,84
  1205                        	.member	MajorRevision,1280,16,8,16
  1206                        	.member	MinorRevision,1296,16,8,16
  1207                        	.member	CommandSetSupport,1312,10,8,48,85
  1208                        	.member	CommandSetActive,1360,10,8,48,86
  1209                        	.member	UltraDMASupport,1408,16,17,8
  1210                        	.member	UltraDMAActive,1416,16,17,8
  1211                        	.member	NormalSecurityEraseUnit,1424,10,8,16,87
  1212                        	.member	EnhancedSecurityEraseUnit,1440,10,8,16,8
                    8
  1213                        	.member	CurrentAPMLevel,1456,16,17,8
  1214                        	.member	ReservedWord91,1464,16,17,8
  1215                        	.member	MasterPasswordID,1472,16,8,16
  1216                        	.member	HardwareResetResult,1488,16,8,16
  1217                        	.member	CurrentAcousticValue,1504,16,17,8
  1218                        	.member	RecommendedAcousticValue,1512,16,17,8
  1219                        	.member	StreamMinRequestSize,1520,16,8,16
  1220                        	.member	StreamingTransferTimeDMA,1536,16,8,16
  Thu Dec  3 2020 22:25                                                Page 24


  1221                        	.member	StreamingAccessLatencyDMAPIO,1552,16,8,1
                    6
  1222                        	.member	StreamingPerfGranularity,1568,18,8,32
  1223                        	.member	Max48BitLBA,1600,114,8,0,2
  1224                        	.member	StreamingTransferTime,1664,16,8,16
  1225                        	.member	DsmCap,1680,16,8,16
  1226                        	.member	PhysicalLogicalSectorSize,1696,10,8,16,8
                    9
  1227                        	.member	InterSeekDelay,1712,16,8,16
  1228                        	.member	WorldWideName,1728,112,8,0,4
  1229                        	.member	ReservedForWorldWideName128,1792,112,8,0
                    ,4
  1230                        	.member	ReservedForTlcTechnicalReport,1856,16,8,
                    16
  1231                        	.member	WordsPerLogicalSector,1872,112,8,0,2
  1232                        	.member	CommandSetSupportExt,1904,10,8,16,90
  1233                        	.member	CommandSetActiveExt,1920,10,8,16,91
  1234                        	.member	ReservedForExpandedSupportandActive,1936
                    ,112,8,0,6
  1235                        	.member	MsnSupport,2032,16,17,2
  1236                        	.member	ReservedWord127,2034,16,17,14
  1237                        	.member	SecurityStatus,2048,10,8,16,92
  1238                        	.member	ReservedWord129,2064,112,8,0,31
  1239                        	.member	CfaPowerMode1,2560,10,8,16,93
  1240                        	.member	ReservedForCfaWord161,2576,112,8,0,7
  1241                        	.member	NominalFormFactor,2688,16,17,4
  1242                        	.member	ReservedWord168,2692,16,17,12
  1243                        	.member	DataSetManagementFeature,2704,10,8,16,94
  1244                        	.member	AdditionalProductID,2720,112,8,0,4
  1245                        	.member	ReservedForCfaWord174,2784,112,8,0,2
  1246                        	.member	CurrentMediaSerialNumber,2816,112,8,0,30
  1247                        	.member	SCTCommandTransport,3296,10,8,16,95
  1248                        	.member	ReservedWord207,3312,112,8,0,2
  1249                        	.member	BlockAlignment,3344,10,8,16,96
  1250                        	.member	WriteReadVerifySectorCountMode3Only,3360
                    ,112,8,0,2
  1251                        	.member	WriteReadVerifySectorCountMode2Only,3392
                    ,112,8,0,2
  1252                        	.member	NVCacheCapabilities,3424,10,8,16,97
  1253                        	.member	NVCacheSizeLSW,3440,16,8,16
  1254                        	.member	NVCacheSizeMSW,3456,16,8,16
  1255                        	.member	NominalMediaRotationRate,3472,16,8,16
  1256                        	.member	ReservedWord218,3488,16,8,16
  1257                        	.member	NVCacheOptions,3504,10,8,16,98
  1258                        	.member	WriteReadVerifySectorCountMode,3520,16,1
                    7,8
  1259                        	.member	ReservedWord220,3528,16,17,8
  1260                        	.member	ReservedWord221,3536,16,8,16
  1261                        	.member	TransportMajorVersion,3552,10,8,16,99
  1262                        	.member	TransportMinorVersion,3568,16,8,16
  1263                        	.member	ReservedWord224,3584,112,8,0,6
  1264                        	.member	ExtendedNumberOfUserAddressableSectors,3
                    680,114,8,0,2
  1265                        	.member	MinBlocksPerDownloadMicrocodeMode03,3744
                    ,16,8,16
  1266                        	.member	MaxBlocksPerDownloadMicrocodeMode03,3760
                    ,16,8,16
  1267                        	.member	ReservedWord236,3776,112,8,0,19
  Thu Dec  3 2020 22:25                                                Page 25


  1268                        	.member	Signature,4080,16,17,8
  1269                        	.member	CheckSum,4088,16,17,8
  1270                        	.eos
  1271                        	.stag	_FXDosDevice,5648,101
  1272                        	.member	type,0,14,8,8
  1273                        	.member	initialized,8,14,8,8
  1274                        	.member	devdata,16,129,8,32
  1275                        	.member	devstatus,48,14,8,8
  1276                        	.member	bootSector,56,10,8,928,71
  1277                        	.member	partitionTable,984,10,8,128,72
  1278                        	.member	fileAllocationTable,1112,110,8,0,512
  1279                        	.member	bsOffset,5208,18,8,32
  1280                        	.member	rootDirSectors,5240,18,8,32
  1281                        	.member	root_entry_count,5272,5,8,16
  1282                        	.member	rootEntriesPerPage,5288,5,8,16
  1283                        	.member	sectors_per_cluster,5304,5,8,16
  1284                        	.member	fatTableOffset,5320,18,8,32
  1285                        	.member	volume_name,5352,110,8,0,12
  1286                        	.member	root_volume_name,5448,110,8,0,12
  1287                        	.member	errorCode,5544,14,8,8
  1288                        	.member	pfInit,5552,641,8,32
  1289                        	.member	pfReader,5584,654,8,32
  1290                        	.member	pfWriter,5616,654,8,32
  1291                        	.eos
  1292                        	.line	705
  1293                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",2
  1294                        ;#include "fxmemorymanager.h"
  1295                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
  1296                        	.line	39
  1297                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",3
  1298                        ;#include "HAL.H"
  1299                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\HAL.H",0
  1300                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\CH376INC.H",0
  1301                        	.stag	_FAT_DIR_INFO,256,102
  1302                        	.member	DIR_Name,0,110,8,0,11
  1303                        	.member	DIR_Attr,88,14,8,8
  1304                        	.member	DIR_NTRes,96,14,8,8
  1305                        	.member	DIR_CrtTimeTenth,104,14,8,8
  1306                        	.member	DIR_CrtTime,112,15,8,16
  1307                        	.member	DIR_CrtDate,128,15,8,16
  1308                        	.member	DIR_LstAccDate,144,15,8,16
  1309                        	.member	DIR_FstClusHI,160,15,8,16
  1310                        	.member	DIR_WrtTime,176,15,8,16
  1311                        	.member	DIR_WrtDate,192,15,8,16
  1312                        	.member	DIR_FstClusLO,208,15,8,16
  1313                        	.member	DIR_FileSize,224,18,8,32
  1314                        	.eos
  1315                        	.stag	_BULK_ONLY_CBW,248,103
  1316                        	.member	CBW_Sig,0,18,8,32
  1317                        	.member	CBW_Tag,32,18,8,32
  1318                        	.member	CBW_DataLen0,64,14,8,8
  1319                        	.member	CBW_DataLen1,72,14,8,8
  1320                        	.member	CBW_DataLen2,80,15,8,16
  Thu Dec  3 2020 22:25                                                Page 26


  1321                        	.member	CBW_Flag,96,14,8,8
  1322                        	.member	CBW_LUN,104,14,8,8
  1323                        	.member	CBW_CB_Len,112,14,8,8
  1324                        	.member	CBW_CB_Buf,120,110,8,0,16
  1325                        	.eos
  1326                        	.stag	_INQUIRY_DATA,288,104
  1327                        	.member	DeviceType,0,14,8,8
  1328                        	.member	RemovableMedia,8,14,8,8
  1329                        	.member	Versions,16,14,8,8
  1330                        	.member	DataFormatAndEtc,24,14,8,8
  1331                        	.member	AdditionalLength,32,14,8,8
  1332                        	.member	Reserved1,40,14,8,8
  1333                        	.member	Reserved2,48,14,8,8
  1334                        	.member	MiscFlag,56,14,8,8
  1335                        	.member	VendorIdStr,64,110,8,0,8
  1336                        	.member	ProductIdStr,128,110,8,0,16
  1337                        	.member	ProductRevStr,256,110,8,0,4
  1338                        	.eos
  1339                        	.stag	_SENSE_DATA,144,105
  1340                        	.member	ErrorCode,0,14,8,8
  1341                        	.member	SegmentNumber,8,14,8,8
  1342                        	.member	SenseKeyAndEtc,16,14,8,8
  1343                        	.member	Information0,24,14,8,8
  1344                        	.member	Information1,32,14,8,8
  1345                        	.member	Information2,40,14,8,8
  1346                        	.member	Information3,48,14,8,8
  1347                        	.member	AdditSenseLen,56,14,8,8
  1348                        	.member	CmdSpecInfo,64,110,8,0,4
  1349                        	.member	AdditSenseCode,96,14,8,8
  1350                        	.member	AddSenCodeQual,104,14,8,8
  1351                        	.member	FieldReplaUnit,112,14,8,8
  1352                        	.member	SenseKeySpec,120,110,8,0,3
  1353                        	.eos
  1354                        	.stag	fake106_,112,106
  1355                        	.member	mBuffer,0,110,8,0,14
  1356                        	.eos
  1357                        	.stag	fake107_,8,107
  1358                        	.member	mUpdateFileSz,0,14,8,8
  1359                        	.eos
  1360                        	.stag	fake108_,8,108
  1361                        	.member	mDirInfoIndex,0,14,8,8
  1362                        	.eos
  1363                        	.utag	fake109_,32,109
  1364                        	.member	mByteOffset,0,18,11,32
  1365                        	.member	mSectorLba,0,18,11,32
  1366                        	.eos
  1367                        	.stag	fake110_,16,110
  1368                        	.member	mByteCount,0,15,8,16
  1369                        	.eos
  1370                        	.stag	fake111_,16,111
  1371                        	.member	mByteCount,0,15,8,16
  1372                        	.eos
  1373                        	.utag	fake112_,32,112
  1374                        	.member	mSectorOffset,0,18,11,32
  1375                        	.member	mSectorLba,0,18,11,32
  1376                        	.eos
  1377                        	.stag	fake113_,64,113
  1378                        	.member	mSectorCount,0,14,8,8
  Thu Dec  3 2020 22:25                                                Page 27


  1379                        	.member	mReserved1,8,14,8,8
  1380                        	.member	mReserved2,16,14,8,8
  1381                        	.member	mReserved3,24,14,8,8
  1382                        	.member	mStartSector,32,18,8,32
  1383                        	.eos
  1384                        	.stag	fake114_,64,114
  1385                        	.member	mSectorCount,0,14,8,8
  1386                        	.member	mReserved1,8,14,8,8
  1387                        	.member	mReserved2,16,14,8,8
  1388                        	.member	mReserved3,24,14,8,8
  1389                        	.member	mStartSector,32,18,8,32
  1390                        	.eos
  1391                        	.stag	fake115_,32,115
  1392                        	.member	mDiskSizeSec,0,18,8,32
  1393                        	.eos
  1394                        	.stag	fake116_,72,116
  1395                        	.member	mTotalSector,0,18,8,32
  1396                        	.member	mFreeSector,32,18,8,32
  1397                        	.member	mDiskFat,64,14,8,8
  1398                        	.eos
  1399                        	.stag	fake117_,8,117
  1400                        	.member	mMaxLogicUnit,0,14,8,8
  1401                        	.eos
  1402                        	.stag	fake118_,32,118
  1403                        	.member	mDiskSizeSec,0,18,8,32
  1404                        	.eos
  1405                        	.stag	fake119_,40,119
  1406                        	.member	mStartSector,0,18,8,32
  1407                        	.member	mSectorCount,32,14,8,8
  1408                        	.eos
  1409                        	.stag	fake120_,40,120
  1410                        	.member	mStartSector,0,18,8,32
  1411                        	.member	mSectorCount,32,14,8,8
  1412                        	.eos
  1413                        	.utag	_CH376_CMD_DATA,288,121
  1414                        	.member	Default,0,10,11,112,106
  1415                        	.member	DiskMountInq,0,10,11,288,104
  1416                        	.member	OpenDirInfo,0,10,11,256,102
  1417                        	.member	EnumDirInfo,0,10,11,256,102
  1418                        	.member	FileCLose,0,10,11,8,107
  1419                        	.member	DirInfoRead,0,10,11,8,108
  1420                        	.member	ByteLocate,0,11,11,32,109
  1421                        	.member	ByteRead,0,10,11,16,110
  1422                        	.member	ByteWrite,0,10,11,16,111
  1423                        	.member	SectorLocate,0,11,11,32,112
  1424                        	.member	SectorRead,0,10,11,64,113
  1425                        	.member	SectorWrite,0,10,11,64,114
  1426                        	.member	DiskCapacity,0,10,11,32,115
  1427                        	.member	DiskQuery,0,10,11,72,116
  1428                        	.member	DiskBocCbw,0,10,11,248,103
  1429                        	.member	DiskMaxLun,0,10,11,8,117
  1430                        	.member	DiskInitInq,0,10,11,288,104
  1431                        	.member	DiskInqData,0,10,11,288,104
  1432                        	.member	ReqSenseData,0,10,11,144,105
  1433                        	.member	DiskSize,0,10,11,32,118
  1434                        	.member	DiskRead,0,10,11,40,119
  1435                        	.member	DiskWrite,0,10,11,40,120
  1436                        	.eos
  Thu Dec  3 2020 22:25                                                Page 28


  1437                        	.line	586
  1438                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\HAL.H",4
  1439                        	.line	42
  1440                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",4
  1441                        ;#include "MINDRVR.H"
  1442                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\MINDRVR.H",0
  1443                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
  1444                        	.line	25
  1445                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\MINDRVR.H",35
  1446                        	.stag	REG_CMD_INFO,328,122
  1447                        	.member	cmd,0,14,8,8
  1448                        	.member	fr,8,16,8,16
  1449                        	.member	sc,24,16,8,16
  1450                        	.member	sn,40,16,8,16
  1451                        	.member	cl,56,16,8,16
  1452                        	.member	ch,72,16,8,16
  1453                        	.member	dh,88,14,8,8
  1454                        	.member	dc,96,14,8,8
  1455                        	.member	ns,104,7,8,32
  1456                        	.member	mc,136,5,8,16
  1457                        	.member	lbaSize,152,14,8,8
  1458                        	.member	lbaLow,160,18,8,32
  1459                        	.member	lbaHigh,192,18,8,32
  1460                        	.member	st,224,14,8,8
  1461                        	.member	as,232,14,8,8
  1462                        	.member	er,240,14,8,8
  1463                        	.member	ec,248,14,8,8
  1464                        	.member	to,256,14,8,8
  1465                        	.member	totalBytesXfer,264,7,8,32
  1466                        	.member	drqPackets,296,7,8,32
  1467                        	.eos
  1468                        	.line	475
  1469                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",5
  1470                        ;#include "fxfloppy.h"
  1471                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfloppy.h",0
  1472                        	.line	70
  1473                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",6
  1474                        ;
  1475                        ;
  1476                        ;#pragma section CODE=FMXSDCard,offset $08:B000
  1477                        FMXSDCard	section	offset $08:B000
  1478 08:B000:              	ends
  1479                        ;
  1480                        ;static CHAR sd_card_dir_string[] =
  1481                        	data
  1482                        ~~sd_card_dir_string:
  1483                        ;{ 0x2F, 0x2A, 0x00 };
  1484 00:0000: 2F 2A 00     	db	$2F,$2A,$0
  1485 00:0003:              	ends
  1486                        ;//static LPCHAR sd_card_dir_string = "/*\0";
  Thu Dec  3 2020 22:25                                                Page 29


  1487                        ;static UINT8 buf[64];
  1488                        ;
  1489                        ;//static BOOL _mount_lock = FALSE;
  1490                        ;//static DISKINFO lastdiskInfo;
  1491                        ;//static PDISKINFO pdiskCache = NULL;
  1492                        ;
  1493                        ;static UCHAR sectorBuffer[512];
  1494                        ;//static UCHAR clusterBuffer[512];
  1495                        ;static UCHAR fatfileBuffer[512];
  1496                        ;static CHAR	 longnamecount;
  1497                        ;static UCHAR longnameBuffer[255];
  1498                        ;
  1499                        ;
  1500                        ;FX_DEVICE_DRIVER DRIVER_FMXSDCard = {
  1501                        	data
  1502                        	xdef	~~DRIVER_FMXSDCard
  1503                        ~~DRIVER_FMXSDCard:
  1504                        ;							
                    			"DRIVER_FMXSDCard\0",
  1505 00:0003: 44 52 49 56  	db	$44,$52,$49,$56,$45,$52,$5F,$46,$4D,$58
       00:0007: 45 52 5F 46 
       00:000B: 4D 58 
  1506 00:000D: 53 44 43 61  	db	$53,$44,$43,$61,$72,$64,$0,$0
       00:0011: 72 64 00 00 
  1507 00:0015:              	ds	46
  1508                        ;							
                    			"v1.0.0\0",
  1509 00:0043: 76 31 2E 30  	db	$76,$31,$2E,$30,$2E,$30,$0,$0
       00:0047: 2E 30 00 00 
  1510 00:004B:              	ds	56
  1511                        ;							
                    			"C\0",
  1512 00:0083: 43 00 00     	db	$43,$0,$0
  1513 00:0086:              	ds	13
  1514                        ;							
                    			"4\0",
  1515 00:0093: 34 00 00     	db	$34,$0,$0
  1516 00:0096:              	ds	13
  1517                        ;							
                    			DRIVER_TYPE_SDCARD,
  1518 00:00A3: 05           	db	$5
  1519                        ;							
                    			NULL,
  1520 00:00A4: 00 00 00 00  	dl	$0
  1521                        ;							
                    			NULL,
  1522 00:00A8: 00 00 00 00  	dl	$0
  1523                        ;							
                    			NULL,
  1524 00:00AC: 00 00 00 00  	dl	$0
  1525                        ;							
                    			NULL
  1526                        ;							
                    	   };
  1527 00:00B0: 00 00 00 00  	dl	$0
  1528 00:00B4:              	ends
  1529                        ;
  1530                        ;
  Thu Dec  3 2020 22:25                                                Page 30


  1531                        ;
  1532                        ;
  1533                        ;
  1534                        ;
  1535                        ;
  1536                        ;#ifdef USE_FX256_FMX_DISABLE
  1537                        ;
  1538                        ;FXDOSDEVICE fxdosDevice;
  1539                        ;
  1540                        ;LPCHAR readBitmapData(LPCHAR bitmapBuffer);
  1541                        ;int floppy_present(void);
  1542                        ;
  1543                        ;
  1544                        ;BOOL k_dos_foreach_file(LPVOID ctx,LPVOID pdata)
  1545                        ;{
  1546                        ;	BOOL bBreak = FALSE;
  1547                        ;
  1548                        ;	PFAT16ENTRYLONG entry = (PFAT16ENTRYLONG)pdata;
  1549                        ;	if(pdata)
  1550                        ;	{
  1551                        ;		if(entry->plongfileName && ctx)
  1552                        ;		{
  1553                        ;			//k_debug_strings("k_dos_foreach
                    _file:",entry->plongfileName);
  1554                        ;			//k_debug_strings("k_dos_foreach
                    _file compare:",(LPSTR)ctx);
  1555                        ;
  1556                        ;			bBreak = (strcmp(ctx,entry->plon
                    gfileName) == 0);
  1557                        ;
  1558                        ;			//k_debug_integer("k_dos_foreach
                    _file compare:",bBreak);
  1559                        ;		}
  1560                        ;	}
  1561                        ;
  1562                        ;	return bBreak;
  1563                        ;}
  1564                        ;
  1565                        ;
  1566                        ;
  1567                        ;
  1568                        ;UCHAR k_read_sd_sector(unsigned long offset,LPCHA
                    R receiveBuffer)
  1569                        ;{
  1570                        ;	return readSDSector(offset,receiveBuffer);
  1571                        ;}
  1572                        ;
  1573                        ;UCHAR readSDSector(unsigned long offset,LPCHAR re
                    ceiveBuffer)
  1574                        ;{
  1575                        ;	UINT8	errorCode;
  1576                        ;	UINT8	s;
  1577                        ;	UINT8	fifoLO;
  1578                        ;	UINT8	fifoHI;
  1579                        ;	UINT	size;
  1580                        ;	UINT	x;
  1581                        ;
  1582                        ;	k_debug_long("readSDSector offset:",offset);
  Thu Dec  3 2020 22:25                                                Page 31


  1583                        ;
  1584                        ;	*((unsigned long*)(&SDC_SD_ADDR_7_0_REG[0])) = o
                    ffset;
  1585                        ;
  1586                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_READ_BLK;
  1587                        ;	SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  1588                        ;
  1589                        ;	s = SDC_TRANS_BUSY;
  1590                        ;	while(s & SDC_TRANS_BUSY)
  1591                        ;	{
  1592                        ;		s = SDC_TRANS_STATUS_REG[0];
  1593                        ;	}
  1594                        ;
  1595                        ;	errorCode = SDC_TRANS_ERROR_REG[0];
  1596                        ;
  1597                        ;	if(!errorCode)
  1598                        ;	{
  1599                        ;		fifoLO = SDC_RX_FIFO_DATA_CNT_LO[0];
  1600                        ;		fifoHI = SDC_RX_FIFO_DATA_CNT_HI[0];
  1601                        ;
  1602                        ;		size = MAKEWORD(fifoLO,fifoHI);
  1603                        ;
  1604                        ;		//k_debug_integer("readSDSector size:",s
                    ize);
  1605                        ;
  1606                        ;		for(x=0;x<SDC_BUFFER_SIZE;x++)
  1607                        ;		{
  1608                        ;			receiveBuffer[x] = SDC_RX_FIFO_D
                    ATA_REG[0];
  1609                        ;		}
  1610                        ;	}
  1611                        ;
  1612                        ;	k_debug_integer("readSDSector errorCode:",errorC
                    ode);
  1613                        ;
  1614                        ;	return errorCode;
  1615                        ;}
  1616                        ;
  1617                        ;UINT8 writeSDSector(unsigned long offset,LPCHAR s
                    endBuffer)
  1618                        ;{
  1619                        ;	UINT8	errorCode;
  1620                        ;	UINT8	s;
  1621                        ;	UINT	x;
  1622                        ;
  1623                        ;	SDC_TX_FIFO_CTRL_REG[0] = 0x01;
  1624                        ;
  1625                        ;	for(x=0;x<SDC_BUFFER_SIZE;x++)
  1626                        ;	{
  1627                        ;		SDC_TX_FIFO_DATA_REG[0] = sendBuffer[x];
  1628                        ;	}
  1629                        ;
  1630                        ;	*((unsigned long*)(&SDC_SD_ADDR_7_0_REG[0])) = o
                    ffset;
  1631                        ;
  1632                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_WRITE_BLK;
  1633                        ;	SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  1634                        ;
  Thu Dec  3 2020 22:25                                                Page 32


  1635                        ;	s = SDC_TRANS_BUSY;
  1636                        ;	while(s & SDC_TRANS_BUSY)
  1637                        ;	{
  1638                        ;		s = SDC_TRANS_STATUS_REG[0];
  1639                        ;	}
  1640                        ;
  1641                        ;	errorCode = SDC_TRANS_ERROR_REG[0];
  1642                        ;
  1643                        ;	return errorCode;
  1644                        ;}
  1645                        ;
  1646                        ;
  1647                        ;UINT readCluster(unsigned long offset,UINT sector
                    sPerCluster,LPCHAR receiveBuffer,ULONG file_size)
  1648                        ;{
  1649                        ;	UINT c = 0;
  1650                        ;	ULONG read = 0;
  1651                        ;
  1652                        ;
  1653                        ;	k_debug_long("readCluster::offset:",offset);
  1654                        ;	for(c=0;c<sectorsPerCluster;c++)
  1655                        ;	{
  1656                        ;		readSDSector(offset + (sectorsPerCluster
                     * c),receiveBuffer);
  1657                        ;		read+=512;
  1658                        ;		//k_debug_long("file_size:",file_size);
  1659                        ;		//k_debug_long("read:",read);
  1660                        ;		if(read > file_size)
  1661                        ;			k_debug_byte_array("SECTOR:",rec
                    eiveBuffer,file_size);
  1662                        ;		else
  1663                        ;			k_debug_byte_array("SECTOR:",rec
                    eiveBuffer,512);
  1664                        ;
  1665                        ;		if(read > file_size)
  1666                        ;		{
  1667                        ;			break;
  1668                        ;		}
  1669                        ;	}
  1670                        ;
  1671                        ;	return 0;
  1672                        ;}
  1673                        ;
  1674                        ;
  1675                        ;LPCHAR readClusterToMemory(unsigned long offset,U
                    INT sectorsPerCluster,LPCHAR receiveBuffer,ULONG file_size)
  1676                        ;{
  1677                        ;	UINT c = 0;
  1678                        ;	ULONG read = 0;
  1679                        ;	PBITMAPFILEHEADER pheader = NULL;
  1680                        ;	PBITMAPINFOHEADER pinfo = NULL;
  1681                        ;	LPCHAR imageStart = NULL;
  1682                        ;
  1683                        ;	for(c=0;c<sectorsPerCluster;c++)
  1684                        ;	{
  1685                        ;		readSDSector(offset + (sectorsPerCluster
                     * c) + read,receiveBuffer);
  1686                        ;		read+=512;
  Thu Dec  3 2020 22:25                                                Page 33


  1687                        ;		//k_debug_long("file_size:",file_size);
  1688                        ;		//k_debug_long("read:",read);
  1689                        ;		if(receiveBuffer == SHADOW_BANK_0)
  1690                        ;		{
  1691                        ;			pheader = (PBITMAPFILEHEADER)rec
                    eiveBuffer;
  1692                        ;
  1693                        ;		    k_debug_integer("bfType:",pheader->b
                    fType);
  1694                        ;			k_debug_long("bfSize:",pheader->
                    bfSize);
  1695                        ;			k_debug_long("bfOffBits:",pheade
                    r->bfOffBits);
  1696                        ;
  1697                        ;
  1698                        ;			pinfo = (PBITMAPINFOHEADER)&rece
                    iveBuffer[sizeof(BITMAPFILEHEADER)];
  1699                        ;
  1700                        ;			k_debug_long("height:",pinfo->bi
                    Height);
  1701                        ;			k_debug_long("width:",pinfo->biW
                    idth);
  1702                        ;
  1703                        ;			k_debug_integer("biPlanes:",pinf
                    o->biPlanes); //specifies the number of color planes, must b
                    e 1
  1704                        ;			k_debug_integer("biBitCount:",pi
                    nfo->biBitCount); //specifies the number of bit per pixel
  1705                        ;			k_debug_long("biCompression:",pi
                    nfo->biCompression);//spcifies the type of compression
  1706                        ;			k_debug_long("biSizeImage:",pinf
                    o->biSizeImage);  //size of image in bytes
  1707                        ;			k_debug_long("biXPelsPerMeter:",
                    pinfo->biXPelsPerMeter);  //number of pixels per meter in x 
                    axis
  1708                        ;			k_debug_long("biYPelsPerMeter:",
                    pinfo->biYPelsPerMeter);  //number of pixels per meter in y 
                    axis
  1709                        ;
  1710                        ;			imageStart = &receiveBuffer[phea
                    der->bfOffBits];
  1711                        ;		}
  1712                        ;
  1713                        ;		//receiveBuffer = &(receiveBuffer[read])
                    ;
  1714                        ;		//k_debug_byte_array("SECTOR:",receiveBu
                    ffer,512);
  1715                        ;		receiveBuffer+=512L;
  1716                        ;		//k_debug_pointer("readClusterToMemory::
                    receiveBuffer:",receiveBuffer);
  1717                        ;
  1718                        ;		if(read > file_size)
  1719                        ;		{
  1720                        ;			break;
  1721                        ;		}
  1722                        ;	}
  1723                        ;
  1724                        ;	return receiveBuffer;
  Thu Dec  3 2020 22:25                                                Page 34


  1725                        ;}
  1726                        ;
  1727                        ;
  1728                        ;LPCHAR readBitmapData(LPCHAR bitmapBuffer)
  1729                        ;{
  1730                        ;	PBITMAPFILEHEADER pheader = NULL;
  1731                        ;	PBITMAPINFOHEADER pinfo = NULL;
  1732                        ;	LPCHAR imageStart = NULL;
  1733                        ;
  1734                        ;	if(bitmapBuffer)
  1735                        ;	{
  1736                        ;		pheader = (PBITMAPFILEHEADER)bitmapBuffe
                    r;
  1737                        ;
  1738                        ;		k_debug_integer("bfType:",pheader->bfTyp
                    e);
  1739                        ;		k_debug_long("bfSize:",pheader->bfSize);
  1740                        ;		k_debug_long("bfOffBits:",pheader->bfOff
                    Bits);
  1741                        ;
  1742                        ;		pinfo = (PBITMAPINFOHEADER)&bitmapBuffer
                    [sizeof(BITMAPFILEHEADER)];
  1743                        ;
  1744                        ;		k_debug_long("height:",pinfo->biHeight);
  1745                        ;		k_debug_long("width:",pinfo->biWidth);
  1746                        ;
  1747                        ;		k_debug_integer("biPlanes:",pinfo->biPla
                    nes); //specifies the number of color planes, must be 1
  1748                        ;		k_debug_integer("biBitCount:",pinfo->biB
                    itCount); //specifies the number of bit per pixel
  1749                        ;		k_debug_long("biCompression:",pinfo->biC
                    ompression);//spcifies the type of compression
  1750                        ;		k_debug_long("biSizeImage:",pinfo->biSiz
                    eImage);  //size of image in bytes
  1751                        ;		k_debug_long("biXPelsPerMeter:",pinfo->b
                    iXPelsPerMeter);  //number of pixels per meter in x axis
  1752                        ;		k_debug_long("biYPelsPerMeter:",pinfo->b
                    iYPelsPerMeter);  //number of pixels per meter in y axis
  1753                        ;
  1754                        ;		imageStart = &bitmapBuffer[pheader->bfOf
                    fBits];
  1755                        ;	}
  1756                        ;
  1757                        ;	return imageStart;
  1758                        ;}
  1759                        ;
  1760                        ;
  1761                        ;BOOL k_read_volume_name(PFAT16ENTRY entry,PFXDOSD
                    EVICE pdev)
  1762                        ;{
  1763                        ;	BOOL bRet = FALSE;
  1764                        ;
  1765                        ;	if(entry && pdev)
  1766                        ;	{
  1767                        ;    	if(entry->attributes == 0x08)
  1768                        ;		{
  1769                        ;    		memset(pdev->root_volume_name,0,
                    12);
  Thu Dec  3 2020 22:25                                                Page 35


  1770                        ;
  1771                        ;    		strncpy(pdev->root_volume_name,e
                    ntry->filename,8);
  1772                        ;    		strncpy(&pdev->root_volume_name[
                    8],entry->ext,3);
  1773                        ;
  1774                        ;    		bRet = TRUE;
  1775                        ;		}
  1776                        ;	}
  1777                        ;
  1778                        ;	return bRet;
  1779                        ;}
  1780                        ;
  1781                        ;
  1782                        ;
  1783                        ;BOOL k_pc_initialize(void)
  1784                        ;{
  1785                        ;	return FALSE;
  1786                        ;}
  1787                        ;
  1788                        ;UINT8 k_sd_initialize(void)
  1789                        ;{
  1790                        ;	UINT8 s;
  1791                        ;	UINT8 errorCode;
  1792                        ;
  1793                        ;	k_debug_string("***k_sd_initialize 1\r\n");
  1794                        ;
  1795                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  1796                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  1797                        ;
  1798                        ;    s = SDC_TRANS_BUSY;
  1799                        ;    while(s & SDC_TRANS_BUSY)
  1800                        ;    {
  1801                        ;    	s = SDC_TRANS_STATUS_REG[0];
  1802                        ;   	}
  1803                        ;
  1804                        ;    errorCode = SDC_TRANS_ERROR_REG[0];
  1805                        ;
  1806                        ;    k_debug_integer("***k_sd_initialize errorCode
                    :",errorCode);
  1807                        ;
  1808                        ;    return errorCode;
  1809                        ;}
  1810                        ;
  1811                        ;#ifdef TRUE
  1812                        ;
  1813                        ;UINT8 k_sd_full_test(VOID)
  1814                        ;{
  1815                        ;	INT x = 0;
  1816                        ;	INT i = 0;
  1817                        ;	INT size = 0;
  1818                        ;
  1819                        ;	UINT8	errorCode;
  1820                        ;	CHAR	byte;
  1821                        ;
  1822                        ;	//UINT8	fifoLO;
  1823                        ;	//UINT8	fifoHI;
  1824                        ;	UINT8	s;
  Thu Dec  3 2020 22:25                                                Page 36


  1825                        ;
  1826                        ;	ULONG next = -1;
  1827                        ;	INT root_entry_count     = 0;
  1828                        ;	INT rootEntriesPerPage	 = 0;
  1829                        ;	INT sectors_per_cluster  = 0;
  1830                        ;
  1831                        ;	PFATBOOTSECTOR pFATBS = NULL;
  1832                        ;	PPARTITIONTABLE pPartTable = NULL;
  1833                        ;	PFAT16ENTRY  pentry = NULL;
  1834                        ;	PUINT pFAT1 = NULL;
  1835                        ;
  1836                        ;	unsigned long offset = 0L;
  1837                        ;	unsigned long bsOffset = 0L;
  1838                        ;	unsigned long fatTable = 0L;
  1839                        ;	unsigned long rootDirSectors = 0L;// 0x010000D2;
  1840                        ;	unsigned long data = 0L;// 0x010000D2;
  1841                        ;
  1842                        ;	unsigned long firstDataSector = 0L;// 0x010000D2
                    ;
  1843                        ;
  1844                        ;	k_debug_string("***k_sd_full_test 1\r\n");
  1845                        ;
  1846                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  1847                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  1848                        ;
  1849                        ;    s = SDC_TRANS_BUSY;
  1850                        ;    while(s & SDC_TRANS_BUSY)
  1851                        ;    {
  1852                        ;    	s = SDC_TRANS_STATUS_REG[0];
  1853                        ;   	}
  1854                        ;
  1855                        ;    errorCode = SDC_TRANS_ERROR_REG[0];
  1856                        ;
  1857                        ;    k_debug_integer("***k_sd_reset errorCode:",er
                    rorCode);
  1858                        ;
  1859                        ;    if(!errorCode)
  1860                        ;    {
  1861                        ;		GABE_MSTR_CTRL[0] |= GABE_CTRL_SDC_LED;
  1862                        ;
  1863                        ;		errorCode = readSDSector(0,sectorBuffer)
                    ;
  1864                        ;
  1865                        ;		for(x=0;x<4;x++)
  1866                        ;		{
  1867                        ;			pPartTable = (PPARTITIONTABLE)&s
                    ectorBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)];
  1868                        ;
  1869                        ;			k_debug_hex ("***k_sd_reset firs
                    t_byte:",pPartTable->first_byte);
  1870                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs0:",pPartTable->start_chs[0]);
  1871                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs1:",pPartTable->start_chs[1]);
  1872                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs2:",pPartTable->start_chs[2]);
  1873                        ;			k_debug_hex ("***k_sd_reset part
                    ition_type:",(INT)pPartTable->partition_type);
  Thu Dec  3 2020 22:25                                                Page 37


  1874                        ;			k_debug_hex ("***k_sd_reset end_
                    chs0:",pPartTable->end_chs[0]);
  1875                        ;			k_debug_hex ("***k_sd_reset end_
                    chs1:",pPartTable->end_chs[1]);
  1876                        ;			k_debug_hex ("***k_sd_reset end_
                    chs2:",pPartTable->end_chs[2]);
  1877                        ;			k_debug_long("***k_sd_reset star
                    t_sector:",pPartTable->start_sector);
  1878                        ;			k_debug_long("***k_sd_reset leng
                    th_sectors:",pPartTable->length_sectors);
  1879                        ;
  1880                        ;			if(pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS30 ||
  1881                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS33 ||
  1882                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS70)
  1883                        ;			{
  1884                        ;				k_debug_hex("FAT16 files
                    ystem found from partition:", pPartTable->partition_type);
  1885                        ;				break;
  1886                        ;			}
  1887                        ;		}
  1888                        ;
  1889                        ;		memcpy(&fxdosDevice.partitionTable,&sect
                    orBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)],sizeof(PARTITIO
                    NTABLE));
  1890                        ;		k_debug_hex ("***fxdosDevice first_byte:
                    ",fxdosDevice.partitionTable.first_byte);
  1891                        ;		k_debug_hex ("***fxdosDevice start_chs0:
                    ",fxdosDevice.partitionTable.start_chs[0]);
  1892                        ;		k_debug_hex ("***fxdosDevice start_chs1:
                    ",fxdosDevice.partitionTable.start_chs[1]);
  1893                        ;		k_debug_hex ("***fxdosDevice start_chs2:
                    ",fxdosDevice.partitionTable.start_chs[2]);
  1894                        ;		k_debug_hex ("***fxdosDevice partition_t
                    ype:",(INT)fxdosDevice.partitionTable.partition_type);
  1895                        ;		k_debug_hex ("***fxdosDevice end_chs0:",
                    fxdosDevice.partitionTable.end_chs[0]);
  1896                        ;		k_debug_hex ("***fxdosDevice end_chs1:",
                    fxdosDevice.partitionTable.end_chs[1]);
  1897                        ;		k_debug_hex ("***fxdosDevice end_chs2:",
                    fxdosDevice.partitionTable.end_chs[2]);
  1898                        ;		k_debug_long("***fxdosDevice start_secto
                    r:",fxdosDevice.partitionTable.start_sector);
  1899                        ;		k_debug_long("***fxdosDevice length_sect
                    ors:",fxdosDevice.partitionTable.length_sectors);
  1900                        ;
  1901                        ;
  1902                        ;		bsOffset = (pPartTable->start_sector * F
                    AT_PAGE_SIZE);
  1903                        ;		fxdosDevice.bsOffset = (pPartTable->star
                    t_sector * FAT_PAGE_SIZE);
  1904                        ;
  1905                        ;		errorCode = readSDSector(bsOffset,sector
                    Buffer);
  1906                        ;		fxdosDevice.errorCode = readSDSector(bsO
                    ffset,sectorBuffer);
  Thu Dec  3 2020 22:25                                                Page 38


  1907                        ;		if(!errorCode)
  1908                        ;		{
  1909                        ;			pFATBS = (PFATBOOTSECTOR)sectorB
                    uffer;
  1910                        ;
  1911                        ;
  1912                        ;
  1913                        ;			k_debug_integer("***k_sd_reset b
                    ytes_per_sector:",(INT)pFATBS->bytes_per_sector);
  1914                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_cluster:",(INT)pFATBS->sectors_per_cluster);
  1915                        ;			k_debug_integer("***k_sd_reset r
                    eserved_sector_count:",(INT)pFATBS->reserved_sector_count);
  1916                        ;			k_debug_integer("***k_sd_reset t
                    able_count:",(INT)pFATBS->fat_table_count);
  1917                        ;			k_debug_integer("***k_sd_reset r
                    oot_entry_count:",(INT)pFATBS->root_entry_count);
  1918                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_16:",(INT)pFATBS->total_sectors_16);
  1919                        ;			k_debug_integer("***k_sd_reset m
                    edia_type:",(INT)pFATBS->media_type);
  1920                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_fat:",(INT)pFATBS->sectors_per_fat);
  1921                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_track:",(INT)pFATBS->sectors_per_track);
  1922                        ;			k_debug_integer("***k_sd_reset h
                    ead_side_count:",(INT)pFATBS->head_side_count);
  1923                        ;			k_debug_integer("***k_sd_reset h
                    idden_sector_count:",(INT)pFATBS->hidden_sector_count);
  1924                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_32:",(INT)pFATBS->total_sectors_32);
  1925                        ;
  1926                        ;
  1927                        ;			memcpy(&fxdosDevice.bootSector,s
                    ectorBuffer,sizeof(FATBOOTSECTOR));
  1928                        ;
  1929                        ;			k_debug_integer("***fxdosDevice 
                    bytes_per_sector:",(INT)fxdosDevice.bootSector.bytes_per_sec
                    tor);
  1930                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_cluster:",(INT)fxdosDevice.bootSector.sectors_pe
                    r_cluster);
  1931                        ;			k_debug_integer("***fxdosDevice 
                    reserved_sector_count:",(INT)fxdosDevice.bootSector.reserved
                    _sector_count);
  1932                        ;			k_debug_integer("***fxdosDevice 
                    table_count:",(INT)fxdosDevice.bootSector.fat_table_count);
  1933                        ;			k_debug_integer("***fxdosDevice 
                    root_entry_count:",(INT)fxdosDevice.bootSector.root_entry_co
                    unt);
  1934                        ;			k_debug_integer("***fxdosDevice 
                    total_sectors_16:",(INT)fxdosDevice.bootSector.total_sectors
                    _16);
  1935                        ;			k_debug_integer("***fxdosDevice 
                    media_type:",(INT)fxdosDevice.bootSector.media_type);
  1936                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_fat:",(INT)fxdosDevice.bootSector.sectors_per_fa
                    t);
  Thu Dec  3 2020 22:25                                                Page 39


  1937                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_track:",(INT)fxdosDevice.bootSector.sectors_per_
                    track);
  1938                        ;			k_debug_integer("***fxdosDevice 
                    head_side_count:",(INT)fxdosDevice.bootSector.head_side_coun
                    t);
  1939                        ;			k_debug_integer("***fxdosDevice 
                    hidden_sector_count:",(INT)fxdosDevice.bootSector.hidden_sec
                    tor_count);
  1940                        ;			k_debug_integer("***fxdosDevice 
                    total_sectors_32:",(INT)fxdosDevice.bootSector.total_sectors
                    _32);
  1941                        ;
  1942                        ;
  1943                        ;			k_debug_nstring(pFATBS->vol_name
                    ,11);
  1944                        ;			k_debug_string("\r\n");
  1945                        ;			k_debug_nstring(pFATBS->file_sys
                    tem_type,8);
  1946                        ;			k_debug_string("\r\n");
  1947                        ;
  1948                        ;			strncpy(fxdosDevice.volume_name,
                    pFATBS->vol_name,11);
  1949                        ;			fxdosDevice.volume_name[11] = 0;
  1950                        ;			k_debug_strings("***fxdosDevice 
                    Volume Name:",fxdosDevice.volume_name);
  1951                        ;
  1952                        ;			root_entry_count = pFATBS->root_
                    entry_count;
  1953                        ;			fxdosDevice.root_entry_count = p
                    FATBS->root_entry_count;
  1954                        ;
  1955                        ;			fatTable       = bsOffset + (pFA
                    TBS->bytes_per_sector * pFATBS->reserved_sector_count);
  1956                        ;			rootDirSectors = bsOffset + (((U
                    LONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->sectors
                    _per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATBS-
                    >bytes_per_sector);
  1957                        ;			sectors_per_cluster = (INT)pFATB
                    S->sectors_per_cluster;
  1958                        ;
  1959                        ;			k_debug_long("***k_sd_reset fatT
                    able:",fatTable);
  1960                        ;
  1961                        ;			fxdosDevice.fatTableOffset = bsO
                    ffset + (pFATBS->bytes_per_sector * pFATBS->reserved_sector_
                    count);
  1962                        ;			fxdosDevice.rootDirSectors = bsO
                    ffset + (((ULONG)pFATBS->reserved_sector_count + ((ULONG)pFA
                    TBS->sectors_per_fat * (ULONG)pFATBS->fat_table_count)) * (U
                    LONG)pFATBS->bytes_per_sector);
  1963                        ;			fxdosDevice.sectors_per_cluster 
                    = (INT)pFATBS->sectors_per_cluster;
  1964                        ;
  1965                        ;			k_debug_long("***fxdosDevice fat
                    Table:",fxdosDevice.fatTableOffset);
  1966                        ;
  1967                        ;
  Thu Dec  3 2020 22:25                                                Page 40


  1968                        ;
  1969                        ;			if(readSDSector(fatTable,sectorB
                    uffer) == 0)
  1970                        ;			{
  1971                        ;				pFAT1 = (PUINT)sectorBuf
                    fer;
  1972                        ;				memcpy(&fxdosDevice.file
                    AllocationTable,sectorBuffer,FAT_PAGE_SIZE);
  1973                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,512);
  1974                        ;				/*
  1975                        ;				i = 0;
  1976                        ;				x = 0xFFFF;
  1977                        ;				while(x)
  1978                        ;				{
  1979                        ;					x = ((INT*)fileA
                    llocationTable1)[i++];
  1980                        ;					k_debug_integer(
                    "FAT ENTRY:",x);
  1981                        ;				}
  1982                        ;				*/
  1983                        ;			}
  1984                        ;
  1985                        ;
  1986                        ;			//rootDirSectors = bsOffset + ((
                    (ULONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->secto
                    rs_per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATB
                    S->bytes_per_sector);
  1987                        ;
  1988                        ;			k_debug_long("***k_sd_reset root
                     offset:",rootDirSectors);
  1989                        ;			k_debug_long("***k_sd_reset root
                     sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  1990                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count:",root_entry_count);
  1991                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count/sizeof(FAT16ENTRY):",root_entry_count/size
                    of(FAT16ENTRY));
  1992                        ;
  1993                        ;			k_debug_long("***fxdosDevice roo
                    t offset:",fxdosDevice.rootDirSectors);
  1994                        ;			k_debug_long("***fxdosDevice roo
                    t sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  1995                        ;			k_debug_long("***fxdosDevice roo
                    t root_entry_count:",fxdosDevice.root_entry_count);
  1996                        ;			k_debug_long("***fxdosDevice roo
                    t root_entry_count/sizeof(FAT16ENTRY):",fxdosDevice.root_ent
                    ry_count/sizeof(FAT16ENTRY));
  1997                        ;
  1998                        ;
  1999                        ;			if(readSDSector(rootDirSectors,s
                    ectorBuffer) == 0)
  2000                        ;			{
  2001                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,size);
  2002                        ;				k_debug_integer("FAT roo
                    t_entry_count:",root_entry_count);
  2003                        ;				for(i=0; i<root_entry_co
  Thu Dec  3 2020 22:25                                                Page 41


                    unt; i++)
  2004                        ;				{
  2005                        ;					if(i * sizeof(FA
                    T16ENTRY) > (512 - sizeof(FAT16ENTRY)))
  2006                        ;					{
  2007                        ;
  2008                        ;					}
  2009                        ;
  2010                        ;					pentry = (PFAT16
                    ENTRY)&sectorBuffer[i * sizeof(FAT16ENTRY)];
  2011                        ;					data = print_fil
                    e_info(pentry);
  2012                        ;					if(data > 0)
  2013                        ;					{
  2014                        ;						k_debug_
                    long("bsOffset:",bsOffset);
  2015                        ;						k_debug_
                    long("Cluster Offset + bsOffset:",data + bsOffset);
  2016                        ;
  2017                        ;						//((N  
                    2) * BPB_SecPerClus) + FirstDataSector;
  2018                        ;
  2019                        ;						firstDat
                    aSector = (INT)fxdosDevice.bootSector.reserved_sector_count 
                    + ((INT)pFATBS->fat_table_count * 512) + fxdosDevice.rootDir
                    Sectors;
  2020                        ;
  2021                        ;
  2022                        ;						k_debug_
                    long("Cluster Offset Calculated:",((data - 2) * fxdosDevice.
                    sectors_per_cluster) + firstDataSector);
  2023                        ;
  2024                        ;						k_debug_
                    long("FAT Entry:",((UINT*)(&fxdosDevice.fileAllocationTable)
                    )[data]);
  2025                        ;
  2026                        ;
  2027                        ;						if(readS
                    DSector(data + bsOffset,fatfileBuffer) == 0)
  2028                        ;						{
  2029                        ;							
                    k_debug_byte_array("CONTENT:\r\n",fatfileBuffer,512);
  2030                        ;						}
  2031                        ;
  2032                        ;						if( memc
                    mp(pentry->filename,"TEST1",5) == 0 )
  2033                        ;						{
  2034                        ;							
                    //k_debug_string("** Found TEST1\r\n");
  2035                        ;							
                    //k_debug_long("** Found TEST1 size:",pentry->file_size);
  2036                        ;
  2037                        ;							
                    //memset(fatfileBuffer,0,512);
  2038                        ;							
                    memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_size);
  2039                        ;
  2040                        ;							
  Thu Dec  3 2020 22:25                                                Page 42


                    writeSDSector(data + bsOffset,fatfileBuffer);
  2041                        ;						}
  2042                        ;					}
  2043                        ;				}
  2044                        ;			}
  2045                        ;
  2046                        ;			/*
  2047                        ;			typedef struct _FXDosDevice
  2048                        ;			{
  2049                        ;				FATBOOTSECTOR  bootSecto
                    r;
  2050                        ;				PARTITIONTABLE partition
                    Table;
  2051                        ;				UCHAR 		   fileA
                    llocationTable[512];
  2052                        ;				ULONG		   bsOff
                    set;
  2053                        ;				ULONG 		   rootD
                    irSectors;
  2054                        ;				INT 		   root_
                    entry_count;
  2055                        ;				INT            rootEntri
                    esPerPage;
  2056                        ;				INT 		   secto
                    rs_per_cluster;
  2057                        ;				volume_name
  2058                        ;				UINT8		   error
                    Code;
  2059                        ;			}FXDOSDEVICE;
  2060                        ;				*/
  2061                        ;			rootEntriesPerPage = root_entry_
                    count/sizeof(FAT16ENTRY);
  2062                        ;			fxdosDevice.rootEntriesPerPage =
                     root_entry_count/sizeof(FAT16ENTRY);
  2063                        ;
  2064                        ;			for(i=0; i<rootEntriesPerPage; i
                    ++)
  2065                        ;			{
  2066                        ;				if(readSDSector(rootDirS
                    ectors,sectorBuffer) == 0)
  2067                        ;				{
  2068                        ;					for(x=0; x<rootE
                    ntriesPerPage; x++)
  2069                        ;					{
  2070                        ;						pentry =
                     (PFAT16ENTRY)&sectorBuffer[x * sizeof(FAT16ENTRY)];
  2071                        ;						data = p
                    rint_file_info(pentry);
  2072                        ;
  2073                        ;						/*
  2074                        ;						if(data 
                    && pFAT1)
  2075                        ;						{
  2076                        ;							
                    LPCHAR videoMem = SHADOW_BANK_0;
  2077                        ;
  2078                        ;							
                    k_debug_integer("FILE FIRST CLUSTER 1:",pentry->starting_clu
  Thu Dec  3 2020 22:25                                                Page 43


                    ster);
  2079                        ;
  2080                        ;							
                    next = pentry->starting_cluster;
  2081                        ;							
                    while(next!=65528L && next!=0L && next!=65535L)
  2082                        ;							
                    {
  2083                        ;							
                    	k_debug_integer("FILE FAT CLUSTER 2:",next);
  2084                        ;
  2085                        ;							
                    	if(next!=65528L && next!=0L && next!=65535L)
  2086                        ;							
                    	{
  2087                        ;							
                    		k_debug_integer("FILE FAT CLUSTER 3:",next);
  2088                        ;							
                    		if( memcmp(pentry->filename,"LOGO1",5) == 0 )
  2089                        ;							
                    		{
  2090                        ;							
                    			videoMem = readClusterToMemory(getCluste
                    rLocationByIndex(next) + bsOffset,sectors_per_cluster,videoM
                    em,pentry->file_size);
  2091                        ;							
                    		}
  2092                        ;							
                    		else
  2093                        ;							
                    		{
  2094                        ;							
                    			 videoMem = NULL;
  2095                        ;							
                    		}
  2096                        ;							
                    		next = pFAT1[next];
  2097                        ;							
                    	}
  2098                        ;							
                    }
  2099                        ;
  2100                        ;							
                    if(videoMem)
  2101                        ;							
                    {
  2102                        ;							
                    	readBitmapData(SHADOW_BANK_0);
  2103                        ;							
                    }
  2104                        ;						}
  2105                        ;						*/
  2106                        ;						/*
  2107                        ;						if(data 
                    > 0)
  2108                        ;						{
  2109                        ;							
                    if(readSDSector(data + bsOffset,fatfileBuffer) == 0)
  Thu Dec  3 2020 22:25                                                Page 44


  2110                        ;							
                    {
  2111                        ;							
                    	k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  2112                        ;							
                    }
  2113                        ;
  2114                        ;							
                    if( memcmp(pentry->filename,"TEST1",5) == 0 )
  2115                        ;							
                    {
  2116                        ;							
                    	//k_debug_string("** Found TEST1\r\n");
  2117                        ;							
                    	//k_debug_long("** Found TEST1 size:",pentry->file_size)
                    ;
  2118                        ;
  2119                        ;							
                    	//memset(fatfileBuffer,0,512);
  2120                        ;							
                    	memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_si
                    ze);
  2121                        ;
  2122                        ;							
                    	writeSDSector(data + bsOffset,fatfileBuffer);
  2123                        ;							
                    }
  2124                        ;						}
  2125                        ;						*/
  2126                        ;					}
  2127                        ;				}
  2128                        ;
  2129                        ;				rootDirSectors+=512;
  2130                        ;
  2131                        ;			}
  2132                        ;
  2133                        ;
  2134                        ;
  2135                        ;		}
  2136                        ;
  2137                        ;    }
  2138                        ;
  2139                        ;    GABE_MSTR_CTRL[0] = GABE_MSTR_CTRL[0] & (~GAB
                    E_CTRL_SDC_LED);
  2140                        ;
  2141                        ;	return 0;
  2142                        ;}
  2143                        ;
  2144                        ;
  2145                        ;
  2146                        ;UINT8 k_sd_reset_safe(VOID)
  2147                        ;{
  2148                        ;
  2149                        ;
  2150                        ;	INT x = 0;
  2151                        ;	INT i = 0;
  2152                        ;	INT size = 0;
  2153                        ;
  Thu Dec  3 2020 22:25                                                Page 45


  2154                        ;	UINT8	errorCode;
  2155                        ;	CHAR	byte;
  2156                        ;
  2157                        ;	//UINT8	fifoLO;
  2158                        ;	//UINT8	fifoHI;
  2159                        ;	UINT8	s;
  2160                        ;
  2161                        ;	ULONG next = -1;
  2162                        ;	INT root_entry_count     = 0;
  2163                        ;	INT rootEntriesPerPage	 = 0;
  2164                        ;	INT sectors_per_cluster  = 0;
  2165                        ;
  2166                        ;	PFATBOOTSECTOR pFATBS = NULL;
  2167                        ;	PPARTITIONTABLE pPartTable = NULL;
  2168                        ;	PFAT16ENTRY  pentry = NULL;
  2169                        ;	PUINT pFAT1 = NULL;
  2170                        ;
  2171                        ;	unsigned long offset = 0L;
  2172                        ;	unsigned long bsOffset = 0L;
  2173                        ;	unsigned long fatTable = 0L;
  2174                        ;	unsigned long rootDirSectors = 0L;// 0x010000D2;
  2175                        ;	unsigned long data = 0L;// 0x010000D2;
  2176                        ;
  2177                        ;	k_debug_string("***k_sd_reset_safe 1\r\n");
  2178                        ;
  2179                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  2180                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  2181                        ;
  2182                        ;    s = SDC_TRANS_BUSY;
  2183                        ;    while(s & SDC_TRANS_BUSY)
  2184                        ;    {
  2185                        ;    	s = SDC_TRANS_STATUS_REG[0];
  2186                        ;   	}
  2187                        ;
  2188                        ;    errorCode = SDC_TRANS_ERROR_REG[0];
  2189                        ;
  2190                        ;    k_debug_integer("***k_sd_reset errorCode:",er
                    rorCode);
  2191                        ;
  2192                        ;    if(!errorCode)
  2193                        ;    {
  2194                        ;		GABE_MSTR_CTRL[0] |= GABE_CTRL_SDC_LED;
  2195                        ;
  2196                        ;		errorCode = readSDSector(0,sectorBuffer)
                    ;
  2197                        ;
  2198                        ;		for(x=0;x<4;x++)
  2199                        ;		{
  2200                        ;			pPartTable = (PPARTITIONTABLE)&s
                    ectorBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)];
  2201                        ;
  2202                        ;			k_debug_hex ("***k_sd_reset firs
                    t_byte:",pPartTable->first_byte);
  2203                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs0:",pPartTable->start_chs[0]);
  2204                        ;			k_debug_hex ( "***k_sd_reset sta
                    rt_chs1:",pPartTable->start_chs[1]);
  2205                        ;			k_debug_hex ("***k_sd_reset star
  Thu Dec  3 2020 22:25                                                Page 46


                    t_chs2:",pPartTable->start_chs[2]);
  2206                        ;			k_debug_hex ("***k_sd_reset part
                    ition_type:",(INT)pPartTable->partition_type);
  2207                        ;			k_debug_hex ("***k_sd_reset end_
                    chs0:",pPartTable->end_chs[0]);
  2208                        ;			k_debug_hex ("***k_sd_reset end_
                    chs1:",pPartTable->end_chs[1]);
  2209                        ;			k_debug_hex ("***k_sd_reset end_
                    chs2:",pPartTable->end_chs[2]);
  2210                        ;			k_debug_long("***k_sd_reset star
                    t_sector:",pPartTable->start_sector);
  2211                        ;			k_debug_long("***k_sd_reset leng
                    th_sectors:",pPartTable->length_sectors);
  2212                        ;
  2213                        ;			if(pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS30 ||
  2214                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS33 ||
  2215                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS70)
  2216                        ;			{
  2217                        ;				k_debug_hex("FAT16 files
                    ystem found from partition:", pPartTable->partition_type);
  2218                        ;				break;
  2219                        ;			}
  2220                        ;		}
  2221                        ;
  2222                        ;		bsOffset = (pPartTable->start_sector * F
                    AT_PAGE_SIZE);
  2223                        ;
  2224                        ;		errorCode = readSDSector(bsOffset,sector
                    Buffer);
  2225                        ;		if(!errorCode)
  2226                        ;		{
  2227                        ;			pFATBS = (PFATBOOTSECTOR)sectorB
                    uffer;
  2228                        ;
  2229                        ;			k_debug_integer("***k_sd_reset b
                    ytes_per_sector:",(INT)pFATBS->bytes_per_sector);
  2230                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_cluster:",(INT)pFATBS->sectors_per_cluster);
  2231                        ;			k_debug_integer("***k_sd_reset r
                    eserved_sector_count:",(INT)pFATBS->reserved_sector_count);
  2232                        ;			k_debug_integer("***k_sd_reset t
                    able_count:",(INT)pFATBS->fat_table_count);
  2233                        ;			k_debug_integer("***k_sd_reset r
                    oot_entry_count:",(INT)pFATBS->root_entry_count);
  2234                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_16:",(INT)pFATBS->total_sectors_16);
  2235                        ;			k_debug_integer("***k_sd_reset m
                    edia_type:",(INT)pFATBS->media_type);
  2236                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_fat:",(INT)pFATBS->sectors_per_fat);
  2237                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_track:",(INT)pFATBS->sectors_per_track);
  2238                        ;			k_debug_integer("***k_sd_reset h
                    ead_side_count:",(INT)pFATBS->head_side_count);
  2239                        ;			k_debug_integer("***k_sd_reset h
  Thu Dec  3 2020 22:25                                                Page 47


                    idden_sector_count:",(INT)pFATBS->hidden_sector_count);
  2240                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_32:",(INT)pFATBS->total_sectors_32);
  2241                        ;
  2242                        ;			k_debug_nstring(pFATBS->vol_name
                    ,11);
  2243                        ;			k_debug_string("\r\n");
  2244                        ;			k_debug_nstring(pFATBS->file_sys
                    tem_type,8);
  2245                        ;			k_debug_string("\r\n");
  2246                        ;
  2247                        ;			root_entry_count = pFATBS->root_
                    entry_count;
  2248                        ;
  2249                        ;			fatTable       = bsOffset + (pFA
                    TBS->bytes_per_sector * pFATBS->reserved_sector_count);
  2250                        ;			rootDirSectors = bsOffset + (((U
                    LONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->sectors
                    _per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATBS-
                    >bytes_per_sector);
  2251                        ;			sectors_per_cluster = (INT)pFATB
                    S->sectors_per_cluster;
  2252                        ;
  2253                        ;			k_debug_long("***k_sd_reset fatT
                    able:",fatTable);
  2254                        ;
  2255                        ;
  2256                        ;			if(readSDSector(fatTable,sectorB
                    uffer) == 0)
  2257                        ;			{
  2258                        ;				pFAT1 = (PUINT)sectorBuf
                    fer;
  2259                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,512);
  2260                        ;				/*
  2261                        ;				i = 0;
  2262                        ;				x = 0xFFFF;
  2263                        ;				while(x)
  2264                        ;				{
  2265                        ;					x = ((INT*)fileA
                    llocationTable1)[i++];
  2266                        ;					k_debug_integer(
                    "FAT ENTRY:",x);
  2267                        ;				}
  2268                        ;				*/
  2269                        ;			}
  2270                        ;
  2271                        ;
  2272                        ;			//rootDirSectors = bsOffset + ((
                    (ULONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->secto
                    rs_per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATB
                    S->bytes_per_sector);
  2273                        ;
  2274                        ;			k_debug_long("***k_sd_reset root
                     offset:",rootDirSectors);
  2275                        ;
  2276                        ;			k_debug_long("***k_sd_reset root
                     sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  Thu Dec  3 2020 22:25                                                Page 48


  2277                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count:",root_entry_count);
  2278                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count/sizeof(FAT16ENTRY):",root_entry_count/size
                    of(FAT16ENTRY));
  2279                        ;
  2280                        ;			/*
  2281                        ;			if(readSDSector(rootDirSectors,s
                    ectorBuffer) == 0)
  2282                        ;			{
  2283                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,size);
  2284                        ;				//k_debug_integer("FAT r
                    oot_entry_count:",root_entry_count);
  2285                        ;				for(i=0; i<root_entry_co
                    unt; i++)
  2286                        ;				{
  2287                        ;					if(i * sizeof(FA
                    T16ENTRY) > (512 - sizeof(FAT16ENTRY)))
  2288                        ;					{
  2289                        ;
  2290                        ;					}
  2291                        ;
  2292                        ;					pentry = (PFAT16
                    ENTRY)&sectorBuffer[i * sizeof(FAT16ENTRY)];
  2293                        ;					data = print_fil
                    e_info(pentry);
  2294                        ;					if(data > 0)
  2295                        ;					{
  2296                        ;						if(readS
                    DSector(data + bsOffset,fatfileBuffer) == 0)
  2297                        ;						{
  2298                        ;							
                    k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  2299                        ;						}
  2300                        ;
  2301                        ;						if( memc
                    mp(pentry->filename,"TEST1",5) == 0 )
  2302                        ;						{
  2303                        ;							
                    //k_debug_string("** Found TEST1\r\n");
  2304                        ;							
                    //k_debug_long("** Found TEST1 size:",pentry->file_size);
  2305                        ;
  2306                        ;							
                    //memset(fatfileBuffer,0,512);
  2307                        ;							
                    memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_size);
  2308                        ;
  2309                        ;							
                    writeSDSector(data + bsOffset,fatfileBuffer);
  2310                        ;						}
  2311                        ;					}
  2312                        ;				}
  2313                        ;			}
  2314                        ;			*/
  2315                        ;
  2316                        ;			rootEntriesPerPage = root_entry_
  Thu Dec  3 2020 22:25                                                Page 49


                    count/sizeof(FAT16ENTRY);
  2317                        ;
  2318                        ;			for(i=0; i<rootEntriesPerPage; i
                    ++)
  2319                        ;			{
  2320                        ;				if(readSDSector(rootDirS
                    ectors,sectorBuffer) == 0)
  2321                        ;				{
  2322                        ;					for(x=0; x<rootE
                    ntriesPerPage; x++)
  2323                        ;					{
  2324                        ;						pentry =
                     (PFAT16ENTRY)&sectorBuffer[x * sizeof(FAT16ENTRY)];
  2325                        ;						data = p
                    rint_file_info(pentry);
  2326                        ;
  2327                        ;						/*
  2328                        ;						if(data 
                    && pFAT1)
  2329                        ;						{
  2330                        ;							
                    LPCHAR videoMem = SHADOW_BANK_0;
  2331                        ;
  2332                        ;							
                    k_debug_integer("FILE FIRST CLUSTER 1:",pentry->starting_clu
                    ster);
  2333                        ;
  2334                        ;							
                    next = pentry->starting_cluster;
  2335                        ;							
                    while(next!=65528L && next!=0L && next!=65535L)
  2336                        ;							
                    {
  2337                        ;							
                    	k_debug_integer("FILE FAT CLUSTER 2:",next);
  2338                        ;
  2339                        ;							
                    	if(next!=65528L && next!=0L && next!=65535L)
  2340                        ;							
                    	{
  2341                        ;							
                    		k_debug_integer("FILE FAT CLUSTER 3:",next);
  2342                        ;							
                    		if( memcmp(pentry->filename,"LOGO1",5) == 0 )
  2343                        ;							
                    		{
  2344                        ;							
                    			videoMem = readClusterToMemory(getCluste
                    rLocationByIndex(next) + bsOffset,sectors_per_cluster,videoM
                    em,pentry->file_size);
  2345                        ;							
                    		}
  2346                        ;							
                    		else
  2347                        ;							
                    		{
  2348                        ;							
                    			 videoMem = NULL;
  Thu Dec  3 2020 22:25                                                Page 50


  2349                        ;							
                    		}
  2350                        ;							
                    		next = pFAT1[next];
  2351                        ;							
                    	}
  2352                        ;							
                    }
  2353                        ;
  2354                        ;							
                    if(videoMem)
  2355                        ;							
                    {
  2356                        ;							
                    	readBitmapData(SHADOW_BANK_0);
  2357                        ;							
                    }
  2358                        ;						}
  2359                        ;						*/
  2360                        ;						/*
  2361                        ;						if(data 
                    > 0)
  2362                        ;						{
  2363                        ;							
                    if(readSDSector(data + bsOffset,fatfileBuffer) == 0)
  2364                        ;							
                    {
  2365                        ;							
                    	k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  2366                        ;							
                    }
  2367                        ;
  2368                        ;							
                    if( memcmp(pentry->filename,"TEST1",5) == 0 )
  2369                        ;							
                    {
  2370                        ;							
                    	//k_debug_string("** Found TEST1\r\n");
  2371                        ;							
                    	//k_debug_long("** Found TEST1 size:",pentry->file_size)
                    ;
  2372                        ;
  2373                        ;							
                    	//memset(fatfileBuffer,0,512);
  2374                        ;							
                    	memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_si
                    ze);
  2375                        ;
  2376                        ;							
                    	writeSDSector(data + bsOffset,fatfileBuffer);
  2377                        ;							
                    }
  2378                        ;						}
  2379                        ;						*/
  2380                        ;					}
  2381                        ;				}
  2382                        ;
  2383                        ;				rootDirSectors+=512;
  Thu Dec  3 2020 22:25                                                Page 51


  2384                        ;
  2385                        ;			}
  2386                        ;
  2387                        ;
  2388                        ;
  2389                        ;		}
  2390                        ;
  2391                        ;    }
  2392                        ;
  2393                        ;    GABE_MSTR_CTRL[0] = GABE_MSTR_CTRL[0] & (~GAB
                    E_CTRL_SDC_LED);
  2394                        ;
  2395                        ;	return 0;
  2396                        ;}
  2397                        ;
  2398                        ;#endif
  2399                        ;
  2400                        ;void k_sd_dos_init(PFXDOSDEVICE pfxdosDevice)
  2401                        ;{
  2402                        ;	UINT s = 0;
  2403                        ;
  2404                        ;	k_debug_string("k_sd_dos_init...\r\n");
  2405                        ;
  2406                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  2407                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  2408                        ;
  2409                        ;    s = SDC_TRANS_BUSY;
  2410                        ;    while(s & SDC_TRANS_BUSY)
  2411                        ;    {
  2412                        ;    	s = SDC_TRANS_STATUS_REG[0];
  2413                        ;   	}
  2414                        ;
  2415                        ;
  2416                        ;    pfxdosDevice->devstatus = SDC_TRANS_ERROR_REG
                    [0];
  2417                        ;    if(!pfxdosDevice->devstatus)
  2418                        ;    	pfxdosDevice->initialized = TRUE;
  2419                        ;
  2420                        ;    k_debug_bits("k_sd_dos_init:",pfxdosDevice->d
                    evstatus);
  2421                        ;}
  2422                        ;
  2423                        ;void k_hd_dos_init(PFXDOSDEVICE pfxdosDevice)
  2424                        ;{
  2425                        ;	k_debug_string("k_hd_dos_init...\r\n");
  2426                        ;
  2427                        ;	k_ide_init();
  2428                        ;
  2429                        ;	pfxdosDevice->initialized = TRUE;
  2430                        ;	pfxdosDevice->devdata = (PIDENTIFY_DEVICE_DATA)k
                    _ide_get_info();
  2431                        ;	pfxdosDevice->devstatus = 0;
  2432                        ;}
  2433                        ;
  2434                        ;void k_fd_dos_init(PFXDOSDEVICE pfxdosDevice)
  2435                        ;{
  2436                        ;	k_debug_string("k_fd_dos_init...\r\n");
  2437                        ;
  Thu Dec  3 2020 22:25                                                Page 52


  2438                        ;
  2439                        ;	pfxdosDevice->initialized = TRUE;
  2440                        ;	//floppy_init();
  2441                        ;	k_fd_init();
  2442                        ;}
  2443                        ;
  2444                        ;UCHAR k_read_fd_sector(unsigned long offset,LPCHA
                    R receiveBuffer)
  2445                        ;{
  2446                        ;	int pres = 0;
  2447                        ;	k_debug_long("k_read_fd_sector:",offset);
  2448                        ;
  2449                        ;	/*
  2450                        ;	offset = offset / 512;
  2451                        ;
  2452                        ;	if(offset == 0L)
  2453                        ;		memcpy(receiveBuffer,FAT12BOOT,512);
  2454                        ;	else if(offset == 19L)
  2455                        ;		memcpy(receiveBuffer,FAT12ROOT,512);
  2456                        ;
  2457                        ;	return 0;
  2458                        ;	*/
  2459                        ;	//pres = floppy_present();
  2460                        ;	k_debug_long("k_read_fd_sector():", pres);
  2461                        ;
  2462                        ;	//floppy_read(receiveBuffer, offset, 1);
  2463                        ;	k_fd_read_sector(receiveBuffer, offset);
  2464                        ;
  2465                        ;	return 0;
  2466                        ;}
  2467                        ;
  2468                        ;
  2469                        ;
  2470                        ;
  2471                        ;UINT8 k_sd_status(VOID)
  2472                        ;{
  2473                        ;	return 0;
  2474                        ;}
  2475                        ;
  2476                        ;BOOL k_sd_ispresent(void)
  2477                        ;{
  2478                        ;	UINT8 errorCode = 0;
  2479                        ;
  2480                        ;	errorCode = k_sd_initialize();
  2481                        ;	k_debug_integer("k_sd_ispresent:", errorCode);
  2482                        ;
  2483                        ;	if(errorCode)
  2484                        ;		return FALSE;
  2485                        ;	else
  2486                        ;		return TRUE;
  2487                        ;}
  2488                        ;
  2489                        ;UCHAR k_sd_waitforirq(void)
  2490                        ;{
  2491                        ;	return 0;
  2492                        ;}
  2493                        ;
  2494                        ;PFXDOSDEVICE k_sd_mount(void)
  Thu Dec  3 2020 22:25                                                Page 53


  2495                        ;{
  2496                        ;	PFXDOSDEVICE device = NULL;
  2497                        ;
  2498                        ;	if(k_sd_ispresent())
  2499                        ;	{
  2500                        ;		device = k_create_dos_device(FXDOS_SDC);
  2501                        ;	}
  2502                        ;
  2503                        ;	return device;
  2504                        ;}
  2505                        ;
  2506                        ;BOOL k_sd_openfile(LPCHAR filename)
  2507                        ;{
  2508                        ;	k_debug_string("k_sd_openfile::filename:");
  2509                        ;	k_debug_string(filename);
  2510                        ;	k_debug_string("\r\n");
  2511                        ;
  2512                        ;	return FALSE;
  2513                        ;}
  2514                        ;
  2515                        ;BOOL k_sd_setfilename(LPCHAR filename)
  2516                        ;{
  2517                        ;	k_debug_string("k_sd_setfilename::filename:");
  2518                        ;	k_debug_string(filename);
  2519                        ;	k_debug_string("\r\n");
  2520                        ;
  2521                        ;
  2522                        ;	return TRUE;
  2523                        ;}
  2524                        ;
  2525                        ;
  2526                        ;PFXNODE k_sd_read_dir(void)
  2527                        ;{
  2528                        ;	return NULL;
  2529                        ;}
  2530                        ;
  2531                        ;void k_sd_search_dir(LPCHAR searchString)
  2532                        ;{
  2533                        ;}
  2534                        ;
  2535                        ;
  2536                        ;UINT16 k_read_disk_sector(LPCHAR buf, UINT32 iLba
                    Start, UINT8 iSectorCount)
  2537                        ;{
  2538                        ;	return 0;
  2539                        ;}
  2540                        ;
  2541                        ;UINT8 k_sd_cmd_and_irq( UINT8 mCmd )
  2542                        ;{
  2543                        ;	return 0;
  2544                        ;}
  2545                        ;
  2546                        ;UINT8 k_sd_disk_req_sense( void )
  2547                        ;{
  2548                        ;	return 0;
  2549                        ;}
  2550                        ;
  2551                        ;BOOL k_sd_read_vol(PDISKINFO pdiskInfo)
  Thu Dec  3 2020 22:25                                                Page 54


  2552                        ;{
  2553                        ;	//k_sd_reset();
  2554                        ;
  2555                        ;	k_sd_test();
  2556                        ;
  2557                        ;	return FALSE;
  2558                        ;}
  2559                        ;
  2560                        ;BOOL k_sd_write_file(LPCHAR fileName,LPVOID fileB
                    uffer,UINT fileSize)
  2561                        ;{
  2562                        ;	return FALSE;
  2563                        ;}
  2564                        ;
  2565                        ;BOOL k_sd_read_file(LPCHAR fileName,LPVOID fileBu
                    ffer,UINT fileSize)
  2566                        ;{
  2567                        ;	return FALSE;
  2568                        ;}
  2569                        ;
  2570                        ;BOOL k_sd_create_dir(LPCHAR dirName)
  2571                        ;{
  2572                        ;	return FALSE;
  2573                        ;}
  2574                        ;
  2575                        ;BOOL k_sd_getdirinfo(P_FAT_DIR_INFO pdirName)
  2576                        ;{
  2577                        ;	return FALSE;
  2578                        ;}
  2579                        ;
  2580                        ;BOOL k_sd_delete(LPCHAR dirOrFileName)
  2581                        ;{
  2582                        ;	return FALSE;
  2583                        ;}
  2584                        ;
  2585                        ;BOOL k_sd_close(UCHAR update)
  2586                        ;{
  2587                        ;	return FALSE;
  2588                        ;}
  2589                        ;
  2590                        ;void k_sd_sendcmd(UCHAR command)
  2591                        ;{
  2592                        ;}
  2593                        ;
  2594                        ;void k_sd_senddta(UCHAR data)
  2595                        ;{
  2596                        ;}
  2597                        ;
  2598                        ;void k_sd_cmd_delay(void)
  2599                        ;{
  2600                        ;
  2601                        ;}
  2602                        ;
  2603                        ;void k_sd_dta_delay(void)
  2604                        ;{
  2605                        ;
  2606                        ;}
  2607                        ;
  Thu Dec  3 2020 22:25                                                Page 55


  2608                        ;
  2609                        ;UINT8 k_sd_createfile( LPCHAR name )
  2610                        ;{
  2611                        ;	return 0;
  2612                        ;}
  2613                        ;
  2614                        ;UINT8	k_sd_read_block( PUINT8 buf )
  2615                        ;{
  2616                        ;
  2617                        ;	return 0;
  2618                        ;}
  2619                        ;
  2620                        ;
  2621                        ;void k_sd_write_host_block( PUINT8 buf, UINT8 len
                     )
  2622                        ;{
  2623                        ;
  2624                        ;}
  2625                        ;
  2626                        ;void k_sd_write_ofs_blocks( PUINT8 buf, UINT8 ofs
                    , UINT8 len )
  2627                        ;{
  2628                        ;
  2629                        ;}
  2630                        ;
  2631                        ;UINT8 k_sd_byte_locate( UINT32 offset )
  2632                        ;{
  2633                        ;	return 0;
  2634                        ;}
  2635                        ;
  2636                        ;/*
  2637                        ;UINT8 k_sd_byte_read( PUINT8 buf, UINT16 ReqCount
                    , PUINT16 RealCount )
  2638                        ;{
  2639                        ;	UINT8	s;
  2640                        ;
  2641                        ;	k_debug_integer("k_sd_byte_read:",ReqCount);
  2642                        ;
  2643                        ;	xWriteCH376Cmd( CMD2H_BYTE_READ );
  2644                        ;	xWriteCH376Data( (UINT8)ReqCount );
  2645                        ;	xWriteCH376Data( (UINT8)(ReqCount>>8) );
  2646                        ;	xEndCH376Cmd( );
  2647                        ;	if ( RealCount ) *RealCount = 0;
  2648                        ;	while ( 1 )
  2649                        ;	{
  2650                        ;		s = k_sd_waitforirq( );
  2651                        ;		k_debug_integer("k_sd_byte_read:status:"
                    ,s);
  2652                        ;		if ( s == USB_INT_DISK_READ || s == USB_
                    INT_SUCCESS)
  2653                        ;		{
  2654                        ;			s = k_sd_read_block( buf );
  2655                        ;			xWriteCH376Cmd( CMD0H_BYTE_RD_GO
                     );
  2656                        ;			xEndCH376Cmd( );
  2657                        ;			buf += s;
  2658                        ;			if ( RealCount )
  2659                        ;				*RealCount += s;
  Thu Dec  3 2020 22:25                                                Page 56


  2660                        ;
  2661                        ;			k_debug_integer("k_sd_byte_read:
                    RealCount:",*RealCount);
  2662                        ;		}
  2663                        ;		//else if ( s == USB_INT_SUCCESS ) retur
                    n( s );
  2664                        ;		else return( s );
  2665                        ;	}
  2666                        ;}
  2667                        ;*/
  2668                        ;UINT8 k_sd_byte_read( PUINT8 buf, UINT16 ReqCount
                    , PUINT16 RealCount )
  2669                        ;{
  2670                        ;
  2671                        ;	return 0;
  2672                        ;}
  2673                        ;
  2674                        ;/*
  2675                        ;UINT8 k_sd_byte_write( LPCHAR buf, UINT16 ReqCoun
                    t, PUINT16 RealCount )
  2676                        ;{
  2677                        ;	UINT8	s;
  2678                        ;
  2679                        ;	k_debug_integer("k_sd_byte_write:",ReqCount);
  2680                        ;
  2681                        ;	xWriteCH376Cmd( CMD2H_BYTE_WRITE );
  2682                        ;	xWriteCH376Data( (UINT8)ReqCount );
  2683                        ;	xWriteCH376Data( (UINT8)(ReqCount>>8) );
  2684                        ;	xEndCH376Cmd( );
  2685                        ;	if ( RealCount ) *RealCount = 0;
  2686                        ;	while ( 1 )
  2687                        ;	{
  2688                        ;		s = k_sd_waitforirq( );
  2689                        ;		k_debug_integer("k_sd_byte_write:status1
                    :",s);
  2690                        ;		//if ( s == USB_INT_DISK_WRITE )
  2691                        ;		if ( s == USB_INT_SUCCESS ||  s == USB_I
                    NT_DISK_WRITE)
  2692                        ;		{
  2693                        ;			s = k_sd_write_req_block( buf );
  2694                        ;
  2695                        ;			xWriteCH376Cmd( CMD0H_BYTE_WR_GO
                     );
  2696                        ;			xEndCH376Cmd( );
  2697                        ;			buf += s;
  2698                        ;
  2699                        ;			if ( RealCount )
  2700                        ;			{
  2701                        ;				*RealCount += s;
  2702                        ;				if(*RealCount == ReqCoun
                    t)
  2703                        ;					return s;
  2704                        ;			}
  2705                        ;			k_debug_integer("k_sd_byte_write
                    :status2:",s);
  2706                        ;		}
  2707                        ;		//e-lse if ( s == USB_INT_SUCCESS ) retu
                    rn( s );
  Thu Dec  3 2020 22:25                                                Page 57


  2708                        ;		else return( s );
  2709                        ;	}
  2710                        ;}
  2711                        ;*/
  2712                        ;
  2713                        ;UINT8 k_sd_byte_write( LPCHAR buf, UINT16 ReqCoun
                    t, PUINT16 RealCount )
  2714                        ;{
  2715                        ;	return 0;
  2716                        ;}
  2717                        ;
  2718                        ;UINT8 k_sd_write_req_block( PUINT8 buf )
  2719                        ;{
  2720                        ;	return 0;
  2721                        ;}
  2722                        ;
  2723                        ;/*
  2724                        ;void k_sd_test_new(void)
  2725                        ;{
  2726                        ;	UINT8 s;
  2727                        ;	UINT16 j;
  2728                        ;
  2729                        ;	mDelaymS(100);
  2730                        ;
  2731                        ;	//mInitCH376Host();
  2732                        ;
  2733                        ;	if (k_sd_initialize())
  2734                        ;	{
  2735                        ;		k_debug_string("k_sd_test::initialized..
                    .\r\n");
  2736                        ;		if (k_sd_ispresent())
  2737                        ;		{
  2738                        ;			k_debug_string("k_sd_test::card 
                    present...\r\n");
  2739                        ;
  2740                        ;			if (k_sd_mount())
  2741                        ;			{
  2742                        ;				k_debug_string("k_sd_tes
                    t::card mounted...\r\n");
  2743                        ;
  2744                        ;				k_debug_string("k_sd_tes
                    t::k_sd_read_dir...\r\n");
  2745                        ;				s = CH376ReadBlock(buf);
  2746                        ;				if (s == sizeof(INQUIRY_
                    DATA))
  2747                        ;				{
  2748                        ;					buf[s] = 0;
  2749                        ;					k_debug_string("
                    UdiskInfo:");
  2750                        ;					k_debug_string(
  2751                        ;							
                    (char FAR*) ((P_INQUIRY_DATA) buf)->VendorIdStr);
  2752                        ;					k_debug_string("
                    \r\n");
  2753                        ;				}
  2754                        ;
  2755                        ;			}
  2756                        ;			else
  Thu Dec  3 2020 22:25                                                Page 58


  2757                        ;			{
  2758                        ;				k_debug_string("k_sd_tes
                    t::card NOT mounted...\r\n");
  2759                        ;			}
  2760                        ;		}
  2761                        ;		else
  2762                        ;		{
  2763                        ;			k_debug_string("k_sd_test::card 
                    NOT present...\r\n");
  2764                        ;		}
  2765                        ;	}
  2766                        ;	else
  2767                        ;	{
  2768                        ;		k_debug_string("k_sd_test::NOT initializ
                    ed...\r\n");
  2769                        ;	}
  2770                        ;
  2771                        ;}
  2772                        ;*/
  2773                        ;void k_sd_test(void)
  2774                        ;{
  2775                        ;
  2776                        ;	DISKINFO di;
  2777                        ;	FAT_DIR_INFO dirName;
  2778                        ;
  2779                        ;	if (k_sd_initialize())
  2780                        ;	{
  2781                        ;		k_debug_string("k_sd_test::initialized..
                    .\r\n");
  2782                        ;		if (k_sd_ispresent())
  2783                        ;		{
  2784                        ;			k_debug_string("k_sd_test::card 
                    present...\r\n");
  2785                        ;
  2786                        ;			if (k_sd_mount())
  2787                        ;			{
  2788                        ;				k_debug_string("k_sd_tes
                    t::card mounted...\r\n");
  2789                        ;
  2790                        ;				k_debug_string("k_sd_tes
                    t::k_sd_read_dir...\r\n");
  2791                        ;
  2792                        ;				//k_sd_read_vol(&di);
  2793                        ;				//k_sd_search_dir("*VOL"
                    );
  2794                        ;
  2795                        ;				//k_sd_read_dir();
  2796                        ;				/*
  2797                        ;				 k_sd_read_vol();
  2798                        ;
  2799                        ;				 if(k_sd_getdirinfo( &di
                    rName ))
  2800                        ;				 {
  2801                        ;				 k_debug_string("k_sd_ge
                    tdirinfo::ROOT:FAT_DIR_INFO.NAME:");
  2802                        ;				 k_debug_nstring(dirName
                    .DIR_Name,11);
  2803                        ;				 k_debug_string("\r\n");
  Thu Dec  3 2020 22:25                                                Page 59


  2804                        ;				 }
  2805                        ;				 */
  2806                        ;
  2807                        ;				/*
  2808                        ;				 k_debug_string("k_sd_te
                    st::k_sd_delete...\r\n");
  2809                        ;				 if(k_sd_delete("/NEWDIR
                    "))
  2810                        ;				 {
  2811                        ;				 k_debug_string("k_sd_te
                    st::k_sd_delete:DELETED\r\n");
  2812                        ;				 }
  2813                        ;				 else
  2814                        ;				 {
  2815                        ;				 k_debug_string("k_sd_te
                    st::k_sd_delete:NOT DELETED\r\n");
  2816                        ;				 }
  2817                        ;
  2818                        ;				 k_debug_string("k_sd_te
                    st::k_sd_create_dir...\r\n");
  2819                        ;				 if(k_sd_create_dir("/NE
                    WDIR"))
  2820                        ;				 {
  2821                        ;				 k_debug_string("k_sd_te
                    st::ck_sd_create_dir CREATED...\r\n");
  2822                        ;				 }
  2823                        ;				 else
  2824                        ;				 {
  2825                        ;				 k_debug_string("k_sd_te
                    st::ck_sd_create_dir:NOT CREATED\r\n");
  2826                        ;				 }
  2827                        ;
  2828                        ;				 k_debug_string("k_sd_te
                    st::k_sd_read_dir...\r\n");
  2829                        ;				 k_sd_read_dir();
  2830                        ;				 */
  2831                        ;			}
  2832                        ;			else
  2833                        ;			{
  2834                        ;				k_debug_string("k_sd_tes
                    t::card NOT mounted...\r\n");
  2835                        ;			}
  2836                        ;		}
  2837                        ;		else
  2838                        ;		{
  2839                        ;			k_debug_string("k_sd_test::card 
                    NOT present...\r\n");
  2840                        ;		}
  2841                        ;	}
  2842                        ;	else
  2843                        ;	{
  2844                        ;		k_debug_string("k_sd_test::NOT initializ
                    ed...\r\n");
  2845                        ;	}
  2846                        ;}
  2847                        ;
  2848                        ;
  2849                        ;#endif
  Thu Dec  3 2020 22:25                                                Page 60


  2850                        ;
  2851                        ;
  2852                        	.line	1359
  2853                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\DRIVER_FMXSDCard.c",68
  2854                        	udata
  2855                        ~~longnameBuffer
  2856 00:0000:              	ds	255
  2857 00:00FF:              	ends
  2858                        	udata
  2859                        ~~longnamecount
  2860 00:00FF:              	ds	1
  2861 00:0100:              	ends
  2862                        	udata
  2863                        ~~fatfileBuffer
  2864 00:0100:              	ds	512
  2865 00:0300:              	ends
  2866                        	udata
  2867                        ~~sectorBuffer
  2868 00:0300:              	ds	512
  2869 00:0500:              	ends
  2870                        	udata
  2871                        ~~buf
  2872 00:0500:              	ds	64
  2873 00:0540:              	ends
  2874                        	.sym	~~DRIVER_FMXSDCard,~~DRIVER_FMXSDCard,10
                    ,2,1416,48
  2875                        	.sym	~~longnameBuffer,~~longnameBuffer,110,3,
                    0,255
  2876                        	.sym	~~longnamecount,~~longnamecount,14,3,8
  2877                        	.sym	~~fatfileBuffer,~~fatfileBuffer,110,3,0,
                    512
  2878                        	.sym	~~sectorBuffer,~~sectorBuffer,110,3,0,51
                    2
  2879                        	.sym	~~buf,~~buf,110,3,0,64
  2880                        	.sym	~~sd_card_dir_string,~~sd_card_dir_strin
                    g,110,3,0,3
  2881                        	.sym	P_CH376_CMD_DATA,0,139,14,32,121
  2882                        	.sym	CH376_CMD_DATA,0,11,14,288,121
  2883                        	.sym	P_SENSE_DATA,0,138,14,32,105
  2884                        	.sym	SENSE_DATA,0,10,14,144,105
  2885                        	.sym	P_INQUIRY_DATA,0,138,14,32,104
  2886                        	.sym	INQUIRY_DATA,0,10,14,288,104
  2887                        	.sym	P_BULK_ONLY_CBW,0,138,14,32,103
  2888                        	.sym	BULK_ONLY_CBW,0,10,14,248,103
  2889                        	.sym	P_FAT_DIR_INFO,0,138,14,32,102
  2890                        	.sym	FAT_DIR_INFO,0,10,14,256,102
  2891                        	.sym	PUINT8V,0,142,14,32
  2892                        	.sym	UINT8V,0,14,14,8
  2893                        	.sym	PUINT32,0,146,14,32
  2894                        	.sym	PUINT16,0,143,14,32
  2895                        	.sym	PUINT8,0,142,14,32
  2896                        	.sym	UINT32,0,18,14,32
  2897                        	.sym	UINT16,0,15,14,16
  2898                        	.sym	UINT8,0,14,14,8
  2899                        	.sym	PFXDOSDEVICE,0,138,14,32,101
  2900                        	.sym	FXDOSDEVICE,0,10,14,5648,101
  2901                        	.sym	DOSINITDEVICE,0,641,14,32
  Thu Dec  3 2020 22:25                                                Page 61


  2902                        	.sym	DOSSECTORWRITER,0,654,14,32
  2903                        	.sym	DOSSECTORREADER,0,654,14,32
  2904                        	.sym	PIDENTIFY_DEVICE_DATA,0,138,14,32,100
  2905                        	.sym	IDENTIFY_DEVICE_DATA,0,10,14,4096,100
  2906                        	.sym	PIDSECTOR,0,138,14,32,77
  2907                        	.sym	IDSECTOR,0,10,14,2048,77
  2908                        	.sym	PLFN,0,138,14,32,76
  2909                        	.sym	LFN,0,10,14,256,76
  2910                        	.sym	PFAT16ENTRYLONG,0,138,14,32,75
  2911                        	.sym	FAT16ENTRYLONG,0,10,14,288,75
  2912                        	.sym	PFAT16ENTRY,0,138,14,32,74
  2913                        	.sym	FAT16ENTRY,0,10,14,256,74
  2914                        	.sym	Fat16BootSector,0,10,14,4096,73
  2915                        	.sym	PPARTITIONTABLE,0,138,14,32,72
  2916                        	.sym	PARTITIONTABLE,0,10,14,128,72
  2917                        	.sym	PFATBOOTSECTOR,0,138,14,32,71
  2918                        	.sym	FATBOOTSECTOR,0,10,14,928,71
  2919                        	.sym	fat_BS_t,0,10,14,688,70
  2920                        	.sym	fat_extBS_16_t,0,10,14,192,69
  2921                        	.sym	PFAT32EXT,0,138,14,32,68
  2922                        	.sym	fat_extBS_32_t,0,10,14,416,68
  2923                        	.sym	P_FX_FAT_DIR_INFO,0,138,14,32,67
  2924                        	.sym	FX_FAT_DIR_INFO,0,10,14,256,67
  2925                        	.sym	PFILEINFO,0,138,14,32,66
  2926                        	.sym	FILEINFO,0,10,14,136,66
  2927                        	.sym	PDISKINFO,0,138,14,32,65
  2928                        	.sym	DISKINFO,0,10,14,416,65
  2929                        	.sym	PDIRENTRY,0,138,14,32,64
  2930                        	.sym	DIRENTRY,0,10,14,256,64
  2931                        	.sym	PCOMMANDARGS,0,138,14,32,63
  2932                        	.sym	COMMANDARGS,0,10,14,64,63
  2933                        	.sym	PTOKENIZESTATE,0,133,14,32
  2934                        	.sym	TOKENIZESTATE,0,5,14,16
  2935                        	.sym	PTOKEN,0,138,14,32,62
  2936                        	.sym	TOKEN,0,10,14,64,62
  2937                        	.sym	PTOKENTYPE,0,133,14,32
  2938                        	.sym	TOKENTYPE,0,5,14,16
  2939                        	.sym	FXCommandHandler,0,656,14,32
  2940                        	.sym	PCONSOLECTX,0,138,14,32,61
  2941                        	.sym	CONSOLECTX,0,10,14,1144,61
  2942                        	.sym	PSPINNERCTX,0,138,14,32,60
  2943                        	.sym	SPINNERCTX,0,10,14,48,60
  2944                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,59
  2945                        	.sym	MOUSE_MSG_STATE,0,10,14,184,59
  2946                        	.sym	PFXEVENTPROCESS,0,138,14,32,58
  2947                        	.sym	FXEVENTPROCESS,0,10,14,64,58
  2948                        	.sym	FXEventProc,0,641,14,32
  2949                        	.sym	PMOUSEMSGDATA,0,138,14,32,57
  2950                        	.sym	MOUSEMSGDATA,0,10,14,64,57
  2951                        	.sym	MSGIRQ,0,5,14,16
  2952                        	.sym	MAINLOOPARGS,0,10,14,16,56
  2953                        	.sym	PEACHCHILD_MSG,0,138,14,32,55
  2954                        	.sym	EACHCHILD_MSG,0,10,14,64,55
  2955                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,54
  2956                        	.sym	CUR_PALETTE_MAP,0,10,14,400,54
  2957                        	.sym	PCLICKDETECTED,0,138,14,32,53
  2958                        	.sym	CLICKDETECTED,0,10,14,64,53
  2959                        	.sym	OBJECTCLICKED,0,641,14,32
  Thu Dec  3 2020 22:25                                                Page 62


  2960                        	.sym	MemoryCallback,0,641,14,32
  2961                        	.sym	PFXMEMORYMAP,0,138,14,32,52
  2962                        	.sym	FXMEMORYMAP,0,10,14,2072,52
  2963                        	.sym	UMM_HEAP_INFO,0,10,14,256,51
  2964                        	.sym	PFXSTRING,0,138,14,32,50
  2965                        	.sym	FXSTRING,0,10,14,64,50
  2966                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
  2967                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
  2968                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
  2969                        	.sym	DEVICEDRIVER_READ,0,656,14,32
  2970                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
  2971                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,49
  2972                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,49
  2973                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,48
  2974                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,48
  2975                        	.sym	PDEBUGBYTEBITS,0,138,14,32,47
  2976                        	.sym	DEBUGBYTEBITS,0,10,14,8,47
  2977                        	.sym	PFXENVIRONMENT,0,138,14,32,46
  2978                        	.sym	FXENVIRONMENT,0,10,14,96,46
  2979                        	.sym	PFXZERPOPAGE,0,138,14,32,45
  2980                        	.sym	FXZERPOPAGE,0,10,14,448,45
  2981                        	.sym	KERNELTRAPCALL,0,641,14,32
  2982                        	.sym	FOREACHNODEUNTIL,0,654,14,32
  2983                        	.sym	FOREACHNODE,0,641,14,32
  2984                        	.sym	PFXCOMBUFFER,0,138,14,32,44
  2985                        	.sym	FXCOMBUFFER,0,10,14,2080,44
  2986                        	.sym	PSUBMENULIST,0,138,14,32,43
  2987                        	.sym	SUBMENULIST,0,10,14,40,43
  2988                        	.sym	HSUBMENU,0,7,14,32
  2989                        	.sym	PSUBMENU,0,138,14,32,42
  2990                        	.sym	SUBMENU,0,10,14,64,42
  2991                        	.sym	MenuAction,0,641,14,32
  2992                        	.sym	PMENUANCHOR,0,138,14,32,41
  2993                        	.sym	MENUANCHOR,0,10,14,144,41
  2994                        	.sym	PTEXTBOX,0,138,14,32,40
  2995                        	.sym	TEXTBOX,0,10,14,144,40
  2996                        	.sym	PLISTBOX,0,138,14,32,39
  2997                        	.sym	LISTBOX,0,10,14,240,39
  2998                        	.sym	PSCROLLBAR,0,138,14,32,38
  2999                        	.sym	SCROLLBAR,0,10,14,192,38
  3000                        	.sym	PBUTTON,0,138,14,32,37
  3001                        	.sym	BUTTON,0,10,14,80,37
  3002                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,36
  3003                        	.sym	MENUDROPDOWNDATA,0,10,14,3568,36
  3004                        	.sym	PMENUTAG,0,138,14,32,35
  3005                        	.sym	MENUTAG,0,10,14,112,35
  3006                        	.sym	PMENU,0,138,14,32,34
  3007                        	.sym	MENU,0,10,14,248,34
  3008                        	.sym	HMENURESOURCE,0,129,14,32
  3009                        	.sym	HTEXTBOX,0,7,14,32
  3010                        	.sym	PTEXTBOXX,0,138,14,32,33
  3011                        	.sym	TEXTBOXX,0,10,14,112,33
  3012                        	.sym	FONTMETRIC,0,10,14,32,32
  3013                        	.sym	TITLE,0,142,14,32
  3014                        	.sym	PHANDLE,0,1153,14,32
  3015                        	.sym	HANDLE,0,129,14,32
  3016                        	.sym	PWINDOWEX,0,138,14,32,31
  3017                        	.sym	WINDOWEX,0,10,14,2704,31
  Thu Dec  3 2020 22:25                                                Page 63


  3018                        	.sym	PWINDOW,0,138,14,32,30
  3019                        	.sym	WINDOW,0,10,14,2808,30
  3020                        	.sym	PDRAGDATA,0,138,14,32,29
  3021                        	.sym	DRAGDATA,0,10,14,136,29
  3022                        	.sym	PNCCLICKABLE,0,138,14,32,28
  3023                        	.sym	NCCLICKABLE,0,10,14,88,28
  3024                        	.sym	HCLICKABLE,0,7,14,32
  3025                        	.sym	PCLICKABLE,0,138,14,32,27
  3026                        	.sym	CLICKABLE,0,10,14,88,27
  3027                        	.sym	PWNDCLASS,0,138,14,32,26
  3028                        	.sym	WNDCLASS,0,10,14,256,26
  3029                        	.sym	HBRUSH,0,129,14,32
  3030                        	.sym	HCURSOR,0,129,14,32
  3031                        	.sym	HICON,0,129,14,32
  3032                        	.sym	HINSTANCE,0,129,14,32
  3033                        	.sym	FXWndProc,0,654,14,32
  3034                        	.sym	PRECT,0,138,14,32,25
  3035                        	.sym	RECT,0,10,14,64,25
  3036                        	.sym	PPOINT,0,138,14,32,24
  3037                        	.sym	POINT,0,10,14,32,24
  3038                        	.sym	PFXPROPERTY,0,138,14,32,22
  3039                        	.sym	FXPROPERTY,0,10,14,384,22
  3040                        	.sym	SCANCODE,0,14,14,8
  3041                        	.sym	KEYCODE,0,14,14,8
  3042                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
  3043                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
  3044                        	.sym	PFXPROCESS,0,138,14,32,20
  3045                        	.sym	FXPROCESS,0,10,14,800,20
  3046                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
  3047                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
  3048                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
  3049                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
  3050                        	.sym	FXProcessProc,0,641,14,32
  3051                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
  3052                        	.sym	FXCMDMESSAGE,0,10,14,304,17
  3053                        	.sym	PFXOSMESSAGE,0,138,14,32,16
  3054                        	.sym	FXOSMESSAGE,0,10,14,304,16
  3055                        	.sym	PINT_REGS,0,138,14,32,15
  3056                        	.sym	INT_REGS,0,10,14,104,15
  3057                        	.sym	TASK_STACK,0,10,14,32,14
  3058                        	.sym	TASK,0,10,14,48,13
  3059                        	.sym	PIRQDATA,0,138,14,32,12
  3060                        	.sym	IRQDATA,0,10,14,48,12
  3061                        	.sym	HMENU,0,129,14,32
  3062                        	.sym	HWND,0,129,14,32
  3063                        	.sym	MSGDATA,0,14,14,8
  3064                        	.sym	MSGDEST,0,18,14,32
  3065                        	.sym	MSGSRC,0,18,14,32
  3066                        	.sym	MSGTYPE,0,16,14,16
  3067                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
  3068                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
  3069                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
  3070                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
  3071                        	.sym	FILE_PATH_LIST,0,138,14,32,6
  3072                        	.sym	PROCEDURE_LIST,0,138,14,32,6
  3073                        	.sym	FILE_HANDLE,0,138,14,32,11
  3074                        	.sym	FILE_BLOCK,0,10,14,552,11
  3075                        	.sym	SEMAPHORE,0,10,14,16,10
  Thu Dec  3 2020 22:25                                                Page 64


  3076                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
  3077                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
  3078                        	.sym	KRESULT,0,18,14,32
  3079                        	.sym	PKERNEL_ERROR,0,138,14,32,8
  3080                        	.sym	KERNEL_ERROR,0,10,14,32,8
  3081                        	.sym	PROCESS_STATUS,0,16,14,16
  3082                        	.sym	FILE_PATH_NAME,0,142,14,32
  3083                        	.sym	PROCESS_RESOURCE,0,129,14,32
  3084                        	.sym	PROCESS_TLS,0,129,14,32
  3085                        	.sym	PROCESS_CTX,0,129,14,32
  3086                        	.sym	USERID,0,16,14,16
  3087                        	.sym	PROCESS_ID,0,18,14,32
  3088                        	.sym	PROCESS_BANK,0,14,14,8
  3089                        	.sym	PFXQUEUE,0,138,14,32,7
  3090                        	.sym	FXQUEUE,0,10,14,80,7
  3091                        	.sym	PFXNODELIST,0,138,14,32,6
  3092                        	.sym	FXNODELIST,0,10,14,96,6
  3093                        	.sym	NodeListDeallocator,0,641,14,32
  3094                        	.sym	PFXNODE,0,138,14,32,5
  3095                        	.sym	FXNODE,0,10,14,384,5
  3096                        	.sym	PBYTEBITS,0,138,14,32,4
  3097                        	.sym	BYTEBITS,0,10,14,8,4
  3098                        	.sym	HCOLOR,0,129,14,32
  3099                        	.sym	HFONT,0,129,14,32
  3100                        	.sym	HDC,0,129,14,32
  3101                        	.sym	HPOINTER,0,129,14,32
  3102                        	.sym	uint32_t,0,18,14,32
  3103                        	.sym	uint8_t,0,14,14,8
  3104                        	.sym	PFAR,0,142,14,32
  3105                        	.sym	LPBOOL,0,142,14,32
  3106                        	.sym	BOOL,0,14,14,8
  3107                        	.sym	DWORD,0,18,14,32
  3108                        	.sym	ULONG,0,18,14,32
  3109                        	.sym	LPLONG,0,135,14,32
  3110                        	.sym	LONG,0,7,14,32
  3111                        	.sym	PUINT,0,144,14,32
  3112                        	.sym	USHORT,0,16,14,16
  3113                        	.sym	UINT,0,16,14,16
  3114                        	.sym	INT,0,5,14,16
  3115                        	.sym	WORD,0,5,14,16
  3116                        	.sym	PBYTE,0,142,14,32
  3117                        	.sym	BYTE,0,14,14,8
  3118                        	.sym	UCHAR,0,14,14,8
  3119                        	.sym	LPWCSTR,0,142,14,32
  3120                        	.sym	LPCSTR,0,142,14,32
  3121                        	.sym	LPSTR,0,142,14,32
  3122                        	.sym	LPCHAR,0,142,14,32
  3123                        	.sym	CHAR,0,14,14,8
  3124                        	.sym	LPVOID,0,129,14,32
  3125                        	.sym	VOID,0,1,14,32
  3126                        	.sym	Boolean_T,0,5,14,16
  3127                        	.sym	ldiv_t,0,10,14,64,2
  3128                        	.sym	div_t,0,10,14,32,1
  3129                        	.sym	wctype_t,0,16,14,16
  3130                        	.sym	wint_t,0,16,14,16
  3131                        	.sym	wchar_t,0,14,14,8
  3132                        	.sym	ptrdiff_t,0,7,14,32
  3133                        	.sym	size_t,0,16,14,16
  Thu Dec  3 2020 22:25                                                Page 65


  3134                        	end


      Lines assembled: 3134
      Errors: 0
