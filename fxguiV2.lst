  Thu Dec  3 2020 22:25                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Thu Dec  3 2020 22:25                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Thu Dec  3 2020 22:25                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,304,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.eos
   116                        	.stag	_fx_cmdMessage,304,17
   117                        	.member	src,0,18,8,32
   118                        	.member	dest,32,18,8,32
   119                        	.member	type,64,16,8,16
   120                        	.member	hwnd,80,129,8,32
   121                        	.member	pheap,112,129,8,32
   122                        	.member	msgTime,144,18,8,32
   123                        	.member	cmdCId,176,16,8,16
   124                        	.member	cmdMId,192,16,8,16
   125                        	.member	parameter1,208,18,8,32
   126                        	.member	parameter2,240,18,8,32
   127                        	.member	parameter3,272,18,8,32
   128                        	.eos
   129                        	.stag	_fx_console_ctl,448,18
   130                        	.member	maxCols,0,5,8,16
   131                        	.member	maxRows,16,5,8,16
   132                        	.member	curX,32,5,8,16
   133                        	.member	curY,48,5,8,16
   134                        	.member	fgColor,64,5,8,16
   135                        	.member	bgColor,80,5,8,16
   136                        	.member	mode,96,14,8,8
   137                        	.member	kbBuffer,104,101,8,0,16
   138                        	.member	screenBuffer,360,142,8,32
   139                        	.member	desktopMode,392,14,8,8
   140                        	.member	lastMouseButton,400,5,8,16
   141                        	.member	lastMouseX,416,5,8,16
   142                        	.member	lastMouseY,432,5,8,16
   143                        	.eos
   144                        	.stag	_fx_desktop_ctl,392,19
   145                        	.member	desktopMode,0,14,8,8
   146                        	.member	cursorCtl,8,5,8,16
   147                        	.member	cursorState,24,5,8,16
   148                        	.member	backgroundColor,40,5,8,16
   149                        	.member	foregroundColor,56,5,8,16
   150                        	.member	menuMode,72,5,8,16
   151                        	.member	lastMouseButton,88,5,8,16
   152                        	.member	lastMouseX,104,5,8,16
   153                        	.member	lastMouseY,120,5,8,16
   154                        	.member	currentDiskName,136,142,8,32
   155                        	.member	diskNodes,168,129,8,32
   156                        	.member	titleNodes,200,129,8,32
   157                        	.member	menuNodes,232,129,8,32
  Thu Dec  3 2020 22:25                                                Page 4


   158                        	.member	iconNodes,264,129,8,32
   159                        	.member	windowNodes,296,129,8,32
   160                        	.member	fontNodes,328,129,8,32
   161                        	.member	wndProc,360,138,8,32,6
   162                        	.eos
   163                        	.stag	_fx_process,800,20
   164                        	.member	cbSize,0,5,8,16
   165                        	.member	procId,16,18,8,32
   166                        	.member	parentId,48,18,8,32
   167                        	.member	ctx,80,129,8,32
   168                        	.member	userId,112,16,8,16
   169                        	.member	status,128,16,8,16
   170                        	.member	foregroundActive,144,14,8,8
   171                        	.member	tls,152,1121,8,32,8
   172                        	.member	commandLine,408,142,8,32
   173                        	.member	semaphores,440,138,8,32,6
   174                        	.member	fileHandles,472,138,8,32,6
   175                        	.member	pathList,504,138,8,32,6
   176                        	.member	resources,536,138,8,32,6
   177                        	.member	timerAware,568,14,8,8
   178                        	.member	timerTicks,576,112,8,0,2
   179                        	.member	timerTickCount,608,112,8,0,2
   180                        	.member	kernelError,640,10,8,32,8
   181                        	.member	consoleCtl,672,138,8,32,18
   182                        	.member	desktopCtl,704,138,8,32,19
   183                        	.member	execProc,736,641,8,32
   184                        	.member	startupArgs,768,129,8,32
   185                        	.eos
   186                        	.stag	_fxProcessMessage,112,21
   187                        	.member	src,0,18,8,32
   188                        	.member	dest,32,18,8,32
   189                        	.member	type,64,16,8,16
   190                        	.member	processInfo,80,138,8,32,20
   191                        	.eos
   192                        	.stag	_fx_property,384,22
   193                        	.member	name,0,110,8,0,16
   194                        	.member	value,128,110,8,0,32
   195                        	.eos
   196                        	.utag	_24bitPointer,32,23
   197                        	.member	address,0,142,11,32
   198                        	.member	bytes,0,110,11,0,4
   199                        	.eos
   200                        	.stag	_PointStruct,32,24
   201                        	.member	x,0,5,8,16
   202                        	.member	y,16,5,8,16
   203                        	.eos
   204                        	.stag	_RectStruct,64,25
   205                        	.member	x,0,5,8,16
   206                        	.member	y,16,5,8,16
   207                        	.member	width,32,5,8,16
   208                        	.member	height,48,5,8,16
   209                        	.eos
   210                        	.stag	_k_WindowClass,256,26
   211                        	.member	cbSize,0,16,8,16
   212                        	.member	style,16,16,8,16
   213                        	.member	pWndProc,32,654,8,32
   214                        	.member	hInstance,64,129,8,32
   215                        	.member	hIcon,96,129,8,32
  Thu Dec  3 2020 22:25                                                Page 5


   216                        	.member	hCursor,128,129,8,32
   217                        	.member	hbrBackground,160,129,8,32
   218                        	.member	lpszMenuName,192,142,8,32
   219                        	.member	lpszClassName,224,142,8,32
   220                        	.eos
   221                        	.stag	_ClickableRect,88,27
   222                        	.member	area,0,10,8,64,25
   223                        	.member	z,64,5,8,16
   224                        	.member	enabled,80,14,8,8
   225                        	.eos
   226                        	.stag	_NCClickableRect,88,28
   227                        	.member	area,0,10,8,64,25
   228                        	.member	msgType,64,16,8,16
   229                        	.member	enabled,80,14,8,8
   230                        	.eos
   231                        	.stag	_DragData,136,29
   232                        	.member	area,0,10,8,64,25
   233                        	.member	xoffset,64,5,8,16
   234                        	.member	yoffset,80,5,8,16
   235                        	.member	msgType,96,16,8,16
   236                        	.member	isDrag,112,14,8,8
   237                        	.member	canDrag,120,14,8,8
   238                        	.member	canDrop,128,14,8,8
   239                        	.eos
   240                        	.stag	_k_WindowStruct,2808,30
   241                        	.member	cbSize,0,16,8,16
   242                        	.member	style,16,18,8,32
   243                        	.member	win_id,48,5,8,16
   244                        	.member	win_x,64,5,8,16
   245                        	.member	win_y,80,5,8,16
   246                        	.member	win_width,96,5,8,16
   247                        	.member	win_height,112,5,8,16
   248                        	.member	wndRect,128,10,8,64,25
   249                        	.member	clientRect,192,10,8,64,25
   250                        	.member	nonclientGadgets,256,106,8,0,28,16
   251                        	.member	clickable,1664,129,8,32
   252                        	.member	win_title,1696,110,8,0,32
   253                        	.member	Reserved0,1952,16,8,16
   254                        	.member	win_class,1968,110,8,0,16
   255                        	.member	win_class_name,2096,110,8,0,32
   256                        	.member	nBitmapLayer,2352,16,8,16
   257                        	.member	procid,2368,18,8,32
   258                        	.member	pWndClass,2400,138,8,32,26
   259                        	.member	pParentWindow,2432,129,8,32
   260                        	.member	hMenu,2464,129,8,32
   261                        	.member	pChildWindows,2496,138,8,32,6
   262                        	.member	pChildHitList,2528,138,8,32,6
   263                        	.member	isVisible,2560,14,8,8
   264                        	.member	windowData,2568,129,8,32
   265                        	.member	clientData,2600,1121,8,32,6
   266                        	.member	isClosed,2792,14,8,8
   267                        	.member	isClosing,2800,14,8,8
   268                        	.eos
   269                        	.stag	_k_WindowStructEx,2704,31
   270                        	.member	cbSize,0,16,8,16
   271                        	.member	style,16,18,8,32
   272                        	.member	win_id,48,5,8,16
   273                        	.member	win_x,64,5,8,16
  Thu Dec  3 2020 22:25                                                Page 6


   274                        	.member	win_y,80,5,8,16
   275                        	.member	win_width,96,5,8,16
   276                        	.member	win_height,112,5,8,16
   277                        	.member	wndRect,128,10,8,64,25
   278                        	.member	clientRect,192,10,8,64,25
   279                        	.member	nonclientGadgets,256,106,8,0,28,16
   280                        	.member	clickable,1664,129,8,32
   281                        	.member	win_title,1696,110,8,0,32
   282                        	.member	Reserved0,1952,16,8,16
   283                        	.member	win_class,1968,110,8,0,16
   284                        	.member	nBitmapLayer,2096,16,8,16
   285                        	.member	procid,2112,18,8,32
   286                        	.member	pWndClass,2144,138,8,32,26
   287                        	.member	pParentWindow,2176,129,8,32
   288                        	.member	hMenu,2208,129,8,32
   289                        	.member	pChildWindows,2240,138,8,32,6
   290                        	.member	pChildHitList,2272,138,8,32,6
   291                        	.member	isVisible,2304,14,8,8
   292                        	.member	windowData,2312,129,8,32
   293                        	.member	clientData,2344,1121,8,32,4
   294                        	.member	isClosed,2472,14,8,8
   295                        	.member	hWnd,2480,129,8,32
   296                        	.member	localRect,2512,10,8,64,25
   297                        	.member	globalRect,2576,10,8,64,25
   298                        	.member	clientOffsetRect,2640,10,8,64,25
   299                        	.eos
   300                        	.stag	_FontMetric,32,32
   301                        	.member	width,0,5,8,16
   302                        	.member	height,16,5,8,16
   303                        	.eos
   304                        	.stag	_ctl_Textbox,112,33
   305                        	.member	win_id,0,5,8,16
   306                        	.member	win_x,16,5,8,16
   307                        	.member	win_y,32,5,8,16
   308                        	.member	win_width,48,5,8,16
   309                        	.member	win_height,64,5,8,16
   310                        	.member	content,80,1166,8,32
   311                        	.eos
   312                        	.stag	_MenuStruct,248,34
   313                        	.member	cx,0,5,8,16
   314                        	.member	cy,16,5,8,16
   315                        	.member	width,32,5,8,16
   316                        	.member	height,48,5,8,16
   317                        	.member	fcolor,64,14,8,8
   318                        	.member	bcolor,72,14,8,8
   319                        	.member	chromeLeft,80,14,8,8
   320                        	.member	chromeRight1,88,14,8,8
   321                        	.member	chromeRight2,96,14,8,8
   322                        	.member	itemId,104,16,8,16
   323                        	.member	pCaption,120,142,8,32
   324                        	.member	subMenus,152,138,8,32,6
   325                        	.member	pBackground,184,129,8,32
   326                        	.member	hWndOwner,216,129,8,32
   327                        	.eos
   328                        	.stag	fake35_,112,35
   329                        	.member	menuId,0,16,8,16
   330                        	.member	caption,16,142,8,32
   331                        	.member	rect,48,10,8,64,25
  Thu Dec  3 2020 22:25                                                Page 7


   332                        	.eos
   333                        	.stag	fake36_,3568,36
   334                        	.member	pParent,0,138,8,32,30
   335                        	.member	rect,32,10,8,64,25
   336                        	.member	captions,96,1134,8,32,24
   337                        	.member	chrome,864,110,8,0,24
   338                        	.member	ids,1056,112,8,0,24
   339                        	.member	clickable,1440,106,8,0,27,24
   340                        	.member	selected,3552,16,8,16
   341                        	.eos
   342                        	.stag	_fx_button_t,80,37
   343                        	.member	pCaption,0,142,8,32
   344                        	.member	data,32,129,8,32
   345                        	.member	captionPixelWidth,64,16,8,16
   346                        	.eos
   347                        	.stag	_fx_scrollbar_t,192,38
   348                        	.member	min,0,16,8,16
   349                        	.member	max,16,16,8,16
   350                        	.member	increment,32,16,8,16
   351                        	.member	stopsize,48,16,8,16
   352                        	.member	location,64,5,8,16
   353                        	.member	state,80,5,8,16
   354                        	.member	rectThumb,96,10,8,64,25
   355                        	.member	data,160,129,8,32
   356                        	.eos
   357                        	.stag	_fx_listbox_t,240,39
   358                        	.member	pos,0,5,8,16
   359                        	.member	selected,16,16,8,16
   360                        	.member	offsetX,32,5,8,16
   361                        	.member	offsetY,48,5,8,16
   362                        	.member	inc,64,5,8,16
   363                        	.member	direction,80,5,8,16
   364                        	.member	top,96,5,8,16
   365                        	.member	bottom,112,5,8,16
   366                        	.member	indexTop,128,5,8,16
   367                        	.member	indexBottom,144,5,8,16
   368                        	.member	maxItems,160,16,8,16
   369                        	.member	fontSet,176,142,8,32
   370                        	.member	data,208,129,8,32
   371                        	.eos
   372                        	.stag	_fx_textbox_t,144,40
   373                        	.member	pos,0,5,8,16
   374                        	.member	selected,16,16,8,16
   375                        	.member	offsetX,32,5,8,16
   376                        	.member	offsetY,48,5,8,16
   377                        	.member	isShifted,64,14,8,8
   378                        	.member	cursorState,72,14,8,8
   379                        	.member	fontSet,80,142,8,32
   380                        	.member	data,112,129,8,32
   381                        	.eos
   382                        	.stag	_fx_menuAnchor_t,144,41
   383                        	.member	pCaption,0,142,8,32
   384                        	.member	renderLayoutX,32,16,8,16
   385                        	.member	renderLayoutY,48,16,8,16
   386                        	.member	captionPixelWidth,64,16,8,16
   387                        	.member	data,80,129,8,32
   388                        	.member	droppedWindow,112,138,8,32,30
   389                        	.eos
  Thu Dec  3 2020 22:25                                                Page 8


   390                        	.stag	_SubMenuStruct,64,42
   391                        	.member	caption,0,142,8,32
   392                        	.member	action,32,641,8,32
   393                        	.eos
   394                        	.stag	_SubMenuListStruct,40,43
   395                        	.member	cMenus,0,14,8,8
   396                        	.member	psubmenus,8,9354,8,32,42
   397                        	.eos
   398                        	.stag	_fx_ComBuffer,2080,44
   399                        	.member	cbSize,0,16,8,16
   400                        	.member	cbBuffer,16,16,8,16
   401                        	.member	buffer,32,110,8,0,256
   402                        	.eos
   403                        	.line	708
   404                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   405                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   406                        	.line	89
   407                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   408                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   410                        	.line	708
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   412                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   413                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   414                        	.line	708
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   416                        	.line	72
   417                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   418                        	.line	1325
   419                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   420                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   421                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   422                        	.line	25
   423                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   424                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   425                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   426                        	.line	708
   427                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   428                        	.line	61
   429                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
  Thu Dec  3 2020 22:25                                                Page 9


   430                        	.stag	_fx_zero_page,448,45
   431                        	.member	fxos_mouse_byte_0,0,14,8,8
   432                        	.member	fxos_mouse_byte_1,8,14,8,8
   433                        	.member	fxos_mouse_byte_2,16,14,8,8
   434                        	.member	fxos_mouse_byte_t,24,14,8,8
   435                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   436                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   437                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   438                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   439                        	.member	fxos_key_byte_0,64,14,8,8
   440                        	.member	fxos_key_byte_1,72,14,8,8
   441                        	.member	fxos_key_byte_2,80,14,8,8
   442                        	.member	fxos_mouse_ctl,88,14,8,8
   443                        	.member	fxos_mouse_index,96,14,8,8
   444                        	.member	fxos_mouse_status,104,14,8,8
   445                        	.member	VersionMajor,112,16,8,16
   446                        	.member	VersionMinor,128,16,8,16
   447                        	.member	VersionRelease,144,16,8,16
   448                        	.member	topMemory,160,18,8,32
   449                        	.member	bottomMemory,192,18,8,32
   450                        	.member	availableMemory,224,18,8,32
   451                        	.member	availableMemoryK,256,18,8,32
   452                        	.member	availableHeapMemory,288,18,8,32
   453                        	.member	availableHeapMemoryK,320,18,8,32
   454                        	.member	kernelFunctionCallId,352,16,8,16
   455                        	.member	kernelFunctionCallBank,368,14,8,8
   456                        	.member	kernelFunctionCallReserved,376,14,8,8
   457                        	.member	kernelFunctionCallParameter,384,129,8,32
   458                        	.member	kernelFunctionCallReturn,416,129,8,32
   459                        	.eos
   460                        	.stag	_fx_environment,96,46
   461                        	.member	variables,0,142,8,32
   462                        	.member	reserved1,32,5,8,16
   463                        	.member	reserved2,48,5,8,16
   464                        	.member	reserved3,64,5,8,16
   465                        	.member	reserved4,80,5,8,16
   466                        	.eos
   467                        	.stag	_debug_byte_bits,8,47
   468                        	.member	bit7,0,14,17,1
   469                        	.member	bit6,1,14,17,1
   470                        	.member	bit5,2,14,17,1
   471                        	.member	bit4,3,14,17,1
   472                        	.member	bit3,4,14,17,1
   473                        	.member	bit2,5,14,17,1
   474                        	.member	bit1,6,14,17,1
   475                        	.member	bit0,7,14,17,1
   476                        	.eos
   477                        	.stag	_fx_device_driver,1416,48
   478                        	.member	name,0,110,8,0,64
   479                        	.member	version,512,110,8,0,64
   480                        	.member	hmajor,1024,110,8,0,16
   481                        	.member	hminor,1152,110,8,0,16
   482                        	.member	type,1280,14,8,8
   483                        	.member	f_driver_load,1288,129,8,32
   484                        	.member	f_driver_read,1320,129,8,32
   485                        	.member	f_driver_write,1352,129,8,32
   486                        	.member	f_driver_unload,1384,129,8,32
   487                        	.eos
  Thu Dec  3 2020 22:25                                                Page 10


   488                        	.stag	_fx_block_device_driver,1448,49
   489                        	.member	name,0,110,8,0,64
   490                        	.member	version,512,110,8,0,64
   491                        	.member	hmajor,1024,110,8,0,16
   492                        	.member	hminor,1152,110,8,0,16
   493                        	.member	type,1280,14,8,8
   494                        	.member	f_driver_load,1288,129,8,32
   495                        	.member	f_driver_read,1320,129,8,32
   496                        	.member	f_driver_write,1352,129,8,32
   497                        	.member	f_driver_unload,1384,129,8,32
   498                        	.member	f_driver_command,1416,129,8,32
   499                        	.eos
   500                        	.line	270
   501                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   502                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   503                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   504                        	.line	134
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   506                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   507                        	.line	205
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   509                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   510                        	.line	708
   511                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   512                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   513                        	.line	1325
   514                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   516                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   517                        	.line	205
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   519                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   520                        	.line	134
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   523                        	.line	708
   524                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   525                        	.stag	_fx_string,64,50
   526                        	.member	size,0,16,8,16
   527                        	.member	pos,16,5,8,16
   528                        	.member	buffer,32,142,8,32
  Thu Dec  3 2020 22:25                                                Page 11


   529                        	.eos
   530                        	.line	71
   531                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   532                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   533                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   534                        	.line	25
   535                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   537                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   538                        	.line	708
   539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   540                        	.line	52
   541                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   542                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   543                        	.line	61
   544                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   545                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   546                        	.line	171
   547                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   548                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   549                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   550                        	.line	708
   551                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   552                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   553                        	.line	25
   554                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   555                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   556                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   557                        	.line	25
   558                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   559                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   560                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   561                        	.line	32
   562                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   563                        	.stag	UMM_HEAP_INFO_t,256,51
  Thu Dec  3 2020 22:25                                                Page 12


   564                        	.member	totalEntries,0,18,8,32
   565                        	.member	usedEntries,32,18,8,32
   566                        	.member	freeEntries,64,18,8,32
   567                        	.member	totalBlocks,96,18,8,32
   568                        	.member	usedBlocks,128,18,8,32
   569                        	.member	freeBlocks,160,18,8,32
   570                        	.member	maxFreeContiguousBlocks,192,18,8,32
   571                        	.member	blockSize,224,18,8,32
   572                        	.eos
   573                        	.line	199
   574                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   575                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   576                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   577                        	.line	708
   578                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   579                        	.line	24
   580                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   581                        	.stag	_fx_memory_map,2072,52
   582                        	.member	availableMemory,0,18,8,32
   583                        	.member	valid_segments,32,110,8,0,255
   584                        	.eos
   585                        	.line	39
   586                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   587                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   588                        	.line	743
   589                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   590                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   591                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   592                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   593                        	.line	708
   594                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   595                        	.line	64
   596                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   597                        	.stag	_click_detected,64,53
   598                        	.member	window,0,138,8,32,30
   599                        	.member	handler,32,641,8,32
   600                        	.eos
   601                        	.stag	_current_palette_map,400,54
   602                        	.member	CUR_DESKTOP,0,5,8,16
   603                        	.member	CUR_BACKGROUND,16,5,8,16
   604                        	.member	CUR_FONT,32,5,8,16
   605                        	.member	CUR_SELECTED_FONT,48,5,8,16
   606                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   607                        	.member	CUR_WINDOWFRAME,80,5,8,16
   608                        	.member	CUR_WINDOWBORDER,96,5,8,16
  Thu Dec  3 2020 22:25                                                Page 13


   609                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   610                        	.member	CUR_MENU,128,5,8,16
   611                        	.member	CUR_GADGET,144,5,8,16
   612                        	.member	CUR_COLOR,160,101,8,0,15
   613                        	.eos
   614                        	.line	264
   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   616                        	.stag	_childMessage_t,64,55
   617                        	.member	msgType,0,16,8,16
   618                        	.member	msgData,16,129,8,32
   619                        	.member	dataSize,48,16,8,16
   620                        	.eos
   621                        	.line	362
   622                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   623                        	.stag	_fx_main_loopvars,16,56
   624                        	.member	dummy,0,5,8,16
   625                        	.eos
   626                        	.stag	_fxMouseMessageData,64,57
   627                        	.member	button1,0,14,8,8
   628                        	.member	button2,8,14,8,8
   629                        	.member	button3,16,14,8,8
   630                        	.member	button4,24,14,8,8
   631                        	.member	x,32,16,8,16
   632                        	.member	y,48,16,8,16
   633                        	.eos
   634                        	.stag	_fx_eventProcess,64,58
   635                        	.member	process,0,138,8,32,20
   636                        	.member	eventProc,32,641,8,32
   637                        	.eos
   638                        	.stag	_mouse_msg_state,184,59
   639                        	.member	lastEvent,0,18,8,32
   640                        	.member	buttonLeftDown,32,14,8,8
   641                        	.member	lastLeftDown,40,18,8,32
   642                        	.member	buttonRightDown,72,14,8,8
   643                        	.member	lastRightDown,80,18,8,32
   644                        	.member	buttonMiddleDown,112,14,8,8
   645                        	.member	lastMiddleDown,120,18,8,32
   646                        	.member	lastX,152,16,8,16
   647                        	.member	lastY,168,16,8,16
   648                        	.eos
   649                        	.line	743
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   651                        	.stag	_fx_spinner_ctx,48,60
   652                        	.member	index,0,5,8,16
   653                        	.member	spinner,16,142,8,32
   654                        	.eos
   655                        	.stag	_fx_console_ctx,1144,61
   656                        	.member	lineBufferIndex,0,5,8,16
   657                        	.member	lineBuffer,16,110,8,0,128
   658                        	.member	isShifted,1040,14,8,8
   659                        	.member	userData,1048,129,8,32
   660                        	.member	screenBuffer,1080,129,8,32
   661                        	.member	Reserved1,1112,129,8,32
   662                        	.eos
   663                        	.stag	_token,64,62
  Thu Dec  3 2020 22:25                                                Page 14


   664                        	.member	type,0,5,8,16
   665                        	.member	depth,16,16,8,16
   666                        	.member	text,32,142,8,32
   667                        	.eos
   668                        	.stag	_command_args,64,63
   669                        	.member	proc,0,656,8,32
   670                        	.member	tokens,32,138,8,32,5
   671                        	.eos
   672                        	.line	171
   673                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   675                        	.line	71
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   678                        	.line	61
   679                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   680                        	.line	25
   681                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",1
   682                        ;#include "fxmemorymanager.h"
   683                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   684                        	.line	39
   685                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",2
   686                        ;//#include "fxstartup.h"
   687                        ;#include "fxfont.h"
   688                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   689                        	.line	64
   690                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",4
   691                        ;#include "fxdrawing.h"
   692                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdrawing.h",0
   693                        	.line	20
   694                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",5
   695                        ;#include "fxgui.h"
   696                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   697                        	.line	264
   698                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",6
   699                        ;
   700                        ;
   701                        ;//#include "fbtestfnt.h"
   702                        ;//#pragma section CODE=FCODE,OFFSET $15:0000
   703                        ;//extern char _END_UDATA;
   704                        ;//void *heap_start=(void*)&_END_UDATA,*heap_end=(
                    void*)(&_END_UDATA + 0x1000);
   705                        ;
   706                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
  Thu Dec  3 2020 22:25                                                Page 15


   707                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
   708                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
   709                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
   710                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
   711                        ;
   712                        ;#define BITMAP0_SEG0   ((char FAR*)0xB00000)
   713                        ;#define BITMAP0_SEG1   ((char FAR*)0xB10000)
   714                        ;#define BITMAP0_SEG2   ((char FAR*)0xB20000)
   715                        ;#define BITMAP0_SEG3   ((char FAR*)0xB30000)
   716                        ;#define BITMAP0_SEG4   ((char FAR*)0xB40000)
   717                        ;#define BITMAP1_SEG0   ((char FAR*)0xB00000)
   718                        ;#define BITMAP1_SEG1   ((char FAR*)0xB10000)
   719                        ;#define BITMAP1_SEG2   ((char FAR*)0xB20000)
   720                        ;#define BITMAP1_SEG3   ((char FAR*)0xB30000)
   721                        ;#define BITMAP1_SEG4   ((char FAR*)0xB40000)
   722                        ;
   723                        ;
   724                        ;static CHAR FAR TEXT_FG_COLORS[] =
   725                        	data
   726                        ~~TEXT_FG_COLORS:
   727                        ;{
   728                        ;	0x00,0x00,0x00,0xFF,
   729 00:0000: 00 00 00 FF  	db	$0,$0,$0,$FF
   730                        ;	0x00,0x00,0x80,0xFF,
   731 00:0004: 00 00 80 FF  	db	$0,$0,$80,$FF
   732                        ;	0x00,0x80,0x00,0xFF,
   733 00:0008: 00 80 00 FF  	db	$0,$80,$0,$FF
   734                        ;	0x80,0x00,0x00,0xFF,
   735 00:000C: 80 00 00 FF  	db	$80,$0,$0,$FF
   736                        ;	0x00,0x80,0x80,0xFF,
   737 00:0010: 00 80 80 FF  	db	$0,$80,$80,$FF
   738                        ;	0x80,0x80,0x00,0xFF,
   739 00:0014: 80 80 00 FF  	db	$80,$80,$0,$FF
   740                        ;	0x80,0x00,0x80,0xFF,
   741 00:0018: 80 00 80 FF  	db	$80,$0,$80,$FF
   742                        ;	0x80,0x80,0x80,0xFF,
   743 00:001C: 80 80 80 FF  	db	$80,$80,$80,$FF
   744                        ;	0x00,0x45,0xFF,0xFF,
   745 00:0020: 00 45 FF FF  	db	$0,$45,$FF,$FF
   746                        ;	0x13,0x45,0x8B,0xFF,
   747 00:0024: 13 45 8B FF  	db	$13,$45,$8B,$FF
   748                        ;	0x00,0x00,0x20,0xFF,
   749 00:0028: 00 00 20 FF  	db	$0,$0,$20,$FF
   750                        ;	0x00,0x20,0x00,0xFF,
   751 00:002C: 00 20 00 FF  	db	$0,$20,$0,$FF
   752                        ;	0x20,0x00,0x00,0xFF,
   753 00:0030: 20 00 00 FF  	db	$20,$0,$0,$FF
   754                        ;	0x20,0x20,0x20,0xFF,
   755 00:0034: 20 20 20 FF  	db	$20,$20,$20,$FF
   756                        ;	0x40,0x40,0x40,0xFF,
   757 00:0038: 40 40 40 FF  	db	$40,$40,$40,$FF
   758                        ;	0xFF,0xFF,0xFF,0xFF,
   759 00:003C: FF FF FF FF  	db	$FF,$FF,$FF,$FF
   760                        ;
   761                        ;};
   762 00:0040:              	ends
   763                        ;
   764                        ;static CHAR FAR TEXT_BG_COLORS[] =
  Thu Dec  3 2020 22:25                                                Page 16


   765                        	data
   766                        ~~TEXT_BG_COLORS:
   767                        ;{
   768                        ;
   769                        ;	0x00,0x00,0x00,0xFF,
   770 00:0040: 00 00 00 FF  	db	$0,$0,$0,$FF
   771                        ;	0x00,0x00,0x80,0xFF,
   772 00:0044: 00 00 80 FF  	db	$0,$0,$80,$FF
   773                        ;	0x00,0x80,0x00,0xFF,
   774 00:0048: 00 80 00 FF  	db	$0,$80,$0,$FF
   775                        ;	0x80,0x00,0x00,0xFF,
   776 00:004C: 80 00 00 FF  	db	$80,$0,$0,$FF
   777                        ;	0x00,0x20,0x20,0xFF,
   778 00:0050: 00 20 20 FF  	db	$0,$20,$20,$FF
   779                        ;	0x20,0x20,0x00,0xFF,
   780 00:0054: 20 20 00 FF  	db	$20,$20,$0,$FF
   781                        ;	0x20,0x00,0x20,0xFF,
   782 00:0058: 20 00 20 FF  	db	$20,$0,$20,$FF
   783                        ;	0x20,0x20,0x20,0xFF,
   784 00:005C: 20 20 20 FF  	db	$20,$20,$20,$FF
   785                        ;	0x1E,0x69,0xD2,0xFF,
   786 00:0060: 1E 69 D2 FF  	db	$1E,$69,$D2,$FF
   787                        ;	0x13,0x45,0x8B,0xFF,
   788 00:0064: 13 45 8B FF  	db	$13,$45,$8B,$FF
   789                        ;	0x00,0x00,0x20,0xFF,
   790 00:0068: 00 00 20 FF  	db	$0,$0,$20,$FF
   791                        ;	0x00,0x20,0x00,0xFF,
   792 00:006C: 00 20 00 FF  	db	$0,$20,$0,$FF
   793                        ;	0x40,0x00,0x00,0xFF,
   794 00:0070: 40 00 00 FF  	db	$40,$0,$0,$FF
   795                        ;	0x10,0x10,0x10,0xFF,
   796 00:0074: 10 10 10 FF  	db	$10,$10,$10,$FF
   797                        ;	0x40,0x40,0x40,0xFF,
   798 00:0078: 40 40 40 FF  	db	$40,$40,$40,$FF
   799                        ;	0xFF,0xFF,0xFF,0xFF,
   800 00:007C: FF FF FF FF  	db	$FF,$FF,$FF,$FF
   801                        ;};
   802 00:0080:              	ends
   803                        ;
   804                        ;CHAR FAR MOUSE_POINTER_HELP[] =
   805                        	data
   806                        	xdef	~~MOUSE_POINTER_HELP
   807                        ~~MOUSE_POINTER_HELP:
   808                        ;{
   809                        ;	0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x00,0x00,0x00,0x00,
   810 00:0080: 00 00 00 01  	db	$0,$0,$0,$1,$1,$1,$1,$1,$1,$1
       00:0084: 01 01 01 01 
       00:0088: 01 01 
   811 00:008A: 01 01 00 00  	db	$1,$1,$0,$0,$0,$0
       00:008E: 00 00 
   812                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
   813 00:0090: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0094: FF FF FF FF 
       00:0098: FF FF 
   814 00:009A: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:009E: 00 00 
  Thu Dec  3 2020 22:25                                                Page 17


   815                        ;	0x00,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   816 00:00A0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$1,$1,$1,$1,$1
       00:00A4: FF 01 01 01 
       00:00A8: 01 01 
   817 00:00AA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00AE: 00 00 
   818                        ;	0x00,0x01,0xFF,0xFF,0x01,0x01,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   819 00:00B0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$1,$0,$0,$0,$1
       00:00B4: 01 01 00 00 
       00:00B8: 00 01 
   820 00:00BA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00BE: 00 00 
   821                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   822 00:00C0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00C4: 01 00 00 00 
       00:00C8: 00 01 
   823 00:00CA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00CE: 00 00 
   824                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   825 00:00D0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00D4: 01 00 00 00 
       00:00D8: 00 01 
   826 00:00DA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00DE: 00 00 
   827                        ;	0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   828 00:00E0: 00 01 01 01  	db	$0,$1,$1,$1,$1,$0,$0,$0,$0,$1
       00:00E4: 01 00 00 00 
       00:00E8: 00 01 
   829 00:00EA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00EE: 00 00 
   830                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
   831 00:00F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$FF
       00:00F4: 00 00 00 01 
       00:00F8: 01 FF 
   832 00:00FA: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:00FE: 00 00 
   833                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF
                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
   834 00:0100: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$FF,$FF
       00:0104: 00 00 00 01 
       00:0108: FF FF 
   835 00:010A: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:010E: 00 00 
   836                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xF
                    F,0xFF,0x00,0x00,0x00,0x00,0x00,
   837 00:0110: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$FF,$FF
       00:0114: 00 01 01 01 
       00:0118: FF FF 
   838 00:011A: FF 00 00 00  	db	$FF,$0,$0,$0,$0,$0
       00:011E: 00 00 
   839                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
  Thu Dec  3 2020 22:25                                                Page 18


   840 00:0120: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0124: 00 01 FF FF 
       00:0128: FF 01 
   841 00:012A: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:012E: 00 00 
   842                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
   843 00:0130: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0134: 00 01 FF FF 
       00:0138: FF 01 
   844 00:013A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:013E: 00 00 
   845                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   846 00:0140: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$1,$1,$0
       00:0144: 00 00 01 01 
       00:0148: 01 00 
   847 00:014A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:014E: 00 00 
   848                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
   849 00:0150: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0154: 00 01 FF FF 
       00:0158: FF 01 
   850 00:015A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:015E: 00 00 
   851                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
   852 00:0160: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0164: 00 01 FF FF 
       00:0168: FF 01 
   853 00:016A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:016E: 00 00 
   854                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00
   855 00:0170: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0174: 00 01 01 01 
       00:0178: 01 01 
   856 00:017A: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:017E: 00 
   857                        ;};
   858 00:017F: 00           	db	$0
   859 00:0180:              	ends
   860                        ;
   861                        ;CHAR FAR MOUSE_POINTER_HOURGLASS[] =
   862                        	data
   863                        	xdef	~~MOUSE_POINTER_HOURGLASS
   864                        ~~MOUSE_POINTER_HOURGLASS:
   865                        ;{
   866                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
   867 00:0180: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0184: 01 01 01 01 
       00:0188: 01 01 
   868 00:018A: 01 01 01 01  	db	$1,$1,$1,$1,$0,$0
       00:018E: 00 00 
   869                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  Thu Dec  3 2020 22:25                                                Page 19


   870 00:0190: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0194: FF FF FF FF 
       00:0198: FF FF 
   871 00:019A: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:019E: 00 00 
   872                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
   873 00:01A0: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:01A4: FF 55 55 55 
       00:01A8: 55 55 
   874 00:01AA: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:01AE: 00 00 
   875                        ;		0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,
   876 00:01B0: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$55,$55,$55,$55
       00:01B4: FF FF 55 55 
       00:01B8: 55 55 
   877 00:01BA: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:01BE: 00 00 
   878                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,
                    0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
   879 00:01C0: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$FF,$55,$55,$FF
       00:01C4: 01 FF FF 55 
       00:01C8: 55 FF 
   880 00:01CA: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:01CE: 00 00 
   881                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0x55,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
   882 00:01D0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$55,$FF
       00:01D4: 00 01 FF 55 
       00:01D8: 55 FF 
   883 00:01DA: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:01DE: 00 00 
   884                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   885 00:01E0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:01E4: 00 00 01 FF 
       00:01E8: 55 01 
   886 00:01EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01EE: 00 00 
   887                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   888 00:01F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:01F4: 00 00 01 55 
       00:01F8: FF 01 
   889 00:01FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01FE: 00 00 
   890                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   891 00:0200: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0204: 00 00 01 FF 
       00:0208: 55 01 
   892 00:020A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:020E: 00 00 
   893                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   894 00:0210: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:0214: 00 00 01 55 
  Thu Dec  3 2020 22:25                                                Page 20


       00:0218: FF 01 
   895 00:021A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:021E: 00 00 
   896                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   897 00:0220: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0224: 00 00 01 FF 
       00:0228: 55 01 
   898 00:022A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:022E: 00 00 
   899                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
   900 00:0230: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$FF,$FF
       00:0234: 00 01 FF 55 
       00:0238: FF FF 
   901 00:023A: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:023E: 00 00 
   902                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0x01,0x00,0x00,0x00,0x00,
   903 00:0240: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$55,$55,$55,$55
       00:0244: 01 FF 55 55 
       00:0248: 55 55 
   904 00:024A: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:024E: 00 00 
   905                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
   906 00:0250: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:0254: FF 55 55 55 
       00:0258: 55 55 
   907 00:025A: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:025E: 00 00 
   908                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   909 00:0260: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0264: FF FF FF FF 
       00:0268: FF FF 
   910 00:026A: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:026E: 00 00 
   911                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00
   912 00:0270: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0274: 01 01 01 01 
       00:0278: 01 01 
   913 00:027A: 01 01 01 01  	db	$1,$1,$1,$1,$0
       00:027E: 00 
   914                        ;};
   915 00:027F: 00           	db	$0
   916 00:0280:              	ends
   917                        ;
   918                        ;CHAR FAR MOUSE_POINTER_ARROW[] =
   919                        	data
   920                        	xdef	~~MOUSE_POINTER_ARROW
   921                        ~~MOUSE_POINTER_ARROW:
   922                        ;{
   923                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   924 00:0280: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0284: 00 00 00 00 
  Thu Dec  3 2020 22:25                                                Page 21


       00:0288: 00 00 
   925 00:028A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:028E: 00 00 
   926                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   927 00:0290: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0294: 00 00 00 00 
       00:0298: 00 00 
   928 00:029A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:029E: 00 00 
   929                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   930 00:02A0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:02A4: 55 55 00 00 
       00:02A8: 00 00 
   931 00:02AA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02AE: 00 00 
   932                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   933 00:02B0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:02B4: FF FF 55 55 
       00:02B8: 00 00 
   934 00:02BA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02BE: 00 00 
   935                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
   936 00:02C0: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:02C4: FF FF FF FF 
       00:02C8: 55 55 
   937 00:02CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02CE: 00 00 
   938                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
   939 00:02D0: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:02D4: FF FF FF FF 
       00:02D8: FF FF 
   940 00:02DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02DE: 00 00 
   941                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   942 00:02E0: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:02E4: FF FF FF FF 
       00:02E8: 00 00 
   943 00:02EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02EE: 00 00 
   944                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   945 00:02F0: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:02F4: FF FF FF FF 
       00:02F8: 55 00 
   946 00:02FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02FE: 00 00 
   947                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
   948 00:0300: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
       00:0304: 01 FF 00 01 
       00:0308: FF 55 
   949 00:030A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Thu Dec  3 2020 22:25                                                Page 22


       00:030E: 00 00 
   950                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
   951 00:0310: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0314: 01 FF 00 00 
       00:0318: 01 FF 
   952 00:031A: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:031E: 00 00 
   953                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
   954 00:0320: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:0324: 00 00 00 00 
       00:0328: 00 01 
   955 00:032A: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:032E: 00 00 
   956                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
   957 00:0330: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0334: 00 00 00 00 
       00:0338: 00 00 
   958 00:033A: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:033E: 00 00 
   959                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   960 00:0340: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0344: 00 00 00 00 
       00:0348: 00 00 
   961 00:034A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:034E: 00 00 
   962                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   963 00:0350: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0354: 00 00 00 00 
       00:0358: 00 00 
   964 00:035A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:035E: 00 00 
   965                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   966 00:0360: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0364: 00 00 00 00 
       00:0368: 00 00 
   967 00:036A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:036E: 00 00 
   968                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
   969 00:0370: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0374: 00 00 00 00 
       00:0378: 00 00 
   970 00:037A: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:037E: 00 
   971                        ;};
   972 00:037F: 00           	db	$0
   973 00:0380:              	ends
   974                        ;
   975                        ;CHAR FAR MOUSE_POINTER_BLOCK[] =
   976                        	data
   977                        	xdef	~~MOUSE_POINTER_BLOCK
   978                        ~~MOUSE_POINTER_BLOCK:
  Thu Dec  3 2020 22:25                                                Page 23


   979                        ;{
   980                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   981 00:0380: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0384: FF FF FF FF 
       00:0388: FF FF 
   982 00:038A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:038E: FF FF 
   983                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   984 00:0390: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0394: FF FF FF FF 
       00:0398: FF FF 
   985 00:039A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:039E: FF FF 
   986                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   987 00:03A0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03A4: FF FF FF FF 
       00:03A8: FF FF 
   988 00:03AA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03AE: FF FF 
   989                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   990 00:03B0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03B4: FF FF FF FF 
       00:03B8: FF FF 
   991 00:03BA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03BE: FF FF 
   992                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   993 00:03C0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03C4: FF FF FF FF 
       00:03C8: FF FF 
   994 00:03CA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03CE: FF FF 
   995                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   996 00:03D0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03D4: FF FF FF FF 
       00:03D8: FF FF 
   997 00:03DA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03DE: FF FF 
   998                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   999 00:03E0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03E4: FF FF FF FF 
       00:03E8: FF FF 
  1000 00:03EA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03EE: FF FF 
  1001                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1002 00:03F0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03F4: FF FF FF FF 
       00:03F8: FF FF 
  1003 00:03FA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03FE: FF FF 
  1004                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
  Thu Dec  3 2020 22:25                                                Page 24


                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1005 00:0400: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0404: FF FF FF FF 
       00:0408: FF FF 
  1006 00:040A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:040E: FF FF 
  1007                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1008 00:0410: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0414: FF FF FF FF 
       00:0418: FF FF 
  1009 00:041A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:041E: FF FF 
  1010                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1011 00:0420: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0424: FF FF FF FF 
       00:0428: FF FF 
  1012 00:042A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:042E: FF FF 
  1013                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1014 00:0430: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0434: FF FF FF FF 
       00:0438: FF FF 
  1015 00:043A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:043E: FF FF 
  1016                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1017 00:0440: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0444: FF FF FF FF 
       00:0448: FF FF 
  1018 00:044A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:044E: FF FF 
  1019                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1020 00:0450: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0454: FF FF FF FF 
       00:0458: FF FF 
  1021 00:045A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:045E: FF FF 
  1022                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1023 00:0460: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0464: FF FF FF FF 
       00:0468: FF FF 
  1024 00:046A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:046E: FF FF 
  1025                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF
  1026 00:0470: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0474: FF FF FF FF 
       00:0478: FF FF 
  1027 00:047A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF
       00:047E: FF 
  1028                        ;};
  1029 00:047F: FF           	db	$FF
  1030 00:0480:              	ends
  Thu Dec  3 2020 22:25                                                Page 25


  1031                        ;
  1032                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1033                        	data
  1034                        	xdef	~~MOUSE_POINTER_RESIZE
  1035                        ~~MOUSE_POINTER_RESIZE:
  1036                        ;{
  1037                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1038 00:0480: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0484: 00 00 00 00 
       00:0488: 00 00 
  1039 00:048A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:048E: 00 00 
  1040                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1041 00:0490: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0494: 00 00 00 00 
       00:0498: 00 00 
  1042 00:049A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:049E: 00 00 
  1043                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1044 00:04A0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04A4: 00 00 00 00 
       00:04A8: 00 00 
  1045 00:04AA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04AE: 00 00 
  1046                        ;	0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1047 00:04B0: 00 00 FF FF  	db	$0,$0,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0
       00:04B4: FF FF FF FF 
       00:04B8: FF 00 
  1048 00:04BA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04BE: 00 00 
  1049                        ;	0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1050 00:04C0: 00 00 FF FF  	db	$0,$0,$FF,$FF,$1,$1,$1,$1,$1,$0
       00:04C4: 01 01 01 01 
       00:04C8: 01 00 
  1051 00:04CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04CE: 00 00 
  1052                        ;	0x00,0x00,0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1053 00:04D0: 00 00 FF 01  	db	$0,$0,$FF,$1,$FF,$0,$0,$0,$0,$0
       00:04D4: FF 00 00 00 
       00:04D8: 00 00 
  1054 00:04DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04DE: 00 00 
  1055                        ;	0x00,0x00,0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1056 00:04E0: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$FF,$0,$0,$0,$0
       00:04E4: 00 FF 00 00 
       00:04E8: 00 00 
  1057 00:04EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04EE: 00 00 
  1058                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1059 00:04F0: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$0,$FF,$0,$0,$0
  Thu Dec  3 2020 22:25                                                Page 26


       00:04F4: 00 00 FF 00 
       00:04F8: 00 00 
  1060 00:04FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04FE: 00 00 
  1061                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1062 00:0500: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$0,$0,$FF,$0,$0
       00:0504: 00 00 00 FF 
       00:0508: 00 00 
  1063 00:050A: 00 00 00 FF  	db	$0,$0,$0,$FF,$1,$0
       00:050E: 01 00 
  1064                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1065 00:0510: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$0,$0,$0,$FF,$0
       00:0514: 00 00 00 00 
       00:0518: FF 00 
  1066 00:051A: 00 00 00 FF  	db	$0,$0,$0,$FF,$1,$0
       00:051E: 01 00 
  1067                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0x00,0x00,0xFF,0x01,0x00,
  1068 00:0520: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$FF
       00:0524: 00 00 00 00 
       00:0528: 00 FF 
  1069 00:052A: 00 00 00 FF  	db	$0,$0,$0,$FF,$1,$0
       00:052E: 01 00 
  1070                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0x00,0x00,0xFF,0x01,0x00,
  1071 00:0530: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0534: 00 00 00 00 
       00:0538: 00 00 
  1072 00:053A: FF 00 00 FF  	db	$FF,$0,$0,$FF,$1,$0
       00:053E: 01 00 
  1073                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x00,0xFF,0x01,0x00,
  1074 00:0540: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0544: 00 00 00 00 
       00:0548: 00 00 
  1075 00:054A: 00 FF 00 FF  	db	$0,$FF,$0,$FF,$1,$0
       00:054E: 01 00 
  1076                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0xFF,0xFF,0x01,0x00,
  1077 00:0550: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0554: 00 00 00 00 
       00:0558: 00 00 
  1078 00:055A: 00 00 FF FF  	db	$0,$0,$FF,$FF,$1,$0
       00:055E: 01 00 
  1079                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0x01,0x00,
  1080 00:0560: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$FF,$FF,$FF
       00:0564: 00 00 00 FF 
       00:0568: FF FF 
  1081 00:056A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$1,$0
       00:056E: 01 00 
  1082                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x01,0x01,0x00,
  1083 00:0570: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$1
       00:0574: 00 00 00 01 
       00:0578: 01 01 
  Thu Dec  3 2020 22:25                                                Page 27


  1084 00:057A: 01 01 01 01  	db	$1,$1,$1,$1,$1,$0
       00:057E: 01 00 
  1085                        ;};
  1086 00:0580:              	ends
  1087                        ;
  1088                        ;CHAR FAR MOUSE_POINTER_EMPTY[] =
  1089                        	data
  1090                        	xdef	~~MOUSE_POINTER_EMPTY
  1091                        ~~MOUSE_POINTER_EMPTY:
  1092                        ;{
  1093                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1094 00:0580: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0584: 00 00 00 00 
       00:0588: 00 00 
  1095 00:058A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:058E: 00 00 
  1096                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1097 00:0590: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0594: 00 00 00 00 
       00:0598: 00 00 
  1098 00:059A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:059E: 00 00 
  1099                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1100 00:05A0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05A4: 00 00 00 00 
       00:05A8: 00 00 
  1101 00:05AA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05AE: 00 00 
  1102                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1103 00:05B0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05B4: 00 00 00 00 
       00:05B8: 00 00 
  1104 00:05BA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05BE: 00 00 
  1105                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1106 00:05C0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05C4: 00 00 00 00 
       00:05C8: 00 00 
  1107 00:05CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05CE: 00 00 
  1108                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1109 00:05D0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05D4: 00 00 00 00 
       00:05D8: 00 00 
  1110 00:05DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05DE: 00 00 
  1111                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1112 00:05E0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05E4: 00 00 00 00 
       00:05E8: 00 00 
  1113 00:05EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Thu Dec  3 2020 22:25                                                Page 28


       00:05EE: 00 00 
  1114                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1115 00:05F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05F4: 00 00 00 00 
       00:05F8: 00 00 
  1116 00:05FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05FE: 00 00 
  1117                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1118 00:0600: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0604: 00 00 00 00 
       00:0608: 00 00 
  1119 00:060A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:060E: 00 00 
  1120                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1121 00:0610: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0614: 00 00 00 00 
       00:0618: 00 00 
  1122 00:061A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:061E: 00 00 
  1123                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1124 00:0620: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0624: 00 00 00 00 
       00:0628: 00 00 
  1125 00:062A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:062E: 00 00 
  1126                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1127 00:0630: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0634: 00 00 00 00 
       00:0638: 00 00 
  1128 00:063A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:063E: 00 00 
  1129                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1130 00:0640: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0644: 00 00 00 00 
       00:0648: 00 00 
  1131 00:064A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:064E: 00 00 
  1132                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1133 00:0650: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0654: 00 00 00 00 
       00:0658: 00 00 
  1134 00:065A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:065E: 00 00 
  1135                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1136 00:0660: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0664: 00 00 00 00 
       00:0668: 00 00 
  1137 00:066A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:066E: 00 00 
  1138                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
  Thu Dec  3 2020 22:25                                                Page 29


                    0,0x00,0x00,0x00,0x00,0x00,0x00
  1139 00:0670: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0674: 00 00 00 00 
       00:0678: 00 00 
  1140 00:067A: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:067E: 00 
  1141                        ;};
  1142 00:067F: 00           	db	$0
  1143 00:0680:              	ends
  1144                        ;
  1145                        ;static CHAR BG_FILL_LINE_ODD[] =
  1146                        	data
  1147                        ~~BG_FILL_LINE_ODD:
  1148                        ;{
  1149                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1150 00:0680: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0684: AA AA AA AA 
  1151                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1152 00:0688: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:068C: AA AA AA AA 
  1153                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1154 00:0690: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0694: AA AA AA AA 
  1155                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1156 00:0698: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:069C: AA AA AA AA 
  1157                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1158 00:06A0: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06A4: AA AA AA AA 
  1159                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1160 00:06A8: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06AC: AA AA AA AA 
  1161                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1162 00:06B0: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06B4: AA AA AA AA 
  1163                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1164 00:06B8: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06BC: AA AA AA AA 
  1165                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1166 00:06C0: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06C4: AA AA AA AA 
  1167                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
  1168 00:06C8: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06CC: AA AA AA 
  1169                        ;};
  1170 00:06CF: AA           	db	$AA
  1171 00:06D0:              	ends
  1172                        ;
  1173                        ;static CHAR BG_FILL_LINE_EVEN[] =
  1174                        	data
  1175                        ~~BG_FILL_LINE_EVEN:
  1176                        ;{
  1177                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1178 00:06D0: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06D4: 55 55 55 55 
  1179                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1180 00:06D8: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06DC: 55 55 55 55 
  Thu Dec  3 2020 22:25                                                Page 30


  1181                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1182 00:06E0: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06E4: 55 55 55 55 
  1183                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1184 00:06E8: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06EC: 55 55 55 55 
  1185                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1186 00:06F0: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06F4: 55 55 55 55 
  1187                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1188 00:06F8: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06FC: 55 55 55 55 
  1189                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1190 00:0700: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0704: 55 55 55 55 
  1191                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1192 00:0708: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:070C: 55 55 55 55 
  1193                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1194 00:0710: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0714: 55 55 55 55 
  1195                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
  1196 00:0718: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:071C: 55 55 55 
  1197                        ;};
  1198 00:071F: 55           	db	$55
  1199 00:0720:              	ends
  1200                        ;
  1201                        ;
  1202                        ;static CUR_PALETTE_MAP _k_currentPalatte;
  1203                        ;
  1204                        ;char FAR buffer[32];
  1205                        ;char FAR strbuf[32];
  1206                        ;//char FAR spinner[] = {'\\','|','/','+'};
  1207                        ;
  1208                        ;char FAR *version_title;
  1209                        ;
  1210                        ;//int g_key_index = 0;
  1211                        ;
  1212                        ;//typedef void (*C256Task)(HANDLE console,void FA
                    R* arg);
  1213                        ;
  1214                        ;//C256Task tasks[2];
  1215                        ;//HANDLE consoles[2];
  1216                        ;
  1217                        ;//#define GRPH_LUT0_PTR	((char FAR*)0xAF2000)
  1218                        ;
  1219                        ;
  1220                        ;
  1221                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
  1222                        ;
  1223                        ;
  1224                        ;int 	FAR _k_window_index = 0;
  1225                        	data
  1226                        	xdef	~~_k_window_index
  1227                        ~~_k_window_index:
  1228 00:0720: 00 00        	dw	$0
  1229 00:0722:              	ends
  Thu Dec  3 2020 22:25                                                Page 31


  1230                        ;WINDOW 	FAR _k_window_list[10];
  1231                        ;
  1232                        ;
  1233                        ;CLICKABLE FAR clickList[CHKLIST_MAX];
  1234                        ;PCLICKABLE FAR hitList[CHKLIST_MAX];
  1235                        ;
  1236                        ;
  1237                        ;static PFXNODE _k_WindowObject_nodes = NULL;
  1238                        	data
  1239                        ~~_k_WindowObject_nodes:
  1240 00:0722: 00 00 00 00  	dl	$0
  1241 00:0726:              	ends
  1242                        ;static PFXNODE _k_WindowHit_nodes 	 = NULL;
  1243                        	data
  1244                        ~~_k_WindowHit_nodes:
  1245 00:0726: 00 00 00 00  	dl	$0
  1246 00:072A:              	ends
  1247                        ;
  1248                        ;
  1249                        ;int cop_index = 0;
  1250                        	data
  1251                        	xdef	~~cop_index
  1252                        ~~cop_index:
  1253 00:072A: 00 00        	dw	$0
  1254 00:072C:              	ends
  1255                        ;
  1256                        ;#pragma section CODE=GUI,offset $3:0000
  1257                        GUI	section	offset $3:0000
  1258 03:0000:              	ends
  1259                        ;
  1260                        ;
  1261                        ;void k_set_rect(PRECT prect,int x,int y, int widt
                    h,int height)
  1262                        ;{
  1263                        	.line	262
  1264                        	.line	263
  1265                        	GUI
  1266                        	xdef	~~k_set_rect
  1267                        	func
  1268                        	.function	263
  1269                        ~~k_set_rect:
  1270                        	longa	on
  1271                        	longi	on
  1272 03:0000: 3B           	tsc
  1273 03:0001: 38           	sec
  1274 03:0002: E9 00 00     	sbc	#L2
  1275 03:0005: 1B           	tcs
  1276 03:0006: 0B           	phd
  1277 03:0007: 5B           	tcd
  1278             00000004   prect_0	set	4
  1279             00000008   x_0	set	8
  1280             0000000A   y_0	set	10
  1281             0000000C   width_0	set	12
  1282             0000000E   height_0	set	14
  1283                        	.block	263
  1284                        ;	if(prect)
  1285                        	.sym	prect,4,138,6,32,25
  1286                        	.sym	x,8,5,6,16
  Thu Dec  3 2020 22:25                                                Page 32


  1287                        	.sym	y,10,5,6,16
  1288                        	.sym	width,12,5,6,16
  1289                        	.sym	height,14,5,6,16
  1290                        	.line	264
  1291                        ;	{
  1292 03:0008: A5 04        	lda	<L2+prect_0
  1293 03:000A: 05 06        	ora	<L2+prect_0+2
  1294 03:000C: D0 03        	bne	L5
  1295 03:000E: 82 19 00     	brl	L10001
  1296                        L5:
  1297                        	.line	265
  1298                        ;		prect->x = x;
  1299                        	.line	266
  1300 03:0011: A5 08        	lda	<L2+x_0
  1301 03:0013: 87 04        	sta	[<L2+prect_0]
  1302                        ;		prect->y = y;
  1303                        	.line	267
  1304 03:0015: A5 0A        	lda	<L2+y_0
  1305 03:0017: A0 02 00     	ldy	#$2
  1306 03:001A: 97 04        	sta	[<L2+prect_0],Y
  1307                        ;		prect->width = width;
  1308                        	.line	268
  1309 03:001C: A5 0C        	lda	<L2+width_0
  1310 03:001E: A0 04 00     	ldy	#$4
  1311 03:0021: 97 04        	sta	[<L2+prect_0],Y
  1312                        ;		prect->height = height;
  1313                        	.line	269
  1314 03:0023: A5 0E        	lda	<L2+height_0
  1315 03:0025: A0 06 00     	ldy	#$6
  1316 03:0028: 97 04        	sta	[<L2+prect_0],Y
  1317                        ;	}
  1318                        	.line	270
  1319                        ;}
  1320                        L10001:
  1321                        	.line	271
  1322                        L6:
  1323 03:002A: A5 02        	lda	<L2+2
  1324 03:002C: 85 0E        	sta	<L2+2+12
  1325 03:002E: A5 01        	lda	<L2+1
  1326 03:0030: 85 0D        	sta	<L2+1+12
  1327 03:0032: 2B           	pld
  1328 03:0033: 3B           	tsc
  1329 03:0034: 18           	clc
  1330 03:0035: 69 0C 00     	adc	#L2+12
  1331 03:0038: 1B           	tcs
  1332 03:0039: 6B           	rtl
  1333                        	.endblock	271
  1334             00000000   L2	equ	0
  1335             00000001   L3	equ	1
  1336 03:003A:              	ends
  1337                        	efunc
  1338                        	.endfunc	271,1,0
  1339                        	.line	271
  1340                        ;
  1341                        ;BOOL k_is_inside_rect(PRECT prect,int dx,int dy)
  1342                        ;{
  1343                        	.line	273
  1344                        	.line	274
  Thu Dec  3 2020 22:25                                                Page 33


  1345                        	GUI
  1346                        	xdef	~~k_is_inside_rect
  1347                        	func
  1348                        	.function	274
  1349                        ~~k_is_inside_rect:
  1350                        	longa	on
  1351                        	longi	on
  1352 03:003A: 3B           	tsc
  1353 03:003B: 38           	sec
  1354 03:003C: E9 05 00     	sbc	#L7
  1355 03:003F: 1B           	tcs
  1356 03:0040: 0B           	phd
  1357 03:0041: 5B           	tcd
  1358             00000004   prect_0	set	4
  1359             00000008   dx_0	set	8
  1360             0000000A   dy_0	set	10
  1361                        	.block	274
  1362                        ;	BOOL bRet = FALSE;
  1363                        ;
  1364                        ;	if((dx > prect->x) && (dx < (prect->x + prect->w
                    idth)))
  1365             00000000   bRet_1	set	0
  1366                        	.sym	bRet,0,14,1,8
  1367                        	.sym	prect,4,138,6,32,25
  1368                        	.sym	dx,8,5,6,16
  1369                        	.sym	dy,10,5,6,16
  1370 03:0042: E2 20        	sep	#$20
  1371                        	longa	off
  1372 03:0044: 64 05        	stz	<L8+bRet_1
  1373 03:0046: C2 20        	rep	#$20
  1374                        	longa	on
  1375                        	.line	277
  1376                        ;	{
  1377 03:0048: 38           	sec
  1378 03:0049: A7 09        	lda	[<L7+prect_0]
  1379 03:004B: E5 0D        	sbc	<L7+dx_0
  1380 03:004D: 70 03        	bvs	L10
  1381 03:004F: 49 00 80     	eor	#$8000
  1382                        L10:
  1383 03:0052: 10 03        	bpl	L11
  1384 03:0054: 82 4F 00     	brl	L10002
  1385                        L11:
  1386 03:0057: 18           	clc
  1387 03:0058: A7 09        	lda	[<L7+prect_0]
  1388 03:005A: A0 04 00     	ldy	#$4
  1389 03:005D: 77 09        	adc	[<L7+prect_0],Y
  1390 03:005F: 85 01        	sta	<R0
  1391 03:0061: 38           	sec
  1392 03:0062: A5 0D        	lda	<L7+dx_0
  1393 03:0064: E5 01        	sbc	<R0
  1394 03:0066: 70 03        	bvs	L12
  1395 03:0068: 49 00 80     	eor	#$8000
  1396                        L12:
  1397 03:006B: 10 03        	bpl	L13
  1398 03:006D: 82 36 00     	brl	L10002
  1399                        L13:
  1400                        	.line	278
  1401                        ;		if((dy > prect->y) && (dy < (prect->y + 
  Thu Dec  3 2020 22:25                                                Page 34


                    prect->height)))
  1402                        	.line	279
  1403                        ;		{
  1404 03:0070: 38           	sec
  1405 03:0071: A0 02 00     	ldy	#$2
  1406 03:0074: B7 09        	lda	[<L7+prect_0],Y
  1407 03:0076: E5 0F        	sbc	<L7+dy_0
  1408 03:0078: 70 03        	bvs	L14
  1409 03:007A: 49 00 80     	eor	#$8000
  1410                        L14:
  1411 03:007D: 10 03        	bpl	L15
  1412 03:007F: 82 24 00     	brl	L10003
  1413                        L15:
  1414 03:0082: 18           	clc
  1415 03:0083: A0 02 00     	ldy	#$2
  1416 03:0086: B7 09        	lda	[<L7+prect_0],Y
  1417 03:0088: A0 06 00     	ldy	#$6
  1418 03:008B: 77 09        	adc	[<L7+prect_0],Y
  1419 03:008D: 85 01        	sta	<R0
  1420 03:008F: 38           	sec
  1421 03:0090: A5 0F        	lda	<L7+dy_0
  1422 03:0092: E5 01        	sbc	<R0
  1423 03:0094: 70 03        	bvs	L16
  1424 03:0096: 49 00 80     	eor	#$8000
  1425                        L16:
  1426 03:0099: 10 03        	bpl	L17
  1427 03:009B: 82 08 00     	brl	L10003
  1428                        L17:
  1429                        	.line	280
  1430                        ;			bRet = TRUE;
  1431                        	.line	281
  1432 03:009E: E2 20        	sep	#$20
  1433                        	longa	off
  1434 03:00A0: A9 01        	lda	#$1
  1435 03:00A2: 85 05        	sta	<L8+bRet_1
  1436 03:00A4: C2 20        	rep	#$20
  1437                        	longa	on
  1438                        ;		}
  1439                        	.line	282
  1440                        ;	}
  1441                        L10003:
  1442                        	.line	283
  1443                        ;
  1444                        ;	return bRet;
  1445                        L10002:
  1446                        	.line	285
  1447 03:00A6: A5 05        	lda	<L8+bRet_1
  1448 03:00A8: 29 FF 00     	and	#$ff
  1449                        L18:
  1450 03:00AB: A8           	tay
  1451 03:00AC: A5 07        	lda	<L7+2
  1452 03:00AE: 85 0F        	sta	<L7+2+8
  1453 03:00B0: A5 06        	lda	<L7+1
  1454 03:00B2: 85 0E        	sta	<L7+1+8
  1455 03:00B4: 2B           	pld
  1456 03:00B5: 3B           	tsc
  1457 03:00B6: 18           	clc
  1458 03:00B7: 69 0D 00     	adc	#L7+8
  Thu Dec  3 2020 22:25                                                Page 35


  1459 03:00BA: 1B           	tcs
  1460 03:00BB: 98           	tya
  1461 03:00BC: 6B           	rtl
  1462                        ;}
  1463                        	.line	286
  1464                        	.endblock	286
  1465             00000005   L7	equ	5
  1466             00000005   L8	equ	5
  1467 03:00BD:              	ends
  1468                        	efunc
  1469                        	.endfunc	286,5,5
  1470                        	.line	286
  1471                        ;
  1472                        ;LONG k_gui_get_pixel_offset(int x,int y)
  1473                        ;{
  1474                        	.line	288
  1475                        	.line	289
  1476                        	GUI
  1477                        	xdef	~~k_gui_get_pixel_offset
  1478                        	func
  1479                        	.function	289
  1480                        ~~k_gui_get_pixel_offset:
  1481                        	longa	on
  1482                        	longi	on
  1483 03:00BD: 3B           	tsc
  1484 03:00BE: 38           	sec
  1485 03:00BF: E9 04 00     	sbc	#L19
  1486 03:00C2: 1B           	tcs
  1487 03:00C3: 0B           	phd
  1488 03:00C4: 5B           	tcd
  1489             00000004   x_0	set	4
  1490             00000006   y_0	set	6
  1491                        	.block	289
  1492                        ;	//return (LPVOID)(( ((long)y) * (640L)) + ((long
                    )x) );
  1493                        ;	return k_gui_get_pixel_offset_width(x,y,640);
  1494                        	.sym	x,4,5,6,16
  1495                        	.sym	y,6,5,6,16
  1496                        	.line	291
  1497 03:00C5: F4 80 02     	pea	#<$280
  1498 03:00C8: D4 0A        	pei	<L19+y_0
  1499 03:00CA: D4 08        	pei	<L19+x_0
  1500 03:00CC: 22 EA 00 03  	jsl	~~k_gui_get_pixel_offset_width
  1501 03:00D0: 85 01        	sta	<R0
  1502 03:00D2: 86 03        	stx	<R0+2
  1503 03:00D4: A6 03        	ldx	<R0+2
  1504 03:00D6: A5 01        	lda	<R0
  1505                        L22:
  1506 03:00D8: A8           	tay
  1507 03:00D9: A5 06        	lda	<L19+2
  1508 03:00DB: 85 0A        	sta	<L19+2+4
  1509 03:00DD: A5 05        	lda	<L19+1
  1510 03:00DF: 85 09        	sta	<L19+1+4
  1511 03:00E1: 2B           	pld
  1512 03:00E2: 3B           	tsc
  1513 03:00E3: 18           	clc
  1514 03:00E4: 69 08 00     	adc	#L19+4
  1515 03:00E7: 1B           	tcs
  Thu Dec  3 2020 22:25                                                Page 36


  1516 03:00E8: 98           	tya
  1517 03:00E9: 6B           	rtl
  1518                        ;}
  1519                        	.line	292
  1520                        	.endblock	292
  1521             00000004   L19	equ	4
  1522             00000005   L20	equ	5
  1523 03:00EA:              	ends
  1524                        	efunc
  1525                        	.endfunc	292,5,4
  1526                        	.line	292
  1527                        ;
  1528                        ;LONG k_gui_get_pixel_offset_width(int x,int y,int
                     width)
  1529                        ;{
  1530                        	.line	294
  1531                        	.line	295
  1532                        	GUI
  1533                        	xdef	~~k_gui_get_pixel_offset_width
  1534                        	func
  1535                        	.function	295
  1536                        ~~k_gui_get_pixel_offset_width:
  1537                        	longa	on
  1538                        	longi	on
  1539 03:00EA: 3B           	tsc
  1540 03:00EB: 38           	sec
  1541 03:00EC: E9 0C 00     	sbc	#L23
  1542 03:00EF: 1B           	tcs
  1543 03:00F0: 0B           	phd
  1544 03:00F1: 5B           	tcd
  1545             00000004   x_0	set	4
  1546             00000006   y_0	set	6
  1547             00000008   width_0	set	8
  1548                        	.block	295
  1549                        ;	return (LONG)(( ((long)y) * ((long)width)) + ((l
                    ong)x) );
  1550                        	.sym	x,4,5,6,16
  1551                        	.sym	y,6,5,6,16
  1552                        	.sym	width,8,5,6,16
  1553                        	.line	296
  1554 03:00F2: A0 00 00     	ldy	#$0
  1555 03:00F5: A5 10        	lda	<L23+x_0
  1556 03:00F7: 10 01        	bpl	L26
  1557 03:00F9: 88           	dey
  1558                        L26:
  1559 03:00FA: 85 01        	sta	<R0
  1560 03:00FC: 84 03        	sty	<R0+2
  1561 03:00FE: A0 00 00     	ldy	#$0
  1562 03:0101: A5 14        	lda	<L23+width_0
  1563 03:0103: 10 01        	bpl	L27
  1564 03:0105: 88           	dey
  1565                        L27:
  1566 03:0106: 85 05        	sta	<R1
  1567 03:0108: 84 07        	sty	<R1+2
  1568 03:010A: A0 00 00     	ldy	#$0
  1569 03:010D: A5 12        	lda	<L23+y_0
  1570 03:010F: 10 01        	bpl	L28
  1571 03:0111: 88           	dey
  Thu Dec  3 2020 22:25                                                Page 37


  1572                        L28:
  1573 03:0112: 85 09        	sta	<R2
  1574 03:0114: 84 0B        	sty	<R2+2
  1575 03:0116: D4 07        	pei	<R1+2
  1576 03:0118: D4 05        	pei	<R1
  1577 03:011A: D4 0B        	pei	<R2+2
  1578 03:011C: D4 09        	pei	<R2
  1579                        	xref	~~~lmul
  1580 03:011E: 22 xx xx xx  	jsl	~~~lmul
  1581 03:0122: 85 05        	sta	<R1
  1582 03:0124: 86 07        	stx	<R1+2
  1583 03:0126: 18           	clc
  1584 03:0127: A5 05        	lda	<R1
  1585 03:0129: 65 01        	adc	<R0
  1586 03:012B: 85 09        	sta	<R2
  1587 03:012D: A5 07        	lda	<R1+2
  1588 03:012F: 65 03        	adc	<R0+2
  1589 03:0131: 85 0B        	sta	<R2+2
  1590 03:0133: A6 0B        	ldx	<R2+2
  1591 03:0135: A5 09        	lda	<R2
  1592                        L29:
  1593 03:0137: A8           	tay
  1594 03:0138: A5 0E        	lda	<L23+2
  1595 03:013A: 85 14        	sta	<L23+2+6
  1596 03:013C: A5 0D        	lda	<L23+1
  1597 03:013E: 85 13        	sta	<L23+1+6
  1598 03:0140: 2B           	pld
  1599 03:0141: 3B           	tsc
  1600 03:0142: 18           	clc
  1601 03:0143: 69 12 00     	adc	#L23+6
  1602 03:0146: 1B           	tcs
  1603 03:0147: 98           	tya
  1604 03:0148: 6B           	rtl
  1605                        ;}
  1606                        	.line	297
  1607                        	.endblock	297
  1608             0000000C   L23	equ	12
  1609             0000000D   L24	equ	13
  1610 03:0149:              	ends
  1611                        	efunc
  1612                        	.endfunc	297,13,12
  1613                        	.line	297
  1614                        ;
  1615                        ;void k_drawPixel(char fcolor,char fcolor2,char fc
                    olor3)
  1616                        ;{
  1617                        	.line	299
  1618                        	.line	300
  1619                        	GUI
  1620                        	xdef	~~k_drawPixel
  1621                        	func
  1622                        	.function	300
  1623                        ~~k_drawPixel:
  1624                        	longa	on
  1625                        	longi	on
  1626 03:0149: 3B           	tsc
  1627 03:014A: 38           	sec
  1628 03:014B: E9 0D 00     	sbc	#L30
  Thu Dec  3 2020 22:25                                                Page 38


  1629 03:014E: 1B           	tcs
  1630 03:014F: 0B           	phd
  1631 03:0150: 5B           	tcd
  1632             00000004   fcolor_0	set	4
  1633             00000006   fcolor2_0	set	6
  1634             00000008   fcolor3_0	set	8
  1635                        	.block	300
  1636                        ;	long vbuffer = 0xB00000;
  1637                        ;	long ki = 0;
  1638                        ;	long tt = 0;
  1639                        ;	char mask = 0x00;
  1640                        ;	/*
  1641                        ;	unsigned int pos = 0;
  1642                        ;	
  1643                        ;	pos = ((640L * ploty) + plotx);
  1644                        ;	buffer[pos] = 0x01;
  1645                        ;	return;
  1646                        ;	*/
  1647                        ;
  1648                        ;}
  1649             00000000   vbuffer_1	set	0
  1650             00000004   ki_1	set	4
  1651             00000008   tt_1	set	8
  1652             0000000C   mask_1	set	12
  1653                        	.sym	vbuffer,0,7,1,32
  1654                        	.sym	ki,4,7,1,32
  1655                        	.sym	tt,8,7,1,32
  1656                        	.sym	mask,12,14,1,8
  1657                        	.sym	fcolor,4,14,6,8
  1658                        	.sym	fcolor2,6,14,6,8
  1659                        	.sym	fcolor3,8,14,6,8
  1660 03:0151: A9 00 00     	lda	#$0
  1661 03:0154: 85 01        	sta	<L31+vbuffer_1
  1662 03:0156: A9 B0 00     	lda	#$b0
  1663 03:0159: 85 03        	sta	<L31+vbuffer_1+2
  1664 03:015B: 64 05        	stz	<L31+ki_1
  1665 03:015D: 64 07        	stz	<L31+ki_1+2
  1666 03:015F: 64 09        	stz	<L31+tt_1
  1667 03:0161: 64 0B        	stz	<L31+tt_1+2
  1668 03:0163: E2 20        	sep	#$20
  1669                        	longa	off
  1670 03:0165: 64 0D        	stz	<L31+mask_1
  1671 03:0167: C2 20        	rep	#$20
  1672                        	longa	on
  1673                        	.line	313
  1674                        L33:
  1675 03:0169: A5 0F        	lda	<L30+2
  1676 03:016B: 85 15        	sta	<L30+2+6
  1677 03:016D: A5 0E        	lda	<L30+1
  1678 03:016F: 85 14        	sta	<L30+1+6
  1679 03:0171: 2B           	pld
  1680 03:0172: 3B           	tsc
  1681 03:0173: 18           	clc
  1682 03:0174: 69 13 00     	adc	#L30+6
  1683 03:0177: 1B           	tcs
  1684 03:0178: 6B           	rtl
  1685                        	.endblock	313
  1686             0000000D   L30	equ	13
  Thu Dec  3 2020 22:25                                                Page 39


  1687             00000001   L31	equ	1
  1688 03:0179:              	ends
  1689                        	efunc
  1690                        	.endfunc	313,1,13
  1691                        	.line	313
  1692                        ;
  1693                        ;void k_set_foreground_palette(char paletteId)
  1694                        ;{
  1695                        	.line	315
  1696                        	.line	316
  1697                        	GUI
  1698                        	xdef	~~k_set_foreground_palette
  1699                        	func
  1700                        	.function	316
  1701                        ~~k_set_foreground_palette:
  1702                        	longa	on
  1703                        	longi	on
  1704 03:0179: 3B           	tsc
  1705 03:017A: 38           	sec
  1706 03:017B: E9 00 00     	sbc	#L34
  1707 03:017E: 1B           	tcs
  1708 03:017F: 0B           	phd
  1709 03:0180: 5B           	tcd
  1710             00000004   paletteId_0	set	4
  1711                        	.block	316
  1712                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  1713                        	.sym	paletteId,4,14,6,8
  1714                        	.line	317
  1715 03:0181: E2 20        	sep	#$20
  1716                        	longa	off
  1717 03:0183: A5 04        	lda	<L34+paletteId_0
  1718 03:0185: 8F 40 1F AF  	sta	>11476800
  1719 03:0189: C2 20        	rep	#$20
  1720                        	longa	on
  1721                        ;}
  1722                        	.line	318
  1723                        L37:
  1724 03:018B: A5 02        	lda	<L34+2
  1725 03:018D: 85 04        	sta	<L34+2+2
  1726 03:018F: A5 01        	lda	<L34+1
  1727 03:0191: 85 03        	sta	<L34+1+2
  1728 03:0193: 2B           	pld
  1729 03:0194: 3B           	tsc
  1730 03:0195: 18           	clc
  1731 03:0196: 69 02 00     	adc	#L34+2
  1732 03:0199: 1B           	tcs
  1733 03:019A: 6B           	rtl
  1734                        	.endblock	318
  1735             00000000   L34	equ	0
  1736             00000001   L35	equ	1
  1737 03:019B:              	ends
  1738                        	efunc
  1739                        	.endfunc	318,1,0
  1740                        	.line	318
  1741                        ;
  1742                        ;void k_set_text_gamma(char c)
  1743                        ;{
  1744                        	.line	320
  Thu Dec  3 2020 22:25                                                Page 40


  1745                        	.line	321
  1746                        	GUI
  1747                        	xdef	~~k_set_text_gamma
  1748                        	func
  1749                        	.function	321
  1750                        ~~k_set_text_gamma:
  1751                        	longa	on
  1752                        	longi	on
  1753 03:019B: 3B           	tsc
  1754 03:019C: 38           	sec
  1755 03:019D: E9 00 00     	sbc	#L38
  1756 03:01A0: 1B           	tcs
  1757 03:01A1: 0B           	phd
  1758 03:01A2: 5B           	tcd
  1759             00000004   c_0	set	4
  1760                        	.block	321
  1761                        ;	GAMMA_B_LUT_PTR[0] = c;
  1762                        	.sym	c,4,14,6,8
  1763                        	.line	322
  1764 03:01A3: E2 20        	sep	#$20
  1765                        	longa	off
  1766 03:01A5: A5 04        	lda	<L38+c_0
  1767 03:01A7: 8F 00 40 AF  	sta	>11485184
  1768 03:01AB: C2 20        	rep	#$20
  1769                        	longa	on
  1770                        ;	GAMMA_G_LUT_PTR[0] = c;
  1771                        	.line	323
  1772 03:01AD: E2 20        	sep	#$20
  1773                        	longa	off
  1774 03:01AF: A5 04        	lda	<L38+c_0
  1775 03:01B1: 8F 00 41 AF  	sta	>11485440
  1776 03:01B5: C2 20        	rep	#$20
  1777                        	longa	on
  1778                        ;	GAMMA_R_LUT_PTR[0] = c;
  1779                        	.line	324
  1780 03:01B7: E2 20        	sep	#$20
  1781                        	longa	off
  1782 03:01B9: A5 04        	lda	<L38+c_0
  1783 03:01BB: 8F 00 42 AF  	sta	>11485696
  1784 03:01BF: C2 20        	rep	#$20
  1785                        	longa	on
  1786                        ;}
  1787                        	.line	325
  1788                        L41:
  1789 03:01C1: A5 02        	lda	<L38+2
  1790 03:01C3: 85 04        	sta	<L38+2+2
  1791 03:01C5: A5 01        	lda	<L38+1
  1792 03:01C7: 85 03        	sta	<L38+1+2
  1793 03:01C9: 2B           	pld
  1794 03:01CA: 3B           	tsc
  1795 03:01CB: 18           	clc
  1796 03:01CC: 69 02 00     	adc	#L38+2
  1797 03:01CF: 1B           	tcs
  1798 03:01D0: 6B           	rtl
  1799                        	.endblock	325
  1800             00000000   L38	equ	0
  1801             00000001   L39	equ	1
  1802 03:01D1:              	ends
  Thu Dec  3 2020 22:25                                                Page 41


  1803                        	efunc
  1804                        	.endfunc	325,1,0
  1805                        	.line	325
  1806                        ;
  1807                        ;void k_set_text_color(char c)
  1808                        ;{
  1809                        	.line	327
  1810                        	.line	328
  1811                        	GUI
  1812                        	xdef	~~k_set_text_color
  1813                        	func
  1814                        	.function	328
  1815                        ~~k_set_text_color:
  1816                        	longa	on
  1817                        	longi	on
  1818 03:01D1: 3B           	tsc
  1819 03:01D2: 38           	sec
  1820 03:01D3: E9 00 00     	sbc	#L42
  1821 03:01D6: 1B           	tcs
  1822 03:01D7: 0B           	phd
  1823 03:01D8: 5B           	tcd
  1824             00000004   c_0	set	4
  1825                        	.block	328
  1826                        ;	CURCOLOR_L[0] = c;
  1827                        	.sym	c,4,14,6,8
  1828                        	.line	329
  1829 03:01D9: E2 20        	sep	#$20
  1830                        	longa	off
  1831 03:01DB: A5 04        	lda	<L42+c_0
  1832 03:01DD: 8F 1E 00 00  	sta	>30
  1833 03:01E1: C2 20        	rep	#$20
  1834                        	longa	on
  1835                        ;	CURCOLOR_H[0] = c;
  1836                        	.line	330
  1837 03:01E3: E2 20        	sep	#$20
  1838                        	longa	off
  1839 03:01E5: A5 04        	lda	<L42+c_0
  1840 03:01E7: 8F 1F 00 00  	sta	>31
  1841 03:01EB: C2 20        	rep	#$20
  1842                        	longa	on
  1843                        ;}
  1844                        	.line	331
  1845                        L45:
  1846 03:01ED: A5 02        	lda	<L42+2
  1847 03:01EF: 85 04        	sta	<L42+2+2
  1848 03:01F1: A5 01        	lda	<L42+1
  1849 03:01F3: 85 03        	sta	<L42+1+2
  1850 03:01F5: 2B           	pld
  1851 03:01F6: 3B           	tsc
  1852 03:01F7: 18           	clc
  1853 03:01F8: 69 02 00     	adc	#L42+2
  1854 03:01FB: 1B           	tcs
  1855 03:01FC: 6B           	rtl
  1856                        	.endblock	331
  1857             00000000   L42	equ	0
  1858             00000001   L43	equ	1
  1859 03:01FD:              	ends
  1860                        	efunc
  Thu Dec  3 2020 22:25                                                Page 42


  1861                        	.endfunc	331,1,0
  1862                        	.line	331
  1863                        ;
  1864                        ;
  1865                        ;
  1866                        ;
  1867                        ;
  1868                        ;//
  1869                        ;// 
  1870                        ;WINDOW FAR* k_get_window(HANDLE hWindow)
  1871                        ;{
  1872                        	.line	339
  1873                        	.line	340
  1874                        	GUI
  1875                        	xdef	~~k_get_window
  1876                        	func
  1877                        	.function	340
  1878                        ~~k_get_window:
  1879                        	longa	on
  1880                        	longi	on
  1881 03:01FD: 3B           	tsc
  1882 03:01FE: 38           	sec
  1883 03:01FF: E9 08 00     	sbc	#L46
  1884 03:0202: 1B           	tcs
  1885 03:0203: 0B           	phd
  1886 03:0204: 5B           	tcd
  1887             00000004   hWindow_0	set	4
  1888                        	.block	340
  1889                        ;	return &_k_window_list[(ULONG)hWindow];
  1890                        	.sym	hWindow,4,129,6,32
  1891                        	.line	341
  1892 03:0205: F4 00 00     	pea	#^$15f
  1893 03:0208: F4 5F 01     	pea	#<$15f
  1894 03:020B: D4 0E        	pei	<L46+hWindow_0+2
  1895 03:020D: D4 0C        	pei	<L46+hWindow_0
  1896                        	xref	~~~lmul
  1897 03:020F: 22 xx xx xx  	jsl	~~~lmul
  1898 03:0213: 85 01        	sta	<R0
  1899 03:0215: 86 03        	stx	<R0+2
  1900 03:0217: 18           	clc
  1901 03:0218: A9 xx xx     	lda	#<~~_k_window_list
  1902 03:021B: 65 01        	adc	<R0
  1903 03:021D: 85 05        	sta	<R1
  1904 03:021F: A9 xx xx     	lda	#^~~_k_window_list
  1905 03:0222: 65 03        	adc	<R0+2
  1906 03:0224: 85 07        	sta	<R1+2
  1907 03:0226: A6 07        	ldx	<R1+2
  1908 03:0228: A5 05        	lda	<R1
  1909                        L49:
  1910 03:022A: A8           	tay
  1911 03:022B: A5 0A        	lda	<L46+2
  1912 03:022D: 85 0E        	sta	<L46+2+4
  1913 03:022F: A5 09        	lda	<L46+1
  1914 03:0231: 85 0D        	sta	<L46+1+4
  1915 03:0233: 2B           	pld
  1916 03:0234: 3B           	tsc
  1917 03:0235: 18           	clc
  1918 03:0236: 69 0C 00     	adc	#L46+4
  Thu Dec  3 2020 22:25                                                Page 43


  1919 03:0239: 1B           	tcs
  1920 03:023A: 98           	tya
  1921 03:023B: 6B           	rtl
  1922                        ;}
  1923                        	.line	342
  1924                        	.endblock	342
  1925             00000008   L46	equ	8
  1926             00000009   L47	equ	9
  1927 03:023C:              	ends
  1928                        	efunc
  1929                        	.endfunc	342,9,8
  1930                        	.line	342
  1931                        ; 
  1932                        ;
  1933                        ;void k_write_window_text(HANDLE hWin,int col,int 
                    row,char FAR * text,int fcolor,int bcolor)
  1934                        ;{
  1935                        	.line	345
  1936                        	.line	346
  1937                        	GUI
  1938                        	xdef	~~k_write_window_text
  1939                        	func
  1940                        	.function	346
  1941                        ~~k_write_window_text:
  1942                        	longa	on
  1943                        	longi	on
  1944 03:023C: 3B           	tsc
  1945 03:023D: 38           	sec
  1946 03:023E: E9 00 00     	sbc	#L50
  1947 03:0241: 1B           	tcs
  1948 03:0242: 0B           	phd
  1949 03:0243: 5B           	tcd
  1950             00000004   hWin_0	set	4
  1951             00000008   col_0	set	8
  1952             0000000A   row_0	set	10
  1953             0000000C   text_0	set	12
  1954             00000010   fcolor_0	set	16
  1955             00000012   bcolor_0	set	18
  1956                        	.block	346
  1957                        ;	
  1958                        ;}
  1959                        	.sym	hWin,4,129,6,32
  1960                        	.sym	col,8,5,6,16
  1961                        	.sym	row,10,5,6,16
  1962                        	.sym	text,12,142,6,32
  1963                        	.sym	fcolor,16,5,6,16
  1964                        	.sym	bcolor,18,5,6,16
  1965                        	.line	348
  1966                        L53:
  1967 03:0244: A5 02        	lda	<L50+2
  1968 03:0246: 85 12        	sta	<L50+2+16
  1969 03:0248: A5 01        	lda	<L50+1
  1970 03:024A: 85 11        	sta	<L50+1+16
  1971 03:024C: 2B           	pld
  1972 03:024D: 3B           	tsc
  1973 03:024E: 18           	clc
  1974 03:024F: 69 10 00     	adc	#L50+16
  1975 03:0252: 1B           	tcs
  Thu Dec  3 2020 22:25                                                Page 44


  1976 03:0253: 6B           	rtl
  1977                        	.endblock	348
  1978             00000000   L50	equ	0
  1979             00000001   L51	equ	1
  1980 03:0254:              	ends
  1981                        	efunc
  1982                        	.endfunc	348,1,0
  1983                        	.line	348
  1984                        ; 
  1985                        ;
  1986                        ;HANDLE k_create_window(int bx,int by,int bw,int b
                    h,char FAR* title)
  1987                        ;{
  1988                        	.line	351
  1989                        	.line	352
  1990                        	GUI
  1991                        	xdef	~~k_create_window
  1992                        	func
  1993                        	.function	352
  1994                        ~~k_create_window:
  1995                        	longa	on
  1996                        	longi	on
  1997 03:0254: 3B           	tsc
  1998 03:0255: 38           	sec
  1999 03:0256: E9 0A 00     	sbc	#L54
  2000 03:0259: 1B           	tcs
  2001 03:025A: 0B           	phd
  2002 03:025B: 5B           	tcd
  2003             00000004   bx_0	set	4
  2004             00000006   by_0	set	6
  2005             00000008   bw_0	set	8
  2006             0000000A   bh_0	set	10
  2007             0000000C   title_0	set	12
  2008                        	.block	352
  2009                        ;	int index = -1;
  2010                        ;	WINDOW FAR *pwin = NULL;
  2011                        ;
  2012                        ;	k_put_char(0,1,'a',5,0);
  2013             00000000   index_1	set	0
  2014             00000002   pwin_1	set	2
  2015                        	.sym	index,0,5,1,16
  2016                        	.sym	pwin,2,138,1,32,30
  2017                        	.sym	bx,4,5,6,16
  2018                        	.sym	by,6,5,6,16
  2019                        	.sym	bw,8,5,6,16
  2020                        	.sym	bh,10,5,6,16
  2021                        	.sym	title,12,142,6,32
  2022 03:025C: A9 FF FF     	lda	#$ffff
  2023 03:025F: 85 05        	sta	<L55+index_1
  2024 03:0261: 64 07        	stz	<L55+pwin_1
  2025 03:0263: 64 09        	stz	<L55+pwin_1+2
  2026                        	.line	356
  2027 03:0265: F4 00 00     	pea	#<$0
  2028 03:0268: F4 05 00     	pea	#<$5
  2029 03:026B: F4 61 00     	pea	#<$61
  2030 03:026E: F4 01 00     	pea	#<$1
  2031 03:0271: F4 00 00     	pea	#<$0
  2032 03:0274: 22 xx xx xx  	jsl	~~k_put_char
  Thu Dec  3 2020 22:25                                                Page 45


  2033                        ;	
  2034                        ;	index = _k_window_index++;
  2035                        	.line	358
  2036 03:0278: AF xx xx xx  	lda	>~~_k_window_index
  2037 03:027C: 85 05        	sta	<L55+index_1
  2038 03:027E: AF xx xx xx  	lda	>~~_k_window_index
  2039 03:0282: 1A           	ina
  2040 03:0283: 8F xx xx xx  	sta	>~~_k_window_index
  2041                        ;	
  2042                        ;	k_put_char(0,1,'b',5,0);
  2043                        	.line	360
  2044 03:0287: F4 00 00     	pea	#<$0
  2045 03:028A: F4 05 00     	pea	#<$5
  2046 03:028D: F4 62 00     	pea	#<$62
  2047 03:0290: F4 01 00     	pea	#<$1
  2048 03:0293: F4 00 00     	pea	#<$0
  2049 03:0296: 22 xx xx xx  	jsl	~~k_put_char
  2050                        ;	
  2051                        ;	pwin = &_k_window_list[index];
  2052                        	.line	362
  2053 03:029A: A0 00 00     	ldy	#$0
  2054 03:029D: A5 05        	lda	<L55+index_1
  2055 03:029F: 10 01        	bpl	L57
  2056 03:02A1: 88           	dey
  2057                        L57:
  2058 03:02A2: 85 01        	sta	<R0
  2059 03:02A4: 84 03        	sty	<R0+2
  2060 03:02A6: F4 00 00     	pea	#^$15f
  2061 03:02A9: F4 5F 01     	pea	#<$15f
  2062 03:02AC: D4 03        	pei	<R0+2
  2063 03:02AE: D4 01        	pei	<R0
  2064                        	xref	~~~lmul
  2065 03:02B0: 22 xx xx xx  	jsl	~~~lmul
  2066 03:02B4: 85 01        	sta	<R0
  2067 03:02B6: 86 03        	stx	<R0+2
  2068 03:02B8: 18           	clc
  2069 03:02B9: A9 xx xx     	lda	#<~~_k_window_list
  2070 03:02BC: 65 01        	adc	<R0
  2071 03:02BE: 85 07        	sta	<L55+pwin_1
  2072 03:02C0: A9 xx xx     	lda	#^~~_k_window_list
  2073 03:02C3: 65 03        	adc	<R0+2
  2074 03:02C5: 85 09        	sta	<L55+pwin_1+2
  2075                        ;	
  2076                        ;	pwin->win_x = bx;
  2077                        	.line	364
  2078 03:02C7: A5 0E        	lda	<L54+bx_0
  2079 03:02C9: A0 08 00     	ldy	#$8
  2080 03:02CC: 97 07        	sta	[<L55+pwin_1],Y
  2081                        ;	pwin->win_y = by;
  2082                        	.line	365
  2083 03:02CE: A5 10        	lda	<L54+by_0
  2084 03:02D0: A0 0A 00     	ldy	#$a
  2085 03:02D3: 97 07        	sta	[<L55+pwin_1],Y
  2086                        ;	pwin->win_width = bw;
  2087                        	.line	366
  2088 03:02D5: A5 12        	lda	<L54+bw_0
  2089 03:02D7: A0 0C 00     	ldy	#$c
  2090 03:02DA: 97 07        	sta	[<L55+pwin_1],Y
  Thu Dec  3 2020 22:25                                                Page 46


  2091                        ;	pwin->win_height = bh;
  2092                        	.line	367
  2093 03:02DC: A5 14        	lda	<L54+bh_0
  2094 03:02DE: A0 0E 00     	ldy	#$e
  2095 03:02E1: 97 07        	sta	[<L55+pwin_1],Y
  2096                        ;
  2097                        ;	k_put_char(0,1,'c',5,0);
  2098                        	.line	369
  2099 03:02E3: F4 00 00     	pea	#<$0
  2100 03:02E6: F4 05 00     	pea	#<$5
  2101 03:02E9: F4 63 00     	pea	#<$63
  2102 03:02EC: F4 01 00     	pea	#<$1
  2103 03:02EF: F4 00 00     	pea	#<$0
  2104 03:02F2: 22 xx xx xx  	jsl	~~k_put_char
  2105                        ;	
  2106                        ;	strcpy(pwin->win_title,title);
  2107                        	.line	371
  2108 03:02F6: D4 18        	pei	<L54+title_0+2
  2109 03:02F8: D4 16        	pei	<L54+title_0
  2110 03:02FA: 18           	clc
  2111 03:02FB: A9 D4 00     	lda	#$d4
  2112 03:02FE: 65 07        	adc	<L55+pwin_1
  2113 03:0300: 85 01        	sta	<R0
  2114 03:0302: A9 00 00     	lda	#$0
  2115 03:0305: 65 09        	adc	<L55+pwin_1+2
  2116 03:0307: 85 03        	sta	<R0+2
  2117 03:0309: D4 03        	pei	<R0+2
  2118 03:030B: D4 01        	pei	<R0
  2119 03:030D: 22 xx xx xx  	jsl	~~strcpy
  2120                        ;	
  2121                        ;	k_put_char(0,1,'d',5,0);
  2122                        	.line	373
  2123 03:0311: F4 00 00     	pea	#<$0
  2124 03:0314: F4 05 00     	pea	#<$5
  2125 03:0317: F4 64 00     	pea	#<$64
  2126 03:031A: F4 01 00     	pea	#<$1
  2127 03:031D: F4 00 00     	pea	#<$0
  2128 03:0320: 22 xx xx xx  	jsl	~~k_put_char
  2129                        ;	
  2130                        ;	k_window_draw(pwin->win_x,pwin->win_y,pwin->win_
                    width,pwin->win_height,pwin->win_title);
  2131                        	.line	375
  2132 03:0324: 18           	clc
  2133 03:0325: A9 D4 00     	lda	#$d4
  2134 03:0328: 65 07        	adc	<L55+pwin_1
  2135 03:032A: 85 01        	sta	<R0
  2136 03:032C: A9 00 00     	lda	#$0
  2137 03:032F: 65 09        	adc	<L55+pwin_1+2
  2138 03:0331: 85 03        	sta	<R0+2
  2139 03:0333: D4 03        	pei	<R0+2
  2140 03:0335: D4 01        	pei	<R0
  2141 03:0337: A0 0E 00     	ldy	#$e
  2142 03:033A: B7 07        	lda	[<L55+pwin_1],Y
  2143 03:033C: 48           	pha
  2144 03:033D: A0 0C 00     	ldy	#$c
  2145 03:0340: B7 07        	lda	[<L55+pwin_1],Y
  2146 03:0342: 48           	pha
  2147 03:0343: A0 0A 00     	ldy	#$a
  Thu Dec  3 2020 22:25                                                Page 47


  2148 03:0346: B7 07        	lda	[<L55+pwin_1],Y
  2149 03:0348: 48           	pha
  2150 03:0349: A0 08 00     	ldy	#$8
  2151 03:034C: B7 07        	lda	[<L55+pwin_1],Y
  2152 03:034E: 48           	pha
  2153 03:034F: 22 xx xx xx  	jsl	~~k_window_draw
  2154                        ;	
  2155                        ;	k_put_char(0,1,'e',5,0);
  2156                        	.line	377
  2157 03:0353: F4 00 00     	pea	#<$0
  2158 03:0356: F4 05 00     	pea	#<$5
  2159 03:0359: F4 65 00     	pea	#<$65
  2160 03:035C: F4 01 00     	pea	#<$1
  2161 03:035F: F4 00 00     	pea	#<$0
  2162 03:0362: 22 xx xx xx  	jsl	~~k_put_char
  2163                        ;	
  2164                        ;	return (HANDLE)index;
  2165                        	.line	379
  2166 03:0366: A0 00 00     	ldy	#$0
  2167 03:0369: A5 05        	lda	<L55+index_1
  2168 03:036B: 10 01        	bpl	L58
  2169 03:036D: 88           	dey
  2170                        L58:
  2171 03:036E: 85 01        	sta	<R0
  2172 03:0370: 84 03        	sty	<R0+2
  2173 03:0372: A6 03        	ldx	<R0+2
  2174 03:0374: A5 01        	lda	<R0
  2175                        L59:
  2176 03:0376: A8           	tay
  2177 03:0377: A5 0C        	lda	<L54+2
  2178 03:0379: 85 18        	sta	<L54+2+12
  2179 03:037B: A5 0B        	lda	<L54+1
  2180 03:037D: 85 17        	sta	<L54+1+12
  2181 03:037F: 2B           	pld
  2182 03:0380: 3B           	tsc
  2183 03:0381: 18           	clc
  2184 03:0382: 69 16 00     	adc	#L54+12
  2185 03:0385: 1B           	tcs
  2186 03:0386: 98           	tya
  2187 03:0387: 6B           	rtl
  2188                        ;}
  2189                        	.line	380
  2190                        	.endblock	380
  2191             0000000A   L54	equ	10
  2192             00000005   L55	equ	5
  2193 03:0388:              	ends
  2194                        	efunc
  2195                        	.endfunc	380,5,10
  2196                        	.line	380
  2197                        ;
  2198                        ;VOID k_set_text_colors(VOID)
  2199                        ;{
  2200                        	.line	382
  2201                        	.line	383
  2202                        	GUI
  2203                        	xdef	~~k_set_text_colors
  2204                        	func
  2205                        	.function	383
  Thu Dec  3 2020 22:25                                                Page 48


  2206                        ~~k_set_text_colors:
  2207                        	longa	on
  2208                        	longi	on
  2209 03:0388: 3B           	tsc
  2210 03:0389: 38           	sec
  2211 03:038A: E9 00 00     	sbc	#L60
  2212 03:038D: 1B           	tcs
  2213 03:038E: 0B           	phd
  2214 03:038F: 5B           	tcd
  2215                        	.block	383
  2216                        ;	k_debug_integer("k_set_text_colors::TEXT_FG_COLO
                    RS:",sizeof(TEXT_FG_COLORS));
  2217                        	.line	384
  2218 03:0390: F4 40 00     	pea	#<$40
  2219 03:0393: F4 xx xx     	pea	#^L1
  2220 03:0396: F4 xx xx     	pea	#<L1
  2221 03:0399: 22 xx xx xx  	jsl	~~k_debug_integer
  2222                        ;	k_debug_integer("k_set_text_colors::TEXT_BG_COLO
                    RS:",sizeof(TEXT_BG_COLORS));
  2223                        	.line	385
  2224 03:039D: F4 40 00     	pea	#<$40
  2225 03:03A0: F4 xx xx     	pea	#^L1+35
  2226 03:03A3: F4 xx xx     	pea	#<L1+35
  2227 03:03A6: 22 xx xx xx  	jsl	~~k_debug_integer
  2228                        ;
  2229                        ;	memcpy(FG_CHAR_LUT_PTR,TEXT_FG_COLORS,sizeof(TEX
                    T_FG_COLORS));
  2230                        	.line	387
  2231 03:03AA: F4 40 00     	pea	#<$40
  2232 03:03AD: F4 xx xx     	pea	#^~~TEXT_FG_COLORS
  2233 03:03B0: F4 xx xx     	pea	#<~~TEXT_FG_COLORS
  2234 03:03B3: F4 AF 00     	pea	#^$af1f40
  2235 03:03B6: F4 40 1F     	pea	#<$af1f40
  2236 03:03B9: 22 xx xx xx  	jsl	~~memcpy
  2237                        ;	memcpy(BG_CHAR_LUT_PTR,TEXT_BG_COLORS,sizeof(TEX
                    T_BG_COLORS));
  2238                        	.line	388
  2239 03:03BD: F4 40 00     	pea	#<$40
  2240 03:03C0: F4 xx xx     	pea	#^~~TEXT_BG_COLORS
  2241 03:03C3: F4 xx xx     	pea	#<~~TEXT_BG_COLORS
  2242 03:03C6: F4 AF 00     	pea	#^$af1f80
  2243 03:03C9: F4 80 1F     	pea	#<$af1f80
  2244 03:03CC: 22 xx xx xx  	jsl	~~memcpy
  2245                        ;}
  2246                        	.line	389
  2247                        L63:
  2248 03:03D0: 2B           	pld
  2249 03:03D1: 3B           	tsc
  2250 03:03D2: 18           	clc
  2251 03:03D3: 69 00 00     	adc	#L60
  2252 03:03D6: 1B           	tcs
  2253 03:03D7: 6B           	rtl
  2254                        	.endblock	389
  2255             00000000   L60	equ	0
  2256             00000001   L61	equ	1
  2257 03:03D8:              	ends
  2258                        	efunc
  2259                        	.endfunc	389,1,0
  Thu Dec  3 2020 22:25                                                Page 49


  2260                        	.line	389
  2261                        	data
  2262                        L1:
  2263 00:072C: 6B 5F 73 65  	db	$6B,$5F,$73,$65,$74,$5F,$74,$65,$78,$74,
                    $5F,$63,$6F,$6C,$6F
       00:0730: 74 5F 74 65 
       00:0734: 78 74 5F 63 
       00:0738: 6F 6C 6F 
  2264 00:073B: 72 73 3A 3A  	db	$72,$73,$3A,$3A,$54,$45,$58,$54,$5F,$46,
                    $47,$5F,$43,$4F,$4C
       00:073F: 54 45 58 54 
       00:0743: 5F 46 47 5F 
       00:0747: 43 4F 4C 
  2265 00:074A: 4F 52 53 3A  	db	$4F,$52,$53,$3A,$00,$6B,$5F,$73,$65,$74,
                    $5F,$74,$65,$78,$74
       00:074E: 00 6B 5F 73 
       00:0752: 65 74 5F 74 
       00:0756: 65 78 74 
  2266 00:0759: 5F 63 6F 6C  	db	$5F,$63,$6F,$6C,$6F,$72,$73,$3A,$3A,$54,
                    $45,$58,$54,$5F,$42
       00:075D: 6F 72 73 3A 
       00:0761: 3A 54 45 58 
       00:0765: 54 5F 42 
  2267 00:0768: 47 5F 43 4F  	db	$47,$5F,$43,$4F,$4C,$4F,$52,$53,$3A,$00
       00:076C: 4C 4F 52 53 
       00:0770: 3A 00 
  2268 00:0772:              	ends
  2269                        ;
  2270                        ;
  2271                        ;void setColors(void)
  2272                        ;{
  2273                        	.line	392
  2274                        	.line	393
  2275                        	GUI
  2276                        	xdef	~~setColors
  2277                        	func
  2278                        	.function	393
  2279                        ~~setColors:
  2280                        	longa	on
  2281                        	longi	on
  2282 03:03D8: 3B           	tsc
  2283 03:03D9: 38           	sec
  2284 03:03DA: E9 08 00     	sbc	#L65
  2285 03:03DD: 1B           	tcs
  2286 03:03DE: 0B           	phd
  2287 03:03DF: 5B           	tcd
  2288                        	.block	393
  2289                        ;	unsigned long colorIndex = 0;
  2290                        ;
  2291                        ;	//colorIndex = 0;
  2292                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2293             00000000   colorIndex_1	set	0
  2294                        	.sym	colorIndex,0,18,1,32
  2295 03:03E0: 64 05        	stz	<L66+colorIndex_1
  2296 03:03E2: 64 07        	stz	<L66+colorIndex_1+2
  2297                        	.line	397
  2298 03:03E4: 18           	clc
  2299 03:03E5: A9 00 20     	lda	#$2000
  Thu Dec  3 2020 22:25                                                Page 50


  2300 03:03E8: 65 05        	adc	<L66+colorIndex_1
  2301 03:03EA: 85 01        	sta	<R0
  2302 03:03EC: A9 AF 00     	lda	#$af
  2303 03:03EF: 65 07        	adc	<L66+colorIndex_1+2
  2304 03:03F1: 85 03        	sta	<R0+2
  2305 03:03F3: E2 20        	sep	#$20
  2306                        	longa	off
  2307 03:03F5: A9 00        	lda	#$0
  2308 03:03F7: 87 01        	sta	[<R0]
  2309 03:03F9: C2 20        	rep	#$20
  2310                        	longa	on
  2311 03:03FB: E6 05        	inc	<L66+colorIndex_1
  2312 03:03FD: D0 02        	bne	L68
  2313 03:03FF: E6 07        	inc	<L66+colorIndex_1+2
  2314                        L68:
  2315                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2316                        	.line	398
  2317 03:0401: 18           	clc
  2318 03:0402: A9 00 20     	lda	#$2000
  2319 03:0405: 65 05        	adc	<L66+colorIndex_1
  2320 03:0407: 85 01        	sta	<R0
  2321 03:0409: A9 AF 00     	lda	#$af
  2322 03:040C: 65 07        	adc	<L66+colorIndex_1+2
  2323 03:040E: 85 03        	sta	<R0+2
  2324 03:0410: E2 20        	sep	#$20
  2325                        	longa	off
  2326 03:0412: A9 00        	lda	#$0
  2327 03:0414: 87 01        	sta	[<R0]
  2328 03:0416: C2 20        	rep	#$20
  2329                        	longa	on
  2330 03:0418: E6 05        	inc	<L66+colorIndex_1
  2331 03:041A: D0 02        	bne	L69
  2332 03:041C: E6 07        	inc	<L66+colorIndex_1+2
  2333                        L69:
  2334                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2335                        	.line	399
  2336 03:041E: 18           	clc
  2337 03:041F: A9 00 20     	lda	#$2000
  2338 03:0422: 65 05        	adc	<L66+colorIndex_1
  2339 03:0424: 85 01        	sta	<R0
  2340 03:0426: A9 AF 00     	lda	#$af
  2341 03:0429: 65 07        	adc	<L66+colorIndex_1+2
  2342 03:042B: 85 03        	sta	<R0+2
  2343 03:042D: E2 20        	sep	#$20
  2344                        	longa	off
  2345 03:042F: A9 00        	lda	#$0
  2346 03:0431: 87 01        	sta	[<R0]
  2347 03:0433: C2 20        	rep	#$20
  2348                        	longa	on
  2349 03:0435: E6 05        	inc	<L66+colorIndex_1
  2350 03:0437: D0 02        	bne	L70
  2351 03:0439: E6 07        	inc	<L66+colorIndex_1+2
  2352                        L70:
  2353                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2354                        	.line	400
  2355 03:043B: 18           	clc
  2356 03:043C: A9 00 20     	lda	#$2000
  2357 03:043F: 65 05        	adc	<L66+colorIndex_1
  Thu Dec  3 2020 22:25                                                Page 51


  2358 03:0441: 85 01        	sta	<R0
  2359 03:0443: A9 AF 00     	lda	#$af
  2360 03:0446: 65 07        	adc	<L66+colorIndex_1+2
  2361 03:0448: 85 03        	sta	<R0+2
  2362 03:044A: E2 20        	sep	#$20
  2363                        	longa	off
  2364 03:044C: A9 FF        	lda	#$ff
  2365 03:044E: 87 01        	sta	[<R0]
  2366 03:0450: C2 20        	rep	#$20
  2367                        	longa	on
  2368 03:0452: E6 05        	inc	<L66+colorIndex_1
  2369 03:0454: D0 02        	bne	L71
  2370 03:0456: E6 07        	inc	<L66+colorIndex_1+2
  2371                        L71:
  2372                        ;
  2373                        ;	//colorIndex = 1 * 4;
  2374                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2375                        	.line	403
  2376 03:0458: 18           	clc
  2377 03:0459: A9 00 20     	lda	#$2000
  2378 03:045C: 65 05        	adc	<L66+colorIndex_1
  2379 03:045E: 85 01        	sta	<R0
  2380 03:0460: A9 AF 00     	lda	#$af
  2381 03:0463: 65 07        	adc	<L66+colorIndex_1+2
  2382 03:0465: 85 03        	sta	<R0+2
  2383 03:0467: E2 20        	sep	#$20
  2384                        	longa	off
  2385 03:0469: A9 00        	lda	#$0
  2386 03:046B: 87 01        	sta	[<R0]
  2387 03:046D: C2 20        	rep	#$20
  2388                        	longa	on
  2389 03:046F: E6 05        	inc	<L66+colorIndex_1
  2390 03:0471: D0 02        	bne	L72
  2391 03:0473: E6 07        	inc	<L66+colorIndex_1+2
  2392                        L72:
  2393                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2394                        	.line	404
  2395 03:0475: 18           	clc
  2396 03:0476: A9 00 20     	lda	#$2000
  2397 03:0479: 65 05        	adc	<L66+colorIndex_1
  2398 03:047B: 85 01        	sta	<R0
  2399 03:047D: A9 AF 00     	lda	#$af
  2400 03:0480: 65 07        	adc	<L66+colorIndex_1+2
  2401 03:0482: 85 03        	sta	<R0+2
  2402 03:0484: E2 20        	sep	#$20
  2403                        	longa	off
  2404 03:0486: A9 00        	lda	#$0
  2405 03:0488: 87 01        	sta	[<R0]
  2406 03:048A: C2 20        	rep	#$20
  2407                        	longa	on
  2408 03:048C: E6 05        	inc	<L66+colorIndex_1
  2409 03:048E: D0 02        	bne	L73
  2410 03:0490: E6 07        	inc	<L66+colorIndex_1+2
  2411                        L73:
  2412                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2413                        	.line	405
  2414 03:0492: 18           	clc
  2415 03:0493: A9 00 20     	lda	#$2000
  Thu Dec  3 2020 22:25                                                Page 52


  2416 03:0496: 65 05        	adc	<L66+colorIndex_1
  2417 03:0498: 85 01        	sta	<R0
  2418 03:049A: A9 AF 00     	lda	#$af
  2419 03:049D: 65 07        	adc	<L66+colorIndex_1+2
  2420 03:049F: 85 03        	sta	<R0+2
  2421 03:04A1: E2 20        	sep	#$20
  2422                        	longa	off
  2423 03:04A3: A9 80        	lda	#$80
  2424 03:04A5: 87 01        	sta	[<R0]
  2425 03:04A7: C2 20        	rep	#$20
  2426                        	longa	on
  2427 03:04A9: E6 05        	inc	<L66+colorIndex_1
  2428 03:04AB: D0 02        	bne	L74
  2429 03:04AD: E6 07        	inc	<L66+colorIndex_1+2
  2430                        L74:
  2431                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2432                        	.line	406
  2433 03:04AF: 18           	clc
  2434 03:04B0: A9 00 20     	lda	#$2000
  2435 03:04B3: 65 05        	adc	<L66+colorIndex_1
  2436 03:04B5: 85 01        	sta	<R0
  2437 03:04B7: A9 AF 00     	lda	#$af
  2438 03:04BA: 65 07        	adc	<L66+colorIndex_1+2
  2439 03:04BC: 85 03        	sta	<R0+2
  2440 03:04BE: E2 20        	sep	#$20
  2441                        	longa	off
  2442 03:04C0: A9 FF        	lda	#$ff
  2443 03:04C2: 87 01        	sta	[<R0]
  2444 03:04C4: C2 20        	rep	#$20
  2445                        	longa	on
  2446 03:04C6: E6 05        	inc	<L66+colorIndex_1
  2447 03:04C8: D0 02        	bne	L75
  2448 03:04CA: E6 07        	inc	<L66+colorIndex_1+2
  2449                        L75:
  2450                        ;
  2451                        ;	//colorIndex = 2 * 4;
  2452                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2453                        	.line	409
  2454 03:04CC: 18           	clc
  2455 03:04CD: A9 00 20     	lda	#$2000
  2456 03:04D0: 65 05        	adc	<L66+colorIndex_1
  2457 03:04D2: 85 01        	sta	<R0
  2458 03:04D4: A9 AF 00     	lda	#$af
  2459 03:04D7: 65 07        	adc	<L66+colorIndex_1+2
  2460 03:04D9: 85 03        	sta	<R0+2
  2461 03:04DB: E2 20        	sep	#$20
  2462                        	longa	off
  2463 03:04DD: A9 00        	lda	#$0
  2464 03:04DF: 87 01        	sta	[<R0]
  2465 03:04E1: C2 20        	rep	#$20
  2466                        	longa	on
  2467 03:04E3: E6 05        	inc	<L66+colorIndex_1
  2468 03:04E5: D0 02        	bne	L76
  2469 03:04E7: E6 07        	inc	<L66+colorIndex_1+2
  2470                        L76:
  2471                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2472                        	.line	410
  2473 03:04E9: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 53


  2474 03:04EA: A9 00 20     	lda	#$2000
  2475 03:04ED: 65 05        	adc	<L66+colorIndex_1
  2476 03:04EF: 85 01        	sta	<R0
  2477 03:04F1: A9 AF 00     	lda	#$af
  2478 03:04F4: 65 07        	adc	<L66+colorIndex_1+2
  2479 03:04F6: 85 03        	sta	<R0+2
  2480 03:04F8: E2 20        	sep	#$20
  2481                        	longa	off
  2482 03:04FA: A9 80        	lda	#$80
  2483 03:04FC: 87 01        	sta	[<R0]
  2484 03:04FE: C2 20        	rep	#$20
  2485                        	longa	on
  2486 03:0500: E6 05        	inc	<L66+colorIndex_1
  2487 03:0502: D0 02        	bne	L77
  2488 03:0504: E6 07        	inc	<L66+colorIndex_1+2
  2489                        L77:
  2490                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2491                        	.line	411
  2492 03:0506: 18           	clc
  2493 03:0507: A9 00 20     	lda	#$2000
  2494 03:050A: 65 05        	adc	<L66+colorIndex_1
  2495 03:050C: 85 01        	sta	<R0
  2496 03:050E: A9 AF 00     	lda	#$af
  2497 03:0511: 65 07        	adc	<L66+colorIndex_1+2
  2498 03:0513: 85 03        	sta	<R0+2
  2499 03:0515: E2 20        	sep	#$20
  2500                        	longa	off
  2501 03:0517: A9 00        	lda	#$0
  2502 03:0519: 87 01        	sta	[<R0]
  2503 03:051B: C2 20        	rep	#$20
  2504                        	longa	on
  2505 03:051D: E6 05        	inc	<L66+colorIndex_1
  2506 03:051F: D0 02        	bne	L78
  2507 03:0521: E6 07        	inc	<L66+colorIndex_1+2
  2508                        L78:
  2509                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2510                        	.line	412
  2511 03:0523: 18           	clc
  2512 03:0524: A9 00 20     	lda	#$2000
  2513 03:0527: 65 05        	adc	<L66+colorIndex_1
  2514 03:0529: 85 01        	sta	<R0
  2515 03:052B: A9 AF 00     	lda	#$af
  2516 03:052E: 65 07        	adc	<L66+colorIndex_1+2
  2517 03:0530: 85 03        	sta	<R0+2
  2518 03:0532: E2 20        	sep	#$20
  2519                        	longa	off
  2520 03:0534: A9 FF        	lda	#$ff
  2521 03:0536: 87 01        	sta	[<R0]
  2522 03:0538: C2 20        	rep	#$20
  2523                        	longa	on
  2524 03:053A: E6 05        	inc	<L66+colorIndex_1
  2525 03:053C: D0 02        	bne	L79
  2526 03:053E: E6 07        	inc	<L66+colorIndex_1+2
  2527                        L79:
  2528                        ;
  2529                        ;
  2530                        ;	//colorIndex = 3 * 4;
  2531                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  Thu Dec  3 2020 22:25                                                Page 54


  2532                        	.line	416
  2533 03:0540: 18           	clc
  2534 03:0541: A9 00 20     	lda	#$2000
  2535 03:0544: 65 05        	adc	<L66+colorIndex_1
  2536 03:0546: 85 01        	sta	<R0
  2537 03:0548: A9 AF 00     	lda	#$af
  2538 03:054B: 65 07        	adc	<L66+colorIndex_1+2
  2539 03:054D: 85 03        	sta	<R0+2
  2540 03:054F: E2 20        	sep	#$20
  2541                        	longa	off
  2542 03:0551: A9 80        	lda	#$80
  2543 03:0553: 87 01        	sta	[<R0]
  2544 03:0555: C2 20        	rep	#$20
  2545                        	longa	on
  2546 03:0557: E6 05        	inc	<L66+colorIndex_1
  2547 03:0559: D0 02        	bne	L80
  2548 03:055B: E6 07        	inc	<L66+colorIndex_1+2
  2549                        L80:
  2550                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2551                        	.line	417
  2552 03:055D: 18           	clc
  2553 03:055E: A9 00 20     	lda	#$2000
  2554 03:0561: 65 05        	adc	<L66+colorIndex_1
  2555 03:0563: 85 01        	sta	<R0
  2556 03:0565: A9 AF 00     	lda	#$af
  2557 03:0568: 65 07        	adc	<L66+colorIndex_1+2
  2558 03:056A: 85 03        	sta	<R0+2
  2559 03:056C: E2 20        	sep	#$20
  2560                        	longa	off
  2561 03:056E: A9 00        	lda	#$0
  2562 03:0570: 87 01        	sta	[<R0]
  2563 03:0572: C2 20        	rep	#$20
  2564                        	longa	on
  2565 03:0574: E6 05        	inc	<L66+colorIndex_1
  2566 03:0576: D0 02        	bne	L81
  2567 03:0578: E6 07        	inc	<L66+colorIndex_1+2
  2568                        L81:
  2569                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2570                        	.line	418
  2571 03:057A: 18           	clc
  2572 03:057B: A9 00 20     	lda	#$2000
  2573 03:057E: 65 05        	adc	<L66+colorIndex_1
  2574 03:0580: 85 01        	sta	<R0
  2575 03:0582: A9 AF 00     	lda	#$af
  2576 03:0585: 65 07        	adc	<L66+colorIndex_1+2
  2577 03:0587: 85 03        	sta	<R0+2
  2578 03:0589: E2 20        	sep	#$20
  2579                        	longa	off
  2580 03:058B: A9 00        	lda	#$0
  2581 03:058D: 87 01        	sta	[<R0]
  2582 03:058F: C2 20        	rep	#$20
  2583                        	longa	on
  2584 03:0591: E6 05        	inc	<L66+colorIndex_1
  2585 03:0593: D0 02        	bne	L82
  2586 03:0595: E6 07        	inc	<L66+colorIndex_1+2
  2587                        L82:
  2588                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2589                        	.line	419
  Thu Dec  3 2020 22:25                                                Page 55


  2590 03:0597: 18           	clc
  2591 03:0598: A9 00 20     	lda	#$2000
  2592 03:059B: 65 05        	adc	<L66+colorIndex_1
  2593 03:059D: 85 01        	sta	<R0
  2594 03:059F: A9 AF 00     	lda	#$af
  2595 03:05A2: 65 07        	adc	<L66+colorIndex_1+2
  2596 03:05A4: 85 03        	sta	<R0+2
  2597 03:05A6: E2 20        	sep	#$20
  2598                        	longa	off
  2599 03:05A8: A9 FF        	lda	#$ff
  2600 03:05AA: 87 01        	sta	[<R0]
  2601 03:05AC: C2 20        	rep	#$20
  2602                        	longa	on
  2603 03:05AE: E6 05        	inc	<L66+colorIndex_1
  2604 03:05B0: D0 02        	bne	L83
  2605 03:05B2: E6 07        	inc	<L66+colorIndex_1+2
  2606                        L83:
  2607                        ;
  2608                        ;	//colorIndex = 4 * 4;
  2609                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2610                        	.line	422
  2611 03:05B4: 18           	clc
  2612 03:05B5: A9 00 20     	lda	#$2000
  2613 03:05B8: 65 05        	adc	<L66+colorIndex_1
  2614 03:05BA: 85 01        	sta	<R0
  2615 03:05BC: A9 AF 00     	lda	#$af
  2616 03:05BF: 65 07        	adc	<L66+colorIndex_1+2
  2617 03:05C1: 85 03        	sta	<R0+2
  2618 03:05C3: E2 20        	sep	#$20
  2619                        	longa	off
  2620 03:05C5: A9 00        	lda	#$0
  2621 03:05C7: 87 01        	sta	[<R0]
  2622 03:05C9: C2 20        	rep	#$20
  2623                        	longa	on
  2624 03:05CB: E6 05        	inc	<L66+colorIndex_1
  2625 03:05CD: D0 02        	bne	L84
  2626 03:05CF: E6 07        	inc	<L66+colorIndex_1+2
  2627                        L84:
  2628                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2629                        	.line	423
  2630 03:05D1: 18           	clc
  2631 03:05D2: A9 00 20     	lda	#$2000
  2632 03:05D5: 65 05        	adc	<L66+colorIndex_1
  2633 03:05D7: 85 01        	sta	<R0
  2634 03:05D9: A9 AF 00     	lda	#$af
  2635 03:05DC: 65 07        	adc	<L66+colorIndex_1+2
  2636 03:05DE: 85 03        	sta	<R0+2
  2637 03:05E0: E2 20        	sep	#$20
  2638                        	longa	off
  2639 03:05E2: A9 80        	lda	#$80
  2640 03:05E4: 87 01        	sta	[<R0]
  2641 03:05E6: C2 20        	rep	#$20
  2642                        	longa	on
  2643 03:05E8: E6 05        	inc	<L66+colorIndex_1
  2644 03:05EA: D0 02        	bne	L85
  2645 03:05EC: E6 07        	inc	<L66+colorIndex_1+2
  2646                        L85:
  2647                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  Thu Dec  3 2020 22:25                                                Page 56


  2648                        	.line	424
  2649 03:05EE: 18           	clc
  2650 03:05EF: A9 00 20     	lda	#$2000
  2651 03:05F2: 65 05        	adc	<L66+colorIndex_1
  2652 03:05F4: 85 01        	sta	<R0
  2653 03:05F6: A9 AF 00     	lda	#$af
  2654 03:05F9: 65 07        	adc	<L66+colorIndex_1+2
  2655 03:05FB: 85 03        	sta	<R0+2
  2656 03:05FD: E2 20        	sep	#$20
  2657                        	longa	off
  2658 03:05FF: A9 80        	lda	#$80
  2659 03:0601: 87 01        	sta	[<R0]
  2660 03:0603: C2 20        	rep	#$20
  2661                        	longa	on
  2662 03:0605: E6 05        	inc	<L66+colorIndex_1
  2663 03:0607: D0 02        	bne	L86
  2664 03:0609: E6 07        	inc	<L66+colorIndex_1+2
  2665                        L86:
  2666                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2667                        	.line	425
  2668 03:060B: 18           	clc
  2669 03:060C: A9 00 20     	lda	#$2000
  2670 03:060F: 65 05        	adc	<L66+colorIndex_1
  2671 03:0611: 85 01        	sta	<R0
  2672 03:0613: A9 AF 00     	lda	#$af
  2673 03:0616: 65 07        	adc	<L66+colorIndex_1+2
  2674 03:0618: 85 03        	sta	<R0+2
  2675 03:061A: E2 20        	sep	#$20
  2676                        	longa	off
  2677 03:061C: A9 FF        	lda	#$ff
  2678 03:061E: 87 01        	sta	[<R0]
  2679 03:0620: C2 20        	rep	#$20
  2680                        	longa	on
  2681 03:0622: E6 05        	inc	<L66+colorIndex_1
  2682 03:0624: D0 02        	bne	L87
  2683 03:0626: E6 07        	inc	<L66+colorIndex_1+2
  2684                        L87:
  2685                        ;
  2686                        ;	//colorIndex = 5 * 4;
  2687                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2688                        	.line	428
  2689 03:0628: 18           	clc
  2690 03:0629: A9 00 20     	lda	#$2000
  2691 03:062C: 65 05        	adc	<L66+colorIndex_1
  2692 03:062E: 85 01        	sta	<R0
  2693 03:0630: A9 AF 00     	lda	#$af
  2694 03:0633: 65 07        	adc	<L66+colorIndex_1+2
  2695 03:0635: 85 03        	sta	<R0+2
  2696 03:0637: E2 20        	sep	#$20
  2697                        	longa	off
  2698 03:0639: A9 80        	lda	#$80
  2699 03:063B: 87 01        	sta	[<R0]
  2700 03:063D: C2 20        	rep	#$20
  2701                        	longa	on
  2702 03:063F: E6 05        	inc	<L66+colorIndex_1
  2703 03:0641: D0 02        	bne	L88
  2704 03:0643: E6 07        	inc	<L66+colorIndex_1+2
  2705                        L88:
  Thu Dec  3 2020 22:25                                                Page 57


  2706                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2707                        	.line	429
  2708 03:0645: 18           	clc
  2709 03:0646: A9 00 20     	lda	#$2000
  2710 03:0649: 65 05        	adc	<L66+colorIndex_1
  2711 03:064B: 85 01        	sta	<R0
  2712 03:064D: A9 AF 00     	lda	#$af
  2713 03:0650: 65 07        	adc	<L66+colorIndex_1+2
  2714 03:0652: 85 03        	sta	<R0+2
  2715 03:0654: E2 20        	sep	#$20
  2716                        	longa	off
  2717 03:0656: A9 80        	lda	#$80
  2718 03:0658: 87 01        	sta	[<R0]
  2719 03:065A: C2 20        	rep	#$20
  2720                        	longa	on
  2721 03:065C: E6 05        	inc	<L66+colorIndex_1
  2722 03:065E: D0 02        	bne	L89
  2723 03:0660: E6 07        	inc	<L66+colorIndex_1+2
  2724                        L89:
  2725                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2726                        	.line	430
  2727 03:0662: 18           	clc
  2728 03:0663: A9 00 20     	lda	#$2000
  2729 03:0666: 65 05        	adc	<L66+colorIndex_1
  2730 03:0668: 85 01        	sta	<R0
  2731 03:066A: A9 AF 00     	lda	#$af
  2732 03:066D: 65 07        	adc	<L66+colorIndex_1+2
  2733 03:066F: 85 03        	sta	<R0+2
  2734 03:0671: E2 20        	sep	#$20
  2735                        	longa	off
  2736 03:0673: A9 00        	lda	#$0
  2737 03:0675: 87 01        	sta	[<R0]
  2738 03:0677: C2 20        	rep	#$20
  2739                        	longa	on
  2740 03:0679: E6 05        	inc	<L66+colorIndex_1
  2741 03:067B: D0 02        	bne	L90
  2742 03:067D: E6 07        	inc	<L66+colorIndex_1+2
  2743                        L90:
  2744                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2745                        	.line	431
  2746 03:067F: 18           	clc
  2747 03:0680: A9 00 20     	lda	#$2000
  2748 03:0683: 65 05        	adc	<L66+colorIndex_1
  2749 03:0685: 85 01        	sta	<R0
  2750 03:0687: A9 AF 00     	lda	#$af
  2751 03:068A: 65 07        	adc	<L66+colorIndex_1+2
  2752 03:068C: 85 03        	sta	<R0+2
  2753 03:068E: E2 20        	sep	#$20
  2754                        	longa	off
  2755 03:0690: A9 FF        	lda	#$ff
  2756 03:0692: 87 01        	sta	[<R0]
  2757 03:0694: C2 20        	rep	#$20
  2758                        	longa	on
  2759 03:0696: E6 05        	inc	<L66+colorIndex_1
  2760 03:0698: D0 02        	bne	L91
  2761 03:069A: E6 07        	inc	<L66+colorIndex_1+2
  2762                        L91:
  2763                        ;
  Thu Dec  3 2020 22:25                                                Page 58


  2764                        ;	//colorIndex = 6 * 4;
  2765                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2766                        	.line	434
  2767 03:069C: 18           	clc
  2768 03:069D: A9 00 20     	lda	#$2000
  2769 03:06A0: 65 05        	adc	<L66+colorIndex_1
  2770 03:06A2: 85 01        	sta	<R0
  2771 03:06A4: A9 AF 00     	lda	#$af
  2772 03:06A7: 65 07        	adc	<L66+colorIndex_1+2
  2773 03:06A9: 85 03        	sta	<R0+2
  2774 03:06AB: E2 20        	sep	#$20
  2775                        	longa	off
  2776 03:06AD: A9 80        	lda	#$80
  2777 03:06AF: 87 01        	sta	[<R0]
  2778 03:06B1: C2 20        	rep	#$20
  2779                        	longa	on
  2780 03:06B3: E6 05        	inc	<L66+colorIndex_1
  2781 03:06B5: D0 02        	bne	L92
  2782 03:06B7: E6 07        	inc	<L66+colorIndex_1+2
  2783                        L92:
  2784                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2785                        	.line	435
  2786 03:06B9: 18           	clc
  2787 03:06BA: A9 00 20     	lda	#$2000
  2788 03:06BD: 65 05        	adc	<L66+colorIndex_1
  2789 03:06BF: 85 01        	sta	<R0
  2790 03:06C1: A9 AF 00     	lda	#$af
  2791 03:06C4: 65 07        	adc	<L66+colorIndex_1+2
  2792 03:06C6: 85 03        	sta	<R0+2
  2793 03:06C8: E2 20        	sep	#$20
  2794                        	longa	off
  2795 03:06CA: A9 00        	lda	#$0
  2796 03:06CC: 87 01        	sta	[<R0]
  2797 03:06CE: C2 20        	rep	#$20
  2798                        	longa	on
  2799 03:06D0: E6 05        	inc	<L66+colorIndex_1
  2800 03:06D2: D0 02        	bne	L93
  2801 03:06D4: E6 07        	inc	<L66+colorIndex_1+2
  2802                        L93:
  2803                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2804                        	.line	436
  2805 03:06D6: 18           	clc
  2806 03:06D7: A9 00 20     	lda	#$2000
  2807 03:06DA: 65 05        	adc	<L66+colorIndex_1
  2808 03:06DC: 85 01        	sta	<R0
  2809 03:06DE: A9 AF 00     	lda	#$af
  2810 03:06E1: 65 07        	adc	<L66+colorIndex_1+2
  2811 03:06E3: 85 03        	sta	<R0+2
  2812 03:06E5: E2 20        	sep	#$20
  2813                        	longa	off
  2814 03:06E7: A9 80        	lda	#$80
  2815 03:06E9: 87 01        	sta	[<R0]
  2816 03:06EB: C2 20        	rep	#$20
  2817                        	longa	on
  2818 03:06ED: E6 05        	inc	<L66+colorIndex_1
  2819 03:06EF: D0 02        	bne	L94
  2820 03:06F1: E6 07        	inc	<L66+colorIndex_1+2
  2821                        L94:
  Thu Dec  3 2020 22:25                                                Page 59


  2822                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2823                        	.line	437
  2824 03:06F3: 18           	clc
  2825 03:06F4: A9 00 20     	lda	#$2000
  2826 03:06F7: 65 05        	adc	<L66+colorIndex_1
  2827 03:06F9: 85 01        	sta	<R0
  2828 03:06FB: A9 AF 00     	lda	#$af
  2829 03:06FE: 65 07        	adc	<L66+colorIndex_1+2
  2830 03:0700: 85 03        	sta	<R0+2
  2831 03:0702: E2 20        	sep	#$20
  2832                        	longa	off
  2833 03:0704: A9 FF        	lda	#$ff
  2834 03:0706: 87 01        	sta	[<R0]
  2835 03:0708: C2 20        	rep	#$20
  2836                        	longa	on
  2837 03:070A: E6 05        	inc	<L66+colorIndex_1
  2838 03:070C: D0 02        	bne	L95
  2839 03:070E: E6 07        	inc	<L66+colorIndex_1+2
  2840                        L95:
  2841                        ;
  2842                        ;	//colorIndex = 7 * 4;
  2843                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2844                        	.line	440
  2845 03:0710: 18           	clc
  2846 03:0711: A9 00 20     	lda	#$2000
  2847 03:0714: 65 05        	adc	<L66+colorIndex_1
  2848 03:0716: 85 01        	sta	<R0
  2849 03:0718: A9 AF 00     	lda	#$af
  2850 03:071B: 65 07        	adc	<L66+colorIndex_1+2
  2851 03:071D: 85 03        	sta	<R0+2
  2852 03:071F: E2 20        	sep	#$20
  2853                        	longa	off
  2854 03:0721: A9 00        	lda	#$0
  2855 03:0723: 87 01        	sta	[<R0]
  2856 03:0725: C2 20        	rep	#$20
  2857                        	longa	on
  2858 03:0727: E6 05        	inc	<L66+colorIndex_1
  2859 03:0729: D0 02        	bne	L96
  2860 03:072B: E6 07        	inc	<L66+colorIndex_1+2
  2861                        L96:
  2862                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  2863                        	.line	441
  2864 03:072D: 18           	clc
  2865 03:072E: A9 00 20     	lda	#$2000
  2866 03:0731: 65 05        	adc	<L66+colorIndex_1
  2867 03:0733: 85 01        	sta	<R0
  2868 03:0735: A9 AF 00     	lda	#$af
  2869 03:0738: 65 07        	adc	<L66+colorIndex_1+2
  2870 03:073A: 85 03        	sta	<R0+2
  2871 03:073C: E2 20        	sep	#$20
  2872                        	longa	off
  2873 03:073E: A9 45        	lda	#$45
  2874 03:0740: 87 01        	sta	[<R0]
  2875 03:0742: C2 20        	rep	#$20
  2876                        	longa	on
  2877 03:0744: E6 05        	inc	<L66+colorIndex_1
  2878 03:0746: D0 02        	bne	L97
  2879 03:0748: E6 07        	inc	<L66+colorIndex_1+2
  Thu Dec  3 2020 22:25                                                Page 60


  2880                        L97:
  2881                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2882                        	.line	442
  2883 03:074A: 18           	clc
  2884 03:074B: A9 00 20     	lda	#$2000
  2885 03:074E: 65 05        	adc	<L66+colorIndex_1
  2886 03:0750: 85 01        	sta	<R0
  2887 03:0752: A9 AF 00     	lda	#$af
  2888 03:0755: 65 07        	adc	<L66+colorIndex_1+2
  2889 03:0757: 85 03        	sta	<R0+2
  2890 03:0759: E2 20        	sep	#$20
  2891                        	longa	off
  2892 03:075B: A9 FF        	lda	#$ff
  2893 03:075D: 87 01        	sta	[<R0]
  2894 03:075F: C2 20        	rep	#$20
  2895                        	longa	on
  2896 03:0761: E6 05        	inc	<L66+colorIndex_1
  2897 03:0763: D0 02        	bne	L98
  2898 03:0765: E6 07        	inc	<L66+colorIndex_1+2
  2899                        L98:
  2900                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2901                        	.line	443
  2902 03:0767: 18           	clc
  2903 03:0768: A9 00 20     	lda	#$2000
  2904 03:076B: 65 05        	adc	<L66+colorIndex_1
  2905 03:076D: 85 01        	sta	<R0
  2906 03:076F: A9 AF 00     	lda	#$af
  2907 03:0772: 65 07        	adc	<L66+colorIndex_1+2
  2908 03:0774: 85 03        	sta	<R0+2
  2909 03:0776: E2 20        	sep	#$20
  2910                        	longa	off
  2911 03:0778: A9 FF        	lda	#$ff
  2912 03:077A: 87 01        	sta	[<R0]
  2913 03:077C: C2 20        	rep	#$20
  2914                        	longa	on
  2915 03:077E: E6 05        	inc	<L66+colorIndex_1
  2916 03:0780: D0 02        	bne	L99
  2917 03:0782: E6 07        	inc	<L66+colorIndex_1+2
  2918                        L99:
  2919                        ;
  2920                        ;	//colorIndex = 8 * 4;
  2921                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  2922                        	.line	446
  2923 03:0784: 18           	clc
  2924 03:0785: A9 00 20     	lda	#$2000
  2925 03:0788: 65 05        	adc	<L66+colorIndex_1
  2926 03:078A: 85 01        	sta	<R0
  2927 03:078C: A9 AF 00     	lda	#$af
  2928 03:078F: 65 07        	adc	<L66+colorIndex_1+2
  2929 03:0791: 85 03        	sta	<R0+2
  2930 03:0793: E2 20        	sep	#$20
  2931                        	longa	off
  2932 03:0795: A9 13        	lda	#$13
  2933 03:0797: 87 01        	sta	[<R0]
  2934 03:0799: C2 20        	rep	#$20
  2935                        	longa	on
  2936 03:079B: E6 05        	inc	<L66+colorIndex_1
  2937 03:079D: D0 02        	bne	L100
  Thu Dec  3 2020 22:25                                                Page 61


  2938 03:079F: E6 07        	inc	<L66+colorIndex_1+2
  2939                        L100:
  2940                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  2941                        	.line	447
  2942 03:07A1: 18           	clc
  2943 03:07A2: A9 00 20     	lda	#$2000
  2944 03:07A5: 65 05        	adc	<L66+colorIndex_1
  2945 03:07A7: 85 01        	sta	<R0
  2946 03:07A9: A9 AF 00     	lda	#$af
  2947 03:07AC: 65 07        	adc	<L66+colorIndex_1+2
  2948 03:07AE: 85 03        	sta	<R0+2
  2949 03:07B0: E2 20        	sep	#$20
  2950                        	longa	off
  2951 03:07B2: A9 45        	lda	#$45
  2952 03:07B4: 87 01        	sta	[<R0]
  2953 03:07B6: C2 20        	rep	#$20
  2954                        	longa	on
  2955 03:07B8: E6 05        	inc	<L66+colorIndex_1
  2956 03:07BA: D0 02        	bne	L101
  2957 03:07BC: E6 07        	inc	<L66+colorIndex_1+2
  2958                        L101:
  2959                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  2960                        	.line	448
  2961 03:07BE: 18           	clc
  2962 03:07BF: A9 00 20     	lda	#$2000
  2963 03:07C2: 65 05        	adc	<L66+colorIndex_1
  2964 03:07C4: 85 01        	sta	<R0
  2965 03:07C6: A9 AF 00     	lda	#$af
  2966 03:07C9: 65 07        	adc	<L66+colorIndex_1+2
  2967 03:07CB: 85 03        	sta	<R0+2
  2968 03:07CD: E2 20        	sep	#$20
  2969                        	longa	off
  2970 03:07CF: A9 8B        	lda	#$8b
  2971 03:07D1: 87 01        	sta	[<R0]
  2972 03:07D3: C2 20        	rep	#$20
  2973                        	longa	on
  2974 03:07D5: E6 05        	inc	<L66+colorIndex_1
  2975 03:07D7: D0 02        	bne	L102
  2976 03:07D9: E6 07        	inc	<L66+colorIndex_1+2
  2977                        L102:
  2978                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2979                        	.line	449
  2980 03:07DB: 18           	clc
  2981 03:07DC: A9 00 20     	lda	#$2000
  2982 03:07DF: 65 05        	adc	<L66+colorIndex_1
  2983 03:07E1: 85 01        	sta	<R0
  2984 03:07E3: A9 AF 00     	lda	#$af
  2985 03:07E6: 65 07        	adc	<L66+colorIndex_1+2
  2986 03:07E8: 85 03        	sta	<R0+2
  2987 03:07EA: E2 20        	sep	#$20
  2988                        	longa	off
  2989 03:07EC: A9 FF        	lda	#$ff
  2990 03:07EE: 87 01        	sta	[<R0]
  2991 03:07F0: C2 20        	rep	#$20
  2992                        	longa	on
  2993 03:07F2: E6 05        	inc	<L66+colorIndex_1
  2994 03:07F4: D0 02        	bne	L103
  2995 03:07F6: E6 07        	inc	<L66+colorIndex_1+2
  Thu Dec  3 2020 22:25                                                Page 62


  2996                        L103:
  2997                        ;
  2998                        ;	//colorIndex = 9 * 4;
  2999                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3000                        	.line	452
  3001 03:07F8: 18           	clc
  3002 03:07F9: A9 00 20     	lda	#$2000
  3003 03:07FC: 65 05        	adc	<L66+colorIndex_1
  3004 03:07FE: 85 01        	sta	<R0
  3005 03:0800: A9 AF 00     	lda	#$af
  3006 03:0803: 65 07        	adc	<L66+colorIndex_1+2
  3007 03:0805: 85 03        	sta	<R0+2
  3008 03:0807: E2 20        	sep	#$20
  3009                        	longa	off
  3010 03:0809: A9 00        	lda	#$0
  3011 03:080B: 87 01        	sta	[<R0]
  3012 03:080D: C2 20        	rep	#$20
  3013                        	longa	on
  3014 03:080F: E6 05        	inc	<L66+colorIndex_1
  3015 03:0811: D0 02        	bne	L104
  3016 03:0813: E6 07        	inc	<L66+colorIndex_1+2
  3017                        L104:
  3018                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3019                        	.line	453
  3020 03:0815: 18           	clc
  3021 03:0816: A9 00 20     	lda	#$2000
  3022 03:0819: 65 05        	adc	<L66+colorIndex_1
  3023 03:081B: 85 01        	sta	<R0
  3024 03:081D: A9 AF 00     	lda	#$af
  3025 03:0820: 65 07        	adc	<L66+colorIndex_1+2
  3026 03:0822: 85 03        	sta	<R0+2
  3027 03:0824: E2 20        	sep	#$20
  3028                        	longa	off
  3029 03:0826: A9 00        	lda	#$0
  3030 03:0828: 87 01        	sta	[<R0]
  3031 03:082A: C2 20        	rep	#$20
  3032                        	longa	on
  3033 03:082C: E6 05        	inc	<L66+colorIndex_1
  3034 03:082E: D0 02        	bne	L105
  3035 03:0830: E6 07        	inc	<L66+colorIndex_1+2
  3036                        L105:
  3037                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  3038                        	.line	454
  3039 03:0832: 18           	clc
  3040 03:0833: A9 00 20     	lda	#$2000
  3041 03:0836: 65 05        	adc	<L66+colorIndex_1
  3042 03:0838: 85 01        	sta	<R0
  3043 03:083A: A9 AF 00     	lda	#$af
  3044 03:083D: 65 07        	adc	<L66+colorIndex_1+2
  3045 03:083F: 85 03        	sta	<R0+2
  3046 03:0841: E2 20        	sep	#$20
  3047                        	longa	off
  3048 03:0843: A9 20        	lda	#$20
  3049 03:0845: 87 01        	sta	[<R0]
  3050 03:0847: C2 20        	rep	#$20
  3051                        	longa	on
  3052 03:0849: E6 05        	inc	<L66+colorIndex_1
  3053 03:084B: D0 02        	bne	L106
  Thu Dec  3 2020 22:25                                                Page 63


  3054 03:084D: E6 07        	inc	<L66+colorIndex_1+2
  3055                        L106:
  3056                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3057                        	.line	455
  3058 03:084F: 18           	clc
  3059 03:0850: A9 00 20     	lda	#$2000
  3060 03:0853: 65 05        	adc	<L66+colorIndex_1
  3061 03:0855: 85 01        	sta	<R0
  3062 03:0857: A9 AF 00     	lda	#$af
  3063 03:085A: 65 07        	adc	<L66+colorIndex_1+2
  3064 03:085C: 85 03        	sta	<R0+2
  3065 03:085E: E2 20        	sep	#$20
  3066                        	longa	off
  3067 03:0860: A9 FF        	lda	#$ff
  3068 03:0862: 87 01        	sta	[<R0]
  3069 03:0864: C2 20        	rep	#$20
  3070                        	longa	on
  3071 03:0866: E6 05        	inc	<L66+colorIndex_1
  3072 03:0868: D0 02        	bne	L107
  3073 03:086A: E6 07        	inc	<L66+colorIndex_1+2
  3074                        L107:
  3075                        ;
  3076                        ;	//colorIndex = 10 * 4;
  3077                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3078                        	.line	458
  3079 03:086C: 18           	clc
  3080 03:086D: A9 00 20     	lda	#$2000
  3081 03:0870: 65 05        	adc	<L66+colorIndex_1
  3082 03:0872: 85 01        	sta	<R0
  3083 03:0874: A9 AF 00     	lda	#$af
  3084 03:0877: 65 07        	adc	<L66+colorIndex_1+2
  3085 03:0879: 85 03        	sta	<R0+2
  3086 03:087B: E2 20        	sep	#$20
  3087                        	longa	off
  3088 03:087D: A9 00        	lda	#$0
  3089 03:087F: 87 01        	sta	[<R0]
  3090 03:0881: C2 20        	rep	#$20
  3091                        	longa	on
  3092 03:0883: E6 05        	inc	<L66+colorIndex_1
  3093 03:0885: D0 02        	bne	L108
  3094 03:0887: E6 07        	inc	<L66+colorIndex_1+2
  3095                        L108:
  3096                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  3097                        	.line	459
  3098 03:0889: 18           	clc
  3099 03:088A: A9 00 20     	lda	#$2000
  3100 03:088D: 65 05        	adc	<L66+colorIndex_1
  3101 03:088F: 85 01        	sta	<R0
  3102 03:0891: A9 AF 00     	lda	#$af
  3103 03:0894: 65 07        	adc	<L66+colorIndex_1+2
  3104 03:0896: 85 03        	sta	<R0+2
  3105 03:0898: E2 20        	sep	#$20
  3106                        	longa	off
  3107 03:089A: A9 20        	lda	#$20
  3108 03:089C: 87 01        	sta	[<R0]
  3109 03:089E: C2 20        	rep	#$20
  3110                        	longa	on
  3111 03:08A0: E6 05        	inc	<L66+colorIndex_1
  Thu Dec  3 2020 22:25                                                Page 64


  3112 03:08A2: D0 02        	bne	L109
  3113 03:08A4: E6 07        	inc	<L66+colorIndex_1+2
  3114                        L109:
  3115                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3116                        	.line	460
  3117 03:08A6: 18           	clc
  3118 03:08A7: A9 00 20     	lda	#$2000
  3119 03:08AA: 65 05        	adc	<L66+colorIndex_1
  3120 03:08AC: 85 01        	sta	<R0
  3121 03:08AE: A9 AF 00     	lda	#$af
  3122 03:08B1: 65 07        	adc	<L66+colorIndex_1+2
  3123 03:08B3: 85 03        	sta	<R0+2
  3124 03:08B5: E2 20        	sep	#$20
  3125                        	longa	off
  3126 03:08B7: A9 00        	lda	#$0
  3127 03:08B9: 87 01        	sta	[<R0]
  3128 03:08BB: C2 20        	rep	#$20
  3129                        	longa	on
  3130 03:08BD: E6 05        	inc	<L66+colorIndex_1
  3131 03:08BF: D0 02        	bne	L110
  3132 03:08C1: E6 07        	inc	<L66+colorIndex_1+2
  3133                        L110:
  3134                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3135                        	.line	461
  3136 03:08C3: 18           	clc
  3137 03:08C4: A9 00 20     	lda	#$2000
  3138 03:08C7: 65 05        	adc	<L66+colorIndex_1
  3139 03:08C9: 85 01        	sta	<R0
  3140 03:08CB: A9 AF 00     	lda	#$af
  3141 03:08CE: 65 07        	adc	<L66+colorIndex_1+2
  3142 03:08D0: 85 03        	sta	<R0+2
  3143 03:08D2: E2 20        	sep	#$20
  3144                        	longa	off
  3145 03:08D4: A9 FF        	lda	#$ff
  3146 03:08D6: 87 01        	sta	[<R0]
  3147 03:08D8: C2 20        	rep	#$20
  3148                        	longa	on
  3149 03:08DA: E6 05        	inc	<L66+colorIndex_1
  3150 03:08DC: D0 02        	bne	L111
  3151 03:08DE: E6 07        	inc	<L66+colorIndex_1+2
  3152                        L111:
  3153                        ;
  3154                        ;	//colorIndex = 11 * 4;
  3155                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  3156                        	.line	464
  3157 03:08E0: 18           	clc
  3158 03:08E1: A9 00 20     	lda	#$2000
  3159 03:08E4: 65 05        	adc	<L66+colorIndex_1
  3160 03:08E6: 85 01        	sta	<R0
  3161 03:08E8: A9 AF 00     	lda	#$af
  3162 03:08EB: 65 07        	adc	<L66+colorIndex_1+2
  3163 03:08ED: 85 03        	sta	<R0+2
  3164 03:08EF: E2 20        	sep	#$20
  3165                        	longa	off
  3166 03:08F1: A9 20        	lda	#$20
  3167 03:08F3: 87 01        	sta	[<R0]
  3168 03:08F5: C2 20        	rep	#$20
  3169                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 65


  3170 03:08F7: E6 05        	inc	<L66+colorIndex_1
  3171 03:08F9: D0 02        	bne	L112
  3172 03:08FB: E6 07        	inc	<L66+colorIndex_1+2
  3173                        L112:
  3174                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3175                        	.line	465
  3176 03:08FD: 18           	clc
  3177 03:08FE: A9 00 20     	lda	#$2000
  3178 03:0901: 65 05        	adc	<L66+colorIndex_1
  3179 03:0903: 85 01        	sta	<R0
  3180 03:0905: A9 AF 00     	lda	#$af
  3181 03:0908: 65 07        	adc	<L66+colorIndex_1+2
  3182 03:090A: 85 03        	sta	<R0+2
  3183 03:090C: E2 20        	sep	#$20
  3184                        	longa	off
  3185 03:090E: A9 00        	lda	#$0
  3186 03:0910: 87 01        	sta	[<R0]
  3187 03:0912: C2 20        	rep	#$20
  3188                        	longa	on
  3189 03:0914: E6 05        	inc	<L66+colorIndex_1
  3190 03:0916: D0 02        	bne	L113
  3191 03:0918: E6 07        	inc	<L66+colorIndex_1+2
  3192                        L113:
  3193                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3194                        	.line	466
  3195 03:091A: 18           	clc
  3196 03:091B: A9 00 20     	lda	#$2000
  3197 03:091E: 65 05        	adc	<L66+colorIndex_1
  3198 03:0920: 85 01        	sta	<R0
  3199 03:0922: A9 AF 00     	lda	#$af
  3200 03:0925: 65 07        	adc	<L66+colorIndex_1+2
  3201 03:0927: 85 03        	sta	<R0+2
  3202 03:0929: E2 20        	sep	#$20
  3203                        	longa	off
  3204 03:092B: A9 00        	lda	#$0
  3205 03:092D: 87 01        	sta	[<R0]
  3206 03:092F: C2 20        	rep	#$20
  3207                        	longa	on
  3208 03:0931: E6 05        	inc	<L66+colorIndex_1
  3209 03:0933: D0 02        	bne	L114
  3210 03:0935: E6 07        	inc	<L66+colorIndex_1+2
  3211                        L114:
  3212                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3213                        	.line	467
  3214 03:0937: 18           	clc
  3215 03:0938: A9 00 20     	lda	#$2000
  3216 03:093B: 65 05        	adc	<L66+colorIndex_1
  3217 03:093D: 85 01        	sta	<R0
  3218 03:093F: A9 AF 00     	lda	#$af
  3219 03:0942: 65 07        	adc	<L66+colorIndex_1+2
  3220 03:0944: 85 03        	sta	<R0+2
  3221 03:0946: E2 20        	sep	#$20
  3222                        	longa	off
  3223 03:0948: A9 FF        	lda	#$ff
  3224 03:094A: 87 01        	sta	[<R0]
  3225 03:094C: C2 20        	rep	#$20
  3226                        	longa	on
  3227 03:094E: E6 05        	inc	<L66+colorIndex_1
  Thu Dec  3 2020 22:25                                                Page 66


  3228 03:0950: D0 02        	bne	L115
  3229 03:0952: E6 07        	inc	<L66+colorIndex_1+2
  3230                        L115:
  3231                        ;
  3232                        ;	//colorIndex = 12 * 4;
  3233                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3234                        	.line	470
  3235 03:0954: 18           	clc
  3236 03:0955: A9 00 20     	lda	#$2000
  3237 03:0958: 65 05        	adc	<L66+colorIndex_1
  3238 03:095A: 85 01        	sta	<R0
  3239 03:095C: A9 AF 00     	lda	#$af
  3240 03:095F: 65 07        	adc	<L66+colorIndex_1+2
  3241 03:0961: 85 03        	sta	<R0+2
  3242 03:0963: E2 20        	sep	#$20
  3243                        	longa	off
  3244 03:0965: A9 00        	lda	#$0
  3245 03:0967: 87 01        	sta	[<R0]
  3246 03:0969: C2 20        	rep	#$20
  3247                        	longa	on
  3248 03:096B: E6 05        	inc	<L66+colorIndex_1
  3249 03:096D: D0 02        	bne	L116
  3250 03:096F: E6 07        	inc	<L66+colorIndex_1+2
  3251                        L116:
  3252                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3253                        	.line	471
  3254 03:0971: 18           	clc
  3255 03:0972: A9 00 20     	lda	#$2000
  3256 03:0975: 65 05        	adc	<L66+colorIndex_1
  3257 03:0977: 85 01        	sta	<R0
  3258 03:0979: A9 AF 00     	lda	#$af
  3259 03:097C: 65 07        	adc	<L66+colorIndex_1+2
  3260 03:097E: 85 03        	sta	<R0+2
  3261 03:0980: E2 20        	sep	#$20
  3262                        	longa	off
  3263 03:0982: A9 00        	lda	#$0
  3264 03:0984: 87 01        	sta	[<R0]
  3265 03:0986: C2 20        	rep	#$20
  3266                        	longa	on
  3267 03:0988: E6 05        	inc	<L66+colorIndex_1
  3268 03:098A: D0 02        	bne	L117
  3269 03:098C: E6 07        	inc	<L66+colorIndex_1+2
  3270                        L117:
  3271                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3272                        	.line	472
  3273 03:098E: 18           	clc
  3274 03:098F: A9 00 20     	lda	#$2000
  3275 03:0992: 65 05        	adc	<L66+colorIndex_1
  3276 03:0994: 85 01        	sta	<R0
  3277 03:0996: A9 AF 00     	lda	#$af
  3278 03:0999: 65 07        	adc	<L66+colorIndex_1+2
  3279 03:099B: 85 03        	sta	<R0+2
  3280 03:099D: E2 20        	sep	#$20
  3281                        	longa	off
  3282 03:099F: A9 00        	lda	#$0
  3283 03:09A1: 87 01        	sta	[<R0]
  3284 03:09A3: C2 20        	rep	#$20
  3285                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 67


  3286 03:09A5: E6 05        	inc	<L66+colorIndex_1
  3287 03:09A7: D0 02        	bne	L118
  3288 03:09A9: E6 07        	inc	<L66+colorIndex_1+2
  3289                        L118:
  3290                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3291                        	.line	473
  3292 03:09AB: 18           	clc
  3293 03:09AC: A9 00 20     	lda	#$2000
  3294 03:09AF: 65 05        	adc	<L66+colorIndex_1
  3295 03:09B1: 85 01        	sta	<R0
  3296 03:09B3: A9 AF 00     	lda	#$af
  3297 03:09B6: 65 07        	adc	<L66+colorIndex_1+2
  3298 03:09B8: 85 03        	sta	<R0+2
  3299 03:09BA: E2 20        	sep	#$20
  3300                        	longa	off
  3301 03:09BC: A9 FF        	lda	#$ff
  3302 03:09BE: 87 01        	sta	[<R0]
  3303 03:09C0: C2 20        	rep	#$20
  3304                        	longa	on
  3305 03:09C2: E6 05        	inc	<L66+colorIndex_1
  3306 03:09C4: D0 02        	bne	L119
  3307 03:09C6: E6 07        	inc	<L66+colorIndex_1+2
  3308                        L119:
  3309                        ;
  3310                        ;	//colorIndex = 13 * 4;
  3311                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  3312                        	.line	476
  3313 03:09C8: 18           	clc
  3314 03:09C9: A9 00 20     	lda	#$2000
  3315 03:09CC: 65 05        	adc	<L66+colorIndex_1
  3316 03:09CE: 85 01        	sta	<R0
  3317 03:09D0: A9 AF 00     	lda	#$af
  3318 03:09D3: 65 07        	adc	<L66+colorIndex_1+2
  3319 03:09D5: 85 03        	sta	<R0+2
  3320 03:09D7: E2 20        	sep	#$20
  3321                        	longa	off
  3322 03:09D9: A9 50        	lda	#$50
  3323 03:09DB: 87 01        	sta	[<R0]
  3324 03:09DD: C2 20        	rep	#$20
  3325                        	longa	on
  3326 03:09DF: E6 05        	inc	<L66+colorIndex_1
  3327 03:09E1: D0 02        	bne	L120
  3328 03:09E3: E6 07        	inc	<L66+colorIndex_1+2
  3329                        L120:
  3330                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  3331                        	.line	477
  3332 03:09E5: 18           	clc
  3333 03:09E6: A9 00 20     	lda	#$2000
  3334 03:09E9: 65 05        	adc	<L66+colorIndex_1
  3335 03:09EB: 85 01        	sta	<R0
  3336 03:09ED: A9 AF 00     	lda	#$af
  3337 03:09F0: 65 07        	adc	<L66+colorIndex_1+2
  3338 03:09F2: 85 03        	sta	<R0+2
  3339 03:09F4: E2 20        	sep	#$20
  3340                        	longa	off
  3341 03:09F6: A9 50        	lda	#$50
  3342 03:09F8: 87 01        	sta	[<R0]
  3343 03:09FA: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 68


  3344                        	longa	on
  3345 03:09FC: E6 05        	inc	<L66+colorIndex_1
  3346 03:09FE: D0 02        	bne	L121
  3347 03:0A00: E6 07        	inc	<L66+colorIndex_1+2
  3348                        L121:
  3349                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  3350                        	.line	478
  3351 03:0A02: 18           	clc
  3352 03:0A03: A9 00 20     	lda	#$2000
  3353 03:0A06: 65 05        	adc	<L66+colorIndex_1
  3354 03:0A08: 85 01        	sta	<R0
  3355 03:0A0A: A9 AF 00     	lda	#$af
  3356 03:0A0D: 65 07        	adc	<L66+colorIndex_1+2
  3357 03:0A0F: 85 03        	sta	<R0+2
  3358 03:0A11: E2 20        	sep	#$20
  3359                        	longa	off
  3360 03:0A13: A9 50        	lda	#$50
  3361 03:0A15: 87 01        	sta	[<R0]
  3362 03:0A17: C2 20        	rep	#$20
  3363                        	longa	on
  3364 03:0A19: E6 05        	inc	<L66+colorIndex_1
  3365 03:0A1B: D0 02        	bne	L122
  3366 03:0A1D: E6 07        	inc	<L66+colorIndex_1+2
  3367                        L122:
  3368                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3369                        	.line	479
  3370 03:0A1F: 18           	clc
  3371 03:0A20: A9 00 20     	lda	#$2000
  3372 03:0A23: 65 05        	adc	<L66+colorIndex_1
  3373 03:0A25: 85 01        	sta	<R0
  3374 03:0A27: A9 AF 00     	lda	#$af
  3375 03:0A2A: 65 07        	adc	<L66+colorIndex_1+2
  3376 03:0A2C: 85 03        	sta	<R0+2
  3377 03:0A2E: E2 20        	sep	#$20
  3378                        	longa	off
  3379 03:0A30: A9 FF        	lda	#$ff
  3380 03:0A32: 87 01        	sta	[<R0]
  3381 03:0A34: C2 20        	rep	#$20
  3382                        	longa	on
  3383 03:0A36: E6 05        	inc	<L66+colorIndex_1
  3384 03:0A38: D0 02        	bne	L123
  3385 03:0A3A: E6 07        	inc	<L66+colorIndex_1+2
  3386                        L123:
  3387                        ;
  3388                        ;	//colorIndex = 14 * 4;
  3389                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  3390                        	.line	482
  3391 03:0A3C: 18           	clc
  3392 03:0A3D: A9 00 20     	lda	#$2000
  3393 03:0A40: 65 05        	adc	<L66+colorIndex_1
  3394 03:0A42: 85 01        	sta	<R0
  3395 03:0A44: A9 AF 00     	lda	#$af
  3396 03:0A47: 65 07        	adc	<L66+colorIndex_1+2
  3397 03:0A49: 85 03        	sta	<R0+2
  3398 03:0A4B: E2 20        	sep	#$20
  3399                        	longa	off
  3400 03:0A4D: A9 40        	lda	#$40
  3401 03:0A4F: 87 01        	sta	[<R0]
  Thu Dec  3 2020 22:25                                                Page 69


  3402 03:0A51: C2 20        	rep	#$20
  3403                        	longa	on
  3404 03:0A53: E6 05        	inc	<L66+colorIndex_1
  3405 03:0A55: D0 02        	bne	L124
  3406 03:0A57: E6 07        	inc	<L66+colorIndex_1+2
  3407                        L124:
  3408                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  3409                        	.line	483
  3410 03:0A59: 18           	clc
  3411 03:0A5A: A9 00 20     	lda	#$2000
  3412 03:0A5D: 65 05        	adc	<L66+colorIndex_1
  3413 03:0A5F: 85 01        	sta	<R0
  3414 03:0A61: A9 AF 00     	lda	#$af
  3415 03:0A64: 65 07        	adc	<L66+colorIndex_1+2
  3416 03:0A66: 85 03        	sta	<R0+2
  3417 03:0A68: E2 20        	sep	#$20
  3418                        	longa	off
  3419 03:0A6A: A9 40        	lda	#$40
  3420 03:0A6C: 87 01        	sta	[<R0]
  3421 03:0A6E: C2 20        	rep	#$20
  3422                        	longa	on
  3423 03:0A70: E6 05        	inc	<L66+colorIndex_1
  3424 03:0A72: D0 02        	bne	L125
  3425 03:0A74: E6 07        	inc	<L66+colorIndex_1+2
  3426                        L125:
  3427                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  3428                        	.line	484
  3429 03:0A76: 18           	clc
  3430 03:0A77: A9 00 20     	lda	#$2000
  3431 03:0A7A: 65 05        	adc	<L66+colorIndex_1
  3432 03:0A7C: 85 01        	sta	<R0
  3433 03:0A7E: A9 AF 00     	lda	#$af
  3434 03:0A81: 65 07        	adc	<L66+colorIndex_1+2
  3435 03:0A83: 85 03        	sta	<R0+2
  3436 03:0A85: E2 20        	sep	#$20
  3437                        	longa	off
  3438 03:0A87: A9 40        	lda	#$40
  3439 03:0A89: 87 01        	sta	[<R0]
  3440 03:0A8B: C2 20        	rep	#$20
  3441                        	longa	on
  3442 03:0A8D: E6 05        	inc	<L66+colorIndex_1
  3443 03:0A8F: D0 02        	bne	L126
  3444 03:0A91: E6 07        	inc	<L66+colorIndex_1+2
  3445                        L126:
  3446                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3447                        	.line	485
  3448 03:0A93: 18           	clc
  3449 03:0A94: A9 00 20     	lda	#$2000
  3450 03:0A97: 65 05        	adc	<L66+colorIndex_1
  3451 03:0A99: 85 01        	sta	<R0
  3452 03:0A9B: A9 AF 00     	lda	#$af
  3453 03:0A9E: 65 07        	adc	<L66+colorIndex_1+2
  3454 03:0AA0: 85 03        	sta	<R0+2
  3455 03:0AA2: E2 20        	sep	#$20
  3456                        	longa	off
  3457 03:0AA4: A9 FF        	lda	#$ff
  3458 03:0AA6: 87 01        	sta	[<R0]
  3459 03:0AA8: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 70


  3460                        	longa	on
  3461 03:0AAA: E6 05        	inc	<L66+colorIndex_1
  3462 03:0AAC: D0 02        	bne	L127
  3463 03:0AAE: E6 07        	inc	<L66+colorIndex_1+2
  3464                        L127:
  3465                        ;
  3466                        ;	//colorIndex = 15 * 4;
  3467                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3468                        	.line	488
  3469 03:0AB0: 18           	clc
  3470 03:0AB1: A9 00 20     	lda	#$2000
  3471 03:0AB4: 65 05        	adc	<L66+colorIndex_1
  3472 03:0AB6: 85 01        	sta	<R0
  3473 03:0AB8: A9 AF 00     	lda	#$af
  3474 03:0ABB: 65 07        	adc	<L66+colorIndex_1+2
  3475 03:0ABD: 85 03        	sta	<R0+2
  3476 03:0ABF: E2 20        	sep	#$20
  3477                        	longa	off
  3478 03:0AC1: A9 FF        	lda	#$ff
  3479 03:0AC3: 87 01        	sta	[<R0]
  3480 03:0AC5: C2 20        	rep	#$20
  3481                        	longa	on
  3482 03:0AC7: E6 05        	inc	<L66+colorIndex_1
  3483 03:0AC9: D0 02        	bne	L128
  3484 03:0ACB: E6 07        	inc	<L66+colorIndex_1+2
  3485                        L128:
  3486                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3487                        	.line	489
  3488 03:0ACD: 18           	clc
  3489 03:0ACE: A9 00 20     	lda	#$2000
  3490 03:0AD1: 65 05        	adc	<L66+colorIndex_1
  3491 03:0AD3: 85 01        	sta	<R0
  3492 03:0AD5: A9 AF 00     	lda	#$af
  3493 03:0AD8: 65 07        	adc	<L66+colorIndex_1+2
  3494 03:0ADA: 85 03        	sta	<R0+2
  3495 03:0ADC: E2 20        	sep	#$20
  3496                        	longa	off
  3497 03:0ADE: A9 FF        	lda	#$ff
  3498 03:0AE0: 87 01        	sta	[<R0]
  3499 03:0AE2: C2 20        	rep	#$20
  3500                        	longa	on
  3501 03:0AE4: E6 05        	inc	<L66+colorIndex_1
  3502 03:0AE6: D0 02        	bne	L129
  3503 03:0AE8: E6 07        	inc	<L66+colorIndex_1+2
  3504                        L129:
  3505                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3506                        	.line	490
  3507 03:0AEA: 18           	clc
  3508 03:0AEB: A9 00 20     	lda	#$2000
  3509 03:0AEE: 65 05        	adc	<L66+colorIndex_1
  3510 03:0AF0: 85 01        	sta	<R0
  3511 03:0AF2: A9 AF 00     	lda	#$af
  3512 03:0AF5: 65 07        	adc	<L66+colorIndex_1+2
  3513 03:0AF7: 85 03        	sta	<R0+2
  3514 03:0AF9: E2 20        	sep	#$20
  3515                        	longa	off
  3516 03:0AFB: A9 FF        	lda	#$ff
  3517 03:0AFD: 87 01        	sta	[<R0]
  Thu Dec  3 2020 22:25                                                Page 71


  3518 03:0AFF: C2 20        	rep	#$20
  3519                        	longa	on
  3520 03:0B01: E6 05        	inc	<L66+colorIndex_1
  3521 03:0B03: D0 02        	bne	L130
  3522 03:0B05: E6 07        	inc	<L66+colorIndex_1+2
  3523                        L130:
  3524                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3525                        	.line	491
  3526 03:0B07: 18           	clc
  3527 03:0B08: A9 00 20     	lda	#$2000
  3528 03:0B0B: 65 05        	adc	<L66+colorIndex_1
  3529 03:0B0D: 85 01        	sta	<R0
  3530 03:0B0F: A9 AF 00     	lda	#$af
  3531 03:0B12: 65 07        	adc	<L66+colorIndex_1+2
  3532 03:0B14: 85 03        	sta	<R0+2
  3533 03:0B16: E2 20        	sep	#$20
  3534                        	longa	off
  3535 03:0B18: A9 FF        	lda	#$ff
  3536 03:0B1A: 87 01        	sta	[<R0]
  3537 03:0B1C: C2 20        	rep	#$20
  3538                        	longa	on
  3539 03:0B1E: E6 05        	inc	<L66+colorIndex_1
  3540 03:0B20: D0 02        	bne	L131
  3541 03:0B22: E6 07        	inc	<L66+colorIndex_1+2
  3542                        L131:
  3543                        ;
  3544                        ;
  3545                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  3546                        	.line	494
  3547 03:0B24: F4 32 00     	pea	#<$32
  3548 03:0B27: F4 00 00     	pea	#<$0
  3549 03:0B2A: A9 xx xx     	lda	#<~~_k_currentPalatte
  3550 03:0B2D: 85 01        	sta	<R0
  3551                        	xref	_BEG_DATA
  3552 03:0B2F: A9 xx xx     	lda	#_BEG_DATA>>16
  3553 03:0B32: 85 03        	sta	<R0+2
  3554 03:0B34: D4 03        	pei	<R0+2
  3555 03:0B36: D4 01        	pei	<R0
  3556 03:0B38: 22 xx xx xx  	jsl	~~memset
  3557                        ;
  3558                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  3559                        	.line	496
  3560 03:0B3C: 9C xx xx     	stz	|~~_k_currentPalatte+10
  3561                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  3562                        	.line	497
  3563 03:0B3F: A9 0E 00     	lda	#$e
  3564 03:0B42: 8D xx xx     	sta	|~~_k_currentPalatte
  3565                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  3566                        	.line	498
  3567 03:0B45: A9 08 00     	lda	#$8
  3568 03:0B48: 8D xx xx     	sta	|~~_k_currentPalatte+8
  3569                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  3570                        	.line	499
  3571 03:0B4B: A9 0B 00     	lda	#$b
  3572 03:0B4E: 8D xx xx     	sta	|~~_k_currentPalatte+6
  3573                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  Thu Dec  3 2020 22:25                                                Page 72


  3574                        	.line	500
  3575 03:0B51: A9 0C 00     	lda	#$c
  3576 03:0B54: 8D xx xx     	sta	|~~_k_currentPalatte+14
  3577 03:0B57: A9 0C 00     	lda	#$c
  3578 03:0B5A: 8D xx xx     	sta	|~~_k_currentPalatte+18
  3579                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  3580                        	.line	501
  3581 03:0B5D: A9 0D 00     	lda	#$d
  3582 03:0B60: 8D xx xx     	sta	|~~_k_currentPalatte+2
  3583                        ;	_k_currentPalatte.CUR_FONT = 14;
  3584                        	.line	502
  3585 03:0B63: A9 0E 00     	lda	#$e
  3586 03:0B66: 8D xx xx     	sta	|~~_k_currentPalatte+4
  3587                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  3588                        	.line	503
  3589 03:0B69: A9 0F 00     	lda	#$f
  3590 03:0B6C: 8D xx xx     	sta	|~~_k_currentPalatte+16
  3591 03:0B6F: A9 0F 00     	lda	#$f
  3592 03:0B72: 8D xx xx     	sta	|~~_k_currentPalatte+12
  3593                        ;
  3594                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  3595                        	.line	505
  3596 03:0B75: 64 05        	stz	<L66+colorIndex_1
  3597 03:0B77: 64 07        	stz	<L66+colorIndex_1+2
  3598                        L10006:
  3599                        ;	{
  3600                        	.line	506
  3601                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  3602                        	.line	507
  3603 03:0B79: A5 05        	lda	<L66+colorIndex_1
  3604 03:0B7B: 0A           	asl	A
  3605 03:0B7C: 85 01        	sta	<R0
  3606 03:0B7E: A5 05        	lda	<L66+colorIndex_1
  3607 03:0B80: A6 01        	ldx	<R0
  3608 03:0B82: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  3609                        ;	}
  3610                        	.line	508
  3611                        L10004:
  3612 03:0B85: E6 05        	inc	<L66+colorIndex_1
  3613 03:0B87: D0 02        	bne	L132
  3614 03:0B89: E6 07        	inc	<L66+colorIndex_1+2
  3615                        L132:
  3616 03:0B8B: A5 05        	lda	<L66+colorIndex_1
  3617 03:0B8D: C9 0F 00     	cmp	#<$f
  3618 03:0B90: A5 07        	lda	<L66+colorIndex_1+2
  3619 03:0B92: E9 00 00     	sbc	#^$f
  3620 03:0B95: B0 03        	bcs	L133
  3621 03:0B97: 82 DF FF     	brl	L10006
  3622                        L133:
  3623                        L10005:
  3624                        ;
  3625                        ;
  3626                        ;}
  3627                        	.line	511
  3628                        L134:
  3629 03:0B9A: 2B           	pld
  Thu Dec  3 2020 22:25                                                Page 73


  3630 03:0B9B: 3B           	tsc
  3631 03:0B9C: 18           	clc
  3632 03:0B9D: 69 08 00     	adc	#L65
  3633 03:0BA0: 1B           	tcs
  3634 03:0BA1: 6B           	rtl
  3635                        	.endblock	511
  3636             00000008   L65	equ	8
  3637             00000005   L66	equ	5
  3638 03:0BA2:              	ends
  3639                        	efunc
  3640                        	.endfunc	511,5,8
  3641                        	.line	511
  3642                        ;
  3643                        ;void defineGrayPalette(void)
  3644                        ;{
  3645                        	.line	513
  3646                        	.line	514
  3647                        	GUI
  3648                        	xdef	~~defineGrayPalette
  3649                        	func
  3650                        	.function	514
  3651                        ~~defineGrayPalette:
  3652                        	longa	on
  3653                        	longi	on
  3654 03:0BA2: 3B           	tsc
  3655 03:0BA3: 38           	sec
  3656 03:0BA4: E9 1D 00     	sbc	#L135
  3657 03:0BA7: 1B           	tcs
  3658 03:0BA8: 0B           	phd
  3659 03:0BA9: 5B           	tcd
  3660                        	.block	514
  3661                        ;	unsigned long colorIndex = 0;
  3662                        ;	int colorShade = 0;
  3663                        ;	char color[] = {0x00,0x11,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF};
  3664                        	data
  3665                        L138:
  3666 00:0772: 00 11 22 33  	db	$0,$11,$22,$33,$44,$55,$66,$77,$88,$99
       00:0776: 44 55 66 77 
       00:077A: 88 99 
  3667 00:077C: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF
       00:0780: FF 
  3668 00:0781:              	ends
  3669                        ;	
  3670                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  3671             00000000   colorIndex_1	set	0
  3672             00000004   colorShade_1	set	4
  3673             00000006   color_1	set	6
  3674                        	.sym	colorIndex,0,18,1,32
  3675                        	.sym	colorShade,4,5,1,16
  3676                        	.sym	color,6,110,1,0,15
  3677 03:0BAA: 64 09        	stz	<L136+colorIndex_1
  3678 03:0BAC: 64 0B        	stz	<L136+colorIndex_1+2
  3679 03:0BAE: 64 0D        	stz	<L136+colorShade_1
  3680 03:0BB0: F4 xx xx     	pea	#^L138
  3681 03:0BB3: F4 xx xx     	pea	#<L138
  3682 03:0BB6: 18           	clc
  3683 03:0BB7: 7B           	tdc
  Thu Dec  3 2020 22:25                                                Page 74


  3684 03:0BB8: 69 0F 00     	adc	#<L136+color_1
  3685 03:0BBB: 85 01        	sta	<R0
  3686 03:0BBD: A9 00 00     	lda	#$0
  3687 03:0BC0: 85 03        	sta	<R0+2
  3688 03:0BC2: D4 03        	pei	<R0+2
  3689 03:0BC4: D4 01        	pei	<R0
  3690 03:0BC6: A9 0F 00     	lda	#$f
  3691                        	xref	~~~fmov
  3692 03:0BC9: 22 xx xx xx  	jsl	~~~fmov
  3693                        	.line	519
  3694 03:0BCD: 64 09        	stz	<L136+colorIndex_1
  3695 03:0BCF: 64 0B        	stz	<L136+colorIndex_1+2
  3696                        L10009:
  3697                        ;	{
  3698                        	.line	520
  3699                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  3700                        	.line	521
  3701 03:0BD1: 18           	clc
  3702 03:0BD2: A9 00 20     	lda	#$2000
  3703 03:0BD5: 65 09        	adc	<L136+colorIndex_1
  3704 03:0BD7: 85 01        	sta	<R0
  3705 03:0BD9: A9 AF 00     	lda	#$af
  3706 03:0BDC: 65 0B        	adc	<L136+colorIndex_1+2
  3707 03:0BDE: 85 03        	sta	<R0+2
  3708 03:0BE0: E2 20        	sep	#$20
  3709                        	longa	off
  3710 03:0BE2: A6 0D        	ldx	<L136+colorShade_1
  3711 03:0BE4: B5 0F        	lda	<L136+color_1,X
  3712 03:0BE6: 87 01        	sta	[<R0]
  3713 03:0BE8: C2 20        	rep	#$20
  3714                        	longa	on
  3715                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  3716                        	.line	522
  3717 03:0BEA: 18           	clc
  3718 03:0BEB: A9 01 00     	lda	#$1
  3719 03:0BEE: 69 00 20     	adc	#<$af2000
  3720 03:0BF1: 85 01        	sta	<R0
  3721 03:0BF3: A9 00 00     	lda	#$0
  3722 03:0BF6: 69 AF 00     	adc	#^$af2000
  3723 03:0BF9: 85 03        	sta	<R0+2
  3724 03:0BFB: 18           	clc
  3725 03:0BFC: A5 01        	lda	<R0
  3726 03:0BFE: 65 09        	adc	<L136+colorIndex_1
  3727 03:0C00: 85 05        	sta	<R1
  3728 03:0C02: A5 03        	lda	<R0+2
  3729 03:0C04: 65 0B        	adc	<L136+colorIndex_1+2
  3730 03:0C06: 85 07        	sta	<R1+2
  3731 03:0C08: E2 20        	sep	#$20
  3732                        	longa	off
  3733 03:0C0A: A6 0D        	ldx	<L136+colorShade_1
  3734 03:0C0C: B5 0F        	lda	<L136+color_1,X
  3735 03:0C0E: 87 05        	sta	[<R1]
  3736 03:0C10: C2 20        	rep	#$20
  3737                        	longa	on
  3738                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  Thu Dec  3 2020 22:25                                                Page 75


  3739                        	.line	523
  3740 03:0C12: 18           	clc
  3741 03:0C13: A9 02 00     	lda	#$2
  3742 03:0C16: 69 00 20     	adc	#<$af2000
  3743 03:0C19: 85 01        	sta	<R0
  3744 03:0C1B: A9 00 00     	lda	#$0
  3745 03:0C1E: 69 AF 00     	adc	#^$af2000
  3746 03:0C21: 85 03        	sta	<R0+2
  3747 03:0C23: 18           	clc
  3748 03:0C24: A5 01        	lda	<R0
  3749 03:0C26: 65 09        	adc	<L136+colorIndex_1
  3750 03:0C28: 85 05        	sta	<R1
  3751 03:0C2A: A5 03        	lda	<R0+2
  3752 03:0C2C: 65 0B        	adc	<L136+colorIndex_1+2
  3753 03:0C2E: 85 07        	sta	<R1+2
  3754 03:0C30: E2 20        	sep	#$20
  3755                        	longa	off
  3756 03:0C32: A6 0D        	ldx	<L136+colorShade_1
  3757 03:0C34: B5 0F        	lda	<L136+color_1,X
  3758 03:0C36: 87 05        	sta	[<R1]
  3759 03:0C38: C2 20        	rep	#$20
  3760                        	longa	on
  3761                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  3762                        	.line	524
  3763 03:0C3A: 18           	clc
  3764 03:0C3B: A9 03 00     	lda	#$3
  3765 03:0C3E: 69 00 20     	adc	#<$af2000
  3766 03:0C41: 85 01        	sta	<R0
  3767 03:0C43: A9 00 00     	lda	#$0
  3768 03:0C46: 69 AF 00     	adc	#^$af2000
  3769 03:0C49: 85 03        	sta	<R0+2
  3770 03:0C4B: 18           	clc
  3771 03:0C4C: A5 01        	lda	<R0
  3772 03:0C4E: 65 09        	adc	<L136+colorIndex_1
  3773 03:0C50: 85 05        	sta	<R1
  3774 03:0C52: A5 03        	lda	<R0+2
  3775 03:0C54: 65 0B        	adc	<L136+colorIndex_1+2
  3776 03:0C56: 85 07        	sta	<R1+2
  3777 03:0C58: E2 20        	sep	#$20
  3778                        	longa	off
  3779 03:0C5A: A9 FF        	lda	#$ff
  3780 03:0C5C: 87 05        	sta	[<R1]
  3781 03:0C5E: C2 20        	rep	#$20
  3782                        	longa	on
  3783                        ;
  3784                        ;		colorShade++;
  3785                        	.line	526
  3786 03:0C60: E6 0D        	inc	<L136+colorShade_1
  3787                        ;	}
  3788                        	.line	527
  3789                        L10007:
  3790 03:0C62: 18           	clc
  3791 03:0C63: A9 04 00     	lda	#$4
  3792 03:0C66: 65 09        	adc	<L136+colorIndex_1
  3793 03:0C68: 85 09        	sta	<L136+colorIndex_1
  3794 03:0C6A: 90 02        	bcc	L139
  3795 03:0C6C: E6 0B        	inc	<L136+colorIndex_1+2
  3796                        L139:
  Thu Dec  3 2020 22:25                                                Page 76


  3797 03:0C6E: A5 09        	lda	<L136+colorIndex_1
  3798 03:0C70: C9 3C 00     	cmp	#<$3c
  3799 03:0C73: A5 0B        	lda	<L136+colorIndex_1+2
  3800 03:0C75: E9 00 00     	sbc	#^$3c
  3801 03:0C78: B0 03        	bcs	L140
  3802 03:0C7A: 82 54 FF     	brl	L10009
  3803                        L140:
  3804                        L10008:
  3805                        ;
  3806                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  3807                        	.line	529
  3808 03:0C7D: F4 32 00     	pea	#<$32
  3809 03:0C80: F4 00 00     	pea	#<$0
  3810 03:0C83: A9 xx xx     	lda	#<~~_k_currentPalatte
  3811 03:0C86: 85 01        	sta	<R0
  3812                        	xref	_BEG_DATA
  3813 03:0C88: A9 xx xx     	lda	#_BEG_DATA>>16
  3814 03:0C8B: 85 03        	sta	<R0+2
  3815 03:0C8D: D4 03        	pei	<R0+2
  3816 03:0C8F: D4 01        	pei	<R0
  3817 03:0C91: 22 xx xx xx  	jsl	~~memset
  3818                        ;
  3819                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  3820                        	.line	531
  3821 03:0C95: 9C xx xx     	stz	|~~_k_currentPalatte+10
  3822                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  3823                        	.line	532
  3824 03:0C98: A9 03 00     	lda	#$3
  3825 03:0C9B: 8D xx xx     	sta	|~~_k_currentPalatte
  3826                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  3827                        	.line	533
  3828 03:0C9E: A9 08 00     	lda	#$8
  3829 03:0CA1: 8D xx xx     	sta	|~~_k_currentPalatte+8
  3830                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  3831                        	.line	534
  3832 03:0CA4: A9 0B 00     	lda	#$b
  3833 03:0CA7: 8D xx xx     	sta	|~~_k_currentPalatte+6
  3834                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  3835                        	.line	535
  3836 03:0CAA: A9 0C 00     	lda	#$c
  3837 03:0CAD: 8D xx xx     	sta	|~~_k_currentPalatte+14
  3838 03:0CB0: A9 0C 00     	lda	#$c
  3839 03:0CB3: 8D xx xx     	sta	|~~_k_currentPalatte+18
  3840                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  3841                        	.line	536
  3842 03:0CB6: A9 0D 00     	lda	#$d
  3843 03:0CB9: 8D xx xx     	sta	|~~_k_currentPalatte+2
  3844                        ;	_k_currentPalatte.CUR_FONT = 14;
  3845                        	.line	537
  3846 03:0CBC: A9 0E 00     	lda	#$e
  3847 03:0CBF: 8D xx xx     	sta	|~~_k_currentPalatte+4
  3848                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  3849                        	.line	538
  3850 03:0CC2: A9 0F 00     	lda	#$f
  3851 03:0CC5: 8D xx xx     	sta	|~~_k_currentPalatte+16
  Thu Dec  3 2020 22:25                                                Page 77


  3852 03:0CC8: A9 0F 00     	lda	#$f
  3853 03:0CCB: 8D xx xx     	sta	|~~_k_currentPalatte+12
  3854                        ;
  3855                        ;	for(colorShade=0;colorShade<15;colorShade++)
  3856                        	.line	540
  3857 03:0CCE: 64 0D        	stz	<L136+colorShade_1
  3858                        L10012:
  3859                        ;	{
  3860                        	.line	541
  3861                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  3862                        	.line	542
  3863 03:0CD0: A5 0D        	lda	<L136+colorShade_1
  3864 03:0CD2: 0A           	asl	A
  3865 03:0CD3: 85 01        	sta	<R0
  3866 03:0CD5: A5 0D        	lda	<L136+colorShade_1
  3867 03:0CD7: A6 01        	ldx	<R0
  3868 03:0CD9: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  3869                        ;	}
  3870                        	.line	543
  3871                        L10010:
  3872 03:0CDC: E6 0D        	inc	<L136+colorShade_1
  3873 03:0CDE: 38           	sec
  3874 03:0CDF: A5 0D        	lda	<L136+colorShade_1
  3875 03:0CE1: E9 0F 00     	sbc	#<$f
  3876 03:0CE4: 70 03        	bvs	L141
  3877 03:0CE6: 49 00 80     	eor	#$8000
  3878                        L141:
  3879 03:0CE9: 30 03        	bmi	L142
  3880 03:0CEB: 82 E2 FF     	brl	L10012
  3881                        L142:
  3882                        L10011:
  3883                        ;}
  3884                        	.line	544
  3885                        L143:
  3886 03:0CEE: 2B           	pld
  3887 03:0CEF: 3B           	tsc
  3888 03:0CF0: 18           	clc
  3889 03:0CF1: 69 1D 00     	adc	#L135
  3890 03:0CF4: 1B           	tcs
  3891 03:0CF5: 6B           	rtl
  3892                        	.endblock	544
  3893             0000001D   L135	equ	29
  3894             00000009   L136	equ	9
  3895 03:0CF6:              	ends
  3896                        	efunc
  3897                        	.endfunc	544,9,29
  3898                        	.line	544
  3899                        ;
  3900                        ;int k_getUIBackgroundColor()
  3901                        ;{
  3902                        	.line	546
  3903                        	.line	547
  3904                        	GUI
  3905                        	xdef	~~k_getUIBackgroundColor
  3906                        	func
  3907                        	.function	547
  3908                        ~~k_getUIBackgroundColor:
  Thu Dec  3 2020 22:25                                                Page 78


  3909                        	longa	on
  3910                        	longi	on
  3911 03:0CF6: 3B           	tsc
  3912 03:0CF7: 38           	sec
  3913 03:0CF8: E9 00 00     	sbc	#L144
  3914 03:0CFB: 1B           	tcs
  3915 03:0CFC: 0B           	phd
  3916 03:0CFD: 5B           	tcd
  3917                        	.block	547
  3918                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  3919                        	.line	548
  3920 03:0CFE: AD xx xx     	lda	|~~_k_currentPalatte+2
  3921                        L147:
  3922 03:0D01: A8           	tay
  3923 03:0D02: 2B           	pld
  3924 03:0D03: 3B           	tsc
  3925 03:0D04: 18           	clc
  3926 03:0D05: 69 00 00     	adc	#L144
  3927 03:0D08: 1B           	tcs
  3928 03:0D09: 98           	tya
  3929 03:0D0A: 6B           	rtl
  3930                        ;}
  3931                        	.line	549
  3932                        	.endblock	549
  3933             00000000   L144	equ	0
  3934             00000001   L145	equ	1
  3935 03:0D0B:              	ends
  3936                        	efunc
  3937                        	.endfunc	549,1,0
  3938                        	.line	549
  3939                        ;
  3940                        ;int k_getUIDesktopColor()
  3941                        ;{
  3942                        	.line	551
  3943                        	.line	552
  3944                        	GUI
  3945                        	xdef	~~k_getUIDesktopColor
  3946                        	func
  3947                        	.function	552
  3948                        ~~k_getUIDesktopColor:
  3949                        	longa	on
  3950                        	longi	on
  3951 03:0D0B: 3B           	tsc
  3952 03:0D0C: 38           	sec
  3953 03:0D0D: E9 00 00     	sbc	#L148
  3954 03:0D10: 1B           	tcs
  3955 03:0D11: 0B           	phd
  3956 03:0D12: 5B           	tcd
  3957                        	.block	552
  3958                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  3959                        	.line	553
  3960 03:0D13: AD xx xx     	lda	|~~_k_currentPalatte
  3961                        L151:
  3962 03:0D16: A8           	tay
  3963 03:0D17: 2B           	pld
  3964 03:0D18: 3B           	tsc
  3965 03:0D19: 18           	clc
  3966 03:0D1A: 69 00 00     	adc	#L148
  Thu Dec  3 2020 22:25                                                Page 79


  3967 03:0D1D: 1B           	tcs
  3968 03:0D1E: 98           	tya
  3969 03:0D1F: 6B           	rtl
  3970                        ;}
  3971                        	.line	554
  3972                        	.endblock	554
  3973             00000000   L148	equ	0
  3974             00000001   L149	equ	1
  3975 03:0D20:              	ends
  3976                        	efunc
  3977                        	.endfunc	554,1,0
  3978                        	.line	554
  3979                        ;
  3980                        ;
  3981                        ;int k_getUIFontColor()
  3982                        ;{
  3983                        	.line	557
  3984                        	.line	558
  3985                        	GUI
  3986                        	xdef	~~k_getUIFontColor
  3987                        	func
  3988                        	.function	558
  3989                        ~~k_getUIFontColor:
  3990                        	longa	on
  3991                        	longi	on
  3992 03:0D20: 3B           	tsc
  3993 03:0D21: 38           	sec
  3994 03:0D22: E9 00 00     	sbc	#L152
  3995 03:0D25: 1B           	tcs
  3996 03:0D26: 0B           	phd
  3997 03:0D27: 5B           	tcd
  3998                        	.block	558
  3999                        ;	return 	_k_currentPalatte.CUR_FONT;
  4000                        	.line	559
  4001 03:0D28: AD xx xx     	lda	|~~_k_currentPalatte+4
  4002                        L155:
  4003 03:0D2B: A8           	tay
  4004 03:0D2C: 2B           	pld
  4005 03:0D2D: 3B           	tsc
  4006 03:0D2E: 18           	clc
  4007 03:0D2F: 69 00 00     	adc	#L152
  4008 03:0D32: 1B           	tcs
  4009 03:0D33: 98           	tya
  4010 03:0D34: 6B           	rtl
  4011                        ;}
  4012                        	.line	560
  4013                        	.endblock	560
  4014             00000000   L152	equ	0
  4015             00000001   L153	equ	1
  4016 03:0D35:              	ends
  4017                        	efunc
  4018                        	.endfunc	560,1,0
  4019                        	.line	560
  4020                        ;
  4021                        ;
  4022                        ;int k_getUIFontSelectedColor()
  4023                        ;{
  4024                        	.line	563
  Thu Dec  3 2020 22:25                                                Page 80


  4025                        	.line	564
  4026                        	GUI
  4027                        	xdef	~~k_getUIFontSelectedColor
  4028                        	func
  4029                        	.function	564
  4030                        ~~k_getUIFontSelectedColor:
  4031                        	longa	on
  4032                        	longi	on
  4033 03:0D35: 3B           	tsc
  4034 03:0D36: 38           	sec
  4035 03:0D37: E9 00 00     	sbc	#L156
  4036 03:0D3A: 1B           	tcs
  4037 03:0D3B: 0B           	phd
  4038 03:0D3C: 5B           	tcd
  4039                        	.block	564
  4040                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  4041                        	.line	565
  4042 03:0D3D: AD xx xx     	lda	|~~_k_currentPalatte+6
  4043                        L159:
  4044 03:0D40: A8           	tay
  4045 03:0D41: 2B           	pld
  4046 03:0D42: 3B           	tsc
  4047 03:0D43: 18           	clc
  4048 03:0D44: 69 00 00     	adc	#L156
  4049 03:0D47: 1B           	tcs
  4050 03:0D48: 98           	tya
  4051 03:0D49: 6B           	rtl
  4052                        ;}
  4053                        	.line	566
  4054                        	.endblock	566
  4055             00000000   L156	equ	0
  4056             00000001   L157	equ	1
  4057 03:0D4A:              	ends
  4058                        	efunc
  4059                        	.endfunc	566,1,0
  4060                        	.line	566
  4061                        ;
  4062                        ;
  4063                        ;int k_getUIHighlightColor()
  4064                        ;{
  4065                        	.line	569
  4066                        	.line	570
  4067                        	GUI
  4068                        	xdef	~~k_getUIHighlightColor
  4069                        	func
  4070                        	.function	570
  4071                        ~~k_getUIHighlightColor:
  4072                        	longa	on
  4073                        	longi	on
  4074 03:0D4A: 3B           	tsc
  4075 03:0D4B: 38           	sec
  4076 03:0D4C: E9 00 00     	sbc	#L160
  4077 03:0D4F: 1B           	tcs
  4078 03:0D50: 0B           	phd
  4079 03:0D51: 5B           	tcd
  4080                        	.block	570
  4081                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  4082                        	.line	571
  Thu Dec  3 2020 22:25                                                Page 81


  4083 03:0D52: AD xx xx     	lda	|~~_k_currentPalatte+8
  4084                        L163:
  4085 03:0D55: A8           	tay
  4086 03:0D56: 2B           	pld
  4087 03:0D57: 3B           	tsc
  4088 03:0D58: 18           	clc
  4089 03:0D59: 69 00 00     	adc	#L160
  4090 03:0D5C: 1B           	tcs
  4091 03:0D5D: 98           	tya
  4092 03:0D5E: 6B           	rtl
  4093                        ;}
  4094                        	.line	572
  4095                        	.endblock	572
  4096             00000000   L160	equ	0
  4097             00000001   L161	equ	1
  4098 03:0D5F:              	ends
  4099                        	efunc
  4100                        	.endfunc	572,1,0
  4101                        	.line	572
  4102                        ;
  4103                        ;
  4104                        ;int k_getUIWindowFrameColor()
  4105                        ;{
  4106                        	.line	575
  4107                        	.line	576
  4108                        	GUI
  4109                        	xdef	~~k_getUIWindowFrameColor
  4110                        	func
  4111                        	.function	576
  4112                        ~~k_getUIWindowFrameColor:
  4113                        	longa	on
  4114                        	longi	on
  4115 03:0D5F: 3B           	tsc
  4116 03:0D60: 38           	sec
  4117 03:0D61: E9 00 00     	sbc	#L164
  4118 03:0D64: 1B           	tcs
  4119 03:0D65: 0B           	phd
  4120 03:0D66: 5B           	tcd
  4121                        	.block	576
  4122                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  4123                        	.line	577
  4124 03:0D67: AD xx xx     	lda	|~~_k_currentPalatte+10
  4125                        L167:
  4126 03:0D6A: A8           	tay
  4127 03:0D6B: 2B           	pld
  4128 03:0D6C: 3B           	tsc
  4129 03:0D6D: 18           	clc
  4130 03:0D6E: 69 00 00     	adc	#L164
  4131 03:0D71: 1B           	tcs
  4132 03:0D72: 98           	tya
  4133 03:0D73: 6B           	rtl
  4134                        ;}
  4135                        	.line	578
  4136                        	.endblock	578
  4137             00000000   L164	equ	0
  4138             00000001   L165	equ	1
  4139 03:0D74:              	ends
  4140                        	efunc
  Thu Dec  3 2020 22:25                                                Page 82


  4141                        	.endfunc	578,1,0
  4142                        	.line	578
  4143                        ;
  4144                        ;
  4145                        ;int k_getUIWindowBorderColor()
  4146                        ;{
  4147                        	.line	581
  4148                        	.line	582
  4149                        	GUI
  4150                        	xdef	~~k_getUIWindowBorderColor
  4151                        	func
  4152                        	.function	582
  4153                        ~~k_getUIWindowBorderColor:
  4154                        	longa	on
  4155                        	longi	on
  4156 03:0D74: 3B           	tsc
  4157 03:0D75: 38           	sec
  4158 03:0D76: E9 00 00     	sbc	#L168
  4159 03:0D79: 1B           	tcs
  4160 03:0D7A: 0B           	phd
  4161 03:0D7B: 5B           	tcd
  4162                        	.block	582
  4163                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  4164                        	.line	583
  4165 03:0D7C: AD xx xx     	lda	|~~_k_currentPalatte+12
  4166                        L171:
  4167 03:0D7F: A8           	tay
  4168 03:0D80: 2B           	pld
  4169 03:0D81: 3B           	tsc
  4170 03:0D82: 18           	clc
  4171 03:0D83: 69 00 00     	adc	#L168
  4172 03:0D86: 1B           	tcs
  4173 03:0D87: 98           	tya
  4174 03:0D88: 6B           	rtl
  4175                        ;}
  4176                        	.line	584
  4177                        	.endblock	584
  4178             00000000   L168	equ	0
  4179             00000001   L169	equ	1
  4180 03:0D89:              	ends
  4181                        	efunc
  4182                        	.endfunc	584,1,0
  4183                        	.line	584
  4184                        ;
  4185                        ;
  4186                        ;int k_getUIWindowShadowColor()
  4187                        ;{
  4188                        	.line	587
  4189                        	.line	588
  4190                        	GUI
  4191                        	xdef	~~k_getUIWindowShadowColor
  4192                        	func
  4193                        	.function	588
  4194                        ~~k_getUIWindowShadowColor:
  4195                        	longa	on
  4196                        	longi	on
  4197 03:0D89: 3B           	tsc
  4198 03:0D8A: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 83


  4199 03:0D8B: E9 00 00     	sbc	#L172
  4200 03:0D8E: 1B           	tcs
  4201 03:0D8F: 0B           	phd
  4202 03:0D90: 5B           	tcd
  4203                        	.block	588
  4204                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  4205                        	.line	589
  4206 03:0D91: AD xx xx     	lda	|~~_k_currentPalatte+14
  4207                        L175:
  4208 03:0D94: A8           	tay
  4209 03:0D95: 2B           	pld
  4210 03:0D96: 3B           	tsc
  4211 03:0D97: 18           	clc
  4212 03:0D98: 69 00 00     	adc	#L172
  4213 03:0D9B: 1B           	tcs
  4214 03:0D9C: 98           	tya
  4215 03:0D9D: 6B           	rtl
  4216                        ;}
  4217                        	.line	590
  4218                        	.endblock	590
  4219             00000000   L172	equ	0
  4220             00000001   L173	equ	1
  4221 03:0D9E:              	ends
  4222                        	efunc
  4223                        	.endfunc	590,1,0
  4224                        	.line	590
  4225                        ;
  4226                        ;
  4227                        ;int k_getUIMenuColor()
  4228                        ;{
  4229                        	.line	593
  4230                        	.line	594
  4231                        	GUI
  4232                        	xdef	~~k_getUIMenuColor
  4233                        	func
  4234                        	.function	594
  4235                        ~~k_getUIMenuColor:
  4236                        	longa	on
  4237                        	longi	on
  4238 03:0D9E: 3B           	tsc
  4239 03:0D9F: 38           	sec
  4240 03:0DA0: E9 00 00     	sbc	#L176
  4241 03:0DA3: 1B           	tcs
  4242 03:0DA4: 0B           	phd
  4243 03:0DA5: 5B           	tcd
  4244                        	.block	594
  4245                        ;	return 	_k_currentPalatte.CUR_MENU;
  4246                        	.line	595
  4247 03:0DA6: AD xx xx     	lda	|~~_k_currentPalatte+16
  4248                        L179:
  4249 03:0DA9: A8           	tay
  4250 03:0DAA: 2B           	pld
  4251 03:0DAB: 3B           	tsc
  4252 03:0DAC: 18           	clc
  4253 03:0DAD: 69 00 00     	adc	#L176
  4254 03:0DB0: 1B           	tcs
  4255 03:0DB1: 98           	tya
  4256 03:0DB2: 6B           	rtl
  Thu Dec  3 2020 22:25                                                Page 84


  4257                        ;}
  4258                        	.line	596
  4259                        	.endblock	596
  4260             00000000   L176	equ	0
  4261             00000001   L177	equ	1
  4262 03:0DB3:              	ends
  4263                        	efunc
  4264                        	.endfunc	596,1,0
  4265                        	.line	596
  4266                        ;
  4267                        ;
  4268                        ;int k_getUIGadgetColor()
  4269                        ;{
  4270                        	.line	599
  4271                        	.line	600
  4272                        	GUI
  4273                        	xdef	~~k_getUIGadgetColor
  4274                        	func
  4275                        	.function	600
  4276                        ~~k_getUIGadgetColor:
  4277                        	longa	on
  4278                        	longi	on
  4279 03:0DB3: 3B           	tsc
  4280 03:0DB4: 38           	sec
  4281 03:0DB5: E9 00 00     	sbc	#L180
  4282 03:0DB8: 1B           	tcs
  4283 03:0DB9: 0B           	phd
  4284 03:0DBA: 5B           	tcd
  4285                        	.block	600
  4286                        ;	return 	_k_currentPalatte.CUR_GADGET;
  4287                        	.line	601
  4288 03:0DBB: AD xx xx     	lda	|~~_k_currentPalatte+18
  4289                        L183:
  4290 03:0DBE: A8           	tay
  4291 03:0DBF: 2B           	pld
  4292 03:0DC0: 3B           	tsc
  4293 03:0DC1: 18           	clc
  4294 03:0DC2: 69 00 00     	adc	#L180
  4295 03:0DC5: 1B           	tcs
  4296 03:0DC6: 98           	tya
  4297 03:0DC7: 6B           	rtl
  4298                        ;}
  4299                        	.line	602
  4300                        	.endblock	602
  4301             00000000   L180	equ	0
  4302             00000001   L181	equ	1
  4303 03:0DC8:              	ends
  4304                        	efunc
  4305                        	.endfunc	602,1,0
  4306                        	.line	602
  4307                        ;
  4308                        ;
  4309                        ;int k_getUIColor(int index)
  4310                        ;{
  4311                        	.line	605
  4312                        	.line	606
  4313                        	GUI
  4314                        	xdef	~~k_getUIColor
  Thu Dec  3 2020 22:25                                                Page 85


  4315                        	func
  4316                        	.function	606
  4317                        ~~k_getUIColor:
  4318                        	longa	on
  4319                        	longi	on
  4320 03:0DC8: 3B           	tsc
  4321 03:0DC9: 38           	sec
  4322 03:0DCA: E9 04 00     	sbc	#L184
  4323 03:0DCD: 1B           	tcs
  4324 03:0DCE: 0B           	phd
  4325 03:0DCF: 5B           	tcd
  4326             00000004   index_0	set	4
  4327                        	.block	606
  4328                        ;	if(index < 1)
  4329                        	.sym	index,4,5,6,16
  4330                        	.line	607
  4331                        ;		index = 1;
  4332 03:0DD0: A5 08        	lda	<L184+index_0
  4333 03:0DD2: 30 06        	bmi	L187
  4334 03:0DD4: 3A           	dea
  4335 03:0DD5: 30 03        	bmi	L187
  4336 03:0DD7: 82 05 00     	brl	L10013
  4337                        L187:
  4338                        	.line	608
  4339 03:0DDA: A9 01 00     	lda	#$1
  4340 03:0DDD: 85 08        	sta	<L184+index_0
  4341                        ;	if(index > 15)
  4342                        L10013:
  4343                        	.line	609
  4344                        ;		index = 15;
  4345 03:0DDF: 38           	sec
  4346 03:0DE0: A9 0F 00     	lda	#$f
  4347 03:0DE3: E5 08        	sbc	<L184+index_0
  4348 03:0DE5: 70 03        	bvs	L188
  4349 03:0DE7: 49 00 80     	eor	#$8000
  4350                        L188:
  4351 03:0DEA: 10 03        	bpl	L189
  4352 03:0DEC: 82 05 00     	brl	L10014
  4353                        L189:
  4354                        	.line	610
  4355 03:0DEF: A9 0F 00     	lda	#$f
  4356 03:0DF2: 85 08        	sta	<L184+index_0
  4357                        ;
  4358                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  4359                        L10014:
  4360                        	.line	612
  4361 03:0DF4: A5 08        	lda	<L184+index_0
  4362 03:0DF6: 0A           	asl	A
  4363 03:0DF7: 85 01        	sta	<R0
  4364 03:0DF9: A6 01        	ldx	<R0
  4365 03:0DFB: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  4366                        L190:
  4367 03:0DFE: A8           	tay
  4368 03:0DFF: A5 06        	lda	<L184+2
  4369 03:0E01: 85 08        	sta	<L184+2+2
  4370 03:0E03: A5 05        	lda	<L184+1
  4371 03:0E05: 85 07        	sta	<L184+1+2
  4372 03:0E07: 2B           	pld
  Thu Dec  3 2020 22:25                                                Page 86


  4373 03:0E08: 3B           	tsc
  4374 03:0E09: 18           	clc
  4375 03:0E0A: 69 06 00     	adc	#L184+2
  4376 03:0E0D: 1B           	tcs
  4377 03:0E0E: 98           	tya
  4378 03:0E0F: 6B           	rtl
  4379                        ;}
  4380                        	.line	613
  4381                        	.endblock	613
  4382             00000004   L184	equ	4
  4383             00000005   L185	equ	5
  4384 03:0E10:              	ends
  4385                        	efunc
  4386                        	.endfunc	613,5,4
  4387                        	.line	613
  4388                        ;
  4389                        ;
  4390                        ;
  4391                        ;void k_draw_pixel(long x,long y,char pcolor)
  4392                        ;{
  4393                        	.line	617
  4394                        	.line	618
  4395                        	GUI
  4396                        	xdef	~~k_draw_pixel
  4397                        	func
  4398                        	.function	618
  4399                        ~~k_draw_pixel:
  4400                        	longa	on
  4401                        	longi	on
  4402 03:0E10: 3B           	tsc
  4403 03:0E11: 38           	sec
  4404 03:0E12: E9 08 00     	sbc	#L191
  4405 03:0E15: 1B           	tcs
  4406 03:0E16: 0B           	phd
  4407 03:0E17: 5B           	tcd
  4408             00000004   x_0	set	4
  4409             00000008   y_0	set	8
  4410             0000000C   pcolor_0	set	12
  4411                        	.block	618
  4412                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  4413                        ;
  4414                        ;	((unsigned char FAR *)BITMAP_BANK_0)[pixelLocati
                    on] = (char)pcolor;
  4415             00000000   pixelLocation_1	set	0
  4416                        	.sym	pixelLocation,0,7,1,32
  4417                        	.sym	x,4,7,6,32
  4418                        	.sym	y,8,7,6,32
  4419                        	.sym	pcolor,12,14,6,8
  4420 03:0E18: F4 00 00     	pea	#^$280
  4421 03:0E1B: F4 80 02     	pea	#<$280
  4422 03:0E1E: D4 12        	pei	<L191+y_0+2
  4423 03:0E20: D4 10        	pei	<L191+y_0
  4424                        	xref	~~~lmul
  4425 03:0E22: 22 xx xx xx  	jsl	~~~lmul
  4426 03:0E26: 85 01        	sta	<R0
  4427 03:0E28: 86 03        	stx	<R0+2
  4428 03:0E2A: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 87


  4429 03:0E2B: A5 01        	lda	<R0
  4430 03:0E2D: 65 0C        	adc	<L191+x_0
  4431 03:0E2F: 85 05        	sta	<L192+pixelLocation_1
  4432 03:0E31: A5 03        	lda	<R0+2
  4433 03:0E33: 65 0E        	adc	<L191+x_0+2
  4434 03:0E35: 85 07        	sta	<L192+pixelLocation_1+2
  4435                        	.line	621
  4436 03:0E37: 18           	clc
  4437 03:0E38: A9 00 00     	lda	#$0
  4438 03:0E3B: 65 05        	adc	<L192+pixelLocation_1
  4439 03:0E3D: 85 01        	sta	<R0
  4440 03:0E3F: A9 B0 00     	lda	#$b0
  4441 03:0E42: 65 07        	adc	<L192+pixelLocation_1+2
  4442 03:0E44: 85 03        	sta	<R0+2
  4443 03:0E46: E2 20        	sep	#$20
  4444                        	longa	off
  4445 03:0E48: A5 14        	lda	<L191+pcolor_0
  4446 03:0E4A: 87 01        	sta	[<R0]
  4447 03:0E4C: C2 20        	rep	#$20
  4448                        	longa	on
  4449                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  4450                        ;
  4451                        ;
  4452                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  4453                        ;}
  4454                        	.line	626
  4455                        L194:
  4456 03:0E4E: A5 0A        	lda	<L191+2
  4457 03:0E50: 85 14        	sta	<L191+2+10
  4458 03:0E52: A5 09        	lda	<L191+1
  4459 03:0E54: 85 13        	sta	<L191+1+10
  4460 03:0E56: 2B           	pld
  4461 03:0E57: 3B           	tsc
  4462 03:0E58: 18           	clc
  4463 03:0E59: 69 12 00     	adc	#L191+10
  4464 03:0E5C: 1B           	tcs
  4465 03:0E5D: 6B           	rtl
  4466                        	.endblock	626
  4467             00000008   L191	equ	8
  4468             00000005   L192	equ	5
  4469 03:0E5E:              	ends
  4470                        	efunc
  4471                        	.endfunc	626,5,8
  4472                        	.line	626
  4473                        ;
  4474                        ;void k_draw_pixel_ex(long x,long y,char pcolor,UI
                    NT page)
  4475                        ;{
  4476                        	.line	628
  4477                        	.line	629
  4478                        	GUI
  4479                        	xdef	~~k_draw_pixel_ex
  4480                        	func
  4481                        	.function	629
  4482                        ~~k_draw_pixel_ex:
  4483                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 88


  4484                        	longi	on
  4485 03:0E5E: 3B           	tsc
  4486 03:0E5F: 38           	sec
  4487 03:0E60: E9 08 00     	sbc	#L195
  4488 03:0E63: 1B           	tcs
  4489 03:0E64: 0B           	phd
  4490 03:0E65: 5B           	tcd
  4491             00000004   x_0	set	4
  4492             00000008   y_0	set	8
  4493             0000000C   pcolor_0	set	12
  4494             0000000E   page_0	set	14
  4495                        	.block	629
  4496                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  4497                        ;
  4498                        ;	((unsigned char FAR *)BITMAP_BANK_0)[pixelLocati
                    on] = (char)pcolor;
  4499             00000000   pixelLocation_1	set	0
  4500                        	.sym	pixelLocation,0,7,1,32
  4501                        	.sym	x,4,7,6,32
  4502                        	.sym	y,8,7,6,32
  4503                        	.sym	pcolor,12,14,6,8
  4504                        	.sym	page,14,16,6,16
  4505 03:0E66: F4 00 00     	pea	#^$280
  4506 03:0E69: F4 80 02     	pea	#<$280
  4507 03:0E6C: D4 12        	pei	<L195+y_0+2
  4508 03:0E6E: D4 10        	pei	<L195+y_0
  4509                        	xref	~~~lmul
  4510 03:0E70: 22 xx xx xx  	jsl	~~~lmul
  4511 03:0E74: 85 01        	sta	<R0
  4512 03:0E76: 86 03        	stx	<R0+2
  4513 03:0E78: 18           	clc
  4514 03:0E79: A5 01        	lda	<R0
  4515 03:0E7B: 65 0C        	adc	<L195+x_0
  4516 03:0E7D: 85 05        	sta	<L196+pixelLocation_1
  4517 03:0E7F: A5 03        	lda	<R0+2
  4518 03:0E81: 65 0E        	adc	<L195+x_0+2
  4519 03:0E83: 85 07        	sta	<L196+pixelLocation_1+2
  4520                        	.line	632
  4521 03:0E85: 18           	clc
  4522 03:0E86: A9 00 00     	lda	#$0
  4523 03:0E89: 65 05        	adc	<L196+pixelLocation_1
  4524 03:0E8B: 85 01        	sta	<R0
  4525 03:0E8D: A9 B0 00     	lda	#$b0
  4526 03:0E90: 65 07        	adc	<L196+pixelLocation_1+2
  4527 03:0E92: 85 03        	sta	<R0+2
  4528 03:0E94: E2 20        	sep	#$20
  4529                        	longa	off
  4530 03:0E96: A5 14        	lda	<L195+pcolor_0
  4531 03:0E98: 87 01        	sta	[<R0]
  4532 03:0E9A: C2 20        	rep	#$20
  4533                        	longa	on
  4534                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  4535                        ;
  4536                        ;
  4537                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  Thu Dec  3 2020 22:25                                                Page 89


  4538                        ;}
  4539                        	.line	637
  4540                        L198:
  4541 03:0E9C: A5 0A        	lda	<L195+2
  4542 03:0E9E: 85 16        	sta	<L195+2+12
  4543 03:0EA0: A5 09        	lda	<L195+1
  4544 03:0EA2: 85 15        	sta	<L195+1+12
  4545 03:0EA4: 2B           	pld
  4546 03:0EA5: 3B           	tsc
  4547 03:0EA6: 18           	clc
  4548 03:0EA7: 69 14 00     	adc	#L195+12
  4549 03:0EAA: 1B           	tcs
  4550 03:0EAB: 6B           	rtl
  4551                        	.endblock	637
  4552             00000008   L195	equ	8
  4553             00000005   L196	equ	5
  4554 03:0EAC:              	ends
  4555                        	efunc
  4556                        	.endfunc	637,5,8
  4557                        	.line	637
  4558                        ;
  4559                        ;int k_get_pixel_color(int x,int y)
  4560                        ;{
  4561                        	.line	639
  4562                        	.line	640
  4563                        	GUI
  4564                        	xdef	~~k_get_pixel_color
  4565                        	func
  4566                        	.function	640
  4567                        ~~k_get_pixel_color:
  4568                        	longa	on
  4569                        	longi	on
  4570 03:0EAC: 3B           	tsc
  4571 03:0EAD: 38           	sec
  4572 03:0EAE: E9 0E 00     	sbc	#L199
  4573 03:0EB1: 1B           	tcs
  4574 03:0EB2: 0B           	phd
  4575 03:0EB3: 5B           	tcd
  4576             00000004   x_0	set	4
  4577             00000006   y_0	set	6
  4578                        	.block	640
  4579                        ;	long pixelLocation;
  4580                        ;	int color = -1;
  4581                        ;	
  4582                        ;	pixelLocation = (( (y) * 640) + (x) );
  4583             00000000   pixelLocation_1	set	0
  4584             00000004   color_1	set	4
  4585                        	.sym	pixelLocation,0,7,1,32
  4586                        	.sym	color,4,5,1,16
  4587                        	.sym	x,4,5,6,16
  4588                        	.sym	y,6,5,6,16
  4589 03:0EB4: A9 FF FF     	lda	#$ffff
  4590 03:0EB7: 85 0D        	sta	<L200+color_1
  4591                        	.line	644
  4592 03:0EB9: A5 14        	lda	<L199+y_0
  4593 03:0EBB: A2 80 02     	ldx	#<$280
  4594                        	xref	~~~mul
  4595 03:0EBE: 22 xx xx xx  	jsl	~~~mul
  Thu Dec  3 2020 22:25                                                Page 90


  4596 03:0EC2: 85 01        	sta	<R0
  4597 03:0EC4: 18           	clc
  4598 03:0EC5: A5 01        	lda	<R0
  4599 03:0EC7: 65 12        	adc	<L199+x_0
  4600 03:0EC9: 85 05        	sta	<R1
  4601 03:0ECB: A0 00 00     	ldy	#$0
  4602 03:0ECE: A5 05        	lda	<R1
  4603 03:0ED0: 10 01        	bpl	L202
  4604 03:0ED2: 88           	dey
  4605                        L202:
  4606 03:0ED3: 85 09        	sta	<L200+pixelLocation_1
  4607 03:0ED5: 84 0B        	sty	<L200+pixelLocation_1+2
  4608                        ;
  4609                        ;	if(y < 51)
  4610                        	.line	646
  4611                        ;	{
  4612 03:0ED7: 38           	sec
  4613 03:0ED8: A5 14        	lda	<L199+y_0
  4614 03:0EDA: E9 33 00     	sbc	#<$33
  4615 03:0EDD: 70 03        	bvs	L203
  4616 03:0EDF: 49 00 80     	eor	#$8000
  4617                        L203:
  4618 03:0EE2: 10 03        	bpl	L204
  4619 03:0EE4: 82 19 00     	brl	L10015
  4620                        L204:
  4621                        	.line	647
  4622                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_0)[pixelLocation];
  4623                        	.line	648
  4624 03:0EE7: 18           	clc
  4625 03:0EE8: A9 00 00     	lda	#$0
  4626 03:0EEB: 65 09        	adc	<L200+pixelLocation_1
  4627 03:0EED: 85 01        	sta	<R0
  4628 03:0EEF: A9 B0 00     	lda	#$b0
  4629 03:0EF2: 65 0B        	adc	<L200+pixelLocation_1+2
  4630 03:0EF4: 85 03        	sta	<R0+2
  4631 03:0EF6: A7 01        	lda	[<R0]
  4632 03:0EF8: 29 FF 00     	and	#$ff
  4633 03:0EFB: 85 0D        	sta	<L200+color_1
  4634                        ;	}
  4635                        	.line	649
  4636                        ;	else if(y > 51 && y < 153)
  4637 03:0EFD: 82 1A 01     	brl	L10016
  4638                        L10015:
  4639                        	.line	650
  4640                        ;	{
  4641 03:0F00: 38           	sec
  4642 03:0F01: A9 33 00     	lda	#$33
  4643 03:0F04: E5 14        	sbc	<L199+y_0
  4644 03:0F06: 70 03        	bvs	L205
  4645 03:0F08: 49 00 80     	eor	#$8000
  4646                        L205:
  4647 03:0F0B: 10 03        	bpl	L206
  4648 03:0F0D: 82 29 00     	brl	L10017
  4649                        L206:
  4650 03:0F10: 38           	sec
  4651 03:0F11: A5 14        	lda	<L199+y_0
  4652 03:0F13: E9 99 00     	sbc	#<$99
  Thu Dec  3 2020 22:25                                                Page 91


  4653 03:0F16: 70 03        	bvs	L207
  4654 03:0F18: 49 00 80     	eor	#$8000
  4655                        L207:
  4656 03:0F1B: 10 03        	bpl	L208
  4657 03:0F1D: 82 19 00     	brl	L10017
  4658                        L208:
  4659                        	.line	651
  4660                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_1)[pixelLocation];
  4661                        	.line	652
  4662 03:0F20: 18           	clc
  4663 03:0F21: A9 00 00     	lda	#$0
  4664 03:0F24: 65 09        	adc	<L200+pixelLocation_1
  4665 03:0F26: 85 01        	sta	<R0
  4666 03:0F28: A9 B1 00     	lda	#$b1
  4667 03:0F2B: 65 0B        	adc	<L200+pixelLocation_1+2
  4668 03:0F2D: 85 03        	sta	<R0+2
  4669 03:0F2F: A7 01        	lda	[<R0]
  4670 03:0F31: 29 FF 00     	and	#$ff
  4671 03:0F34: 85 0D        	sta	<L200+color_1
  4672                        ;	}
  4673                        	.line	653
  4674                        ;	else if(y > 153 && y < 255)
  4675 03:0F36: 82 E1 00     	brl	L10018
  4676                        L10017:
  4677                        	.line	654
  4678                        ;	{
  4679 03:0F39: 38           	sec
  4680 03:0F3A: A9 99 00     	lda	#$99
  4681 03:0F3D: E5 14        	sbc	<L199+y_0
  4682 03:0F3F: 70 03        	bvs	L209
  4683 03:0F41: 49 00 80     	eor	#$8000
  4684                        L209:
  4685 03:0F44: 10 03        	bpl	L210
  4686 03:0F46: 82 29 00     	brl	L10019
  4687                        L210:
  4688 03:0F49: 38           	sec
  4689 03:0F4A: A5 14        	lda	<L199+y_0
  4690 03:0F4C: E9 FF 00     	sbc	#<$ff
  4691 03:0F4F: 70 03        	bvs	L211
  4692 03:0F51: 49 00 80     	eor	#$8000
  4693                        L211:
  4694 03:0F54: 10 03        	bpl	L212
  4695 03:0F56: 82 19 00     	brl	L10019
  4696                        L212:
  4697                        	.line	655
  4698                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_2)[pixelLocation];
  4699                        	.line	656
  4700 03:0F59: 18           	clc
  4701 03:0F5A: A9 00 00     	lda	#$0
  4702 03:0F5D: 65 09        	adc	<L200+pixelLocation_1
  4703 03:0F5F: 85 01        	sta	<R0
  4704 03:0F61: A9 B2 00     	lda	#$b2
  4705 03:0F64: 65 0B        	adc	<L200+pixelLocation_1+2
  4706 03:0F66: 85 03        	sta	<R0+2
  4707 03:0F68: A7 01        	lda	[<R0]
  4708 03:0F6A: 29 FF 00     	and	#$ff
  Thu Dec  3 2020 22:25                                                Page 92


  4709 03:0F6D: 85 0D        	sta	<L200+color_1
  4710                        ;	}
  4711                        	.line	657
  4712                        ;	else if(y > 255 && y < 358)
  4713 03:0F6F: 82 A8 00     	brl	L10020
  4714                        L10019:
  4715                        	.line	658
  4716                        ;	{
  4717 03:0F72: 38           	sec
  4718 03:0F73: A9 FF 00     	lda	#$ff
  4719 03:0F76: E5 14        	sbc	<L199+y_0
  4720 03:0F78: 70 03        	bvs	L213
  4721 03:0F7A: 49 00 80     	eor	#$8000
  4722                        L213:
  4723 03:0F7D: 10 03        	bpl	L214
  4724 03:0F7F: 82 29 00     	brl	L10021
  4725                        L214:
  4726 03:0F82: 38           	sec
  4727 03:0F83: A5 14        	lda	<L199+y_0
  4728 03:0F85: E9 66 01     	sbc	#<$166
  4729 03:0F88: 70 03        	bvs	L215
  4730 03:0F8A: 49 00 80     	eor	#$8000
  4731                        L215:
  4732 03:0F8D: 10 03        	bpl	L216
  4733 03:0F8F: 82 19 00     	brl	L10021
  4734                        L216:
  4735                        	.line	659
  4736                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_3)[pixelLocation];
  4737                        	.line	660
  4738 03:0F92: 18           	clc
  4739 03:0F93: A9 00 00     	lda	#$0
  4740 03:0F96: 65 09        	adc	<L200+pixelLocation_1
  4741 03:0F98: 85 01        	sta	<R0
  4742 03:0F9A: A9 B3 00     	lda	#$b3
  4743 03:0F9D: 65 0B        	adc	<L200+pixelLocation_1+2
  4744 03:0F9F: 85 03        	sta	<R0+2
  4745 03:0FA1: A7 01        	lda	[<R0]
  4746 03:0FA3: 29 FF 00     	and	#$ff
  4747 03:0FA6: 85 0D        	sta	<L200+color_1
  4748                        ;	}
  4749                        	.line	661
  4750                        ;	else if(y > 358 && y < 460)
  4751 03:0FA8: 82 6F 00     	brl	L10022
  4752                        L10021:
  4753                        	.line	662
  4754                        ;	{
  4755 03:0FAB: 38           	sec
  4756 03:0FAC: A9 66 01     	lda	#$166
  4757 03:0FAF: E5 14        	sbc	<L199+y_0
  4758 03:0FB1: 70 03        	bvs	L217
  4759 03:0FB3: 49 00 80     	eor	#$8000
  4760                        L217:
  4761 03:0FB6: 10 03        	bpl	L218
  4762 03:0FB8: 82 29 00     	brl	L10023
  4763                        L218:
  4764 03:0FBB: 38           	sec
  4765 03:0FBC: A5 14        	lda	<L199+y_0
  Thu Dec  3 2020 22:25                                                Page 93


  4766 03:0FBE: E9 CC 01     	sbc	#<$1cc
  4767 03:0FC1: 70 03        	bvs	L219
  4768 03:0FC3: 49 00 80     	eor	#$8000
  4769                        L219:
  4770 03:0FC6: 10 03        	bpl	L220
  4771 03:0FC8: 82 19 00     	brl	L10023
  4772                        L220:
  4773                        	.line	663
  4774                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_4)[pixelLocation];
  4775                        	.line	664
  4776 03:0FCB: 18           	clc
  4777 03:0FCC: A9 00 00     	lda	#$0
  4778 03:0FCF: 65 09        	adc	<L200+pixelLocation_1
  4779 03:0FD1: 85 01        	sta	<R0
  4780 03:0FD3: A9 B4 00     	lda	#$b4
  4781 03:0FD6: 65 0B        	adc	<L200+pixelLocation_1+2
  4782 03:0FD8: 85 03        	sta	<R0+2
  4783 03:0FDA: A7 01        	lda	[<R0]
  4784 03:0FDC: 29 FF 00     	and	#$ff
  4785 03:0FDF: 85 0D        	sta	<L200+color_1
  4786                        ;	}
  4787                        	.line	665
  4788                        ;	else if(y > 460 && y < 479 )
  4789 03:0FE1: 82 36 00     	brl	L10024
  4790                        L10023:
  4791                        	.line	666
  4792                        ;	{
  4793 03:0FE4: 38           	sec
  4794 03:0FE5: A9 CC 01     	lda	#$1cc
  4795 03:0FE8: E5 14        	sbc	<L199+y_0
  4796 03:0FEA: 70 03        	bvs	L221
  4797 03:0FEC: 49 00 80     	eor	#$8000
  4798                        L221:
  4799 03:0FEF: 10 03        	bpl	L222
  4800 03:0FF1: 82 26 00     	brl	L10025
  4801                        L222:
  4802 03:0FF4: 38           	sec
  4803 03:0FF5: A5 14        	lda	<L199+y_0
  4804 03:0FF7: E9 DF 01     	sbc	#<$1df
  4805 03:0FFA: 70 03        	bvs	L223
  4806 03:0FFC: 49 00 80     	eor	#$8000
  4807                        L223:
  4808 03:0FFF: 10 03        	bpl	L224
  4809 03:1001: 82 16 00     	brl	L10025
  4810                        L224:
  4811                        	.line	667
  4812                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_5)[pixelLocation];
  4813                        	.line	668
  4814 03:1004: 18           	clc
  4815 03:1005: A9 00 00     	lda	#$0
  4816 03:1008: 65 09        	adc	<L200+pixelLocation_1
  4817 03:100A: 85 01        	sta	<R0
  4818 03:100C: A9 B5 00     	lda	#$b5
  4819 03:100F: 65 0B        	adc	<L200+pixelLocation_1+2
  4820 03:1011: 85 03        	sta	<R0+2
  4821 03:1013: A7 01        	lda	[<R0]
  Thu Dec  3 2020 22:25                                                Page 94


  4822 03:1015: 29 FF 00     	and	#$ff
  4823 03:1018: 85 0D        	sta	<L200+color_1
  4824                        ;	}
  4825                        	.line	669
  4826                        ;	
  4827                        ;	return color;
  4828                        L10025:
  4829                        L10024:
  4830                        L10022:
  4831                        L10020:
  4832                        L10018:
  4833                        L10016:
  4834                        	.line	671
  4835 03:101A: A5 0D        	lda	<L200+color_1
  4836                        L225:
  4837 03:101C: A8           	tay
  4838 03:101D: A5 10        	lda	<L199+2
  4839 03:101F: 85 14        	sta	<L199+2+4
  4840 03:1021: A5 0F        	lda	<L199+1
  4841 03:1023: 85 13        	sta	<L199+1+4
  4842 03:1025: 2B           	pld
  4843 03:1026: 3B           	tsc
  4844 03:1027: 18           	clc
  4845 03:1028: 69 12 00     	adc	#L199+4
  4846 03:102B: 1B           	tcs
  4847 03:102C: 98           	tya
  4848 03:102D: 6B           	rtl
  4849                        ;}
  4850                        	.line	672
  4851                        	.endblock	672
  4852             0000000E   L199	equ	14
  4853             00000009   L200	equ	9
  4854 03:102E:              	ends
  4855                        	efunc
  4856                        	.endfunc	672,9,14
  4857                        	.line	672
  4858                        ;
  4859                        ;int k_get_pixel_bank(int x,int y)
  4860                        ;{
  4861                        	.line	674
  4862                        	.line	675
  4863                        	GUI
  4864                        	xdef	~~k_get_pixel_bank
  4865                        	func
  4866                        	.function	675
  4867                        ~~k_get_pixel_bank:
  4868                        	longa	on
  4869                        	longi	on
  4870 03:102E: 3B           	tsc
  4871 03:102F: 38           	sec
  4872 03:1030: E9 04 00     	sbc	#L226
  4873 03:1033: 1B           	tcs
  4874 03:1034: 0B           	phd
  4875 03:1035: 5B           	tcd
  4876             00000004   x_0	set	4
  4877             00000006   y_0	set	6
  4878                        	.block	675
  4879                        ;	long pixelLocation;
  Thu Dec  3 2020 22:25                                                Page 95


  4880                        ;
  4881                        ;	if(y < 51)
  4882             00000000   pixelLocation_1	set	0
  4883                        	.sym	pixelLocation,0,7,1,32
  4884                        	.sym	x,4,5,6,16
  4885                        	.sym	y,6,5,6,16
  4886                        	.line	678
  4887                        ;	{
  4888 03:1036: 38           	sec
  4889 03:1037: A5 0A        	lda	<L226+y_0
  4890 03:1039: E9 33 00     	sbc	#<$33
  4891 03:103C: 70 03        	bvs	L229
  4892 03:103E: 49 00 80     	eor	#$8000
  4893                        L229:
  4894 03:1041: 10 03        	bpl	L230
  4895 03:1043: 82 15 00     	brl	L10026
  4896                        L230:
  4897                        	.line	679
  4898                        ;		return 0;
  4899                        	.line	680
  4900 03:1046: A9 00 00     	lda	#$0
  4901                        L231:
  4902 03:1049: A8           	tay
  4903 03:104A: A5 06        	lda	<L226+2
  4904 03:104C: 85 0A        	sta	<L226+2+4
  4905 03:104E: A5 05        	lda	<L226+1
  4906 03:1050: 85 09        	sta	<L226+1+4
  4907 03:1052: 2B           	pld
  4908 03:1053: 3B           	tsc
  4909 03:1054: 18           	clc
  4910 03:1055: 69 08 00     	adc	#L226+4
  4911 03:1058: 1B           	tcs
  4912 03:1059: 98           	tya
  4913 03:105A: 6B           	rtl
  4914                        ;	}
  4915                        	.line	681
  4916                        ;	else if(y > 51 && y < 153)
  4917                        L10026:
  4918                        	.line	682
  4919                        ;	{
  4920 03:105B: 38           	sec
  4921 03:105C: A9 33 00     	lda	#$33
  4922 03:105F: E5 0A        	sbc	<L226+y_0
  4923 03:1061: 70 03        	bvs	L232
  4924 03:1063: 49 00 80     	eor	#$8000
  4925                        L232:
  4926 03:1066: 10 03        	bpl	L233
  4927 03:1068: 82 16 00     	brl	L10027
  4928                        L233:
  4929 03:106B: 38           	sec
  4930 03:106C: A5 0A        	lda	<L226+y_0
  4931 03:106E: E9 99 00     	sbc	#<$99
  4932 03:1071: 70 03        	bvs	L234
  4933 03:1073: 49 00 80     	eor	#$8000
  4934                        L234:
  4935 03:1076: 10 03        	bpl	L235
  4936 03:1078: 82 06 00     	brl	L10027
  4937                        L235:
  Thu Dec  3 2020 22:25                                                Page 96


  4938                        	.line	683
  4939                        ;		return 1;
  4940                        	.line	684
  4941 03:107B: A9 01 00     	lda	#$1
  4942 03:107E: 82 C8 FF     	brl	L231
  4943                        ;	}
  4944                        	.line	685
  4945                        ;	else if(y > 153 && y < 255)
  4946                        L10027:
  4947                        	.line	686
  4948                        ;	{
  4949 03:1081: 38           	sec
  4950 03:1082: A9 99 00     	lda	#$99
  4951 03:1085: E5 0A        	sbc	<L226+y_0
  4952 03:1087: 70 03        	bvs	L236
  4953 03:1089: 49 00 80     	eor	#$8000
  4954                        L236:
  4955 03:108C: 10 03        	bpl	L237
  4956 03:108E: 82 16 00     	brl	L10028
  4957                        L237:
  4958 03:1091: 38           	sec
  4959 03:1092: A5 0A        	lda	<L226+y_0
  4960 03:1094: E9 FF 00     	sbc	#<$ff
  4961 03:1097: 70 03        	bvs	L238
  4962 03:1099: 49 00 80     	eor	#$8000
  4963                        L238:
  4964 03:109C: 10 03        	bpl	L239
  4965 03:109E: 82 06 00     	brl	L10028
  4966                        L239:
  4967                        	.line	687
  4968                        ;		return 2;
  4969                        	.line	688
  4970 03:10A1: A9 02 00     	lda	#$2
  4971 03:10A4: 82 A2 FF     	brl	L231
  4972                        ;	}
  4973                        	.line	689
  4974                        ;	else if(y > 255 && y < 358)
  4975                        L10028:
  4976                        	.line	690
  4977                        ;	{
  4978 03:10A7: 38           	sec
  4979 03:10A8: A9 FF 00     	lda	#$ff
  4980 03:10AB: E5 0A        	sbc	<L226+y_0
  4981 03:10AD: 70 03        	bvs	L240
  4982 03:10AF: 49 00 80     	eor	#$8000
  4983                        L240:
  4984 03:10B2: 10 03        	bpl	L241
  4985 03:10B4: 82 16 00     	brl	L10029
  4986                        L241:
  4987 03:10B7: 38           	sec
  4988 03:10B8: A5 0A        	lda	<L226+y_0
  4989 03:10BA: E9 66 01     	sbc	#<$166
  4990 03:10BD: 70 03        	bvs	L242
  4991 03:10BF: 49 00 80     	eor	#$8000
  4992                        L242:
  4993 03:10C2: 10 03        	bpl	L243
  4994 03:10C4: 82 06 00     	brl	L10029
  4995                        L243:
  Thu Dec  3 2020 22:25                                                Page 97


  4996                        	.line	691
  4997                        ;		return 3;
  4998                        	.line	692
  4999 03:10C7: A9 03 00     	lda	#$3
  5000 03:10CA: 82 7C FF     	brl	L231
  5001                        ;	}
  5002                        	.line	693
  5003                        ;	else if(y > 358 && y < 460)
  5004                        L10029:
  5005                        	.line	694
  5006                        ;	{
  5007 03:10CD: 38           	sec
  5008 03:10CE: A9 66 01     	lda	#$166
  5009 03:10D1: E5 0A        	sbc	<L226+y_0
  5010 03:10D3: 70 03        	bvs	L244
  5011 03:10D5: 49 00 80     	eor	#$8000
  5012                        L244:
  5013 03:10D8: 10 03        	bpl	L245
  5014 03:10DA: 82 16 00     	brl	L10030
  5015                        L245:
  5016 03:10DD: 38           	sec
  5017 03:10DE: A5 0A        	lda	<L226+y_0
  5018 03:10E0: E9 CC 01     	sbc	#<$1cc
  5019 03:10E3: 70 03        	bvs	L246
  5020 03:10E5: 49 00 80     	eor	#$8000
  5021                        L246:
  5022 03:10E8: 10 03        	bpl	L247
  5023 03:10EA: 82 06 00     	brl	L10030
  5024                        L247:
  5025                        	.line	695
  5026                        ;		return 4;
  5027                        	.line	696
  5028 03:10ED: A9 04 00     	lda	#$4
  5029 03:10F0: 82 56 FF     	brl	L231
  5030                        ;	}
  5031                        	.line	697
  5032                        ;	else if(y > 460 && y < 479 )
  5033                        L10030:
  5034                        	.line	698
  5035                        ;	{
  5036 03:10F3: 38           	sec
  5037 03:10F4: A9 CC 01     	lda	#$1cc
  5038 03:10F7: E5 0A        	sbc	<L226+y_0
  5039 03:10F9: 70 03        	bvs	L248
  5040 03:10FB: 49 00 80     	eor	#$8000
  5041                        L248:
  5042 03:10FE: 10 03        	bpl	L249
  5043 03:1100: 82 16 00     	brl	L10031
  5044                        L249:
  5045 03:1103: 38           	sec
  5046 03:1104: A5 0A        	lda	<L226+y_0
  5047 03:1106: E9 DF 01     	sbc	#<$1df
  5048 03:1109: 70 03        	bvs	L250
  5049 03:110B: 49 00 80     	eor	#$8000
  5050                        L250:
  5051 03:110E: 10 03        	bpl	L251
  5052 03:1110: 82 06 00     	brl	L10031
  5053                        L251:
  Thu Dec  3 2020 22:25                                                Page 98


  5054                        	.line	699
  5055                        ;		return 5;
  5056                        	.line	700
  5057 03:1113: A9 05 00     	lda	#$5
  5058 03:1116: 82 30 FF     	brl	L231
  5059                        ;	}
  5060                        	.line	701
  5061                        ;	
  5062                        ;	return 0;
  5063                        L10031:
  5064                        	.line	703
  5065 03:1119: A9 00 00     	lda	#$0
  5066 03:111C: 82 2A FF     	brl	L231
  5067                        ;}
  5068                        	.line	704
  5069                        	.endblock	704
  5070             00000004   L226	equ	4
  5071             00000001   L227	equ	1
  5072 03:111F:              	ends
  5073                        	efunc
  5074                        	.endfunc	704,1,4
  5075                        	.line	704
  5076                        ;
  5077                        ;
  5078                        ;void k_draw_segments(int xc, int yc, int x, int y
                    ,int color) 
  5079                        ;{ 
  5080                        	.line	707
  5081                        	.line	708
  5082                        	GUI
  5083                        	xdef	~~k_draw_segments
  5084                        	func
  5085                        	.function	708
  5086                        ~~k_draw_segments:
  5087                        	longa	on
  5088                        	longi	on
  5089 03:111F: 3B           	tsc
  5090 03:1120: 38           	sec
  5091 03:1121: E9 08 00     	sbc	#L252
  5092 03:1124: 1B           	tcs
  5093 03:1125: 0B           	phd
  5094 03:1126: 5B           	tcd
  5095             00000004   xc_0	set	4
  5096             00000006   yc_0	set	6
  5097             00000008   x_0	set	8
  5098             0000000A   y_0	set	10
  5099             0000000C   color_0	set	12
  5100                        	.block	708
  5101                        ;    k_draw_pixel(xc+x, yc+y, color); 
  5102                        	.sym	xc,4,5,6,16
  5103                        	.sym	yc,6,5,6,16
  5104                        	.sym	x,8,5,6,16
  5105                        	.sym	y,10,5,6,16
  5106                        	.sym	color,12,5,6,16
  5107                        	.line	709
  5108 03:1127: D4 14        	pei	<L252+color_0
  5109 03:1129: 18           	clc
  5110 03:112A: A5 0E        	lda	<L252+yc_0
  Thu Dec  3 2020 22:25                                                Page 99


  5111 03:112C: 65 12        	adc	<L252+y_0
  5112 03:112E: 85 01        	sta	<R0
  5113 03:1130: A0 00 00     	ldy	#$0
  5114 03:1133: A5 01        	lda	<R0
  5115 03:1135: 10 01        	bpl	L255
  5116 03:1137: 88           	dey
  5117                        L255:
  5118 03:1138: 85 01        	sta	<R0
  5119 03:113A: 84 03        	sty	<R0+2
  5120 03:113C: D4 03        	pei	<R0+2
  5121 03:113E: D4 01        	pei	<R0
  5122 03:1140: 18           	clc
  5123 03:1141: A5 0C        	lda	<L252+xc_0
  5124 03:1143: 65 10        	adc	<L252+x_0
  5125 03:1145: 85 05        	sta	<R1
  5126 03:1147: A0 00 00     	ldy	#$0
  5127 03:114A: A5 05        	lda	<R1
  5128 03:114C: 10 01        	bpl	L256
  5129 03:114E: 88           	dey
  5130                        L256:
  5131 03:114F: 85 05        	sta	<R1
  5132 03:1151: 84 07        	sty	<R1+2
  5133 03:1153: D4 07        	pei	<R1+2
  5134 03:1155: D4 05        	pei	<R1
  5135 03:1157: 22 10 0E 03  	jsl	~~k_draw_pixel
  5136                        ;    k_draw_pixel(xc-x, yc+y, color); 
  5137                        	.line	710
  5138 03:115B: D4 14        	pei	<L252+color_0
  5139 03:115D: 18           	clc
  5140 03:115E: A5 0E        	lda	<L252+yc_0
  5141 03:1160: 65 12        	adc	<L252+y_0
  5142 03:1162: 85 01        	sta	<R0
  5143 03:1164: A0 00 00     	ldy	#$0
  5144 03:1167: A5 01        	lda	<R0
  5145 03:1169: 10 01        	bpl	L257
  5146 03:116B: 88           	dey
  5147                        L257:
  5148 03:116C: 85 01        	sta	<R0
  5149 03:116E: 84 03        	sty	<R0+2
  5150 03:1170: D4 03        	pei	<R0+2
  5151 03:1172: D4 01        	pei	<R0
  5152 03:1174: 38           	sec
  5153 03:1175: A5 0C        	lda	<L252+xc_0
  5154 03:1177: E5 10        	sbc	<L252+x_0
  5155 03:1179: 85 05        	sta	<R1
  5156 03:117B: A0 00 00     	ldy	#$0
  5157 03:117E: A5 05        	lda	<R1
  5158 03:1180: 10 01        	bpl	L258
  5159 03:1182: 88           	dey
  5160                        L258:
  5161 03:1183: 85 05        	sta	<R1
  5162 03:1185: 84 07        	sty	<R1+2
  5163 03:1187: D4 07        	pei	<R1+2
  5164 03:1189: D4 05        	pei	<R1
  5165 03:118B: 22 10 0E 03  	jsl	~~k_draw_pixel
  5166                        ;    k_draw_pixel(xc+x, yc-y, color); 
  5167                        	.line	711
  5168 03:118F: D4 14        	pei	<L252+color_0
  Thu Dec  3 2020 22:25                                                Page 100


  5169 03:1191: 38           	sec
  5170 03:1192: A5 0E        	lda	<L252+yc_0
  5171 03:1194: E5 12        	sbc	<L252+y_0
  5172 03:1196: 85 01        	sta	<R0
  5173 03:1198: A0 00 00     	ldy	#$0
  5174 03:119B: A5 01        	lda	<R0
  5175 03:119D: 10 01        	bpl	L259
  5176 03:119F: 88           	dey
  5177                        L259:
  5178 03:11A0: 85 01        	sta	<R0
  5179 03:11A2: 84 03        	sty	<R0+2
  5180 03:11A4: D4 03        	pei	<R0+2
  5181 03:11A6: D4 01        	pei	<R0
  5182 03:11A8: 18           	clc
  5183 03:11A9: A5 0C        	lda	<L252+xc_0
  5184 03:11AB: 65 10        	adc	<L252+x_0
  5185 03:11AD: 85 05        	sta	<R1
  5186 03:11AF: A0 00 00     	ldy	#$0
  5187 03:11B2: A5 05        	lda	<R1
  5188 03:11B4: 10 01        	bpl	L260
  5189 03:11B6: 88           	dey
  5190                        L260:
  5191 03:11B7: 85 05        	sta	<R1
  5192 03:11B9: 84 07        	sty	<R1+2
  5193 03:11BB: D4 07        	pei	<R1+2
  5194 03:11BD: D4 05        	pei	<R1
  5195 03:11BF: 22 10 0E 03  	jsl	~~k_draw_pixel
  5196                        ;    k_draw_pixel(xc-x, yc-y, color); 
  5197                        	.line	712
  5198 03:11C3: D4 14        	pei	<L252+color_0
  5199 03:11C5: 38           	sec
  5200 03:11C6: A5 0E        	lda	<L252+yc_0
  5201 03:11C8: E5 12        	sbc	<L252+y_0
  5202 03:11CA: 85 01        	sta	<R0
  5203 03:11CC: A0 00 00     	ldy	#$0
  5204 03:11CF: A5 01        	lda	<R0
  5205 03:11D1: 10 01        	bpl	L261
  5206 03:11D3: 88           	dey
  5207                        L261:
  5208 03:11D4: 85 01        	sta	<R0
  5209 03:11D6: 84 03        	sty	<R0+2
  5210 03:11D8: D4 03        	pei	<R0+2
  5211 03:11DA: D4 01        	pei	<R0
  5212 03:11DC: 38           	sec
  5213 03:11DD: A5 0C        	lda	<L252+xc_0
  5214 03:11DF: E5 10        	sbc	<L252+x_0
  5215 03:11E1: 85 05        	sta	<R1
  5216 03:11E3: A0 00 00     	ldy	#$0
  5217 03:11E6: A5 05        	lda	<R1
  5218 03:11E8: 10 01        	bpl	L262
  5219 03:11EA: 88           	dey
  5220                        L262:
  5221 03:11EB: 85 05        	sta	<R1
  5222 03:11ED: 84 07        	sty	<R1+2
  5223 03:11EF: D4 07        	pei	<R1+2
  5224 03:11F1: D4 05        	pei	<R1
  5225 03:11F3: 22 10 0E 03  	jsl	~~k_draw_pixel
  5226                        ;    k_draw_pixel(xc+y, yc+x, color); 
  Thu Dec  3 2020 22:25                                                Page 101


  5227                        	.line	713
  5228 03:11F7: D4 14        	pei	<L252+color_0
  5229 03:11F9: 18           	clc
  5230 03:11FA: A5 0E        	lda	<L252+yc_0
  5231 03:11FC: 65 10        	adc	<L252+x_0
  5232 03:11FE: 85 01        	sta	<R0
  5233 03:1200: A0 00 00     	ldy	#$0
  5234 03:1203: A5 01        	lda	<R0
  5235 03:1205: 10 01        	bpl	L263
  5236 03:1207: 88           	dey
  5237                        L263:
  5238 03:1208: 85 01        	sta	<R0
  5239 03:120A: 84 03        	sty	<R0+2
  5240 03:120C: D4 03        	pei	<R0+2
  5241 03:120E: D4 01        	pei	<R0
  5242 03:1210: 18           	clc
  5243 03:1211: A5 0C        	lda	<L252+xc_0
  5244 03:1213: 65 12        	adc	<L252+y_0
  5245 03:1215: 85 05        	sta	<R1
  5246 03:1217: A0 00 00     	ldy	#$0
  5247 03:121A: A5 05        	lda	<R1
  5248 03:121C: 10 01        	bpl	L264
  5249 03:121E: 88           	dey
  5250                        L264:
  5251 03:121F: 85 05        	sta	<R1
  5252 03:1221: 84 07        	sty	<R1+2
  5253 03:1223: D4 07        	pei	<R1+2
  5254 03:1225: D4 05        	pei	<R1
  5255 03:1227: 22 10 0E 03  	jsl	~~k_draw_pixel
  5256                        ;    k_draw_pixel(xc-y, yc+x, color); 
  5257                        	.line	714
  5258 03:122B: D4 14        	pei	<L252+color_0
  5259 03:122D: 18           	clc
  5260 03:122E: A5 0E        	lda	<L252+yc_0
  5261 03:1230: 65 10        	adc	<L252+x_0
  5262 03:1232: 85 01        	sta	<R0
  5263 03:1234: A0 00 00     	ldy	#$0
  5264 03:1237: A5 01        	lda	<R0
  5265 03:1239: 10 01        	bpl	L265
  5266 03:123B: 88           	dey
  5267                        L265:
  5268 03:123C: 85 01        	sta	<R0
  5269 03:123E: 84 03        	sty	<R0+2
  5270 03:1240: D4 03        	pei	<R0+2
  5271 03:1242: D4 01        	pei	<R0
  5272 03:1244: 38           	sec
  5273 03:1245: A5 0C        	lda	<L252+xc_0
  5274 03:1247: E5 12        	sbc	<L252+y_0
  5275 03:1249: 85 05        	sta	<R1
  5276 03:124B: A0 00 00     	ldy	#$0
  5277 03:124E: A5 05        	lda	<R1
  5278 03:1250: 10 01        	bpl	L266
  5279 03:1252: 88           	dey
  5280                        L266:
  5281 03:1253: 85 05        	sta	<R1
  5282 03:1255: 84 07        	sty	<R1+2
  5283 03:1257: D4 07        	pei	<R1+2
  5284 03:1259: D4 05        	pei	<R1
  Thu Dec  3 2020 22:25                                                Page 102


  5285 03:125B: 22 10 0E 03  	jsl	~~k_draw_pixel
  5286                        ;    k_draw_pixel(xc+y, yc-x, color); 
  5287                        	.line	715
  5288 03:125F: D4 14        	pei	<L252+color_0
  5289 03:1261: 38           	sec
  5290 03:1262: A5 0E        	lda	<L252+yc_0
  5291 03:1264: E5 10        	sbc	<L252+x_0
  5292 03:1266: 85 01        	sta	<R0
  5293 03:1268: A0 00 00     	ldy	#$0
  5294 03:126B: A5 01        	lda	<R0
  5295 03:126D: 10 01        	bpl	L267
  5296 03:126F: 88           	dey
  5297                        L267:
  5298 03:1270: 85 01        	sta	<R0
  5299 03:1272: 84 03        	sty	<R0+2
  5300 03:1274: D4 03        	pei	<R0+2
  5301 03:1276: D4 01        	pei	<R0
  5302 03:1278: 18           	clc
  5303 03:1279: A5 0C        	lda	<L252+xc_0
  5304 03:127B: 65 12        	adc	<L252+y_0
  5305 03:127D: 85 05        	sta	<R1
  5306 03:127F: A0 00 00     	ldy	#$0
  5307 03:1282: A5 05        	lda	<R1
  5308 03:1284: 10 01        	bpl	L268
  5309 03:1286: 88           	dey
  5310                        L268:
  5311 03:1287: 85 05        	sta	<R1
  5312 03:1289: 84 07        	sty	<R1+2
  5313 03:128B: D4 07        	pei	<R1+2
  5314 03:128D: D4 05        	pei	<R1
  5315 03:128F: 22 10 0E 03  	jsl	~~k_draw_pixel
  5316                        ;    k_draw_pixel(xc-y, yc-x, color); 
  5317                        	.line	716
  5318 03:1293: D4 14        	pei	<L252+color_0
  5319 03:1295: 38           	sec
  5320 03:1296: A5 0E        	lda	<L252+yc_0
  5321 03:1298: E5 10        	sbc	<L252+x_0
  5322 03:129A: 85 01        	sta	<R0
  5323 03:129C: A0 00 00     	ldy	#$0
  5324 03:129F: A5 01        	lda	<R0
  5325 03:12A1: 10 01        	bpl	L269
  5326 03:12A3: 88           	dey
  5327                        L269:
  5328 03:12A4: 85 01        	sta	<R0
  5329 03:12A6: 84 03        	sty	<R0+2
  5330 03:12A8: D4 03        	pei	<R0+2
  5331 03:12AA: D4 01        	pei	<R0
  5332 03:12AC: 38           	sec
  5333 03:12AD: A5 0C        	lda	<L252+xc_0
  5334 03:12AF: E5 12        	sbc	<L252+y_0
  5335 03:12B1: 85 05        	sta	<R1
  5336 03:12B3: A0 00 00     	ldy	#$0
  5337 03:12B6: A5 05        	lda	<R1
  5338 03:12B8: 10 01        	bpl	L270
  5339 03:12BA: 88           	dey
  5340                        L270:
  5341 03:12BB: 85 05        	sta	<R1
  5342 03:12BD: 84 07        	sty	<R1+2
  Thu Dec  3 2020 22:25                                                Page 103


  5343 03:12BF: D4 07        	pei	<R1+2
  5344 03:12C1: D4 05        	pei	<R1
  5345 03:12C3: 22 10 0E 03  	jsl	~~k_draw_pixel
  5346                        ;} 
  5347                        	.line	717
  5348                        L271:
  5349 03:12C7: A5 0A        	lda	<L252+2
  5350 03:12C9: 85 14        	sta	<L252+2+10
  5351 03:12CB: A5 09        	lda	<L252+1
  5352 03:12CD: 85 13        	sta	<L252+1+10
  5353 03:12CF: 2B           	pld
  5354 03:12D0: 3B           	tsc
  5355 03:12D1: 18           	clc
  5356 03:12D2: 69 12 00     	adc	#L252+10
  5357 03:12D5: 1B           	tcs
  5358 03:12D6: 6B           	rtl
  5359                        	.endblock	717
  5360             00000008   L252	equ	8
  5361             00000009   L253	equ	9
  5362 03:12D7:              	ends
  5363                        	efunc
  5364                        	.endfunc	717,9,8
  5365                        	.line	717
  5366                        ;
  5367                        ;void k_draw_filled_segments(int xc, int yc, int x
                    , int y,int color) 
  5368                        ;{ 
  5369                        	.line	719
  5370                        	.line	720
  5371                        	GUI
  5372                        	xdef	~~k_draw_filled_segments
  5373                        	func
  5374                        	.function	720
  5375                        ~~k_draw_filled_segments:
  5376                        	longa	on
  5377                        	longi	on
  5378 03:12D7: 3B           	tsc
  5379 03:12D8: 38           	sec
  5380 03:12D9: E9 08 00     	sbc	#L272
  5381 03:12DC: 1B           	tcs
  5382 03:12DD: 0B           	phd
  5383 03:12DE: 5B           	tcd
  5384             00000004   xc_0	set	4
  5385             00000006   yc_0	set	6
  5386             00000008   x_0	set	8
  5387             0000000A   y_0	set	10
  5388             0000000C   color_0	set	12
  5389                        	.block	720
  5390                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  5391                        	.sym	xc,4,5,6,16
  5392                        	.sym	yc,6,5,6,16
  5393                        	.sym	x,8,5,6,16
  5394                        	.sym	y,10,5,6,16
  5395                        	.sym	color,12,5,6,16
  5396                        	.line	721
  5397 03:12DF: D4 14        	pei	<L272+color_0
  5398 03:12E1: 18           	clc
  5399 03:12E2: A5 0E        	lda	<L272+yc_0
  Thu Dec  3 2020 22:25                                                Page 104


  5400 03:12E4: 65 12        	adc	<L272+y_0
  5401 03:12E6: 85 01        	sta	<R0
  5402 03:12E8: A0 00 00     	ldy	#$0
  5403 03:12EB: A5 01        	lda	<R0
  5404 03:12ED: 10 01        	bpl	L275
  5405 03:12EF: 88           	dey
  5406                        L275:
  5407 03:12F0: 85 01        	sta	<R0
  5408 03:12F2: 84 03        	sty	<R0+2
  5409 03:12F4: D4 03        	pei	<R0+2
  5410 03:12F6: D4 01        	pei	<R0
  5411 03:12F8: 18           	clc
  5412 03:12F9: A5 0C        	lda	<L272+xc_0
  5413 03:12FB: 65 10        	adc	<L272+x_0
  5414 03:12FD: 85 05        	sta	<R1
  5415 03:12FF: A0 00 00     	ldy	#$0
  5416 03:1302: A5 05        	lda	<R1
  5417 03:1304: 10 01        	bpl	L276
  5418 03:1306: 88           	dey
  5419                        L276:
  5420 03:1307: 85 05        	sta	<R1
  5421 03:1309: 84 07        	sty	<R1+2
  5422 03:130B: D4 07        	pei	<R1+2
  5423 03:130D: D4 05        	pei	<R1
  5424 03:130F: 22 10 0E 03  	jsl	~~k_draw_pixel
  5425                        ;	k_draw_pixel(xc-x, yc+y, color); 
  5426                        	.line	722
  5427 03:1313: D4 14        	pei	<L272+color_0
  5428 03:1315: 18           	clc
  5429 03:1316: A5 0E        	lda	<L272+yc_0
  5430 03:1318: 65 12        	adc	<L272+y_0
  5431 03:131A: 85 01        	sta	<R0
  5432 03:131C: A0 00 00     	ldy	#$0
  5433 03:131F: A5 01        	lda	<R0
  5434 03:1321: 10 01        	bpl	L277
  5435 03:1323: 88           	dey
  5436                        L277:
  5437 03:1324: 85 01        	sta	<R0
  5438 03:1326: 84 03        	sty	<R0+2
  5439 03:1328: D4 03        	pei	<R0+2
  5440 03:132A: D4 01        	pei	<R0
  5441 03:132C: 38           	sec
  5442 03:132D: A5 0C        	lda	<L272+xc_0
  5443 03:132F: E5 10        	sbc	<L272+x_0
  5444 03:1331: 85 05        	sta	<R1
  5445 03:1333: A0 00 00     	ldy	#$0
  5446 03:1336: A5 05        	lda	<R1
  5447 03:1338: 10 01        	bpl	L278
  5448 03:133A: 88           	dey
  5449                        L278:
  5450 03:133B: 85 05        	sta	<R1
  5451 03:133D: 84 07        	sty	<R1+2
  5452 03:133F: D4 07        	pei	<R1+2
  5453 03:1341: D4 05        	pei	<R1
  5454 03:1343: 22 10 0E 03  	jsl	~~k_draw_pixel
  5455                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  5456                        	.line	723
  5457 03:1347: D4 14        	pei	<L272+color_0
  Thu Dec  3 2020 22:25                                                Page 105


  5458 03:1349: 18           	clc
  5459 03:134A: A5 0E        	lda	<L272+yc_0
  5460 03:134C: 65 12        	adc	<L272+y_0
  5461 03:134E: 48           	pha
  5462 03:134F: 38           	sec
  5463 03:1350: A5 0C        	lda	<L272+xc_0
  5464 03:1352: E5 10        	sbc	<L272+x_0
  5465 03:1354: 48           	pha
  5466 03:1355: 18           	clc
  5467 03:1356: A5 0E        	lda	<L272+yc_0
  5468 03:1358: 65 12        	adc	<L272+y_0
  5469 03:135A: 48           	pha
  5470 03:135B: 18           	clc
  5471 03:135C: A5 0C        	lda	<L272+xc_0
  5472 03:135E: 65 10        	adc	<L272+x_0
  5473 03:1360: 48           	pha
  5474 03:1361: 22 49 16 03  	jsl	~~k_draw_line
  5475                        ;	
  5476                        ;	
  5477                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  5478                        	.line	726
  5479 03:1365: D4 14        	pei	<L272+color_0
  5480 03:1367: 38           	sec
  5481 03:1368: A5 0E        	lda	<L272+yc_0
  5482 03:136A: E5 12        	sbc	<L272+y_0
  5483 03:136C: 85 01        	sta	<R0
  5484 03:136E: A0 00 00     	ldy	#$0
  5485 03:1371: A5 01        	lda	<R0
  5486 03:1373: 10 01        	bpl	L279
  5487 03:1375: 88           	dey
  5488                        L279:
  5489 03:1376: 85 01        	sta	<R0
  5490 03:1378: 84 03        	sty	<R0+2
  5491 03:137A: D4 03        	pei	<R0+2
  5492 03:137C: D4 01        	pei	<R0
  5493 03:137E: 18           	clc
  5494 03:137F: A5 0C        	lda	<L272+xc_0
  5495 03:1381: 65 10        	adc	<L272+x_0
  5496 03:1383: 85 05        	sta	<R1
  5497 03:1385: A0 00 00     	ldy	#$0
  5498 03:1388: A5 05        	lda	<R1
  5499 03:138A: 10 01        	bpl	L280
  5500 03:138C: 88           	dey
  5501                        L280:
  5502 03:138D: 85 05        	sta	<R1
  5503 03:138F: 84 07        	sty	<R1+2
  5504 03:1391: D4 07        	pei	<R1+2
  5505 03:1393: D4 05        	pei	<R1
  5506 03:1395: 22 10 0E 03  	jsl	~~k_draw_pixel
  5507                        ;	k_draw_pixel(xc-x, yc-y, color); 
  5508                        	.line	727
  5509 03:1399: D4 14        	pei	<L272+color_0
  5510 03:139B: 38           	sec
  5511 03:139C: A5 0E        	lda	<L272+yc_0
  5512 03:139E: E5 12        	sbc	<L272+y_0
  5513 03:13A0: 85 01        	sta	<R0
  5514 03:13A2: A0 00 00     	ldy	#$0
  5515 03:13A5: A5 01        	lda	<R0
  Thu Dec  3 2020 22:25                                                Page 106


  5516 03:13A7: 10 01        	bpl	L281
  5517 03:13A9: 88           	dey
  5518                        L281:
  5519 03:13AA: 85 01        	sta	<R0
  5520 03:13AC: 84 03        	sty	<R0+2
  5521 03:13AE: D4 03        	pei	<R0+2
  5522 03:13B0: D4 01        	pei	<R0
  5523 03:13B2: 38           	sec
  5524 03:13B3: A5 0C        	lda	<L272+xc_0
  5525 03:13B5: E5 10        	sbc	<L272+x_0
  5526 03:13B7: 85 05        	sta	<R1
  5527 03:13B9: A0 00 00     	ldy	#$0
  5528 03:13BC: A5 05        	lda	<R1
  5529 03:13BE: 10 01        	bpl	L282
  5530 03:13C0: 88           	dey
  5531                        L282:
  5532 03:13C1: 85 05        	sta	<R1
  5533 03:13C3: 84 07        	sty	<R1+2
  5534 03:13C5: D4 07        	pei	<R1+2
  5535 03:13C7: D4 05        	pei	<R1
  5536 03:13C9: 22 10 0E 03  	jsl	~~k_draw_pixel
  5537                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  5538                        	.line	728
  5539 03:13CD: D4 14        	pei	<L272+color_0
  5540 03:13CF: 38           	sec
  5541 03:13D0: A5 0E        	lda	<L272+yc_0
  5542 03:13D2: E5 12        	sbc	<L272+y_0
  5543 03:13D4: 48           	pha
  5544 03:13D5: 38           	sec
  5545 03:13D6: A5 0C        	lda	<L272+xc_0
  5546 03:13D8: E5 10        	sbc	<L272+x_0
  5547 03:13DA: 48           	pha
  5548 03:13DB: 38           	sec
  5549 03:13DC: A5 0E        	lda	<L272+yc_0
  5550 03:13DE: E5 12        	sbc	<L272+y_0
  5551 03:13E0: 48           	pha
  5552 03:13E1: 18           	clc
  5553 03:13E2: A5 0C        	lda	<L272+xc_0
  5554 03:13E4: 65 10        	adc	<L272+x_0
  5555 03:13E6: 48           	pha
  5556 03:13E7: 22 49 16 03  	jsl	~~k_draw_line
  5557                        ;	
  5558                        ;    
  5559                        ;	k_draw_pixel(xc+y, yc+x, color);     
  5560                        	.line	731
  5561 03:13EB: D4 14        	pei	<L272+color_0
  5562 03:13ED: 18           	clc
  5563 03:13EE: A5 0E        	lda	<L272+yc_0
  5564 03:13F0: 65 10        	adc	<L272+x_0
  5565 03:13F2: 85 01        	sta	<R0
  5566 03:13F4: A0 00 00     	ldy	#$0
  5567 03:13F7: A5 01        	lda	<R0
  5568 03:13F9: 10 01        	bpl	L283
  5569 03:13FB: 88           	dey
  5570                        L283:
  5571 03:13FC: 85 01        	sta	<R0
  5572 03:13FE: 84 03        	sty	<R0+2
  5573 03:1400: D4 03        	pei	<R0+2
  Thu Dec  3 2020 22:25                                                Page 107


  5574 03:1402: D4 01        	pei	<R0
  5575 03:1404: 18           	clc
  5576 03:1405: A5 0C        	lda	<L272+xc_0
  5577 03:1407: 65 12        	adc	<L272+y_0
  5578 03:1409: 85 05        	sta	<R1
  5579 03:140B: A0 00 00     	ldy	#$0
  5580 03:140E: A5 05        	lda	<R1
  5581 03:1410: 10 01        	bpl	L284
  5582 03:1412: 88           	dey
  5583                        L284:
  5584 03:1413: 85 05        	sta	<R1
  5585 03:1415: 84 07        	sty	<R1+2
  5586 03:1417: D4 07        	pei	<R1+2
  5587 03:1419: D4 05        	pei	<R1
  5588 03:141B: 22 10 0E 03  	jsl	~~k_draw_pixel
  5589                        ;	k_draw_pixel(xc-y, yc+x, color); 
  5590                        	.line	732
  5591 03:141F: D4 14        	pei	<L272+color_0
  5592 03:1421: 18           	clc
  5593 03:1422: A5 0E        	lda	<L272+yc_0
  5594 03:1424: 65 10        	adc	<L272+x_0
  5595 03:1426: 85 01        	sta	<R0
  5596 03:1428: A0 00 00     	ldy	#$0
  5597 03:142B: A5 01        	lda	<R0
  5598 03:142D: 10 01        	bpl	L285
  5599 03:142F: 88           	dey
  5600                        L285:
  5601 03:1430: 85 01        	sta	<R0
  5602 03:1432: 84 03        	sty	<R0+2
  5603 03:1434: D4 03        	pei	<R0+2
  5604 03:1436: D4 01        	pei	<R0
  5605 03:1438: 38           	sec
  5606 03:1439: A5 0C        	lda	<L272+xc_0
  5607 03:143B: E5 12        	sbc	<L272+y_0
  5608 03:143D: 85 05        	sta	<R1
  5609 03:143F: A0 00 00     	ldy	#$0
  5610 03:1442: A5 05        	lda	<R1
  5611 03:1444: 10 01        	bpl	L286
  5612 03:1446: 88           	dey
  5613                        L286:
  5614 03:1447: 85 05        	sta	<R1
  5615 03:1449: 84 07        	sty	<R1+2
  5616 03:144B: D4 07        	pei	<R1+2
  5617 03:144D: D4 05        	pei	<R1
  5618 03:144F: 22 10 0E 03  	jsl	~~k_draw_pixel
  5619                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  5620                        	.line	733
  5621 03:1453: D4 14        	pei	<L272+color_0
  5622 03:1455: 18           	clc
  5623 03:1456: A5 0E        	lda	<L272+yc_0
  5624 03:1458: 65 10        	adc	<L272+x_0
  5625 03:145A: 48           	pha
  5626 03:145B: 38           	sec
  5627 03:145C: A5 0C        	lda	<L272+xc_0
  5628 03:145E: E5 12        	sbc	<L272+y_0
  5629 03:1460: 48           	pha
  5630 03:1461: 18           	clc
  5631 03:1462: A5 0E        	lda	<L272+yc_0
  Thu Dec  3 2020 22:25                                                Page 108


  5632 03:1464: 65 10        	adc	<L272+x_0
  5633 03:1466: 48           	pha
  5634 03:1467: 18           	clc
  5635 03:1468: A5 0C        	lda	<L272+xc_0
  5636 03:146A: 65 12        	adc	<L272+y_0
  5637 03:146C: 48           	pha
  5638 03:146D: 22 49 16 03  	jsl	~~k_draw_line
  5639                        ;	
  5640                        ;	k_draw_pixel(xc+y, yc-x, color);  
  5641                        	.line	735
  5642 03:1471: D4 14        	pei	<L272+color_0
  5643 03:1473: 38           	sec
  5644 03:1474: A5 0E        	lda	<L272+yc_0
  5645 03:1476: E5 10        	sbc	<L272+x_0
  5646 03:1478: 85 01        	sta	<R0
  5647 03:147A: A0 00 00     	ldy	#$0
  5648 03:147D: A5 01        	lda	<R0
  5649 03:147F: 10 01        	bpl	L287
  5650 03:1481: 88           	dey
  5651                        L287:
  5652 03:1482: 85 01        	sta	<R0
  5653 03:1484: 84 03        	sty	<R0+2
  5654 03:1486: D4 03        	pei	<R0+2
  5655 03:1488: D4 01        	pei	<R0
  5656 03:148A: 18           	clc
  5657 03:148B: A5 0C        	lda	<L272+xc_0
  5658 03:148D: 65 12        	adc	<L272+y_0
  5659 03:148F: 85 05        	sta	<R1
  5660 03:1491: A0 00 00     	ldy	#$0
  5661 03:1494: A5 05        	lda	<R1
  5662 03:1496: 10 01        	bpl	L288
  5663 03:1498: 88           	dey
  5664                        L288:
  5665 03:1499: 85 05        	sta	<R1
  5666 03:149B: 84 07        	sty	<R1+2
  5667 03:149D: D4 07        	pei	<R1+2
  5668 03:149F: D4 05        	pei	<R1
  5669 03:14A1: 22 10 0E 03  	jsl	~~k_draw_pixel
  5670                        ;	k_draw_pixel(xc-y, yc-x, color); 
  5671                        	.line	736
  5672 03:14A5: D4 14        	pei	<L272+color_0
  5673 03:14A7: 38           	sec
  5674 03:14A8: A5 0E        	lda	<L272+yc_0
  5675 03:14AA: E5 10        	sbc	<L272+x_0
  5676 03:14AC: 85 01        	sta	<R0
  5677 03:14AE: A0 00 00     	ldy	#$0
  5678 03:14B1: A5 01        	lda	<R0
  5679 03:14B3: 10 01        	bpl	L289
  5680 03:14B5: 88           	dey
  5681                        L289:
  5682 03:14B6: 85 01        	sta	<R0
  5683 03:14B8: 84 03        	sty	<R0+2
  5684 03:14BA: D4 03        	pei	<R0+2
  5685 03:14BC: D4 01        	pei	<R0
  5686 03:14BE: 38           	sec
  5687 03:14BF: A5 0C        	lda	<L272+xc_0
  5688 03:14C1: E5 12        	sbc	<L272+y_0
  5689 03:14C3: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 109


  5690 03:14C5: A0 00 00     	ldy	#$0
  5691 03:14C8: A5 05        	lda	<R1
  5692 03:14CA: 10 01        	bpl	L290
  5693 03:14CC: 88           	dey
  5694                        L290:
  5695 03:14CD: 85 05        	sta	<R1
  5696 03:14CF: 84 07        	sty	<R1+2
  5697 03:14D1: D4 07        	pei	<R1+2
  5698 03:14D3: D4 05        	pei	<R1
  5699 03:14D5: 22 10 0E 03  	jsl	~~k_draw_pixel
  5700                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  5701                        	.line	737
  5702 03:14D9: D4 14        	pei	<L272+color_0
  5703 03:14DB: 38           	sec
  5704 03:14DC: A5 0E        	lda	<L272+yc_0
  5705 03:14DE: E5 10        	sbc	<L272+x_0
  5706 03:14E0: 48           	pha
  5707 03:14E1: 38           	sec
  5708 03:14E2: A5 0C        	lda	<L272+xc_0
  5709 03:14E4: E5 12        	sbc	<L272+y_0
  5710 03:14E6: 48           	pha
  5711 03:14E7: 38           	sec
  5712 03:14E8: A5 0E        	lda	<L272+yc_0
  5713 03:14EA: E5 10        	sbc	<L272+x_0
  5714 03:14EC: 48           	pha
  5715 03:14ED: 18           	clc
  5716 03:14EE: A5 0C        	lda	<L272+xc_0
  5717 03:14F0: 65 12        	adc	<L272+y_0
  5718 03:14F2: 48           	pha
  5719 03:14F3: 22 49 16 03  	jsl	~~k_draw_line
  5720                        ;}
  5721                        	.line	738
  5722                        L291:
  5723 03:14F7: A5 0A        	lda	<L272+2
  5724 03:14F9: 85 14        	sta	<L272+2+10
  5725 03:14FB: A5 09        	lda	<L272+1
  5726 03:14FD: 85 13        	sta	<L272+1+10
  5727 03:14FF: 2B           	pld
  5728 03:1500: 3B           	tsc
  5729 03:1501: 18           	clc
  5730 03:1502: 69 12 00     	adc	#L272+10
  5731 03:1505: 1B           	tcs
  5732 03:1506: 6B           	rtl
  5733                        	.endblock	738
  5734             00000008   L272	equ	8
  5735             00000009   L273	equ	9
  5736 03:1507:              	ends
  5737                        	efunc
  5738                        	.endfunc	738,9,8
  5739                        	.line	738
  5740                        ;  
  5741                        ;// Function for circle-generation 
  5742                        ;// using Bresenham's algorithm 
  5743                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  5744                        ;{ 
  5745                        	.line	742
  5746                        	.line	743
  Thu Dec  3 2020 22:25                                                Page 110


  5747                        	GUI
  5748                        	xdef	~~k_draw_circle
  5749                        	func
  5750                        	.function	743
  5751                        ~~k_draw_circle:
  5752                        	longa	on
  5753                        	longi	on
  5754 03:1507: 3B           	tsc
  5755 03:1508: 38           	sec
  5756 03:1509: E9 0E 00     	sbc	#L292
  5757 03:150C: 1B           	tcs
  5758 03:150D: 0B           	phd
  5759 03:150E: 5B           	tcd
  5760             00000004   xc_0	set	4
  5761             00000006   yc_0	set	6
  5762             00000008   r_0	set	8
  5763             0000000A   color_0	set	10
  5764                        	.block	743
  5765                        ;    int x = 0;
  5766                        ;	int y = r; 
  5767                        ;	
  5768                        ;    int d = 3 - 2 * r; 
  5769                        ;	
  5770                        ;    k_draw_segments(xc, yc, x, y, color); 
  5771             00000000   x_1	set	0
  5772             00000002   y_1	set	2
  5773             00000004   d_1	set	4
  5774                        	.sym	x,0,5,1,16
  5775                        	.sym	y,2,5,1,16
  5776                        	.sym	d,4,5,1,16
  5777                        	.sym	xc,4,5,6,16
  5778                        	.sym	yc,6,5,6,16
  5779                        	.sym	r,8,5,6,16
  5780                        	.sym	color,10,5,6,16
  5781 03:150F: 64 09        	stz	<L293+x_1
  5782 03:1511: A5 16        	lda	<L292+r_0
  5783 03:1513: 85 0B        	sta	<L293+y_1
  5784 03:1515: A5 16        	lda	<L292+r_0
  5785 03:1517: 0A           	asl	A
  5786 03:1518: 85 01        	sta	<R0
  5787 03:151A: 38           	sec
  5788 03:151B: A9 03 00     	lda	#$3
  5789 03:151E: E5 01        	sbc	<R0
  5790 03:1520: 85 0D        	sta	<L293+d_1
  5791                        	.line	749
  5792 03:1522: D4 18        	pei	<L292+color_0
  5793 03:1524: D4 0B        	pei	<L293+y_1
  5794 03:1526: D4 09        	pei	<L293+x_1
  5795 03:1528: D4 14        	pei	<L292+yc_0
  5796 03:152A: D4 12        	pei	<L292+xc_0
  5797 03:152C: 22 1F 11 03  	jsl	~~k_draw_segments
  5798                        ;	
  5799                        ;    while (y >= x) 
  5800                        	.line	751
  5801                        L10032:
  5802 03:1530: 38           	sec
  5803 03:1531: A5 0B        	lda	<L293+y_1
  5804 03:1533: E5 09        	sbc	<L293+x_1
  Thu Dec  3 2020 22:25                                                Page 111


  5805 03:1535: 70 03        	bvs	L295
  5806 03:1537: 49 00 80     	eor	#$8000
  5807                        L295:
  5808 03:153A: 30 03        	bmi	L296
  5809 03:153C: 82 59 00     	brl	L10033
  5810                        L296:
  5811                        ;    { 
  5812                        	.line	752
  5813                        ;        // for each pixel we will 
  5814                        ;        // draw all eight pixels 
  5815                        ;          
  5816                        ;        x++; 
  5817                        	.line	756
  5818 03:153F: E6 09        	inc	<L293+x_1
  5819                        ;  
  5820                        ;        // check for decision parameter 
  5821                        ;        // and correspondingly  
  5822                        ;        // update d, x, y 
  5823                        ;        if (d > 0) 
  5824                        	.line	761
  5825                        ;        { 
  5826 03:1541: 38           	sec
  5827 03:1542: A9 00 00     	lda	#$0
  5828 03:1545: E5 0D        	sbc	<L293+d_1
  5829 03:1547: 70 03        	bvs	L297
  5830 03:1549: 49 00 80     	eor	#$8000
  5831                        L297:
  5832 03:154C: 10 03        	bpl	L298
  5833 03:154E: 82 21 00     	brl	L10034
  5834                        L298:
  5835                        	.line	762
  5836                        ;            y--;  
  5837                        	.line	763
  5838 03:1551: C6 0B        	dec	<L293+y_1
  5839                        ;            d = d + 4 * (x - y) + 10; 
  5840                        	.line	764
  5841 03:1553: 38           	sec
  5842 03:1554: A5 09        	lda	<L293+x_1
  5843 03:1556: E5 0B        	sbc	<L293+y_1
  5844 03:1558: 85 05        	sta	<R1
  5845 03:155A: A5 05        	lda	<R1
  5846 03:155C: 0A           	asl	A
  5847 03:155D: 0A           	asl	A
  5848 03:155E: 85 01        	sta	<R0
  5849 03:1560: 18           	clc
  5850 03:1561: A5 01        	lda	<R0
  5851 03:1563: 65 0D        	adc	<L293+d_1
  5852 03:1565: 85 05        	sta	<R1
  5853 03:1567: 18           	clc
  5854 03:1568: A9 0A 00     	lda	#$a
  5855 03:156B: 65 05        	adc	<R1
  5856 03:156D: 85 0D        	sta	<L293+d_1
  5857                        ;        } 
  5858                        	.line	765
  5859                        ;        else
  5860 03:156F: 82 15 00     	brl	L10035
  5861                        L10034:
  5862                        ;            d = d + 4 * x + 6; 
  Thu Dec  3 2020 22:25                                                Page 112


  5863                        	.line	767
  5864 03:1572: A5 09        	lda	<L293+x_1
  5865 03:1574: 0A           	asl	A
  5866 03:1575: 0A           	asl	A
  5867 03:1576: 85 01        	sta	<R0
  5868 03:1578: 18           	clc
  5869 03:1579: A5 01        	lda	<R0
  5870 03:157B: 65 0D        	adc	<L293+d_1
  5871 03:157D: 85 05        	sta	<R1
  5872 03:157F: 18           	clc
  5873 03:1580: A9 06 00     	lda	#$6
  5874 03:1583: 65 05        	adc	<R1
  5875 03:1585: 85 0D        	sta	<L293+d_1
  5876                        L10035:
  5877                        ;        k_draw_segments(xc, yc, x, y, color); 
  5878                        	.line	768
  5879 03:1587: D4 18        	pei	<L292+color_0
  5880 03:1589: D4 0B        	pei	<L293+y_1
  5881 03:158B: D4 09        	pei	<L293+x_1
  5882 03:158D: D4 14        	pei	<L292+yc_0
  5883 03:158F: D4 12        	pei	<L292+xc_0
  5884 03:1591: 22 1F 11 03  	jsl	~~k_draw_segments
  5885                        ;       
  5886                        ;    } 
  5887                        	.line	770
  5888 03:1595: 82 98 FF     	brl	L10032
  5889                        L10033:
  5890                        ;} 
  5891                        	.line	771
  5892                        L299:
  5893 03:1598: A5 10        	lda	<L292+2
  5894 03:159A: 85 18        	sta	<L292+2+8
  5895 03:159C: A5 0F        	lda	<L292+1
  5896 03:159E: 85 17        	sta	<L292+1+8
  5897 03:15A0: 2B           	pld
  5898 03:15A1: 3B           	tsc
  5899 03:15A2: 18           	clc
  5900 03:15A3: 69 16 00     	adc	#L292+8
  5901 03:15A6: 1B           	tcs
  5902 03:15A7: 6B           	rtl
  5903                        	.endblock	771
  5904             0000000E   L292	equ	14
  5905             00000009   L293	equ	9
  5906 03:15A8:              	ends
  5907                        	efunc
  5908                        	.endfunc	771,9,14
  5909                        	.line	771
  5910                        ;
  5911                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  5912                        ;{ 
  5913                        	.line	773
  5914                        	.line	774
  5915                        	GUI
  5916                        	xdef	~~k_draw_filled_circle
  5917                        	func
  5918                        	.function	774
  5919                        ~~k_draw_filled_circle:
  Thu Dec  3 2020 22:25                                                Page 113


  5920                        	longa	on
  5921                        	longi	on
  5922 03:15A8: 3B           	tsc
  5923 03:15A9: 38           	sec
  5924 03:15AA: E9 0E 00     	sbc	#L300
  5925 03:15AD: 1B           	tcs
  5926 03:15AE: 0B           	phd
  5927 03:15AF: 5B           	tcd
  5928             00000004   xc_0	set	4
  5929             00000006   yc_0	set	6
  5930             00000008   r_0	set	8
  5931             0000000A   color_0	set	10
  5932                        	.block	774
  5933                        ;    int x = 0;
  5934                        ;	int y = r; 
  5935                        ;	
  5936                        ;    int d = 3 - 2 * r; 
  5937                        ;	
  5938                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  5939             00000000   x_1	set	0
  5940             00000002   y_1	set	2
  5941             00000004   d_1	set	4
  5942                        	.sym	x,0,5,1,16
  5943                        	.sym	y,2,5,1,16
  5944                        	.sym	d,4,5,1,16
  5945                        	.sym	xc,4,5,6,16
  5946                        	.sym	yc,6,5,6,16
  5947                        	.sym	r,8,5,6,16
  5948                        	.sym	color,10,5,6,16
  5949 03:15B0: 64 09        	stz	<L301+x_1
  5950 03:15B2: A5 16        	lda	<L300+r_0
  5951 03:15B4: 85 0B        	sta	<L301+y_1
  5952 03:15B6: A5 16        	lda	<L300+r_0
  5953 03:15B8: 0A           	asl	A
  5954 03:15B9: 85 01        	sta	<R0
  5955 03:15BB: 38           	sec
  5956 03:15BC: A9 03 00     	lda	#$3
  5957 03:15BF: E5 01        	sbc	<R0
  5958 03:15C1: 85 0D        	sta	<L301+d_1
  5959                        	.line	780
  5960 03:15C3: D4 18        	pei	<L300+color_0
  5961 03:15C5: D4 0B        	pei	<L301+y_1
  5962 03:15C7: D4 09        	pei	<L301+x_1
  5963 03:15C9: D4 14        	pei	<L300+yc_0
  5964 03:15CB: D4 12        	pei	<L300+xc_0
  5965 03:15CD: 22 D7 12 03  	jsl	~~k_draw_filled_segments
  5966                        ;	
  5967                        ;    while (y >= x) 
  5968                        	.line	782
  5969                        L10036:
  5970 03:15D1: 38           	sec
  5971 03:15D2: A5 0B        	lda	<L301+y_1
  5972 03:15D4: E5 09        	sbc	<L301+x_1
  5973 03:15D6: 70 03        	bvs	L303
  5974 03:15D8: 49 00 80     	eor	#$8000
  5975                        L303:
  5976 03:15DB: 30 03        	bmi	L304
  5977 03:15DD: 82 59 00     	brl	L10037
  Thu Dec  3 2020 22:25                                                Page 114


  5978                        L304:
  5979                        ;    { 
  5980                        	.line	783
  5981                        ;        // for each pixel we will 
  5982                        ;        // draw all eight pixels 
  5983                        ;          
  5984                        ;        x++; 
  5985                        	.line	787
  5986 03:15E0: E6 09        	inc	<L301+x_1
  5987                        ;  
  5988                        ;        // check for decision parameter 
  5989                        ;        // and correspondingly  
  5990                        ;        // update d, x, y 
  5991                        ;        if (d > 0) 
  5992                        	.line	792
  5993                        ;        { 
  5994 03:15E2: 38           	sec
  5995 03:15E3: A9 00 00     	lda	#$0
  5996 03:15E6: E5 0D        	sbc	<L301+d_1
  5997 03:15E8: 70 03        	bvs	L305
  5998 03:15EA: 49 00 80     	eor	#$8000
  5999                        L305:
  6000 03:15ED: 10 03        	bpl	L306
  6001 03:15EF: 82 21 00     	brl	L10038
  6002                        L306:
  6003                        	.line	793
  6004                        ;            y--;  
  6005                        	.line	794
  6006 03:15F2: C6 0B        	dec	<L301+y_1
  6007                        ;            d = d + 4 * (x - y) + 10; 
  6008                        	.line	795
  6009 03:15F4: 38           	sec
  6010 03:15F5: A5 09        	lda	<L301+x_1
  6011 03:15F7: E5 0B        	sbc	<L301+y_1
  6012 03:15F9: 85 05        	sta	<R1
  6013 03:15FB: A5 05        	lda	<R1
  6014 03:15FD: 0A           	asl	A
  6015 03:15FE: 0A           	asl	A
  6016 03:15FF: 85 01        	sta	<R0
  6017 03:1601: 18           	clc
  6018 03:1602: A5 01        	lda	<R0
  6019 03:1604: 65 0D        	adc	<L301+d_1
  6020 03:1606: 85 05        	sta	<R1
  6021 03:1608: 18           	clc
  6022 03:1609: A9 0A 00     	lda	#$a
  6023 03:160C: 65 05        	adc	<R1
  6024 03:160E: 85 0D        	sta	<L301+d_1
  6025                        ;        } 
  6026                        	.line	796
  6027                        ;        else
  6028 03:1610: 82 15 00     	brl	L10039
  6029                        L10038:
  6030                        ;            d = d + 4 * x + 6; 
  6031                        	.line	798
  6032 03:1613: A5 09        	lda	<L301+x_1
  6033 03:1615: 0A           	asl	A
  6034 03:1616: 0A           	asl	A
  6035 03:1617: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 115


  6036 03:1619: 18           	clc
  6037 03:161A: A5 01        	lda	<R0
  6038 03:161C: 65 0D        	adc	<L301+d_1
  6039 03:161E: 85 05        	sta	<R1
  6040 03:1620: 18           	clc
  6041 03:1621: A9 06 00     	lda	#$6
  6042 03:1624: 65 05        	adc	<R1
  6043 03:1626: 85 0D        	sta	<L301+d_1
  6044                        L10039:
  6045                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  6046                        	.line	799
  6047 03:1628: D4 18        	pei	<L300+color_0
  6048 03:162A: D4 0B        	pei	<L301+y_1
  6049 03:162C: D4 09        	pei	<L301+x_1
  6050 03:162E: D4 14        	pei	<L300+yc_0
  6051 03:1630: D4 12        	pei	<L300+xc_0
  6052 03:1632: 22 D7 12 03  	jsl	~~k_draw_filled_segments
  6053                        ;       
  6054                        ;    } 
  6055                        	.line	801
  6056 03:1636: 82 98 FF     	brl	L10036
  6057                        L10037:
  6058                        ;} 
  6059                        	.line	802
  6060                        L307:
  6061 03:1639: A5 10        	lda	<L300+2
  6062 03:163B: 85 18        	sta	<L300+2+8
  6063 03:163D: A5 0F        	lda	<L300+1
  6064 03:163F: 85 17        	sta	<L300+1+8
  6065 03:1641: 2B           	pld
  6066 03:1642: 3B           	tsc
  6067 03:1643: 18           	clc
  6068 03:1644: 69 16 00     	adc	#L300+8
  6069 03:1647: 1B           	tcs
  6070 03:1648: 6B           	rtl
  6071                        	.endblock	802
  6072             0000000E   L300	equ	14
  6073             00000009   L301	equ	9
  6074 03:1649:              	ends
  6075                        	efunc
  6076                        	.endfunc	802,9,14
  6077                        	.line	802
  6078                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color)
  6079                        ;{
  6080                        	.line	803
  6081                        	.line	804
  6082                        	GUI
  6083                        	xdef	~~k_draw_line
  6084                        	func
  6085                        	.function	804
  6086                        ~~k_draw_line:
  6087                        	longa	on
  6088                        	longi	on
  6089 03:1649: 3B           	tsc
  6090 03:164A: 38           	sec
  6091 03:164B: E9 00 00     	sbc	#L308
  Thu Dec  3 2020 22:25                                                Page 116


  6092 03:164E: 1B           	tcs
  6093 03:164F: 0B           	phd
  6094 03:1650: 5B           	tcd
  6095             00000004   x0_0	set	4
  6096             00000006   y0_0	set	6
  6097             00000008   x1_0	set	8
  6098             0000000A   y1_0	set	10
  6099             0000000C   color_0	set	12
  6100                        	.block	804
  6101                        ;	k_draw_line_ex(x0, y0, x1, y1,color,BITMAP_FRONT
                    );
  6102                        	.sym	x0,4,5,6,16
  6103                        	.sym	y0,6,5,6,16
  6104                        	.sym	x1,8,5,6,16
  6105                        	.sym	y1,10,5,6,16
  6106                        	.sym	color,12,5,6,16
  6107                        	.line	805
  6108 03:1651: F4 00 00     	pea	#<$0
  6109 03:1654: D4 0C        	pei	<L308+color_0
  6110 03:1656: D4 0A        	pei	<L308+y1_0
  6111 03:1658: D4 08        	pei	<L308+x1_0
  6112 03:165A: D4 06        	pei	<L308+y0_0
  6113 03:165C: D4 04        	pei	<L308+x0_0
  6114 03:165E: 22 72 16 03  	jsl	~~k_draw_line_ex
  6115                        ;}
  6116                        	.line	806
  6117                        L311:
  6118 03:1662: A5 02        	lda	<L308+2
  6119 03:1664: 85 0C        	sta	<L308+2+10
  6120 03:1666: A5 01        	lda	<L308+1
  6121 03:1668: 85 0B        	sta	<L308+1+10
  6122 03:166A: 2B           	pld
  6123 03:166B: 3B           	tsc
  6124 03:166C: 18           	clc
  6125 03:166D: 69 0A 00     	adc	#L308+10
  6126 03:1670: 1B           	tcs
  6127 03:1671: 6B           	rtl
  6128                        	.endblock	806
  6129             00000000   L308	equ	0
  6130             00000001   L309	equ	1
  6131 03:1672:              	ends
  6132                        	efunc
  6133                        	.endfunc	806,1,0
  6134                        	.line	806
  6135                        ;
  6136                        ;void k_draw_line_ex(int x0, int y0, int x1, int y
                    1,int color,UINT page)
  6137                        ;{
  6138                        	.line	808
  6139                        	.line	809
  6140                        	GUI
  6141                        	xdef	~~k_draw_line_ex
  6142                        	func
  6143                        	.function	809
  6144                        ~~k_draw_line_ex:
  6145                        	longa	on
  6146                        	longi	on
  6147 03:1672: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 117


  6148 03:1673: 38           	sec
  6149 03:1674: E9 14 00     	sbc	#L312
  6150 03:1677: 1B           	tcs
  6151 03:1678: 0B           	phd
  6152 03:1679: 5B           	tcd
  6153             00000004   x0_0	set	4
  6154             00000006   y0_0	set	6
  6155             00000008   x1_0	set	8
  6156             0000000A   y1_0	set	10
  6157             0000000C   color_0	set	12
  6158             0000000E   page_0	set	14
  6159                        	.block	809
  6160                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  6161                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  6162                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  6163                        ;
  6164                        ;	for(;;)
  6165             00000000   dx_1	set	0
  6166             00000002   sx_1	set	2
  6167             00000004   dy_1	set	4
  6168             00000006   sy_1	set	6
  6169             00000008   err_1	set	8
  6170             0000000A   e2_1	set	10
  6171                        	.sym	dx,0,5,1,16
  6172                        	.sym	sx,2,5,1,16
  6173                        	.sym	dy,4,5,1,16
  6174                        	.sym	sy,6,5,1,16
  6175                        	.sym	err,8,5,1,16
  6176                        	.sym	e2,10,5,1,16
  6177                        	.sym	x0,4,5,6,16
  6178                        	.sym	y0,6,5,6,16
  6179                        	.sym	x1,8,5,6,16
  6180                        	.sym	y1,10,5,6,16
  6181                        	.sym	color,12,5,6,16
  6182                        	.sym	page,14,16,6,16
  6183 03:167A: 38           	sec
  6184 03:167B: A5 1C        	lda	<L312+x1_0
  6185 03:167D: E5 18        	sbc	<L312+x0_0
  6186 03:167F: 48           	pha
  6187 03:1680: 22 xx xx xx  	jsl	~~abs
  6188 03:1684: 85 09        	sta	<L313+dx_1
  6189 03:1686: 38           	sec
  6190 03:1687: A5 18        	lda	<L312+x0_0
  6191 03:1689: E5 1C        	sbc	<L312+x1_0
  6192 03:168B: 70 03        	bvs	L316
  6193 03:168D: 49 00 80     	eor	#$8000
  6194                        L316:
  6195 03:1690: 10 03        	bpl	L317
  6196 03:1692: 82 05 00     	brl	L315
  6197                        L317:
  6198 03:1695: A9 01 00     	lda	#$1
  6199 03:1698: 80 03        	bra	L318
  6200                        L315:
  6201 03:169A: A9 FF FF     	lda	#$ffff
  6202                        L318:
  6203 03:169D: 85 0B        	sta	<L313+sx_1
  6204 03:169F: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 118


  6205 03:16A0: A5 1E        	lda	<L312+y1_0
  6206 03:16A2: E5 1A        	sbc	<L312+y0_0
  6207 03:16A4: 48           	pha
  6208 03:16A5: 22 xx xx xx  	jsl	~~abs
  6209 03:16A9: 85 0D        	sta	<L313+dy_1
  6210 03:16AB: 38           	sec
  6211 03:16AC: A5 1A        	lda	<L312+y0_0
  6212 03:16AE: E5 1E        	sbc	<L312+y1_0
  6213 03:16B0: 70 03        	bvs	L320
  6214 03:16B2: 49 00 80     	eor	#$8000
  6215                        L320:
  6216 03:16B5: 10 03        	bpl	L321
  6217 03:16B7: 82 05 00     	brl	L319
  6218                        L321:
  6219 03:16BA: A9 01 00     	lda	#$1
  6220 03:16BD: 80 03        	bra	L322
  6221                        L319:
  6222 03:16BF: A9 FF FF     	lda	#$ffff
  6223                        L322:
  6224 03:16C2: 85 0F        	sta	<L313+sy_1
  6225 03:16C4: 38           	sec
  6226 03:16C5: A5 0D        	lda	<L313+dy_1
  6227 03:16C7: E5 09        	sbc	<L313+dx_1
  6228 03:16C9: 70 03        	bvs	L324
  6229 03:16CB: 49 00 80     	eor	#$8000
  6230                        L324:
  6231 03:16CE: 10 03        	bpl	L325
  6232 03:16D0: 82 04 00     	brl	L323
  6233                        L325:
  6234 03:16D3: A5 09        	lda	<L313+dx_1
  6235 03:16D5: 80 0A        	bra	L326
  6236                        L323:
  6237 03:16D7: 38           	sec
  6238 03:16D8: A9 00 00     	lda	#$0
  6239 03:16DB: E5 0D        	sbc	<L313+dy_1
  6240 03:16DD: 85 01        	sta	<R0
  6241 03:16DF: A5 01        	lda	<R0
  6242                        L326:
  6243 03:16E1: 85 01        	sta	<R0
  6244 03:16E3: A5 01        	lda	<R0
  6245 03:16E5: A2 02 00     	ldx	#<$2
  6246                        	xref	~~~div
  6247 03:16E8: 22 xx xx xx  	jsl	~~~div
  6248 03:16EC: 85 11        	sta	<L313+err_1
  6249                        	.line	814
  6250                        L10042:
  6251                        ;	{
  6252                        	.line	815
  6253                        ;		k_draw_pixel_ex(x0,y0,color,page);
  6254                        	.line	816
  6255 03:16EE: D4 22        	pei	<L312+page_0
  6256 03:16F0: D4 20        	pei	<L312+color_0
  6257 03:16F2: A0 00 00     	ldy	#$0
  6258 03:16F5: A5 1A        	lda	<L312+y0_0
  6259 03:16F7: 10 01        	bpl	L327
  6260 03:16F9: 88           	dey
  6261                        L327:
  6262 03:16FA: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 119


  6263 03:16FC: 84 03        	sty	<R0+2
  6264 03:16FE: D4 03        	pei	<R0+2
  6265 03:1700: D4 01        	pei	<R0
  6266 03:1702: A0 00 00     	ldy	#$0
  6267 03:1705: A5 18        	lda	<L312+x0_0
  6268 03:1707: 10 01        	bpl	L328
  6269 03:1709: 88           	dey
  6270                        L328:
  6271 03:170A: 85 05        	sta	<R1
  6272 03:170C: 84 07        	sty	<R1+2
  6273 03:170E: D4 07        	pei	<R1+2
  6274 03:1710: D4 05        	pei	<R1
  6275 03:1712: 22 5E 0E 03  	jsl	~~k_draw_pixel_ex
  6276                        ;		if (x0==x1 && y0==y1) break;
  6277                        	.line	817
  6278 03:1716: A5 18        	lda	<L312+x0_0
  6279 03:1718: C5 1C        	cmp	<L312+x1_0
  6280 03:171A: F0 03        	beq	L330
  6281 03:171C: 82 09 00     	brl	L329
  6282                        L330:
  6283 03:171F: A5 1A        	lda	<L312+y0_0
  6284 03:1721: C5 1E        	cmp	<L312+y1_0
  6285 03:1723: D0 03        	bne	L331
  6286 03:1725: 82 49 00     	brl	L10041
  6287                        L331:
  6288                        L329:
  6289                        ;		e2 = err;
  6290                        	.line	818
  6291 03:1728: A5 11        	lda	<L313+err_1
  6292 03:172A: 85 13        	sta	<L313+e2_1
  6293                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  6294                        	.line	819
  6295 03:172C: 38           	sec
  6296 03:172D: A9 00 00     	lda	#$0
  6297 03:1730: E5 09        	sbc	<L313+dx_1
  6298 03:1732: 85 01        	sta	<R0
  6299 03:1734: 38           	sec
  6300 03:1735: A5 01        	lda	<R0
  6301 03:1737: E5 13        	sbc	<L313+e2_1
  6302 03:1739: 70 03        	bvs	L332
  6303 03:173B: 49 00 80     	eor	#$8000
  6304                        L332:
  6305 03:173E: 10 03        	bpl	L333
  6306 03:1740: 82 0E 00     	brl	L10043
  6307                        L333:
  6308                        	.line	819
  6309                        	.line	819
  6310 03:1743: 38           	sec
  6311 03:1744: A5 11        	lda	<L313+err_1
  6312 03:1746: E5 0D        	sbc	<L313+dy_1
  6313 03:1748: 85 11        	sta	<L313+err_1
  6314                        	.line	819
  6315 03:174A: 18           	clc
  6316 03:174B: A5 18        	lda	<L312+x0_0
  6317 03:174D: 65 0B        	adc	<L313+sx_1
  6318 03:174F: 85 18        	sta	<L312+x0_0
  6319                        	.line	819
  6320                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  Thu Dec  3 2020 22:25                                                Page 120


  6321                        L10043:
  6322                        	.line	820
  6323 03:1751: 38           	sec
  6324 03:1752: A5 13        	lda	<L313+e2_1
  6325 03:1754: E5 0D        	sbc	<L313+dy_1
  6326 03:1756: 70 03        	bvs	L334
  6327 03:1758: 49 00 80     	eor	#$8000
  6328                        L334:
  6329 03:175B: 10 03        	bpl	L335
  6330 03:175D: 82 0E 00     	brl	L10044
  6331                        L335:
  6332                        	.line	820
  6333                        	.line	820
  6334 03:1760: 18           	clc
  6335 03:1761: A5 11        	lda	<L313+err_1
  6336 03:1763: 65 09        	adc	<L313+dx_1
  6337 03:1765: 85 11        	sta	<L313+err_1
  6338                        	.line	820
  6339 03:1767: 18           	clc
  6340 03:1768: A5 1A        	lda	<L312+y0_0
  6341 03:176A: 65 0F        	adc	<L313+sy_1
  6342 03:176C: 85 1A        	sta	<L312+y0_0
  6343                        	.line	820
  6344                        ;	}
  6345                        L10044:
  6346                        	.line	821
  6347                        L10040:
  6348 03:176E: 82 7D FF     	brl	L10042
  6349                        L10041:
  6350                        ;}
  6351                        	.line	822
  6352                        L336:
  6353 03:1771: A5 16        	lda	<L312+2
  6354 03:1773: 85 22        	sta	<L312+2+12
  6355 03:1775: A5 15        	lda	<L312+1
  6356 03:1777: 85 21        	sta	<L312+1+12
  6357 03:1779: 2B           	pld
  6358 03:177A: 3B           	tsc
  6359 03:177B: 18           	clc
  6360 03:177C: 69 20 00     	adc	#L312+12
  6361 03:177F: 1B           	tcs
  6362 03:1780: 6B           	rtl
  6363                        	.endblock	822
  6364             00000014   L312	equ	20
  6365             00000009   L313	equ	9
  6366 03:1781:              	ends
  6367                        	efunc
  6368                        	.endfunc	822,9,20
  6369                        	.line	822
  6370                        ;
  6371                        ;void k_draw_line_with_pattern(int x0, int y0, int
                     x1, int y1,int color, UINT brush)
  6372                        ;{
  6373                        	.line	824
  6374                        	.line	825
  6375                        	GUI
  6376                        	xdef	~~k_draw_line_with_pattern
  6377                        	func
  Thu Dec  3 2020 22:25                                                Page 121


  6378                        	.function	825
  6379                        ~~k_draw_line_with_pattern:
  6380                        	longa	on
  6381                        	longi	on
  6382 03:1781: 3B           	tsc
  6383 03:1782: 38           	sec
  6384 03:1783: E9 14 00     	sbc	#L337
  6385 03:1786: 1B           	tcs
  6386 03:1787: 0B           	phd
  6387 03:1788: 5B           	tcd
  6388             00000004   x0_0	set	4
  6389             00000006   y0_0	set	6
  6390             00000008   x1_0	set	8
  6391             0000000A   y1_0	set	10
  6392             0000000C   color_0	set	12
  6393             0000000E   brush_0	set	14
  6394                        	.block	825
  6395                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  6396                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1;
  6397                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  6398                        ;
  6399                        ;	for(;;)
  6400             00000000   dx_1	set	0
  6401             00000002   sx_1	set	2
  6402             00000004   dy_1	set	4
  6403             00000006   sy_1	set	6
  6404             00000008   err_1	set	8
  6405             0000000A   e2_1	set	10
  6406                        	.sym	dx,0,5,1,16
  6407                        	.sym	sx,2,5,1,16
  6408                        	.sym	dy,4,5,1,16
  6409                        	.sym	sy,6,5,1,16
  6410                        	.sym	err,8,5,1,16
  6411                        	.sym	e2,10,5,1,16
  6412                        	.sym	x0,4,5,6,16
  6413                        	.sym	y0,6,5,6,16
  6414                        	.sym	x1,8,5,6,16
  6415                        	.sym	y1,10,5,6,16
  6416                        	.sym	color,12,5,6,16
  6417                        	.sym	brush,14,16,6,16
  6418 03:1789: 38           	sec
  6419 03:178A: A5 1C        	lda	<L337+x1_0
  6420 03:178C: E5 18        	sbc	<L337+x0_0
  6421 03:178E: 48           	pha
  6422 03:178F: 22 xx xx xx  	jsl	~~abs
  6423 03:1793: 85 09        	sta	<L338+dx_1
  6424 03:1795: 38           	sec
  6425 03:1796: A5 18        	lda	<L337+x0_0
  6426 03:1798: E5 1C        	sbc	<L337+x1_0
  6427 03:179A: 70 03        	bvs	L341
  6428 03:179C: 49 00 80     	eor	#$8000
  6429                        L341:
  6430 03:179F: 10 03        	bpl	L342
  6431 03:17A1: 82 05 00     	brl	L340
  6432                        L342:
  6433 03:17A4: A9 01 00     	lda	#$1
  6434 03:17A7: 80 03        	bra	L343
  Thu Dec  3 2020 22:25                                                Page 122


  6435                        L340:
  6436 03:17A9: A9 FF FF     	lda	#$ffff
  6437                        L343:
  6438 03:17AC: 85 0B        	sta	<L338+sx_1
  6439 03:17AE: 38           	sec
  6440 03:17AF: A5 1E        	lda	<L337+y1_0
  6441 03:17B1: E5 1A        	sbc	<L337+y0_0
  6442 03:17B3: 48           	pha
  6443 03:17B4: 22 xx xx xx  	jsl	~~abs
  6444 03:17B8: 85 0D        	sta	<L338+dy_1
  6445 03:17BA: 38           	sec
  6446 03:17BB: A5 1A        	lda	<L337+y0_0
  6447 03:17BD: E5 1E        	sbc	<L337+y1_0
  6448 03:17BF: 70 03        	bvs	L345
  6449 03:17C1: 49 00 80     	eor	#$8000
  6450                        L345:
  6451 03:17C4: 10 03        	bpl	L346
  6452 03:17C6: 82 05 00     	brl	L344
  6453                        L346:
  6454 03:17C9: A9 01 00     	lda	#$1
  6455 03:17CC: 80 03        	bra	L347
  6456                        L344:
  6457 03:17CE: A9 FF FF     	lda	#$ffff
  6458                        L347:
  6459 03:17D1: 85 0F        	sta	<L338+sy_1
  6460 03:17D3: 38           	sec
  6461 03:17D4: A5 0D        	lda	<L338+dy_1
  6462 03:17D6: E5 09        	sbc	<L338+dx_1
  6463 03:17D8: 70 03        	bvs	L349
  6464 03:17DA: 49 00 80     	eor	#$8000
  6465                        L349:
  6466 03:17DD: 10 03        	bpl	L350
  6467 03:17DF: 82 04 00     	brl	L348
  6468                        L350:
  6469 03:17E2: A5 09        	lda	<L338+dx_1
  6470 03:17E4: 80 0A        	bra	L351
  6471                        L348:
  6472 03:17E6: 38           	sec
  6473 03:17E7: A9 00 00     	lda	#$0
  6474 03:17EA: E5 0D        	sbc	<L338+dy_1
  6475 03:17EC: 85 01        	sta	<R0
  6476 03:17EE: A5 01        	lda	<R0
  6477                        L351:
  6478 03:17F0: 85 01        	sta	<R0
  6479 03:17F2: A5 01        	lda	<R0
  6480 03:17F4: A2 02 00     	ldx	#<$2
  6481                        	xref	~~~div
  6482 03:17F7: 22 xx xx xx  	jsl	~~~div
  6483 03:17FB: 85 11        	sta	<L338+err_1
  6484                        	.line	830
  6485                        L10047:
  6486                        ;	{
  6487                        	.line	831
  6488                        ;		if()
  6489                        	.line	832
  6490                        ;		k_draw_pixel(x0,y0,color);
  6491                        	.line	833
  6492 03:17FD: D4 20        	pei	<L337+color_0
  Thu Dec  3 2020 22:25                                                Page 123


  6493 03:17FF: A0 00 00     	ldy	#$0
  6494 03:1802: A5 1A        	lda	<L337+y0_0
  6495 03:1804: 10 01        	bpl	L352
  6496 03:1806: 88           	dey
  6497                        L352:
  6498 03:1807: 85 01        	sta	<R0
  6499 03:1809: 84 03        	sty	<R0+2
  6500 03:180B: D4 03        	pei	<R0+2
  6501 03:180D: D4 01        	pei	<R0
  6502 03:180F: A0 00 00     	ldy	#$0
  6503 03:1812: A5 18        	lda	<L337+x0_0
  6504 03:1814: 10 01        	bpl	L353
  6505 03:1816: 88           	dey
  6506                        L353:
  6507 03:1817: 85 05        	sta	<R1
  6508 03:1819: 84 07        	sty	<R1+2
  6509 03:181B: D4 07        	pei	<R1+2
  6510 03:181D: D4 05        	pei	<R1
  6511 03:181F: 22 10 0E 03  	jsl	~~k_draw_pixel
  6512                        ;		if (x0==x1 && y0==y1) break;
  6513                        L10048:
  6514                        	.line	834
  6515 03:1823: A5 18        	lda	<L337+x0_0
  6516 03:1825: C5 1C        	cmp	<L337+x1_0
  6517 03:1827: F0 03        	beq	L355
  6518 03:1829: 82 09 00     	brl	L354
  6519                        L355:
  6520 03:182C: A5 1A        	lda	<L337+y0_0
  6521 03:182E: C5 1E        	cmp	<L337+y1_0
  6522 03:1830: D0 03        	bne	L356
  6523 03:1832: 82 49 00     	brl	L10046
  6524                        L356:
  6525                        L354:
  6526                        ;		e2 = err;
  6527                        	.line	835
  6528 03:1835: A5 11        	lda	<L338+err_1
  6529 03:1837: 85 13        	sta	<L338+e2_1
  6530                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  6531                        	.line	836
  6532 03:1839: 38           	sec
  6533 03:183A: A9 00 00     	lda	#$0
  6534 03:183D: E5 09        	sbc	<L338+dx_1
  6535 03:183F: 85 01        	sta	<R0
  6536 03:1841: 38           	sec
  6537 03:1842: A5 01        	lda	<R0
  6538 03:1844: E5 13        	sbc	<L338+e2_1
  6539 03:1846: 70 03        	bvs	L357
  6540 03:1848: 49 00 80     	eor	#$8000
  6541                        L357:
  6542 03:184B: 10 03        	bpl	L358
  6543 03:184D: 82 0E 00     	brl	L10049
  6544                        L358:
  6545                        	.line	836
  6546                        	.line	836
  6547 03:1850: 38           	sec
  6548 03:1851: A5 11        	lda	<L338+err_1
  6549 03:1853: E5 0D        	sbc	<L338+dy_1
  6550 03:1855: 85 11        	sta	<L338+err_1
  Thu Dec  3 2020 22:25                                                Page 124


  6551                        	.line	836
  6552 03:1857: 18           	clc
  6553 03:1858: A5 18        	lda	<L337+x0_0
  6554 03:185A: 65 0B        	adc	<L338+sx_1
  6555 03:185C: 85 18        	sta	<L337+x0_0
  6556                        	.line	836
  6557                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  6558                        L10049:
  6559                        	.line	837
  6560 03:185E: 38           	sec
  6561 03:185F: A5 13        	lda	<L338+e2_1
  6562 03:1861: E5 0D        	sbc	<L338+dy_1
  6563 03:1863: 70 03        	bvs	L359
  6564 03:1865: 49 00 80     	eor	#$8000
  6565                        L359:
  6566 03:1868: 10 03        	bpl	L360
  6567 03:186A: 82 0E 00     	brl	L10050
  6568                        L360:
  6569                        	.line	837
  6570                        	.line	837
  6571 03:186D: 18           	clc
  6572 03:186E: A5 11        	lda	<L338+err_1
  6573 03:1870: 65 09        	adc	<L338+dx_1
  6574 03:1872: 85 11        	sta	<L338+err_1
  6575                        	.line	837
  6576 03:1874: 18           	clc
  6577 03:1875: A5 1A        	lda	<L337+y0_0
  6578 03:1877: 65 0F        	adc	<L338+sy_1
  6579 03:1879: 85 1A        	sta	<L337+y0_0
  6580                        	.line	837
  6581                        ;	}
  6582                        L10050:
  6583                        	.line	838
  6584                        L10045:
  6585 03:187B: 82 7F FF     	brl	L10047
  6586                        L10046:
  6587                        ;}
  6588                        	.line	839
  6589                        L361:
  6590 03:187E: A5 16        	lda	<L337+2
  6591 03:1880: 85 22        	sta	<L337+2+12
  6592 03:1882: A5 15        	lda	<L337+1
  6593 03:1884: 85 21        	sta	<L337+1+12
  6594 03:1886: 2B           	pld
  6595 03:1887: 3B           	tsc
  6596 03:1888: 18           	clc
  6597 03:1889: 69 20 00     	adc	#L337+12
  6598 03:188C: 1B           	tcs
  6599 03:188D: 6B           	rtl
  6600                        	.endblock	839
  6601             00000014   L337	equ	20
  6602             00000009   L338	equ	9
  6603 03:188E:              	ends
  6604                        	efunc
  6605                        	.endfunc	839,9,20
  6606                        	.line	839
  6607                        ;
  6608                        ;void k_draw_rect_slow(int left,int top, int right
  Thu Dec  3 2020 22:25                                                Page 125


                    , int bottom, char color)
  6609                        ;{
  6610                        	.line	841
  6611                        	.line	842
  6612                        	GUI
  6613                        	xdef	~~k_draw_rect_slow
  6614                        	func
  6615                        	.function	842
  6616                        ~~k_draw_rect_slow:
  6617                        	longa	on
  6618                        	longi	on
  6619 03:188E: 3B           	tsc
  6620 03:188F: 38           	sec
  6621 03:1890: E9 00 00     	sbc	#L362
  6622 03:1893: 1B           	tcs
  6623 03:1894: 0B           	phd
  6624 03:1895: 5B           	tcd
  6625             00000004   left_0	set	4
  6626             00000006   top_0	set	6
  6627             00000008   right_0	set	8
  6628             0000000A   bottom_0	set	10
  6629             0000000C   color_0	set	12
  6630                        	.block	842
  6631                        ;	k_draw_line(left,top,right,top,color);
  6632                        	.sym	left,4,5,6,16
  6633                        	.sym	top,6,5,6,16
  6634                        	.sym	right,8,5,6,16
  6635                        	.sym	bottom,10,5,6,16
  6636                        	.sym	color,12,14,6,8
  6637                        	.line	843
  6638 03:1896: A5 0C        	lda	<L362+color_0
  6639 03:1898: 29 FF 00     	and	#$ff
  6640 03:189B: 48           	pha
  6641 03:189C: D4 06        	pei	<L362+top_0
  6642 03:189E: D4 08        	pei	<L362+right_0
  6643 03:18A0: D4 06        	pei	<L362+top_0
  6644 03:18A2: D4 04        	pei	<L362+left_0
  6645 03:18A4: 22 49 16 03  	jsl	~~k_draw_line
  6646                        ;	k_draw_line(left,top,left,bottom,color);
  6647                        	.line	844
  6648 03:18A8: A5 0C        	lda	<L362+color_0
  6649 03:18AA: 29 FF 00     	and	#$ff
  6650 03:18AD: 48           	pha
  6651 03:18AE: D4 0A        	pei	<L362+bottom_0
  6652 03:18B0: D4 04        	pei	<L362+left_0
  6653 03:18B2: D4 06        	pei	<L362+top_0
  6654 03:18B4: D4 04        	pei	<L362+left_0
  6655 03:18B6: 22 49 16 03  	jsl	~~k_draw_line
  6656                        ;	k_draw_line(right,top,right,bottom,color);
  6657                        	.line	845
  6658 03:18BA: A5 0C        	lda	<L362+color_0
  6659 03:18BC: 29 FF 00     	and	#$ff
  6660 03:18BF: 48           	pha
  6661 03:18C0: D4 0A        	pei	<L362+bottom_0
  6662 03:18C2: D4 08        	pei	<L362+right_0
  6663 03:18C4: D4 06        	pei	<L362+top_0
  6664 03:18C6: D4 08        	pei	<L362+right_0
  6665 03:18C8: 22 49 16 03  	jsl	~~k_draw_line
  Thu Dec  3 2020 22:25                                                Page 126


  6666                        ;	k_draw_line(left,bottom,right,bottom,color);
  6667                        	.line	846
  6668 03:18CC: A5 0C        	lda	<L362+color_0
  6669 03:18CE: 29 FF 00     	and	#$ff
  6670 03:18D1: 48           	pha
  6671 03:18D2: D4 0A        	pei	<L362+bottom_0
  6672 03:18D4: D4 08        	pei	<L362+right_0
  6673 03:18D6: D4 0A        	pei	<L362+bottom_0
  6674 03:18D8: D4 04        	pei	<L362+left_0
  6675 03:18DA: 22 49 16 03  	jsl	~~k_draw_line
  6676                        ;}
  6677                        	.line	847
  6678                        L365:
  6679 03:18DE: A5 02        	lda	<L362+2
  6680 03:18E0: 85 0C        	sta	<L362+2+10
  6681 03:18E2: A5 01        	lda	<L362+1
  6682 03:18E4: 85 0B        	sta	<L362+1+10
  6683 03:18E6: 2B           	pld
  6684 03:18E7: 3B           	tsc
  6685 03:18E8: 18           	clc
  6686 03:18E9: 69 0A 00     	adc	#L362+10
  6687 03:18EC: 1B           	tcs
  6688 03:18ED: 6B           	rtl
  6689                        	.endblock	847
  6690             00000000   L362	equ	0
  6691             00000001   L363	equ	1
  6692 03:18EE:              	ends
  6693                        	efunc
  6694                        	.endfunc	847,1,0
  6695                        	.line	847
  6696                        ;
  6697                        ;void k_draw_rect(int left,int top, int right, int
                     bottom, char color,UINT brush,UINT page)
  6698                        ;{
  6699                        	.line	849
  6700                        	.line	850
  6701                        	GUI
  6702                        	xdef	~~k_draw_rect
  6703                        	func
  6704                        	.function	850
  6705                        ~~k_draw_rect:
  6706                        	longa	on
  6707                        	longi	on
  6708 03:18EE: 3B           	tsc
  6709 03:18EF: 38           	sec
  6710 03:18F0: E9 00 00     	sbc	#L366
  6711 03:18F3: 1B           	tcs
  6712 03:18F4: 0B           	phd
  6713 03:18F5: 5B           	tcd
  6714             00000004   left_0	set	4
  6715             00000006   top_0	set	6
  6716             00000008   right_0	set	8
  6717             0000000A   bottom_0	set	10
  6718             0000000C   color_0	set	12
  6719             0000000E   brush_0	set	14
  6720             00000010   page_0	set	16
  6721                        	.block	850
  6722                        ;	k_draw_line_ex(left,top,right,top,color,page);
  Thu Dec  3 2020 22:25                                                Page 127


  6723                        	.sym	left,4,5,6,16
  6724                        	.sym	top,6,5,6,16
  6725                        	.sym	right,8,5,6,16
  6726                        	.sym	bottom,10,5,6,16
  6727                        	.sym	color,12,14,6,8
  6728                        	.sym	brush,14,16,6,16
  6729                        	.sym	page,16,16,6,16
  6730                        	.line	851
  6731 03:18F6: D4 10        	pei	<L366+page_0
  6732 03:18F8: A5 0C        	lda	<L366+color_0
  6733 03:18FA: 29 FF 00     	and	#$ff
  6734 03:18FD: 48           	pha
  6735 03:18FE: D4 06        	pei	<L366+top_0
  6736 03:1900: D4 08        	pei	<L366+right_0
  6737 03:1902: D4 06        	pei	<L366+top_0
  6738 03:1904: D4 04        	pei	<L366+left_0
  6739 03:1906: 22 72 16 03  	jsl	~~k_draw_line_ex
  6740                        ;	k_draw_line_ex(left,top,left,bottom,color,page);
  6741                        	.line	852
  6742 03:190A: D4 10        	pei	<L366+page_0
  6743 03:190C: A5 0C        	lda	<L366+color_0
  6744 03:190E: 29 FF 00     	and	#$ff
  6745 03:1911: 48           	pha
  6746 03:1912: D4 0A        	pei	<L366+bottom_0
  6747 03:1914: D4 04        	pei	<L366+left_0
  6748 03:1916: D4 06        	pei	<L366+top_0
  6749 03:1918: D4 04        	pei	<L366+left_0
  6750 03:191A: 22 72 16 03  	jsl	~~k_draw_line_ex
  6751                        ;	k_draw_line_ex(right,top,right,bottom,color,page
                    );
  6752                        	.line	853
  6753 03:191E: D4 10        	pei	<L366+page_0
  6754 03:1920: A5 0C        	lda	<L366+color_0
  6755 03:1922: 29 FF 00     	and	#$ff
  6756 03:1925: 48           	pha
  6757 03:1926: D4 0A        	pei	<L366+bottom_0
  6758 03:1928: D4 08        	pei	<L366+right_0
  6759 03:192A: D4 06        	pei	<L366+top_0
  6760 03:192C: D4 08        	pei	<L366+right_0
  6761 03:192E: 22 72 16 03  	jsl	~~k_draw_line_ex
  6762                        ;	k_draw_line_ex(left,bottom,right,bottom,color,pa
                    ge);
  6763                        	.line	854
  6764 03:1932: D4 10        	pei	<L366+page_0
  6765 03:1934: A5 0C        	lda	<L366+color_0
  6766 03:1936: 29 FF 00     	and	#$ff
  6767 03:1939: 48           	pha
  6768 03:193A: D4 0A        	pei	<L366+bottom_0
  6769 03:193C: D4 08        	pei	<L366+right_0
  6770 03:193E: D4 0A        	pei	<L366+bottom_0
  6771 03:1940: D4 04        	pei	<L366+left_0
  6772 03:1942: 22 72 16 03  	jsl	~~k_draw_line_ex
  6773                        ;}
  6774                        	.line	855
  6775                        L369:
  6776 03:1946: A5 02        	lda	<L366+2
  6777 03:1948: 85 10        	sta	<L366+2+14
  6778 03:194A: A5 01        	lda	<L366+1
  Thu Dec  3 2020 22:25                                                Page 128


  6779 03:194C: 85 0F        	sta	<L366+1+14
  6780 03:194E: 2B           	pld
  6781 03:194F: 3B           	tsc
  6782 03:1950: 18           	clc
  6783 03:1951: 69 0E 00     	adc	#L366+14
  6784 03:1954: 1B           	tcs
  6785 03:1955: 6B           	rtl
  6786                        	.endblock	855
  6787             00000000   L366	equ	0
  6788             00000001   L367	equ	1
  6789 03:1956:              	ends
  6790                        	efunc
  6791                        	.endfunc	855,1,0
  6792                        	.line	855
  6793                        ;
  6794                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  6795                        ;{
  6796                        	.line	857
  6797                        	.line	858
  6798                        	GUI
  6799                        	xdef	~~k_draw_filled_rect_slow
  6800                        	func
  6801                        	.function	858
  6802                        ~~k_draw_filled_rect_slow:
  6803                        	longa	on
  6804                        	longi	on
  6805 03:1956: 3B           	tsc
  6806 03:1957: 38           	sec
  6807 03:1958: E9 00 00     	sbc	#L370
  6808 03:195B: 1B           	tcs
  6809 03:195C: 0B           	phd
  6810 03:195D: 5B           	tcd
  6811             00000004   left_0	set	4
  6812             00000006   top_0	set	6
  6813             00000008   right_0	set	8
  6814             0000000A   bottom_0	set	10
  6815             0000000C   color_0	set	12
  6816                        	.block	858
  6817                        ;	
  6818                        ;}
  6819                        	.sym	left,4,5,6,16
  6820                        	.sym	top,6,5,6,16
  6821                        	.sym	right,8,5,6,16
  6822                        	.sym	bottom,10,5,6,16
  6823                        	.sym	color,12,14,6,8
  6824                        	.line	860
  6825                        L373:
  6826 03:195E: A5 02        	lda	<L370+2
  6827 03:1960: 85 0C        	sta	<L370+2+10
  6828 03:1962: A5 01        	lda	<L370+1
  6829 03:1964: 85 0B        	sta	<L370+1+10
  6830 03:1966: 2B           	pld
  6831 03:1967: 3B           	tsc
  6832 03:1968: 18           	clc
  6833 03:1969: 69 0A 00     	adc	#L370+10
  6834 03:196C: 1B           	tcs
  6835 03:196D: 6B           	rtl
  Thu Dec  3 2020 22:25                                                Page 129


  6836                        	.endblock	860
  6837             00000000   L370	equ	0
  6838             00000001   L371	equ	1
  6839 03:196E:              	ends
  6840                        	efunc
  6841                        	.endfunc	860,1,0
  6842                        	.line	860
  6843                        ;
  6844                        ;
  6845                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  6846                        ;{
  6847                        	.line	863
  6848                        	.line	864
  6849                        	GUI
  6850                        	xdef	~~k_put_draw_text
  6851                        	func
  6852                        	.function	864
  6853                        ~~k_put_draw_text:
  6854                        	longa	on
  6855                        	longi	on
  6856 03:196E: 3B           	tsc
  6857 03:196F: 38           	sec
  6858 03:1970: E9 00 00     	sbc	#L374
  6859 03:1973: 1B           	tcs
  6860 03:1974: 0B           	phd
  6861 03:1975: 5B           	tcd
  6862             00000004   col_0	set	4
  6863             00000006   row_0	set	6
  6864             00000008   text_0	set	8
  6865             0000000C   color_0	set	12
  6866             0000000E   bcolor_0	set	14
  6867                        	.block	864
  6868                        ;	return k_draw_text(text, row, col, color);
  6869                        	.sym	col,4,5,6,16
  6870                        	.sym	row,6,5,6,16
  6871                        	.sym	text,8,142,6,32
  6872                        	.sym	color,12,14,6,8
  6873                        	.sym	bcolor,14,14,6,8
  6874                        	.line	865
  6875 03:1976: D4 0C        	pei	<L374+color_0
  6876 03:1978: D4 04        	pei	<L374+col_0
  6877 03:197A: D4 06        	pei	<L374+row_0
  6878 03:197C: D4 0A        	pei	<L374+text_0+2
  6879 03:197E: D4 08        	pei	<L374+text_0
  6880 03:1980: 22 96 19 03  	jsl	~~k_draw_text
  6881                        L377:
  6882 03:1984: A8           	tay
  6883 03:1985: A5 02        	lda	<L374+2
  6884 03:1987: 85 0E        	sta	<L374+2+12
  6885 03:1989: A5 01        	lda	<L374+1
  6886 03:198B: 85 0D        	sta	<L374+1+12
  6887 03:198D: 2B           	pld
  6888 03:198E: 3B           	tsc
  6889 03:198F: 18           	clc
  6890 03:1990: 69 0C 00     	adc	#L374+12
  6891 03:1993: 1B           	tcs
  6892 03:1994: 98           	tya
  Thu Dec  3 2020 22:25                                                Page 130


  6893 03:1995: 6B           	rtl
  6894                        ;}
  6895                        	.line	866
  6896                        	.endblock	866
  6897             00000000   L374	equ	0
  6898             00000001   L375	equ	1
  6899 03:1996:              	ends
  6900                        	efunc
  6901                        	.endfunc	866,1,0
  6902                        	.line	866
  6903                        ;
  6904                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  6905                        ;{
  6906                        	.line	868
  6907                        	.line	869
  6908                        	GUI
  6909                        	xdef	~~k_draw_text
  6910                        	func
  6911                        	.function	869
  6912                        ~~k_draw_text:
  6913                        	longa	on
  6914                        	longi	on
  6915 03:1996: 3B           	tsc
  6916 03:1997: 38           	sec
  6917 03:1998: E9 04 00     	sbc	#L378
  6918 03:199B: 1B           	tcs
  6919 03:199C: 0B           	phd
  6920 03:199D: 5B           	tcd
  6921             00000004   text_0	set	4
  6922             00000008   row_0	set	8
  6923             0000000A   col_0	set	10
  6924             0000000C   color_0	set	12
  6925                        	.block	869
  6926                        ;	char FAR * ptr = (text);
  6927                        ;	while(*ptr)
  6928             00000000   ptr_1	set	0
  6929                        	.sym	ptr,0,142,1,32
  6930                        	.sym	text,4,142,6,32
  6931                        	.sym	row,8,5,6,16
  6932                        	.sym	col,10,5,6,16
  6933                        	.sym	color,12,14,6,8
  6934 03:199E: A5 08        	lda	<L378+text_0
  6935 03:19A0: 85 01        	sta	<L379+ptr_1
  6936 03:19A2: A5 0A        	lda	<L378+text_0+2
  6937 03:19A4: 85 03        	sta	<L379+ptr_1+2
  6938                        	.line	871
  6939                        L10051:
  6940 03:19A6: A7 01        	lda	[<L379+ptr_1]
  6941 03:19A8: 29 FF 00     	and	#$ff
  6942 03:19AB: D0 03        	bne	L381
  6943 03:19AD: 82 18 00     	brl	L10052
  6944                        L381:
  6945                        ;	{
  6946                        	.line	872
  6947                        ;		k_put_font(*ptr,col,row,color);
  6948                        	.line	873
  6949 03:19B0: D4 10        	pei	<L378+color_0
  Thu Dec  3 2020 22:25                                                Page 131


  6950 03:19B2: D4 0C        	pei	<L378+row_0
  6951 03:19B4: D4 0E        	pei	<L378+col_0
  6952 03:19B6: A7 01        	lda	[<L379+ptr_1]
  6953 03:19B8: 48           	pha
  6954 03:19B9: 22 69 28 03  	jsl	~~k_put_font
  6955                        ;		col++;
  6956                        	.line	874
  6957 03:19BD: E6 0E        	inc	<L378+col_0
  6958                        ;		ptr++;
  6959                        	.line	875
  6960 03:19BF: E6 01        	inc	<L379+ptr_1
  6961 03:19C1: D0 02        	bne	L382
  6962 03:19C3: E6 03        	inc	<L379+ptr_1+2
  6963                        L382:
  6964                        ;	}
  6965                        	.line	876
  6966 03:19C5: 82 DE FF     	brl	L10051
  6967                        L10052:
  6968                        ;	
  6969                        ;	return col;
  6970                        	.line	878
  6971 03:19C8: A5 0E        	lda	<L378+col_0
  6972                        L383:
  6973 03:19CA: A8           	tay
  6974 03:19CB: A5 06        	lda	<L378+2
  6975 03:19CD: 85 10        	sta	<L378+2+10
  6976 03:19CF: A5 05        	lda	<L378+1
  6977 03:19D1: 85 0F        	sta	<L378+1+10
  6978 03:19D3: 2B           	pld
  6979 03:19D4: 3B           	tsc
  6980 03:19D5: 18           	clc
  6981 03:19D6: 69 0E 00     	adc	#L378+10
  6982 03:19D9: 1B           	tcs
  6983 03:19DA: 98           	tya
  6984 03:19DB: 6B           	rtl
  6985                        ;}
  6986                        	.line	879
  6987                        	.endblock	879
  6988             00000004   L378	equ	4
  6989             00000001   L379	equ	1
  6990 03:19DC:              	ends
  6991                        	efunc
  6992                        	.endfunc	879,1,4
  6993                        	.line	879
  6994                        ;
  6995                        ;int k_draw_text_point_ex(LPCSTR text,int x,int y,
                    char color,UINT page)
  6996                        ;{
  6997                        	.line	881
  6998                        	.line	882
  6999                        	GUI
  7000                        	xdef	~~k_draw_text_point_ex
  7001                        	func
  7002                        	.function	882
  7003                        ~~k_draw_text_point_ex:
  7004                        	longa	on
  7005                        	longi	on
  7006 03:19DC: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 132


  7007 03:19DD: 38           	sec
  7008 03:19DE: E9 0E 00     	sbc	#L384
  7009 03:19E1: 1B           	tcs
  7010 03:19E2: 0B           	phd
  7011 03:19E3: 5B           	tcd
  7012             00000004   text_0	set	4
  7013             00000008   x_0	set	8
  7014             0000000A   y_0	set	10
  7015             0000000C   color_0	set	12
  7016             0000000E   page_0	set	14
  7017                        	.block	882
  7018                        ;	int col = 0;
  7019                        ;	int width = 0;
  7020                        ;	int height = 0;
  7021                        ;
  7022                        ;	LPCSTR ptr = (text);
  7023                        ;
  7024                        ;	width  = Bm437ToshibaLCD8x8[0];
  7025             00000000   col_1	set	0
  7026             00000002   width_1	set	2
  7027             00000004   height_1	set	4
  7028             00000006   ptr_1	set	6
  7029                        	.sym	col,0,5,1,16
  7030                        	.sym	width,2,5,1,16
  7031                        	.sym	height,4,5,1,16
  7032                        	.sym	ptr,6,142,1,32
  7033                        	.sym	text,4,142,6,32
  7034                        	.sym	x,8,5,6,16
  7035                        	.sym	y,10,5,6,16
  7036                        	.sym	color,12,14,6,8
  7037                        	.sym	page,14,16,6,16
  7038 03:19E4: 64 05        	stz	<L385+col_1
  7039 03:19E6: 64 07        	stz	<L385+width_1
  7040 03:19E8: 64 09        	stz	<L385+height_1
  7041 03:19EA: A5 12        	lda	<L384+text_0
  7042 03:19EC: 85 0B        	sta	<L385+ptr_1
  7043 03:19EE: A5 14        	lda	<L384+text_0+2
  7044 03:19F0: 85 0D        	sta	<L385+ptr_1+2
  7045                        	.line	889
  7046 03:19F2: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  7047 03:19F6: 29 FF 00     	and	#$ff
  7048 03:19F9: 85 07        	sta	<L385+width_1
  7049                        ;	height = Bm437ToshibaLCD8x8[1];
  7050                        	.line	890
  7051 03:19FB: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  7052 03:19FF: 29 FF 00     	and	#$ff
  7053 03:1A02: 85 09        	sta	<L385+height_1
  7054                        ;
  7055                        ;
  7056                        ;	ptr = (text);
  7057                        	.line	893
  7058 03:1A04: A5 12        	lda	<L384+text_0
  7059 03:1A06: 85 0B        	sta	<L385+ptr_1
  7060 03:1A08: A5 14        	lda	<L384+text_0+2
  7061 03:1A0A: 85 0D        	sta	<L385+ptr_1+2
  7062                        ;	while(*ptr)
  7063                        	.line	894
  7064                        L10053:
  Thu Dec  3 2020 22:25                                                Page 133


  7065 03:1A0C: A7 0B        	lda	[<L385+ptr_1]
  7066 03:1A0E: 29 FF 00     	and	#$ff
  7067 03:1A11: D0 03        	bne	L387
  7068 03:1A13: 82 38 00     	brl	L10054
  7069                        L387:
  7070                        ;	{
  7071                        	.line	895
  7072                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color,
                    page);
  7073                        	.line	896
  7074 03:1A16: D4 1C        	pei	<L384+page_0
  7075 03:1A18: D4 1A        	pei	<L384+color_0
  7076 03:1A1A: D4 09        	pei	<L385+height_1
  7077 03:1A1C: D4 07        	pei	<L385+width_1
  7078 03:1A1E: D4 18        	pei	<L384+y_0
  7079 03:1A20: D4 16        	pei	<L384+x_0
  7080 03:1A22: A7 0B        	lda	[<L385+ptr_1]
  7081 03:1A24: 48           	pha
  7082 03:1A25: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  7083 03:1A28: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  7084 03:1A2B: 22 63 22 03  	jsl	~~k_put_binary_variablefont_point_ex
  7085 03:1A2F: 85 01        	sta	<R0
  7086 03:1A31: 18           	clc
  7087 03:1A32: A5 01        	lda	<R0
  7088 03:1A34: 65 16        	adc	<L384+x_0
  7089 03:1A36: 85 16        	sta	<L384+x_0
  7090                        ;
  7091                        ;		ptr++;
  7092                        	.line	898
  7093 03:1A38: E6 0B        	inc	<L385+ptr_1
  7094 03:1A3A: D0 02        	bne	L388
  7095 03:1A3C: E6 0D        	inc	<L385+ptr_1+2
  7096                        L388:
  7097                        ;		col+=FONTW;
  7098                        	.line	899
  7099 03:1A3E: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  7100 03:1A42: 85 01        	sta	<R0
  7101 03:1A44: 18           	clc
  7102 03:1A45: A5 01        	lda	<R0
  7103 03:1A47: 65 05        	adc	<L385+col_1
  7104 03:1A49: 85 05        	sta	<L385+col_1
  7105                        ;	}
  7106                        	.line	900
  7107 03:1A4B: 82 BE FF     	brl	L10053
  7108                        L10054:
  7109                        ;
  7110                        ;	return col;
  7111                        	.line	902
  7112 03:1A4E: A5 05        	lda	<L385+col_1
  7113                        L389:
  7114 03:1A50: A8           	tay
  7115 03:1A51: A5 10        	lda	<L384+2
  7116 03:1A53: 85 1C        	sta	<L384+2+12
  7117 03:1A55: A5 0F        	lda	<L384+1
  7118 03:1A57: 85 1B        	sta	<L384+1+12
  7119 03:1A59: 2B           	pld
  7120 03:1A5A: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 134


  7121 03:1A5B: 18           	clc
  7122 03:1A5C: 69 1A 00     	adc	#L384+12
  7123 03:1A5F: 1B           	tcs
  7124 03:1A60: 98           	tya
  7125 03:1A61: 6B           	rtl
  7126                        ;}
  7127                        	.line	903
  7128                        	.endblock	903
  7129             0000000E   L384	equ	14
  7130             00000005   L385	equ	5
  7131 03:1A62:              	ends
  7132                        	efunc
  7133                        	.endfunc	903,5,14
  7134                        	.line	903
  7135                        ;
  7136                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  7137                        ;{
  7138                        	.line	905
  7139                        	.line	906
  7140                        	GUI
  7141                        	xdef	~~k_draw_text_point
  7142                        	func
  7143                        	.function	906
  7144                        ~~k_draw_text_point:
  7145                        	longa	on
  7146                        	longi	on
  7147 03:1A62: 3B           	tsc
  7148 03:1A63: 38           	sec
  7149 03:1A64: E9 0E 00     	sbc	#L390
  7150 03:1A67: 1B           	tcs
  7151 03:1A68: 0B           	phd
  7152 03:1A69: 5B           	tcd
  7153             00000004   text_0	set	4
  7154             00000008   x_0	set	8
  7155             0000000A   y_0	set	10
  7156             0000000C   color_0	set	12
  7157                        	.block	906
  7158                        ;	int col = 0;
  7159                        ;	int width = 0;
  7160                        ;	int height = 0;
  7161                        ;
  7162                        ;	LPCSTR ptr = (text);
  7163                        ;	
  7164                        ;	width  = Bm437ToshibaLCD8x8[0];
  7165             00000000   col_1	set	0
  7166             00000002   width_1	set	2
  7167             00000004   height_1	set	4
  7168             00000006   ptr_1	set	6
  7169                        	.sym	col,0,5,1,16
  7170                        	.sym	width,2,5,1,16
  7171                        	.sym	height,4,5,1,16
  7172                        	.sym	ptr,6,142,1,32
  7173                        	.sym	text,4,142,6,32
  7174                        	.sym	x,8,5,6,16
  7175                        	.sym	y,10,5,6,16
  7176                        	.sym	color,12,14,6,8
  7177 03:1A6A: 64 05        	stz	<L391+col_1
  Thu Dec  3 2020 22:25                                                Page 135


  7178 03:1A6C: 64 07        	stz	<L391+width_1
  7179 03:1A6E: 64 09        	stz	<L391+height_1
  7180 03:1A70: A5 12        	lda	<L390+text_0
  7181 03:1A72: 85 0B        	sta	<L391+ptr_1
  7182 03:1A74: A5 14        	lda	<L390+text_0+2
  7183 03:1A76: 85 0D        	sta	<L391+ptr_1+2
  7184                        	.line	913
  7185 03:1A78: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  7186 03:1A7C: 29 FF 00     	and	#$ff
  7187 03:1A7F: 85 07        	sta	<L391+width_1
  7188                        ;	height = Bm437ToshibaLCD8x8[1];
  7189                        	.line	914
  7190 03:1A81: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  7191 03:1A85: 29 FF 00     	and	#$ff
  7192 03:1A88: 85 09        	sta	<L391+height_1
  7193                        ;
  7194                        ;
  7195                        ;	ptr = (text);
  7196                        	.line	917
  7197 03:1A8A: A5 12        	lda	<L390+text_0
  7198 03:1A8C: 85 0B        	sta	<L391+ptr_1
  7199 03:1A8E: A5 14        	lda	<L390+text_0+2
  7200 03:1A90: 85 0D        	sta	<L391+ptr_1+2
  7201                        ;	while(*ptr)
  7202                        	.line	918
  7203                        L10055:
  7204 03:1A92: A7 0B        	lda	[<L391+ptr_1]
  7205 03:1A94: 29 FF 00     	and	#$ff
  7206 03:1A97: D0 03        	bne	L393
  7207 03:1A99: 82 36 00     	brl	L10056
  7208                        L393:
  7209                        ;	{
  7210                        	.line	919
  7211                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  7212                        ;
  7213                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  7214                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  7215                        ;
  7216                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  7217                        	.line	925
  7218 03:1A9C: D4 1A        	pei	<L390+color_0
  7219 03:1A9E: D4 09        	pei	<L391+height_1
  7220 03:1AA0: D4 07        	pei	<L391+width_1
  7221 03:1AA2: D4 18        	pei	<L390+y_0
  7222 03:1AA4: D4 16        	pei	<L390+x_0
  7223 03:1AA6: A7 0B        	lda	[<L391+ptr_1]
  7224 03:1AA8: 48           	pha
  7225 03:1AA9: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  7226 03:1AAC: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  7227 03:1AAF: 22 69 21 03  	jsl	~~k_put_binary_variablefont_point
  7228 03:1AB3: 85 01        	sta	<R0
  7229 03:1AB5: 18           	clc
  7230 03:1AB6: A5 01        	lda	<R0
  7231 03:1AB8: 65 16        	adc	<L390+x_0
  7232 03:1ABA: 85 16        	sta	<L390+x_0
  Thu Dec  3 2020 22:25                                                Page 136


  7233                        ;
  7234                        ;		ptr++;
  7235                        	.line	927
  7236 03:1ABC: E6 0B        	inc	<L391+ptr_1
  7237 03:1ABE: D0 02        	bne	L394
  7238 03:1AC0: E6 0D        	inc	<L391+ptr_1+2
  7239                        L394:
  7240                        ;		col+=FONTW;
  7241                        	.line	928
  7242 03:1AC2: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  7243 03:1AC6: 85 01        	sta	<R0
  7244 03:1AC8: 18           	clc
  7245 03:1AC9: A5 01        	lda	<R0
  7246 03:1ACB: 65 05        	adc	<L391+col_1
  7247 03:1ACD: 85 05        	sta	<L391+col_1
  7248                        ;	}
  7249                        	.line	929
  7250 03:1ACF: 82 C0 FF     	brl	L10055
  7251                        L10056:
  7252                        ;	
  7253                        ;	return col;
  7254                        	.line	931
  7255 03:1AD2: A5 05        	lda	<L391+col_1
  7256                        L395:
  7257 03:1AD4: A8           	tay
  7258 03:1AD5: A5 10        	lda	<L390+2
  7259 03:1AD7: 85 1A        	sta	<L390+2+10
  7260 03:1AD9: A5 0F        	lda	<L390+1
  7261 03:1ADB: 85 19        	sta	<L390+1+10
  7262 03:1ADD: 2B           	pld
  7263 03:1ADE: 3B           	tsc
  7264 03:1ADF: 18           	clc
  7265 03:1AE0: 69 18 00     	adc	#L390+10
  7266 03:1AE3: 1B           	tcs
  7267 03:1AE4: 98           	tya
  7268 03:1AE5: 6B           	rtl
  7269                        ;}
  7270                        	.line	932
  7271                        	.endblock	932
  7272             0000000E   L390	equ	14
  7273             00000005   L391	equ	5
  7274 03:1AE6:              	ends
  7275                        	efunc
  7276                        	.endfunc	932,5,14
  7277                        	.line	932
  7278                        ;
  7279                        ;int k_draw_text_point_with_font_ex(LPCSTR text,LP
                    CSTR charSet,int x,int y,char color,UINT page)
  7280                        ;{
  7281                        	.line	934
  7282                        	.line	935
  7283                        	GUI
  7284                        	xdef	~~k_draw_text_point_with_font_ex
  7285                        	func
  7286                        	.function	935
  7287                        ~~k_draw_text_point_with_font_ex:
  7288                        	longa	on
  7289                        	longi	on
  Thu Dec  3 2020 22:25                                                Page 137


  7290 03:1AE6: 3B           	tsc
  7291 03:1AE7: 38           	sec
  7292 03:1AE8: E9 12 00     	sbc	#L396
  7293 03:1AEB: 1B           	tcs
  7294 03:1AEC: 0B           	phd
  7295 03:1AED: 5B           	tcd
  7296             00000004   text_0	set	4
  7297             00000008   charSet_0	set	8
  7298             0000000C   x_0	set	12
  7299             0000000E   y_0	set	14
  7300             00000010   color_0	set	16
  7301             00000012   page_0	set	18
  7302                        	.block	935
  7303                        ;	int col = 0;
  7304                        ;	int width = 0;
  7305                        ;	int height = 0;
  7306                        ;
  7307                        ;	LPCHAR ptr = NULL;
  7308                        ;
  7309                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  7310                        ;
  7311                        ;	width  = (INT)(((INT)charSet[0]) & 0x00FF);
  7312             00000000   col_1	set	0
  7313             00000002   width_1	set	2
  7314             00000004   height_1	set	4
  7315             00000006   ptr_1	set	6
  7316                        	.sym	col,0,5,1,16
  7317                        	.sym	width,2,5,1,16
  7318                        	.sym	height,4,5,1,16
  7319                        	.sym	ptr,6,142,1,32
  7320                        	.sym	text,4,142,6,32
  7321                        	.sym	charSet,8,142,6,32
  7322                        	.sym	x,12,5,6,16
  7323                        	.sym	y,14,5,6,16
  7324                        	.sym	color,16,14,6,8
  7325                        	.sym	page,18,16,6,16
  7326 03:1AEE: 64 09        	stz	<L397+col_1
  7327 03:1AF0: 64 0B        	stz	<L397+width_1
  7328 03:1AF2: 64 0D        	stz	<L397+height_1
  7329 03:1AF4: 64 0F        	stz	<L397+ptr_1
  7330 03:1AF6: 64 11        	stz	<L397+ptr_1+2
  7331                        	.line	944
  7332 03:1AF8: A7 1A        	lda	[<L396+charSet_0]
  7333 03:1AFA: 29 FF 00     	and	#<$ff
  7334 03:1AFD: 85 0B        	sta	<L397+width_1
  7335                        ;	height = (INT)(((INT)charSet[1]) & 0x00FF);
  7336                        	.line	945
  7337 03:1AFF: A0 01 00     	ldy	#$1
  7338 03:1B02: B7 1A        	lda	[<L396+charSet_0],Y
  7339 03:1B04: 29 FF 00     	and	#<$ff
  7340 03:1B07: 85 0D        	sta	<L397+height_1
  7341                        ;
  7342                        ;
  7343                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t x:",x);
  7344                        	.line	948
  7345 03:1B09: D4 1E        	pei	<L396+x_0
  Thu Dec  3 2020 22:25                                                Page 138


  7346 03:1B0B: F4 xx xx     	pea	#^L64
  7347 03:1B0E: F4 xx xx     	pea	#<L64
  7348 03:1B11: 22 xx xx xx  	jsl	~~k_debug_integer
  7349                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t y:",y);
  7350                        	.line	949
  7351 03:1B15: D4 20        	pei	<L396+y_0
  7352 03:1B17: F4 xx xx     	pea	#^L64+36
  7353 03:1B1A: F4 xx xx     	pea	#<L64+36
  7354 03:1B1D: 22 xx xx xx  	jsl	~~k_debug_integer
  7355                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t width:",width);
  7356                        	.line	950
  7357 03:1B21: D4 0B        	pei	<L397+width_1
  7358 03:1B23: F4 xx xx     	pea	#^L64+72
  7359 03:1B26: F4 xx xx     	pea	#<L64+72
  7360 03:1B29: 22 xx xx xx  	jsl	~~k_debug_integer
  7361                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t height:",height);
  7362                        	.line	951
  7363 03:1B2D: D4 0D        	pei	<L397+height_1
  7364 03:1B2F: F4 xx xx     	pea	#^L64+112
  7365 03:1B32: F4 xx xx     	pea	#<L64+112
  7366 03:1B35: 22 xx xx xx  	jsl	~~k_debug_integer
  7367                        ;
  7368                        ;
  7369                        ;	ptr = (LPCHAR)(text);
  7370                        	.line	954
  7371 03:1B39: A5 16        	lda	<L396+text_0
  7372 03:1B3B: 85 0F        	sta	<L397+ptr_1
  7373 03:1B3D: A5 18        	lda	<L396+text_0+2
  7374 03:1B3F: 85 11        	sta	<L397+ptr_1+2
  7375                        ;	while(*ptr)
  7376                        	.line	955
  7377                        L10057:
  7378 03:1B41: A7 0F        	lda	[<L397+ptr_1]
  7379 03:1B43: 29 FF 00     	and	#$ff
  7380 03:1B46: D0 03        	bne	L399
  7381 03:1B48: 82 40 00     	brl	L10058
  7382                        L399:
  7383                        ;	{
  7384                        	.line	956
  7385                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  7386                        ;
  7387                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&charSet[2] , *ptr,x,y,width,height,color,page);
  7388                        	.line	959
  7389 03:1B4B: D4 24        	pei	<L396+page_0
  7390 03:1B4D: D4 22        	pei	<L396+color_0
  7391 03:1B4F: D4 0D        	pei	<L397+height_1
  7392 03:1B51: D4 0B        	pei	<L397+width_1
  7393 03:1B53: D4 20        	pei	<L396+y_0
  7394 03:1B55: D4 1E        	pei	<L396+x_0
  7395 03:1B57: A7 0F        	lda	[<L397+ptr_1]
  7396 03:1B59: 48           	pha
  7397 03:1B5A: 18           	clc
  7398 03:1B5B: A9 02 00     	lda	#$2
  7399 03:1B5E: 65 1A        	adc	<L396+charSet_0
  Thu Dec  3 2020 22:25                                                Page 139


  7400 03:1B60: 85 01        	sta	<R0
  7401 03:1B62: A9 00 00     	lda	#$0
  7402 03:1B65: 65 1C        	adc	<L396+charSet_0+2
  7403 03:1B67: 85 03        	sta	<R0+2
  7404 03:1B69: D4 03        	pei	<R0+2
  7405 03:1B6B: D4 01        	pei	<R0
  7406 03:1B6D: 22 63 22 03  	jsl	~~k_put_binary_variablefont_point_ex
  7407 03:1B71: 85 05        	sta	<R1
  7408 03:1B73: 18           	clc
  7409 03:1B74: A5 05        	lda	<R1
  7410 03:1B76: 65 1E        	adc	<L396+x_0
  7411 03:1B78: 85 1E        	sta	<L396+x_0
  7412                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  7413                        ;
  7414                        ;		ptr++;
  7415                        	.line	962
  7416 03:1B7A: E6 0F        	inc	<L397+ptr_1
  7417 03:1B7C: D0 02        	bne	L400
  7418 03:1B7E: E6 11        	inc	<L397+ptr_1+2
  7419                        L400:
  7420                        ;		col+=8;
  7421                        	.line	963
  7422 03:1B80: 18           	clc
  7423 03:1B81: A9 08 00     	lda	#$8
  7424 03:1B84: 65 09        	adc	<L397+col_1
  7425 03:1B86: 85 09        	sta	<L397+col_1
  7426                        ;	}
  7427                        	.line	964
  7428 03:1B88: 82 B6 FF     	brl	L10057
  7429                        L10058:
  7430                        ;
  7431                        ;	return col;
  7432                        	.line	966
  7433 03:1B8B: A5 09        	lda	<L397+col_1
  7434                        L401:
  7435 03:1B8D: A8           	tay
  7436 03:1B8E: A5 14        	lda	<L396+2
  7437 03:1B90: 85 24        	sta	<L396+2+16
  7438 03:1B92: A5 13        	lda	<L396+1
  7439 03:1B94: 85 23        	sta	<L396+1+16
  7440 03:1B96: 2B           	pld
  7441 03:1B97: 3B           	tsc
  7442 03:1B98: 18           	clc
  7443 03:1B99: 69 22 00     	adc	#L396+16
  7444 03:1B9C: 1B           	tcs
  7445 03:1B9D: 98           	tya
  7446 03:1B9E: 6B           	rtl
  7447                        ;}
  7448                        	.line	967
  7449                        	.endblock	967
  7450             00000012   L396	equ	18
  7451             00000009   L397	equ	9
  7452 03:1B9F:              	ends
  7453                        	efunc
  7454                        	.endfunc	967,9,18
  7455                        	.line	967
  7456                        	data
  Thu Dec  3 2020 22:25                                                Page 140


  7457                        L64:
  7458 00:0781: 6B 5F 64 72  	db	$6B,$5F,$64,$72,$61,$77,$5F,$74,$65,$78,
                    $74,$5F,$70,$6F,$69
       00:0785: 61 77 5F 74 
       00:0789: 65 78 74 5F 
       00:078D: 70 6F 69 
  7459 00:0790: 6E 74 5F 77  	db	$6E,$74,$5F,$77,$69,$74,$68,$5F,$66,$6F,
                    $6E,$74,$3A,$66,$6F
       00:0794: 69 74 68 5F 
       00:0798: 66 6F 6E 74 
       00:079C: 3A 66 6F 
  7460 00:079F: 6E 74 20 78  	db	$6E,$74,$20,$78,$3A,$00,$6B,$5F,$64,$72,
                    $61,$77,$5F,$74,$65
       00:07A3: 3A 00 6B 5F 
       00:07A7: 64 72 61 77 
       00:07AB: 5F 74 65 
  7461 00:07AE: 78 74 5F 70  	db	$78,$74,$5F,$70,$6F,$69,$6E,$74,$5F,$77,
                    $69,$74,$68,$5F,$66
       00:07B2: 6F 69 6E 74 
       00:07B6: 5F 77 69 74 
       00:07BA: 68 5F 66 
  7462 00:07BD: 6F 6E 74 3A  	db	$6F,$6E,$74,$3A,$66,$6F,$6E,$74,$20,$79,
                    $3A,$00,$6B,$5F,$64
       00:07C1: 66 6F 6E 74 
       00:07C5: 20 79 3A 00 
       00:07C9: 6B 5F 64 
  7463 00:07CC: 72 61 77 5F  	db	$72,$61,$77,$5F,$74,$65,$78,$74,$5F,$70,
                    $6F,$69,$6E,$74,$5F
       00:07D0: 74 65 78 74 
       00:07D4: 5F 70 6F 69 
       00:07D8: 6E 74 5F 
  7464 00:07DB: 77 69 74 68  	db	$77,$69,$74,$68,$5F,$66,$6F,$6E,$74,$3A,
                    $66,$6F,$6E,$74,$20
       00:07DF: 5F 66 6F 6E 
       00:07E3: 74 3A 66 6F 
       00:07E7: 6E 74 20 
  7465 00:07EA: 77 69 64 74  	db	$77,$69,$64,$74,$68,$3A,$00,$6B,$5F,$64,
                    $72,$61,$77,$5F,$74
       00:07EE: 68 3A 00 6B 
       00:07F2: 5F 64 72 61 
       00:07F6: 77 5F 74 
  7466 00:07F9: 65 78 74 5F  	db	$65,$78,$74,$5F,$70,$6F,$69,$6E,$74,$5F,
                    $77,$69,$74,$68,$5F
       00:07FD: 70 6F 69 6E 
       00:0801: 74 5F 77 69 
       00:0805: 74 68 5F 
  7467 00:0808: 66 6F 6E 74  	db	$66,$6F,$6E,$74,$3A,$66,$6F,$6E,$74,$20,
                    $68,$65,$69,$67,$68
       00:080C: 3A 66 6F 6E 
       00:0810: 74 20 68 65 
       00:0814: 69 67 68 
  7468 00:0817: 74 3A 00     	db	$74,$3A,$00
  7469 00:081A:              	ends
  7470                        ;
  7471                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
                    R charSet,int x,int y,char color)
  7472                        ;{
  7473                        	.line	969
  Thu Dec  3 2020 22:25                                                Page 141


  7474                        	.line	970
  7475                        	GUI
  7476                        	xdef	~~k_draw_text_point_with_font
  7477                        	func
  7478                        	.function	970
  7479                        ~~k_draw_text_point_with_font:
  7480                        	longa	on
  7481                        	longi	on
  7482 03:1B9F: 3B           	tsc
  7483 03:1BA0: 38           	sec
  7484 03:1BA1: E9 12 00     	sbc	#L403
  7485 03:1BA4: 1B           	tcs
  7486 03:1BA5: 0B           	phd
  7487 03:1BA6: 5B           	tcd
  7488             00000004   text_0	set	4
  7489             00000008   charSet_0	set	8
  7490             0000000C   x_0	set	12
  7491             0000000E   y_0	set	14
  7492             00000010   color_0	set	16
  7493                        	.block	970
  7494                        ;	int col = 0;
  7495                        ;	int width = 0;
  7496                        ;	int height = 0;
  7497                        ;
  7498                        ;	LPCHAR ptr = NULL;
  7499                        ;
  7500                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  7501                        ;
  7502                        ;	width  = charSet[0];
  7503             00000000   col_1	set	0
  7504             00000002   width_1	set	2
  7505             00000004   height_1	set	4
  7506             00000006   ptr_1	set	6
  7507                        	.sym	col,0,5,1,16
  7508                        	.sym	width,2,5,1,16
  7509                        	.sym	height,4,5,1,16
  7510                        	.sym	ptr,6,142,1,32
  7511                        	.sym	text,4,142,6,32
  7512                        	.sym	charSet,8,142,6,32
  7513                        	.sym	x,12,5,6,16
  7514                        	.sym	y,14,5,6,16
  7515                        	.sym	color,16,14,6,8
  7516 03:1BA7: 64 09        	stz	<L404+col_1
  7517 03:1BA9: 64 0B        	stz	<L404+width_1
  7518 03:1BAB: 64 0D        	stz	<L404+height_1
  7519 03:1BAD: 64 0F        	stz	<L404+ptr_1
  7520 03:1BAF: 64 11        	stz	<L404+ptr_1+2
  7521                        	.line	979
  7522 03:1BB1: A7 1A        	lda	[<L403+charSet_0]
  7523 03:1BB3: 29 FF 00     	and	#$ff
  7524 03:1BB6: 85 0B        	sta	<L404+width_1
  7525                        ;	height = charSet[1];
  7526                        	.line	980
  7527 03:1BB8: A0 01 00     	ldy	#$1
  7528 03:1BBB: B7 1A        	lda	[<L403+charSet_0],Y
  7529 03:1BBD: 29 FF 00     	and	#$ff
  7530 03:1BC0: 85 0D        	sta	<L404+height_1
  Thu Dec  3 2020 22:25                                                Page 142


  7531                        ;
  7532                        ;
  7533                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  7534                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  7535                        ;
  7536                        ;
  7537                        ;	ptr = (LPCHAR)(text);
  7538                        	.line	987
  7539 03:1BC2: A5 16        	lda	<L403+text_0
  7540 03:1BC4: 85 0F        	sta	<L404+ptr_1
  7541 03:1BC6: A5 18        	lda	<L403+text_0+2
  7542 03:1BC8: 85 11        	sta	<L404+ptr_1+2
  7543                        ;	while(*ptr)
  7544                        	.line	988
  7545                        L10059:
  7546 03:1BCA: A7 0F        	lda	[<L404+ptr_1]
  7547 03:1BCC: 29 FF 00     	and	#$ff
  7548 03:1BCF: D0 03        	bne	L406
  7549 03:1BD1: 82 3E 00     	brl	L10060
  7550                        L406:
  7551                        ;	{
  7552                        	.line	989
  7553                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  7554                        ;
  7555                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
  7556                        	.line	992
  7557 03:1BD4: D4 22        	pei	<L403+color_0
  7558 03:1BD6: D4 0D        	pei	<L404+height_1
  7559 03:1BD8: D4 0B        	pei	<L404+width_1
  7560 03:1BDA: D4 20        	pei	<L403+y_0
  7561 03:1BDC: D4 1E        	pei	<L403+x_0
  7562 03:1BDE: A7 0F        	lda	[<L404+ptr_1]
  7563 03:1BE0: 48           	pha
  7564 03:1BE1: 18           	clc
  7565 03:1BE2: A9 02 00     	lda	#$2
  7566 03:1BE5: 65 1A        	adc	<L403+charSet_0
  7567 03:1BE7: 85 01        	sta	<R0
  7568 03:1BE9: A9 00 00     	lda	#$0
  7569 03:1BEC: 65 1C        	adc	<L403+charSet_0+2
  7570 03:1BEE: 85 03        	sta	<R0+2
  7571 03:1BF0: D4 03        	pei	<R0+2
  7572 03:1BF2: D4 01        	pei	<R0
  7573 03:1BF4: 22 69 21 03  	jsl	~~k_put_binary_variablefont_point
  7574 03:1BF8: 85 05        	sta	<R1
  7575 03:1BFA: 18           	clc
  7576 03:1BFB: A5 05        	lda	<R1
  7577 03:1BFD: 65 1E        	adc	<L403+x_0
  7578 03:1BFF: 85 1E        	sta	<L403+x_0
  7579                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  7580                        ;
  7581                        ;		ptr++;
  7582                        	.line	995
  7583 03:1C01: E6 0F        	inc	<L404+ptr_1
  7584 03:1C03: D0 02        	bne	L407
  Thu Dec  3 2020 22:25                                                Page 143


  7585 03:1C05: E6 11        	inc	<L404+ptr_1+2
  7586                        L407:
  7587                        ;		col+=8;
  7588                        	.line	996
  7589 03:1C07: 18           	clc
  7590 03:1C08: A9 08 00     	lda	#$8
  7591 03:1C0B: 65 09        	adc	<L404+col_1
  7592 03:1C0D: 85 09        	sta	<L404+col_1
  7593                        ;	}
  7594                        	.line	997
  7595 03:1C0F: 82 B8 FF     	brl	L10059
  7596                        L10060:
  7597                        ;
  7598                        ;	return col;
  7599                        	.line	999
  7600 03:1C12: A5 09        	lda	<L404+col_1
  7601                        L408:
  7602 03:1C14: A8           	tay
  7603 03:1C15: A5 14        	lda	<L403+2
  7604 03:1C17: 85 22        	sta	<L403+2+14
  7605 03:1C19: A5 13        	lda	<L403+1
  7606 03:1C1B: 85 21        	sta	<L403+1+14
  7607 03:1C1D: 2B           	pld
  7608 03:1C1E: 3B           	tsc
  7609 03:1C1F: 18           	clc
  7610 03:1C20: 69 20 00     	adc	#L403+14
  7611 03:1C23: 1B           	tcs
  7612 03:1C24: 98           	tya
  7613 03:1C25: 6B           	rtl
  7614                        ;}
  7615                        	.line	1000
  7616                        	.endblock	1000
  7617             00000012   L403	equ	18
  7618             00000009   L404	equ	9
  7619 03:1C26:              	ends
  7620                        	efunc
  7621                        	.endfunc	1000,9,18
  7622                        	.line	1000
  7623                        ;
  7624                        ;
  7625                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
  7626                        ;{
  7627                        	.line	1003
  7628                        	.line	1004
  7629                        	GUI
  7630                        	xdef	~~k_draw_text_scaled
  7631                        	func
  7632                        	.function	1004
  7633                        ~~k_draw_text_scaled:
  7634                        	longa	on
  7635                        	longi	on
  7636 03:1C26: 3B           	tsc
  7637 03:1C27: 38           	sec
  7638 03:1C28: E9 04 00     	sbc	#L409
  7639 03:1C2B: 1B           	tcs
  7640 03:1C2C: 0B           	phd
  7641 03:1C2D: 5B           	tcd
  Thu Dec  3 2020 22:25                                                Page 144


  7642             00000004   text_0	set	4
  7643             00000008   row_0	set	8
  7644             0000000A   col_0	set	10
  7645             0000000C   color_0	set	12
  7646             0000000E   scale_0	set	14
  7647                        	.block	1004
  7648                        ;	char FAR * ptr = (text);
  7649                        ;	while(*ptr)
  7650             00000000   ptr_1	set	0
  7651                        	.sym	ptr,0,142,1,32
  7652                        	.sym	text,4,142,6,32
  7653                        	.sym	row,8,5,6,16
  7654                        	.sym	col,10,5,6,16
  7655                        	.sym	color,12,14,6,8
  7656                        	.sym	scale,14,5,6,16
  7657 03:1C2E: A5 08        	lda	<L409+text_0
  7658 03:1C30: 85 01        	sta	<L410+ptr_1
  7659 03:1C32: A5 0A        	lda	<L409+text_0+2
  7660 03:1C34: 85 03        	sta	<L410+ptr_1+2
  7661                        	.line	1006
  7662                        L10061:
  7663 03:1C36: A7 01        	lda	[<L410+ptr_1]
  7664 03:1C38: 29 FF 00     	and	#$ff
  7665 03:1C3B: D0 03        	bne	L412
  7666 03:1C3D: 82 1A 00     	brl	L10062
  7667                        L412:
  7668                        ;	{
  7669                        	.line	1007
  7670                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
  7671                        	.line	1008
  7672 03:1C40: D4 12        	pei	<L409+scale_0
  7673 03:1C42: D4 10        	pei	<L409+color_0
  7674 03:1C44: D4 0C        	pei	<L409+row_0
  7675 03:1C46: D4 0E        	pei	<L409+col_0
  7676 03:1C48: A7 01        	lda	[<L410+ptr_1]
  7677 03:1C4A: 48           	pha
  7678 03:1C4B: 22 FE 29 03  	jsl	~~k_put_font_scaled
  7679                        ;		col++;
  7680                        	.line	1009
  7681 03:1C4F: E6 0E        	inc	<L409+col_0
  7682                        ;		ptr++;
  7683                        	.line	1010
  7684 03:1C51: E6 01        	inc	<L410+ptr_1
  7685 03:1C53: D0 02        	bne	L413
  7686 03:1C55: E6 03        	inc	<L410+ptr_1+2
  7687                        L413:
  7688                        ;	}
  7689                        	.line	1011
  7690 03:1C57: 82 DC FF     	brl	L10061
  7691                        L10062:
  7692                        ;	
  7693                        ;	return col;
  7694                        	.line	1013
  7695 03:1C5A: A5 0E        	lda	<L409+col_0
  7696                        L414:
  7697 03:1C5C: A8           	tay
  7698 03:1C5D: A5 06        	lda	<L409+2
  Thu Dec  3 2020 22:25                                                Page 145


  7699 03:1C5F: 85 12        	sta	<L409+2+12
  7700 03:1C61: A5 05        	lda	<L409+1
  7701 03:1C63: 85 11        	sta	<L409+1+12
  7702 03:1C65: 2B           	pld
  7703 03:1C66: 3B           	tsc
  7704 03:1C67: 18           	clc
  7705 03:1C68: 69 10 00     	adc	#L409+12
  7706 03:1C6B: 1B           	tcs
  7707 03:1C6C: 98           	tya
  7708 03:1C6D: 6B           	rtl
  7709                        ;}
  7710                        	.line	1014
  7711                        	.endblock	1014
  7712             00000004   L409	equ	4
  7713             00000001   L410	equ	1
  7714 03:1C6E:              	ends
  7715                        	efunc
  7716                        	.endfunc	1014,1,4
  7717                        	.line	1014
  7718                        ;
  7719                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
  7720                        ;{
  7721                        	.line	1016
  7722                        	.line	1017
  7723                        	GUI
  7724                        	xdef	~~k_get_font_metrics
  7725                        	func
  7726                        	.function	1017
  7727                        ~~k_get_font_metrics:
  7728                        	longa	on
  7729                        	longi	on
  7730 03:1C6E: 3B           	tsc
  7731 03:1C6F: 38           	sec
  7732 03:1C70: E9 00 00     	sbc	#L415
  7733 03:1C73: 1B           	tcs
  7734 03:1C74: 0B           	phd
  7735 03:1C75: 5B           	tcd
  7736             00000004   metric_0	set	4
  7737                        	.block	1017
  7738                        ;	metric->width  = FONTW;
  7739                        	.sym	metric,4,138,6,32,32
  7740                        	.line	1018
  7741 03:1C76: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  7742 03:1C7A: 87 04        	sta	[<L415+metric_0]
  7743                        ;	metric->height = FONTH;
  7744                        	.line	1019
  7745 03:1C7C: 22 B3 71 03  	jsl	~~k_font_getFontHeight
  7746 03:1C80: A0 02 00     	ldy	#$2
  7747 03:1C83: 97 04        	sta	[<L415+metric_0],Y
  7748                        ;	
  7749                        ;	return sizeof(FONTMETRIC);
  7750                        	.line	1021
  7751 03:1C85: A9 04 00     	lda	#$4
  7752                        L418:
  7753 03:1C88: A8           	tay
  7754 03:1C89: A5 02        	lda	<L415+2
  7755 03:1C8B: 85 06        	sta	<L415+2+4
  7756 03:1C8D: A5 01        	lda	<L415+1
  Thu Dec  3 2020 22:25                                                Page 146


  7757 03:1C8F: 85 05        	sta	<L415+1+4
  7758 03:1C91: 2B           	pld
  7759 03:1C92: 3B           	tsc
  7760 03:1C93: 18           	clc
  7761 03:1C94: 69 04 00     	adc	#L415+4
  7762 03:1C97: 1B           	tcs
  7763 03:1C98: 98           	tya
  7764 03:1C99: 6B           	rtl
  7765                        ;}
  7766                        	.line	1022
  7767                        	.endblock	1022
  7768             00000000   L415	equ	0
  7769             00000001   L416	equ	1
  7770 03:1C9A:              	ends
  7771                        	efunc
  7772                        	.endfunc	1022,1,0
  7773                        	.line	1022
  7774                        ;
  7775                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
  7776                        ;{
  7777                        	.line	1024
  7778                        	.line	1025
  7779                        	GUI
  7780                        	xdef	~~k_put_font_point
  7781                        	func
  7782                        	.function	1025
  7783                        ~~k_put_font_point:
  7784                        	longa	on
  7785                        	longi	on
  7786 03:1C9A: 3B           	tsc
  7787 03:1C9B: 38           	sec
  7788 03:1C9C: E9 1D 00     	sbc	#L419
  7789 03:1C9F: 1B           	tcs
  7790 03:1CA0: 0B           	phd
  7791 03:1CA1: 5B           	tcd
  7792             00000004   outChar_0	set	4
  7793             00000006   cx_0	set	6
  7794             00000008   cy_0	set	8
  7795             0000000A   color_0	set	10
  7796                        	.block	1025
  7797                        ;	int x = 0;
  7798                        ;	int y = 0;
  7799                        ;	int textX = cx;
  7800                        ;	int textY = cy;
  7801                        ;
  7802                        ;	char FAR* img = NULL;//fontImg[ix];
  7803                        ;
  7804                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
  7805             00000000   x_1	set	0
  7806             00000002   y_1	set	2
  7807             00000004   textX_1	set	4
  7808             00000006   textY_1	set	6
  7809             00000008   img_1	set	8
  7810                        	.sym	x,0,5,1,16
  7811                        	.sym	y,2,5,1,16
  7812                        	.sym	textX,4,5,1,16
  Thu Dec  3 2020 22:25                                                Page 147


  7813                        	.sym	textY,6,5,1,16
  7814                        	.sym	img,8,142,1,32
  7815                        	.sym	outChar,4,14,6,8
  7816                        	.sym	cx,6,5,6,16
  7817                        	.sym	cy,8,5,6,16
  7818                        	.sym	color,10,14,6,8
  7819 03:1CA2: 64 11        	stz	<L420+x_1
  7820 03:1CA4: 64 13        	stz	<L420+y_1
  7821 03:1CA6: A5 23        	lda	<L419+cx_0
  7822 03:1CA8: 85 15        	sta	<L420+textX_1
  7823 03:1CAA: A5 25        	lda	<L419+cy_0
  7824 03:1CAC: 85 17        	sta	<L420+textY_1
  7825 03:1CAE: 64 19        	stz	<L420+img_1
  7826 03:1CB0: 64 1B        	stz	<L420+img_1+2
  7827                        	.line	1033
  7828 03:1CB2: A5 21        	lda	<L419+outChar_0
  7829 03:1CB4: 29 FF 00     	and	#$ff
  7830 03:1CB7: 48           	pha
  7831 03:1CB8: 22 xx xx xx  	jsl	~~toupper
  7832 03:1CBC: E2 20        	sep	#$20
  7833                        	longa	off
  7834 03:1CBE: 85 21        	sta	<L419+outChar_0
  7835 03:1CC0: C2 20        	rep	#$20
  7836                        	longa	on
  7837                        ;
  7838                        ;    if(outChar == 32)
  7839                        	.line	1035
  7840                        ;	{
  7841 03:1CC2: E2 20        	sep	#$20
  7842                        	longa	off
  7843 03:1CC4: A5 21        	lda	<L419+outChar_0
  7844 03:1CC6: C9 20        	cmp	#<$20
  7845 03:1CC8: C2 20        	rep	#$20
  7846                        	longa	on
  7847 03:1CCA: F0 03        	beq	L422
  7848 03:1CCC: 82 07 00     	brl	L10063
  7849                        L422:
  7850                        	.line	1036
  7851                        ;	   img = NULL;//fontSpace;
  7852                        	.line	1037
  7853 03:1CCF: 64 19        	stz	<L420+img_1
  7854 03:1CD1: 64 1B        	stz	<L420+img_1+2
  7855                        ;    }
  7856                        	.line	1038
  7857                        ;    else
  7858 03:1CD3: 82 5B 00     	brl	L10064
  7859                        L10063:
  7860                        ;	{
  7861                        	.line	1040
  7862                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  7863                        	.line	1041
  7864 03:1CD6: A5 21        	lda	<L419+outChar_0
  7865 03:1CD8: 29 FF 00     	and	#<$ff
  7866 03:1CDB: 85 09        	sta	<R2
  7867 03:1CDD: A0 00 00     	ldy	#$0
  7868 03:1CE0: A5 09        	lda	<R2
  7869 03:1CE2: 10 01        	bpl	L423
  Thu Dec  3 2020 22:25                                                Page 148


  7870 03:1CE4: 88           	dey
  7871                        L423:
  7872 03:1CE5: 85 09        	sta	<R2
  7873 03:1CE7: 84 0B        	sty	<R2+2
  7874 03:1CE9: D4 0B        	pei	<R2+2
  7875 03:1CEB: D4 09        	pei	<R2
  7876 03:1CED: A9 01 00     	lda	#$1
  7877                        	xref	~~~lasl
  7878 03:1CF0: 22 xx xx xx  	jsl	~~~lasl
  7879 03:1CF4: 85 05        	sta	<R1
  7880 03:1CF6: 86 07        	stx	<R1+2
  7881 03:1CF8: 18           	clc
  7882 03:1CF9: A9 xx xx     	lda	#<~~characterROMMapping
  7883 03:1CFC: 65 05        	adc	<R1
  7884 03:1CFE: 85 0D        	sta	<R3
  7885 03:1D00: A9 xx xx     	lda	#^~~characterROMMapping
  7886 03:1D03: 65 07        	adc	<R1+2
  7887 03:1D05: 85 0F        	sta	<R3+2
  7888 03:1D07: A0 00 00     	ldy	#$0
  7889 03:1D0A: A7 0D        	lda	[<R3]
  7890 03:1D0C: 10 01        	bpl	L424
  7891 03:1D0E: 88           	dey
  7892                        L424:
  7893 03:1D0F: 85 05        	sta	<R1
  7894 03:1D11: 84 07        	sty	<R1+2
  7895 03:1D13: D4 07        	pei	<R1+2
  7896 03:1D15: D4 05        	pei	<R1
  7897 03:1D17: A9 06 00     	lda	#$6
  7898                        	xref	~~~lasl
  7899 03:1D1A: 22 xx xx xx  	jsl	~~~lasl
  7900 03:1D1E: 85 01        	sta	<R0
  7901 03:1D20: 86 03        	stx	<R0+2
  7902 03:1D22: 18           	clc
  7903 03:1D23: A9 xx xx     	lda	#<~~fontImg
  7904 03:1D26: 65 01        	adc	<R0
  7905 03:1D28: 85 19        	sta	<L420+img_1
  7906 03:1D2A: A9 xx xx     	lda	#^~~fontImg
  7907 03:1D2D: 65 03        	adc	<R0+2
  7908 03:1D2F: 85 1B        	sta	<L420+img_1+2
  7909                        ;	}
  7910                        	.line	1042
  7911                        L10064:
  7912                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  7913                        ;
  7914                        ;	// get the font 'image'
  7915                        ;        //char *img = fontImg[ix]; 
  7916                        ;        // loop through pixel rows
  7917                        ;	if(img!=NULL)
  7918                        	.line	1048
  7919                        ;	{
  7920 03:1D31: A5 19        	lda	<L420+img_1
  7921 03:1D33: 05 1B        	ora	<L420+img_1+2
  7922 03:1D35: D0 03        	bne	L425
  7923 03:1D37: 82 91 00     	brl	L10065
  7924                        L425:
  7925                        	.line	1049
  7926                        ;		for (y = 0; y < FONTH; y++) 
  Thu Dec  3 2020 22:25                                                Page 149


  7927                        	.line	1050
  7928 03:1D3A: 64 13        	stz	<L420+y_1
  7929 03:1D3C: 82 7D 00     	brl	L10069
  7930                        L10068:
  7931                        ;		{
  7932                        	.line	1051
  7933                        ;			// loop through pixel columns
  7934                        ;			for (x = 0; x < FONTW; x++) 
  7935                        	.line	1053
  7936 03:1D3F: 64 11        	stz	<L420+x_1
  7937 03:1D41: 82 67 00     	brl	L10073
  7938                        L10072:
  7939                        ;			{
  7940                        	.line	1054
  7941                        ;				// get the pixel value
  7942                        ;				char b = img[y * FONTW +
                     x];
  7943                        ;				if (b > 0) 
  7944                        	.block	1057
  7945             0000000C   b_2	set	12
  7946                        	.sym	b,12,14,1,8
  7947 03:1D44: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  7948 03:1D48: 85 01        	sta	<R0
  7949 03:1D4A: A5 01        	lda	<R0
  7950 03:1D4C: A6 13        	ldx	<L420+y_1
  7951                        	xref	~~~mul
  7952 03:1D4E: 22 xx xx xx  	jsl	~~~mul
  7953 03:1D52: 85 01        	sta	<R0
  7954 03:1D54: 18           	clc
  7955 03:1D55: A5 01        	lda	<R0
  7956 03:1D57: 65 11        	adc	<L420+x_1
  7957 03:1D59: 85 05        	sta	<R1
  7958 03:1D5B: E2 20        	sep	#$20
  7959                        	longa	off
  7960 03:1D5D: A4 05        	ldy	<R1
  7961 03:1D5F: B7 19        	lda	[<L420+img_1],Y
  7962 03:1D61: 85 1D        	sta	<L420+b_2
  7963 03:1D63: C2 20        	rep	#$20
  7964                        	longa	on
  7965                        	.line	1057
  7966                        ;				{ // plot the pixel
  7967 03:1D65: E2 20        	sep	#$20
  7968                        	longa	off
  7969 03:1D67: A9 00        	lda	#$0
  7970 03:1D69: C5 1D        	cmp	<L420+b_2
  7971 03:1D6B: C2 20        	rep	#$20
  7972                        	longa	on
  7973 03:1D6D: 90 03        	bcc	L427
  7974 03:1D6F: 82 37 00     	brl	L10074
  7975                        L427:
  7976                        	.line	1058
  7977                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  7978                        	.line	1059
  7979 03:1D72: D4 27        	pei	<L419+color_0
  7980 03:1D74: 18           	clc
  7981 03:1D75: A5 17        	lda	<L420+textY_1
  7982 03:1D77: 65 13        	adc	<L420+y_1
  Thu Dec  3 2020 22:25                                                Page 150


  7983 03:1D79: 85 01        	sta	<R0
  7984 03:1D7B: A0 00 00     	ldy	#$0
  7985 03:1D7E: A5 01        	lda	<R0
  7986 03:1D80: 10 01        	bpl	L428
  7987 03:1D82: 88           	dey
  7988                        L428:
  7989 03:1D83: 85 01        	sta	<R0
  7990 03:1D85: 84 03        	sty	<R0+2
  7991 03:1D87: D4 03        	pei	<R0+2
  7992 03:1D89: D4 01        	pei	<R0
  7993 03:1D8B: 18           	clc
  7994 03:1D8C: A5 15        	lda	<L420+textX_1
  7995 03:1D8E: 65 11        	adc	<L420+x_1
  7996 03:1D90: 85 05        	sta	<R1
  7997 03:1D92: A0 00 00     	ldy	#$0
  7998 03:1D95: A5 05        	lda	<R1
  7999 03:1D97: 10 01        	bpl	L429
  8000 03:1D99: 88           	dey
  8001                        L429:
  8002 03:1D9A: 85 05        	sta	<R1
  8003 03:1D9C: 84 07        	sty	<R1+2
  8004 03:1D9E: D4 07        	pei	<R1+2
  8005 03:1DA0: D4 05        	pei	<R1
  8006 03:1DA2: 22 10 0E 03  	jsl	~~k_draw_pixel
  8007                        ;				}
  8008                        	.line	1060
  8009                        ;				else 
  8010 03:1DA6: 82 00 00     	brl	L10075
  8011                        L10074:
  8012                        ;				{ 
  8013                        	.line	1062
  8014                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  8015                        ;				}
  8016                        	.line	1064
  8017                        L10075:
  8018                        ;			} // end "for x"
  8019                        	.endblock	1065
  8020                        	.line	1065
  8021                        L10070:
  8022 03:1DA9: E6 11        	inc	<L420+x_1
  8023                        L10073:
  8024 03:1DAB: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  8025 03:1DAF: 85 01        	sta	<R0
  8026 03:1DB1: A5 11        	lda	<L420+x_1
  8027 03:1DB3: C5 01        	cmp	<R0
  8028 03:1DB5: B0 03        	bcs	L430
  8029 03:1DB7: 82 8A FF     	brl	L10072
  8030                        L430:
  8031                        L10071:
  8032                        ;		} // end "for y"
  8033                        	.line	1066
  8034                        L10066:
  8035 03:1DBA: E6 13        	inc	<L420+y_1
  8036                        L10069:
  8037 03:1DBC: 22 B3 71 03  	jsl	~~k_font_getFontHeight
  8038 03:1DC0: 85 01        	sta	<R0
  8039 03:1DC2: A5 13        	lda	<L420+y_1
  Thu Dec  3 2020 22:25                                                Page 151


  8040 03:1DC4: C5 01        	cmp	<R0
  8041 03:1DC6: B0 03        	bcs	L431
  8042 03:1DC8: 82 74 FF     	brl	L10068
  8043                        L431:
  8044                        L10067:
  8045                        ;	}
  8046                        	.line	1067
  8047                        ;	return FONTW;
  8048                        L10065:
  8049                        	.line	1068
  8050 03:1DCB: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  8051                        L432:
  8052 03:1DCF: A8           	tay
  8053 03:1DD0: A5 1F        	lda	<L419+2
  8054 03:1DD2: 85 27        	sta	<L419+2+8
  8055 03:1DD4: A5 1E        	lda	<L419+1
  8056 03:1DD6: 85 26        	sta	<L419+1+8
  8057 03:1DD8: 2B           	pld
  8058 03:1DD9: 3B           	tsc
  8059 03:1DDA: 18           	clc
  8060 03:1DDB: 69 25 00     	adc	#L419+8
  8061 03:1DDE: 1B           	tcs
  8062 03:1DDF: 98           	tya
  8063 03:1DE0: 6B           	rtl
  8064                        ;}
  8065                        	.line	1069
  8066                        	.endblock	1069
  8067             0000001D   L419	equ	29
  8068             00000011   L420	equ	17
  8069 03:1DE1:              	ends
  8070                        	efunc
  8071                        	.endfunc	1069,17,29
  8072                        	.line	1069
  8073                        ;
  8074                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
                    outChar,int cx,int cy,char color)
  8075                        ;{
  8076                        	.line	1071
  8077                        	.line	1072
  8078                        	GUI
  8079                        	xdef	~~k_put_binary_font_point
  8080                        	func
  8081                        	.function	1072
  8082                        ~~k_put_binary_font_point:
  8083                        	longa	on
  8084                        	longi	on
  8085 03:1DE1: 3B           	tsc
  8086 03:1DE2: 38           	sec
  8087 03:1DE3: E9 18 00     	sbc	#L433
  8088 03:1DE6: 1B           	tcs
  8089 03:1DE7: 0B           	phd
  8090 03:1DE8: 5B           	tcd
  8091             00000004   fontSet_0	set	4
  8092             00000008   outChar_0	set	8
  8093             0000000A   cx_0	set	10
  8094             0000000C   cy_0	set	12
  8095             0000000E   color_0	set	14
  8096                        	.block	1072
  Thu Dec  3 2020 22:25                                                Page 152


  8097                        ;	int x = 0;
  8098                        ;	int y = 0;
  8099                        ;	int textX = cx;
  8100                        ;	int textY = cy;
  8101                        ;
  8102                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  8103                        ;
  8104                        ;    if(outChar == 32)
  8105             00000000   x_1	set	0
  8106             00000002   y_1	set	2
  8107             00000004   textX_1	set	4
  8108             00000006   textY_1	set	6
  8109             00000008   img_1	set	8
  8110                        	.sym	x,0,5,1,16
  8111                        	.sym	y,2,5,1,16
  8112                        	.sym	textX,4,5,1,16
  8113                        	.sym	textY,6,5,1,16
  8114                        	.sym	img,8,142,1,32
  8115                        	.sym	fontSet,4,142,6,32
  8116                        	.sym	outChar,8,14,6,8
  8117                        	.sym	cx,10,5,6,16
  8118                        	.sym	cy,12,5,6,16
  8119                        	.sym	color,14,14,6,8
  8120 03:1DE9: 64 09        	stz	<L434+x_1
  8121 03:1DEB: 64 0B        	stz	<L434+y_1
  8122 03:1DED: A5 22        	lda	<L433+cx_0
  8123 03:1DEF: 85 0D        	sta	<L434+textX_1
  8124 03:1DF1: A5 24        	lda	<L433+cy_0
  8125 03:1DF3: 85 0F        	sta	<L434+textY_1
  8126 03:1DF5: 64 11        	stz	<L434+img_1
  8127 03:1DF7: 64 13        	stz	<L434+img_1+2
  8128                        	.line	1080
  8129                        ;	{
  8130 03:1DF9: E2 20        	sep	#$20
  8131                        	longa	off
  8132 03:1DFB: A5 20        	lda	<L433+outChar_0
  8133 03:1DFD: C9 20        	cmp	#<$20
  8134 03:1DFF: C2 20        	rep	#$20
  8135                        	longa	on
  8136 03:1E01: F0 03        	beq	L436
  8137 03:1E03: 82 07 00     	brl	L10076
  8138                        L436:
  8139                        	.line	1081
  8140                        ;	   img = NULL;//fontSpace;
  8141                        	.line	1082
  8142 03:1E06: 64 11        	stz	<L434+img_1
  8143 03:1E08: 64 13        	stz	<L434+img_1+2
  8144                        ;    }
  8145                        	.line	1083
  8146                        ;    else
  8147 03:1E0A: 82 2F 00     	brl	L10077
  8148                        L10076:
  8149                        ;	{
  8150                        	.line	1085
  8151                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  8152                        ;    	img = fontSet+=(8*outChar);
  8153                        	.line	1087
  Thu Dec  3 2020 22:25                                                Page 153


  8154 03:1E0D: A5 20        	lda	<L433+outChar_0
  8155 03:1E0F: 29 FF 00     	and	#$ff
  8156 03:1E12: 85 05        	sta	<R1
  8157 03:1E14: A5 05        	lda	<R1
  8158 03:1E16: 0A           	asl	A
  8159 03:1E17: 0A           	asl	A
  8160 03:1E18: 0A           	asl	A
  8161 03:1E19: 85 01        	sta	<R0
  8162 03:1E1B: A0 00 00     	ldy	#$0
  8163 03:1E1E: A5 01        	lda	<R0
  8164 03:1E20: 10 01        	bpl	L437
  8165 03:1E22: 88           	dey
  8166                        L437:
  8167 03:1E23: 85 01        	sta	<R0
  8168 03:1E25: 84 03        	sty	<R0+2
  8169 03:1E27: 18           	clc
  8170 03:1E28: A5 1C        	lda	<L433+fontSet_0
  8171 03:1E2A: 65 01        	adc	<R0
  8172 03:1E2C: 85 1C        	sta	<L433+fontSet_0
  8173 03:1E2E: A5 1E        	lda	<L433+fontSet_0+2
  8174 03:1E30: 65 03        	adc	<R0+2
  8175 03:1E32: 85 1E        	sta	<L433+fontSet_0+2
  8176 03:1E34: A5 1C        	lda	<L433+fontSet_0
  8177 03:1E36: 85 11        	sta	<L434+img_1
  8178 03:1E38: A5 1E        	lda	<L433+fontSet_0+2
  8179 03:1E3A: 85 13        	sta	<L434+img_1+2
  8180                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  8181                        ;	}
  8182                        	.line	1089
  8183                        L10077:
  8184                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  8185                        ;
  8186                        ;	// get the font 'image'
  8187                        ;        //char *img = fontImg[ix];
  8188                        ;        // loop through pixel rows
  8189                        ;	if(img!=NULL)
  8190                        	.line	1095
  8191                        ;	{
  8192 03:1E3C: A5 11        	lda	<L434+img_1
  8193 03:1E3E: 05 13        	ora	<L434+img_1+2
  8194 03:1E40: D0 03        	bne	L438
  8195 03:1E42: 82 0E 03     	brl	L10078
  8196                        L438:
  8197                        	.line	1096
  8198                        ;		for (y = 0; y < FONTH; y++)
  8199                        	.line	1097
  8200 03:1E45: 64 0B        	stz	<L434+y_1
  8201 03:1E47: 82 FA 02     	brl	L10082
  8202                        L10081:
  8203                        ;		{
  8204                        	.line	1098
  8205                        ;			// get the pixel value
  8206                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  8207                        ;			if (b->b7 > 0)
  8208                        	.block	1101
  Thu Dec  3 2020 22:25                                                Page 154


  8209             0000000C   b_2	set	12
  8210                        	.sym	b,12,138,1,32,4
  8211 03:1E4A: A0 00 00     	ldy	#$0
  8212 03:1E4D: A5 0B        	lda	<L434+y_1
  8213 03:1E4F: 10 01        	bpl	L440
  8214 03:1E51: 88           	dey
  8215                        L440:
  8216 03:1E52: 85 01        	sta	<R0
  8217 03:1E54: 84 03        	sty	<R0+2
  8218 03:1E56: 18           	clc
  8219 03:1E57: A5 11        	lda	<L434+img_1
  8220 03:1E59: 65 01        	adc	<R0
  8221 03:1E5B: 85 15        	sta	<L434+b_2
  8222 03:1E5D: A5 13        	lda	<L434+img_1+2
  8223 03:1E5F: 65 03        	adc	<R0+2
  8224 03:1E61: 85 17        	sta	<L434+b_2+2
  8225                        	.line	1101
  8226                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  8227 03:1E63: E2 20        	sep	#$20
  8228                        	longa	off
  8229 03:1E65: A7 15        	lda	[<L434+b_2]
  8230 03:1E67: 85 01        	sta	<R0
  8231 03:1E69: C2 20        	rep	#$20
  8232                        	longa	on
  8233 03:1E6B: E2 20        	sep	#$20
  8234                        	longa	off
  8235 03:1E6D: A5 01        	lda	<R0
  8236 03:1E6F: 29 01        	and	#<$1
  8237 03:1E71: 85 01        	sta	<R0
  8238 03:1E73: C2 20        	rep	#$20
  8239                        	longa	on
  8240 03:1E75: E2 20        	sep	#$20
  8241                        	longa	off
  8242 03:1E77: A9 00        	lda	#$0
  8243 03:1E79: C5 01        	cmp	<R0
  8244 03:1E7B: C2 20        	rep	#$20
  8245                        	longa	on
  8246 03:1E7D: 90 03        	bcc	L441
  8247 03:1E7F: 82 35 00     	brl	L10083
  8248                        L441:
  8249                        	.line	1102
  8250 03:1E82: D4 26        	pei	<L433+color_0
  8251 03:1E84: 18           	clc
  8252 03:1E85: A5 0F        	lda	<L434+textY_1
  8253 03:1E87: 65 0B        	adc	<L434+y_1
  8254 03:1E89: 85 01        	sta	<R0
  8255 03:1E8B: A0 00 00     	ldy	#$0
  8256 03:1E8E: A5 01        	lda	<R0
  8257 03:1E90: 10 01        	bpl	L442
  8258 03:1E92: 88           	dey
  8259                        L442:
  8260 03:1E93: 85 01        	sta	<R0
  8261 03:1E95: 84 03        	sty	<R0+2
  8262 03:1E97: D4 03        	pei	<R0+2
  8263 03:1E99: D4 01        	pei	<R0
  8264 03:1E9B: 18           	clc
  8265 03:1E9C: A9 07 00     	lda	#$7
  Thu Dec  3 2020 22:25                                                Page 155


  8266 03:1E9F: 65 0D        	adc	<L434+textX_1
  8267 03:1EA1: 85 05        	sta	<R1
  8268 03:1EA3: A0 00 00     	ldy	#$0
  8269 03:1EA6: A5 05        	lda	<R1
  8270 03:1EA8: 10 01        	bpl	L443
  8271 03:1EAA: 88           	dey
  8272                        L443:
  8273 03:1EAB: 85 05        	sta	<R1
  8274 03:1EAD: 84 07        	sty	<R1+2
  8275 03:1EAF: D4 07        	pei	<R1+2
  8276 03:1EB1: D4 05        	pei	<R1
  8277 03:1EB3: 22 10 0E 03  	jsl	~~k_draw_pixel
  8278                        ;			if (b->b6 > 0)
  8279                        L10083:
  8280                        	.line	1103
  8281                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  8282 03:1EB7: E2 20        	sep	#$20
  8283                        	longa	off
  8284 03:1EB9: A7 15        	lda	[<L434+b_2]
  8285 03:1EBB: 85 01        	sta	<R0
  8286 03:1EBD: C2 20        	rep	#$20
  8287                        	longa	on
  8288 03:1EBF: E2 20        	sep	#$20
  8289                        	longa	off
  8290 03:1EC1: 46 01        	lsr	<R0
  8291 03:1EC3: C2 20        	rep	#$20
  8292                        	longa	on
  8293 03:1EC5: E2 20        	sep	#$20
  8294                        	longa	off
  8295 03:1EC7: A5 01        	lda	<R0
  8296 03:1EC9: 29 01        	and	#<$1
  8297 03:1ECB: 85 01        	sta	<R0
  8298 03:1ECD: C2 20        	rep	#$20
  8299                        	longa	on
  8300 03:1ECF: E2 20        	sep	#$20
  8301                        	longa	off
  8302 03:1ED1: A9 00        	lda	#$0
  8303 03:1ED3: C5 01        	cmp	<R0
  8304 03:1ED5: C2 20        	rep	#$20
  8305                        	longa	on
  8306 03:1ED7: 90 03        	bcc	L444
  8307 03:1ED9: 82 35 00     	brl	L10084
  8308                        L444:
  8309                        	.line	1104
  8310 03:1EDC: D4 26        	pei	<L433+color_0
  8311 03:1EDE: 18           	clc
  8312 03:1EDF: A5 0F        	lda	<L434+textY_1
  8313 03:1EE1: 65 0B        	adc	<L434+y_1
  8314 03:1EE3: 85 01        	sta	<R0
  8315 03:1EE5: A0 00 00     	ldy	#$0
  8316 03:1EE8: A5 01        	lda	<R0
  8317 03:1EEA: 10 01        	bpl	L445
  8318 03:1EEC: 88           	dey
  8319                        L445:
  8320 03:1EED: 85 01        	sta	<R0
  8321 03:1EEF: 84 03        	sty	<R0+2
  8322 03:1EF1: D4 03        	pei	<R0+2
  Thu Dec  3 2020 22:25                                                Page 156


  8323 03:1EF3: D4 01        	pei	<R0
  8324 03:1EF5: 18           	clc
  8325 03:1EF6: A9 06 00     	lda	#$6
  8326 03:1EF9: 65 0D        	adc	<L434+textX_1
  8327 03:1EFB: 85 05        	sta	<R1
  8328 03:1EFD: A0 00 00     	ldy	#$0
  8329 03:1F00: A5 05        	lda	<R1
  8330 03:1F02: 10 01        	bpl	L446
  8331 03:1F04: 88           	dey
  8332                        L446:
  8333 03:1F05: 85 05        	sta	<R1
  8334 03:1F07: 84 07        	sty	<R1+2
  8335 03:1F09: D4 07        	pei	<R1+2
  8336 03:1F0B: D4 05        	pei	<R1
  8337 03:1F0D: 22 10 0E 03  	jsl	~~k_draw_pixel
  8338                        ;			if (b->b5 > 0)
  8339                        L10084:
  8340                        	.line	1105
  8341                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  8342 03:1F11: E2 20        	sep	#$20
  8343                        	longa	off
  8344 03:1F13: A7 15        	lda	[<L434+b_2]
  8345 03:1F15: 85 01        	sta	<R0
  8346 03:1F17: C2 20        	rep	#$20
  8347                        	longa	on
  8348 03:1F19: E2 20        	sep	#$20
  8349                        	longa	off
  8350 03:1F1B: 46 01        	lsr	<R0
  8351 03:1F1D: 46 01        	lsr	<R0
  8352 03:1F1F: C2 20        	rep	#$20
  8353                        	longa	on
  8354 03:1F21: E2 20        	sep	#$20
  8355                        	longa	off
  8356 03:1F23: A5 01        	lda	<R0
  8357 03:1F25: 29 01        	and	#<$1
  8358 03:1F27: 85 01        	sta	<R0
  8359 03:1F29: C2 20        	rep	#$20
  8360                        	longa	on
  8361 03:1F2B: E2 20        	sep	#$20
  8362                        	longa	off
  8363 03:1F2D: A9 00        	lda	#$0
  8364 03:1F2F: C5 01        	cmp	<R0
  8365 03:1F31: C2 20        	rep	#$20
  8366                        	longa	on
  8367 03:1F33: 90 03        	bcc	L447
  8368 03:1F35: 82 35 00     	brl	L10085
  8369                        L447:
  8370                        	.line	1106
  8371 03:1F38: D4 26        	pei	<L433+color_0
  8372 03:1F3A: 18           	clc
  8373 03:1F3B: A5 0F        	lda	<L434+textY_1
  8374 03:1F3D: 65 0B        	adc	<L434+y_1
  8375 03:1F3F: 85 01        	sta	<R0
  8376 03:1F41: A0 00 00     	ldy	#$0
  8377 03:1F44: A5 01        	lda	<R0
  8378 03:1F46: 10 01        	bpl	L448
  8379 03:1F48: 88           	dey
  Thu Dec  3 2020 22:25                                                Page 157


  8380                        L448:
  8381 03:1F49: 85 01        	sta	<R0
  8382 03:1F4B: 84 03        	sty	<R0+2
  8383 03:1F4D: D4 03        	pei	<R0+2
  8384 03:1F4F: D4 01        	pei	<R0
  8385 03:1F51: 18           	clc
  8386 03:1F52: A9 05 00     	lda	#$5
  8387 03:1F55: 65 0D        	adc	<L434+textX_1
  8388 03:1F57: 85 05        	sta	<R1
  8389 03:1F59: A0 00 00     	ldy	#$0
  8390 03:1F5C: A5 05        	lda	<R1
  8391 03:1F5E: 10 01        	bpl	L449
  8392 03:1F60: 88           	dey
  8393                        L449:
  8394 03:1F61: 85 05        	sta	<R1
  8395 03:1F63: 84 07        	sty	<R1+2
  8396 03:1F65: D4 07        	pei	<R1+2
  8397 03:1F67: D4 05        	pei	<R1
  8398 03:1F69: 22 10 0E 03  	jsl	~~k_draw_pixel
  8399                        ;			if (b->b4 > 0)
  8400                        L10085:
  8401                        	.line	1107
  8402                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  8403 03:1F6D: E2 20        	sep	#$20
  8404                        	longa	off
  8405 03:1F6F: A7 15        	lda	[<L434+b_2]
  8406 03:1F71: 85 01        	sta	<R0
  8407 03:1F73: C2 20        	rep	#$20
  8408                        	longa	on
  8409 03:1F75: E2 20        	sep	#$20
  8410                        	longa	off
  8411 03:1F77: 46 01        	lsr	<R0
  8412 03:1F79: 46 01        	lsr	<R0
  8413 03:1F7B: 46 01        	lsr	<R0
  8414 03:1F7D: C2 20        	rep	#$20
  8415                        	longa	on
  8416 03:1F7F: E2 20        	sep	#$20
  8417                        	longa	off
  8418 03:1F81: A5 01        	lda	<R0
  8419 03:1F83: 29 01        	and	#<$1
  8420 03:1F85: 85 01        	sta	<R0
  8421 03:1F87: C2 20        	rep	#$20
  8422                        	longa	on
  8423 03:1F89: E2 20        	sep	#$20
  8424                        	longa	off
  8425 03:1F8B: A9 00        	lda	#$0
  8426 03:1F8D: C5 01        	cmp	<R0
  8427 03:1F8F: C2 20        	rep	#$20
  8428                        	longa	on
  8429 03:1F91: 90 03        	bcc	L450
  8430 03:1F93: 82 35 00     	brl	L10086
  8431                        L450:
  8432                        	.line	1108
  8433 03:1F96: D4 26        	pei	<L433+color_0
  8434 03:1F98: 18           	clc
  8435 03:1F99: A5 0F        	lda	<L434+textY_1
  8436 03:1F9B: 65 0B        	adc	<L434+y_1
  Thu Dec  3 2020 22:25                                                Page 158


  8437 03:1F9D: 85 01        	sta	<R0
  8438 03:1F9F: A0 00 00     	ldy	#$0
  8439 03:1FA2: A5 01        	lda	<R0
  8440 03:1FA4: 10 01        	bpl	L451
  8441 03:1FA6: 88           	dey
  8442                        L451:
  8443 03:1FA7: 85 01        	sta	<R0
  8444 03:1FA9: 84 03        	sty	<R0+2
  8445 03:1FAB: D4 03        	pei	<R0+2
  8446 03:1FAD: D4 01        	pei	<R0
  8447 03:1FAF: 18           	clc
  8448 03:1FB0: A9 04 00     	lda	#$4
  8449 03:1FB3: 65 0D        	adc	<L434+textX_1
  8450 03:1FB5: 85 05        	sta	<R1
  8451 03:1FB7: A0 00 00     	ldy	#$0
  8452 03:1FBA: A5 05        	lda	<R1
  8453 03:1FBC: 10 01        	bpl	L452
  8454 03:1FBE: 88           	dey
  8455                        L452:
  8456 03:1FBF: 85 05        	sta	<R1
  8457 03:1FC1: 84 07        	sty	<R1+2
  8458 03:1FC3: D4 07        	pei	<R1+2
  8459 03:1FC5: D4 05        	pei	<R1
  8460 03:1FC7: 22 10 0E 03  	jsl	~~k_draw_pixel
  8461                        ;			if (b->b3 > 0)
  8462                        L10086:
  8463                        	.line	1109
  8464                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  8465 03:1FCB: E2 20        	sep	#$20
  8466                        	longa	off
  8467 03:1FCD: A7 15        	lda	[<L434+b_2]
  8468 03:1FCF: 85 01        	sta	<R0
  8469 03:1FD1: C2 20        	rep	#$20
  8470                        	longa	on
  8471 03:1FD3: E2 20        	sep	#$20
  8472                        	longa	off
  8473 03:1FD5: 46 01        	lsr	<R0
  8474 03:1FD7: 46 01        	lsr	<R0
  8475 03:1FD9: 46 01        	lsr	<R0
  8476 03:1FDB: 46 01        	lsr	<R0
  8477 03:1FDD: C2 20        	rep	#$20
  8478                        	longa	on
  8479 03:1FDF: E2 20        	sep	#$20
  8480                        	longa	off
  8481 03:1FE1: A5 01        	lda	<R0
  8482 03:1FE3: 29 01        	and	#<$1
  8483 03:1FE5: 85 01        	sta	<R0
  8484 03:1FE7: C2 20        	rep	#$20
  8485                        	longa	on
  8486 03:1FE9: E2 20        	sep	#$20
  8487                        	longa	off
  8488 03:1FEB: A9 00        	lda	#$0
  8489 03:1FED: C5 01        	cmp	<R0
  8490 03:1FEF: C2 20        	rep	#$20
  8491                        	longa	on
  8492 03:1FF1: 90 03        	bcc	L453
  8493 03:1FF3: 82 35 00     	brl	L10087
  Thu Dec  3 2020 22:25                                                Page 159


  8494                        L453:
  8495                        	.line	1110
  8496 03:1FF6: D4 26        	pei	<L433+color_0
  8497 03:1FF8: 18           	clc
  8498 03:1FF9: A5 0F        	lda	<L434+textY_1
  8499 03:1FFB: 65 0B        	adc	<L434+y_1
  8500 03:1FFD: 85 01        	sta	<R0
  8501 03:1FFF: A0 00 00     	ldy	#$0
  8502 03:2002: A5 01        	lda	<R0
  8503 03:2004: 10 01        	bpl	L454
  8504 03:2006: 88           	dey
  8505                        L454:
  8506 03:2007: 85 01        	sta	<R0
  8507 03:2009: 84 03        	sty	<R0+2
  8508 03:200B: D4 03        	pei	<R0+2
  8509 03:200D: D4 01        	pei	<R0
  8510 03:200F: 18           	clc
  8511 03:2010: A9 03 00     	lda	#$3
  8512 03:2013: 65 0D        	adc	<L434+textX_1
  8513 03:2015: 85 05        	sta	<R1
  8514 03:2017: A0 00 00     	ldy	#$0
  8515 03:201A: A5 05        	lda	<R1
  8516 03:201C: 10 01        	bpl	L455
  8517 03:201E: 88           	dey
  8518                        L455:
  8519 03:201F: 85 05        	sta	<R1
  8520 03:2021: 84 07        	sty	<R1+2
  8521 03:2023: D4 07        	pei	<R1+2
  8522 03:2025: D4 05        	pei	<R1
  8523 03:2027: 22 10 0E 03  	jsl	~~k_draw_pixel
  8524                        ;			if (b->b2 > 0)
  8525                        L10087:
  8526                        	.line	1111
  8527                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  8528 03:202B: E2 20        	sep	#$20
  8529                        	longa	off
  8530 03:202D: A7 15        	lda	[<L434+b_2]
  8531 03:202F: 85 01        	sta	<R0
  8532 03:2031: C2 20        	rep	#$20
  8533                        	longa	on
  8534 03:2033: E2 20        	sep	#$20
  8535                        	longa	off
  8536 03:2035: 46 01        	lsr	<R0
  8537 03:2037: 46 01        	lsr	<R0
  8538 03:2039: 46 01        	lsr	<R0
  8539 03:203B: 46 01        	lsr	<R0
  8540 03:203D: 46 01        	lsr	<R0
  8541 03:203F: C2 20        	rep	#$20
  8542                        	longa	on
  8543 03:2041: E2 20        	sep	#$20
  8544                        	longa	off
  8545 03:2043: A5 01        	lda	<R0
  8546 03:2045: 29 01        	and	#<$1
  8547 03:2047: 85 01        	sta	<R0
  8548 03:2049: C2 20        	rep	#$20
  8549                        	longa	on
  8550 03:204B: E2 20        	sep	#$20
  Thu Dec  3 2020 22:25                                                Page 160


  8551                        	longa	off
  8552 03:204D: A9 00        	lda	#$0
  8553 03:204F: C5 01        	cmp	<R0
  8554 03:2051: C2 20        	rep	#$20
  8555                        	longa	on
  8556 03:2053: 90 03        	bcc	L456
  8557 03:2055: 82 35 00     	brl	L10088
  8558                        L456:
  8559                        	.line	1112
  8560 03:2058: D4 26        	pei	<L433+color_0
  8561 03:205A: 18           	clc
  8562 03:205B: A5 0F        	lda	<L434+textY_1
  8563 03:205D: 65 0B        	adc	<L434+y_1
  8564 03:205F: 85 01        	sta	<R0
  8565 03:2061: A0 00 00     	ldy	#$0
  8566 03:2064: A5 01        	lda	<R0
  8567 03:2066: 10 01        	bpl	L457
  8568 03:2068: 88           	dey
  8569                        L457:
  8570 03:2069: 85 01        	sta	<R0
  8571 03:206B: 84 03        	sty	<R0+2
  8572 03:206D: D4 03        	pei	<R0+2
  8573 03:206F: D4 01        	pei	<R0
  8574 03:2071: 18           	clc
  8575 03:2072: A9 02 00     	lda	#$2
  8576 03:2075: 65 0D        	adc	<L434+textX_1
  8577 03:2077: 85 05        	sta	<R1
  8578 03:2079: A0 00 00     	ldy	#$0
  8579 03:207C: A5 05        	lda	<R1
  8580 03:207E: 10 01        	bpl	L458
  8581 03:2080: 88           	dey
  8582                        L458:
  8583 03:2081: 85 05        	sta	<R1
  8584 03:2083: 84 07        	sty	<R1+2
  8585 03:2085: D4 07        	pei	<R1+2
  8586 03:2087: D4 05        	pei	<R1
  8587 03:2089: 22 10 0E 03  	jsl	~~k_draw_pixel
  8588                        ;			if (b->b1 > 0)
  8589                        L10088:
  8590                        	.line	1113
  8591                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  8592 03:208D: E2 20        	sep	#$20
  8593                        	longa	off
  8594 03:208F: A7 15        	lda	[<L434+b_2]
  8595 03:2091: 85 01        	sta	<R0
  8596 03:2093: C2 20        	rep	#$20
  8597                        	longa	on
  8598 03:2095: E2 20        	sep	#$20
  8599                        	longa	off
  8600 03:2097: 46 01        	lsr	<R0
  8601 03:2099: 46 01        	lsr	<R0
  8602 03:209B: 46 01        	lsr	<R0
  8603 03:209D: 46 01        	lsr	<R0
  8604 03:209F: 46 01        	lsr	<R0
  8605 03:20A1: 46 01        	lsr	<R0
  8606 03:20A3: C2 20        	rep	#$20
  8607                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 161


  8608 03:20A5: E2 20        	sep	#$20
  8609                        	longa	off
  8610 03:20A7: A5 01        	lda	<R0
  8611 03:20A9: 29 01        	and	#<$1
  8612 03:20AB: 85 01        	sta	<R0
  8613 03:20AD: C2 20        	rep	#$20
  8614                        	longa	on
  8615 03:20AF: E2 20        	sep	#$20
  8616                        	longa	off
  8617 03:20B1: A9 00        	lda	#$0
  8618 03:20B3: C5 01        	cmp	<R0
  8619 03:20B5: C2 20        	rep	#$20
  8620                        	longa	on
  8621 03:20B7: 90 03        	bcc	L459
  8622 03:20B9: 82 32 00     	brl	L10089
  8623                        L459:
  8624                        	.line	1114
  8625 03:20BC: D4 26        	pei	<L433+color_0
  8626 03:20BE: 18           	clc
  8627 03:20BF: A5 0F        	lda	<L434+textY_1
  8628 03:20C1: 65 0B        	adc	<L434+y_1
  8629 03:20C3: 85 01        	sta	<R0
  8630 03:20C5: A0 00 00     	ldy	#$0
  8631 03:20C8: A5 01        	lda	<R0
  8632 03:20CA: 10 01        	bpl	L460
  8633 03:20CC: 88           	dey
  8634                        L460:
  8635 03:20CD: 85 01        	sta	<R0
  8636 03:20CF: 84 03        	sty	<R0+2
  8637 03:20D1: D4 03        	pei	<R0+2
  8638 03:20D3: D4 01        	pei	<R0
  8639 03:20D5: A5 0D        	lda	<L434+textX_1
  8640 03:20D7: 1A           	ina
  8641 03:20D8: 85 05        	sta	<R1
  8642 03:20DA: A0 00 00     	ldy	#$0
  8643 03:20DD: A5 05        	lda	<R1
  8644 03:20DF: 10 01        	bpl	L461
  8645 03:20E1: 88           	dey
  8646                        L461:
  8647 03:20E2: 85 05        	sta	<R1
  8648 03:20E4: 84 07        	sty	<R1+2
  8649 03:20E6: D4 07        	pei	<R1+2
  8650 03:20E8: D4 05        	pei	<R1
  8651 03:20EA: 22 10 0E 03  	jsl	~~k_draw_pixel
  8652                        ;			if (b->b0 > 0)
  8653                        L10089:
  8654                        	.line	1115
  8655                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  8656 03:20EE: E2 20        	sep	#$20
  8657                        	longa	off
  8658 03:20F0: A7 15        	lda	[<L434+b_2]
  8659 03:20F2: 85 01        	sta	<R0
  8660 03:20F4: C2 20        	rep	#$20
  8661                        	longa	on
  8662 03:20F6: E2 20        	sep	#$20
  8663                        	longa	off
  8664 03:20F8: 46 01        	lsr	<R0
  Thu Dec  3 2020 22:25                                                Page 162


  8665 03:20FA: 46 01        	lsr	<R0
  8666 03:20FC: 46 01        	lsr	<R0
  8667 03:20FE: 46 01        	lsr	<R0
  8668 03:2100: 46 01        	lsr	<R0
  8669 03:2102: 46 01        	lsr	<R0
  8670 03:2104: 46 01        	lsr	<R0
  8671 03:2106: C2 20        	rep	#$20
  8672                        	longa	on
  8673 03:2108: E2 20        	sep	#$20
  8674                        	longa	off
  8675 03:210A: A9 00        	lda	#$0
  8676 03:210C: C5 01        	cmp	<R0
  8677 03:210E: C2 20        	rep	#$20
  8678                        	longa	on
  8679 03:2110: 90 03        	bcc	L462
  8680 03:2112: 82 2D 00     	brl	L10090
  8681                        L462:
  8682                        	.line	1116
  8683 03:2115: D4 26        	pei	<L433+color_0
  8684 03:2117: 18           	clc
  8685 03:2118: A5 0F        	lda	<L434+textY_1
  8686 03:211A: 65 0B        	adc	<L434+y_1
  8687 03:211C: 85 01        	sta	<R0
  8688 03:211E: A0 00 00     	ldy	#$0
  8689 03:2121: A5 01        	lda	<R0
  8690 03:2123: 10 01        	bpl	L463
  8691 03:2125: 88           	dey
  8692                        L463:
  8693 03:2126: 85 01        	sta	<R0
  8694 03:2128: 84 03        	sty	<R0+2
  8695 03:212A: D4 03        	pei	<R0+2
  8696 03:212C: D4 01        	pei	<R0
  8697 03:212E: A0 00 00     	ldy	#$0
  8698 03:2131: A5 0D        	lda	<L434+textX_1
  8699 03:2133: 10 01        	bpl	L464
  8700 03:2135: 88           	dey
  8701                        L464:
  8702 03:2136: 85 05        	sta	<R1
  8703 03:2138: 84 07        	sty	<R1+2
  8704 03:213A: D4 07        	pei	<R1+2
  8705 03:213C: D4 05        	pei	<R1
  8706 03:213E: 22 10 0E 03  	jsl	~~k_draw_pixel
  8707                        ;
  8708                        ;		} // end "for y"
  8709                        L10090:
  8710                        	.endblock	1118
  8711                        	.line	1118
  8712                        L10079:
  8713 03:2142: E6 0B        	inc	<L434+y_1
  8714                        L10082:
  8715 03:2144: 22 B3 71 03  	jsl	~~k_font_getFontHeight
  8716 03:2148: 85 01        	sta	<R0
  8717 03:214A: A5 0B        	lda	<L434+y_1
  8718 03:214C: C5 01        	cmp	<R0
  8719 03:214E: B0 03        	bcs	L465
  8720 03:2150: 82 F7 FC     	brl	L10081
  8721                        L465:
  8722                        L10080:
  Thu Dec  3 2020 22:25                                                Page 163


  8723                        ;	}
  8724                        	.line	1119
  8725                        ;	return FONTW;
  8726                        L10078:
  8727                        	.line	1120
  8728 03:2153: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  8729                        L466:
  8730 03:2157: A8           	tay
  8731 03:2158: A5 1A        	lda	<L433+2
  8732 03:215A: 85 26        	sta	<L433+2+12
  8733 03:215C: A5 19        	lda	<L433+1
  8734 03:215E: 85 25        	sta	<L433+1+12
  8735 03:2160: 2B           	pld
  8736 03:2161: 3B           	tsc
  8737 03:2162: 18           	clc
  8738 03:2163: 69 24 00     	adc	#L433+12
  8739 03:2166: 1B           	tcs
  8740 03:2167: 98           	tya
  8741 03:2168: 6B           	rtl
  8742                        ;}
  8743                        	.line	1121
  8744                        	.endblock	1121
  8745             00000018   L433	equ	24
  8746             00000009   L434	equ	9
  8747 03:2169:              	ends
  8748                        	efunc
  8749                        	.endfunc	1121,9,24
  8750                        	.line	1121
  8751                        ;
  8752                        ;/*
  8753                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
  8754                        ;{
  8755                        ;	int x = 0;
  8756                        ;	int y = 0;
  8757                        ;	int textX = cx;
  8758                        ;	int textY = cy;
  8759                        ;
  8760                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  8761                        ;
  8762                        ;    if(outChar == 32)
  8763                        ;	{
  8764                        ;	   img = NULL;//fontSpace;
  8765                        ;    }
  8766                        ;    else
  8767                        ;	{
  8768                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  8769                        ;    	img = fontSet+=(height*outChar);
  8770                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  8771                        ;	}
  8772                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  8773                        ;
  8774                        ;	// get the font 'image'
  8775                        ;        //char *img = fontImg[ix];
  Thu Dec  3 2020 22:25                                                Page 164


  8776                        ;        // loop through pixel rows
  8777                        ;	if(img!=NULL)
  8778                        ;	{
  8779                        ;		for (y = 0; y < height; y++)
  8780                        ;		{
  8781                        ;			// get the pixel value
  8782                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  8783                        ;			if (b->b7 > 0)
  8784                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  8785                        ;			if (b->b6 > 0)
  8786                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  8787                        ;			if (b->b5 > 0)
  8788                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  8789                        ;			if (b->b4 > 0)
  8790                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  8791                        ;			if (b->b3 > 0)
  8792                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  8793                        ;			if (b->b2 > 0)
  8794                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  8795                        ;			if (b->b1 > 0)
  8796                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  8797                        ;			if (b->b0 > 0)
  8798                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  8799                        ;
  8800                        ;		} // end "for y"
  8801                        ;	}
  8802                        ;	return FONTW;
  8803                        ;}
  8804                        ;*/
  8805                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
  8806                        ;{
  8807                        	.line	1176
  8808                        	.line	1177
  8809                        	GUI
  8810                        	xdef	~~k_put_binary_variablefont_point
  8811                        	func
  8812                        	.function	1177
  8813                        ~~k_put_binary_variablefont_point:
  8814                        	longa	on
  8815                        	longi	on
  8816 03:2169: 3B           	tsc
  8817 03:216A: 38           	sec
  8818 03:216B: E9 15 00     	sbc	#L467
  8819 03:216E: 1B           	tcs
  8820 03:216F: 0B           	phd
  8821 03:2170: 5B           	tcd
  8822             00000004   fontSet_0	set	4
  Thu Dec  3 2020 22:25                                                Page 165


  8823             00000008   outChar_0	set	8
  8824             0000000A   cx_0	set	10
  8825             0000000C   cy_0	set	12
  8826             0000000E   width_0	set	14
  8827             00000010   height_0	set	16
  8828             00000012   color_0	set	18
  8829                        	.block	1177
  8830                        ;	int x = 0;
  8831                        ;	int y = 0;
  8832                        ;	int textX = cx;
  8833                        ;	int textY = cy;
  8834                        ;	char tmp;
  8835                        ;
  8836                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  8837                        ;
  8838                        ;    if(outChar == 32)
  8839             00000000   x_1	set	0
  8840             00000002   y_1	set	2
  8841             00000004   textX_1	set	4
  8842             00000006   textY_1	set	6
  8843             00000008   tmp_1	set	8
  8844             00000009   img_1	set	9
  8845                        	.sym	x,0,5,1,16
  8846                        	.sym	y,2,5,1,16
  8847                        	.sym	textX,4,5,1,16
  8848                        	.sym	textY,6,5,1,16
  8849                        	.sym	tmp,8,14,1,8
  8850                        	.sym	img,9,142,1,32
  8851                        	.sym	fontSet,4,142,6,32
  8852                        	.sym	outChar,8,14,6,8
  8853                        	.sym	cx,10,5,6,16
  8854                        	.sym	cy,12,5,6,16
  8855                        	.sym	width,14,5,6,16
  8856                        	.sym	height,16,5,6,16
  8857                        	.sym	color,18,14,6,8
  8858 03:2171: 64 09        	stz	<L468+x_1
  8859 03:2173: 64 0B        	stz	<L468+y_1
  8860 03:2175: A5 1F        	lda	<L467+cx_0
  8861 03:2177: 85 0D        	sta	<L468+textX_1
  8862 03:2179: A5 21        	lda	<L467+cy_0
  8863 03:217B: 85 0F        	sta	<L468+textY_1
  8864 03:217D: 64 12        	stz	<L468+img_1
  8865 03:217F: 64 14        	stz	<L468+img_1+2
  8866                        	.line	1186
  8867                        ;	{
  8868 03:2181: E2 20        	sep	#$20
  8869                        	longa	off
  8870 03:2183: A5 1D        	lda	<L467+outChar_0
  8871 03:2185: C9 20        	cmp	#<$20
  8872 03:2187: C2 20        	rep	#$20
  8873                        	longa	on
  8874 03:2189: F0 03        	beq	L470
  8875 03:218B: 82 07 00     	brl	L10091
  8876                        L470:
  8877                        	.line	1187
  8878                        ;	   img = NULL;//fontSpace;
  8879                        	.line	1188
  8880 03:218E: 64 12        	stz	<L468+img_1
  Thu Dec  3 2020 22:25                                                Page 166


  8881 03:2190: 64 14        	stz	<L468+img_1+2
  8882                        ;    }
  8883                        	.line	1189
  8884                        ;    else
  8885 03:2192: 82 32 00     	brl	L10092
  8886                        L10091:
  8887                        ;	{
  8888                        	.line	1191
  8889                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  8890                        ;    	img = fontSet+=(height*outChar);
  8891                        	.line	1193
  8892 03:2195: A5 1D        	lda	<L467+outChar_0
  8893 03:2197: 29 FF 00     	and	#$ff
  8894 03:219A: 85 01        	sta	<R0
  8895 03:219C: A5 01        	lda	<R0
  8896 03:219E: A6 25        	ldx	<L467+height_0
  8897                        	xref	~~~mul
  8898 03:21A0: 22 xx xx xx  	jsl	~~~mul
  8899 03:21A4: 85 01        	sta	<R0
  8900 03:21A6: A0 00 00     	ldy	#$0
  8901 03:21A9: A5 01        	lda	<R0
  8902 03:21AB: 10 01        	bpl	L471
  8903 03:21AD: 88           	dey
  8904                        L471:
  8905 03:21AE: 85 01        	sta	<R0
  8906 03:21B0: 84 03        	sty	<R0+2
  8907 03:21B2: 18           	clc
  8908 03:21B3: A5 19        	lda	<L467+fontSet_0
  8909 03:21B5: 65 01        	adc	<R0
  8910 03:21B7: 85 19        	sta	<L467+fontSet_0
  8911 03:21B9: A5 1B        	lda	<L467+fontSet_0+2
  8912 03:21BB: 65 03        	adc	<R0+2
  8913 03:21BD: 85 1B        	sta	<L467+fontSet_0+2
  8914 03:21BF: A5 19        	lda	<L467+fontSet_0
  8915 03:21C1: 85 12        	sta	<L468+img_1
  8916 03:21C3: A5 1B        	lda	<L467+fontSet_0+2
  8917 03:21C5: 85 14        	sta	<L468+img_1+2
  8918                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  8919                        ;	}
  8920                        	.line	1195
  8921                        L10092:
  8922                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  8923                        ;
  8924                        ;	// get the font 'image'
  8925                        ;        //char *img = fontImg[ix];
  8926                        ;        // loop through pixel rows
  8927                        ;	if(img!=NULL)
  8928                        	.line	1201
  8929                        ;	{
  8930 03:21C7: A5 12        	lda	<L468+img_1
  8931 03:21C9: 05 14        	ora	<L468+img_1+2
  8932 03:21CB: D0 03        	bne	L472
  8933 03:21CD: 82 7D 00     	brl	L10093
  8934                        L472:
  8935                        	.line	1202
  Thu Dec  3 2020 22:25                                                Page 167


  8936                        ;		for (y = 0; y < height; y++)
  8937                        	.line	1203
  8938 03:21D0: 64 0B        	stz	<L468+y_1
  8939 03:21D2: 82 69 00     	brl	L10097
  8940                        L10096:
  8941                        ;		{
  8942                        	.line	1204
  8943                        ;			tmp = img[y];
  8944                        	.line	1205
  8945 03:21D5: E2 20        	sep	#$20
  8946                        	longa	off
  8947 03:21D7: A4 0B        	ldy	<L468+y_1
  8948 03:21D9: B7 12        	lda	[<L468+img_1],Y
  8949 03:21DB: 85 11        	sta	<L468+tmp_1
  8950 03:21DD: C2 20        	rep	#$20
  8951                        	longa	on
  8952                        ;
  8953                        ;			for (x = 0; x < width; x++)
  8954                        	.line	1207
  8955 03:21DF: 64 09        	stz	<L468+x_1
  8956 03:21E1: 82 49 00     	brl	L10101
  8957                        L10100:
  8958                        ;			{
  8959                        	.line	1208
  8960                        ;				if(tmp & 0x80 )
  8961                        	.line	1209
  8962                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  8963 03:21E4: E2 20        	sep	#$20
  8964                        	longa	off
  8965 03:21E6: A5 11        	lda	<L468+tmp_1
  8966 03:21E8: 29 80        	and	#<$80
  8967 03:21EA: C2 20        	rep	#$20
  8968                        	longa	on
  8969 03:21EC: D0 03        	bne	L473
  8970 03:21EE: 82 34 00     	brl	L10102
  8971                        L473:
  8972                        	.line	1210
  8973 03:21F1: D4 27        	pei	<L467+color_0
  8974 03:21F3: 18           	clc
  8975 03:21F4: A5 0F        	lda	<L468+textY_1
  8976 03:21F6: 65 0B        	adc	<L468+y_1
  8977 03:21F8: 85 01        	sta	<R0
  8978 03:21FA: A0 00 00     	ldy	#$0
  8979 03:21FD: A5 01        	lda	<R0
  8980 03:21FF: 10 01        	bpl	L474
  8981 03:2201: 88           	dey
  8982                        L474:
  8983 03:2202: 85 01        	sta	<R0
  8984 03:2204: 84 03        	sty	<R0+2
  8985 03:2206: D4 03        	pei	<R0+2
  8986 03:2208: D4 01        	pei	<R0
  8987 03:220A: 18           	clc
  8988 03:220B: A5 0D        	lda	<L468+textX_1
  8989 03:220D: 65 09        	adc	<L468+x_1
  8990 03:220F: 85 05        	sta	<R1
  8991 03:2211: A0 00 00     	ldy	#$0
  8992 03:2214: A5 05        	lda	<R1
  Thu Dec  3 2020 22:25                                                Page 168


  8993 03:2216: 10 01        	bpl	L475
  8994 03:2218: 88           	dey
  8995                        L475:
  8996 03:2219: 85 05        	sta	<R1
  8997 03:221B: 84 07        	sty	<R1+2
  8998 03:221D: D4 07        	pei	<R1+2
  8999 03:221F: D4 05        	pei	<R1
  9000 03:2221: 22 10 0E 03  	jsl	~~k_draw_pixel
  9001                        ;
  9002                        ;				tmp = tmp << 1;
  9003                        L10102:
  9004                        	.line	1212
  9005 03:2225: E2 20        	sep	#$20
  9006                        	longa	off
  9007 03:2227: 06 11        	asl	<L468+tmp_1
  9008 03:2229: C2 20        	rep	#$20
  9009                        	longa	on
  9010                        ;			}
  9011                        	.line	1213
  9012                        L10098:
  9013 03:222B: E6 09        	inc	<L468+x_1
  9014                        L10101:
  9015 03:222D: 38           	sec
  9016 03:222E: A5 09        	lda	<L468+x_1
  9017 03:2230: E5 23        	sbc	<L467+width_0
  9018 03:2232: 70 03        	bvs	L476
  9019 03:2234: 49 00 80     	eor	#$8000
  9020                        L476:
  9021 03:2237: 30 03        	bmi	L477
  9022 03:2239: 82 A8 FF     	brl	L10100
  9023                        L477:
  9024                        L10099:
  9025                        ;			// get the pixel value
  9026                        ;			/*
  9027                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  9028                        ;			if (b->b7 > 0)
  9029                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  9030                        ;			if (b->b6 > 0)
  9031                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  9032                        ;			if (b->b5 > 0)
  9033                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  9034                        ;			if (b->b4 > 0)
  9035                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  9036                        ;			if (b->b3 > 0)
  9037                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  9038                        ;			if (b->b2 > 0)
  9039                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  9040                        ;			if (b->b1 > 0)
  9041                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  9042                        ;			if (b->b0 > 0)
  Thu Dec  3 2020 22:25                                                Page 169


  9043                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  9044                        ;			*/
  9045                        ;		} // end "for y"
  9046                        	.line	1234
  9047                        L10094:
  9048 03:223C: E6 0B        	inc	<L468+y_1
  9049                        L10097:
  9050 03:223E: 38           	sec
  9051 03:223F: A5 0B        	lda	<L468+y_1
  9052 03:2241: E5 25        	sbc	<L467+height_0
  9053 03:2243: 70 03        	bvs	L478
  9054 03:2245: 49 00 80     	eor	#$8000
  9055                        L478:
  9056 03:2248: 30 03        	bmi	L479
  9057 03:224A: 82 88 FF     	brl	L10096
  9058                        L479:
  9059                        L10095:
  9060                        ;	}
  9061                        	.line	1235
  9062                        ;	return FONTW;
  9063                        L10093:
  9064                        	.line	1236
  9065 03:224D: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9066                        L480:
  9067 03:2251: A8           	tay
  9068 03:2252: A5 17        	lda	<L467+2
  9069 03:2254: 85 27        	sta	<L467+2+16
  9070 03:2256: A5 16        	lda	<L467+1
  9071 03:2258: 85 26        	sta	<L467+1+16
  9072 03:225A: 2B           	pld
  9073 03:225B: 3B           	tsc
  9074 03:225C: 18           	clc
  9075 03:225D: 69 25 00     	adc	#L467+16
  9076 03:2260: 1B           	tcs
  9077 03:2261: 98           	tya
  9078 03:2262: 6B           	rtl
  9079                        ;}
  9080                        	.line	1237
  9081                        	.endblock	1237
  9082             00000015   L467	equ	21
  9083             00000009   L468	equ	9
  9084 03:2263:              	ends
  9085                        	efunc
  9086                        	.endfunc	1237,9,21
  9087                        	.line	1237
  9088                        ;
  9089                        ;int k_put_binary_variablefont_point_ex(LPCHAR fon
                    tSet, char outChar,int cx,int cy,int width,int height,char c
                    olor,UINT page)
  9090                        ;{
  9091                        	.line	1239
  9092                        	.line	1240
  9093                        	GUI
  9094                        	xdef	~~k_put_binary_variablefont_point_ex
  9095                        	func
  9096                        	.function	1240
  9097                        ~~k_put_binary_variablefont_point_ex:
  Thu Dec  3 2020 22:25                                                Page 170


  9098                        	longa	on
  9099                        	longi	on
  9100 03:2263: 3B           	tsc
  9101 03:2264: 38           	sec
  9102 03:2265: E9 15 00     	sbc	#L481
  9103 03:2268: 1B           	tcs
  9104 03:2269: 0B           	phd
  9105 03:226A: 5B           	tcd
  9106             00000004   fontSet_0	set	4
  9107             00000008   outChar_0	set	8
  9108             0000000A   cx_0	set	10
  9109             0000000C   cy_0	set	12
  9110             0000000E   width_0	set	14
  9111             00000010   height_0	set	16
  9112             00000012   color_0	set	18
  9113             00000014   page_0	set	20
  9114                        	.block	1240
  9115                        ;	int x = 0;
  9116                        ;	int y = 0;
  9117                        ;	int textX = cx;
  9118                        ;	int textY = cy;
  9119                        ;	char tmp;
  9120                        ;
  9121                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  9122                        ;
  9123                        ;    if(outChar == 32)
  9124             00000000   x_1	set	0
  9125             00000002   y_1	set	2
  9126             00000004   textX_1	set	4
  9127             00000006   textY_1	set	6
  9128             00000008   tmp_1	set	8
  9129             00000009   img_1	set	9
  9130                        	.sym	x,0,5,1,16
  9131                        	.sym	y,2,5,1,16
  9132                        	.sym	textX,4,5,1,16
  9133                        	.sym	textY,6,5,1,16
  9134                        	.sym	tmp,8,14,1,8
  9135                        	.sym	img,9,142,1,32
  9136                        	.sym	fontSet,4,142,6,32
  9137                        	.sym	outChar,8,14,6,8
  9138                        	.sym	cx,10,5,6,16
  9139                        	.sym	cy,12,5,6,16
  9140                        	.sym	width,14,5,6,16
  9141                        	.sym	height,16,5,6,16
  9142                        	.sym	color,18,14,6,8
  9143                        	.sym	page,20,16,6,16
  9144 03:226B: 64 09        	stz	<L482+x_1
  9145 03:226D: 64 0B        	stz	<L482+y_1
  9146 03:226F: A5 1F        	lda	<L481+cx_0
  9147 03:2271: 85 0D        	sta	<L482+textX_1
  9148 03:2273: A5 21        	lda	<L481+cy_0
  9149 03:2275: 85 0F        	sta	<L482+textY_1
  9150 03:2277: 64 12        	stz	<L482+img_1
  9151 03:2279: 64 14        	stz	<L482+img_1+2
  9152                        	.line	1249
  9153                        ;	{
  9154 03:227B: E2 20        	sep	#$20
  9155                        	longa	off
  Thu Dec  3 2020 22:25                                                Page 171


  9156 03:227D: A5 1D        	lda	<L481+outChar_0
  9157 03:227F: C9 20        	cmp	#<$20
  9158 03:2281: C2 20        	rep	#$20
  9159                        	longa	on
  9160 03:2283: F0 03        	beq	L484
  9161 03:2285: 82 07 00     	brl	L10103
  9162                        L484:
  9163                        	.line	1250
  9164                        ;	   img = NULL;//fontSpace;
  9165                        	.line	1251
  9166 03:2288: 64 12        	stz	<L482+img_1
  9167 03:228A: 64 14        	stz	<L482+img_1+2
  9168                        ;    }
  9169                        	.line	1252
  9170                        ;    else
  9171 03:228C: 82 32 00     	brl	L10104
  9172                        L10103:
  9173                        ;	{
  9174                        	.line	1254
  9175                        ;    	img = fontSet+=(height*outChar);
  9176                        	.line	1255
  9177 03:228F: A5 1D        	lda	<L481+outChar_0
  9178 03:2291: 29 FF 00     	and	#$ff
  9179 03:2294: 85 01        	sta	<R0
  9180 03:2296: A5 01        	lda	<R0
  9181 03:2298: A6 25        	ldx	<L481+height_0
  9182                        	xref	~~~mul
  9183 03:229A: 22 xx xx xx  	jsl	~~~mul
  9184 03:229E: 85 01        	sta	<R0
  9185 03:22A0: A0 00 00     	ldy	#$0
  9186 03:22A3: A5 01        	lda	<R0
  9187 03:22A5: 10 01        	bpl	L485
  9188 03:22A7: 88           	dey
  9189                        L485:
  9190 03:22A8: 85 01        	sta	<R0
  9191 03:22AA: 84 03        	sty	<R0+2
  9192 03:22AC: 18           	clc
  9193 03:22AD: A5 19        	lda	<L481+fontSet_0
  9194 03:22AF: 65 01        	adc	<R0
  9195 03:22B1: 85 19        	sta	<L481+fontSet_0
  9196 03:22B3: A5 1B        	lda	<L481+fontSet_0+2
  9197 03:22B5: 65 03        	adc	<R0+2
  9198 03:22B7: 85 1B        	sta	<L481+fontSet_0+2
  9199 03:22B9: A5 19        	lda	<L481+fontSet_0
  9200 03:22BB: 85 12        	sta	<L482+img_1
  9201 03:22BD: A5 1B        	lda	<L481+fontSet_0+2
  9202 03:22BF: 85 14        	sta	<L482+img_1+2
  9203                        ;	}
  9204                        	.line	1256
  9205                        L10104:
  9206                        ;
  9207                        ;    if(img!=NULL)
  9208                        	.line	1258
  9209                        ;	{
  9210 03:22C1: A5 12        	lda	<L482+img_1
  9211 03:22C3: 05 14        	ora	<L482+img_1+2
  9212 03:22C5: D0 03        	bne	L486
  9213 03:22C7: 82 7F 00     	brl	L10105
  Thu Dec  3 2020 22:25                                                Page 172


  9214                        L486:
  9215                        	.line	1259
  9216                        ;		for (y = 0; y < height; y++)
  9217                        	.line	1260
  9218 03:22CA: 64 0B        	stz	<L482+y_1
  9219 03:22CC: 82 6B 00     	brl	L10109
  9220                        L10108:
  9221                        ;		{
  9222                        	.line	1261
  9223                        ;			tmp = img[y];
  9224                        	.line	1262
  9225 03:22CF: E2 20        	sep	#$20
  9226                        	longa	off
  9227 03:22D1: A4 0B        	ldy	<L482+y_1
  9228 03:22D3: B7 12        	lda	[<L482+img_1],Y
  9229 03:22D5: 85 11        	sta	<L482+tmp_1
  9230 03:22D7: C2 20        	rep	#$20
  9231                        	longa	on
  9232                        ;
  9233                        ;			for (x = 0; x < width; x++)
  9234                        	.line	1264
  9235 03:22D9: 64 09        	stz	<L482+x_1
  9236 03:22DB: 82 4B 00     	brl	L10113
  9237                        L10112:
  9238                        ;			{
  9239                        	.line	1265
  9240                        ;				if(tmp & 0x80 )
  9241                        	.line	1266
  9242                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, color, page);
  9243 03:22DE: E2 20        	sep	#$20
  9244                        	longa	off
  9245 03:22E0: A5 11        	lda	<L482+tmp_1
  9246 03:22E2: 29 80        	and	#<$80
  9247 03:22E4: C2 20        	rep	#$20
  9248                        	longa	on
  9249 03:22E6: D0 03        	bne	L487
  9250 03:22E8: 82 36 00     	brl	L10114
  9251                        L487:
  9252                        	.line	1267
  9253 03:22EB: D4 29        	pei	<L481+page_0
  9254 03:22ED: D4 27        	pei	<L481+color_0
  9255 03:22EF: 18           	clc
  9256 03:22F0: A5 0F        	lda	<L482+textY_1
  9257 03:22F2: 65 0B        	adc	<L482+y_1
  9258 03:22F4: 85 01        	sta	<R0
  9259 03:22F6: A0 00 00     	ldy	#$0
  9260 03:22F9: A5 01        	lda	<R0
  9261 03:22FB: 10 01        	bpl	L488
  9262 03:22FD: 88           	dey
  9263                        L488:
  9264 03:22FE: 85 01        	sta	<R0
  9265 03:2300: 84 03        	sty	<R0+2
  9266 03:2302: D4 03        	pei	<R0+2
  9267 03:2304: D4 01        	pei	<R0
  9268 03:2306: 18           	clc
  9269 03:2307: A5 0D        	lda	<L482+textX_1
  9270 03:2309: 65 09        	adc	<L482+x_1
  Thu Dec  3 2020 22:25                                                Page 173


  9271 03:230B: 85 05        	sta	<R1
  9272 03:230D: A0 00 00     	ldy	#$0
  9273 03:2310: A5 05        	lda	<R1
  9274 03:2312: 10 01        	bpl	L489
  9275 03:2314: 88           	dey
  9276                        L489:
  9277 03:2315: 85 05        	sta	<R1
  9278 03:2317: 84 07        	sty	<R1+2
  9279 03:2319: D4 07        	pei	<R1+2
  9280 03:231B: D4 05        	pei	<R1
  9281 03:231D: 22 5E 0E 03  	jsl	~~k_draw_pixel_ex
  9282                        ;
  9283                        ;				tmp = tmp << 1;
  9284                        L10114:
  9285                        	.line	1269
  9286 03:2321: E2 20        	sep	#$20
  9287                        	longa	off
  9288 03:2323: 06 11        	asl	<L482+tmp_1
  9289 03:2325: C2 20        	rep	#$20
  9290                        	longa	on
  9291                        ;			}
  9292                        	.line	1270
  9293                        L10110:
  9294 03:2327: E6 09        	inc	<L482+x_1
  9295                        L10113:
  9296 03:2329: 38           	sec
  9297 03:232A: A5 09        	lda	<L482+x_1
  9298 03:232C: E5 23        	sbc	<L481+width_0
  9299 03:232E: 70 03        	bvs	L490
  9300 03:2330: 49 00 80     	eor	#$8000
  9301                        L490:
  9302 03:2333: 30 03        	bmi	L491
  9303 03:2335: 82 A6 FF     	brl	L10112
  9304                        L491:
  9305                        L10111:
  9306                        ;		} // end "for y"
  9307                        	.line	1271
  9308                        L10106:
  9309 03:2338: E6 0B        	inc	<L482+y_1
  9310                        L10109:
  9311 03:233A: 38           	sec
  9312 03:233B: A5 0B        	lda	<L482+y_1
  9313 03:233D: E5 25        	sbc	<L481+height_0
  9314 03:233F: 70 03        	bvs	L492
  9315 03:2341: 49 00 80     	eor	#$8000
  9316                        L492:
  9317 03:2344: 30 03        	bmi	L493
  9318 03:2346: 82 86 FF     	brl	L10108
  9319                        L493:
  9320                        L10107:
  9321                        ;	}
  9322                        	.line	1272
  9323                        ;	return FONTW;
  9324                        L10105:
  9325                        	.line	1273
  9326 03:2349: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9327                        L494:
  9328 03:234D: A8           	tay
  Thu Dec  3 2020 22:25                                                Page 174


  9329 03:234E: A5 17        	lda	<L481+2
  9330 03:2350: 85 29        	sta	<L481+2+18
  9331 03:2352: A5 16        	lda	<L481+1
  9332 03:2354: 85 28        	sta	<L481+1+18
  9333 03:2356: 2B           	pld
  9334 03:2357: 3B           	tsc
  9335 03:2358: 18           	clc
  9336 03:2359: 69 27 00     	adc	#L481+18
  9337 03:235C: 1B           	tcs
  9338 03:235D: 98           	tya
  9339 03:235E: 6B           	rtl
  9340                        ;}
  9341                        	.line	1274
  9342                        	.endblock	1274
  9343             00000015   L481	equ	21
  9344             00000009   L482	equ	9
  9345 03:235F:              	ends
  9346                        	efunc
  9347                        	.endfunc	1274,9,21
  9348                        	.line	1274
  9349                        ;
  9350                        ;
  9351                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
  9352                        ;{
  9353                        	.line	1277
  9354                        	.line	1278
  9355                        	GUI
  9356                        	xdef	~~k_render_wingadget
  9357                        	func
  9358                        	.function	1278
  9359                        ~~k_render_wingadget:
  9360                        	longa	on
  9361                        	longi	on
  9362 03:235F: 3B           	tsc
  9363 03:2360: 38           	sec
  9364 03:2361: E9 0A 00     	sbc	#L495
  9365 03:2364: 1B           	tcs
  9366 03:2365: 0B           	phd
  9367 03:2366: 5B           	tcd
  9368             00000004   gadgetCode_0	set	4
  9369             00000006   cx_0	set	6
  9370             00000008   cy_0	set	8
  9371             0000000A   color_0	set	10
  9372             0000000C   callback_0	set	12
  9373                        	.block	1278
  9374                        ;	PCLICKDETECTED pcd = NULL;
  9375                        ;
  9376                        ;	int retCode = 0;
  9377                        ;
  9378                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
  9379             00000000   pcd_1	set	0
  9380             00000004   retCode_1	set	4
  9381                        	.sym	pcd,0,138,1,32,53
  9382                        	.sym	retCode,4,5,1,16
  9383                        	.sym	gadgetCode,4,14,6,8
  9384                        	.sym	cx,6,5,6,16
  9385                        	.sym	cy,8,5,6,16
  Thu Dec  3 2020 22:25                                                Page 175


  9386                        	.sym	color,10,14,6,8
  9387                        	.sym	callback,12,641,6,32
  9388 03:2367: 64 05        	stz	<L496+pcd_1
  9389 03:2369: 64 07        	stz	<L496+pcd_1+2
  9390 03:236B: 64 09        	stz	<L496+retCode_1
  9391                        	.line	1283
  9392 03:236D: D4 14        	pei	<L495+color_0
  9393 03:236F: D4 12        	pei	<L495+cy_0
  9394 03:2371: D4 10        	pei	<L495+cx_0
  9395 03:2373: D4 0E        	pei	<L495+gadgetCode_0
  9396 03:2375: 22 EA 23 03  	jsl	~~k_put_wingadget_point
  9397                        ;
  9398                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
  9399                        	.line	1285
  9400 03:2379: F4 08 00     	pea	#<$8
  9401 03:237C: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9402 03:2380: 85 05        	sta	<L496+pcd_1
  9403 03:2382: 86 07        	stx	<L496+pcd_1+2
  9404                        ;	if(pcd)
  9405                        	.line	1286
  9406                        ;	{
  9407 03:2384: A5 05        	lda	<L496+pcd_1
  9408 03:2386: 05 07        	ora	<L496+pcd_1+2
  9409 03:2388: D0 03        	bne	L498
  9410 03:238A: 82 49 00     	brl	L10115
  9411                        L498:
  9412                        	.line	1287
  9413                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
  9414                        	.line	1288
  9415 03:238D: F4 00 00     	pea	#^$0
  9416 03:2390: F4 00 00     	pea	#<$0
  9417 03:2393: F4 xx xx     	pea	#^L402+5
  9418 03:2396: F4 xx xx     	pea	#<L402+5
  9419 03:2399: F4 xx xx     	pea	#^L402
  9420 03:239C: F4 xx xx     	pea	#<L402
  9421 03:239F: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9422 03:23A3: 48           	pha
  9423 03:23A4: 22 B3 71 03  	jsl	~~k_font_getFontHeight
  9424 03:23A8: 48           	pha
  9425 03:23A9: D4 12        	pei	<L495+cy_0
  9426 03:23AB: D4 10        	pei	<L495+cx_0
  9427 03:23AD: 22 85 38 03  	jsl	~~k_create_ui_window_class
  9428 03:23B1: 85 01        	sta	<R0
  9429 03:23B3: 86 03        	stx	<R0+2
  9430 03:23B5: A5 01        	lda	<R0
  9431 03:23B7: 87 05        	sta	[<L496+pcd_1]
  9432 03:23B9: A5 03        	lda	<R0+2
  9433 03:23BB: A0 02 00     	ldy	#$2
  9434 03:23BE: 97 05        	sta	[<L496+pcd_1],Y
  9435                        ;		pcd->handler = callback;
  9436                        	.line	1289
  9437 03:23C0: A5 16        	lda	<L495+callback_0
  9438 03:23C2: A0 04 00     	ldy	#$4
  9439 03:23C5: 97 05        	sta	[<L496+pcd_1],Y
  9440 03:23C7: A5 18        	lda	<L495+callback_0+2
  9441 03:23C9: A0 06 00     	ldy	#$6
  Thu Dec  3 2020 22:25                                                Page 176


  9442 03:23CC: 97 05        	sta	[<L496+pcd_1],Y
  9443                        ;		k_add_window_hit_node(pcd);
  9444                        	.line	1290
  9445 03:23CE: D4 07        	pei	<L496+pcd_1+2
  9446 03:23D0: D4 05        	pei	<L496+pcd_1
  9447 03:23D2: 22 47 5A 03  	jsl	~~k_add_window_hit_node
  9448                        ;	}
  9449                        	.line	1291
  9450                        ;
  9451                        ;	return retCode;
  9452                        L10115:
  9453                        	.line	1293
  9454 03:23D6: A5 09        	lda	<L496+retCode_1
  9455                        L499:
  9456 03:23D8: A8           	tay
  9457 03:23D9: A5 0C        	lda	<L495+2
  9458 03:23DB: 85 18        	sta	<L495+2+12
  9459 03:23DD: A5 0B        	lda	<L495+1
  9460 03:23DF: 85 17        	sta	<L495+1+12
  9461 03:23E1: 2B           	pld
  9462 03:23E2: 3B           	tsc
  9463 03:23E3: 18           	clc
  9464 03:23E4: 69 16 00     	adc	#L495+12
  9465 03:23E7: 1B           	tcs
  9466 03:23E8: 98           	tya
  9467 03:23E9: 6B           	rtl
  9468                        ;}
  9469                        	.line	1294
  9470                        	.endblock	1294
  9471             0000000A   L495	equ	10
  9472             00000005   L496	equ	5
  9473 03:23EA:              	ends
  9474                        	efunc
  9475                        	.endfunc	1294,5,10
  9476                        	.line	1294
  9477                        	data
  9478                        L402:
  9479 00:081A: 64 69 73 6B  	db	$64,$69,$73,$6B,$00,$67,$61,$64,$67,$65,
                    $74,$00
       00:081E: 00 67 61 64 
       00:0822: 67 65 74 00 
  9480 00:0826:              	ends
  9481                        ;
  9482                        ;
  9483                        ;
  9484                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
  9485                        ;{
  9486                        	.line	1298
  9487                        	.line	1299
  9488                        	GUI
  9489                        	xdef	~~k_put_wingadget_point
  9490                        	func
  9491                        	.function	1299
  9492                        ~~k_put_wingadget_point:
  9493                        	longa	on
  9494                        	longi	on
  9495 03:23EA: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 177


  9496 03:23EB: 38           	sec
  9497 03:23EC: E9 15 00     	sbc	#L501
  9498 03:23EF: 1B           	tcs
  9499 03:23F0: 0B           	phd
  9500 03:23F1: 5B           	tcd
  9501             00000004   gadgetCode_0	set	4
  9502             00000006   cx_0	set	6
  9503             00000008   cy_0	set	8
  9504             0000000A   color_0	set	10
  9505                        	.block	1299
  9506                        ;	int x = 0;
  9507                        ;	int y = 0;
  9508                        ;	int textX = cx;
  9509                        ;	int textY = cy;
  9510                        ;
  9511                        ;	char FAR* img = NULL;//fontImg[ix];
  9512                        ;
  9513                        ;
  9514                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
  9515             00000000   x_1	set	0
  9516             00000002   y_1	set	2
  9517             00000004   textX_1	set	4
  9518             00000006   textY_1	set	6
  9519             00000008   img_1	set	8
  9520                        	.sym	x,0,5,1,16
  9521                        	.sym	y,2,5,1,16
  9522                        	.sym	textX,4,5,1,16
  9523                        	.sym	textY,6,5,1,16
  9524                        	.sym	img,8,142,1,32
  9525                        	.sym	gadgetCode,4,14,6,8
  9526                        	.sym	cx,6,5,6,16
  9527                        	.sym	cy,8,5,6,16
  9528                        	.sym	color,10,14,6,8
  9529 03:23F2: 64 09        	stz	<L502+x_1
  9530 03:23F4: 64 0B        	stz	<L502+y_1
  9531 03:23F6: A5 1B        	lda	<L501+cx_0
  9532 03:23F8: 85 0D        	sta	<L502+textX_1
  9533 03:23FA: A5 1D        	lda	<L501+cy_0
  9534 03:23FC: 85 0F        	sta	<L502+textY_1
  9535 03:23FE: 64 11        	stz	<L502+img_1
  9536 03:2400: 64 13        	stz	<L502+img_1+2
  9537                        	.line	1308
  9538 03:2402: A5 19        	lda	<L501+gadgetCode_0
  9539 03:2404: 29 FF 00     	and	#<$ff
  9540 03:2407: 85 05        	sta	<R1
  9541 03:2409: A0 00 00     	ldy	#$0
  9542 03:240C: A5 05        	lda	<R1
  9543 03:240E: 10 01        	bpl	L504
  9544 03:2410: 88           	dey
  9545                        L504:
  9546 03:2411: 85 05        	sta	<R1
  9547 03:2413: 84 07        	sty	<R1+2
  9548 03:2415: D4 07        	pei	<R1+2
  9549 03:2417: D4 05        	pei	<R1
  9550 03:2419: A9 06 00     	lda	#$6
  9551                        	xref	~~~lasl
  9552 03:241C: 22 xx xx xx  	jsl	~~~lasl
  Thu Dec  3 2020 22:25                                                Page 178


  9553 03:2420: 85 01        	sta	<R0
  9554 03:2422: 86 03        	stx	<R0+2
  9555 03:2424: 18           	clc
  9556 03:2425: A9 xx xx     	lda	#<~~windowChromeImg
  9557 03:2428: 65 01        	adc	<R0
  9558 03:242A: 85 11        	sta	<L502+img_1
  9559 03:242C: A9 xx xx     	lda	#^~~windowChromeImg
  9560 03:242F: 65 03        	adc	<R0+2
  9561 03:2431: 85 13        	sta	<L502+img_1+2
  9562                        ;	if(img!=NULL)
  9563                        	.line	1309
  9564                        ;	{
  9565 03:2433: A5 11        	lda	<L502+img_1
  9566 03:2435: 05 13        	ora	<L502+img_1+2
  9567 03:2437: D0 03        	bne	L505
  9568 03:2439: 82 91 00     	brl	L10116
  9569                        L505:
  9570                        	.line	1310
  9571                        ;		for (y = 0; y < FONTH; y++) 
  9572                        	.line	1311
  9573 03:243C: 64 0B        	stz	<L502+y_1
  9574 03:243E: 82 7D 00     	brl	L10120
  9575                        L10119:
  9576                        ;		{
  9577                        	.line	1312
  9578                        ;			// loop through pixel columns
  9579                        ;			for (x = 0; x < FONTW; x++) 
  9580                        	.line	1314
  9581 03:2441: 64 09        	stz	<L502+x_1
  9582 03:2443: 82 67 00     	brl	L10124
  9583                        L10123:
  9584                        ;			{
  9585                        	.line	1315
  9586                        ;				// get the pixel value
  9587                        ;				char b = img[y * FONTW +
                     x];
  9588                        ;				if (b > 0) 
  9589                        	.block	1318
  9590             0000000C   b_2	set	12
  9591                        	.sym	b,12,14,1,8
  9592 03:2446: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9593 03:244A: 85 01        	sta	<R0
  9594 03:244C: A5 01        	lda	<R0
  9595 03:244E: A6 0B        	ldx	<L502+y_1
  9596                        	xref	~~~mul
  9597 03:2450: 22 xx xx xx  	jsl	~~~mul
  9598 03:2454: 85 01        	sta	<R0
  9599 03:2456: 18           	clc
  9600 03:2457: A5 01        	lda	<R0
  9601 03:2459: 65 09        	adc	<L502+x_1
  9602 03:245B: 85 05        	sta	<R1
  9603 03:245D: E2 20        	sep	#$20
  9604                        	longa	off
  9605 03:245F: A4 05        	ldy	<R1
  9606 03:2461: B7 11        	lda	[<L502+img_1],Y
  9607 03:2463: 85 15        	sta	<L502+b_2
  9608 03:2465: C2 20        	rep	#$20
  9609                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 179


  9610                        	.line	1318
  9611                        ;				{ // plot the pixel
  9612 03:2467: E2 20        	sep	#$20
  9613                        	longa	off
  9614 03:2469: A9 00        	lda	#$0
  9615 03:246B: C5 15        	cmp	<L502+b_2
  9616 03:246D: C2 20        	rep	#$20
  9617                        	longa	on
  9618 03:246F: 90 03        	bcc	L507
  9619 03:2471: 82 37 00     	brl	L10125
  9620                        L507:
  9621                        	.line	1319
  9622                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  9623                        	.line	1320
  9624 03:2474: D4 1F        	pei	<L501+color_0
  9625 03:2476: 18           	clc
  9626 03:2477: A5 0F        	lda	<L502+textY_1
  9627 03:2479: 65 0B        	adc	<L502+y_1
  9628 03:247B: 85 01        	sta	<R0
  9629 03:247D: A0 00 00     	ldy	#$0
  9630 03:2480: A5 01        	lda	<R0
  9631 03:2482: 10 01        	bpl	L508
  9632 03:2484: 88           	dey
  9633                        L508:
  9634 03:2485: 85 01        	sta	<R0
  9635 03:2487: 84 03        	sty	<R0+2
  9636 03:2489: D4 03        	pei	<R0+2
  9637 03:248B: D4 01        	pei	<R0
  9638 03:248D: 18           	clc
  9639 03:248E: A5 0D        	lda	<L502+textX_1
  9640 03:2490: 65 09        	adc	<L502+x_1
  9641 03:2492: 85 05        	sta	<R1
  9642 03:2494: A0 00 00     	ldy	#$0
  9643 03:2497: A5 05        	lda	<R1
  9644 03:2499: 10 01        	bpl	L509
  9645 03:249B: 88           	dey
  9646                        L509:
  9647 03:249C: 85 05        	sta	<R1
  9648 03:249E: 84 07        	sty	<R1+2
  9649 03:24A0: D4 07        	pei	<R1+2
  9650 03:24A2: D4 05        	pei	<R1
  9651 03:24A4: 22 10 0E 03  	jsl	~~k_draw_pixel
  9652                        ;				}
  9653                        	.line	1321
  9654                        ;				else 
  9655 03:24A8: 82 00 00     	brl	L10126
  9656                        L10125:
  9657                        ;				{ 
  9658                        	.line	1323
  9659                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9660                        ;				}
  9661                        	.line	1325
  9662                        L10126:
  9663                        ;			} // end "for x"
  9664                        	.endblock	1326
  9665                        	.line	1326
  Thu Dec  3 2020 22:25                                                Page 180


  9666                        L10121:
  9667 03:24AB: E6 09        	inc	<L502+x_1
  9668                        L10124:
  9669 03:24AD: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9670 03:24B1: 85 01        	sta	<R0
  9671 03:24B3: A5 09        	lda	<L502+x_1
  9672 03:24B5: C5 01        	cmp	<R0
  9673 03:24B7: B0 03        	bcs	L510
  9674 03:24B9: 82 8A FF     	brl	L10123
  9675                        L510:
  9676                        L10122:
  9677                        ;		} // end "for y"
  9678                        	.line	1327
  9679                        L10117:
  9680 03:24BC: E6 0B        	inc	<L502+y_1
  9681                        L10120:
  9682 03:24BE: 22 B3 71 03  	jsl	~~k_font_getFontHeight
  9683 03:24C2: 85 01        	sta	<R0
  9684 03:24C4: A5 0B        	lda	<L502+y_1
  9685 03:24C6: C5 01        	cmp	<R0
  9686 03:24C8: B0 03        	bcs	L511
  9687 03:24CA: 82 74 FF     	brl	L10119
  9688                        L511:
  9689                        L10118:
  9690                        ;	}
  9691                        	.line	1328
  9692                        ;	return FONTW;
  9693                        L10116:
  9694                        	.line	1329
  9695 03:24CD: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9696                        L512:
  9697 03:24D1: A8           	tay
  9698 03:24D2: A5 17        	lda	<L501+2
  9699 03:24D4: 85 1F        	sta	<L501+2+8
  9700 03:24D6: A5 16        	lda	<L501+1
  9701 03:24D8: 85 1E        	sta	<L501+1+8
  9702 03:24DA: 2B           	pld
  9703 03:24DB: 3B           	tsc
  9704 03:24DC: 18           	clc
  9705 03:24DD: 69 1D 00     	adc	#L501+8
  9706 03:24E0: 1B           	tcs
  9707 03:24E1: 98           	tya
  9708 03:24E2: 6B           	rtl
  9709                        ;}
  9710                        	.line	1330
  9711                        	.endblock	1330
  9712             00000015   L501	equ	21
  9713             00000009   L502	equ	9
  9714 03:24E3:              	ends
  9715                        	efunc
  9716                        	.endfunc	1330,9,21
  9717                        	.line	1330
  9718                        ;
  9719                        ;int k_put_wingadget_point_ex(char gadgetCode,int 
                    cx,int cy,char color,UINT page)
  9720                        ;{
  9721                        	.line	1332
  9722                        	.line	1333
  Thu Dec  3 2020 22:25                                                Page 181


  9723                        	GUI
  9724                        	xdef	~~k_put_wingadget_point_ex
  9725                        	func
  9726                        	.function	1333
  9727                        ~~k_put_wingadget_point_ex:
  9728                        	longa	on
  9729                        	longi	on
  9730 03:24E3: 3B           	tsc
  9731 03:24E4: 38           	sec
  9732 03:24E5: E9 15 00     	sbc	#L513
  9733 03:24E8: 1B           	tcs
  9734 03:24E9: 0B           	phd
  9735 03:24EA: 5B           	tcd
  9736             00000004   gadgetCode_0	set	4
  9737             00000006   cx_0	set	6
  9738             00000008   cy_0	set	8
  9739             0000000A   color_0	set	10
  9740             0000000C   page_0	set	12
  9741                        	.block	1333
  9742                        ;	int x = 0;
  9743                        ;	int y = 0;
  9744                        ;	int textX = cx;
  9745                        ;	int textY = cy;
  9746                        ;
  9747                        ;	char FAR* img = NULL;//fontImg[ix];
  9748                        ;
  9749                        ;
  9750                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
  9751             00000000   x_1	set	0
  9752             00000002   y_1	set	2
  9753             00000004   textX_1	set	4
  9754             00000006   textY_1	set	6
  9755             00000008   img_1	set	8
  9756                        	.sym	x,0,5,1,16
  9757                        	.sym	y,2,5,1,16
  9758                        	.sym	textX,4,5,1,16
  9759                        	.sym	textY,6,5,1,16
  9760                        	.sym	img,8,142,1,32
  9761                        	.sym	gadgetCode,4,14,6,8
  9762                        	.sym	cx,6,5,6,16
  9763                        	.sym	cy,8,5,6,16
  9764                        	.sym	color,10,14,6,8
  9765                        	.sym	page,12,16,6,16
  9766 03:24EB: 64 09        	stz	<L514+x_1
  9767 03:24ED: 64 0B        	stz	<L514+y_1
  9768 03:24EF: A5 1B        	lda	<L513+cx_0
  9769 03:24F1: 85 0D        	sta	<L514+textX_1
  9770 03:24F3: A5 1D        	lda	<L513+cy_0
  9771 03:24F5: 85 0F        	sta	<L514+textY_1
  9772 03:24F7: 64 11        	stz	<L514+img_1
  9773 03:24F9: 64 13        	stz	<L514+img_1+2
  9774                        	.line	1342
  9775 03:24FB: A5 19        	lda	<L513+gadgetCode_0
  9776 03:24FD: 29 FF 00     	and	#<$ff
  9777 03:2500: 85 05        	sta	<R1
  9778 03:2502: A0 00 00     	ldy	#$0
  9779 03:2505: A5 05        	lda	<R1
  Thu Dec  3 2020 22:25                                                Page 182


  9780 03:2507: 10 01        	bpl	L516
  9781 03:2509: 88           	dey
  9782                        L516:
  9783 03:250A: 85 05        	sta	<R1
  9784 03:250C: 84 07        	sty	<R1+2
  9785 03:250E: D4 07        	pei	<R1+2
  9786 03:2510: D4 05        	pei	<R1
  9787 03:2512: A9 06 00     	lda	#$6
  9788                        	xref	~~~lasl
  9789 03:2515: 22 xx xx xx  	jsl	~~~lasl
  9790 03:2519: 85 01        	sta	<R0
  9791 03:251B: 86 03        	stx	<R0+2
  9792 03:251D: 18           	clc
  9793 03:251E: A9 xx xx     	lda	#<~~windowChromeImg
  9794 03:2521: 65 01        	adc	<R0
  9795 03:2523: 85 11        	sta	<L514+img_1
  9796 03:2525: A9 xx xx     	lda	#^~~windowChromeImg
  9797 03:2528: 65 03        	adc	<R0+2
  9798 03:252A: 85 13        	sta	<L514+img_1+2
  9799                        ;	if(img!=NULL)
  9800                        	.line	1343
  9801                        ;	{
  9802 03:252C: A5 11        	lda	<L514+img_1
  9803 03:252E: 05 13        	ora	<L514+img_1+2
  9804 03:2530: D0 03        	bne	L517
  9805 03:2532: 82 93 00     	brl	L10127
  9806                        L517:
  9807                        	.line	1344
  9808                        ;		for (y = 0; y < FONTH; y++)
  9809                        	.line	1345
  9810 03:2535: 64 0B        	stz	<L514+y_1
  9811 03:2537: 82 7F 00     	brl	L10131
  9812                        L10130:
  9813                        ;		{
  9814                        	.line	1346
  9815                        ;			// loop through pixel columns
  9816                        ;			for (x = 0; x < FONTW; x++)
  9817                        	.line	1348
  9818 03:253A: 64 09        	stz	<L514+x_1
  9819 03:253C: 82 69 00     	brl	L10135
  9820                        L10134:
  9821                        ;			{
  9822                        	.line	1349
  9823                        ;				// get the pixel value
  9824                        ;				char b = img[y * FONTW +
                     x];
  9825                        ;				if (b > 0)
  9826                        	.block	1352
  9827             0000000C   b_2	set	12
  9828                        	.sym	b,12,14,1,8
  9829 03:253F: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9830 03:2543: 85 01        	sta	<R0
  9831 03:2545: A5 01        	lda	<R0
  9832 03:2547: A6 0B        	ldx	<L514+y_1
  9833                        	xref	~~~mul
  9834 03:2549: 22 xx xx xx  	jsl	~~~mul
  9835 03:254D: 85 01        	sta	<R0
  9836 03:254F: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 183


  9837 03:2550: A5 01        	lda	<R0
  9838 03:2552: 65 09        	adc	<L514+x_1
  9839 03:2554: 85 05        	sta	<R1
  9840 03:2556: E2 20        	sep	#$20
  9841                        	longa	off
  9842 03:2558: A4 05        	ldy	<R1
  9843 03:255A: B7 11        	lda	[<L514+img_1],Y
  9844 03:255C: 85 15        	sta	<L514+b_2
  9845 03:255E: C2 20        	rep	#$20
  9846                        	longa	on
  9847                        	.line	1352
  9848                        ;				{ // plot the pixel
  9849 03:2560: E2 20        	sep	#$20
  9850                        	longa	off
  9851 03:2562: A9 00        	lda	#$0
  9852 03:2564: C5 15        	cmp	<L514+b_2
  9853 03:2566: C2 20        	rep	#$20
  9854                        	longa	on
  9855 03:2568: 90 03        	bcc	L519
  9856 03:256A: 82 39 00     	brl	L10136
  9857                        L519:
  9858                        	.line	1353
  9859                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, color,page);
  9860                        	.line	1354
  9861 03:256D: D4 21        	pei	<L513+page_0
  9862 03:256F: D4 1F        	pei	<L513+color_0
  9863 03:2571: 18           	clc
  9864 03:2572: A5 0F        	lda	<L514+textY_1
  9865 03:2574: 65 0B        	adc	<L514+y_1
  9866 03:2576: 85 01        	sta	<R0
  9867 03:2578: A0 00 00     	ldy	#$0
  9868 03:257B: A5 01        	lda	<R0
  9869 03:257D: 10 01        	bpl	L520
  9870 03:257F: 88           	dey
  9871                        L520:
  9872 03:2580: 85 01        	sta	<R0
  9873 03:2582: 84 03        	sty	<R0+2
  9874 03:2584: D4 03        	pei	<R0+2
  9875 03:2586: D4 01        	pei	<R0
  9876 03:2588: 18           	clc
  9877 03:2589: A5 0D        	lda	<L514+textX_1
  9878 03:258B: 65 09        	adc	<L514+x_1
  9879 03:258D: 85 05        	sta	<R1
  9880 03:258F: A0 00 00     	ldy	#$0
  9881 03:2592: A5 05        	lda	<R1
  9882 03:2594: 10 01        	bpl	L521
  9883 03:2596: 88           	dey
  9884                        L521:
  9885 03:2597: 85 05        	sta	<R1
  9886 03:2599: 84 07        	sty	<R1+2
  9887 03:259B: D4 07        	pei	<R1+2
  9888 03:259D: D4 05        	pei	<R1
  9889 03:259F: 22 5E 0E 03  	jsl	~~k_draw_pixel_ex
  9890                        ;				}
  9891                        	.line	1355
  9892                        ;				else
  9893 03:25A3: 82 00 00     	brl	L10137
  Thu Dec  3 2020 22:25                                                Page 184


  9894                        L10136:
  9895                        ;				{
  9896                        	.line	1357
  9897                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9898                        ;				}
  9899                        	.line	1359
  9900                        L10137:
  9901                        ;			} // end "for x"
  9902                        	.endblock	1360
  9903                        	.line	1360
  9904                        L10132:
  9905 03:25A6: E6 09        	inc	<L514+x_1
  9906                        L10135:
  9907 03:25A8: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9908 03:25AC: 85 01        	sta	<R0
  9909 03:25AE: A5 09        	lda	<L514+x_1
  9910 03:25B0: C5 01        	cmp	<R0
  9911 03:25B2: B0 03        	bcs	L522
  9912 03:25B4: 82 88 FF     	brl	L10134
  9913                        L522:
  9914                        L10133:
  9915                        ;		} // end "for y"
  9916                        	.line	1361
  9917                        L10128:
  9918 03:25B7: E6 0B        	inc	<L514+y_1
  9919                        L10131:
  9920 03:25B9: 22 B3 71 03  	jsl	~~k_font_getFontHeight
  9921 03:25BD: 85 01        	sta	<R0
  9922 03:25BF: A5 0B        	lda	<L514+y_1
  9923 03:25C1: C5 01        	cmp	<R0
  9924 03:25C3: B0 03        	bcs	L523
  9925 03:25C5: 82 72 FF     	brl	L10130
  9926                        L523:
  9927                        L10129:
  9928                        ;	}
  9929                        	.line	1362
  9930                        ;	return FONTW;
  9931                        L10127:
  9932                        	.line	1363
  9933 03:25C8: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  9934                        L524:
  9935 03:25CC: A8           	tay
  9936 03:25CD: A5 17        	lda	<L513+2
  9937 03:25CF: 85 21        	sta	<L513+2+10
  9938 03:25D1: A5 16        	lda	<L513+1
  9939 03:25D3: 85 20        	sta	<L513+1+10
  9940 03:25D5: 2B           	pld
  9941 03:25D6: 3B           	tsc
  9942 03:25D7: 18           	clc
  9943 03:25D8: 69 1F 00     	adc	#L513+10
  9944 03:25DB: 1B           	tcs
  9945 03:25DC: 98           	tya
  9946 03:25DD: 6B           	rtl
  9947                        ;}
  9948                        	.line	1364
  9949                        	.endblock	1364
  9950             00000015   L513	equ	21
  Thu Dec  3 2020 22:25                                                Page 185


  9951             00000009   L514	equ	9
  9952 03:25DE:              	ends
  9953                        	efunc
  9954                        	.endfunc	1364,9,21
  9955                        	.line	1364
  9956                        ;
  9957                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
  9958                        ;{
  9959                        	.line	1366
  9960                        	.line	1367
  9961                        	GUI
  9962                        	xdef	~~k_put_winicon_point
  9963                        	func
  9964                        	.function	1367
  9965                        ~~k_put_winicon_point:
  9966                        	longa	on
  9967                        	longi	on
  9968 03:25DE: 3B           	tsc
  9969 03:25DF: 38           	sec
  9970 03:25E0: E9 15 00     	sbc	#L525
  9971 03:25E3: 1B           	tcs
  9972 03:25E4: 0B           	phd
  9973 03:25E5: 5B           	tcd
  9974             00000004   iconCode_0	set	4
  9975             00000006   cx_0	set	6
  9976             00000008   cy_0	set	8
  9977             0000000A   paletteId_0	set	10
  9978             0000000C   mode_0	set	12
  9979                        	.block	1367
  9980                        ;	int x = 0;
  9981                        ;	int y = 0;
  9982                        ;	int textX = cx;
  9983                        ;	int textY = cy;
  9984                        ;
  9985                        ;	char FAR* img = NULL;
  9986                        ;	
  9987                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
  9988             00000000   x_1	set	0
  9989             00000002   y_1	set	2
  9990             00000004   textX_1	set	4
  9991             00000006   textY_1	set	6
  9992             00000008   img_1	set	8
  9993                        	.sym	x,0,5,1,16
  9994                        	.sym	y,2,5,1,16
  9995                        	.sym	textX,4,5,1,16
  9996                        	.sym	textY,6,5,1,16
  9997                        	.sym	img,8,142,1,32
  9998                        	.sym	iconCode,4,14,6,8
  9999                        	.sym	cx,6,5,6,16
 10000                        	.sym	cy,8,5,6,16
 10001                        	.sym	paletteId,10,5,6,16
 10002                        	.sym	mode,12,5,6,16
 10003 03:25E6: 64 09        	stz	<L526+x_1
 10004 03:25E8: 64 0B        	stz	<L526+y_1
 10005 03:25EA: A5 1B        	lda	<L525+cx_0
 10006 03:25EC: 85 0D        	sta	<L526+textX_1
 10007 03:25EE: A5 1D        	lda	<L525+cy_0
  Thu Dec  3 2020 22:25                                                Page 186


 10008 03:25F0: 85 0F        	sta	<L526+textY_1
 10009 03:25F2: 64 11        	stz	<L526+img_1
 10010 03:25F4: 64 13        	stz	<L526+img_1+2
 10011                        	.line	1375
 10012 03:25F6: A5 19        	lda	<L525+iconCode_0
 10013 03:25F8: 29 FF 00     	and	#<$ff
 10014 03:25FB: 85 05        	sta	<R1
 10015 03:25FD: A0 00 00     	ldy	#$0
 10016 03:2600: A5 05        	lda	<R1
 10017 03:2602: 10 01        	bpl	L528
 10018 03:2604: 88           	dey
 10019                        L528:
 10020 03:2605: 85 05        	sta	<R1
 10021 03:2607: 84 07        	sty	<R1+2
 10022 03:2609: D4 07        	pei	<R1+2
 10023 03:260B: D4 05        	pei	<R1
 10024 03:260D: A9 08 00     	lda	#$8
 10025                        	xref	~~~lasl
 10026 03:2610: 22 xx xx xx  	jsl	~~~lasl
 10027 03:2614: 85 01        	sta	<R0
 10028 03:2616: 86 03        	stx	<R0+2
 10029 03:2618: 18           	clc
 10030 03:2619: A9 xx xx     	lda	#<~~windowIconImg
 10031 03:261C: 65 01        	adc	<R0
 10032 03:261E: 85 11        	sta	<L526+img_1
 10033 03:2620: A9 xx xx     	lda	#^~~windowIconImg
 10034 03:2623: 65 03        	adc	<R0+2
 10035 03:2625: 85 13        	sta	<L526+img_1+2
 10036                        ;	if(img!=NULL)
 10037                        	.line	1376
 10038                        ;	{
 10039 03:2627: A5 11        	lda	<L526+img_1
 10040 03:2629: 05 13        	ora	<L526+img_1+2
 10041 03:262B: D0 03        	bne	L529
 10042 03:262D: 82 BD 00     	brl	L10138
 10043                        L529:
 10044                        	.line	1377
 10045                        ;		for (y = 0; y < ICONH; y++) 
 10046                        	.line	1378
 10047 03:2630: 64 0B        	stz	<L526+y_1
 10048                        L10141:
 10049                        ;		{
 10050                        	.line	1379
 10051                        ;			for (x = 0; x < ICONW; x++) 
 10052                        	.line	1380
 10053 03:2632: 64 09        	stz	<L526+x_1
 10054                        L10144:
 10055                        ;			{
 10056                        	.line	1381
 10057                        ;				char b = img[y * ICONW +
                     x];
 10058                        ;				if (b > 0) 
 10059                        	.block	1383
 10060             0000000C   b_2	set	12
 10061                        	.sym	b,12,14,1,8
 10062 03:2634: A5 0B        	lda	<L526+y_1
 10063 03:2636: 0A           	asl	A
 10064 03:2637: 0A           	asl	A
  Thu Dec  3 2020 22:25                                                Page 187


 10065 03:2638: 0A           	asl	A
 10066 03:2639: 0A           	asl	A
 10067 03:263A: 85 01        	sta	<R0
 10068 03:263C: 18           	clc
 10069 03:263D: A5 01        	lda	<R0
 10070 03:263F: 65 09        	adc	<L526+x_1
 10071 03:2641: 85 05        	sta	<R1
 10072 03:2643: E2 20        	sep	#$20
 10073                        	longa	off
 10074 03:2645: A4 05        	ldy	<R1
 10075 03:2647: B7 11        	lda	[<L526+img_1],Y
 10076 03:2649: 85 15        	sta	<L526+b_2
 10077 03:264B: C2 20        	rep	#$20
 10078                        	longa	on
 10079                        	.line	1383
 10080                        ;				{
 10081 03:264D: E2 20        	sep	#$20
 10082                        	longa	off
 10083 03:264F: A9 00        	lda	#$0
 10084 03:2651: C5 15        	cmp	<L526+b_2
 10085 03:2653: C2 20        	rep	#$20
 10086                        	longa	on
 10087 03:2655: 90 03        	bcc	L531
 10088 03:2657: 82 68 00     	brl	L10145
 10089                        L531:
 10090                        	.line	1384
 10091                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 10092                        	.line	1385
 10093                        ;						b = pale
                    tteId;
 10094 03:265A: A5 21        	lda	<L525+mode_0
 10095 03:265C: C9 F0 00     	cmp	#<$f0
 10096 03:265F: F0 03        	beq	L532
 10097 03:2661: 82 08 00     	brl	L10146
 10098                        L532:
 10099                        	.line	1386
 10100 03:2664: E2 20        	sep	#$20
 10101                        	longa	off
 10102 03:2666: A5 1F        	lda	<L525+paletteId_0
 10103 03:2668: 85 15        	sta	<L526+b_2
 10104 03:266A: C2 20        	rep	#$20
 10105                        	longa	on
 10106                        ;
 10107                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 10108                        L10146:
 10109                        	.line	1388
 10110                        ;						b = pale
                    tteId;
 10111 03:266C: A5 21        	lda	<L525+mode_0
 10112 03:266E: C9 F1 00     	cmp	#<$f1
 10113 03:2671: F0 03        	beq	L533
 10114 03:2673: 82 15 00     	brl	L10147
 10115                        L533:
 10116 03:2676: E2 20        	sep	#$20
 10117                        	longa	off
 10118 03:2678: A5 15        	lda	<L526+b_2
  Thu Dec  3 2020 22:25                                                Page 188


 10119 03:267A: C9 0F        	cmp	#<$f
 10120 03:267C: C2 20        	rep	#$20
 10121                        	longa	on
 10122 03:267E: F0 03        	beq	L534
 10123 03:2680: 82 08 00     	brl	L10147
 10124                        L534:
 10125                        	.line	1389
 10126 03:2683: E2 20        	sep	#$20
 10127                        	longa	off
 10128 03:2685: A5 1F        	lda	<L525+paletteId_0
 10129 03:2687: 85 15        	sta	<L526+b_2
 10130 03:2689: C2 20        	rep	#$20
 10131                        	longa	on
 10132                        ;
 10133                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
 10134                        L10147:
 10135                        	.line	1391
 10136 03:268B: D4 15        	pei	<L526+b_2
 10137 03:268D: 18           	clc
 10138 03:268E: A5 0F        	lda	<L526+textY_1
 10139 03:2690: 65 0B        	adc	<L526+y_1
 10140 03:2692: 85 01        	sta	<R0
 10141 03:2694: A0 00 00     	ldy	#$0
 10142 03:2697: A5 01        	lda	<R0
 10143 03:2699: 10 01        	bpl	L535
 10144 03:269B: 88           	dey
 10145                        L535:
 10146 03:269C: 85 01        	sta	<R0
 10147 03:269E: 84 03        	sty	<R0+2
 10148 03:26A0: D4 03        	pei	<R0+2
 10149 03:26A2: D4 01        	pei	<R0
 10150 03:26A4: 18           	clc
 10151 03:26A5: A5 0D        	lda	<L526+textX_1
 10152 03:26A7: 65 09        	adc	<L526+x_1
 10153 03:26A9: 85 05        	sta	<R1
 10154 03:26AB: A0 00 00     	ldy	#$0
 10155 03:26AE: A5 05        	lda	<R1
 10156 03:26B0: 10 01        	bpl	L536
 10157 03:26B2: 88           	dey
 10158                        L536:
 10159 03:26B3: 85 05        	sta	<R1
 10160 03:26B5: 84 07        	sty	<R1+2
 10161 03:26B7: D4 07        	pei	<R1+2
 10162 03:26B9: D4 05        	pei	<R1
 10163 03:26BB: 22 10 0E 03  	jsl	~~k_draw_pixel
 10164                        ;				}
 10165                        	.line	1392
 10166                        ;				else 
 10167 03:26BF: 82 07 00     	brl	L10148
 10168                        L10145:
 10169                        ;				{ 
 10170                        	.line	1394
 10171                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 10172                        	.line	1395
 10173                        ;					{
 10174 03:26C2: A5 21        	lda	<L525+mode_0
  Thu Dec  3 2020 22:25                                                Page 189


 10175 03:26C4: D0 03        	bne	L537
 10176 03:26C6: 82 00 00     	brl	L10149
 10177                        L537:
 10178                        	.line	1396
 10179                        ;					
 10180                        ;					}
 10181                        	.line	1398
 10182                        ;				}
 10183                        L10149:
 10184                        	.line	1399
 10185                        L10148:
 10186                        ;			}
 10187                        	.endblock	1400
 10188                        	.line	1400
 10189                        L10142:
 10190 03:26C9: E6 09        	inc	<L526+x_1
 10191 03:26CB: 38           	sec
 10192 03:26CC: A5 09        	lda	<L526+x_1
 10193 03:26CE: E9 10 00     	sbc	#<$10
 10194 03:26D1: 70 03        	bvs	L538
 10195 03:26D3: 49 00 80     	eor	#$8000
 10196                        L538:
 10197 03:26D6: 30 03        	bmi	L539
 10198 03:26D8: 82 59 FF     	brl	L10144
 10199                        L539:
 10200                        L10143:
 10201                        ;		}
 10202                        	.line	1401
 10203                        L10139:
 10204 03:26DB: E6 0B        	inc	<L526+y_1
 10205 03:26DD: 38           	sec
 10206 03:26DE: A5 0B        	lda	<L526+y_1
 10207 03:26E0: E9 10 00     	sbc	#<$10
 10208 03:26E3: 70 03        	bvs	L540
 10209 03:26E5: 49 00 80     	eor	#$8000
 10210                        L540:
 10211 03:26E8: 30 03        	bmi	L541
 10212 03:26EA: 82 45 FF     	brl	L10141
 10213                        L541:
 10214                        L10140:
 10215                        ;	}
 10216                        	.line	1402
 10217                        ;	return FONTW;
 10218                        L10138:
 10219                        	.line	1403
 10220 03:26ED: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 10221                        L542:
 10222 03:26F1: A8           	tay
 10223 03:26F2: A5 17        	lda	<L525+2
 10224 03:26F4: 85 21        	sta	<L525+2+10
 10225 03:26F6: A5 16        	lda	<L525+1
 10226 03:26F8: 85 20        	sta	<L525+1+10
 10227 03:26FA: 2B           	pld
 10228 03:26FB: 3B           	tsc
 10229 03:26FC: 18           	clc
 10230 03:26FD: 69 1F 00     	adc	#L525+10
 10231 03:2700: 1B           	tcs
 10232 03:2701: 98           	tya
  Thu Dec  3 2020 22:25                                                Page 190


 10233 03:2702: 6B           	rtl
 10234                        ;}
 10235                        	.line	1404
 10236                        	.endblock	1404
 10237             00000015   L525	equ	21
 10238             00000009   L526	equ	9
 10239 03:2703:              	ends
 10240                        	efunc
 10241                        	.endfunc	1404,9,21
 10242                        	.line	1404
 10243                        ;
 10244                        ;
 10245                        ;/*
 10246                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
 10247                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
 10248                        ;
 10249                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
 10250                        ;
 10251                        ;		k_add_window_hit_node();
 10252                        ;
 10253                        ;
 10254                        ; */
 10255                        ;
 10256                        ;
 10257                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
 10258                        ;{
 10259                        	.line	1419
 10260                        	.line	1420
 10261                        	GUI
 10262                        	xdef	~~k_put_winicon_scaled
 10263                        	func
 10264                        	.function	1420
 10265                        ~~k_put_winicon_scaled:
 10266                        	longa	on
 10267                        	longi	on
 10268 03:2703: 3B           	tsc
 10269 03:2704: 38           	sec
 10270 03:2705: E9 25 00     	sbc	#L543
 10271 03:2708: 1B           	tcs
 10272 03:2709: 0B           	phd
 10273 03:270A: 5B           	tcd
 10274             00000004   iconCode_0	set	4
 10275             00000006   cx_0	set	6
 10276             00000008   cy_0	set	8
 10277             0000000A   paletteId_0	set	10
 10278             0000000C   mode_0	set	12
 10279             0000000E   scale_0	set	14
 10280                        	.block	1420
 10281                        ;	int x = 0;
 10282                        ;	int y = 0;
 10283                        ;
 10284                        ;	int height = ICONH * scale;
 10285                        ;	int width  = ICONW * scale;
  Thu Dec  3 2020 22:25                                                Page 191


 10286                        ;	
 10287                        ;	int textX = cx ;
 10288                        ;	int textY = cy ;
 10289                        ;
 10290                        ;	int px   = 0;
 10291                        ;	int py   = 0;
 10292                        ;	int offx = 0;
 10293                        ;	int offy = 0;
 10294                        ;	int sx   = 0;
 10295                        ;	int sy   = 0;
 10296                        ;
 10297                        ;	char b   = 0;
 10298                        ;
 10299                        ;	char FAR* img = NULL;
 10300                        ;
 10301                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
 10302             00000000   x_1	set	0
 10303             00000002   y_1	set	2
 10304             00000004   height_1	set	4
 10305             00000006   width_1	set	6
 10306             00000008   textX_1	set	8
 10307             0000000A   textY_1	set	10
 10308             0000000C   px_1	set	12
 10309             0000000E   py_1	set	14
 10310             00000010   offx_1	set	16
 10311             00000012   offy_1	set	18
 10312             00000014   sx_1	set	20
 10313             00000016   sy_1	set	22
 10314             00000018   b_1	set	24
 10315             00000019   img_1	set	25
 10316                        	.sym	x,0,5,1,16
 10317                        	.sym	y,2,5,1,16
 10318                        	.sym	height,4,5,1,16
 10319                        	.sym	width,6,5,1,16
 10320                        	.sym	textX,8,5,1,16
 10321                        	.sym	textY,10,5,1,16
 10322                        	.sym	px,12,5,1,16
 10323                        	.sym	py,14,5,1,16
 10324                        	.sym	offx,16,5,1,16
 10325                        	.sym	offy,18,5,1,16
 10326                        	.sym	sx,20,5,1,16
 10327                        	.sym	sy,22,5,1,16
 10328                        	.sym	b,24,14,1,8
 10329                        	.sym	img,25,142,1,32
 10330                        	.sym	iconCode,4,14,6,8
 10331                        	.sym	cx,6,5,6,16
 10332                        	.sym	cy,8,5,6,16
 10333                        	.sym	paletteId,10,14,6,8
 10334                        	.sym	mode,12,5,6,16
 10335                        	.sym	scale,14,5,6,16
 10336 03:270B: 64 09        	stz	<L544+x_1
 10337 03:270D: 64 0B        	stz	<L544+y_1
 10338 03:270F: A5 33        	lda	<L543+scale_0
 10339 03:2711: 0A           	asl	A
 10340 03:2712: 0A           	asl	A
 10341 03:2713: 0A           	asl	A
 10342 03:2714: 0A           	asl	A
  Thu Dec  3 2020 22:25                                                Page 192


 10343 03:2715: 85 0D        	sta	<L544+height_1
 10344 03:2717: A5 33        	lda	<L543+scale_0
 10345 03:2719: 0A           	asl	A
 10346 03:271A: 0A           	asl	A
 10347 03:271B: 0A           	asl	A
 10348 03:271C: 0A           	asl	A
 10349 03:271D: 85 0F        	sta	<L544+width_1
 10350 03:271F: A5 2B        	lda	<L543+cx_0
 10351 03:2721: 85 11        	sta	<L544+textX_1
 10352 03:2723: A5 2D        	lda	<L543+cy_0
 10353 03:2725: 85 13        	sta	<L544+textY_1
 10354 03:2727: 64 15        	stz	<L544+px_1
 10355 03:2729: 64 17        	stz	<L544+py_1
 10356 03:272B: 64 19        	stz	<L544+offx_1
 10357 03:272D: 64 1B        	stz	<L544+offy_1
 10358 03:272F: 64 1D        	stz	<L544+sx_1
 10359 03:2731: 64 1F        	stz	<L544+sy_1
 10360 03:2733: E2 20        	sep	#$20
 10361                        	longa	off
 10362 03:2735: 64 21        	stz	<L544+b_1
 10363 03:2737: C2 20        	rep	#$20
 10364                        	longa	on
 10365 03:2739: 64 22        	stz	<L544+img_1
 10366 03:273B: 64 24        	stz	<L544+img_1+2
 10367                        	.line	1441
 10368 03:273D: A5 29        	lda	<L543+iconCode_0
 10369 03:273F: 29 FF 00     	and	#<$ff
 10370 03:2742: 85 05        	sta	<R1
 10371 03:2744: A0 00 00     	ldy	#$0
 10372 03:2747: A5 05        	lda	<R1
 10373 03:2749: 10 01        	bpl	L546
 10374 03:274B: 88           	dey
 10375                        L546:
 10376 03:274C: 85 05        	sta	<R1
 10377 03:274E: 84 07        	sty	<R1+2
 10378 03:2750: D4 07        	pei	<R1+2
 10379 03:2752: D4 05        	pei	<R1
 10380 03:2754: A9 08 00     	lda	#$8
 10381                        	xref	~~~lasl
 10382 03:2757: 22 xx xx xx  	jsl	~~~lasl
 10383 03:275B: 85 01        	sta	<R0
 10384 03:275D: 86 03        	stx	<R0+2
 10385 03:275F: 18           	clc
 10386 03:2760: A9 xx xx     	lda	#<~~windowIconImg
 10387 03:2763: 65 01        	adc	<R0
 10388 03:2765: 85 22        	sta	<L544+img_1
 10389 03:2767: A9 xx xx     	lda	#^~~windowIconImg
 10390 03:276A: 65 03        	adc	<R0+2
 10391 03:276C: 85 24        	sta	<L544+img_1+2
 10392                        ;	if(img!=NULL)
 10393                        	.line	1442
 10394                        ;	{
 10395 03:276E: A5 22        	lda	<L544+img_1
 10396 03:2770: 05 24        	ora	<L544+img_1+2
 10397 03:2772: D0 03        	bne	L547
 10398 03:2774: 82 E2 00     	brl	L10150
 10399                        L547:
 10400                        	.line	1443
  Thu Dec  3 2020 22:25                                                Page 193


 10401                        ;		py = 0;
 10402                        	.line	1444
 10403 03:2777: 64 17        	stz	<L544+py_1
 10404                        ;		for (y = 0; y < height; y+=scale) 
 10405                        	.line	1445
 10406 03:2779: 64 0B        	stz	<L544+y_1
 10407 03:277B: 82 CC 00     	brl	L10154
 10408                        L10153:
 10409                        ;		{
 10410                        	.line	1446
 10411                        ;			offy = y;
 10412                        	.line	1447
 10413 03:277E: A5 0B        	lda	<L544+y_1
 10414 03:2780: 85 1B        	sta	<L544+offy_1
 10415                        ;			px   = 0;
 10416                        	.line	1448
 10417 03:2782: 64 15        	stz	<L544+px_1
 10418                        ;			for (x = 0; x < width; x+=scale)
                     
 10419                        	.line	1449
 10420 03:2784: 64 09        	stz	<L544+x_1
 10421 03:2786: 82 A9 00     	brl	L10158
 10422                        L10157:
 10423                        ;			{
 10424                        	.line	1450
 10425                        ;				// get the pixel value
 10426                        ;				offx = x;
 10427                        	.line	1452
 10428 03:2789: A5 09        	lda	<L544+x_1
 10429 03:278B: 85 19        	sta	<L544+offx_1
 10430                        ;				b = img[py * ICONW + px]
                    ;
 10431                        	.line	1453
 10432 03:278D: A5 17        	lda	<L544+py_1
 10433 03:278F: 0A           	asl	A
 10434 03:2790: 0A           	asl	A
 10435 03:2791: 0A           	asl	A
 10436 03:2792: 0A           	asl	A
 10437 03:2793: 85 01        	sta	<R0
 10438 03:2795: 18           	clc
 10439 03:2796: A5 01        	lda	<R0
 10440 03:2798: 65 15        	adc	<L544+px_1
 10441 03:279A: 85 05        	sta	<R1
 10442 03:279C: E2 20        	sep	#$20
 10443                        	longa	off
 10444 03:279E: A4 05        	ldy	<R1
 10445 03:27A0: B7 22        	lda	[<L544+img_1],Y
 10446 03:27A2: 85 21        	sta	<L544+b_1
 10447 03:27A4: C2 20        	rep	#$20
 10448                        	longa	on
 10449                        ;				if (b > -1) 
 10450                        	.line	1454
 10451                        ;				{ // plot the pixel	
                    				
 10452 03:27A6: A5 21        	lda	<L544+b_1
 10453 03:27A8: 29 FF 00     	and	#$ff
 10454 03:27AB: 85 01        	sta	<R0
 10455 03:27AD: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 194


 10456 03:27AE: A9 FF FF     	lda	#$ffff
 10457 03:27B1: E5 01        	sbc	<R0
 10458 03:27B3: 70 03        	bvs	L548
 10459 03:27B5: 49 00 80     	eor	#$8000
 10460                        L548:
 10461 03:27B8: 10 03        	bpl	L549
 10462 03:27BA: 82 6C 00     	brl	L10159
 10463                        L549:
 10464                        	.line	1455
 10465                        ;					offy = y;
 10466                        	.line	1456
 10467 03:27BD: A5 0B        	lda	<L544+y_1
 10468 03:27BF: 85 1B        	sta	<L544+offy_1
 10469                        ;					for(sy=0;sy<scal
                    e;sy++)
 10470                        	.line	1457
 10471 03:27C1: 64 1F        	stz	<L544+sy_1
 10472 03:27C3: 82 54 00     	brl	L10163
 10473                        L10162:
 10474                        ;					{
 10475                        	.line	1458
 10476                        ;						offx = x
                    ;
 10477                        	.line	1459
 10478 03:27C6: A5 09        	lda	<L544+x_1
 10479 03:27C8: 85 19        	sta	<L544+offx_1
 10480                        ;						for(sx=0
                    ;sx<scale;sx++)
 10481                        	.line	1460
 10482 03:27CA: 64 1D        	stz	<L544+sx_1
 10483 03:27CC: 82 38 00     	brl	L10167
 10484                        L10166:
 10485                        ;						{
 10486                        	.line	1461
 10487                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
 10488                        	.line	1462
 10489 03:27CF: D4 21        	pei	<L544+b_1
 10490 03:27D1: 18           	clc
 10491 03:27D2: A5 13        	lda	<L544+textY_1
 10492 03:27D4: 65 1B        	adc	<L544+offy_1
 10493 03:27D6: 85 01        	sta	<R0
 10494 03:27D8: A0 00 00     	ldy	#$0
 10495 03:27DB: A5 01        	lda	<R0
 10496 03:27DD: 10 01        	bpl	L550
 10497 03:27DF: 88           	dey
 10498                        L550:
 10499 03:27E0: 85 01        	sta	<R0
 10500 03:27E2: 84 03        	sty	<R0+2
 10501 03:27E4: D4 03        	pei	<R0+2
 10502 03:27E6: D4 01        	pei	<R0
 10503 03:27E8: 18           	clc
 10504 03:27E9: A5 11        	lda	<L544+textX_1
 10505 03:27EB: 65 19        	adc	<L544+offx_1
 10506 03:27ED: 85 05        	sta	<R1
 10507 03:27EF: A0 00 00     	ldy	#$0
 10508 03:27F2: A5 05        	lda	<R1
 10509 03:27F4: 10 01        	bpl	L551
  Thu Dec  3 2020 22:25                                                Page 195


 10510 03:27F6: 88           	dey
 10511                        L551:
 10512 03:27F7: 85 05        	sta	<R1
 10513 03:27F9: 84 07        	sty	<R1+2
 10514 03:27FB: D4 07        	pei	<R1+2
 10515 03:27FD: D4 05        	pei	<R1
 10516 03:27FF: 22 10 0E 03  	jsl	~~k_draw_pixel
 10517                        ;							
                    offx++;
 10518                        	.line	1463
 10519 03:2803: E6 19        	inc	<L544+offx_1
 10520                        ;						}
 10521                        	.line	1464
 10522                        L10164:
 10523 03:2805: E6 1D        	inc	<L544+sx_1
 10524                        L10167:
 10525 03:2807: 38           	sec
 10526 03:2808: A5 1D        	lda	<L544+sx_1
 10527 03:280A: E5 33        	sbc	<L543+scale_0
 10528 03:280C: 70 03        	bvs	L552
 10529 03:280E: 49 00 80     	eor	#$8000
 10530                        L552:
 10531 03:2811: 30 03        	bmi	L553
 10532 03:2813: 82 B9 FF     	brl	L10166
 10533                        L553:
 10534                        L10165:
 10535                        ;						offy++;
 10536                        	.line	1465
 10537 03:2816: E6 1B        	inc	<L544+offy_1
 10538                        ;					}
 10539                        	.line	1466
 10540                        L10160:
 10541 03:2818: E6 1F        	inc	<L544+sy_1
 10542                        L10163:
 10543 03:281A: 38           	sec
 10544 03:281B: A5 1F        	lda	<L544+sy_1
 10545 03:281D: E5 33        	sbc	<L543+scale_0
 10546 03:281F: 70 03        	bvs	L554
 10547 03:2821: 49 00 80     	eor	#$8000
 10548                        L554:
 10549 03:2824: 30 03        	bmi	L555
 10550 03:2826: 82 9D FF     	brl	L10162
 10551                        L555:
 10552                        L10161:
 10553                        ;				}
 10554                        	.line	1467
 10555                        ;				px++;
 10556                        L10159:
 10557                        	.line	1468
 10558 03:2829: E6 15        	inc	<L544+px_1
 10559                        ;			} // end "for x"
 10560                        	.line	1469
 10561                        L10155:
 10562 03:282B: 18           	clc
 10563 03:282C: A5 09        	lda	<L544+x_1
 10564 03:282E: 65 33        	adc	<L543+scale_0
 10565 03:2830: 85 09        	sta	<L544+x_1
 10566                        L10158:
  Thu Dec  3 2020 22:25                                                Page 196


 10567 03:2832: 38           	sec
 10568 03:2833: A5 09        	lda	<L544+x_1
 10569 03:2835: E5 0F        	sbc	<L544+width_1
 10570 03:2837: 70 03        	bvs	L556
 10571 03:2839: 49 00 80     	eor	#$8000
 10572                        L556:
 10573 03:283C: 30 03        	bmi	L557
 10574 03:283E: 82 48 FF     	brl	L10157
 10575                        L557:
 10576                        L10156:
 10577                        ;			py++;
 10578                        	.line	1470
 10579 03:2841: E6 17        	inc	<L544+py_1
 10580                        ;		} // end "for y"
 10581                        	.line	1471
 10582                        L10151:
 10583 03:2843: 18           	clc
 10584 03:2844: A5 0B        	lda	<L544+y_1
 10585 03:2846: 65 33        	adc	<L543+scale_0
 10586 03:2848: 85 0B        	sta	<L544+y_1
 10587                        L10154:
 10588 03:284A: 38           	sec
 10589 03:284B: A5 0B        	lda	<L544+y_1
 10590 03:284D: E5 0D        	sbc	<L544+height_1
 10591 03:284F: 70 03        	bvs	L558
 10592 03:2851: 49 00 80     	eor	#$8000
 10593                        L558:
 10594 03:2854: 30 03        	bmi	L559
 10595 03:2856: 82 25 FF     	brl	L10153
 10596                        L559:
 10597                        L10152:
 10598                        ;	}
 10599                        	.line	1472
 10600                        ;}
 10601                        L10150:
 10602                        	.line	1473
 10603                        L560:
 10604 03:2859: A5 27        	lda	<L543+2
 10605 03:285B: 85 33        	sta	<L543+2+12
 10606 03:285D: A5 26        	lda	<L543+1
 10607 03:285F: 85 32        	sta	<L543+1+12
 10608 03:2861: 2B           	pld
 10609 03:2862: 3B           	tsc
 10610 03:2863: 18           	clc
 10611 03:2864: 69 31 00     	adc	#L543+12
 10612 03:2867: 1B           	tcs
 10613 03:2868: 6B           	rtl
 10614                        	.endblock	1473
 10615             00000025   L543	equ	37
 10616             00000009   L544	equ	9
 10617 03:2869:              	ends
 10618                        	efunc
 10619                        	.endfunc	1473,9,37
 10620                        	.line	1473
 10621                        ;
 10622                        ;
 10623                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
  Thu Dec  3 2020 22:25                                                Page 197


 10624                        ;{
 10625                        	.line	1476
 10626                        	.line	1477
 10627                        	GUI
 10628                        	xdef	~~k_put_font
 10629                        	func
 10630                        	.function	1477
 10631                        ~~k_put_font:
 10632                        	longa	on
 10633                        	longi	on
 10634 03:2869: 3B           	tsc
 10635 03:286A: 38           	sec
 10636 03:286B: E9 21 00     	sbc	#L561
 10637 03:286E: 1B           	tcs
 10638 03:286F: 0B           	phd
 10639 03:2870: 5B           	tcd
 10640             00000004   outChar_0	set	4
 10641             00000006   row_0	set	6
 10642             00000008   column_0	set	8
 10643             0000000A   color_0	set	10
 10644                        	.block	1477
 10645                        ;	int x = 0;
 10646                        ;	int y = 0;
 10647                        ;	int textX = row * FONTW;
 10648                        ;	int textY = column * FONTH;
 10649                        ;
 10650                        ;	char FAR* img = NULL;//fontImg[ix];
 10651                        ;
 10652                        ;    if(outChar == 32)
 10653             00000000   x_1	set	0
 10654             00000002   y_1	set	2
 10655             00000004   textX_1	set	4
 10656             00000006   textY_1	set	6
 10657             00000008   img_1	set	8
 10658                        	.sym	x,0,5,1,16
 10659                        	.sym	y,2,5,1,16
 10660                        	.sym	textX,4,5,1,16
 10661                        	.sym	textY,6,5,1,16
 10662                        	.sym	img,8,142,1,32
 10663                        	.sym	outChar,4,14,6,8
 10664                        	.sym	row,6,5,6,16
 10665                        	.sym	column,8,5,6,16
 10666                        	.sym	color,10,14,6,8
 10667 03:2871: 64 15        	stz	<L562+x_1
 10668 03:2873: 64 17        	stz	<L562+y_1
 10669 03:2875: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 10670 03:2879: 85 01        	sta	<R0
 10671 03:287B: A5 01        	lda	<R0
 10672 03:287D: A6 27        	ldx	<L561+row_0
 10673                        	xref	~~~mul
 10674 03:287F: 22 xx xx xx  	jsl	~~~mul
 10675 03:2883: 85 19        	sta	<L562+textX_1
 10676 03:2885: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 10677 03:2889: 85 01        	sta	<R0
 10678 03:288B: A5 01        	lda	<R0
 10679 03:288D: A6 29        	ldx	<L561+column_0
 10680                        	xref	~~~mul
 10681 03:288F: 22 xx xx xx  	jsl	~~~mul
  Thu Dec  3 2020 22:25                                                Page 198


 10682 03:2893: 85 1B        	sta	<L562+textY_1
 10683 03:2895: 64 1D        	stz	<L562+img_1
 10684 03:2897: 64 1F        	stz	<L562+img_1+2
 10685                        	.line	1485
 10686                        ;	{
 10687 03:2899: E2 20        	sep	#$20
 10688                        	longa	off
 10689 03:289B: A5 25        	lda	<L561+outChar_0
 10690 03:289D: C9 20        	cmp	#<$20
 10691 03:289F: C2 20        	rep	#$20
 10692                        	longa	on
 10693 03:28A1: F0 03        	beq	L564
 10694 03:28A3: 82 07 00     	brl	L10168
 10695                        L564:
 10696                        	.line	1486
 10697                        ;	   img = NULL;
 10698                        	.line	1487
 10699 03:28A6: 64 1D        	stz	<L562+img_1
 10700 03:28A8: 64 1F        	stz	<L562+img_1+2
 10701                        ;    }
 10702                        	.line	1488
 10703                        ;    else
 10704 03:28AA: 82 5B 00     	brl	L10169
 10705                        L10168:
 10706                        ;	{
 10707                        	.line	1490
 10708                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 10709                        	.line	1491
 10710 03:28AD: A5 25        	lda	<L561+outChar_0
 10711 03:28AF: 29 FF 00     	and	#<$ff
 10712 03:28B2: 85 09        	sta	<R2
 10713 03:28B4: A0 00 00     	ldy	#$0
 10714 03:28B7: A5 09        	lda	<R2
 10715 03:28B9: 10 01        	bpl	L565
 10716 03:28BB: 88           	dey
 10717                        L565:
 10718 03:28BC: 85 09        	sta	<R2
 10719 03:28BE: 84 0B        	sty	<R2+2
 10720 03:28C0: D4 0B        	pei	<R2+2
 10721 03:28C2: D4 09        	pei	<R2
 10722 03:28C4: A9 01 00     	lda	#$1
 10723                        	xref	~~~lasl
 10724 03:28C7: 22 xx xx xx  	jsl	~~~lasl
 10725 03:28CB: 85 05        	sta	<R1
 10726 03:28CD: 86 07        	stx	<R1+2
 10727 03:28CF: 18           	clc
 10728 03:28D0: A9 xx xx     	lda	#<~~characterROMMapping
 10729 03:28D3: 65 05        	adc	<R1
 10730 03:28D5: 85 0D        	sta	<R3
 10731 03:28D7: A9 xx xx     	lda	#^~~characterROMMapping
 10732 03:28DA: 65 07        	adc	<R1+2
 10733 03:28DC: 85 0F        	sta	<R3+2
 10734 03:28DE: A0 00 00     	ldy	#$0
 10735 03:28E1: A7 0D        	lda	[<R3]
 10736 03:28E3: 10 01        	bpl	L566
 10737 03:28E5: 88           	dey
 10738                        L566:
  Thu Dec  3 2020 22:25                                                Page 199


 10739 03:28E6: 85 05        	sta	<R1
 10740 03:28E8: 84 07        	sty	<R1+2
 10741 03:28EA: D4 07        	pei	<R1+2
 10742 03:28EC: D4 05        	pei	<R1
 10743 03:28EE: A9 06 00     	lda	#$6
 10744                        	xref	~~~lasl
 10745 03:28F1: 22 xx xx xx  	jsl	~~~lasl
 10746 03:28F5: 85 01        	sta	<R0
 10747 03:28F7: 86 03        	stx	<R0+2
 10748 03:28F9: 18           	clc
 10749 03:28FA: A9 xx xx     	lda	#<~~fontImg
 10750 03:28FD: 65 01        	adc	<R0
 10751 03:28FF: 85 1D        	sta	<L562+img_1
 10752 03:2901: A9 xx xx     	lda	#^~~fontImg
 10753 03:2904: 65 03        	adc	<R0+2
 10754 03:2906: 85 1F        	sta	<L562+img_1+2
 10755                        ;		//img = fontImg[0x02];
 10756                        ;	}
 10757                        	.line	1493
 10758                        L10169:
 10759                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10760                        ;
 10761                        ;	// get the font 'image'
 10762                        ;        //char *img = fontImg[ix]; 
 10763                        ;        // loop through pixel rows
 10764                        ;	if(img!=NULL)
 10765                        	.line	1499
 10766                        ;	{
 10767 03:2908: A5 1D        	lda	<L562+img_1
 10768 03:290A: 05 1F        	ora	<L562+img_1+2
 10769 03:290C: D0 03        	bne	L567
 10770 03:290E: 82 DD 00     	brl	L10170
 10771                        L567:
 10772                        	.line	1500
 10773                        ;		for (y = 0; y < FONTH; y++) 
 10774                        	.line	1501
 10775 03:2911: 64 17        	stz	<L562+y_1
 10776 03:2913: 82 C9 00     	brl	L10174
 10777                        L10173:
 10778                        ;		{
 10779                        	.line	1502
 10780                        ;			// loop through pixel columns
 10781                        ;			for (x = 0; x < FONTW; x++) 
 10782                        	.line	1504
 10783 03:2916: 64 15        	stz	<L562+x_1
 10784 03:2918: 82 B3 00     	brl	L10178
 10785                        L10177:
 10786                        ;			{
 10787                        	.line	1505
 10788                        ;				// get the pixel value
 10789                        ;				char b = img[y * FONTW +
                     x];
 10790                        ;				if (b > 0) 
 10791                        	.block	1508
 10792             0000000C   b_2	set	12
 10793                        	.sym	b,12,14,1,8
 10794 03:291B: 22 C8 71 03  	jsl	~~k_font_getFontWidth
  Thu Dec  3 2020 22:25                                                Page 200


 10795 03:291F: 85 01        	sta	<R0
 10796 03:2921: A5 01        	lda	<R0
 10797 03:2923: A6 17        	ldx	<L562+y_1
 10798                        	xref	~~~mul
 10799 03:2925: 22 xx xx xx  	jsl	~~~mul
 10800 03:2929: 85 01        	sta	<R0
 10801 03:292B: 18           	clc
 10802 03:292C: A5 01        	lda	<R0
 10803 03:292E: 65 15        	adc	<L562+x_1
 10804 03:2930: 85 05        	sta	<R1
 10805 03:2932: E2 20        	sep	#$20
 10806                        	longa	off
 10807 03:2934: A4 05        	ldy	<R1
 10808 03:2936: B7 1D        	lda	[<L562+img_1],Y
 10809 03:2938: 85 21        	sta	<L562+b_2
 10810 03:293A: C2 20        	rep	#$20
 10811                        	longa	on
 10812                        	.line	1508
 10813                        ;				{ // plot the pixel
 10814 03:293C: E2 20        	sep	#$20
 10815                        	longa	off
 10816 03:293E: A9 00        	lda	#$0
 10817 03:2940: C5 21        	cmp	<L562+b_2
 10818 03:2942: C2 20        	rep	#$20
 10819                        	longa	on
 10820 03:2944: 90 03        	bcc	L569
 10821 03:2946: 82 83 00     	brl	L10179
 10822                        L569:
 10823                        	.line	1509
 10824                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 10825                        ;					
 10826                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
 10827                        	.line	1512
 10828 03:2949: A0 00 00     	ldy	#$0
 10829 03:294C: A5 19        	lda	<L562+textX_1
 10830 03:294E: 10 01        	bpl	L570
 10831 03:2950: 88           	dey
 10832                        L570:
 10833 03:2951: 85 01        	sta	<R0
 10834 03:2953: 84 03        	sty	<R0+2
 10835 03:2955: A0 00 00     	ldy	#$0
 10836 03:2958: A5 15        	lda	<L562+x_1
 10837 03:295A: 10 01        	bpl	L571
 10838 03:295C: 88           	dey
 10839                        L571:
 10840 03:295D: 85 05        	sta	<R1
 10841 03:295F: 84 07        	sty	<R1+2
 10842 03:2961: A0 00 00     	ldy	#$0
 10843 03:2964: A5 17        	lda	<L562+y_1
 10844 03:2966: 10 01        	bpl	L572
 10845 03:2968: 88           	dey
 10846                        L572:
 10847 03:2969: 85 09        	sta	<R2
 10848 03:296B: 84 0B        	sty	<R2+2
 10849 03:296D: A0 00 00     	ldy	#$0
  Thu Dec  3 2020 22:25                                                Page 201


 10850 03:2970: A5 1B        	lda	<L562+textY_1
 10851 03:2972: 10 01        	bpl	L573
 10852 03:2974: 88           	dey
 10853                        L573:
 10854 03:2975: 85 0D        	sta	<R3
 10855 03:2977: 84 0F        	sty	<R3+2
 10856 03:2979: 18           	clc
 10857 03:297A: A5 0D        	lda	<R3
 10858 03:297C: 65 09        	adc	<R2
 10859 03:297E: 85 11        	sta	<17
 10860 03:2980: A5 0F        	lda	<R3+2
 10861 03:2982: 65 0B        	adc	<R2+2
 10862 03:2984: 85 13        	sta	<17+2
 10863 03:2986: F4 00 00     	pea	#^$280
 10864 03:2989: F4 80 02     	pea	#<$280
 10865 03:298C: D4 13        	pei	<17+2
 10866 03:298E: D4 11        	pei	<17
 10867                        	xref	~~~lmul
 10868 03:2990: 22 xx xx xx  	jsl	~~~lmul
 10869 03:2994: 85 09        	sta	<R2
 10870 03:2996: 86 0B        	stx	<R2+2
 10871 03:2998: 18           	clc
 10872 03:2999: A5 09        	lda	<R2
 10873 03:299B: 65 05        	adc	<R1
 10874 03:299D: 85 0D        	sta	<R3
 10875 03:299F: A5 0B        	lda	<R2+2
 10876 03:29A1: 65 07        	adc	<R1+2
 10877 03:29A3: 85 0F        	sta	<R3+2
 10878 03:29A5: 18           	clc
 10879 03:29A6: A5 0D        	lda	<R3
 10880 03:29A8: 65 01        	adc	<R0
 10881 03:29AA: 85 05        	sta	<R1
 10882 03:29AC: A5 0F        	lda	<R3+2
 10883 03:29AE: 65 03        	adc	<R0+2
 10884 03:29B0: 85 07        	sta	<R1+2
 10885 03:29B2: 18           	clc
 10886 03:29B3: A9 00 00     	lda	#$0
 10887 03:29B6: 65 05        	adc	<R1
 10888 03:29B8: 85 01        	sta	<R0
 10889 03:29BA: A9 B0 00     	lda	#$b0
 10890 03:29BD: 65 07        	adc	<R1+2
 10891 03:29BF: 85 03        	sta	<R0+2
 10892 03:29C1: E2 20        	sep	#$20
 10893                        	longa	off
 10894 03:29C3: A5 2B        	lda	<L561+color_0
 10895 03:29C5: 87 01        	sta	[<R0]
 10896 03:29C7: C2 20        	rep	#$20
 10897                        	longa	on
 10898                        ;				}
 10899                        	.line	1513
 10900                        ;				else 
 10901 03:29C9: 82 00 00     	brl	L10180
 10902                        L10179:
 10903                        ;				{ 
 10904                        	.line	1515
 10905                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 10906                        ;				}
  Thu Dec  3 2020 22:25                                                Page 202


 10907                        	.line	1517
 10908                        L10180:
 10909                        ;			} // end "for x"
 10910                        	.endblock	1518
 10911                        	.line	1518
 10912                        L10175:
 10913 03:29CC: E6 15        	inc	<L562+x_1
 10914                        L10178:
 10915 03:29CE: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 10916 03:29D2: 85 01        	sta	<R0
 10917 03:29D4: A5 15        	lda	<L562+x_1
 10918 03:29D6: C5 01        	cmp	<R0
 10919 03:29D8: B0 03        	bcs	L574
 10920 03:29DA: 82 3E FF     	brl	L10177
 10921                        L574:
 10922                        L10176:
 10923                        ;		} // end "for y"
 10924                        	.line	1519
 10925                        L10171:
 10926 03:29DD: E6 17        	inc	<L562+y_1
 10927                        L10174:
 10928 03:29DF: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 10929 03:29E3: 85 01        	sta	<R0
 10930 03:29E5: A5 17        	lda	<L562+y_1
 10931 03:29E7: C5 01        	cmp	<R0
 10932 03:29E9: B0 03        	bcs	L575
 10933 03:29EB: 82 28 FF     	brl	L10173
 10934                        L575:
 10935                        L10172:
 10936                        ;	}
 10937                        	.line	1520
 10938                        ;}
 10939                        L10170:
 10940                        	.line	1521
 10941                        L576:
 10942 03:29EE: A5 23        	lda	<L561+2
 10943 03:29F0: 85 2B        	sta	<L561+2+8
 10944 03:29F2: A5 22        	lda	<L561+1
 10945 03:29F4: 85 2A        	sta	<L561+1+8
 10946 03:29F6: 2B           	pld
 10947 03:29F7: 3B           	tsc
 10948 03:29F8: 18           	clc
 10949 03:29F9: 69 29 00     	adc	#L561+8
 10950 03:29FC: 1B           	tcs
 10951 03:29FD: 6B           	rtl
 10952                        	.endblock	1521
 10953             00000021   L561	equ	33
 10954             00000015   L562	equ	21
 10955 03:29FE:              	ends
 10956                        	efunc
 10957                        	.endfunc	1521,21,33
 10958                        	.line	1521
 10959                        ;
 10960                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
 10961                        ;{
 10962                        	.line	1523
 10963                        	.line	1524
  Thu Dec  3 2020 22:25                                                Page 203


 10964                        	GUI
 10965                        	xdef	~~k_put_font_scaled
 10966                        	func
 10967                        	.function	1524
 10968                        ~~k_put_font_scaled:
 10969                        	longa	on
 10970                        	longi	on
 10971 03:29FE: 3B           	tsc
 10972 03:29FF: 38           	sec
 10973 03:2A00: E9 2D 00     	sbc	#L577
 10974 03:2A03: 1B           	tcs
 10975 03:2A04: 0B           	phd
 10976 03:2A05: 5B           	tcd
 10977             00000004   outChar_0	set	4
 10978             00000006   row_0	set	6
 10979             00000008   column_0	set	8
 10980             0000000A   color_0	set	10
 10981             0000000C   scale_0	set	12
 10982                        	.block	1524
 10983                        ;	int x = 0;
 10984                        ;	int y = 0;
 10985                        ;
 10986                        ;	int height = FONTH * scale;
 10987                        ;	int width  = FONTW * scale;
 10988                        ;	
 10989                        ;	int textX = row    * height;
 10990                        ;	int textY = column * width;
 10991                        ;
 10992                        ;	int px   = 0;
 10993                        ;	int py   = 0;
 10994                        ;	int offx = 0;
 10995                        ;	int offy = 0;
 10996                        ;	int sx   = 0;
 10997                        ;	int sy   = 0;
 10998                        ;
 10999                        ;	char b   = 0;
 11000                        ;
 11001                        ;	char FAR* img = NULL;//fontImg[ix];
 11002                        ;
 11003                        ;    if(outChar == 32)
 11004             00000000   x_1	set	0
 11005             00000002   y_1	set	2
 11006             00000004   height_1	set	4
 11007             00000006   width_1	set	6
 11008             00000008   textX_1	set	8
 11009             0000000A   textY_1	set	10
 11010             0000000C   px_1	set	12
 11011             0000000E   py_1	set	14
 11012             00000010   offx_1	set	16
 11013             00000012   offy_1	set	18
 11014             00000014   sx_1	set	20
 11015             00000016   sy_1	set	22
 11016             00000018   b_1	set	24
 11017             00000019   img_1	set	25
 11018                        	.sym	x,0,5,1,16
 11019                        	.sym	y,2,5,1,16
 11020                        	.sym	height,4,5,1,16
 11021                        	.sym	width,6,5,1,16
  Thu Dec  3 2020 22:25                                                Page 204


 11022                        	.sym	textX,8,5,1,16
 11023                        	.sym	textY,10,5,1,16
 11024                        	.sym	px,12,5,1,16
 11025                        	.sym	py,14,5,1,16
 11026                        	.sym	offx,16,5,1,16
 11027                        	.sym	offy,18,5,1,16
 11028                        	.sym	sx,20,5,1,16
 11029                        	.sym	sy,22,5,1,16
 11030                        	.sym	b,24,14,1,8
 11031                        	.sym	img,25,142,1,32
 11032                        	.sym	outChar,4,14,6,8
 11033                        	.sym	row,6,5,6,16
 11034                        	.sym	column,8,5,6,16
 11035                        	.sym	color,10,14,6,8
 11036                        	.sym	scale,12,5,6,16
 11037 03:2A06: 64 11        	stz	<L578+x_1
 11038 03:2A08: 64 13        	stz	<L578+y_1
 11039 03:2A0A: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 11040 03:2A0E: 85 01        	sta	<R0
 11041 03:2A10: A5 01        	lda	<R0
 11042 03:2A12: A6 39        	ldx	<L577+scale_0
 11043                        	xref	~~~mul
 11044 03:2A14: 22 xx xx xx  	jsl	~~~mul
 11045 03:2A18: 85 15        	sta	<L578+height_1
 11046 03:2A1A: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11047 03:2A1E: 85 01        	sta	<R0
 11048 03:2A20: A5 01        	lda	<R0
 11049 03:2A22: A6 39        	ldx	<L577+scale_0
 11050                        	xref	~~~mul
 11051 03:2A24: 22 xx xx xx  	jsl	~~~mul
 11052 03:2A28: 85 17        	sta	<L578+width_1
 11053 03:2A2A: A5 33        	lda	<L577+row_0
 11054 03:2A2C: A6 15        	ldx	<L578+height_1
 11055                        	xref	~~~mul
 11056 03:2A2E: 22 xx xx xx  	jsl	~~~mul
 11057 03:2A32: 85 19        	sta	<L578+textX_1
 11058 03:2A34: A5 35        	lda	<L577+column_0
 11059 03:2A36: A6 17        	ldx	<L578+width_1
 11060                        	xref	~~~mul
 11061 03:2A38: 22 xx xx xx  	jsl	~~~mul
 11062 03:2A3C: 85 1B        	sta	<L578+textY_1
 11063 03:2A3E: 64 1D        	stz	<L578+px_1
 11064 03:2A40: 64 1F        	stz	<L578+py_1
 11065 03:2A42: 64 21        	stz	<L578+offx_1
 11066 03:2A44: 64 23        	stz	<L578+offy_1
 11067 03:2A46: 64 25        	stz	<L578+sx_1
 11068 03:2A48: 64 27        	stz	<L578+sy_1
 11069 03:2A4A: E2 20        	sep	#$20
 11070                        	longa	off
 11071 03:2A4C: 64 29        	stz	<L578+b_1
 11072 03:2A4E: C2 20        	rep	#$20
 11073                        	longa	on
 11074 03:2A50: 64 2A        	stz	<L578+img_1
 11075 03:2A52: 64 2C        	stz	<L578+img_1+2
 11076                        	.line	1545
 11077                        ;	{
 11078 03:2A54: E2 20        	sep	#$20
 11079                        	longa	off
  Thu Dec  3 2020 22:25                                                Page 205


 11080 03:2A56: A5 31        	lda	<L577+outChar_0
 11081 03:2A58: C9 20        	cmp	#<$20
 11082 03:2A5A: C2 20        	rep	#$20
 11083                        	longa	on
 11084 03:2A5C: F0 03        	beq	L580
 11085 03:2A5E: 82 07 00     	brl	L10181
 11086                        L580:
 11087                        	.line	1546
 11088                        ;	   img = NULL;//fontSpace;
 11089                        	.line	1547
 11090 03:2A61: 64 2A        	stz	<L578+img_1
 11091 03:2A63: 64 2C        	stz	<L578+img_1+2
 11092                        ;    }
 11093                        	.line	1548
 11094                        ;    else
 11095 03:2A65: 82 5B 00     	brl	L10182
 11096                        L10181:
 11097                        ;	{
 11098                        	.line	1550
 11099                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 11100                        	.line	1551
 11101 03:2A68: A5 31        	lda	<L577+outChar_0
 11102 03:2A6A: 29 FF 00     	and	#<$ff
 11103 03:2A6D: 85 09        	sta	<R2
 11104 03:2A6F: A0 00 00     	ldy	#$0
 11105 03:2A72: A5 09        	lda	<R2
 11106 03:2A74: 10 01        	bpl	L581
 11107 03:2A76: 88           	dey
 11108                        L581:
 11109 03:2A77: 85 09        	sta	<R2
 11110 03:2A79: 84 0B        	sty	<R2+2
 11111 03:2A7B: D4 0B        	pei	<R2+2
 11112 03:2A7D: D4 09        	pei	<R2
 11113 03:2A7F: A9 01 00     	lda	#$1
 11114                        	xref	~~~lasl
 11115 03:2A82: 22 xx xx xx  	jsl	~~~lasl
 11116 03:2A86: 85 05        	sta	<R1
 11117 03:2A88: 86 07        	stx	<R1+2
 11118 03:2A8A: 18           	clc
 11119 03:2A8B: A9 xx xx     	lda	#<~~characterROMMapping
 11120 03:2A8E: 65 05        	adc	<R1
 11121 03:2A90: 85 0D        	sta	<R3
 11122 03:2A92: A9 xx xx     	lda	#^~~characterROMMapping
 11123 03:2A95: 65 07        	adc	<R1+2
 11124 03:2A97: 85 0F        	sta	<R3+2
 11125 03:2A99: A0 00 00     	ldy	#$0
 11126 03:2A9C: A7 0D        	lda	[<R3]
 11127 03:2A9E: 10 01        	bpl	L582
 11128 03:2AA0: 88           	dey
 11129                        L582:
 11130 03:2AA1: 85 05        	sta	<R1
 11131 03:2AA3: 84 07        	sty	<R1+2
 11132 03:2AA5: D4 07        	pei	<R1+2
 11133 03:2AA7: D4 05        	pei	<R1
 11134 03:2AA9: A9 06 00     	lda	#$6
 11135                        	xref	~~~lasl
 11136 03:2AAC: 22 xx xx xx  	jsl	~~~lasl
  Thu Dec  3 2020 22:25                                                Page 206


 11137 03:2AB0: 85 01        	sta	<R0
 11138 03:2AB2: 86 03        	stx	<R0+2
 11139 03:2AB4: 18           	clc
 11140 03:2AB5: A9 xx xx     	lda	#<~~fontImg
 11141 03:2AB8: 65 01        	adc	<R0
 11142 03:2ABA: 85 2A        	sta	<L578+img_1
 11143 03:2ABC: A9 xx xx     	lda	#^~~fontImg
 11144 03:2ABF: 65 03        	adc	<R0+2
 11145 03:2AC1: 85 2C        	sta	<L578+img_1+2
 11146                        ;		//img = fontImg[0x01];
 11147                        ;	}
 11148                        	.line	1553
 11149                        L10182:
 11150                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11151                        ;
 11152                        ;	// get the font 'image'
 11153                        ;        //char *img = fontImg[ix]; 
 11154                        ;        // loop through pixel rows
 11155                        ;	if(img!=NULL)
 11156                        	.line	1559
 11157                        ;	{
 11158 03:2AC3: A5 2A        	lda	<L578+img_1
 11159 03:2AC5: 05 2C        	ora	<L578+img_1+2
 11160 03:2AC7: D0 03        	bne	L583
 11161 03:2AC9: 82 E3 00     	brl	L10183
 11162                        L583:
 11163                        	.line	1560
 11164                        ;		py = 0;
 11165                        	.line	1561
 11166 03:2ACC: 64 1F        	stz	<L578+py_1
 11167                        ;		for (y = 0; y < height; y+=scale) 
 11168                        	.line	1562
 11169 03:2ACE: 64 13        	stz	<L578+y_1
 11170 03:2AD0: 82 CD 00     	brl	L10187
 11171                        L10186:
 11172                        ;		{
 11173                        	.line	1563
 11174                        ;			offy = y;
 11175                        	.line	1564
 11176 03:2AD3: A5 13        	lda	<L578+y_1
 11177 03:2AD5: 85 23        	sta	<L578+offy_1
 11178                        ;			px = 0;
 11179                        	.line	1565
 11180 03:2AD7: 64 1D        	stz	<L578+px_1
 11181                        ;			for (x = 0; x < width; x+=scale)
                     
 11182                        	.line	1566
 11183 03:2AD9: 64 11        	stz	<L578+x_1
 11184 03:2ADB: 82 AA 00     	brl	L10191
 11185                        L10190:
 11186                        ;			{
 11187                        	.line	1567
 11188                        ;				// get the pixel value
 11189                        ;				offx = x;
 11190                        	.line	1569
 11191 03:2ADE: A5 11        	lda	<L578+x_1
 11192 03:2AE0: 85 21        	sta	<L578+offx_1
  Thu Dec  3 2020 22:25                                                Page 207


 11193                        ;				b = img[py * FONTW + px]
                    ;
 11194                        	.line	1570
 11195 03:2AE2: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11196 03:2AE6: 85 01        	sta	<R0
 11197 03:2AE8: A5 01        	lda	<R0
 11198 03:2AEA: A6 1F        	ldx	<L578+py_1
 11199                        	xref	~~~mul
 11200 03:2AEC: 22 xx xx xx  	jsl	~~~mul
 11201 03:2AF0: 85 01        	sta	<R0
 11202 03:2AF2: 18           	clc
 11203 03:2AF3: A5 01        	lda	<R0
 11204 03:2AF5: 65 1D        	adc	<L578+px_1
 11205 03:2AF7: 85 05        	sta	<R1
 11206 03:2AF9: E2 20        	sep	#$20
 11207                        	longa	off
 11208 03:2AFB: A4 05        	ldy	<R1
 11209 03:2AFD: B7 2A        	lda	[<L578+img_1],Y
 11210 03:2AFF: 85 29        	sta	<L578+b_1
 11211 03:2B01: C2 20        	rep	#$20
 11212                        	longa	on
 11213                        ;				if (b > 0) 
 11214                        	.line	1571
 11215                        ;				{ // plot the pixel	
                    				
 11216 03:2B03: E2 20        	sep	#$20
 11217                        	longa	off
 11218 03:2B05: A9 00        	lda	#$0
 11219 03:2B07: C5 29        	cmp	<L578+b_1
 11220 03:2B09: C2 20        	rep	#$20
 11221                        	longa	on
 11222 03:2B0B: 90 03        	bcc	L584
 11223 03:2B0D: 82 6F 00     	brl	L10192
 11224                        L584:
 11225                        	.line	1572
 11226                        ;					offy = y;
 11227                        	.line	1573
 11228 03:2B10: A5 13        	lda	<L578+y_1
 11229 03:2B12: 85 23        	sta	<L578+offy_1
 11230                        ;					for(sy=0;sy<scal
                    e;sy++)
 11231                        	.line	1574
 11232 03:2B14: 64 27        	stz	<L578+sy_1
 11233 03:2B16: 82 54 00     	brl	L10196
 11234                        L10195:
 11235                        ;					{
 11236                        	.line	1575
 11237                        ;						offx = x
                    ;
 11238                        	.line	1576
 11239 03:2B19: A5 11        	lda	<L578+x_1
 11240 03:2B1B: 85 21        	sta	<L578+offx_1
 11241                        ;						for(sx=0
                    ;sx<scale;sx++)
 11242                        	.line	1577
 11243 03:2B1D: 64 25        	stz	<L578+sx_1
 11244 03:2B1F: 82 38 00     	brl	L10200
 11245                        L10199:
  Thu Dec  3 2020 22:25                                                Page 208


 11246                        ;						{
 11247                        	.line	1578
 11248                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 11249                        	.line	1579
 11250 03:2B22: D4 37        	pei	<L577+color_0
 11251 03:2B24: 18           	clc
 11252 03:2B25: A5 1B        	lda	<L578+textY_1
 11253 03:2B27: 65 23        	adc	<L578+offy_1
 11254 03:2B29: 85 01        	sta	<R0
 11255 03:2B2B: A0 00 00     	ldy	#$0
 11256 03:2B2E: A5 01        	lda	<R0
 11257 03:2B30: 10 01        	bpl	L585
 11258 03:2B32: 88           	dey
 11259                        L585:
 11260 03:2B33: 85 01        	sta	<R0
 11261 03:2B35: 84 03        	sty	<R0+2
 11262 03:2B37: D4 03        	pei	<R0+2
 11263 03:2B39: D4 01        	pei	<R0
 11264 03:2B3B: 18           	clc
 11265 03:2B3C: A5 19        	lda	<L578+textX_1
 11266 03:2B3E: 65 21        	adc	<L578+offx_1
 11267 03:2B40: 85 05        	sta	<R1
 11268 03:2B42: A0 00 00     	ldy	#$0
 11269 03:2B45: A5 05        	lda	<R1
 11270 03:2B47: 10 01        	bpl	L586
 11271 03:2B49: 88           	dey
 11272                        L586:
 11273 03:2B4A: 85 05        	sta	<R1
 11274 03:2B4C: 84 07        	sty	<R1+2
 11275 03:2B4E: D4 07        	pei	<R1+2
 11276 03:2B50: D4 05        	pei	<R1
 11277 03:2B52: 22 10 0E 03  	jsl	~~k_draw_pixel
 11278                        ;							
                    offx++;
 11279                        	.line	1580
 11280 03:2B56: E6 21        	inc	<L578+offx_1
 11281                        ;						}
 11282                        	.line	1581
 11283                        L10197:
 11284 03:2B58: E6 25        	inc	<L578+sx_1
 11285                        L10200:
 11286 03:2B5A: 38           	sec
 11287 03:2B5B: A5 25        	lda	<L578+sx_1
 11288 03:2B5D: E5 39        	sbc	<L577+scale_0
 11289 03:2B5F: 70 03        	bvs	L587
 11290 03:2B61: 49 00 80     	eor	#$8000
 11291                        L587:
 11292 03:2B64: 30 03        	bmi	L588
 11293 03:2B66: 82 B9 FF     	brl	L10199
 11294                        L588:
 11295                        L10198:
 11296                        ;						offy++;
 11297                        	.line	1582
 11298 03:2B69: E6 23        	inc	<L578+offy_1
 11299                        ;					}
 11300                        	.line	1583
 11301                        L10193:
  Thu Dec  3 2020 22:25                                                Page 209


 11302 03:2B6B: E6 27        	inc	<L578+sy_1
 11303                        L10196:
 11304 03:2B6D: 38           	sec
 11305 03:2B6E: A5 27        	lda	<L578+sy_1
 11306 03:2B70: E5 39        	sbc	<L577+scale_0
 11307 03:2B72: 70 03        	bvs	L589
 11308 03:2B74: 49 00 80     	eor	#$8000
 11309                        L589:
 11310 03:2B77: 30 03        	bmi	L590
 11311 03:2B79: 82 9D FF     	brl	L10195
 11312                        L590:
 11313                        L10194:
 11314                        ;					
 11315                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 11316                        ;				}
 11317                        	.line	1586
 11318                        ;				else 
 11319 03:2B7C: 82 00 00     	brl	L10201
 11320                        L10192:
 11321                        ;				{ 
 11322                        	.line	1588
 11323                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11324                        ;				}
 11325                        	.line	1590
 11326                        L10201:
 11327                        ;				px++;
 11328                        	.line	1591
 11329 03:2B7F: E6 1D        	inc	<L578+px_1
 11330                        ;			} // end "for x"
 11331                        	.line	1592
 11332                        L10188:
 11333 03:2B81: 18           	clc
 11334 03:2B82: A5 11        	lda	<L578+x_1
 11335 03:2B84: 65 39        	adc	<L577+scale_0
 11336 03:2B86: 85 11        	sta	<L578+x_1
 11337                        L10191:
 11338 03:2B88: 38           	sec
 11339 03:2B89: A5 11        	lda	<L578+x_1
 11340 03:2B8B: E5 17        	sbc	<L578+width_1
 11341 03:2B8D: 70 03        	bvs	L591
 11342 03:2B8F: 49 00 80     	eor	#$8000
 11343                        L591:
 11344 03:2B92: 30 03        	bmi	L592
 11345 03:2B94: 82 47 FF     	brl	L10190
 11346                        L592:
 11347                        L10189:
 11348                        ;			py++;
 11349                        	.line	1593
 11350 03:2B97: E6 1F        	inc	<L578+py_1
 11351                        ;		} // end "for y"
 11352                        	.line	1594
 11353                        L10184:
 11354 03:2B99: 18           	clc
 11355 03:2B9A: A5 13        	lda	<L578+y_1
 11356 03:2B9C: 65 39        	adc	<L577+scale_0
 11357 03:2B9E: 85 13        	sta	<L578+y_1
  Thu Dec  3 2020 22:25                                                Page 210


 11358                        L10187:
 11359 03:2BA0: 38           	sec
 11360 03:2BA1: A5 13        	lda	<L578+y_1
 11361 03:2BA3: E5 15        	sbc	<L578+height_1
 11362 03:2BA5: 70 03        	bvs	L593
 11363 03:2BA7: 49 00 80     	eor	#$8000
 11364                        L593:
 11365 03:2BAA: 30 03        	bmi	L594
 11366 03:2BAC: 82 24 FF     	brl	L10186
 11367                        L594:
 11368                        L10185:
 11369                        ;	}
 11370                        	.line	1595
 11371                        ;}
 11372                        L10183:
 11373                        	.line	1596
 11374                        L595:
 11375 03:2BAF: A5 2F        	lda	<L577+2
 11376 03:2BB1: 85 39        	sta	<L577+2+10
 11377 03:2BB3: A5 2E        	lda	<L577+1
 11378 03:2BB5: 85 38        	sta	<L577+1+10
 11379 03:2BB7: 2B           	pld
 11380 03:2BB8: 3B           	tsc
 11381 03:2BB9: 18           	clc
 11382 03:2BBA: 69 37 00     	adc	#L577+10
 11383 03:2BBD: 1B           	tcs
 11384 03:2BBE: 6B           	rtl
 11385                        	.endblock	1596
 11386             0000002D   L577	equ	45
 11387             00000011   L578	equ	17
 11388 03:2BBF:              	ends
 11389                        	efunc
 11390                        	.endfunc	1596,17,45
 11391                        	.line	1596
 11392                        ;
 11393                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
 11394                        ;{
 11395                        	.line	1598
 11396                        	.line	1599
 11397                        	GUI
 11398                        	xdef	~~k_draw_char
 11399                        	func
 11400                        	.function	1599
 11401                        ~~k_draw_char:
 11402                        	longa	on
 11403                        	longi	on
 11404 03:2BBF: 3B           	tsc
 11405 03:2BC0: 38           	sec
 11406 03:2BC1: E9 15 00     	sbc	#L596
 11407 03:2BC4: 1B           	tcs
 11408 03:2BC5: 0B           	phd
 11409 03:2BC6: 5B           	tcd
 11410             00000004   charCode_0	set	4
 11411             00000006   row_0	set	6
 11412             00000008   column_0	set	8
 11413             0000000A   color_0	set	10
 11414                        	.block	1599
  Thu Dec  3 2020 22:25                                                Page 211


 11415                        ;	int x = 0;
 11416                        ;	int y = 0;
 11417                        ;
 11418                        ;	int textX = row * FONTH;
 11419                        ;	int textY = column * FONTW;
 11420                        ;	char b = 0;
 11421                        ;
 11422                        ;	char FAR* img = NULL;//fontImg[ix];
 11423                        ;
 11424                        ;    if(charCode == 32)
 11425             00000000   x_1	set	0
 11426             00000002   y_1	set	2
 11427             00000004   textX_1	set	4
 11428             00000006   textY_1	set	6
 11429             00000008   b_1	set	8
 11430             00000009   img_1	set	9
 11431                        	.sym	x,0,5,1,16
 11432                        	.sym	y,2,5,1,16
 11433                        	.sym	textX,4,5,1,16
 11434                        	.sym	textY,6,5,1,16
 11435                        	.sym	b,8,14,1,8
 11436                        	.sym	img,9,142,1,32
 11437                        	.sym	charCode,4,14,6,8
 11438                        	.sym	row,6,5,6,16
 11439                        	.sym	column,8,5,6,16
 11440                        	.sym	color,10,14,6,8
 11441 03:2BC7: 64 09        	stz	<L597+x_1
 11442 03:2BC9: 64 0B        	stz	<L597+y_1
 11443 03:2BCB: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 11444 03:2BCF: 85 01        	sta	<R0
 11445 03:2BD1: A5 01        	lda	<R0
 11446 03:2BD3: A6 1B        	ldx	<L596+row_0
 11447                        	xref	~~~mul
 11448 03:2BD5: 22 xx xx xx  	jsl	~~~mul
 11449 03:2BD9: 85 0D        	sta	<L597+textX_1
 11450 03:2BDB: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11451 03:2BDF: 85 01        	sta	<R0
 11452 03:2BE1: A5 01        	lda	<R0
 11453 03:2BE3: A6 1D        	ldx	<L596+column_0
 11454                        	xref	~~~mul
 11455 03:2BE5: 22 xx xx xx  	jsl	~~~mul
 11456 03:2BE9: 85 0F        	sta	<L597+textY_1
 11457 03:2BEB: E2 20        	sep	#$20
 11458                        	longa	off
 11459 03:2BED: 64 11        	stz	<L597+b_1
 11460 03:2BEF: C2 20        	rep	#$20
 11461                        	longa	on
 11462 03:2BF1: 64 12        	stz	<L597+img_1
 11463 03:2BF3: 64 14        	stz	<L597+img_1+2
 11464                        	.line	1609
 11465                        ;	{
 11466 03:2BF5: E2 20        	sep	#$20
 11467                        	longa	off
 11468 03:2BF7: A5 19        	lda	<L596+charCode_0
 11469 03:2BF9: C9 20        	cmp	#<$20
 11470 03:2BFB: C2 20        	rep	#$20
 11471                        	longa	on
 11472 03:2BFD: F0 03        	beq	L599
  Thu Dec  3 2020 22:25                                                Page 212


 11473 03:2BFF: 82 07 00     	brl	L10202
 11474                        L599:
 11475                        	.line	1610
 11476                        ;	   img = NULL;//fontSpace;
 11477                        	.line	1611
 11478 03:2C02: 64 12        	stz	<L597+img_1
 11479 03:2C04: 64 14        	stz	<L597+img_1+2
 11480                        ;    }
 11481                        	.line	1612
 11482                        ;    else
 11483 03:2C06: 82 31 00     	brl	L10203
 11484                        L10202:
 11485                        ;	{
 11486                        	.line	1614
 11487                        ;	    img = fontImg[charCode & 0xFF];
 11488                        	.line	1615
 11489 03:2C09: A5 19        	lda	<L596+charCode_0
 11490 03:2C0B: 29 FF 00     	and	#<$ff
 11491 03:2C0E: 85 05        	sta	<R1
 11492 03:2C10: A0 00 00     	ldy	#$0
 11493 03:2C13: A5 05        	lda	<R1
 11494 03:2C15: 10 01        	bpl	L600
 11495 03:2C17: 88           	dey
 11496                        L600:
 11497 03:2C18: 85 05        	sta	<R1
 11498 03:2C1A: 84 07        	sty	<R1+2
 11499 03:2C1C: D4 07        	pei	<R1+2
 11500 03:2C1E: D4 05        	pei	<R1
 11501 03:2C20: A9 06 00     	lda	#$6
 11502                        	xref	~~~lasl
 11503 03:2C23: 22 xx xx xx  	jsl	~~~lasl
 11504 03:2C27: 85 01        	sta	<R0
 11505 03:2C29: 86 03        	stx	<R0+2
 11506 03:2C2B: 18           	clc
 11507 03:2C2C: A9 xx xx     	lda	#<~~fontImg
 11508 03:2C2F: 65 01        	adc	<R0
 11509 03:2C31: 85 12        	sta	<L597+img_1
 11510 03:2C33: A9 xx xx     	lda	#^~~fontImg
 11511 03:2C36: 65 03        	adc	<R0+2
 11512 03:2C38: 85 14        	sta	<L597+img_1+2
 11513                        ;	}
 11514                        	.line	1616
 11515                        L10203:
 11516                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11517                        ;
 11518                        ;	// get the font 'image'
 11519                        ;        //char *img = fontImg[ix]; 
 11520                        ;        // loop through pixel rows
 11521                        ;	if(img!=NULL)
 11522                        	.line	1622
 11523                        ;	{
 11524 03:2C3A: A5 12        	lda	<L597+img_1
 11525 03:2C3C: 05 14        	ora	<L597+img_1+2
 11526 03:2C3E: D0 03        	bne	L601
 11527 03:2C40: 82 91 00     	brl	L10204
 11528                        L601:
 11529                        	.line	1623
  Thu Dec  3 2020 22:25                                                Page 213


 11530                        ;		for (y = 0; y < FONTH; y++) 
 11531                        	.line	1624
 11532 03:2C43: 64 0B        	stz	<L597+y_1
 11533 03:2C45: 82 7D 00     	brl	L10208
 11534                        L10207:
 11535                        ;		{
 11536                        	.line	1625
 11537                        ;			// loop through pixel columns
 11538                        ;			for (x = 0; x < FONTW; x++) 
 11539                        	.line	1627
 11540 03:2C48: 64 09        	stz	<L597+x_1
 11541 03:2C4A: 82 67 00     	brl	L10212
 11542                        L10211:
 11543                        ;			{
 11544                        	.line	1628
 11545                        ;				// get the pixel value
 11546                        ;				b = img[y * FONTW + x];
 11547                        	.line	1630
 11548 03:2C4D: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11549 03:2C51: 85 01        	sta	<R0
 11550 03:2C53: A5 01        	lda	<R0
 11551 03:2C55: A6 0B        	ldx	<L597+y_1
 11552                        	xref	~~~mul
 11553 03:2C57: 22 xx xx xx  	jsl	~~~mul
 11554 03:2C5B: 85 01        	sta	<R0
 11555 03:2C5D: 18           	clc
 11556 03:2C5E: A5 01        	lda	<R0
 11557 03:2C60: 65 09        	adc	<L597+x_1
 11558 03:2C62: 85 05        	sta	<R1
 11559 03:2C64: E2 20        	sep	#$20
 11560                        	longa	off
 11561 03:2C66: A4 05        	ldy	<R1
 11562 03:2C68: B7 12        	lda	[<L597+img_1],Y
 11563 03:2C6A: 85 11        	sta	<L597+b_1
 11564 03:2C6C: C2 20        	rep	#$20
 11565                        	longa	on
 11566                        ;				if (b > 0) 
 11567                        	.line	1631
 11568                        ;				{ // plot the pixel
 11569 03:2C6E: E2 20        	sep	#$20
 11570                        	longa	off
 11571 03:2C70: A9 00        	lda	#$0
 11572 03:2C72: C5 11        	cmp	<L597+b_1
 11573 03:2C74: C2 20        	rep	#$20
 11574                        	longa	on
 11575 03:2C76: 90 03        	bcc	L602
 11576 03:2C78: 82 37 00     	brl	L10213
 11577                        L602:
 11578                        	.line	1632
 11579                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 11580                        	.line	1633
 11581 03:2C7B: D4 1F        	pei	<L596+color_0
 11582 03:2C7D: 18           	clc
 11583 03:2C7E: A5 0F        	lda	<L597+textY_1
 11584 03:2C80: 65 0B        	adc	<L597+y_1
 11585 03:2C82: 85 01        	sta	<R0
 11586 03:2C84: A0 00 00     	ldy	#$0
  Thu Dec  3 2020 22:25                                                Page 214


 11587 03:2C87: A5 01        	lda	<R0
 11588 03:2C89: 10 01        	bpl	L603
 11589 03:2C8B: 88           	dey
 11590                        L603:
 11591 03:2C8C: 85 01        	sta	<R0
 11592 03:2C8E: 84 03        	sty	<R0+2
 11593 03:2C90: D4 03        	pei	<R0+2
 11594 03:2C92: D4 01        	pei	<R0
 11595 03:2C94: 18           	clc
 11596 03:2C95: A5 0D        	lda	<L597+textX_1
 11597 03:2C97: 65 09        	adc	<L597+x_1
 11598 03:2C99: 85 05        	sta	<R1
 11599 03:2C9B: A0 00 00     	ldy	#$0
 11600 03:2C9E: A5 05        	lda	<R1
 11601 03:2CA0: 10 01        	bpl	L604
 11602 03:2CA2: 88           	dey
 11603                        L604:
 11604 03:2CA3: 85 05        	sta	<R1
 11605 03:2CA5: 84 07        	sty	<R1+2
 11606 03:2CA7: D4 07        	pei	<R1+2
 11607 03:2CA9: D4 05        	pei	<R1
 11608 03:2CAB: 22 10 0E 03  	jsl	~~k_draw_pixel
 11609                        ;				}
 11610                        	.line	1634
 11611                        ;				else 
 11612 03:2CAF: 82 00 00     	brl	L10214
 11613                        L10213:
 11614                        ;				{ 
 11615                        	.line	1636
 11616                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11617                        ;				}
 11618                        	.line	1638
 11619                        L10214:
 11620                        ;			} // end "for x"
 11621                        	.line	1639
 11622                        L10209:
 11623 03:2CB2: E6 09        	inc	<L597+x_1
 11624                        L10212:
 11625 03:2CB4: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11626 03:2CB8: 85 01        	sta	<R0
 11627 03:2CBA: A5 09        	lda	<L597+x_1
 11628 03:2CBC: C5 01        	cmp	<R0
 11629 03:2CBE: B0 03        	bcs	L605
 11630 03:2CC0: 82 8A FF     	brl	L10211
 11631                        L605:
 11632                        L10210:
 11633                        ;		} // end "for y"
 11634                        	.line	1640
 11635                        L10205:
 11636 03:2CC3: E6 0B        	inc	<L597+y_1
 11637                        L10208:
 11638 03:2CC5: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 11639 03:2CC9: 85 01        	sta	<R0
 11640 03:2CCB: A5 0B        	lda	<L597+y_1
 11641 03:2CCD: C5 01        	cmp	<R0
 11642 03:2CCF: B0 03        	bcs	L606
 11643 03:2CD1: 82 74 FF     	brl	L10207
  Thu Dec  3 2020 22:25                                                Page 215


 11644                        L606:
 11645                        L10206:
 11646                        ;	}
 11647                        	.line	1641
 11648                        ;}
 11649                        L10204:
 11650                        	.line	1642
 11651                        L607:
 11652 03:2CD4: A5 17        	lda	<L596+2
 11653 03:2CD6: 85 1F        	sta	<L596+2+8
 11654 03:2CD8: A5 16        	lda	<L596+1
 11655 03:2CDA: 85 1E        	sta	<L596+1+8
 11656 03:2CDC: 2B           	pld
 11657 03:2CDD: 3B           	tsc
 11658 03:2CDE: 18           	clc
 11659 03:2CDF: 69 1D 00     	adc	#L596+8
 11660 03:2CE2: 1B           	tcs
 11661 03:2CE3: 6B           	rtl
 11662                        	.endblock	1642
 11663             00000015   L596	equ	21
 11664             00000009   L597	equ	9
 11665 03:2CE4:              	ends
 11666                        	efunc
 11667                        	.endfunc	1642,9,21
 11668                        	.line	1642
 11669                        ;
 11670                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
 11671                        ;{
 11672                        	.line	1644
 11673                        	.line	1645
 11674                        	GUI
 11675                        	xdef	~~k_draw_char_scaled
 11676                        	func
 11677                        	.function	1645
 11678                        ~~k_draw_char_scaled:
 11679                        	longa	on
 11680                        	longi	on
 11681 03:2CE4: 3B           	tsc
 11682 03:2CE5: 38           	sec
 11683 03:2CE6: E9 25 00     	sbc	#L608
 11684 03:2CE9: 1B           	tcs
 11685 03:2CEA: 0B           	phd
 11686 03:2CEB: 5B           	tcd
 11687             00000004   charCode_0	set	4
 11688             00000006   row_0	set	6
 11689             00000008   column_0	set	8
 11690             0000000A   color_0	set	10
 11691             0000000C   scale_0	set	12
 11692                        	.block	1645
 11693                        ;	int x = 0;
 11694                        ;	int y = 0;
 11695                        ;
 11696                        ;	int height = FONTH * scale;
 11697                        ;	int width  = FONTW * scale;
 11698                        ;	
 11699                        ;	int textX = row    * height;
 11700                        ;	int textY = column * width;
  Thu Dec  3 2020 22:25                                                Page 216


 11701                        ;
 11702                        ;	int px   = 0;
 11703                        ;	int py   = 0;
 11704                        ;	int offx = 0;
 11705                        ;	int offy = 0;
 11706                        ;	int sx   = 0;
 11707                        ;	int sy   = 0;
 11708                        ;
 11709                        ;	char b   = 0;
 11710                        ;
 11711                        ;	char FAR* img = NULL;
 11712                        ;
 11713                        ;    if(charCode == 32)
 11714             00000000   x_1	set	0
 11715             00000002   y_1	set	2
 11716             00000004   height_1	set	4
 11717             00000006   width_1	set	6
 11718             00000008   textX_1	set	8
 11719             0000000A   textY_1	set	10
 11720             0000000C   px_1	set	12
 11721             0000000E   py_1	set	14
 11722             00000010   offx_1	set	16
 11723             00000012   offy_1	set	18
 11724             00000014   sx_1	set	20
 11725             00000016   sy_1	set	22
 11726             00000018   b_1	set	24
 11727             00000019   img_1	set	25
 11728                        	.sym	x,0,5,1,16
 11729                        	.sym	y,2,5,1,16
 11730                        	.sym	height,4,5,1,16
 11731                        	.sym	width,6,5,1,16
 11732                        	.sym	textX,8,5,1,16
 11733                        	.sym	textY,10,5,1,16
 11734                        	.sym	px,12,5,1,16
 11735                        	.sym	py,14,5,1,16
 11736                        	.sym	offx,16,5,1,16
 11737                        	.sym	offy,18,5,1,16
 11738                        	.sym	sx,20,5,1,16
 11739                        	.sym	sy,22,5,1,16
 11740                        	.sym	b,24,14,1,8
 11741                        	.sym	img,25,142,1,32
 11742                        	.sym	charCode,4,14,6,8
 11743                        	.sym	row,6,5,6,16
 11744                        	.sym	column,8,5,6,16
 11745                        	.sym	color,10,14,6,8
 11746                        	.sym	scale,12,5,6,16
 11747 03:2CEC: 64 09        	stz	<L609+x_1
 11748 03:2CEE: 64 0B        	stz	<L609+y_1
 11749 03:2CF0: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 11750 03:2CF4: 85 01        	sta	<R0
 11751 03:2CF6: A5 01        	lda	<R0
 11752 03:2CF8: A6 31        	ldx	<L608+scale_0
 11753                        	xref	~~~mul
 11754 03:2CFA: 22 xx xx xx  	jsl	~~~mul
 11755 03:2CFE: 85 0D        	sta	<L609+height_1
 11756 03:2D00: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11757 03:2D04: 85 01        	sta	<R0
 11758 03:2D06: A5 01        	lda	<R0
  Thu Dec  3 2020 22:25                                                Page 217


 11759 03:2D08: A6 31        	ldx	<L608+scale_0
 11760                        	xref	~~~mul
 11761 03:2D0A: 22 xx xx xx  	jsl	~~~mul
 11762 03:2D0E: 85 0F        	sta	<L609+width_1
 11763 03:2D10: A5 2B        	lda	<L608+row_0
 11764 03:2D12: A6 0D        	ldx	<L609+height_1
 11765                        	xref	~~~mul
 11766 03:2D14: 22 xx xx xx  	jsl	~~~mul
 11767 03:2D18: 85 11        	sta	<L609+textX_1
 11768 03:2D1A: A5 2D        	lda	<L608+column_0
 11769 03:2D1C: A6 0F        	ldx	<L609+width_1
 11770                        	xref	~~~mul
 11771 03:2D1E: 22 xx xx xx  	jsl	~~~mul
 11772 03:2D22: 85 13        	sta	<L609+textY_1
 11773 03:2D24: 64 15        	stz	<L609+px_1
 11774 03:2D26: 64 17        	stz	<L609+py_1
 11775 03:2D28: 64 19        	stz	<L609+offx_1
 11776 03:2D2A: 64 1B        	stz	<L609+offy_1
 11777 03:2D2C: 64 1D        	stz	<L609+sx_1
 11778 03:2D2E: 64 1F        	stz	<L609+sy_1
 11779 03:2D30: E2 20        	sep	#$20
 11780                        	longa	off
 11781 03:2D32: 64 21        	stz	<L609+b_1
 11782 03:2D34: C2 20        	rep	#$20
 11783                        	longa	on
 11784 03:2D36: 64 22        	stz	<L609+img_1
 11785 03:2D38: 64 24        	stz	<L609+img_1+2
 11786                        	.line	1666
 11787                        ;	{
 11788 03:2D3A: E2 20        	sep	#$20
 11789                        	longa	off
 11790 03:2D3C: A5 29        	lda	<L608+charCode_0
 11791 03:2D3E: C9 20        	cmp	#<$20
 11792 03:2D40: C2 20        	rep	#$20
 11793                        	longa	on
 11794 03:2D42: F0 03        	beq	L611
 11795 03:2D44: 82 07 00     	brl	L10215
 11796                        L611:
 11797                        	.line	1667
 11798                        ;	   img = NULL;
 11799                        	.line	1668
 11800 03:2D47: 64 22        	stz	<L609+img_1
 11801 03:2D49: 64 24        	stz	<L609+img_1+2
 11802                        ;    }
 11803                        	.line	1669
 11804                        ;    else
 11805 03:2D4B: 82 31 00     	brl	L10216
 11806                        L10215:
 11807                        ;	{
 11808                        	.line	1671
 11809                        ;	    img = fontImg[charCode & 0xFF];
 11810                        	.line	1672
 11811 03:2D4E: A5 29        	lda	<L608+charCode_0
 11812 03:2D50: 29 FF 00     	and	#<$ff
 11813 03:2D53: 85 05        	sta	<R1
 11814 03:2D55: A0 00 00     	ldy	#$0
 11815 03:2D58: A5 05        	lda	<R1
 11816 03:2D5A: 10 01        	bpl	L612
  Thu Dec  3 2020 22:25                                                Page 218


 11817 03:2D5C: 88           	dey
 11818                        L612:
 11819 03:2D5D: 85 05        	sta	<R1
 11820 03:2D5F: 84 07        	sty	<R1+2
 11821 03:2D61: D4 07        	pei	<R1+2
 11822 03:2D63: D4 05        	pei	<R1
 11823 03:2D65: A9 06 00     	lda	#$6
 11824                        	xref	~~~lasl
 11825 03:2D68: 22 xx xx xx  	jsl	~~~lasl
 11826 03:2D6C: 85 01        	sta	<R0
 11827 03:2D6E: 86 03        	stx	<R0+2
 11828 03:2D70: 18           	clc
 11829 03:2D71: A9 xx xx     	lda	#<~~fontImg
 11830 03:2D74: 65 01        	adc	<R0
 11831 03:2D76: 85 22        	sta	<L609+img_1
 11832 03:2D78: A9 xx xx     	lda	#^~~fontImg
 11833 03:2D7B: 65 03        	adc	<R0+2
 11834 03:2D7D: 85 24        	sta	<L609+img_1+2
 11835                        ;	}
 11836                        	.line	1673
 11837                        L10216:
 11838                        ;
 11839                        ;	if(img!=NULL)
 11840                        	.line	1675
 11841                        ;	{
 11842 03:2D7F: A5 22        	lda	<L609+img_1
 11843 03:2D81: 05 24        	ora	<L609+img_1+2
 11844 03:2D83: D0 03        	bne	L613
 11845 03:2D85: 82 E3 00     	brl	L10217
 11846                        L613:
 11847                        	.line	1676
 11848                        ;		py = 0;
 11849                        	.line	1677
 11850 03:2D88: 64 17        	stz	<L609+py_1
 11851                        ;		for (y = 0; y < height; y+=scale) 
 11852                        	.line	1678
 11853 03:2D8A: 64 0B        	stz	<L609+y_1
 11854 03:2D8C: 82 CD 00     	brl	L10221
 11855                        L10220:
 11856                        ;		{
 11857                        	.line	1679
 11858                        ;			offy = y;
 11859                        	.line	1680
 11860 03:2D8F: A5 0B        	lda	<L609+y_1
 11861 03:2D91: 85 1B        	sta	<L609+offy_1
 11862                        ;			px = 0;
 11863                        	.line	1681
 11864 03:2D93: 64 15        	stz	<L609+px_1
 11865                        ;			for (x = 0; x < width; x+=scale)
                     
 11866                        	.line	1682
 11867 03:2D95: 64 09        	stz	<L609+x_1
 11868 03:2D97: 82 AA 00     	brl	L10225
 11869                        L10224:
 11870                        ;			{
 11871                        	.line	1683
 11872                        ;				// get the pixel value
 11873                        ;				offx = x;
  Thu Dec  3 2020 22:25                                                Page 219


 11874                        	.line	1685
 11875 03:2D9A: A5 09        	lda	<L609+x_1
 11876 03:2D9C: 85 19        	sta	<L609+offx_1
 11877                        ;				b = img[py * FONTW + px]
                    ;
 11878                        	.line	1686
 11879 03:2D9E: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 11880 03:2DA2: 85 01        	sta	<R0
 11881 03:2DA4: A5 01        	lda	<R0
 11882 03:2DA6: A6 17        	ldx	<L609+py_1
 11883                        	xref	~~~mul
 11884 03:2DA8: 22 xx xx xx  	jsl	~~~mul
 11885 03:2DAC: 85 01        	sta	<R0
 11886 03:2DAE: 18           	clc
 11887 03:2DAF: A5 01        	lda	<R0
 11888 03:2DB1: 65 15        	adc	<L609+px_1
 11889 03:2DB3: 85 05        	sta	<R1
 11890 03:2DB5: E2 20        	sep	#$20
 11891                        	longa	off
 11892 03:2DB7: A4 05        	ldy	<R1
 11893 03:2DB9: B7 22        	lda	[<L609+img_1],Y
 11894 03:2DBB: 85 21        	sta	<L609+b_1
 11895 03:2DBD: C2 20        	rep	#$20
 11896                        	longa	on
 11897                        ;				if (b > 0) 
 11898                        	.line	1687
 11899                        ;				{ // plot the pixel	
                    				
 11900 03:2DBF: E2 20        	sep	#$20
 11901                        	longa	off
 11902 03:2DC1: A9 00        	lda	#$0
 11903 03:2DC3: C5 21        	cmp	<L609+b_1
 11904 03:2DC5: C2 20        	rep	#$20
 11905                        	longa	on
 11906 03:2DC7: 90 03        	bcc	L614
 11907 03:2DC9: 82 6F 00     	brl	L10226
 11908                        L614:
 11909                        	.line	1688
 11910                        ;					offy = y;
 11911                        	.line	1689
 11912 03:2DCC: A5 0B        	lda	<L609+y_1
 11913 03:2DCE: 85 1B        	sta	<L609+offy_1
 11914                        ;					for(sy=0;sy<scal
                    e;sy++)
 11915                        	.line	1690
 11916 03:2DD0: 64 1F        	stz	<L609+sy_1
 11917 03:2DD2: 82 54 00     	brl	L10230
 11918                        L10229:
 11919                        ;					{
 11920                        	.line	1691
 11921                        ;						offx = x
                    ;
 11922                        	.line	1692
 11923 03:2DD5: A5 09        	lda	<L609+x_1
 11924 03:2DD7: 85 19        	sta	<L609+offx_1
 11925                        ;						for(sx=0
                    ;sx<scale;sx++)
 11926                        	.line	1693
  Thu Dec  3 2020 22:25                                                Page 220


 11927 03:2DD9: 64 1D        	stz	<L609+sx_1
 11928 03:2DDB: 82 38 00     	brl	L10234
 11929                        L10233:
 11930                        ;						{
 11931                        	.line	1694
 11932                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 11933                        	.line	1695
 11934 03:2DDE: D4 2F        	pei	<L608+color_0
 11935 03:2DE0: 18           	clc
 11936 03:2DE1: A5 13        	lda	<L609+textY_1
 11937 03:2DE3: 65 1B        	adc	<L609+offy_1
 11938 03:2DE5: 85 01        	sta	<R0
 11939 03:2DE7: A0 00 00     	ldy	#$0
 11940 03:2DEA: A5 01        	lda	<R0
 11941 03:2DEC: 10 01        	bpl	L615
 11942 03:2DEE: 88           	dey
 11943                        L615:
 11944 03:2DEF: 85 01        	sta	<R0
 11945 03:2DF1: 84 03        	sty	<R0+2
 11946 03:2DF3: D4 03        	pei	<R0+2
 11947 03:2DF5: D4 01        	pei	<R0
 11948 03:2DF7: 18           	clc
 11949 03:2DF8: A5 11        	lda	<L609+textX_1
 11950 03:2DFA: 65 19        	adc	<L609+offx_1
 11951 03:2DFC: 85 05        	sta	<R1
 11952 03:2DFE: A0 00 00     	ldy	#$0
 11953 03:2E01: A5 05        	lda	<R1
 11954 03:2E03: 10 01        	bpl	L616
 11955 03:2E05: 88           	dey
 11956                        L616:
 11957 03:2E06: 85 05        	sta	<R1
 11958 03:2E08: 84 07        	sty	<R1+2
 11959 03:2E0A: D4 07        	pei	<R1+2
 11960 03:2E0C: D4 05        	pei	<R1
 11961 03:2E0E: 22 10 0E 03  	jsl	~~k_draw_pixel
 11962                        ;							
                    offx++;
 11963                        	.line	1696
 11964 03:2E12: E6 19        	inc	<L609+offx_1
 11965                        ;						}
 11966                        	.line	1697
 11967                        L10231:
 11968 03:2E14: E6 1D        	inc	<L609+sx_1
 11969                        L10234:
 11970 03:2E16: 38           	sec
 11971 03:2E17: A5 1D        	lda	<L609+sx_1
 11972 03:2E19: E5 31        	sbc	<L608+scale_0
 11973 03:2E1B: 70 03        	bvs	L617
 11974 03:2E1D: 49 00 80     	eor	#$8000
 11975                        L617:
 11976 03:2E20: 30 03        	bmi	L618
 11977 03:2E22: 82 B9 FF     	brl	L10233
 11978                        L618:
 11979                        L10232:
 11980                        ;						offy++;
 11981                        	.line	1698
 11982 03:2E25: E6 1B        	inc	<L609+offy_1
  Thu Dec  3 2020 22:25                                                Page 221


 11983                        ;					}
 11984                        	.line	1699
 11985                        L10227:
 11986 03:2E27: E6 1F        	inc	<L609+sy_1
 11987                        L10230:
 11988 03:2E29: 38           	sec
 11989 03:2E2A: A5 1F        	lda	<L609+sy_1
 11990 03:2E2C: E5 31        	sbc	<L608+scale_0
 11991 03:2E2E: 70 03        	bvs	L619
 11992 03:2E30: 49 00 80     	eor	#$8000
 11993                        L619:
 11994 03:2E33: 30 03        	bmi	L620
 11995 03:2E35: 82 9D FF     	brl	L10229
 11996                        L620:
 11997                        L10228:
 11998                        ;					
 11999                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 12000                        ;				}
 12001                        	.line	1702
 12002                        ;				else 
 12003 03:2E38: 82 00 00     	brl	L10235
 12004                        L10226:
 12005                        ;				{ 
 12006                        	.line	1704
 12007                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12008                        ;				}
 12009                        	.line	1706
 12010                        L10235:
 12011                        ;				px++;
 12012                        	.line	1707
 12013 03:2E3B: E6 15        	inc	<L609+px_1
 12014                        ;			} // end "for x"
 12015                        	.line	1708
 12016                        L10222:
 12017 03:2E3D: 18           	clc
 12018 03:2E3E: A5 09        	lda	<L609+x_1
 12019 03:2E40: 65 31        	adc	<L608+scale_0
 12020 03:2E42: 85 09        	sta	<L609+x_1
 12021                        L10225:
 12022 03:2E44: 38           	sec
 12023 03:2E45: A5 09        	lda	<L609+x_1
 12024 03:2E47: E5 0F        	sbc	<L609+width_1
 12025 03:2E49: 70 03        	bvs	L621
 12026 03:2E4B: 49 00 80     	eor	#$8000
 12027                        L621:
 12028 03:2E4E: 30 03        	bmi	L622
 12029 03:2E50: 82 47 FF     	brl	L10224
 12030                        L622:
 12031                        L10223:
 12032                        ;			py++;
 12033                        	.line	1709
 12034 03:2E53: E6 17        	inc	<L609+py_1
 12035                        ;		} // end "for y"
 12036                        	.line	1710
 12037                        L10218:
 12038 03:2E55: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 222


 12039 03:2E56: A5 0B        	lda	<L609+y_1
 12040 03:2E58: 65 31        	adc	<L608+scale_0
 12041 03:2E5A: 85 0B        	sta	<L609+y_1
 12042                        L10221:
 12043 03:2E5C: 38           	sec
 12044 03:2E5D: A5 0B        	lda	<L609+y_1
 12045 03:2E5F: E5 0D        	sbc	<L609+height_1
 12046 03:2E61: 70 03        	bvs	L623
 12047 03:2E63: 49 00 80     	eor	#$8000
 12048                        L623:
 12049 03:2E66: 30 03        	bmi	L624
 12050 03:2E68: 82 24 FF     	brl	L10220
 12051                        L624:
 12052                        L10219:
 12053                        ;	}
 12054                        	.line	1711
 12055                        ;}
 12056                        L10217:
 12057                        	.line	1712
 12058                        L625:
 12059 03:2E6B: A5 27        	lda	<L608+2
 12060 03:2E6D: 85 31        	sta	<L608+2+10
 12061 03:2E6F: A5 26        	lda	<L608+1
 12062 03:2E71: 85 30        	sta	<L608+1+10
 12063 03:2E73: 2B           	pld
 12064 03:2E74: 3B           	tsc
 12065 03:2E75: 18           	clc
 12066 03:2E76: 69 2F 00     	adc	#L608+10
 12067 03:2E79: 1B           	tcs
 12068 03:2E7A: 6B           	rtl
 12069                        	.endblock	1712
 12070             00000025   L608	equ	37
 12071             00000009   L609	equ	9
 12072 03:2E7B:              	ends
 12073                        	efunc
 12074                        	.endfunc	1712,9,37
 12075                        	.line	1712
 12076                        ;
 12077                        ;
 12078                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 12079                        ;{
 12080                        	.line	1715
 12081                        	.line	1716
 12082                        	GUI
 12083                        	xdef	~~k_draw_char_scaled_point
 12084                        	func
 12085                        	.function	1716
 12086                        ~~k_draw_char_scaled_point:
 12087                        	longa	on
 12088                        	longi	on
 12089 03:2E7B: 3B           	tsc
 12090 03:2E7C: 38           	sec
 12091 03:2E7D: E9 25 00     	sbc	#L626
 12092 03:2E80: 1B           	tcs
 12093 03:2E81: 0B           	phd
 12094 03:2E82: 5B           	tcd
 12095             00000004   charCode_0	set	4
  Thu Dec  3 2020 22:25                                                Page 223


 12096             00000006   locX_0	set	6
 12097             00000008   locY_0	set	8
 12098             0000000A   color_0	set	10
 12099             0000000C   scale_0	set	12
 12100                        	.block	1716
 12101                        ;	int x = 0;
 12102                        ;	int y = 0;
 12103                        ;
 12104                        ;	int height = FONTH * scale;
 12105                        ;	int width  = FONTW * scale;
 12106                        ;	
 12107                        ;	int textX = locX;
 12108                        ;	int textY = locY;
 12109                        ;
 12110                        ;	int px   = 0;
 12111                        ;	int py   = 0;
 12112                        ;	int offx = 0;
 12113                        ;	int offy = 0;
 12114                        ;	int sx   = 0;
 12115                        ;	int sy   = 0;
 12116                        ;
 12117                        ;	char b   = 0;
 12118                        ;
 12119                        ;	char FAR* img = NULL;
 12120                        ;
 12121                        ;    if(charCode == 32)
 12122             00000000   x_1	set	0
 12123             00000002   y_1	set	2
 12124             00000004   height_1	set	4
 12125             00000006   width_1	set	6
 12126             00000008   textX_1	set	8
 12127             0000000A   textY_1	set	10
 12128             0000000C   px_1	set	12
 12129             0000000E   py_1	set	14
 12130             00000010   offx_1	set	16
 12131             00000012   offy_1	set	18
 12132             00000014   sx_1	set	20
 12133             00000016   sy_1	set	22
 12134             00000018   b_1	set	24
 12135             00000019   img_1	set	25
 12136                        	.sym	x,0,5,1,16
 12137                        	.sym	y,2,5,1,16
 12138                        	.sym	height,4,5,1,16
 12139                        	.sym	width,6,5,1,16
 12140                        	.sym	textX,8,5,1,16
 12141                        	.sym	textY,10,5,1,16
 12142                        	.sym	px,12,5,1,16
 12143                        	.sym	py,14,5,1,16
 12144                        	.sym	offx,16,5,1,16
 12145                        	.sym	offy,18,5,1,16
 12146                        	.sym	sx,20,5,1,16
 12147                        	.sym	sy,22,5,1,16
 12148                        	.sym	b,24,14,1,8
 12149                        	.sym	img,25,142,1,32
 12150                        	.sym	charCode,4,14,6,8
 12151                        	.sym	locX,6,5,6,16
 12152                        	.sym	locY,8,5,6,16
 12153                        	.sym	color,10,14,6,8
  Thu Dec  3 2020 22:25                                                Page 224


 12154                        	.sym	scale,12,5,6,16
 12155 03:2E83: 64 09        	stz	<L627+x_1
 12156 03:2E85: 64 0B        	stz	<L627+y_1
 12157 03:2E87: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 12158 03:2E8B: 85 01        	sta	<R0
 12159 03:2E8D: A5 01        	lda	<R0
 12160 03:2E8F: A6 31        	ldx	<L626+scale_0
 12161                        	xref	~~~mul
 12162 03:2E91: 22 xx xx xx  	jsl	~~~mul
 12163 03:2E95: 85 0D        	sta	<L627+height_1
 12164 03:2E97: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 12165 03:2E9B: 85 01        	sta	<R0
 12166 03:2E9D: A5 01        	lda	<R0
 12167 03:2E9F: A6 31        	ldx	<L626+scale_0
 12168                        	xref	~~~mul
 12169 03:2EA1: 22 xx xx xx  	jsl	~~~mul
 12170 03:2EA5: 85 0F        	sta	<L627+width_1
 12171 03:2EA7: A5 2B        	lda	<L626+locX_0
 12172 03:2EA9: 85 11        	sta	<L627+textX_1
 12173 03:2EAB: A5 2D        	lda	<L626+locY_0
 12174 03:2EAD: 85 13        	sta	<L627+textY_1
 12175 03:2EAF: 64 15        	stz	<L627+px_1
 12176 03:2EB1: 64 17        	stz	<L627+py_1
 12177 03:2EB3: 64 19        	stz	<L627+offx_1
 12178 03:2EB5: 64 1B        	stz	<L627+offy_1
 12179 03:2EB7: 64 1D        	stz	<L627+sx_1
 12180 03:2EB9: 64 1F        	stz	<L627+sy_1
 12181 03:2EBB: E2 20        	sep	#$20
 12182                        	longa	off
 12183 03:2EBD: 64 21        	stz	<L627+b_1
 12184 03:2EBF: C2 20        	rep	#$20
 12185                        	longa	on
 12186 03:2EC1: 64 22        	stz	<L627+img_1
 12187 03:2EC3: 64 24        	stz	<L627+img_1+2
 12188                        	.line	1737
 12189                        ;	{
 12190 03:2EC5: E2 20        	sep	#$20
 12191                        	longa	off
 12192 03:2EC7: A5 29        	lda	<L626+charCode_0
 12193 03:2EC9: C9 20        	cmp	#<$20
 12194 03:2ECB: C2 20        	rep	#$20
 12195                        	longa	on
 12196 03:2ECD: F0 03        	beq	L629
 12197 03:2ECF: 82 07 00     	brl	L10236
 12198                        L629:
 12199                        	.line	1738
 12200                        ;	   img = NULL;
 12201                        	.line	1739
 12202 03:2ED2: 64 22        	stz	<L627+img_1
 12203 03:2ED4: 64 24        	stz	<L627+img_1+2
 12204                        ;    }
 12205                        	.line	1740
 12206                        ;    else
 12207 03:2ED6: 82 31 00     	brl	L10237
 12208                        L10236:
 12209                        ;	{
 12210                        	.line	1742
 12211                        ;	    img = fontImg[charCode & 0xFF];
  Thu Dec  3 2020 22:25                                                Page 225


 12212                        	.line	1743
 12213 03:2ED9: A5 29        	lda	<L626+charCode_0
 12214 03:2EDB: 29 FF 00     	and	#<$ff
 12215 03:2EDE: 85 05        	sta	<R1
 12216 03:2EE0: A0 00 00     	ldy	#$0
 12217 03:2EE3: A5 05        	lda	<R1
 12218 03:2EE5: 10 01        	bpl	L630
 12219 03:2EE7: 88           	dey
 12220                        L630:
 12221 03:2EE8: 85 05        	sta	<R1
 12222 03:2EEA: 84 07        	sty	<R1+2
 12223 03:2EEC: D4 07        	pei	<R1+2
 12224 03:2EEE: D4 05        	pei	<R1
 12225 03:2EF0: A9 06 00     	lda	#$6
 12226                        	xref	~~~lasl
 12227 03:2EF3: 22 xx xx xx  	jsl	~~~lasl
 12228 03:2EF7: 85 01        	sta	<R0
 12229 03:2EF9: 86 03        	stx	<R0+2
 12230 03:2EFB: 18           	clc
 12231 03:2EFC: A9 xx xx     	lda	#<~~fontImg
 12232 03:2EFF: 65 01        	adc	<R0
 12233 03:2F01: 85 22        	sta	<L627+img_1
 12234 03:2F03: A9 xx xx     	lda	#^~~fontImg
 12235 03:2F06: 65 03        	adc	<R0+2
 12236 03:2F08: 85 24        	sta	<L627+img_1+2
 12237                        ;	}
 12238                        	.line	1744
 12239                        L10237:
 12240                        ;
 12241                        ;	if(img!=NULL)
 12242                        	.line	1746
 12243                        ;	{
 12244 03:2F0A: A5 22        	lda	<L627+img_1
 12245 03:2F0C: 05 24        	ora	<L627+img_1+2
 12246 03:2F0E: D0 03        	bne	L631
 12247 03:2F10: 82 E3 00     	brl	L10238
 12248                        L631:
 12249                        	.line	1747
 12250                        ;		py = 0;
 12251                        	.line	1748
 12252 03:2F13: 64 17        	stz	<L627+py_1
 12253                        ;		for (y = 0; y < height; y+=scale) 
 12254                        	.line	1749
 12255 03:2F15: 64 0B        	stz	<L627+y_1
 12256 03:2F17: 82 CD 00     	brl	L10242
 12257                        L10241:
 12258                        ;		{
 12259                        	.line	1750
 12260                        ;			offy = y;
 12261                        	.line	1751
 12262 03:2F1A: A5 0B        	lda	<L627+y_1
 12263 03:2F1C: 85 1B        	sta	<L627+offy_1
 12264                        ;			px = 0;
 12265                        	.line	1752
 12266 03:2F1E: 64 15        	stz	<L627+px_1
 12267                        ;			for (x = 0; x < width; x+=scale)
                     
 12268                        	.line	1753
  Thu Dec  3 2020 22:25                                                Page 226


 12269 03:2F20: 64 09        	stz	<L627+x_1
 12270 03:2F22: 82 AA 00     	brl	L10246
 12271                        L10245:
 12272                        ;			{
 12273                        	.line	1754
 12274                        ;				// get the pixel value
 12275                        ;				offx = x;
 12276                        	.line	1756
 12277 03:2F25: A5 09        	lda	<L627+x_1
 12278 03:2F27: 85 19        	sta	<L627+offx_1
 12279                        ;				b = img[py * FONTW + px]
                    ;
 12280                        	.line	1757
 12281 03:2F29: 22 C8 71 03  	jsl	~~k_font_getFontWidth
 12282 03:2F2D: 85 01        	sta	<R0
 12283 03:2F2F: A5 01        	lda	<R0
 12284 03:2F31: A6 17        	ldx	<L627+py_1
 12285                        	xref	~~~mul
 12286 03:2F33: 22 xx xx xx  	jsl	~~~mul
 12287 03:2F37: 85 01        	sta	<R0
 12288 03:2F39: 18           	clc
 12289 03:2F3A: A5 01        	lda	<R0
 12290 03:2F3C: 65 15        	adc	<L627+px_1
 12291 03:2F3E: 85 05        	sta	<R1
 12292 03:2F40: E2 20        	sep	#$20
 12293                        	longa	off
 12294 03:2F42: A4 05        	ldy	<R1
 12295 03:2F44: B7 22        	lda	[<L627+img_1],Y
 12296 03:2F46: 85 21        	sta	<L627+b_1
 12297 03:2F48: C2 20        	rep	#$20
 12298                        	longa	on
 12299                        ;				if (b > 0) 
 12300                        	.line	1758
 12301                        ;				{ // plot the pixel	
                    				
 12302 03:2F4A: E2 20        	sep	#$20
 12303                        	longa	off
 12304 03:2F4C: A9 00        	lda	#$0
 12305 03:2F4E: C5 21        	cmp	<L627+b_1
 12306 03:2F50: C2 20        	rep	#$20
 12307                        	longa	on
 12308 03:2F52: 90 03        	bcc	L632
 12309 03:2F54: 82 6F 00     	brl	L10247
 12310                        L632:
 12311                        	.line	1759
 12312                        ;					offy = y;
 12313                        	.line	1760
 12314 03:2F57: A5 0B        	lda	<L627+y_1
 12315 03:2F59: 85 1B        	sta	<L627+offy_1
 12316                        ;					for(sy=0;sy<scal
                    e;sy++)
 12317                        	.line	1761
 12318 03:2F5B: 64 1F        	stz	<L627+sy_1
 12319 03:2F5D: 82 54 00     	brl	L10251
 12320                        L10250:
 12321                        ;					{
 12322                        	.line	1762
 12323                        ;						offx = x
  Thu Dec  3 2020 22:25                                                Page 227


                    ;
 12324                        	.line	1763
 12325 03:2F60: A5 09        	lda	<L627+x_1
 12326 03:2F62: 85 19        	sta	<L627+offx_1
 12327                        ;						for(sx=0
                    ;sx<scale;sx++)
 12328                        	.line	1764
 12329 03:2F64: 64 1D        	stz	<L627+sx_1
 12330 03:2F66: 82 38 00     	brl	L10255
 12331                        L10254:
 12332                        ;						{
 12333                        	.line	1765
 12334                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 12335                        	.line	1766
 12336 03:2F69: D4 2F        	pei	<L626+color_0
 12337 03:2F6B: 18           	clc
 12338 03:2F6C: A5 13        	lda	<L627+textY_1
 12339 03:2F6E: 65 1B        	adc	<L627+offy_1
 12340 03:2F70: 85 01        	sta	<R0
 12341 03:2F72: A0 00 00     	ldy	#$0
 12342 03:2F75: A5 01        	lda	<R0
 12343 03:2F77: 10 01        	bpl	L633
 12344 03:2F79: 88           	dey
 12345                        L633:
 12346 03:2F7A: 85 01        	sta	<R0
 12347 03:2F7C: 84 03        	sty	<R0+2
 12348 03:2F7E: D4 03        	pei	<R0+2
 12349 03:2F80: D4 01        	pei	<R0
 12350 03:2F82: 18           	clc
 12351 03:2F83: A5 11        	lda	<L627+textX_1
 12352 03:2F85: 65 19        	adc	<L627+offx_1
 12353 03:2F87: 85 05        	sta	<R1
 12354 03:2F89: A0 00 00     	ldy	#$0
 12355 03:2F8C: A5 05        	lda	<R1
 12356 03:2F8E: 10 01        	bpl	L634
 12357 03:2F90: 88           	dey
 12358                        L634:
 12359 03:2F91: 85 05        	sta	<R1
 12360 03:2F93: 84 07        	sty	<R1+2
 12361 03:2F95: D4 07        	pei	<R1+2
 12362 03:2F97: D4 05        	pei	<R1
 12363 03:2F99: 22 10 0E 03  	jsl	~~k_draw_pixel
 12364                        ;							
                    offx++;
 12365                        	.line	1767
 12366 03:2F9D: E6 19        	inc	<L627+offx_1
 12367                        ;						}
 12368                        	.line	1768
 12369                        L10252:
 12370 03:2F9F: E6 1D        	inc	<L627+sx_1
 12371                        L10255:
 12372 03:2FA1: 38           	sec
 12373 03:2FA2: A5 1D        	lda	<L627+sx_1
 12374 03:2FA4: E5 31        	sbc	<L626+scale_0
 12375 03:2FA6: 70 03        	bvs	L635
 12376 03:2FA8: 49 00 80     	eor	#$8000
 12377                        L635:
  Thu Dec  3 2020 22:25                                                Page 228


 12378 03:2FAB: 30 03        	bmi	L636
 12379 03:2FAD: 82 B9 FF     	brl	L10254
 12380                        L636:
 12381                        L10253:
 12382                        ;						offy++;
 12383                        	.line	1769
 12384 03:2FB0: E6 1B        	inc	<L627+offy_1
 12385                        ;					}
 12386                        	.line	1770
 12387                        L10248:
 12388 03:2FB2: E6 1F        	inc	<L627+sy_1
 12389                        L10251:
 12390 03:2FB4: 38           	sec
 12391 03:2FB5: A5 1F        	lda	<L627+sy_1
 12392 03:2FB7: E5 31        	sbc	<L626+scale_0
 12393 03:2FB9: 70 03        	bvs	L637
 12394 03:2FBB: 49 00 80     	eor	#$8000
 12395                        L637:
 12396 03:2FBE: 30 03        	bmi	L638
 12397 03:2FC0: 82 9D FF     	brl	L10250
 12398                        L638:
 12399                        L10249:
 12400                        ;					
 12401                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 12402                        ;				}
 12403                        	.line	1773
 12404                        ;				else 
 12405 03:2FC3: 82 00 00     	brl	L10256
 12406                        L10247:
 12407                        ;				{ 
 12408                        	.line	1775
 12409                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12410                        ;				}
 12411                        	.line	1777
 12412                        L10256:
 12413                        ;				px++;
 12414                        	.line	1778
 12415 03:2FC6: E6 15        	inc	<L627+px_1
 12416                        ;			} // end "for x"
 12417                        	.line	1779
 12418                        L10243:
 12419 03:2FC8: 18           	clc
 12420 03:2FC9: A5 09        	lda	<L627+x_1
 12421 03:2FCB: 65 31        	adc	<L626+scale_0
 12422 03:2FCD: 85 09        	sta	<L627+x_1
 12423                        L10246:
 12424 03:2FCF: 38           	sec
 12425 03:2FD0: A5 09        	lda	<L627+x_1
 12426 03:2FD2: E5 0F        	sbc	<L627+width_1
 12427 03:2FD4: 70 03        	bvs	L639
 12428 03:2FD6: 49 00 80     	eor	#$8000
 12429                        L639:
 12430 03:2FD9: 30 03        	bmi	L640
 12431 03:2FDB: 82 47 FF     	brl	L10245
 12432                        L640:
 12433                        L10244:
  Thu Dec  3 2020 22:25                                                Page 229


 12434                        ;			py++;
 12435                        	.line	1780
 12436 03:2FDE: E6 17        	inc	<L627+py_1
 12437                        ;		} // end "for y"
 12438                        	.line	1781
 12439                        L10239:
 12440 03:2FE0: 18           	clc
 12441 03:2FE1: A5 0B        	lda	<L627+y_1
 12442 03:2FE3: 65 31        	adc	<L626+scale_0
 12443 03:2FE5: 85 0B        	sta	<L627+y_1
 12444                        L10242:
 12445 03:2FE7: 38           	sec
 12446 03:2FE8: A5 0B        	lda	<L627+y_1
 12447 03:2FEA: E5 0D        	sbc	<L627+height_1
 12448 03:2FEC: 70 03        	bvs	L641
 12449 03:2FEE: 49 00 80     	eor	#$8000
 12450                        L641:
 12451 03:2FF1: 30 03        	bmi	L642
 12452 03:2FF3: 82 24 FF     	brl	L10241
 12453                        L642:
 12454                        L10240:
 12455                        ;	}
 12456                        	.line	1782
 12457                        ;}
 12458                        L10238:
 12459                        	.line	1783
 12460                        L643:
 12461 03:2FF6: A5 27        	lda	<L626+2
 12462 03:2FF8: 85 31        	sta	<L626+2+10
 12463 03:2FFA: A5 26        	lda	<L626+1
 12464 03:2FFC: 85 30        	sta	<L626+1+10
 12465 03:2FFE: 2B           	pld
 12466 03:2FFF: 3B           	tsc
 12467 03:3000: 18           	clc
 12468 03:3001: 69 2F 00     	adc	#L626+10
 12469 03:3004: 1B           	tcs
 12470 03:3005: 6B           	rtl
 12471                        	.endblock	1783
 12472             00000025   L626	equ	37
 12473             00000009   L627	equ	9
 12474 03:3006:              	ends
 12475                        	efunc
 12476                        	.endfunc	1783,9,37
 12477                        	.line	1783
 12478                        ;
 12479                        ;
 12480                        ;void k_render_bitmap_info(int fcolor)
 12481                        ;{
 12482                        	.line	1786
 12483                        	.line	1787
 12484                        	GUI
 12485                        	xdef	~~k_render_bitmap_info
 12486                        	func
 12487                        	.function	1787
 12488                        ~~k_render_bitmap_info:
 12489                        	longa	on
 12490                        	longi	on
 12491 03:3006: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 230


 12492 03:3007: 38           	sec
 12493 03:3008: E9 25 00     	sbc	#L644
 12494 03:300B: 1B           	tcs
 12495 03:300C: 0B           	phd
 12496 03:300D: 5B           	tcd
 12497             00000004   fcolor_0	set	4
 12498                        	.block	1787
 12499                        ;	int x;
 12500                        ;	int y;
 12501                        ;	int pos = 0;
 12502                        ;	int i = 0;
 12503                        ;	int k = 0;
 12504                        ;	int cv = 0;
 12505                        ;	int cl = 0;
 12506                        ;	int lv = 0;
 12507                        ;	int lm = 0;
 12508                        ;	int bx = 0;
 12509                        ;	int by = 0;
 12510                        ;	int mx = -1;
 12511                        ;	int my = -1;
 12512                        ;	int mb = -1;
 12513                        ;	int bw = 0;
 12514                        ;	int bh = 0;
 12515                        ;	char kbchar = 0;
 12516                        ;
 12517                        ;	version_title = "Version 1.0.0\0";
 12518             00000000   x_1	set	0
 12519             00000002   y_1	set	2
 12520             00000004   pos_1	set	4
 12521             00000006   i_1	set	6
 12522             00000008   k_1	set	8
 12523             0000000A   cv_1	set	10
 12524             0000000C   cl_1	set	12
 12525             0000000E   lv_1	set	14
 12526             00000010   lm_1	set	16
 12527             00000012   bx_1	set	18
 12528             00000014   by_1	set	20
 12529             00000016   mx_1	set	22
 12530             00000018   my_1	set	24
 12531             0000001A   mb_1	set	26
 12532             0000001C   bw_1	set	28
 12533             0000001E   bh_1	set	30
 12534             00000020   kbchar_1	set	32
 12535                        	.sym	x,0,5,1,16
 12536                        	.sym	y,2,5,1,16
 12537                        	.sym	pos,4,5,1,16
 12538                        	.sym	i,6,5,1,16
 12539                        	.sym	k,8,5,1,16
 12540                        	.sym	cv,10,5,1,16
 12541                        	.sym	cl,12,5,1,16
 12542                        	.sym	lv,14,5,1,16
 12543                        	.sym	lm,16,5,1,16
 12544                        	.sym	bx,18,5,1,16
 12545                        	.sym	by,20,5,1,16
 12546                        	.sym	mx,22,5,1,16
 12547                        	.sym	my,24,5,1,16
 12548                        	.sym	mb,26,5,1,16
 12549                        	.sym	bw,28,5,1,16
  Thu Dec  3 2020 22:25                                                Page 231


 12550                        	.sym	bh,30,5,1,16
 12551                        	.sym	kbchar,32,14,1,8
 12552                        	.sym	fcolor,4,5,6,16
 12553 03:300E: 64 09        	stz	<L645+pos_1
 12554 03:3010: 64 0B        	stz	<L645+i_1
 12555 03:3012: 64 0D        	stz	<L645+k_1
 12556 03:3014: 64 0F        	stz	<L645+cv_1
 12557 03:3016: 64 11        	stz	<L645+cl_1
 12558 03:3018: 64 13        	stz	<L645+lv_1
 12559 03:301A: 64 15        	stz	<L645+lm_1
 12560 03:301C: 64 17        	stz	<L645+bx_1
 12561 03:301E: 64 19        	stz	<L645+by_1
 12562 03:3020: A9 FF FF     	lda	#$ffff
 12563 03:3023: 85 1B        	sta	<L645+mx_1
 12564 03:3025: A9 FF FF     	lda	#$ffff
 12565 03:3028: 85 1D        	sta	<L645+my_1
 12566 03:302A: A9 FF FF     	lda	#$ffff
 12567 03:302D: 85 1F        	sta	<L645+mb_1
 12568 03:302F: 64 21        	stz	<L645+bw_1
 12569 03:3031: 64 23        	stz	<L645+bh_1
 12570 03:3033: E2 20        	sep	#$20
 12571                        	longa	off
 12572 03:3035: 64 25        	stz	<L645+kbchar_1
 12573 03:3037: C2 20        	rep	#$20
 12574                        	longa	on
 12575                        	.line	1806
 12576 03:3039: A9 xx xx     	lda	#<L500
 12577 03:303C: 8D xx xx     	sta	|~~version_title
 12578 03:303F: A9 xx xx     	lda	#^L500
 12579 03:3042: 8D xx xx     	sta	|~~version_title+2
 12580                        ;
 12581                        ;
 12582                        ;	pos=2;
 12583                        	.line	1809
 12584 03:3045: A9 02 00     	lda	#$2
 12585 03:3048: 85 09        	sta	<L645+pos_1
 12586                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 12587                        	.line	1810
 12588 03:304A: F4 00 00     	pea	#<$0
 12589 03:304D: D4 29        	pei	<L644+fcolor_0
 12590 03:304F: F4 xx xx     	pea	#^L500+15
 12591 03:3052: F4 xx xx     	pea	#<L500+15
 12592 03:3055: F4 23 00     	pea	#<$23
 12593 03:3058: D4 09        	pei	<L645+pos_1
 12594 03:305A: 22 6E 19 03  	jsl	~~k_put_draw_text
 12595 03:305E: 85 09        	sta	<L645+pos_1
 12596                        ;	k_get_c256_major_version(buffer);
 12597                        	.line	1811
 12598 03:3060: F4 xx xx     	pea	#^~~buffer
 12599 03:3063: F4 xx xx     	pea	#<~~buffer
 12600 03:3066: 22 xx xx xx  	jsl	~~k_get_c256_major_version
 12601                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 12602                        	.line	1812
 12603 03:306A: F4 00 00     	pea	#<$0
 12604 03:306D: D4 29        	pei	<L644+fcolor_0
 12605 03:306F: F4 xx xx     	pea	#^~~buffer
 12606 03:3072: F4 xx xx     	pea	#<~~buffer
  Thu Dec  3 2020 22:25                                                Page 232


 12607 03:3075: F4 23 00     	pea	#<$23
 12608 03:3078: D4 09        	pei	<L645+pos_1
 12609 03:307A: 22 6E 19 03  	jsl	~~k_put_draw_text
 12610 03:307E: 85 09        	sta	<L645+pos_1
 12611                        ;	k_get_c256_minor_version(buffer);
 12612                        	.line	1813
 12613 03:3080: F4 xx xx     	pea	#^~~buffer
 12614 03:3083: F4 xx xx     	pea	#<~~buffer
 12615 03:3086: 22 xx xx xx  	jsl	~~k_get_c256_minor_version
 12616                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 12617                        	.line	1814
 12618 03:308A: F4 00 00     	pea	#<$0
 12619 03:308D: D4 29        	pei	<L644+fcolor_0
 12620 03:308F: F4 xx xx     	pea	#^~~buffer
 12621 03:3092: F4 xx xx     	pea	#<~~buffer
 12622 03:3095: F4 23 00     	pea	#<$23
 12623 03:3098: D4 09        	pei	<L645+pos_1
 12624 03:309A: 22 6E 19 03  	jsl	~~k_put_draw_text
 12625 03:309E: 85 09        	sta	<L645+pos_1
 12626                        ;	
 12627                        ;	pos=2;
 12628                        	.line	1816
 12629 03:30A0: A9 02 00     	lda	#$2
 12630 03:30A3: 85 09        	sta	<L645+pos_1
 12631                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 12632                        	.line	1817
 12633 03:30A5: F4 00 00     	pea	#<$0
 12634 03:30A8: D4 29        	pei	<L644+fcolor_0
 12635 03:30AA: F4 xx xx     	pea	#^L500+36
 12636 03:30AD: F4 xx xx     	pea	#<L500+36
 12637 03:30B0: F4 25 00     	pea	#<$25
 12638 03:30B3: D4 09        	pei	<L645+pos_1
 12639 03:30B5: 22 6E 19 03  	jsl	~~k_put_draw_text
 12640 03:30B9: 85 09        	sta	<L645+pos_1
 12641                        ;	k_get_fpga_date_month(buffer);
 12642                        	.line	1818
 12643 03:30BB: F4 xx xx     	pea	#^~~buffer
 12644 03:30BE: F4 xx xx     	pea	#<~~buffer
 12645 03:30C1: 22 xx xx xx  	jsl	~~k_get_fpga_date_month
 12646                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 12647                        	.line	1819
 12648 03:30C5: F4 00 00     	pea	#<$0
 12649 03:30C8: D4 29        	pei	<L644+fcolor_0
 12650 03:30CA: F4 02 00     	pea	#<$2
 12651 03:30CD: F4 30 00     	pea	#<$30
 12652 03:30D0: F4 xx xx     	pea	#^~~buffer
 12653 03:30D3: F4 xx xx     	pea	#<~~buffer
 12654 03:30D6: F4 xx xx     	pea	#^~~strbuf
 12655 03:30D9: F4 xx xx     	pea	#<~~strbuf
 12656 03:30DC: 22 xx xx xx  	jsl	~~k_pad_string
 12657 03:30E0: 85 01        	sta	<R0
 12658 03:30E2: 86 03        	stx	<R0+2
 12659 03:30E4: DA           	phx
 12660 03:30E5: 48           	pha
 12661 03:30E6: F4 25 00     	pea	#<$25
 12662 03:30E9: D4 09        	pei	<L645+pos_1
  Thu Dec  3 2020 22:25                                                Page 233


 12663 03:30EB: 22 6E 19 03  	jsl	~~k_put_draw_text
 12664 03:30EF: 85 09        	sta	<L645+pos_1
 12665                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 12666                        	.line	1820
 12667 03:30F1: F4 00 00     	pea	#<$0
 12668 03:30F4: D4 29        	pei	<L644+fcolor_0
 12669 03:30F6: F4 xx xx     	pea	#^L500+50
 12670 03:30F9: F4 xx xx     	pea	#<L500+50
 12671 03:30FC: F4 25 00     	pea	#<$25
 12672 03:30FF: D4 09        	pei	<L645+pos_1
 12673 03:3101: 22 6E 19 03  	jsl	~~k_put_draw_text
 12674 03:3105: 85 09        	sta	<L645+pos_1
 12675                        ;	k_get_fpga_date_day(buffer);
 12676                        	.line	1821
 12677 03:3107: F4 xx xx     	pea	#^~~buffer
 12678 03:310A: F4 xx xx     	pea	#<~~buffer
 12679 03:310D: 22 xx xx xx  	jsl	~~k_get_fpga_date_day
 12680                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 12681                        	.line	1822
 12682 03:3111: F4 00 00     	pea	#<$0
 12683 03:3114: D4 29        	pei	<L644+fcolor_0
 12684 03:3116: F4 02 00     	pea	#<$2
 12685 03:3119: F4 30 00     	pea	#<$30
 12686 03:311C: F4 xx xx     	pea	#^~~buffer
 12687 03:311F: F4 xx xx     	pea	#<~~buffer
 12688 03:3122: F4 xx xx     	pea	#^~~strbuf
 12689 03:3125: F4 xx xx     	pea	#<~~strbuf
 12690 03:3128: 22 xx xx xx  	jsl	~~k_pad_string
 12691 03:312C: 85 01        	sta	<R0
 12692 03:312E: 86 03        	stx	<R0+2
 12693 03:3130: DA           	phx
 12694 03:3131: 48           	pha
 12695 03:3132: F4 25 00     	pea	#<$25
 12696 03:3135: D4 09        	pei	<L645+pos_1
 12697 03:3137: 22 6E 19 03  	jsl	~~k_put_draw_text
 12698 03:313B: 85 09        	sta	<L645+pos_1
 12699                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 12700                        	.line	1823
 12701 03:313D: F4 00 00     	pea	#<$0
 12702 03:3140: D4 29        	pei	<L644+fcolor_0
 12703 03:3142: F4 xx xx     	pea	#^L500+52
 12704 03:3145: F4 xx xx     	pea	#<L500+52
 12705 03:3148: F4 25 00     	pea	#<$25
 12706 03:314B: D4 09        	pei	<L645+pos_1
 12707 03:314D: 22 6E 19 03  	jsl	~~k_put_draw_text
 12708 03:3151: 85 09        	sta	<L645+pos_1
 12709                        ;	k_get_fpga_date_year(buffer);
 12710                        	.line	1824
 12711 03:3153: F4 xx xx     	pea	#^~~buffer
 12712 03:3156: F4 xx xx     	pea	#<~~buffer
 12713 03:3159: 22 xx xx xx  	jsl	~~k_get_fpga_date_year
 12714                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 12715                        	.line	1825
 12716 03:315D: F4 00 00     	pea	#<$0
 12717 03:3160: D4 29        	pei	<L644+fcolor_0
 12718 03:3162: F4 02 00     	pea	#<$2
  Thu Dec  3 2020 22:25                                                Page 234


 12719 03:3165: F4 30 00     	pea	#<$30
 12720 03:3168: F4 xx xx     	pea	#^~~buffer
 12721 03:316B: F4 xx xx     	pea	#<~~buffer
 12722 03:316E: F4 xx xx     	pea	#^~~strbuf
 12723 03:3171: F4 xx xx     	pea	#<~~strbuf
 12724 03:3174: 22 xx xx xx  	jsl	~~k_pad_string
 12725 03:3178: 85 01        	sta	<R0
 12726 03:317A: 86 03        	stx	<R0+2
 12727 03:317C: DA           	phx
 12728 03:317D: 48           	pha
 12729 03:317E: F4 25 00     	pea	#<$25
 12730 03:3181: D4 09        	pei	<L645+pos_1
 12731 03:3183: 22 6E 19 03  	jsl	~~k_put_draw_text
 12732 03:3187: 85 09        	sta	<L645+pos_1
 12733                        ;
 12734                        ;
 12735                        ;	pos = 2;
 12736                        	.line	1828
 12737 03:3189: A9 02 00     	lda	#$2
 12738 03:318C: 85 09        	sta	<L645+pos_1
 12739                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 12740                        	.line	1829
 12741 03:318E: F4 00 00     	pea	#<$0
 12742 03:3191: F4 0F 00     	pea	#<$f
 12743 03:3194: F4 xx xx     	pea	#^L500+54
 12744 03:3197: F4 xx xx     	pea	#<L500+54
 12745 03:319A: F4 02 00     	pea	#<$2
 12746 03:319D: D4 09        	pei	<L645+pos_1
 12747 03:319F: 22 6E 19 03  	jsl	~~k_put_draw_text
 12748 03:31A3: 85 09        	sta	<L645+pos_1
 12749                        ;	k_itoa(fcolor,buffer,10);
 12750                        	.line	1830
 12751 03:31A5: F4 0A 00     	pea	#<$a
 12752 03:31A8: F4 xx xx     	pea	#^~~buffer
 12753 03:31AB: F4 xx xx     	pea	#<~~buffer
 12754 03:31AE: D4 29        	pei	<L644+fcolor_0
 12755 03:31B0: 22 xx xx xx  	jsl	~~k_itoa
 12756                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 12757                        	.line	1831
 12758 03:31B4: F4 00 00     	pea	#<$0
 12759 03:31B7: F4 0F 00     	pea	#<$f
 12760 03:31BA: F4 xx xx     	pea	#^~~buffer
 12761 03:31BD: F4 xx xx     	pea	#<~~buffer
 12762 03:31C0: F4 02 00     	pea	#<$2
 12763 03:31C3: D4 09        	pei	<L645+pos_1
 12764 03:31C5: 22 6E 19 03  	jsl	~~k_put_draw_text
 12765 03:31C9: 85 09        	sta	<L645+pos_1
 12766                        ;
 12767                        ;	pos = 2;
 12768                        	.line	1833
 12769 03:31CB: A9 02 00     	lda	#$2
 12770 03:31CE: 85 09        	sta	<L645+pos_1
 12771                        ;	k_draw_pixel(0,0,fcolor);
 12772                        	.line	1834
 12773 03:31D0: D4 29        	pei	<L644+fcolor_0
 12774 03:31D2: F4 00 00     	pea	#^$0
 12775 03:31D5: F4 00 00     	pea	#<$0
  Thu Dec  3 2020 22:25                                                Page 235


 12776 03:31D8: F4 00 00     	pea	#^$0
 12777 03:31DB: F4 00 00     	pea	#<$0
 12778 03:31DE: 22 10 0E 03  	jsl	~~k_draw_pixel
 12779                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 12780                        	.line	1835
 12781 03:31E2: F4 00 00     	pea	#<$0
 12782 03:31E5: F4 0F 00     	pea	#<$f
 12783 03:31E8: F4 xx xx     	pea	#^L500+69
 12784 03:31EB: F4 xx xx     	pea	#<L500+69
 12785 03:31EE: F4 03 00     	pea	#<$3
 12786 03:31F1: D4 09        	pei	<L645+pos_1
 12787 03:31F3: 22 6E 19 03  	jsl	~~k_put_draw_text
 12788 03:31F7: 85 09        	sta	<L645+pos_1
 12789                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 12790                        	.line	1836
 12791 03:31F9: F4 0A 00     	pea	#<$a
 12792 03:31FC: F4 xx xx     	pea	#^~~buffer
 12793 03:31FF: F4 xx xx     	pea	#<~~buffer
 12794 03:3202: F4 00 00     	pea	#<$0
 12795 03:3205: F4 00 00     	pea	#<$0
 12796 03:3208: 22 AC 0E 03  	jsl	~~k_get_pixel_color
 12797 03:320C: 48           	pha
 12798 03:320D: 22 xx xx xx  	jsl	~~k_itoa
 12799                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 12800                        	.line	1837
 12801 03:3211: F4 00 00     	pea	#<$0
 12802 03:3214: F4 0F 00     	pea	#<$f
 12803 03:3217: F4 xx xx     	pea	#^~~buffer
 12804 03:321A: F4 xx xx     	pea	#<~~buffer
 12805 03:321D: F4 03 00     	pea	#<$3
 12806 03:3220: D4 09        	pei	<L645+pos_1
 12807 03:3222: 22 6E 19 03  	jsl	~~k_put_draw_text
 12808 03:3226: 85 09        	sta	<L645+pos_1
 12809                        ;
 12810                        ;
 12811                        ;
 12812                        ;	pos = 2;
 12813                        	.line	1841
 12814 03:3228: A9 02 00     	lda	#$2
 12815 03:322B: 85 09        	sta	<L645+pos_1
 12816                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
                    ,0);
 12817                        	.line	1842
 12818 03:322D: F4 00 00     	pea	#<$0
 12819 03:3230: D4 29        	pei	<L644+fcolor_0
 12820 03:3232: F4 xx xx     	pea	#^L500+89
 12821 03:3235: F4 xx xx     	pea	#<L500+89
 12822 03:3238: F4 29 00     	pea	#<$29
 12823 03:323B: D4 09        	pei	<L645+pos_1
 12824 03:323D: 22 6E 19 03  	jsl	~~k_put_draw_text
 12825 03:3241: 85 09        	sta	<L645+pos_1
 12826                        ;	k_itoa(sizeof(char),buffer,10);
 12827                        	.line	1843
 12828 03:3243: F4 0A 00     	pea	#<$a
 12829 03:3246: F4 xx xx     	pea	#^~~buffer
 12830 03:3249: F4 xx xx     	pea	#<~~buffer
 12831 03:324C: F4 01 00     	pea	#<$1
  Thu Dec  3 2020 22:25                                                Page 236


 12832 03:324F: 22 xx xx xx  	jsl	~~k_itoa
 12833                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 12834                        	.line	1844
 12835 03:3253: F4 00 00     	pea	#<$0
 12836 03:3256: D4 29        	pei	<L644+fcolor_0
 12837 03:3258: F4 xx xx     	pea	#^~~buffer
 12838 03:325B: F4 xx xx     	pea	#<~~buffer
 12839 03:325E: F4 29 00     	pea	#<$29
 12840 03:3261: D4 09        	pei	<L645+pos_1
 12841 03:3263: 22 6E 19 03  	jsl	~~k_put_draw_text
 12842 03:3267: 85 09        	sta	<L645+pos_1
 12843                        ;
 12844                        ;	pos = 2;
 12845                        	.line	1846
 12846 03:3269: A9 02 00     	lda	#$2
 12847 03:326C: 85 09        	sta	<L645+pos_1
 12848                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 12849                        	.line	1847
 12850 03:326E: F4 00 00     	pea	#<$0
 12851 03:3271: D4 29        	pei	<L644+fcolor_0
 12852 03:3273: F4 xx xx     	pea	#^L500+102
 12853 03:3276: F4 xx xx     	pea	#<L500+102
 12854 03:3279: F4 2A 00     	pea	#<$2a
 12855 03:327C: D4 09        	pei	<L645+pos_1
 12856 03:327E: 22 6E 19 03  	jsl	~~k_put_draw_text
 12857 03:3282: 85 09        	sta	<L645+pos_1
 12858                        ;	k_itoa(sizeof(int),buffer,10);
 12859                        	.line	1848
 12860 03:3284: F4 0A 00     	pea	#<$a
 12861 03:3287: F4 xx xx     	pea	#^~~buffer
 12862 03:328A: F4 xx xx     	pea	#<~~buffer
 12863 03:328D: F4 02 00     	pea	#<$2
 12864 03:3290: 22 xx xx xx  	jsl	~~k_itoa
 12865                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 12866                        	.line	1849
 12867 03:3294: F4 00 00     	pea	#<$0
 12868 03:3297: D4 29        	pei	<L644+fcolor_0
 12869 03:3299: F4 xx xx     	pea	#^~~buffer
 12870 03:329C: F4 xx xx     	pea	#<~~buffer
 12871 03:329F: F4 2A 00     	pea	#<$2a
 12872 03:32A2: D4 09        	pei	<L645+pos_1
 12873 03:32A4: 22 6E 19 03  	jsl	~~k_put_draw_text
 12874 03:32A8: 85 09        	sta	<L645+pos_1
 12875                        ;
 12876                        ;	pos = 2;
 12877                        	.line	1851
 12878 03:32AA: A9 02 00     	lda	#$2
 12879 03:32AD: 85 09        	sta	<L645+pos_1
 12880                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
 12881                        	.line	1852
 12882 03:32AF: F4 00 00     	pea	#<$0
 12883 03:32B2: D4 29        	pei	<L644+fcolor_0
 12884 03:32B4: F4 xx xx     	pea	#^L500+114
 12885 03:32B7: F4 xx xx     	pea	#<L500+114
 12886 03:32BA: F4 2B 00     	pea	#<$2b
 12887 03:32BD: D4 09        	pei	<L645+pos_1
  Thu Dec  3 2020 22:25                                                Page 237


 12888 03:32BF: 22 6E 19 03  	jsl	~~k_put_draw_text
 12889 03:32C3: 85 09        	sta	<L645+pos_1
 12890                        ;	k_itoa(sizeof(long),buffer,10);
 12891                        	.line	1853
 12892 03:32C5: F4 0A 00     	pea	#<$a
 12893 03:32C8: F4 xx xx     	pea	#^~~buffer
 12894 03:32CB: F4 xx xx     	pea	#<~~buffer
 12895 03:32CE: F4 04 00     	pea	#<$4
 12896 03:32D1: 22 xx xx xx  	jsl	~~k_itoa
 12897                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 12898                        	.line	1854
 12899 03:32D5: F4 00 00     	pea	#<$0
 12900 03:32D8: D4 29        	pei	<L644+fcolor_0
 12901 03:32DA: F4 xx xx     	pea	#^~~buffer
 12902 03:32DD: F4 xx xx     	pea	#<~~buffer
 12903 03:32E0: F4 2B 00     	pea	#<$2b
 12904 03:32E3: D4 09        	pei	<L645+pos_1
 12905 03:32E5: 22 6E 19 03  	jsl	~~k_put_draw_text
 12906 03:32E9: 85 09        	sta	<L645+pos_1
 12907                        ;
 12908                        ;	pos = 2;
 12909                        	.line	1856
 12910 03:32EB: A9 02 00     	lda	#$2
 12911 03:32EE: 85 09        	sta	<L645+pos_1
 12912                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 12913                        	.line	1857
 12914 03:32F0: F4 00 00     	pea	#<$0
 12915 03:32F3: D4 29        	pei	<L644+fcolor_0
 12916 03:32F5: F4 xx xx     	pea	#^L500+127
 12917 03:32F8: F4 xx xx     	pea	#<L500+127
 12918 03:32FB: F4 2C 00     	pea	#<$2c
 12919 03:32FE: D4 09        	pei	<L645+pos_1
 12920 03:3300: 22 6E 19 03  	jsl	~~k_put_draw_text
 12921 03:3304: 85 09        	sta	<L645+pos_1
 12922                        ;	k_itoa(sizeof(char*),buffer,10);
 12923                        	.line	1858
 12924 03:3306: F4 0A 00     	pea	#<$a
 12925 03:3309: F4 xx xx     	pea	#^~~buffer
 12926 03:330C: F4 xx xx     	pea	#<~~buffer
 12927 03:330F: F4 04 00     	pea	#<$4
 12928 03:3312: 22 xx xx xx  	jsl	~~k_itoa
 12929                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 12930                        	.line	1859
 12931 03:3316: F4 00 00     	pea	#<$0
 12932 03:3319: D4 29        	pei	<L644+fcolor_0
 12933 03:331B: F4 xx xx     	pea	#^~~buffer
 12934 03:331E: F4 xx xx     	pea	#<~~buffer
 12935 03:3321: F4 2C 00     	pea	#<$2c
 12936 03:3324: D4 09        	pei	<L645+pos_1
 12937 03:3326: 22 6E 19 03  	jsl	~~k_put_draw_text
 12938 03:332A: 85 09        	sta	<L645+pos_1
 12939                        ;
 12940                        ;	pos = 2;
 12941                        	.line	1861
 12942 03:332C: A9 02 00     	lda	#$2
 12943 03:332F: 85 09        	sta	<L645+pos_1
 12944                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
  Thu Dec  3 2020 22:25                                                Page 238


                    color,0);
 12945                        	.line	1862
 12946 03:3331: F4 00 00     	pea	#<$0
 12947 03:3334: D4 29        	pei	<L644+fcolor_0
 12948 03:3336: F4 xx xx     	pea	#^L500+141
 12949 03:3339: F4 xx xx     	pea	#<L500+141
 12950 03:333C: F4 2D 00     	pea	#<$2d
 12951 03:333F: D4 09        	pei	<L645+pos_1
 12952 03:3341: 22 6E 19 03  	jsl	~~k_put_draw_text
 12953 03:3345: 85 09        	sta	<L645+pos_1
 12954                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 12955                        	.line	1863
 12956 03:3347: F4 0A 00     	pea	#<$a
 12957 03:334A: F4 xx xx     	pea	#^~~buffer
 12958 03:334D: F4 xx xx     	pea	#<~~buffer
 12959 03:3350: F4 04 00     	pea	#<$4
 12960 03:3353: 22 xx xx xx  	jsl	~~k_itoa
 12961                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 12962                        	.line	1864
 12963 03:3357: F4 00 00     	pea	#<$0
 12964 03:335A: D4 29        	pei	<L644+fcolor_0
 12965 03:335C: F4 xx xx     	pea	#^~~buffer
 12966 03:335F: F4 xx xx     	pea	#<~~buffer
 12967 03:3362: F4 2D 00     	pea	#<$2d
 12968 03:3365: D4 09        	pei	<L645+pos_1
 12969 03:3367: 22 6E 19 03  	jsl	~~k_put_draw_text
 12970 03:336B: 85 09        	sta	<L645+pos_1
 12971                        ;
 12972                        ;
 12973                        ;	pos = 2;
 12974                        	.line	1867
 12975 03:336D: A9 02 00     	lda	#$2
 12976 03:3370: 85 09        	sta	<L645+pos_1
 12977                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 12978                        	.line	1868
 12979 03:3372: F4 00 00     	pea	#<$0
 12980 03:3375: D4 29        	pei	<L644+fcolor_0
 12981 03:3377: F4 xx xx     	pea	#^L500+159
 12982 03:337A: F4 xx xx     	pea	#<L500+159
 12983 03:337D: F4 2E 00     	pea	#<$2e
 12984 03:3380: D4 09        	pei	<L645+pos_1
 12985 03:3382: 22 6E 19 03  	jsl	~~k_put_draw_text
 12986 03:3386: 85 09        	sta	<L645+pos_1
 12987                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 12988                        	.line	1869
 12989 03:3388: F4 0A 00     	pea	#<$a
 12990 03:338B: F4 xx xx     	pea	#^~~buffer
 12991 03:338E: F4 xx xx     	pea	#<~~buffer
 12992 03:3391: F4 02 00     	pea	#<$2
 12993 03:3394: 22 xx xx xx  	jsl	~~k_itoa
 12994                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 12995                        	.line	1870
 12996 03:3398: F4 00 00     	pea	#<$0
 12997 03:339B: D4 29        	pei	<L644+fcolor_0
 12998 03:339D: F4 xx xx     	pea	#^~~buffer
 12999 03:33A0: F4 xx xx     	pea	#<~~buffer
 13000 03:33A3: F4 2E 00     	pea	#<$2e
  Thu Dec  3 2020 22:25                                                Page 239


 13001 03:33A6: D4 09        	pei	<L645+pos_1
 13002 03:33A8: 22 6E 19 03  	jsl	~~k_put_draw_text
 13003 03:33AC: 85 09        	sta	<L645+pos_1
 13004                        ;
 13005                        ;	pos = 2;
 13006                        	.line	1872
 13007 03:33AE: A9 02 00     	lda	#$2
 13008 03:33B1: 85 09        	sta	<L645+pos_1
 13009                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 13010                        	.line	1873
 13011 03:33B3: F4 00 00     	pea	#<$0
 13012 03:33B6: D4 29        	pei	<L644+fcolor_0
 13013 03:33B8: F4 xx xx     	pea	#^L500+172
 13014 03:33BB: F4 xx xx     	pea	#<L500+172
 13015 03:33BE: F4 2F 00     	pea	#<$2f
 13016 03:33C1: D4 09        	pei	<L645+pos_1
 13017 03:33C3: 22 6E 19 03  	jsl	~~k_put_draw_text
 13018 03:33C7: 85 09        	sta	<L645+pos_1
 13019                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 13020                        	.line	1874
 13021 03:33C9: F4 0A 00     	pea	#<$a
 13022 03:33CC: F4 xx xx     	pea	#^~~buffer
 13023 03:33CF: F4 xx xx     	pea	#<~~buffer
 13024 03:33D2: F4 04 00     	pea	#<$4
 13025 03:33D5: 22 xx xx xx  	jsl	~~k_itoa
 13026                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 13027                        	.line	1875
 13028 03:33D9: F4 00 00     	pea	#<$0
 13029 03:33DC: D4 29        	pei	<L644+fcolor_0
 13030 03:33DE: F4 xx xx     	pea	#^~~buffer
 13031 03:33E1: F4 xx xx     	pea	#<~~buffer
 13032 03:33E4: F4 2F 00     	pea	#<$2f
 13033 03:33E7: D4 09        	pei	<L645+pos_1
 13034 03:33E9: 22 6E 19 03  	jsl	~~k_put_draw_text
 13035 03:33ED: 85 09        	sta	<L645+pos_1
 13036                        ;
 13037                        ;
 13038                        ;				
 13039                        ;	/*
 13040                        ;	pos = 2;
 13041                        ;	pos=k_put_draw_text(pos,49,"MOUSE X:",fcolor,0);
 13042                        ;	k_itoa(mx,buffer,10);
 13043                        ;	pos=k_put_draw_text(pos,49,buffer,fcolor,0);
 13044                        ;	pos = 2;
 13045                        ;	pos=k_put_draw_text(pos,50,"MOUSE Y:",fcolor,0);
 13046                        ;	k_itoa(my,buffer,10);
 13047                        ;	pos=k_put_draw_text(pos,50,buffer,fcolor,0);
 13048                        ;	pos = 2;
 13049                        ;	pos=k_put_draw_text(pos,51,"MOUSE LEFT:",fcolor,
                    0);
 13050                        ;	k_itoa(mb & 0x0001,buffer,10);
 13051                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);	
 13052                        ;	pos=k_put_draw_text(pos,51," MOUSE MIDDLE:",fcol
                    or,0);
 13053                        ;	k_itoa(mb & 0x0004,buffer,10);
 13054                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);
 13055                        ;	pos=k_put_draw_text(pos,51," MOUSE RIGHT:",fcolo
  Thu Dec  3 2020 22:25                                                Page 240


                    r,0);
 13056                        ;	k_itoa(mb & 0x0002,buffer,10);
 13057                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);
 13058                        ;
 13059                        ;	pos = 2;
 13060                        ;	pos=k_put_draw_text(pos,52," KEY INDEX:",fcolor,
                    0);
 13061                        ;	k_itoa(k_get_key_handler(),buffer,10);
 13062                        ;	pos=k_put_draw_text(pos,52,buffer,fcolor,0);
 13063                        ;
 13064                        ;	*/
 13065                        ;}
 13066                        	.line	1905
 13067                        L647:
 13068 03:33EF: A5 27        	lda	<L644+2
 13069 03:33F1: 85 29        	sta	<L644+2+2
 13070 03:33F3: A5 26        	lda	<L644+1
 13071 03:33F5: 85 28        	sta	<L644+1+2
 13072 03:33F7: 2B           	pld
 13073 03:33F8: 3B           	tsc
 13074 03:33F9: 18           	clc
 13075 03:33FA: 69 27 00     	adc	#L644+2
 13076 03:33FD: 1B           	tcs
 13077 03:33FE: 6B           	rtl
 13078                        	.endblock	1905
 13079             00000025   L644	equ	37
 13080             00000005   L645	equ	5
 13081 03:33FF:              	ends
 13082                        	efunc
 13083                        	.endfunc	1905,5,37
 13084                        	.line	1905
 13085                        	data
 13086                        L500:
 13087 00:0826: 56 65 72 73  	db	$56,$65,$72,$73,$69,$6F,$6E,$20,$31,$2E,
                    $30,$2E,$30,$00,$00
       00:082A: 69 6F 6E 20 
       00:082E: 31 2E 30 2E 
       00:0832: 30 00 00 
 13088 00:0835: 46 4F 45 4E  	db	$46,$4F,$45,$4E,$49,$58,$20,$43,$32,$35,
                    $36,$20,$56,$45,$52
       00:0839: 49 58 20 43 
       00:083D: 32 35 36 20 
       00:0841: 56 45 52 
 13089 00:0844: 53 49 4F 4E  	db	$53,$49,$4F,$4E,$3A,$00,$46,$50,$47,$41,
                    $20,$56,$45,$52,$53
       00:0848: 3A 00 46 50 
       00:084C: 47 41 20 56 
       00:0850: 45 52 53 
 13090 00:0853: 49 4F 4E 3A  	db	$49,$4F,$4E,$3A,$00,$2F,$00,$2F,$00,$43,
                    $55,$52,$52,$45,$4E
       00:0857: 00 2F 00 2F 
       00:085B: 00 43 55 52 
       00:085F: 52 45 4E 
 13091 00:0862: 54 20 43 4F  	db	$54,$20,$43,$4F,$4C,$4F,$52,$3A,$00,$52,
                    $45,$41,$44,$20,$43
       00:0866: 4C 4F 52 3A 
       00:086A: 00 52 45 41 
       00:086E: 44 20 43 
  Thu Dec  3 2020 22:25                                                Page 241


 13092 00:0871: 4F 4C 4F 52  	db	$4F,$4C,$4F,$52,$20,$41,$54,$20,$30,$2C,
                    $30,$20,$3A,$00,$53
       00:0875: 20 41 54 20 
       00:0879: 30 2C 30 20 
       00:087D: 3A 00 53 
 13093 00:0880: 49 5A 45 4F  	db	$49,$5A,$45,$4F,$46,$20,$43,$48,$41,$52,
                    $3A,$00,$53,$49,$5A
       00:0884: 46 20 43 48 
       00:0888: 41 52 3A 00 
       00:088C: 53 49 5A 
 13094 00:088F: 45 4F 46 20  	db	$45,$4F,$46,$20,$49,$4E,$54,$3A,$00,$53,
                    $49,$5A,$45,$4F,$46
       00:0893: 49 4E 54 3A 
       00:0897: 00 53 49 5A 
       00:089B: 45 4F 46 
 13095 00:089E: 20 4C 4F 4E  	db	$20,$4C,$4F,$4E,$47,$3A,$00,$53,$49,$5A,
                    $45,$4F,$46,$20,$43
       00:08A2: 47 3A 00 53 
       00:08A6: 49 5A 45 4F 
       00:08AA: 46 20 43 
 13096 00:08AD: 48 41 52 2A  	db	$48,$41,$52,$2A,$3A,$00,$53,$49,$5A,$45,
                    $4F,$46,$20,$43,$48
       00:08B1: 3A 00 53 49 
       00:08B5: 5A 45 4F 46 
       00:08B9: 20 43 48 
 13097 00:08BC: 41 52 20 46  	db	$41,$52,$20,$46,$41,$52,$2A,$3A,$00,$53,
                    $49,$5A,$45,$4F,$46
       00:08C0: 41 52 2A 3A 
       00:08C4: 00 53 49 5A 
       00:08C8: 45 4F 46 
 13098 00:08CB: 20 55 49 4E  	db	$20,$55,$49,$4E,$54,$3A,$00,$53,$49,$5A,
                    $45,$4F,$46,$20,$55
       00:08CF: 54 3A 00 53 
       00:08D3: 49 5A 45 4F 
       00:08D7: 46 20 55 
 13099 00:08DA: 4C 4F 4E 47  	db	$4C,$4F,$4E,$47,$3A,$00
       00:08DE: 3A 00 
 13100 00:08E0:              	ends
 13101                        ;
 13102                        ;void k_draw_lines(void)
 13103                        ;{
 13104                        	.line	1907
 13105                        	.line	1908
 13106                        	GUI
 13107                        	xdef	~~k_draw_lines
 13108                        	func
 13109                        	.function	1908
 13110                        ~~k_draw_lines:
 13111                        	longa	on
 13112                        	longi	on
 13113 03:33FF: 3B           	tsc
 13114 03:3400: 38           	sec
 13115 03:3401: E9 0A 00     	sbc	#L649
 13116 03:3404: 1B           	tcs
 13117 03:3405: 0B           	phd
 13118 03:3406: 5B           	tcd
 13119                        	.block	1908
 13120                        ;	int dx = 0;
  Thu Dec  3 2020 22:25                                                Page 242


 13121                        ;	int dy = 0;
 13122                        ;	int bc = 1;	
 13123                        ;	int dx0 = 0;
 13124                        ;	int dy0 = 0;
 13125                        ;	
 13126                        ;	for(dy=0;dy<480;dy+=5)
 13127             00000000   dx_1	set	0
 13128             00000002   dy_1	set	2
 13129             00000004   bc_1	set	4
 13130             00000006   dx0_1	set	6
 13131             00000008   dy0_1	set	8
 13132                        	.sym	dx,0,5,1,16
 13133                        	.sym	dy,2,5,1,16
 13134                        	.sym	bc,4,5,1,16
 13135                        	.sym	dx0,6,5,1,16
 13136                        	.sym	dy0,8,5,1,16
 13137 03:3407: 64 01        	stz	<L650+dx_1
 13138 03:3409: 64 03        	stz	<L650+dy_1
 13139 03:340B: A9 01 00     	lda	#$1
 13140 03:340E: 85 05        	sta	<L650+bc_1
 13141 03:3410: 64 07        	stz	<L650+dx0_1
 13142 03:3412: 64 09        	stz	<L650+dy0_1
 13143                        	.line	1915
 13144 03:3414: 64 03        	stz	<L650+dy_1
 13145                        L10259:
 13146                        ;	{
 13147                        	.line	1916
 13148                        ;		//if(dx0!=0 && dy0!=0)
 13149                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 13150                        ;		
 13151                        ;		k_draw_line(0,dy,dx,479,bc);
 13152                        	.line	1920
 13153 03:3416: D4 05        	pei	<L650+bc_1
 13154 03:3418: F4 DF 01     	pea	#<$1df
 13155 03:341B: D4 01        	pei	<L650+dx_1
 13156 03:341D: D4 03        	pei	<L650+dy_1
 13157 03:341F: F4 00 00     	pea	#<$0
 13158 03:3422: 22 49 16 03  	jsl	~~k_draw_line
 13159                        ;
 13160                        ;		dx0 = dx;
 13161                        	.line	1922
 13162 03:3426: A5 01        	lda	<L650+dx_1
 13163 03:3428: 85 07        	sta	<L650+dx0_1
 13164                        ;		dy0 = dy;
 13165                        	.line	1923
 13166 03:342A: A5 03        	lda	<L650+dy_1
 13167 03:342C: 85 09        	sta	<L650+dy0_1
 13168                        ;		
 13169                        ;		dx+=5;
 13170                        	.line	1925
 13171 03:342E: 18           	clc
 13172 03:342F: A9 05 00     	lda	#$5
 13173 03:3432: 65 01        	adc	<L650+dx_1
 13174 03:3434: 85 01        	sta	<L650+dx_1
 13175                        ;		bc++;
 13176                        	.line	1926
 13177 03:3436: E6 05        	inc	<L650+bc_1
 13178                        ;		if(bc > 15)
  Thu Dec  3 2020 22:25                                                Page 243


 13179                        	.line	1927
 13180                        ;			bc = 1;
 13181 03:3438: 38           	sec
 13182 03:3439: A9 0F 00     	lda	#$f
 13183 03:343C: E5 05        	sbc	<L650+bc_1
 13184 03:343E: 70 03        	bvs	L652
 13185 03:3440: 49 00 80     	eor	#$8000
 13186                        L652:
 13187 03:3443: 10 03        	bpl	L653
 13188 03:3445: 82 05 00     	brl	L10260
 13189                        L653:
 13190                        	.line	1928
 13191 03:3448: A9 01 00     	lda	#$1
 13192 03:344B: 85 05        	sta	<L650+bc_1
 13193                        ;		
 13194                        ;		
 13195                        ;	}
 13196                        L10260:
 13197                        	.line	1931
 13198                        L10257:
 13199 03:344D: 18           	clc
 13200 03:344E: A9 05 00     	lda	#$5
 13201 03:3451: 65 03        	adc	<L650+dy_1
 13202 03:3453: 85 03        	sta	<L650+dy_1
 13203 03:3455: 38           	sec
 13204 03:3456: A5 03        	lda	<L650+dy_1
 13205 03:3458: E9 E0 01     	sbc	#<$1e0
 13206 03:345B: 70 03        	bvs	L654
 13207 03:345D: 49 00 80     	eor	#$8000
 13208                        L654:
 13209 03:3460: 30 03        	bmi	L655
 13210 03:3462: 82 B1 FF     	brl	L10259
 13211                        L655:
 13212                        L10258:
 13213                        ;
 13214                        ;
 13215                        ;	dx=479;
 13216                        	.line	1934
 13217 03:3465: A9 DF 01     	lda	#$1df
 13218 03:3468: 85 01        	sta	<L650+dx_1
 13219                        ;	bc = 1;
 13220                        	.line	1935
 13221 03:346A: A9 01 00     	lda	#$1
 13222 03:346D: 85 05        	sta	<L650+bc_1
 13223                        ;	for(dy=479;dy>=0;dy-=5)
 13224                        	.line	1936
 13225 03:346F: A9 DF 01     	lda	#$1df
 13226 03:3472: 85 03        	sta	<L650+dy_1
 13227                        L10263:
 13228                        ;	{
 13229                        	.line	1937
 13230                        ;		
 13231                        ;		//if(dx!=480 && dy!=480)
 13232                        ;		//	k_draw_line(640,dy,dx,0,15);
 13233                        ;		
 13234                        ;		k_draw_line(639,dy,dx,0,bc);
 13235                        	.line	1942
 13236 03:3474: D4 05        	pei	<L650+bc_1
  Thu Dec  3 2020 22:25                                                Page 244


 13237 03:3476: F4 00 00     	pea	#<$0
 13238 03:3479: D4 01        	pei	<L650+dx_1
 13239 03:347B: D4 03        	pei	<L650+dy_1
 13240 03:347D: F4 7F 02     	pea	#<$27f
 13241 03:3480: 22 49 16 03  	jsl	~~k_draw_line
 13242                        ;		
 13243                        ;		dx-=5;
 13244                        	.line	1944
 13245 03:3484: 18           	clc
 13246 03:3485: A9 FB FF     	lda	#$fffb
 13247 03:3488: 65 01        	adc	<L650+dx_1
 13248 03:348A: 85 01        	sta	<L650+dx_1
 13249                        ;		bc++;
 13250                        	.line	1945
 13251 03:348C: E6 05        	inc	<L650+bc_1
 13252                        ;		if(bc > 15)
 13253                        	.line	1946
 13254                        ;			bc = 1;
 13255 03:348E: 38           	sec
 13256 03:348F: A9 0F 00     	lda	#$f
 13257 03:3492: E5 05        	sbc	<L650+bc_1
 13258 03:3494: 70 03        	bvs	L656
 13259 03:3496: 49 00 80     	eor	#$8000
 13260                        L656:
 13261 03:3499: 10 03        	bpl	L657
 13262 03:349B: 82 05 00     	brl	L10264
 13263                        L657:
 13264                        	.line	1947
 13265 03:349E: A9 01 00     	lda	#$1
 13266 03:34A1: 85 05        	sta	<L650+bc_1
 13267                        ;	}
 13268                        L10264:
 13269                        	.line	1948
 13270                        L10261:
 13271 03:34A3: 18           	clc
 13272 03:34A4: A9 FB FF     	lda	#$fffb
 13273 03:34A7: 65 03        	adc	<L650+dy_1
 13274 03:34A9: 85 03        	sta	<L650+dy_1
 13275 03:34AB: A5 03        	lda	<L650+dy_1
 13276 03:34AD: 30 03        	bmi	L658
 13277 03:34AF: 82 C2 FF     	brl	L10263
 13278                        L658:
 13279                        L10262:
 13280                        ;	
 13281                        ;	/*
 13282                        ;	for(x=0;x<640;x+=10)
 13283                        ;	{
 13284                        ;		
 13285                        ;		for(y=0;y<480;y+=10)
 13286                        ;		{
 13287                        ;			if(x!=0 && y!=0)
 13288                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 13289                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
 13290                        ;		}
 13291                        ;		
 13292                        ;	}
  Thu Dec  3 2020 22:25                                                Page 245


 13293                        ;	*/
 13294                        ;}
 13295                        	.line	1963
 13296                        L659:
 13297 03:34B2: 2B           	pld
 13298 03:34B3: 3B           	tsc
 13299 03:34B4: 18           	clc
 13300 03:34B5: 69 0A 00     	adc	#L649
 13301 03:34B8: 1B           	tcs
 13302 03:34B9: 6B           	rtl
 13303                        	.endblock	1963
 13304             0000000A   L649	equ	10
 13305             00000001   L650	equ	1
 13306 03:34BA:              	ends
 13307                        	efunc
 13308                        	.endfunc	1963,1,10
 13309                        	.line	1963
 13310                        ;
 13311                        ;void k_draw_fontset(void)
 13312                        ;{
 13313                        	.line	1965
 13314                        	.line	1966
 13315                        	GUI
 13316                        	xdef	~~k_draw_fontset
 13317                        	func
 13318                        	.function	1966
 13319                        ~~k_draw_fontset:
 13320                        	longa	on
 13321                        	longi	on
 13322 03:34BA: 3B           	tsc
 13323 03:34BB: 38           	sec
 13324 03:34BC: E9 0B 00     	sbc	#L660
 13325 03:34BF: 1B           	tcs
 13326 03:34C0: 0B           	phd
 13327 03:34C1: 5B           	tcd
 13328                        	.block	1966
 13329                        ;	int bx = 0;
 13330                        ;	int by = 29; 
 13331                        ;	int bc = 15;
 13332                        ;	char bf = 1;
 13333                        ;	
 13334                        ;	for(bf=0;bf<64;bf++)
 13335             00000000   bx_1	set	0
 13336             00000002   by_1	set	2
 13337             00000004   bc_1	set	4
 13338             00000006   bf_1	set	6
 13339                        	.sym	bx,0,5,1,16
 13340                        	.sym	by,2,5,1,16
 13341                        	.sym	bc,4,5,1,16
 13342                        	.sym	bf,6,14,1,8
 13343 03:34C2: 64 05        	stz	<L661+bx_1
 13344 03:34C4: A9 1D 00     	lda	#$1d
 13345 03:34C7: 85 07        	sta	<L661+by_1
 13346 03:34C9: A9 0F 00     	lda	#$f
 13347 03:34CC: 85 09        	sta	<L661+bc_1
 13348 03:34CE: E2 20        	sep	#$20
 13349                        	longa	off
 13350 03:34D0: A9 01        	lda	#$1
  Thu Dec  3 2020 22:25                                                Page 246


 13351 03:34D2: 85 0B        	sta	<L661+bf_1
 13352 03:34D4: C2 20        	rep	#$20
 13353                        	longa	on
 13354                        	.line	1972
 13355 03:34D6: E2 20        	sep	#$20
 13356                        	longa	off
 13357 03:34D8: 64 0B        	stz	<L661+bf_1
 13358 03:34DA: C2 20        	rep	#$20
 13359                        	longa	on
 13360 03:34DC: 82 81 00     	brl	L10268
 13361                        L10267:
 13362                        ;	{
 13363                        	.line	1973
 13364                        ;		k_draw_char((char)bf*1,bx,by,bc);
 13365                        	.line	1974
 13366 03:34DF: D4 09        	pei	<L661+bc_1
 13367 03:34E1: D4 07        	pei	<L661+by_1
 13368 03:34E3: D4 05        	pei	<L661+bx_1
 13369 03:34E5: A5 0B        	lda	<L661+bf_1
 13370 03:34E7: 29 FF 00     	and	#$ff
 13371 03:34EA: 48           	pha
 13372 03:34EB: 22 BF 2B 03  	jsl	~~k_draw_char
 13373                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 13374                        	.line	1975
 13375 03:34EF: D4 09        	pei	<L661+bc_1
 13376 03:34F1: A5 07        	lda	<L661+by_1
 13377 03:34F3: 1A           	ina
 13378 03:34F4: 48           	pha
 13379 03:34F5: D4 05        	pei	<L661+bx_1
 13380 03:34F7: A5 0B        	lda	<L661+bf_1
 13381 03:34F9: 29 FF 00     	and	#$ff
 13382 03:34FC: 85 01        	sta	<R0
 13383 03:34FE: 18           	clc
 13384 03:34FF: A9 40 00     	lda	#$40
 13385 03:3502: 65 01        	adc	<R0
 13386 03:3504: 48           	pha
 13387 03:3505: 22 BF 2B 03  	jsl	~~k_draw_char
 13388                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 13389                        	.line	1976
 13390 03:3509: D4 09        	pei	<L661+bc_1
 13391 03:350B: 18           	clc
 13392 03:350C: A9 02 00     	lda	#$2
 13393 03:350F: 65 07        	adc	<L661+by_1
 13394 03:3511: 48           	pha
 13395 03:3512: D4 05        	pei	<L661+bx_1
 13396 03:3514: A5 0B        	lda	<L661+bf_1
 13397 03:3516: 29 FF 00     	and	#$ff
 13398 03:3519: 85 01        	sta	<R0
 13399 03:351B: 18           	clc
 13400 03:351C: A9 80 00     	lda	#$80
 13401 03:351F: 65 01        	adc	<R0
 13402 03:3521: 48           	pha
 13403 03:3522: 22 BF 2B 03  	jsl	~~k_draw_char
 13404                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 13405                        	.line	1977
 13406 03:3526: D4 09        	pei	<L661+bc_1
 13407 03:3528: 18           	clc
 13408 03:3529: A9 03 00     	lda	#$3
  Thu Dec  3 2020 22:25                                                Page 247


 13409 03:352C: 65 07        	adc	<L661+by_1
 13410 03:352E: 48           	pha
 13411 03:352F: D4 05        	pei	<L661+bx_1
 13412 03:3531: A5 0B        	lda	<L661+bf_1
 13413 03:3533: 29 FF 00     	and	#$ff
 13414 03:3536: 85 01        	sta	<R0
 13415 03:3538: 18           	clc
 13416 03:3539: A9 C0 00     	lda	#$c0
 13417 03:353C: 65 01        	adc	<R0
 13418 03:353E: 48           	pha
 13419 03:353F: 22 BF 2B 03  	jsl	~~k_draw_char
 13420                        ;
 13421                        ;
 13422                        ;		if(bc > 15)
 13423                        	.line	1980
 13424                        ;			bc = 1;
 13425 03:3543: 38           	sec
 13426 03:3544: A9 0F 00     	lda	#$f
 13427 03:3547: E5 09        	sbc	<L661+bc_1
 13428 03:3549: 70 03        	bvs	L663
 13429 03:354B: 49 00 80     	eor	#$8000
 13430                        L663:
 13431 03:354E: 10 03        	bpl	L664
 13432 03:3550: 82 05 00     	brl	L10269
 13433                        L664:
 13434                        	.line	1981
 13435 03:3553: A9 01 00     	lda	#$1
 13436 03:3556: 85 09        	sta	<L661+bc_1
 13437                        ;		
 13438                        ;		bx++;
 13439                        L10269:
 13440                        	.line	1983
 13441 03:3558: E6 05        	inc	<L661+bx_1
 13442                        ;	}
 13443                        	.line	1984
 13444                        L10265:
 13445 03:355A: E2 20        	sep	#$20
 13446                        	longa	off
 13447 03:355C: E6 0B        	inc	<L661+bf_1
 13448 03:355E: C2 20        	rep	#$20
 13449                        	longa	on
 13450                        L10268:
 13451 03:3560: E2 20        	sep	#$20
 13452                        	longa	off
 13453 03:3562: A5 0B        	lda	<L661+bf_1
 13454 03:3564: C9 40        	cmp	#<$40
 13455 03:3566: C2 20        	rep	#$20
 13456                        	longa	on
 13457 03:3568: B0 03        	bcs	L665
 13458 03:356A: 82 72 FF     	brl	L10267
 13459                        L665:
 13460                        L10266:
 13461                        ;
 13462                        ;}
 13463                        	.line	1986
 13464                        L666:
 13465 03:356D: 2B           	pld
 13466 03:356E: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 248


 13467 03:356F: 18           	clc
 13468 03:3570: 69 0B 00     	adc	#L660
 13469 03:3573: 1B           	tcs
 13470 03:3574: 6B           	rtl
 13471                        	.endblock	1986
 13472             0000000B   L660	equ	11
 13473             00000005   L661	equ	5
 13474 03:3575:              	ends
 13475                        	efunc
 13476                        	.endfunc	1986,5,11
 13477                        	.line	1986
 13478                        ;
 13479                        ;
 13480                        ;void k_fill_bank(int bankId,char fcolor)
 13481                        ;{
 13482                        	.line	1989
 13483                        	.line	1990
 13484                        	GUI
 13485                        	xdef	~~k_fill_bank
 13486                        	func
 13487                        	.function	1990
 13488                        ~~k_fill_bank:
 13489                        	longa	on
 13490                        	longi	on
 13491 03:3575: 3B           	tsc
 13492 03:3576: 38           	sec
 13493 03:3577: E9 08 00     	sbc	#L667
 13494 03:357A: 1B           	tcs
 13495 03:357B: 0B           	phd
 13496 03:357C: 5B           	tcd
 13497             00000004   bankId_0	set	4
 13498             00000006   fcolor_0	set	6
 13499                        	.block	1990
 13500                        ;	long fill = 0xffffL;
 13501                        ;	
 13502                        ;	if(bankId == 0)
 13503             00000000   fill_1	set	0
 13504                        	.sym	fill,0,7,1,32
 13505                        	.sym	bankId,4,5,6,16
 13506                        	.sym	fcolor,6,14,6,8
 13507 03:357D: A9 FF FF     	lda	#$ffff
 13508 03:3580: 85 05        	sta	<L668+fill_1
 13509 03:3582: A9 00 00     	lda	#$0
 13510 03:3585: 85 07        	sta	<L668+fill_1+2
 13511                        	.line	1993
 13512                        ;	{
 13513 03:3587: A5 0C        	lda	<L667+bankId_0
 13514 03:3589: F0 03        	beq	L670
 13515 03:358B: 82 2C 00     	brl	L10270
 13516                        L670:
 13517                        	.line	1994
 13518                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 13519                        	.line	1995
 13520 03:358E: D4 05        	pei	<L668+fill_1
 13521 03:3590: A5 0E        	lda	<L667+fcolor_0
 13522 03:3592: 29 FF 00     	and	#$ff
 13523 03:3595: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 249


 13524 03:3596: F4 B0 00     	pea	#^$b00000
 13525 03:3599: F4 00 00     	pea	#<$b00000
 13526 03:359C: 22 xx xx xx  	jsl	~~memset
 13527                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 13528                        	.line	1996
 13529 03:35A0: 18           	clc
 13530 03:35A1: A9 00 00     	lda	#$0
 13531 03:35A4: 65 05        	adc	<L668+fill_1
 13532 03:35A6: 85 01        	sta	<R0
 13533 03:35A8: A9 B0 00     	lda	#$b0
 13534 03:35AB: 65 07        	adc	<L668+fill_1+2
 13535 03:35AD: 85 03        	sta	<R0+2
 13536 03:35AF: E2 20        	sep	#$20
 13537                        	longa	off
 13538 03:35B1: A5 0E        	lda	<L667+fcolor_0
 13539 03:35B3: 87 01        	sta	[<R0]
 13540 03:35B5: C2 20        	rep	#$20
 13541                        	longa	on
 13542                        ;	}
 13543                        	.line	1997
 13544                        ;	else if(bankId == 1)
 13545 03:35B7: 82 0B 01     	brl	L10271
 13546                        L10270:
 13547                        	.line	1998
 13548                        ;	{
 13549 03:35BA: A5 0C        	lda	<L667+bankId_0
 13550 03:35BC: C9 01 00     	cmp	#<$1
 13551 03:35BF: F0 03        	beq	L671
 13552 03:35C1: 82 2C 00     	brl	L10272
 13553                        L671:
 13554                        	.line	1999
 13555                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 13556                        	.line	2000
 13557 03:35C4: D4 05        	pei	<L668+fill_1
 13558 03:35C6: A5 0E        	lda	<L667+fcolor_0
 13559 03:35C8: 29 FF 00     	and	#$ff
 13560 03:35CB: 48           	pha
 13561 03:35CC: F4 B1 00     	pea	#^$b10000
 13562 03:35CF: F4 00 00     	pea	#<$b10000
 13563 03:35D2: 22 xx xx xx  	jsl	~~memset
 13564                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 13565                        	.line	2001
 13566 03:35D6: 18           	clc
 13567 03:35D7: A9 00 00     	lda	#$0
 13568 03:35DA: 65 05        	adc	<L668+fill_1
 13569 03:35DC: 85 01        	sta	<R0
 13570 03:35DE: A9 B1 00     	lda	#$b1
 13571 03:35E1: 65 07        	adc	<L668+fill_1+2
 13572 03:35E3: 85 03        	sta	<R0+2
 13573 03:35E5: E2 20        	sep	#$20
 13574                        	longa	off
 13575 03:35E7: A5 0E        	lda	<L667+fcolor_0
 13576 03:35E9: 87 01        	sta	[<R0]
 13577 03:35EB: C2 20        	rep	#$20
 13578                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 250


 13579                        ;	}
 13580                        	.line	2002
 13581                        ;	else if(bankId == 2)
 13582 03:35ED: 82 D5 00     	brl	L10273
 13583                        L10272:
 13584                        	.line	2003
 13585                        ;	{
 13586 03:35F0: A5 0C        	lda	<L667+bankId_0
 13587 03:35F2: C9 02 00     	cmp	#<$2
 13588 03:35F5: F0 03        	beq	L672
 13589 03:35F7: 82 2C 00     	brl	L10274
 13590                        L672:
 13591                        	.line	2004
 13592                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 13593                        	.line	2005
 13594 03:35FA: D4 05        	pei	<L668+fill_1
 13595 03:35FC: A5 0E        	lda	<L667+fcolor_0
 13596 03:35FE: 29 FF 00     	and	#$ff
 13597 03:3601: 48           	pha
 13598 03:3602: F4 B2 00     	pea	#^$b20000
 13599 03:3605: F4 00 00     	pea	#<$b20000
 13600 03:3608: 22 xx xx xx  	jsl	~~memset
 13601                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 13602                        	.line	2006
 13603 03:360C: 18           	clc
 13604 03:360D: A9 00 00     	lda	#$0
 13605 03:3610: 65 05        	adc	<L668+fill_1
 13606 03:3612: 85 01        	sta	<R0
 13607 03:3614: A9 B2 00     	lda	#$b2
 13608 03:3617: 65 07        	adc	<L668+fill_1+2
 13609 03:3619: 85 03        	sta	<R0+2
 13610 03:361B: E2 20        	sep	#$20
 13611                        	longa	off
 13612 03:361D: A5 0E        	lda	<L667+fcolor_0
 13613 03:361F: 87 01        	sta	[<R0]
 13614 03:3621: C2 20        	rep	#$20
 13615                        	longa	on
 13616                        ;	}
 13617                        	.line	2007
 13618                        ;	else if(bankId == 3)
 13619 03:3623: 82 9F 00     	brl	L10275
 13620                        L10274:
 13621                        	.line	2008
 13622                        ;	{
 13623 03:3626: A5 0C        	lda	<L667+bankId_0
 13624 03:3628: C9 03 00     	cmp	#<$3
 13625 03:362B: F0 03        	beq	L673
 13626 03:362D: 82 2C 00     	brl	L10276
 13627                        L673:
 13628                        	.line	2009
 13629                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 13630                        	.line	2010
 13631 03:3630: D4 05        	pei	<L668+fill_1
 13632 03:3632: A5 0E        	lda	<L667+fcolor_0
 13633 03:3634: 29 FF 00     	and	#$ff
  Thu Dec  3 2020 22:25                                                Page 251


 13634 03:3637: 48           	pha
 13635 03:3638: F4 B3 00     	pea	#^$b30000
 13636 03:363B: F4 00 00     	pea	#<$b30000
 13637 03:363E: 22 xx xx xx  	jsl	~~memset
 13638                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 13639                        	.line	2011
 13640 03:3642: 18           	clc
 13641 03:3643: A9 00 00     	lda	#$0
 13642 03:3646: 65 05        	adc	<L668+fill_1
 13643 03:3648: 85 01        	sta	<R0
 13644 03:364A: A9 B3 00     	lda	#$b3
 13645 03:364D: 65 07        	adc	<L668+fill_1+2
 13646 03:364F: 85 03        	sta	<R0+2
 13647 03:3651: E2 20        	sep	#$20
 13648                        	longa	off
 13649 03:3653: A5 0E        	lda	<L667+fcolor_0
 13650 03:3655: 87 01        	sta	[<R0]
 13651 03:3657: C2 20        	rep	#$20
 13652                        	longa	on
 13653                        ;	}
 13654                        	.line	2012
 13655                        ;	else if(bankId == 4)
 13656 03:3659: 82 69 00     	brl	L10277
 13657                        L10276:
 13658                        	.line	2013
 13659                        ;	{
 13660 03:365C: A5 0C        	lda	<L667+bankId_0
 13661 03:365E: C9 04 00     	cmp	#<$4
 13662 03:3661: F0 03        	beq	L674
 13663 03:3663: 82 2C 00     	brl	L10278
 13664                        L674:
 13665                        	.line	2014
 13666                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 13667                        	.line	2015
 13668 03:3666: D4 05        	pei	<L668+fill_1
 13669 03:3668: A5 0E        	lda	<L667+fcolor_0
 13670 03:366A: 29 FF 00     	and	#$ff
 13671 03:366D: 48           	pha
 13672 03:366E: F4 B4 00     	pea	#^$b40000
 13673 03:3671: F4 00 00     	pea	#<$b40000
 13674 03:3674: 22 xx xx xx  	jsl	~~memset
 13675                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
 13676                        	.line	2016
 13677 03:3678: 18           	clc
 13678 03:3679: A9 00 00     	lda	#$0
 13679 03:367C: 65 05        	adc	<L668+fill_1
 13680 03:367E: 85 01        	sta	<R0
 13681 03:3680: A9 B4 00     	lda	#$b4
 13682 03:3683: 65 07        	adc	<L668+fill_1+2
 13683 03:3685: 85 03        	sta	<R0+2
 13684 03:3687: E2 20        	sep	#$20
 13685                        	longa	off
 13686 03:3689: A5 0E        	lda	<L667+fcolor_0
 13687 03:368B: 87 01        	sta	[<R0]
 13688 03:368D: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 252


 13689                        	longa	on
 13690                        ;	}
 13691                        	.line	2017
 13692                        ;	else if(bankId == 5)
 13693 03:368F: 82 33 00     	brl	L10279
 13694                        L10278:
 13695                        	.line	2018
 13696                        ;	{
 13697 03:3692: A5 0C        	lda	<L667+bankId_0
 13698 03:3694: C9 05 00     	cmp	#<$5
 13699 03:3697: F0 03        	beq	L675
 13700 03:3699: 82 29 00     	brl	L10280
 13701                        L675:
 13702                        	.line	2019
 13703                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 13704                        	.line	2020
 13705 03:369C: D4 05        	pei	<L668+fill_1
 13706 03:369E: A5 0E        	lda	<L667+fcolor_0
 13707 03:36A0: 29 FF 00     	and	#$ff
 13708 03:36A3: 48           	pha
 13709 03:36A4: F4 B5 00     	pea	#^$b50000
 13710 03:36A7: F4 00 00     	pea	#<$b50000
 13711 03:36AA: 22 xx xx xx  	jsl	~~memset
 13712                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 13713                        	.line	2021
 13714 03:36AE: 18           	clc
 13715 03:36AF: A9 00 00     	lda	#$0
 13716 03:36B2: 65 05        	adc	<L668+fill_1
 13717 03:36B4: 85 01        	sta	<R0
 13718 03:36B6: A9 B5 00     	lda	#$b5
 13719 03:36B9: 65 07        	adc	<L668+fill_1+2
 13720 03:36BB: 85 03        	sta	<R0+2
 13721 03:36BD: E2 20        	sep	#$20
 13722                        	longa	off
 13723 03:36BF: A5 0E        	lda	<L667+fcolor_0
 13724 03:36C1: 87 01        	sta	[<R0]
 13725 03:36C3: C2 20        	rep	#$20
 13726                        	longa	on
 13727                        ;	}
 13728                        	.line	2022
 13729                        ;
 13730                        ;}
 13731                        L10280:
 13732                        L10279:
 13733                        L10277:
 13734                        L10275:
 13735                        L10273:
 13736                        L10271:
 13737                        	.line	2024
 13738                        L676:
 13739 03:36C5: A5 0A        	lda	<L667+2
 13740 03:36C7: 85 0E        	sta	<L667+2+4
 13741 03:36C9: A5 09        	lda	<L667+1
 13742 03:36CB: 85 0D        	sta	<L667+1+4
 13743 03:36CD: 2B           	pld
 13744 03:36CE: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 253


 13745 03:36CF: 18           	clc
 13746 03:36D0: 69 0C 00     	adc	#L667+4
 13747 03:36D3: 1B           	tcs
 13748 03:36D4: 6B           	rtl
 13749                        	.endblock	2024
 13750             00000008   L667	equ	8
 13751             00000005   L668	equ	5
 13752 03:36D5:              	ends
 13753                        	efunc
 13754                        	.endfunc	2024,5,8
 13755                        	.line	2024
 13756                        ;
 13757                        ;
 13758                        ;
 13759                        ;
 13760                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
 13761                        ;{
 13762                        	.line	2029
 13763                        	.line	2030
 13764                        	GUI
 13765                        	xdef	~~k_fill_line
 13766                        	func
 13767                        	.function	2030
 13768                        ~~k_fill_line:
 13769                        	longa	on
 13770                        	longi	on
 13771 03:36D5: 3B           	tsc
 13772 03:36D6: 38           	sec
 13773 03:36D7: E9 0C 00     	sbc	#L677
 13774 03:36DA: 1B           	tcs
 13775 03:36DB: 0B           	phd
 13776 03:36DC: 5B           	tcd
 13777             00000004   cx_0	set	4
 13778             00000006   cy_0	set	6
 13779             00000008   width_0	set	8
 13780             0000000A   color_0	set	10
 13781                        	.block	2030
 13782                        ;
 13783                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 13784                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
                    cStart]),color,width);
 13785             00000000   locStart_1	set	0
 13786                        	.sym	locStart,0,7,1,32
 13787                        	.sym	cx,4,5,6,16
 13788                        	.sym	cy,6,5,6,16
 13789                        	.sym	width,8,5,6,16
 13790                        	.sym	color,10,5,6,16
 13791 03:36DD: A0 00 00     	ldy	#$0
 13792 03:36E0: A5 10        	lda	<L677+cx_0
 13793 03:36E2: 10 01        	bpl	L680
 13794 03:36E4: 88           	dey
 13795                        L680:
 13796 03:36E5: 85 01        	sta	<R0
 13797 03:36E7: 84 03        	sty	<R0+2
 13798 03:36E9: A0 00 00     	ldy	#$0
 13799 03:36EC: A5 12        	lda	<L677+cy_0
  Thu Dec  3 2020 22:25                                                Page 254


 13800 03:36EE: 10 01        	bpl	L681
 13801 03:36F0: 88           	dey
 13802                        L681:
 13803 03:36F1: 85 05        	sta	<R1
 13804 03:36F3: 84 07        	sty	<R1+2
 13805 03:36F5: F4 00 00     	pea	#^$280
 13806 03:36F8: F4 80 02     	pea	#<$280
 13807 03:36FB: D4 07        	pei	<R1+2
 13808 03:36FD: D4 05        	pei	<R1
 13809                        	xref	~~~lmul
 13810 03:36FF: 22 xx xx xx  	jsl	~~~lmul
 13811 03:3703: 85 05        	sta	<R1
 13812 03:3705: 86 07        	stx	<R1+2
 13813 03:3707: 18           	clc
 13814 03:3708: A5 05        	lda	<R1
 13815 03:370A: 65 01        	adc	<R0
 13816 03:370C: 85 09        	sta	<L678+locStart_1
 13817 03:370E: A5 07        	lda	<R1+2
 13818 03:3710: 65 03        	adc	<R0+2
 13819 03:3712: 85 0B        	sta	<L678+locStart_1+2
 13820                        	.line	2033
 13821 03:3714: D4 14        	pei	<L677+width_0
 13822 03:3716: D4 16        	pei	<L677+color_0
 13823 03:3718: 18           	clc
 13824 03:3719: A9 00 00     	lda	#$0
 13825 03:371C: 65 09        	adc	<L678+locStart_1
 13826 03:371E: 85 01        	sta	<R0
 13827 03:3720: A9 B0 00     	lda	#$b0
 13828 03:3723: 65 0B        	adc	<L678+locStart_1+2
 13829 03:3725: 85 03        	sta	<R0+2
 13830 03:3727: D4 03        	pei	<R0+2
 13831 03:3729: D4 01        	pei	<R0
 13832 03:372B: 22 xx xx xx  	jsl	~~memset
 13833                        ;}
 13834                        	.line	2034
 13835                        L682:
 13836 03:372F: A5 0E        	lda	<L677+2
 13837 03:3731: 85 16        	sta	<L677+2+8
 13838 03:3733: A5 0D        	lda	<L677+1
 13839 03:3735: 85 15        	sta	<L677+1+8
 13840 03:3737: 2B           	pld
 13841 03:3738: 3B           	tsc
 13842 03:3739: 18           	clc
 13843 03:373A: 69 14 00     	adc	#L677+8
 13844 03:373D: 1B           	tcs
 13845 03:373E: 6B           	rtl
 13846                        	.endblock	2034
 13847             0000000C   L677	equ	12
 13848             00000009   L678	equ	9
 13849 03:373F:              	ends
 13850                        	efunc
 13851                        	.endfunc	2034,9,12
 13852                        	.line	2034
 13853                        ;
 13854                        ;void k_vdraw_filled_rect(int cx,int cy,int height
                    ,int width,int color)
 13855                        ;{
 13856                        	.line	2036
  Thu Dec  3 2020 22:25                                                Page 255


 13857                        	.line	2037
 13858                        	GUI
 13859                        	xdef	~~k_vdraw_filled_rect
 13860                        	func
 13861                        	.function	2037
 13862                        ~~k_vdraw_filled_rect:
 13863                        	longa	on
 13864                        	longi	on
 13865 03:373F: 3B           	tsc
 13866 03:3740: 38           	sec
 13867 03:3741: E9 14 00     	sbc	#L683
 13868 03:3744: 1B           	tcs
 13869 03:3745: 0B           	phd
 13870 03:3746: 5B           	tcd
 13871             00000004   cx_0	set	4
 13872             00000006   cy_0	set	6
 13873             00000008   height_0	set	8
 13874             0000000A   width_0	set	10
 13875             0000000C   color_0	set	12
 13876                        	.block	2037
 13877                        ;	int x = 0;
 13878                        ;	int y = 0;
 13879                        ;	int dx = cx + width;
 13880                        ;	int dy = cy + height;
 13881                        ;	
 13882                        ;	if(dx > 639)
 13883             00000000   x_1	set	0
 13884             00000002   y_1	set	2
 13885             00000004   dx_1	set	4
 13886             00000006   dy_1	set	6
 13887                        	.sym	x,0,5,1,16
 13888                        	.sym	y,2,5,1,16
 13889                        	.sym	dx,4,5,1,16
 13890                        	.sym	dy,6,5,1,16
 13891                        	.sym	cx,4,5,6,16
 13892                        	.sym	cy,6,5,6,16
 13893                        	.sym	height,8,5,6,16
 13894                        	.sym	width,10,5,6,16
 13895                        	.sym	color,12,5,6,16
 13896 03:3747: 64 09        	stz	<L684+x_1
 13897 03:3749: 64 0B        	stz	<L684+y_1
 13898 03:374B: 18           	clc
 13899 03:374C: A5 18        	lda	<L683+cx_0
 13900 03:374E: 65 1E        	adc	<L683+width_0
 13901 03:3750: 85 0D        	sta	<L684+dx_1
 13902 03:3752: 18           	clc
 13903 03:3753: A5 1A        	lda	<L683+cy_0
 13904 03:3755: 65 1C        	adc	<L683+height_0
 13905 03:3757: 85 0F        	sta	<L684+dy_1
 13906                        	.line	2043
 13907                        ;		dx = 639;
 13908 03:3759: 38           	sec
 13909 03:375A: A9 7F 02     	lda	#$27f
 13910 03:375D: E5 0D        	sbc	<L684+dx_1
 13911 03:375F: 70 03        	bvs	L686
 13912 03:3761: 49 00 80     	eor	#$8000
 13913                        L686:
 13914 03:3764: 10 03        	bpl	L687
  Thu Dec  3 2020 22:25                                                Page 256


 13915 03:3766: 82 05 00     	brl	L10281
 13916                        L687:
 13917                        	.line	2044
 13918 03:3769: A9 7F 02     	lda	#$27f
 13919 03:376C: 85 0D        	sta	<L684+dx_1
 13920                        ;	if(dy > 479)
 13921                        L10281:
 13922                        	.line	2045
 13923                        ;		dy = 479;
 13924 03:376E: 38           	sec
 13925 03:376F: A9 DF 01     	lda	#$1df
 13926 03:3772: E5 0F        	sbc	<L684+dy_1
 13927 03:3774: 70 03        	bvs	L688
 13928 03:3776: 49 00 80     	eor	#$8000
 13929                        L688:
 13930 03:3779: 10 03        	bpl	L689
 13931 03:377B: 82 05 00     	brl	L10282
 13932                        L689:
 13933                        	.line	2046
 13934 03:377E: A9 DF 01     	lda	#$1df
 13935 03:3781: 85 0F        	sta	<L684+dy_1
 13936                        ;	
 13937                        ;	for(y=cy;y<dy;y++)
 13938                        L10282:
 13939                        	.line	2048
 13940 03:3783: A5 1A        	lda	<L683+cy_0
 13941 03:3785: 85 0B        	sta	<L684+y_1
 13942 03:3787: 82 39 00     	brl	L10286
 13943                        L10285:
 13944                        ;	{
 13945                        	.line	2049
 13946                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 13947                        ;		//memset(&(((unsigned char FAR *)SHADOW_
                    BANK_0)[locStart]),color,dx - cx);
 13948                        ;	}
 13949                        	.block	2052
 13950             00000008   locStart_2	set	8
 13951                        	.sym	locStart,8,7,1,32
 13952 03:378A: A0 00 00     	ldy	#$0
 13953 03:378D: A5 18        	lda	<L683+cx_0
 13954 03:378F: 10 01        	bpl	L691
 13955 03:3791: 88           	dey
 13956                        L691:
 13957 03:3792: 85 01        	sta	<R0
 13958 03:3794: 84 03        	sty	<R0+2
 13959 03:3796: A0 00 00     	ldy	#$0
 13960 03:3799: A5 0B        	lda	<L684+y_1
 13961 03:379B: 10 01        	bpl	L692
 13962 03:379D: 88           	dey
 13963                        L692:
 13964 03:379E: 85 05        	sta	<R1
 13965 03:37A0: 84 07        	sty	<R1+2
 13966 03:37A2: F4 00 00     	pea	#^$280
 13967 03:37A5: F4 80 02     	pea	#<$280
 13968 03:37A8: D4 07        	pei	<R1+2
 13969 03:37AA: D4 05        	pei	<R1
 13970                        	xref	~~~lmul
  Thu Dec  3 2020 22:25                                                Page 257


 13971 03:37AC: 22 xx xx xx  	jsl	~~~lmul
 13972 03:37B0: 85 05        	sta	<R1
 13973 03:37B2: 86 07        	stx	<R1+2
 13974 03:37B4: 18           	clc
 13975 03:37B5: A5 05        	lda	<R1
 13976 03:37B7: 65 01        	adc	<R0
 13977 03:37B9: 85 11        	sta	<L684+locStart_2
 13978 03:37BB: A5 07        	lda	<R1+2
 13979 03:37BD: 65 03        	adc	<R0+2
 13980 03:37BF: 85 13        	sta	<L684+locStart_2+2
 13981                        	.endblock	2052
 13982                        	.line	2052
 13983                        L10283:
 13984 03:37C1: E6 0B        	inc	<L684+y_1
 13985                        L10286:
 13986 03:37C3: 38           	sec
 13987 03:37C4: A5 0B        	lda	<L684+y_1
 13988 03:37C6: E5 0F        	sbc	<L684+dy_1
 13989 03:37C8: 70 03        	bvs	L693
 13990 03:37CA: 49 00 80     	eor	#$8000
 13991                        L693:
 13992 03:37CD: 30 03        	bmi	L694
 13993 03:37CF: 82 B8 FF     	brl	L10285
 13994                        L694:
 13995                        L10284:
 13996                        ;}
 13997                        	.line	2053
 13998                        L695:
 13999 03:37D2: A5 16        	lda	<L683+2
 14000 03:37D4: 85 20        	sta	<L683+2+10
 14001 03:37D6: A5 15        	lda	<L683+1
 14002 03:37D8: 85 1F        	sta	<L683+1+10
 14003 03:37DA: 2B           	pld
 14004 03:37DB: 3B           	tsc
 14005 03:37DC: 18           	clc
 14006 03:37DD: 69 1E 00     	adc	#L683+10
 14007 03:37E0: 1B           	tcs
 14008 03:37E1: 6B           	rtl
 14009                        	.endblock	2053
 14010             00000014   L683	equ	20
 14011             00000009   L684	equ	9
 14012 03:37E2:              	ends
 14013                        	efunc
 14014                        	.endfunc	2053,9,20
 14015                        	.line	2053
 14016                        ;
 14017                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 14018                        ;{
 14019                        	.line	2055
 14020                        	.line	2056
 14021                        	GUI
 14022                        	xdef	~~k_draw_filled_rect
 14023                        	func
 14024                        	.function	2056
 14025                        ~~k_draw_filled_rect:
 14026                        	longa	on
 14027                        	longi	on
  Thu Dec  3 2020 22:25                                                Page 258


 14028 03:37E2: 3B           	tsc
 14029 03:37E3: 38           	sec
 14030 03:37E4: E9 14 00     	sbc	#L696
 14031 03:37E7: 1B           	tcs
 14032 03:37E8: 0B           	phd
 14033 03:37E9: 5B           	tcd
 14034             00000004   cx_0	set	4
 14035             00000006   cy_0	set	6
 14036             00000008   height_0	set	8
 14037             0000000A   width_0	set	10
 14038             0000000C   color_0	set	12
 14039                        	.block	2056
 14040                        ;	int x = 0;
 14041                        ;	int y = 0;
 14042                        ;	int dx = cx + width;
 14043                        ;	int dy = cy + height;
 14044                        ;	
 14045                        ;	if(dx > 639)
 14046             00000000   x_1	set	0
 14047             00000002   y_1	set	2
 14048             00000004   dx_1	set	4
 14049             00000006   dy_1	set	6
 14050                        	.sym	x,0,5,1,16
 14051                        	.sym	y,2,5,1,16
 14052                        	.sym	dx,4,5,1,16
 14053                        	.sym	dy,6,5,1,16
 14054                        	.sym	cx,4,5,6,16
 14055                        	.sym	cy,6,5,6,16
 14056                        	.sym	height,8,5,6,16
 14057                        	.sym	width,10,5,6,16
 14058                        	.sym	color,12,5,6,16
 14059 03:37EA: 64 09        	stz	<L697+x_1
 14060 03:37EC: 64 0B        	stz	<L697+y_1
 14061 03:37EE: 18           	clc
 14062 03:37EF: A5 18        	lda	<L696+cx_0
 14063 03:37F1: 65 1E        	adc	<L696+width_0
 14064 03:37F3: 85 0D        	sta	<L697+dx_1
 14065 03:37F5: 18           	clc
 14066 03:37F6: A5 1A        	lda	<L696+cy_0
 14067 03:37F8: 65 1C        	adc	<L696+height_0
 14068 03:37FA: 85 0F        	sta	<L697+dy_1
 14069                        	.line	2062
 14070                        ;		dx = 639;
 14071 03:37FC: 38           	sec
 14072 03:37FD: A9 7F 02     	lda	#$27f
 14073 03:3800: E5 0D        	sbc	<L697+dx_1
 14074 03:3802: 70 03        	bvs	L699
 14075 03:3804: 49 00 80     	eor	#$8000
 14076                        L699:
 14077 03:3807: 10 03        	bpl	L700
 14078 03:3809: 82 05 00     	brl	L10287
 14079                        L700:
 14080                        	.line	2063
 14081 03:380C: A9 7F 02     	lda	#$27f
 14082 03:380F: 85 0D        	sta	<L697+dx_1
 14083                        ;	if(dy > 479)
 14084                        L10287:
 14085                        	.line	2064
  Thu Dec  3 2020 22:25                                                Page 259


 14086                        ;		dy = 479;
 14087 03:3811: 38           	sec
 14088 03:3812: A9 DF 01     	lda	#$1df
 14089 03:3815: E5 0F        	sbc	<L697+dy_1
 14090 03:3817: 70 03        	bvs	L701
 14091 03:3819: 49 00 80     	eor	#$8000
 14092                        L701:
 14093 03:381C: 10 03        	bpl	L702
 14094 03:381E: 82 05 00     	brl	L10288
 14095                        L702:
 14096                        	.line	2065
 14097 03:3821: A9 DF 01     	lda	#$1df
 14098 03:3824: 85 0F        	sta	<L697+dy_1
 14099                        ;	
 14100                        ;	for(y=cy;y<dy;y++)
 14101                        L10288:
 14102                        	.line	2067
 14103 03:3826: A5 1A        	lda	<L696+cy_0
 14104 03:3828: 85 0B        	sta	<L697+y_1
 14105 03:382A: 82 39 00     	brl	L10292
 14106                        L10291:
 14107                        ;	{
 14108                        	.line	2068
 14109                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 14110                        ;		//memset(&(((unsigned char FAR *)BITMAP_
                    BANK_0)[locStart]),color,dx - cx);
 14111                        ;	}
 14112                        	.block	2071
 14113             00000008   locStart_2	set	8
 14114                        	.sym	locStart,8,7,1,32
 14115 03:382D: A0 00 00     	ldy	#$0
 14116 03:3830: A5 18        	lda	<L696+cx_0
 14117 03:3832: 10 01        	bpl	L704
 14118 03:3834: 88           	dey
 14119                        L704:
 14120 03:3835: 85 01        	sta	<R0
 14121 03:3837: 84 03        	sty	<R0+2
 14122 03:3839: A0 00 00     	ldy	#$0
 14123 03:383C: A5 0B        	lda	<L697+y_1
 14124 03:383E: 10 01        	bpl	L705
 14125 03:3840: 88           	dey
 14126                        L705:
 14127 03:3841: 85 05        	sta	<R1
 14128 03:3843: 84 07        	sty	<R1+2
 14129 03:3845: F4 00 00     	pea	#^$280
 14130 03:3848: F4 80 02     	pea	#<$280
 14131 03:384B: D4 07        	pei	<R1+2
 14132 03:384D: D4 05        	pei	<R1
 14133                        	xref	~~~lmul
 14134 03:384F: 22 xx xx xx  	jsl	~~~lmul
 14135 03:3853: 85 05        	sta	<R1
 14136 03:3855: 86 07        	stx	<R1+2
 14137 03:3857: 18           	clc
 14138 03:3858: A5 05        	lda	<R1
 14139 03:385A: 65 01        	adc	<R0
 14140 03:385C: 85 11        	sta	<L697+locStart_2
 14141 03:385E: A5 07        	lda	<R1+2
  Thu Dec  3 2020 22:25                                                Page 260


 14142 03:3860: 65 03        	adc	<R0+2
 14143 03:3862: 85 13        	sta	<L697+locStart_2+2
 14144                        	.endblock	2071
 14145                        	.line	2071
 14146                        L10289:
 14147 03:3864: E6 0B        	inc	<L697+y_1
 14148                        L10292:
 14149 03:3866: 38           	sec
 14150 03:3867: A5 0B        	lda	<L697+y_1
 14151 03:3869: E5 0F        	sbc	<L697+dy_1
 14152 03:386B: 70 03        	bvs	L706
 14153 03:386D: 49 00 80     	eor	#$8000
 14154                        L706:
 14155 03:3870: 30 03        	bmi	L707
 14156 03:3872: 82 B8 FF     	brl	L10291
 14157                        L707:
 14158                        L10290:
 14159                        ;}
 14160                        	.line	2072
 14161                        L708:
 14162 03:3875: A5 16        	lda	<L696+2
 14163 03:3877: 85 20        	sta	<L696+2+10
 14164 03:3879: A5 15        	lda	<L696+1
 14165 03:387B: 85 1F        	sta	<L696+1+10
 14166 03:387D: 2B           	pld
 14167 03:387E: 3B           	tsc
 14168 03:387F: 18           	clc
 14169 03:3880: 69 1E 00     	adc	#L696+10
 14170 03:3883: 1B           	tcs
 14171 03:3884: 6B           	rtl
 14172                        	.endblock	2072
 14173             00000014   L696	equ	20
 14174             00000009   L697	equ	9
 14175 03:3885:              	ends
 14176                        	efunc
 14177                        	.endfunc	2072,9,20
 14178                        	.line	2072
 14179                        ;
 14180                        ;
 14181                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 14182                        ;{
 14183                        	.line	2075
 14184                        	.line	2076
 14185                        	GUI
 14186                        	xdef	~~k_create_ui_window_class
 14187                        	func
 14188                        	.function	2076
 14189                        ~~k_create_ui_window_class:
 14190                        	longa	on
 14191                        	longi	on
 14192 03:3885: 3B           	tsc
 14193 03:3886: 38           	sec
 14194 03:3887: E9 08 00     	sbc	#L709
 14195 03:388A: 1B           	tcs
 14196 03:388B: 0B           	phd
 14197 03:388C: 5B           	tcd
  Thu Dec  3 2020 22:25                                                Page 261


 14198             00000004   cx_0	set	4
 14199             00000006   cy_0	set	6
 14200             00000008   height_0	set	8
 14201             0000000A   width_0	set	10
 14202             0000000C   title_0	set	12
 14203             00000010   className_0	set	16
 14204             00000014   wndProc_0	set	20
 14205                        	.block	2076
 14206                        ;	PWINDOW pWin = NULL;
 14207                        ;
 14208                        ;	if(className && title)
 14209             00000000   pWin_1	set	0
 14210                        	.sym	pWin,0,138,1,32,30
 14211                        	.sym	cx,4,5,6,16
 14212                        	.sym	cy,6,5,6,16
 14213                        	.sym	height,8,5,6,16
 14214                        	.sym	width,10,5,6,16
 14215                        	.sym	title,12,142,6,32
 14216                        	.sym	className,16,142,6,32
 14217                        	.sym	wndProc,20,654,6,32
 14218 03:388D: 64 05        	stz	<L710+pWin_1
 14219 03:388F: 64 07        	stz	<L710+pWin_1+2
 14220                        	.line	2079
 14221                        ;	{
 14222 03:3891: A5 18        	lda	<L709+className_0
 14223 03:3893: 05 1A        	ora	<L709+className_0+2
 14224 03:3895: D0 03        	bne	L712
 14225 03:3897: 82 F6 00     	brl	L10293
 14226                        L712:
 14227 03:389A: A5 14        	lda	<L709+title_0
 14228 03:389C: 05 16        	ora	<L709+title_0+2
 14229 03:389E: D0 03        	bne	L713
 14230 03:38A0: 82 ED 00     	brl	L10293
 14231                        L713:
 14232                        	.line	2080
 14233                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 14234                        	.line	2081
 14235 03:38A3: F4 5F 01     	pea	#<$15f
 14236 03:38A6: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 14237 03:38AA: 85 05        	sta	<L710+pWin_1
 14238 03:38AC: 86 07        	stx	<L710+pWin_1+2
 14239                        ;		if(pWin)
 14240                        	.line	2082
 14241                        ;		{
 14242 03:38AE: A5 05        	lda	<L710+pWin_1
 14243 03:38B0: 05 07        	ora	<L710+pWin_1+2
 14244 03:38B2: D0 03        	bne	L714
 14245 03:38B4: 82 D9 00     	brl	L10294
 14246                        L714:
 14247                        	.line	2083
 14248                        ;			memset(pWin,0,sizeof(WINDOW));
 14249                        	.line	2084
 14250 03:38B7: F4 5F 01     	pea	#<$15f
 14251 03:38BA: F4 00 00     	pea	#<$0
 14252 03:38BD: D4 07        	pei	<L710+pWin_1+2
 14253 03:38BF: D4 05        	pei	<L710+pWin_1
 14254 03:38C1: 22 xx xx xx  	jsl	~~memset
  Thu Dec  3 2020 22:25                                                Page 262


 14255                        ;
 14256                        ;			strcpy(pWin->win_title,title);
 14257                        	.line	2086
 14258 03:38C5: D4 16        	pei	<L709+title_0+2
 14259 03:38C7: D4 14        	pei	<L709+title_0
 14260 03:38C9: 18           	clc
 14261 03:38CA: A9 D4 00     	lda	#$d4
 14262 03:38CD: 65 05        	adc	<L710+pWin_1
 14263 03:38CF: 85 01        	sta	<R0
 14264 03:38D1: A9 00 00     	lda	#$0
 14265 03:38D4: 65 07        	adc	<L710+pWin_1+2
 14266 03:38D6: 85 03        	sta	<R0+2
 14267 03:38D8: D4 03        	pei	<R0+2
 14268 03:38DA: D4 01        	pei	<R0
 14269 03:38DC: 22 xx xx xx  	jsl	~~strcpy
 14270                        ;			strcpy(pWin->win_class,className
                    );
 14271                        	.line	2087
 14272 03:38E0: D4 1A        	pei	<L709+className_0+2
 14273 03:38E2: D4 18        	pei	<L709+className_0
 14274 03:38E4: 18           	clc
 14275 03:38E5: A9 F6 00     	lda	#$f6
 14276 03:38E8: 65 05        	adc	<L710+pWin_1
 14277 03:38EA: 85 01        	sta	<R0
 14278 03:38EC: A9 00 00     	lda	#$0
 14279 03:38EF: 65 07        	adc	<L710+pWin_1+2
 14280 03:38F1: 85 03        	sta	<R0+2
 14281 03:38F3: D4 03        	pei	<R0+2
 14282 03:38F5: D4 01        	pei	<R0
 14283 03:38F7: 22 xx xx xx  	jsl	~~strcpy
 14284                        ;			pWin->win_x = cx;
 14285                        	.line	2088
 14286 03:38FB: A5 0C        	lda	<L709+cx_0
 14287 03:38FD: A0 08 00     	ldy	#$8
 14288 03:3900: 97 05        	sta	[<L710+pWin_1],Y
 14289                        ;			pWin->win_y = cy;
 14290                        	.line	2089
 14291 03:3902: A5 0E        	lda	<L709+cy_0
 14292 03:3904: A0 0A 00     	ldy	#$a
 14293 03:3907: 97 05        	sta	[<L710+pWin_1],Y
 14294                        ;			pWin->win_width  = width;
 14295                        	.line	2090
 14296 03:3909: A5 12        	lda	<L709+width_0
 14297 03:390B: A0 0C 00     	ldy	#$c
 14298 03:390E: 97 05        	sta	[<L710+pWin_1],Y
 14299                        ;			pWin->win_height = height;
 14300                        	.line	2091
 14301 03:3910: A5 10        	lda	<L709+height_0
 14302 03:3912: A0 0E 00     	ldy	#$e
 14303 03:3915: 97 05        	sta	[<L710+pWin_1],Y
 14304                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 14305                        	.line	2092
 14306 03:3917: F4 0B 00     	pea	#<$b
 14307 03:391A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 14308 03:391E: 85 01        	sta	<R0
 14309 03:3920: 86 03        	stx	<R0+2
 14310 03:3922: A5 01        	lda	<R0
  Thu Dec  3 2020 22:25                                                Page 263


 14311 03:3924: A0 D0 00     	ldy	#$d0
 14312 03:3927: 97 05        	sta	[<L710+pWin_1],Y
 14313 03:3929: A5 03        	lda	<R0+2
 14314 03:392B: A0 D2 00     	ldy	#$d2
 14315 03:392E: 97 05        	sta	[<L710+pWin_1],Y
 14316                        ;			if(pWin->clickable)
 14317                        	.line	2093
 14318                        ;			{
 14319 03:3930: A0 D0 00     	ldy	#$d0
 14320 03:3933: B7 05        	lda	[<L710+pWin_1],Y
 14321 03:3935: A0 D2 00     	ldy	#$d2
 14322 03:3938: 17 05        	ora	[<L710+pWin_1],Y
 14323 03:393A: D0 03        	bne	L715
 14324 03:393C: 82 51 00     	brl	L10295
 14325                        L715:
 14326                        	.line	2094
 14327                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 14328                        	.line	2095
 14329 03:393F: A0 D0 00     	ldy	#$d0
 14330 03:3942: B7 05        	lda	[<L710+pWin_1],Y
 14331 03:3944: 85 01        	sta	<R0
 14332 03:3946: A0 D2 00     	ldy	#$d2
 14333 03:3949: B7 05        	lda	[<L710+pWin_1],Y
 14334 03:394B: 85 03        	sta	<R0+2
 14335 03:394D: A5 0C        	lda	<L709+cx_0
 14336 03:394F: 87 01        	sta	[<R0]
 14337                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 14338                        	.line	2096
 14339 03:3951: A0 D0 00     	ldy	#$d0
 14340 03:3954: B7 05        	lda	[<L710+pWin_1],Y
 14341 03:3956: 85 01        	sta	<R0
 14342 03:3958: A0 D2 00     	ldy	#$d2
 14343 03:395B: B7 05        	lda	[<L710+pWin_1],Y
 14344 03:395D: 85 03        	sta	<R0+2
 14345 03:395F: A5 0E        	lda	<L709+cy_0
 14346 03:3961: A0 02 00     	ldy	#$2
 14347 03:3964: 97 01        	sta	[<R0],Y
 14348                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 14349                        	.line	2097
 14350 03:3966: A0 D0 00     	ldy	#$d0
 14351 03:3969: B7 05        	lda	[<L710+pWin_1],Y
 14352 03:396B: 85 01        	sta	<R0
 14353 03:396D: A0 D2 00     	ldy	#$d2
 14354 03:3970: B7 05        	lda	[<L710+pWin_1],Y
 14355 03:3972: 85 03        	sta	<R0+2
 14356 03:3974: A5 10        	lda	<L709+height_0
 14357 03:3976: A0 06 00     	ldy	#$6
 14358 03:3979: 97 01        	sta	[<R0],Y
 14359                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 14360                        	.line	2098
 14361 03:397B: A0 D0 00     	ldy	#$d0
 14362 03:397E: B7 05        	lda	[<L710+pWin_1],Y
 14363 03:3980: 85 01        	sta	<R0
 14364 03:3982: A0 D2 00     	ldy	#$d2
  Thu Dec  3 2020 22:25                                                Page 264


 14365 03:3985: B7 05        	lda	[<L710+pWin_1],Y
 14366 03:3987: 85 03        	sta	<R0+2
 14367 03:3989: A5 12        	lda	<L709+width_0
 14368 03:398B: A0 04 00     	ldy	#$4
 14369 03:398E: 97 01        	sta	[<R0],Y
 14370                        ;			}
 14371                        	.line	2099
 14372                        ;			//pWin->WndProc = wndProc;
 14373                        ;		}
 14374                        L10295:
 14375                        	.line	2101
 14376                        ;	}
 14377                        L10294:
 14378                        	.line	2102
 14379                        ;
 14380                        ;	return pWin;
 14381                        L10293:
 14382                        	.line	2104
 14383 03:3990: A6 07        	ldx	<L710+pWin_1+2
 14384 03:3992: A5 05        	lda	<L710+pWin_1
 14385                        L716:
 14386 03:3994: A8           	tay
 14387 03:3995: A5 0A        	lda	<L709+2
 14388 03:3997: 85 1E        	sta	<L709+2+20
 14389 03:3999: A5 09        	lda	<L709+1
 14390 03:399B: 85 1D        	sta	<L709+1+20
 14391 03:399D: 2B           	pld
 14392 03:399E: 3B           	tsc
 14393 03:399F: 18           	clc
 14394 03:39A0: 69 1C 00     	adc	#L709+20
 14395 03:39A3: 1B           	tcs
 14396 03:39A4: 98           	tya
 14397 03:39A5: 6B           	rtl
 14398                        ;}
 14399                        	.line	2105
 14400                        	.endblock	2105
 14401             00000008   L709	equ	8
 14402             00000005   L710	equ	5
 14403 03:39A6:              	ends
 14404                        	efunc
 14405                        	.endfunc	2105,5,8
 14406                        	.line	2105
 14407                        ;
 14408                        ;
 14409                        ;void k_draw_nonclient_area(PRECT wndRect,PRECT cl
                    ientRect,UINT style,LPCSTR title,int color,int bgcolor)
 14410                        ;{
 14411                        	.line	2108
 14412                        	.line	2109
 14413                        	GUI
 14414                        	xdef	~~k_draw_nonclient_area
 14415                        	func
 14416                        	.function	2109
 14417                        ~~k_draw_nonclient_area:
 14418                        	longa	on
 14419                        	longi	on
 14420 03:39A6: 3B           	tsc
 14421 03:39A7: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 265


 14422 03:39A8: E9 32 00     	sbc	#L717
 14423 03:39AB: 1B           	tcs
 14424 03:39AC: 0B           	phd
 14425 03:39AD: 5B           	tcd
 14426             00000004   wndRect_0	set	4
 14427             00000008   clientRect_0	set	8
 14428             0000000C   style_0	set	12
 14429             0000000E   title_0	set	14
 14430             00000012   color_0	set	18
 14431             00000014   bgcolor_0	set	20
 14432                        	.block	2109
 14433                        ;	//PWINDOW pWin,ULONG style,
 14434                        ;
 14435                        ;	int cx = wndRect->x;
 14436                        ;	int cy = wndRect->x;
 14437                        ;	int height = wndRect->height;
 14438                        ;	int width = wndRect->width;
 14439                        ;
 14440                        ;	FONTMETRIC metric;
 14441                        ;
 14442                        ;	int i = 0;
 14443                        ;	int odd = 1;
 14444                        ;	int borderColor = 0;
 14445                        ;	int borderTitle = 0;
 14446                        ;	int borderWidth = 0;
 14447                        ;
 14448                        ;	int titleOffsetX = 0;
 14449                        ;	int titleOffsetY = 0;
 14450                        ;	int titleScaler = 0;
 14451                        ;
 14452                        ;	int clientOffsetX = 0;
 14453                        ;	int clientOffsetY = 0;
 14454                        ;
 14455                        ;	int currX = 0;
 14456                        ;	int currY = 0;
 14457                        ;
 14458                        ;	int endX = 0;
 14459                        ;
 14460                        ;	int maxminPos = 0;
 14461                        ;
 14462                        ;
 14463                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 14464                        ;
 14465                        ;
 14466                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 14467             00000000   cx_1	set	0
 14468             00000002   cy_1	set	2
 14469             00000004   height_1	set	4
 14470             00000006   width_1	set	6
 14471             00000008   metric_1	set	8
 14472             0000000C   i_1	set	12
 14473             0000000E   odd_1	set	14
 14474             00000010   borderColor_1	set	16
 14475             00000012   borderTitle_1	set	18
 14476             00000014   borderWidth_1	set	20
 14477             00000016   titleOffsetX_1	set	22
 14478             00000018   titleOffsetY_1	set	24
  Thu Dec  3 2020 22:25                                                Page 266


 14479             0000001A   titleScaler_1	set	26
 14480             0000001C   clientOffsetX_1	set	28
 14481             0000001E   clientOffsetY_1	set	30
 14482             00000020   currX_1	set	32
 14483             00000022   currY_1	set	34
 14484             00000024   endX_1	set	36
 14485             00000026   maxminPos_1	set	38
 14486             00000028   fillOffset_1	set	40
 14487                        	.sym	cx,0,5,1,16
 14488                        	.sym	cy,2,5,1,16
 14489                        	.sym	height,4,5,1,16
 14490                        	.sym	width,6,5,1,16
 14491                        	.sym	metric,8,10,1,32,32
 14492                        	.sym	i,12,5,1,16
 14493                        	.sym	odd,14,5,1,16
 14494                        	.sym	borderColor,16,5,1,16
 14495                        	.sym	borderTitle,18,5,1,16
 14496                        	.sym	borderWidth,20,5,1,16
 14497                        	.sym	titleOffsetX,22,5,1,16
 14498                        	.sym	titleOffsetY,24,5,1,16
 14499                        	.sym	titleScaler,26,5,1,16
 14500                        	.sym	clientOffsetX,28,5,1,16
 14501                        	.sym	clientOffsetY,30,5,1,16
 14502                        	.sym	currX,32,5,1,16
 14503                        	.sym	currY,34,5,1,16
 14504                        	.sym	endX,36,5,1,16
 14505                        	.sym	maxminPos,38,5,1,16
 14506                        	.sym	fillOffset,40,5,1,16
 14507                        	.sym	wndRect,4,138,6,32,25
 14508                        	.sym	clientRect,8,138,6,32,25
 14509                        	.sym	style,12,16,6,16
 14510                        	.sym	title,14,142,6,32
 14511                        	.sym	color,18,5,6,16
 14512                        	.sym	bgcolor,20,5,6,16
 14513 03:39AE: A7 36        	lda	[<L717+wndRect_0]
 14514 03:39B0: 85 09        	sta	<L718+cx_1
 14515 03:39B2: A7 36        	lda	[<L717+wndRect_0]
 14516 03:39B4: 85 0B        	sta	<L718+cy_1
 14517 03:39B6: A0 06 00     	ldy	#$6
 14518 03:39B9: B7 36        	lda	[<L717+wndRect_0],Y
 14519 03:39BB: 85 0D        	sta	<L718+height_1
 14520 03:39BD: A0 04 00     	ldy	#$4
 14521 03:39C0: B7 36        	lda	[<L717+wndRect_0],Y
 14522 03:39C2: 85 0F        	sta	<L718+width_1
 14523 03:39C4: 64 15        	stz	<L718+i_1
 14524 03:39C6: A9 01 00     	lda	#$1
 14525 03:39C9: 85 17        	sta	<L718+odd_1
 14526 03:39CB: 64 19        	stz	<L718+borderColor_1
 14527 03:39CD: 64 1B        	stz	<L718+borderTitle_1
 14528 03:39CF: 64 1D        	stz	<L718+borderWidth_1
 14529 03:39D1: 64 1F        	stz	<L718+titleOffsetX_1
 14530 03:39D3: 64 21        	stz	<L718+titleOffsetY_1
 14531 03:39D5: 64 23        	stz	<L718+titleScaler_1
 14532 03:39D7: 64 25        	stz	<L718+clientOffsetX_1
 14533 03:39D9: 64 27        	stz	<L718+clientOffsetY_1
 14534 03:39DB: 64 29        	stz	<L718+currX_1
 14535 03:39DD: 64 2B        	stz	<L718+currY_1
 14536 03:39DF: 64 2D        	stz	<L718+endX_1
  Thu Dec  3 2020 22:25                                                Page 267


 14537 03:39E1: 64 2F        	stz	<L718+maxminPos_1
 14538 03:39E3: A9 02 00     	lda	#$2
 14539 03:39E6: 85 31        	sta	<L718+fillOffset_1
 14540                        	.line	2143
 14541 03:39E8: D4 09        	pei	<L718+cx_1
 14542 03:39EA: F4 xx xx     	pea	#^L648
 14543 03:39ED: F4 xx xx     	pea	#<L648
 14544 03:39F0: 22 xx xx xx  	jsl	~~k_debug_integer
 14545                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 14546                        	.line	2144
 14547 03:39F4: D4 0B        	pei	<L718+cy_1
 14548 03:39F6: F4 xx xx     	pea	#^L648+22
 14549 03:39F9: F4 xx xx     	pea	#<L648+22
 14550 03:39FC: 22 xx xx xx  	jsl	~~k_debug_integer
 14551                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 14552                        	.line	2145
 14553 03:3A00: D4 0F        	pei	<L718+width_1
 14554 03:3A02: F4 xx xx     	pea	#^L648+44
 14555 03:3A05: F4 xx xx     	pea	#<L648+44
 14556 03:3A08: 22 xx xx xx  	jsl	~~k_debug_integer
 14557                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 14558                        	.line	2146
 14559 03:3A0C: D4 0D        	pei	<L718+height_1
 14560 03:3A0E: F4 xx xx     	pea	#^L648+69
 14561 03:3A11: F4 xx xx     	pea	#<L648+69
 14562 03:3A14: 22 xx xx xx  	jsl	~~k_debug_integer
 14563                        ;
 14564                        ;	titleOffsetX = cx+2;
 14565                        	.line	2148
 14566 03:3A18: 18           	clc
 14567 03:3A19: A9 02 00     	lda	#$2
 14568 03:3A1C: 65 09        	adc	<L718+cx_1
 14569 03:3A1E: 85 1F        	sta	<L718+titleOffsetX_1
 14570                        ;	titleOffsetY = cy+1;
 14571                        	.line	2149
 14572 03:3A20: A5 0B        	lda	<L718+cy_1
 14573 03:3A22: 1A           	ina
 14574 03:3A23: 85 21        	sta	<L718+titleOffsetY_1
 14575                        ;
 14576                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 14577                        ;
 14578                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 14579                        	.line	2153
 14580                        ;	{
 14581 03:3A25: 82 1E 00     	brl	L10296
 14582                        	.line	2154
 14583                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",(LPCHAR)title);
 14584                        	.line	2155
 14585 03:3A28: D4 42        	pei	<L717+title_0+2
 14586 03:3A2A: D4 40        	pei	<L717+title_0
 14587 03:3A2C: F4 xx xx     	pea	#^L648+95
 14588 03:3A2F: F4 xx xx     	pea	#<L648+95
 14589 03:3A32: 22 xx xx xx  	jsl	~~k_debug_strings
 14590                        ;		return;
 14591                        	.line	2156
  Thu Dec  3 2020 22:25                                                Page 268


 14592                        L720:
 14593 03:3A36: A5 34        	lda	<L717+2
 14594 03:3A38: 85 46        	sta	<L717+2+18
 14595 03:3A3A: A5 33        	lda	<L717+1
 14596 03:3A3C: 85 45        	sta	<L717+1+18
 14597 03:3A3E: 2B           	pld
 14598 03:3A3F: 3B           	tsc
 14599 03:3A40: 18           	clc
 14600 03:3A41: 69 44 00     	adc	#L717+18
 14601 03:3A44: 1B           	tcs
 14602 03:3A45: 6B           	rtl
 14603                        ;	}
 14604                        	.line	2157
 14605                        ;
 14606                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 14607                        ;
 14608                        ;	if(style & FXWS_THICKFRAME)
 14609                        L10296:
 14610                        	.line	2161
 14611                        ;	{
 14612 03:3A46: A5 3E        	lda	<L717+style_0
 14613 03:3A48: 85 01        	sta	<R0
 14614 03:3A4A: 64 03        	stz	<R0+2
 14615 03:3A4C: A5 03        	lda	<R0+2
 14616 03:3A4E: 29 02 00     	and	#^$20000
 14617 03:3A51: D0 03        	bne	L721
 14618 03:3A53: 82 08 00     	brl	L10297
 14619                        L721:
 14620                        	.line	2162
 14621                        ;		borderWidth = 2;
 14622                        	.line	2163
 14623 03:3A56: A9 02 00     	lda	#$2
 14624 03:3A59: 85 1D        	sta	<L718+borderWidth_1
 14625                        ;	}
 14626                        	.line	2164
 14627                        ;	else if(style & FXWS_BORDER)
 14628 03:3A5B: 82 2D 00     	brl	L10298
 14629                        L10297:
 14630                        	.line	2165
 14631                        ;	{
 14632 03:3A5E: A5 3E        	lda	<L717+style_0
 14633 03:3A60: 85 01        	sta	<R0
 14634 03:3A62: 64 03        	stz	<R0+2
 14635 03:3A64: A5 03        	lda	<R0+2
 14636 03:3A66: 29 01 00     	and	#^$10000
 14637 03:3A69: D0 03        	bne	L722
 14638 03:3A6B: 82 08 00     	brl	L10299
 14639                        L722:
 14640                        	.line	2166
 14641                        ;		borderWidth = 1;
 14642                        	.line	2167
 14643 03:3A6E: A9 01 00     	lda	#$1
 14644 03:3A71: 85 1D        	sta	<L718+borderWidth_1
 14645                        ;	}
 14646                        	.line	2168
 14647                        ;	else if(style & FXWS_DLGFRAME)
 14648 03:3A73: 82 15 00     	brl	L10300
  Thu Dec  3 2020 22:25                                                Page 269


 14649                        L10299:
 14650                        	.line	2169
 14651                        ;	{
 14652 03:3A76: A5 3E        	lda	<L717+style_0
 14653 03:3A78: 85 01        	sta	<R0
 14654 03:3A7A: 64 03        	stz	<R0+2
 14655 03:3A7C: A5 03        	lda	<R0+2
 14656 03:3A7E: 29 04 00     	and	#^$40000
 14657 03:3A81: D0 03        	bne	L723
 14658 03:3A83: 82 05 00     	brl	L10301
 14659                        L723:
 14660                        	.line	2170
 14661                        ;		borderWidth = 4;
 14662                        	.line	2171
 14663 03:3A86: A9 04 00     	lda	#$4
 14664 03:3A89: 85 1D        	sta	<L718+borderWidth_1
 14665                        ;	}
 14666                        	.line	2172
 14667                        ;
 14668                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 14669                        L10301:
 14670                        L10300:
 14671                        L10298:
 14672                        	.line	2174
 14673                        ;	{
 14674 03:3A8B: A5 3E        	lda	<L717+style_0
 14675 03:3A8D: 29 04 00     	and	#<$4
 14676 03:3A90: 85 01        	sta	<R0
 14677 03:3A92: A5 01        	lda	<R0
 14678 03:3A94: C9 04 00     	cmp	#<$4
 14679 03:3A97: D0 03        	bne	L725
 14680 03:3A99: 82 1E 00     	brl	L724
 14681                        L725:
 14682 03:3A9C: A5 3E        	lda	<L717+style_0
 14683 03:3A9E: 29 08 00     	and	#<$8
 14684 03:3AA1: F0 03        	beq	L726
 14685 03:3AA3: 82 14 00     	brl	L724
 14686                        L726:
 14687 03:3AA6: A5 3E        	lda	<L717+style_0
 14688 03:3AA8: 29 20 00     	and	#<$20
 14689 03:3AAB: F0 03        	beq	L727
 14690 03:3AAD: 82 0A 00     	brl	L724
 14691                        L727:
 14692 03:3AB0: A5 3E        	lda	<L717+style_0
 14693 03:3AB2: 29 10 00     	and	#<$10
 14694 03:3AB5: D0 03        	bne	L728
 14695 03:3AB7: 82 05 00     	brl	L10302
 14696                        L728:
 14697                        L724:
 14698                        	.line	2175
 14699                        ;		borderTitle = 10;
 14700                        	.line	2176
 14701 03:3ABA: A9 0A 00     	lda	#$a
 14702 03:3ABD: 85 1B        	sta	<L718+borderTitle_1
 14703                        ;	}
 14704                        	.line	2177
  Thu Dec  3 2020 22:25                                                Page 270


 14705                        ;
 14706                        ;	clientOffsetX = cx + borderWidth;
 14707                        L10302:
 14708                        	.line	2179
 14709 03:3ABF: 18           	clc
 14710 03:3AC0: A5 09        	lda	<L718+cx_1
 14711 03:3AC2: 65 1D        	adc	<L718+borderWidth_1
 14712 03:3AC4: 85 25        	sta	<L718+clientOffsetX_1
 14713                        ;
 14714                        ;	if(borderTitle)
 14715                        	.line	2181
 14716                        ;		clientOffsetY = cy + borderTitle;
 14717 03:3AC6: A5 1B        	lda	<L718+borderTitle_1
 14718 03:3AC8: D0 03        	bne	L729
 14719 03:3ACA: 82 0A 00     	brl	L10303
 14720                        L729:
 14721                        	.line	2182
 14722 03:3ACD: 18           	clc
 14723 03:3ACE: A5 0B        	lda	<L718+cy_1
 14724 03:3AD0: 65 1B        	adc	<L718+borderTitle_1
 14725 03:3AD2: 85 27        	sta	<L718+clientOffsetY_1
 14726                        ;	else
 14727 03:3AD4: 82 07 00     	brl	L10304
 14728                        L10303:
 14729                        ;		clientOffsetY = cy + borderWidth;
 14730                        	.line	2184
 14731 03:3AD7: 18           	clc
 14732 03:3AD8: A5 0B        	lda	<L718+cy_1
 14733 03:3ADA: 65 1D        	adc	<L718+borderWidth_1
 14734 03:3ADC: 85 27        	sta	<L718+clientOffsetY_1
 14735                        L10304:
 14736                        ;
 14737                        ;	currX = clientOffsetX;
 14738                        	.line	2186
 14739 03:3ADE: A5 25        	lda	<L718+clientOffsetX_1
 14740 03:3AE0: 85 29        	sta	<L718+currX_1
 14741                        ;	currY = clientOffsetY;
 14742                        	.line	2187
 14743 03:3AE2: A5 27        	lda	<L718+clientOffsetY_1
 14744 03:3AE4: 85 2B        	sta	<L718+currY_1
 14745                        ;
 14746                        ;	endX = width + cx - borderWidth;
 14747                        	.line	2189
 14748 03:3AE6: 18           	clc
 14749 03:3AE7: A5 0F        	lda	<L718+width_1
 14750 03:3AE9: 65 09        	adc	<L718+cx_1
 14751 03:3AEB: 85 01        	sta	<R0
 14752 03:3AED: 38           	sec
 14753 03:3AEE: A5 01        	lda	<R0
 14754 03:3AF0: E5 1D        	sbc	<L718+borderWidth_1
 14755 03:3AF2: 85 2D        	sta	<L718+endX_1
 14756                        ;	maxminPos = 0;
 14757                        	.line	2190
 14758 03:3AF4: 64 2F        	stz	<L718+maxminPos_1
 14759                        ;
 14760                        ;
 14761                        ;	/*
 14762                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
  Thu Dec  3 2020 22:25                                                Page 271


 14763                        ;	//k_delay(50);
 14764                        ;
 14765                        ;	k_vdma_fill_rect(cx + borderWidth,
 14766                        ;			         cy + (borderTitle + bor
                    derWidth),
 14767                        ;					 //width - borde
                    rWidth - borderWidth + 1,
 14768                        ;					 //height - bord
                    erTitle - borderWidth + 1,
 14769                        ;					 width  - (borde
                    rWidth + fillOffset),
 14770                        ;					 height - (borde
                    rTitle + borderWidth + fillOffset),
 14771                        ;					 bgcolor);
 14772                        ;	*/
 14773                        ;
 14774                        ;	//k_debug_integer("k_vdraw_ui_window:cx:",cx);
 14775                        ;	//k_debug_integer("k_vdraw_ui_window:cy:",cy);
 14776                        ;	//k_debug_integer("k_vdraw_ui_window:width:",wid
                    th);
 14777                        ;	//k_debug_integer("k_vdraw_ui_window:height:",he
                    ight);
 14778                        ;
 14779                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 14780                        	.line	2211
 14781 03:3AF6: D4 46        	pei	<L717+bgcolor_0
 14782 03:3AF8: D4 0D        	pei	<L718+height_1
 14783 03:3AFA: D4 0F        	pei	<L718+width_1
 14784 03:3AFC: A0 00 00     	ldy	#$0
 14785 03:3AFF: A5 0B        	lda	<L718+cy_1
 14786 03:3B01: 10 01        	bpl	L730
 14787 03:3B03: 88           	dey
 14788                        L730:
 14789 03:3B04: 85 01        	sta	<R0
 14790 03:3B06: 84 03        	sty	<R0+2
 14791 03:3B08: D4 03        	pei	<R0+2
 14792 03:3B0A: D4 01        	pei	<R0
 14793 03:3B0C: A0 00 00     	ldy	#$0
 14794 03:3B0F: A5 09        	lda	<L718+cx_1
 14795 03:3B11: 10 01        	bpl	L731
 14796 03:3B13: 88           	dey
 14797                        L731:
 14798 03:3B14: 85 05        	sta	<R1
 14799 03:3B16: 84 07        	sty	<R1+2
 14800 03:3B18: D4 07        	pei	<R1+2
 14801 03:3B1A: D4 05        	pei	<R1
 14802 03:3B1C: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 14803                        ;	borderColor = color;
 14804                        	.line	2212
 14805 03:3B20: A5 44        	lda	<L717+color_0
 14806 03:3B22: 85 19        	sta	<L718+borderColor_1
 14807                        ;	for(i=0;i<borderWidth;i++)
 14808                        	.line	2213
 14809 03:3B24: 64 15        	stz	<L718+i_1
 14810 03:3B26: 82 5A 00     	brl	L10308
 14811                        L10307:
 14812                        ;	{
 14813                        	.line	2214
  Thu Dec  3 2020 22:25                                                Page 272


 14814                        ;		if(borderWidth > 2)
 14815                        	.line	2215
 14816                        ;		{
 14817 03:3B29: 38           	sec
 14818 03:3B2A: A9 02 00     	lda	#$2
 14819 03:3B2D: E5 1D        	sbc	<L718+borderWidth_1
 14820 03:3B2F: 70 03        	bvs	L732
 14821 03:3B31: 49 00 80     	eor	#$8000
 14822                        L732:
 14823 03:3B34: 10 03        	bpl	L733
 14824 03:3B36: 82 1C 00     	brl	L10309
 14825                        L733:
 14826                        	.line	2216
 14827                        ;			borderColor = color;
 14828                        	.line	2217
 14829 03:3B39: A5 44        	lda	<L717+color_0
 14830 03:3B3B: 85 19        	sta	<L718+borderColor_1
 14831                        ;			odd=!odd;
 14832                        	.line	2218
 14833 03:3B3D: 64 01        	stz	<R0
 14834 03:3B3F: A5 17        	lda	<L718+odd_1
 14835 03:3B41: F0 03        	beq	L735
 14836 03:3B43: 82 02 00     	brl	L734
 14837                        L735:
 14838 03:3B46: E6 01        	inc	<R0
 14839                        L734:
 14840 03:3B48: A5 01        	lda	<R0
 14841 03:3B4A: 85 17        	sta	<L718+odd_1
 14842                        ;			if(odd)
 14843                        	.line	2219
 14844                        ;			{
 14845 03:3B4C: A5 17        	lda	<L718+odd_1
 14846 03:3B4E: D0 03        	bne	L736
 14847 03:3B50: 82 02 00     	brl	L10310
 14848                        L736:
 14849                        	.line	2220
 14850                        ;				borderColor = 0;
 14851                        	.line	2221
 14852 03:3B53: 64 19        	stz	<L718+borderColor_1
 14853                        ;			}
 14854                        	.line	2222
 14855                        ;		}
 14856                        L10310:
 14857                        	.line	2223
 14858                        ;
 14859                        ;		k_draw_rect_slow(cx + i + 0,
 14860                        L10309:
 14861                        	.line	2225
 14862                        ;						 cy + i 
                    + 0,
 14863                        ;						 cx + wi
                    dth  - 0 - i,
 14864                        ;						 cy + he
                    ight - 0 - i,
 14865                        ;						 borderC
                    olor);
 14866 03:3B55: D4 19        	pei	<L718+borderColor_1
 14867 03:3B57: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 273


 14868 03:3B58: A5 0B        	lda	<L718+cy_1
 14869 03:3B5A: 65 0D        	adc	<L718+height_1
 14870 03:3B5C: 85 01        	sta	<R0
 14871 03:3B5E: 38           	sec
 14872 03:3B5F: A5 01        	lda	<R0
 14873 03:3B61: E5 15        	sbc	<L718+i_1
 14874 03:3B63: 48           	pha
 14875 03:3B64: 18           	clc
 14876 03:3B65: A5 09        	lda	<L718+cx_1
 14877 03:3B67: 65 0F        	adc	<L718+width_1
 14878 03:3B69: 85 01        	sta	<R0
 14879 03:3B6B: 38           	sec
 14880 03:3B6C: A5 01        	lda	<R0
 14881 03:3B6E: E5 15        	sbc	<L718+i_1
 14882 03:3B70: 48           	pha
 14883 03:3B71: 18           	clc
 14884 03:3B72: A5 0B        	lda	<L718+cy_1
 14885 03:3B74: 65 15        	adc	<L718+i_1
 14886 03:3B76: 48           	pha
 14887 03:3B77: 18           	clc
 14888 03:3B78: A5 09        	lda	<L718+cx_1
 14889 03:3B7A: 65 15        	adc	<L718+i_1
 14890 03:3B7C: 48           	pha
 14891 03:3B7D: 22 8E 18 03  	jsl	~~k_draw_rect_slow
 14892                        ;
 14893                        ;	}
 14894                        	.line	2231
 14895                        L10305:
 14896 03:3B81: E6 15        	inc	<L718+i_1
 14897                        L10308:
 14898 03:3B83: 38           	sec
 14899 03:3B84: A5 15        	lda	<L718+i_1
 14900 03:3B86: E5 1D        	sbc	<L718+borderWidth_1
 14901 03:3B88: 70 03        	bvs	L737
 14902 03:3B8A: 49 00 80     	eor	#$8000
 14903                        L737:
 14904 03:3B8D: 30 03        	bmi	L738
 14905 03:3B8F: 82 97 FF     	brl	L10307
 14906                        L738:
 14907                        L10306:
 14908                        ;
 14909                        ;
 14910                        ;
 14911                        ;	if(borderTitle)
 14912                        	.line	2235
 14913                        ;	{
 14914 03:3B92: A5 1B        	lda	<L718+borderTitle_1
 14915 03:3B94: D0 03        	bne	L739
 14916 03:3B96: 82 2A 00     	brl	L10311
 14917                        L739:
 14918                        	.line	2236
 14919                        ;		k_vdma_fill_rect(cx,cy,width,borderTitle
                    ,color);
 14920                        	.line	2237
 14921 03:3B99: D4 44        	pei	<L717+color_0
 14922 03:3B9B: D4 1B        	pei	<L718+borderTitle_1
 14923 03:3B9D: D4 0F        	pei	<L718+width_1
 14924 03:3B9F: A0 00 00     	ldy	#$0
  Thu Dec  3 2020 22:25                                                Page 274


 14925 03:3BA2: A5 0B        	lda	<L718+cy_1
 14926 03:3BA4: 10 01        	bpl	L740
 14927 03:3BA6: 88           	dey
 14928                        L740:
 14929 03:3BA7: 85 01        	sta	<R0
 14930 03:3BA9: 84 03        	sty	<R0+2
 14931 03:3BAB: D4 03        	pei	<R0+2
 14932 03:3BAD: D4 01        	pei	<R0
 14933 03:3BAF: A0 00 00     	ldy	#$0
 14934 03:3BB2: A5 09        	lda	<L718+cx_1
 14935 03:3BB4: 10 01        	bpl	L741
 14936 03:3BB6: 88           	dey
 14937                        L741:
 14938 03:3BB7: 85 05        	sta	<R1
 14939 03:3BB9: 84 07        	sty	<R1+2
 14940 03:3BBB: D4 07        	pei	<R1+2
 14941 03:3BBD: D4 05        	pei	<R1
 14942 03:3BBF: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 14943                        ;	}
 14944                        	.line	2238
 14945                        ;
 14946                        ;	k_get_font_metrics(&metric);
 14947                        L10311:
 14948                        	.line	2240
 14949 03:3BC3: F4 00 00     	pea	#0
 14950 03:3BC6: 18           	clc
 14951 03:3BC7: 7B           	tdc
 14952 03:3BC8: 69 11 00     	adc	#<L718+metric_1
 14953 03:3BCB: 48           	pha
 14954 03:3BCC: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 14955                        ;
 14956                        ;
 14957                        ;	//title = strupr(title);
 14958                        ;
 14959                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 14960                        ;
 14961                        ;	if(style & FXWS_SYSMENU)
 14962                        	.line	2247
 14963                        ;	{
 14964 03:3BD0: A5 3E        	lda	<L717+style_0
 14965 03:3BD2: 29 08 00     	and	#<$8
 14966 03:3BD5: D0 03        	bne	L742
 14967 03:3BD7: 82 19 00     	brl	L10312
 14968                        L742:
 14969                        	.line	2248
 14970                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 14971                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetColo
                    r());
 14972                        	.line	2250
 14973 03:3BDA: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 14974 03:3BDE: 48           	pha
 14975 03:3BDF: D4 21        	pei	<L718+titleOffsetY_1
 14976 03:3BE1: D4 1F        	pei	<L718+titleOffsetX_1
 14977 03:3BE3: F4 06 00     	pea	#<$6
 14978 03:3BE6: 22 EA 23 03  	jsl	~~k_put_wingadget_point
  Thu Dec  3 2020 22:25                                                Page 275


 14979 03:3BEA: 85 01        	sta	<R0
 14980 03:3BEC: 18           	clc
 14981 03:3BED: A5 01        	lda	<R0
 14982 03:3BEF: 65 1F        	adc	<L718+titleOffsetX_1
 14983 03:3BF1: 85 1F        	sta	<L718+titleOffsetX_1
 14984                        ;	}
 14985                        	.line	2251
 14986                        ;
 14987                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 14988                        L10312:
 14989                        	.line	2253
 14990                        ;	{
 14991 03:3BF3: A5 3E        	lda	<L717+style_0
 14992 03:3BF5: 29 04 00     	and	#<$4
 14993 03:3BF8: 85 01        	sta	<R0
 14994 03:3BFA: A5 01        	lda	<R0
 14995 03:3BFC: C9 04 00     	cmp	#<$4
 14996 03:3BFF: F0 03        	beq	L743
 14997 03:3C01: 82 41 00     	brl	L10313
 14998                        L743:
 14999                        	.line	2254
 15000                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 15001                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 15002                        ;		titleScaler = (int)(width / metric.width
                     -1 );
 15003                        	.line	2257
 15004 03:3C04: A5 0F        	lda	<L718+width_1
 15005 03:3C06: A6 11        	ldx	<L718+metric_1
 15006                        	xref	~~~div
 15007 03:3C08: 22 xx xx xx  	jsl	~~~div
 15008 03:3C0C: 85 01        	sta	<R0
 15009 03:3C0E: 18           	clc
 15010 03:3C0F: A9 FF FF     	lda	#$ffff
 15011 03:3C12: 65 01        	adc	<R0
 15012 03:3C14: 85 23        	sta	<L718+titleScaler_1
 15013                        ;		for(i=0;i<titleScaler;i++)
 15014                        	.line	2258
 15015 03:3C16: 64 15        	stz	<L718+i_1
 15016 03:3C18: 82 1B 00     	brl	L10317
 15017                        L10316:
 15018                        ;		{
 15019                        	.line	2259
 15020                        ;			titleOffsetX+=k_put_wingadget_po
                    int(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUIGad
                    getColor());
 15021                        	.line	2260
 15022 03:3C1B: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15023 03:3C1F: 48           	pha
 15024 03:3C20: D4 21        	pei	<L718+titleOffsetY_1
 15025 03:3C22: D4 1F        	pei	<L718+titleOffsetX_1
 15026 03:3C24: F4 01 00     	pea	#<$1
 15027 03:3C27: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15028 03:3C2B: 85 01        	sta	<R0
 15029 03:3C2D: 18           	clc
 15030 03:3C2E: A5 01        	lda	<R0
 15031 03:3C30: 65 1F        	adc	<L718+titleOffsetX_1
  Thu Dec  3 2020 22:25                                                Page 276


 15032 03:3C32: 85 1F        	sta	<L718+titleOffsetX_1
 15033                        ;		}
 15034                        	.line	2261
 15035                        L10314:
 15036 03:3C34: E6 15        	inc	<L718+i_1
 15037                        L10317:
 15038 03:3C36: 38           	sec
 15039 03:3C37: A5 15        	lda	<L718+i_1
 15040 03:3C39: E5 23        	sbc	<L718+titleScaler_1
 15041 03:3C3B: 70 03        	bvs	L744
 15042 03:3C3D: 49 00 80     	eor	#$8000
 15043                        L744:
 15044 03:3C40: 30 03        	bmi	L745
 15045 03:3C42: 82 D6 FF     	brl	L10316
 15046                        L745:
 15047                        L10315:
 15048                        ;	}
 15049                        	.line	2262
 15050                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 15051                        ;	//titleOffsetX+=2;
 15052                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 15053                        ;
 15054                        ;	if(style & FXWS_MAXIMIZEBOX)
 15055                        L10313:
 15056                        	.line	2267
 15057                        ;	{
 15058 03:3C45: A5 3E        	lda	<L717+style_0
 15059 03:3C47: 29 10 00     	and	#<$10
 15060 03:3C4A: D0 03        	bne	L746
 15061 03:3C4C: 82 33 00     	brl	L10318
 15062                        L746:
 15063                        	.line	2268
 15064                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 15065                        ;		maxminPos+=metric.width;
 15066                        	.line	2270
 15067 03:3C4F: 18           	clc
 15068 03:3C50: A5 2F        	lda	<L718+maxminPos_1
 15069 03:3C52: 65 11        	adc	<L718+metric_1
 15070 03:3C54: 85 2F        	sta	<L718+maxminPos_1
 15071                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 15072                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 15073                        ;
 15074                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 15075                        	.line	2274
 15076 03:3C56: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 15077 03:3C5A: 48           	pha
 15078 03:3C5B: D4 21        	pei	<L718+titleOffsetY_1
 15079 03:3C5D: 38           	sec
 15080 03:3C5E: A5 2D        	lda	<L718+endX_1
 15081 03:3C60: E5 2F        	sbc	<L718+maxminPos_1
  Thu Dec  3 2020 22:25                                                Page 277


 15082 03:3C62: 48           	pha
 15083 03:3C63: F4 00 00     	pea	#<$0
 15084 03:3C66: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15085                        ;		k_put_wingadget_point(WINICON_TITLE_FRON
                    T,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 15086                        	.line	2275
 15087 03:3C6A: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15088 03:3C6E: 48           	pha
 15089 03:3C6F: D4 21        	pei	<L718+titleOffsetY_1
 15090 03:3C71: 38           	sec
 15091 03:3C72: A5 2D        	lda	<L718+endX_1
 15092 03:3C74: E5 2F        	sbc	<L718+maxminPos_1
 15093 03:3C76: 48           	pha
 15094 03:3C77: F4 03 00     	pea	#<$3
 15095 03:3C7A: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15096                        ;
 15097                        ;		maxminPos+=2;
 15098                        	.line	2277
 15099 03:3C7E: E6 2F        	inc	<L718+maxminPos_1
 15100 03:3C80: E6 2F        	inc	<L718+maxminPos_1
 15101                        ;	}
 15102                        	.line	2278
 15103                        ;
 15104                        ;	if(style & FXWS_MINIMIZEBOX)
 15105                        L10318:
 15106                        	.line	2280
 15107                        ;	{
 15108 03:3C82: A5 3E        	lda	<L717+style_0
 15109 03:3C84: 29 20 00     	and	#<$20
 15110 03:3C87: D0 03        	bne	L747
 15111 03:3C89: 82 33 00     	brl	L10319
 15112                        L747:
 15113                        	.line	2281
 15114                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 15115                        ;		maxminPos+=metric.width;
 15116                        	.line	2283
 15117 03:3C8C: 18           	clc
 15118 03:3C8D: A5 2F        	lda	<L718+maxminPos_1
 15119 03:3C8F: 65 11        	adc	<L718+metric_1
 15120 03:3C91: 85 2F        	sta	<L718+maxminPos_1
 15121                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 15122                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 15123                        ;
 15124                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 15125                        	.line	2287
 15126 03:3C93: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 15127 03:3C97: 48           	pha
 15128 03:3C98: D4 21        	pei	<L718+titleOffsetY_1
 15129 03:3C9A: 38           	sec
 15130 03:3C9B: A5 2D        	lda	<L718+endX_1
 15131 03:3C9D: E5 2F        	sbc	<L718+maxminPos_1
 15132 03:3C9F: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 278


 15133 03:3CA0: F4 00 00     	pea	#<$0
 15134 03:3CA3: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15135                        ;		k_put_wingadget_point(WINICON_TITLE_BACK
                    ,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 15136                        	.line	2288
 15137 03:3CA7: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15138 03:3CAB: 48           	pha
 15139 03:3CAC: D4 21        	pei	<L718+titleOffsetY_1
 15140 03:3CAE: 38           	sec
 15141 03:3CAF: A5 2D        	lda	<L718+endX_1
 15142 03:3CB1: E5 2F        	sbc	<L718+maxminPos_1
 15143 03:3CB3: 48           	pha
 15144 03:3CB4: F4 04 00     	pea	#<$4
 15145 03:3CB7: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15146                        ;
 15147                        ;		maxminPos+=2;
 15148                        	.line	2290
 15149 03:3CBB: E6 2F        	inc	<L718+maxminPos_1
 15150 03:3CBD: E6 2F        	inc	<L718+maxminPos_1
 15151                        ;	}
 15152                        	.line	2291
 15153                        ;
 15154                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 15155                        L10319:
 15156                        	.line	2293
 15157                        ;	{
 15158 03:3CBF: A5 3E        	lda	<L717+style_0
 15159 03:3CC1: 29 04 00     	and	#<$4
 15160 03:3CC4: 85 01        	sta	<R0
 15161 03:3CC6: A5 01        	lda	<R0
 15162 03:3CC8: C9 04 00     	cmp	#<$4
 15163 03:3CCB: F0 03        	beq	L748
 15164 03:3CCD: 82 68 00     	brl	L10320
 15165                        L748:
 15166                        	.line	2294
 15167                        ;
 15168                        ;		for(i=0;i<=strlen(title);i++)
 15169                        	.line	2296
 15170 03:3CD0: 64 15        	stz	<L718+i_1
 15171 03:3CD2: 82 2C 00     	brl	L10324
 15172                        L10323:
 15173                        ;		{
 15174                        	.line	2297
 15175                        ;			k_put_wingadget_point(WINICON_BL
                    OCK,cx+borderWidth+metric.width+(metric.width*i),titleOffset
                    Y,15);
 15176                        	.line	2298
 15177 03:3CD5: F4 0F 00     	pea	#<$f
 15178 03:3CD8: D4 21        	pei	<L718+titleOffsetY_1
 15179 03:3CDA: A5 11        	lda	<L718+metric_1
 15180 03:3CDC: A6 15        	ldx	<L718+i_1
 15181                        	xref	~~~mul
 15182 03:3CDE: 22 xx xx xx  	jsl	~~~mul
 15183 03:3CE2: 85 01        	sta	<R0
 15184 03:3CE4: 18           	clc
 15185 03:3CE5: A5 01        	lda	<R0
 15186 03:3CE7: 65 09        	adc	<L718+cx_1
 15187 03:3CE9: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 279


 15188 03:3CEB: 18           	clc
 15189 03:3CEC: A5 05        	lda	<R1
 15190 03:3CEE: 65 1D        	adc	<L718+borderWidth_1
 15191 03:3CF0: 85 01        	sta	<R0
 15192 03:3CF2: 18           	clc
 15193 03:3CF3: A5 01        	lda	<R0
 15194 03:3CF5: 65 11        	adc	<L718+metric_1
 15195 03:3CF7: 48           	pha
 15196 03:3CF8: F4 00 00     	pea	#<$0
 15197 03:3CFB: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15198                        ;		}
 15199                        	.line	2299
 15200                        L10321:
 15201 03:3CFF: E6 15        	inc	<L718+i_1
 15202                        L10324:
 15203 03:3D01: D4 42        	pei	<L717+title_0+2
 15204 03:3D03: D4 40        	pei	<L717+title_0
 15205 03:3D05: 22 xx xx xx  	jsl	~~strlen
 15206 03:3D09: 85 01        	sta	<R0
 15207 03:3D0B: A5 01        	lda	<R0
 15208 03:3D0D: C5 15        	cmp	<L718+i_1
 15209 03:3D0F: 90 03        	bcc	L749
 15210 03:3D11: 82 C1 FF     	brl	L10323
 15211                        L749:
 15212                        L10322:
 15213                        ;		k_draw_text_point(title,cx+(borderWidth 
                    + 3)+metric.width,titleOffsetY,k_getUIGadgetColor());
 15214                        	.line	2300
 15215 03:3D14: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15216 03:3D18: 48           	pha
 15217 03:3D19: D4 21        	pei	<L718+titleOffsetY_1
 15218 03:3D1B: 18           	clc
 15219 03:3D1C: A5 09        	lda	<L718+cx_1
 15220 03:3D1E: 65 1D        	adc	<L718+borderWidth_1
 15221 03:3D20: 85 01        	sta	<R0
 15222 03:3D22: 18           	clc
 15223 03:3D23: A5 01        	lda	<R0
 15224 03:3D25: 65 11        	adc	<L718+metric_1
 15225 03:3D27: 85 05        	sta	<R1
 15226 03:3D29: 18           	clc
 15227 03:3D2A: A9 03 00     	lda	#$3
 15228 03:3D2D: 65 05        	adc	<R1
 15229 03:3D2F: 48           	pha
 15230 03:3D30: D4 42        	pei	<L717+title_0+2
 15231 03:3D32: D4 40        	pei	<L717+title_0
 15232 03:3D34: 22 62 1A 03  	jsl	~~k_draw_text_point
 15233                        ;	}
 15234                        	.line	2301
 15235                        ;
 15236                        ;	clientRect->x = clientOffsetX;
 15237                        L10320:
 15238                        	.line	2303
 15239 03:3D38: A5 25        	lda	<L718+clientOffsetX_1
 15240 03:3D3A: 87 3A        	sta	[<L717+clientRect_0]
 15241                        ;	clientRect->y = clientOffsetY;
 15242                        	.line	2304
 15243 03:3D3C: A5 27        	lda	<L718+clientOffsetY_1
 15244 03:3D3E: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 280


 15245 03:3D41: 97 3A        	sta	[<L717+clientRect_0],Y
 15246                        ;	clientRect->width = (0 - (2*borderWidth));
 15247                        	.line	2305
 15248 03:3D43: A5 1D        	lda	<L718+borderWidth_1
 15249 03:3D45: 0A           	asl	A
 15250 03:3D46: 85 01        	sta	<R0
 15251 03:3D48: 38           	sec
 15252 03:3D49: A9 00 00     	lda	#$0
 15253 03:3D4C: E5 01        	sbc	<R0
 15254 03:3D4E: A0 04 00     	ldy	#$4
 15255 03:3D51: 97 3A        	sta	[<L717+clientRect_0],Y
 15256                        ;	clientRect->height = (0 - clientOffsetY - border
                    Width); ;
 15257                        	.line	2306
 15258 03:3D53: 38           	sec
 15259 03:3D54: A9 00 00     	lda	#$0
 15260 03:3D57: E5 27        	sbc	<L718+clientOffsetY_1
 15261 03:3D59: 85 01        	sta	<R0
 15262 03:3D5B: 38           	sec
 15263 03:3D5C: A5 01        	lda	<R0
 15264 03:3D5E: E5 1D        	sbc	<L718+borderWidth_1
 15265 03:3D60: A0 06 00     	ldy	#$6
 15266 03:3D63: 97 3A        	sta	[<L717+clientRect_0],Y
 15267                        	.line	2306
 15268                        ;
 15269                        ;	k_debug_rect("RELATIVE CLIENT",clientRect);
 15270                        	.line	2308
 15271 03:3D65: D4 3C        	pei	<L717+clientRect_0+2
 15272 03:3D67: D4 3A        	pei	<L717+clientRect_0
 15273 03:3D69: F4 xx xx     	pea	#^L648+129
 15274 03:3D6C: F4 xx xx     	pea	#<L648+129
 15275 03:3D6F: 22 xx xx xx  	jsl	~~k_debug_rect
 15276                        ;
 15277                        ;
 15278                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 15279                        ;}
 15280                        	.line	2312
 15281 03:3D73: 82 C0 FC     	brl	L720
 15282                        	.endblock	2312
 15283             00000032   L717	equ	50
 15284             00000009   L718	equ	9
 15285 03:3D76:              	ends
 15286                        	efunc
 15287                        	.endfunc	2312,9,50
 15288                        	.line	2312
 15289                        	data
 15290                        L648:
 15291 00:08E0: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:08E4: 72 61 77 5F 
       00:08E8: 75 69 5F 77 
       00:08EC: 69 6E 64 
 15292 00:08EF: 6F 77 3A 63  	db	$6F,$77,$3A,$63,$78,$3A,$00,$6B,$5F,$76,
                    $64,$72,$61,$77,$5F
       00:08F3: 78 3A 00 6B 
       00:08F7: 5F 76 64 72 
       00:08FB: 61 77 5F 
 15293 00:08FE: 75 69 5F 77  	db	$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,$3A,
  Thu Dec  3 2020 22:25                                                Page 281


                    $63,$79,$3A,$00,$6B
       00:0902: 69 6E 64 6F 
       00:0906: 77 3A 63 79 
       00:090A: 3A 00 6B 
 15294 00:090D: 5F 76 64 72  	db	$5F,$76,$64,$72,$61,$77,$5F,$75,$69,$5F,
                    $77,$69,$6E,$64,$6F
       00:0911: 61 77 5F 75 
       00:0915: 69 5F 77 69 
       00:0919: 6E 64 6F 
 15295 00:091C: 77 3A 77 69  	db	$77,$3A,$77,$69,$64,$74,$68,$3A,$00,$6B,
                    $5F,$76,$64,$72,$61
       00:0920: 64 74 68 3A 
       00:0924: 00 6B 5F 76 
       00:0928: 64 72 61 
 15296 00:092B: 77 5F 75 69  	db	$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,
                    $77,$3A,$68,$65,$69
       00:092F: 5F 77 69 6E 
       00:0933: 64 6F 77 3A 
       00:0937: 68 65 69 
 15297 00:093A: 67 68 74 3A  	db	$67,$68,$74,$3A,$00,$6B,$5F,$76,$64,$72,
                    $61,$77,$5F,$75,$69
       00:093E: 00 6B 5F 76 
       00:0942: 64 72 61 77 
       00:0946: 5F 75 69 
 15298 00:0949: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$3A,$3A,$4E,
                    $4F,$54,$20,$52,$45
       00:094D: 64 6F 77 3A 
       00:0951: 3A 4E 4F 54 
       00:0955: 20 52 45 
 15299 00:0958: 4E 44 45 52  	db	$4E,$44,$45,$52,$49,$4E,$47,$3A,$00,$52,
                    $45,$4C,$41,$54,$49
       00:095C: 49 4E 47 3A 
       00:0960: 00 52 45 4C 
       00:0964: 41 54 49 
 15300 00:0967: 56 45 20 43  	db	$56,$45,$20,$43,$4C,$49,$45,$4E,$54,$00
       00:096B: 4C 49 45 4E 
       00:096F: 54 00 
 15301 00:0971:              	ends
 15302                        ;
 15303                        ;
 15304                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 15305                        ;{
 15306                        	.line	2315
 15307                        	.line	2316
 15308                        	GUI
 15309                        	xdef	~~k_vdraw_ui_window
 15310                        	func
 15311                        	.function	2316
 15312                        ~~k_vdraw_ui_window:
 15313                        	longa	on
 15314                        	longi	on
 15315 03:3D76: 3B           	tsc
 15316 03:3D77: 38           	sec
 15317 03:3D78: E9 00 00     	sbc	#L751
 15318 03:3D7B: 1B           	tcs
 15319 03:3D7C: 0B           	phd
  Thu Dec  3 2020 22:25                                                Page 282


 15320 03:3D7D: 5B           	tcd
 15321             00000004   pWin_0	set	4
 15322             00000008   style_0	set	8
 15323             0000000C   cx_0	set	12
 15324             0000000E   cy_0	set	14
 15325             00000010   height_0	set	16
 15326             00000012   width_0	set	18
 15327             00000014   title_0	set	20
 15328             00000018   color_0	set	24
 15329             0000001A   bgcolor_0	set	26
 15330                        	.block	2316
 15331                        ;	k_vdraw_ui_window_ex(pWin,style,cx,cy,height,wid
                    th,title,color, bgcolor,BITMAP_FRONT);
 15332                        	.sym	pWin,4,138,6,32,30
 15333                        	.sym	style,8,18,6,32
 15334                        	.sym	cx,12,5,6,16
 15335                        	.sym	cy,14,5,6,16
 15336                        	.sym	height,16,5,6,16
 15337                        	.sym	width,18,5,6,16
 15338                        	.sym	title,20,142,6,32
 15339                        	.sym	color,24,5,6,16
 15340                        	.sym	bgcolor,26,5,6,16
 15341                        	.line	2317
 15342 03:3D7E: F4 00 00     	pea	#<$0
 15343 03:3D81: D4 1A        	pei	<L751+bgcolor_0
 15344 03:3D83: D4 18        	pei	<L751+color_0
 15345 03:3D85: D4 16        	pei	<L751+title_0+2
 15346 03:3D87: D4 14        	pei	<L751+title_0
 15347 03:3D89: D4 12        	pei	<L751+width_0
 15348 03:3D8B: D4 10        	pei	<L751+height_0
 15349 03:3D8D: D4 0E        	pei	<L751+cy_0
 15350 03:3D8F: D4 0C        	pei	<L751+cx_0
 15351 03:3D91: D4 0A        	pei	<L751+style_0+2
 15352 03:3D93: D4 08        	pei	<L751+style_0
 15353 03:3D95: D4 06        	pei	<L751+pWin_0+2
 15354 03:3D97: D4 04        	pei	<L751+pWin_0
 15355 03:3D99: 22 AD 3D 03  	jsl	~~k_vdraw_ui_window_ex
 15356                        ;}
 15357                        	.line	2318
 15358                        L754:
 15359 03:3D9D: A5 02        	lda	<L751+2
 15360 03:3D9F: 85 1A        	sta	<L751+2+24
 15361 03:3DA1: A5 01        	lda	<L751+1
 15362 03:3DA3: 85 19        	sta	<L751+1+24
 15363 03:3DA5: 2B           	pld
 15364 03:3DA6: 3B           	tsc
 15365 03:3DA7: 18           	clc
 15366 03:3DA8: 69 18 00     	adc	#L751+24
 15367 03:3DAB: 1B           	tcs
 15368 03:3DAC: 6B           	rtl
 15369                        	.endblock	2318
 15370             00000000   L751	equ	0
 15371             00000001   L752	equ	1
 15372 03:3DAD:              	ends
 15373                        	efunc
 15374                        	.endfunc	2318,1,0
 15375                        	.line	2318
 15376                        ;
  Thu Dec  3 2020 22:25                                                Page 283


 15377                        ;void k_vdraw_ui_window_ex(PWINDOW pWin,ULONG styl
                    e,int cx,int cy,int height,int width,char FAR *title,int col
                    or, int bgcolor,UINT page)
 15378                        ;{
 15379                        	.line	2320
 15380                        	.line	2321
 15381                        	GUI
 15382                        	xdef	~~k_vdraw_ui_window_ex
 15383                        	func
 15384                        	.function	2321
 15385                        ~~k_vdraw_ui_window_ex:
 15386                        	longa	on
 15387                        	longi	on
 15388 03:3DAD: 3B           	tsc
 15389 03:3DAE: 38           	sec
 15390 03:3DAF: E9 38 00     	sbc	#L755
 15391 03:3DB2: 1B           	tcs
 15392 03:3DB3: 0B           	phd
 15393 03:3DB4: 5B           	tcd
 15394             00000004   pWin_0	set	4
 15395             00000008   style_0	set	8
 15396             0000000C   cx_0	set	12
 15397             0000000E   cy_0	set	14
 15398             00000010   height_0	set	16
 15399             00000012   width_0	set	18
 15400             00000014   title_0	set	20
 15401             00000018   color_0	set	24
 15402             0000001A   bgcolor_0	set	26
 15403             0000001C   page_0	set	28
 15404                        	.block	2321
 15405                        ;	FONTMETRIC metric;
 15406                        ;	
 15407                        ;	int i = 0;
 15408                        ;	int odd = 1;
 15409                        ;	int borderColor = 0;
 15410                        ;	int borderTitle = 0;
 15411                        ;	int borderWidth = 0;
 15412                        ;
 15413                        ;	int titleOffsetX = 0;
 15414                        ;	int titleOffsetY = 0;
 15415                        ;	int titleScaler = 0;
 15416                        ;	
 15417                        ;	int clientOffsetX = 0;
 15418                        ;	int clientOffsetY = 0;
 15419                        ;	
 15420                        ;	int currX = 0;
 15421                        ;	int currY = 0;
 15422                        ;	
 15423                        ;	int endX = 0;
 15424                        ;	
 15425                        ;	int maxminPos = 0;
 15426                        ;
 15427                        ;	int ncc = 0;
 15428                        ;	int gx,gy,bx,by;
 15429                        ;
 15430                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 15431                        ;
  Thu Dec  3 2020 22:25                                                Page 284


 15432                        ;	/*
 15433                        ;	if(pWin->pParentWindow)
 15434                        ;	{
 15435                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 15436                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 15437                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 15438                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 15439                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 15440                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 15441                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 15442                        ;	}
 15443                        ;	*/
 15444                        ;	k_debug_strings("k_vdraw_ui_window::IS CHILD:",t
                    itle);
 15445             00000000   metric_1	set	0
 15446             00000004   i_1	set	4
 15447             00000006   odd_1	set	6
 15448             00000008   borderColor_1	set	8
 15449             0000000A   borderTitle_1	set	10
 15450             0000000C   borderWidth_1	set	12
 15451             0000000E   titleOffsetX_1	set	14
 15452             00000010   titleOffsetY_1	set	16
 15453             00000012   titleScaler_1	set	18
 15454             00000014   clientOffsetX_1	set	20
 15455             00000016   clientOffsetY_1	set	22
 15456             00000018   currX_1	set	24
 15457             0000001A   currY_1	set	26
 15458             0000001C   endX_1	set	28
 15459             0000001E   maxminPos_1	set	30
 15460             00000020   ncc_1	set	32
 15461             00000022   gx_1	set	34
 15462             00000024   gy_1	set	36
 15463             00000026   bx_1	set	38
 15464             00000028   by_1	set	40
 15465             0000002A   fillOffset_1	set	42
 15466                        	.sym	metric,0,10,1,32,32
 15467                        	.sym	i,4,5,1,16
 15468                        	.sym	odd,6,5,1,16
 15469                        	.sym	borderColor,8,5,1,16
 15470                        	.sym	borderTitle,10,5,1,16
 15471                        	.sym	borderWidth,12,5,1,16
 15472                        	.sym	titleOffsetX,14,5,1,16
 15473                        	.sym	titleOffsetY,16,5,1,16
 15474                        	.sym	titleScaler,18,5,1,16
 15475                        	.sym	clientOffsetX,20,5,1,16
 15476                        	.sym	clientOffsetY,22,5,1,16
 15477                        	.sym	currX,24,5,1,16
 15478                        	.sym	currY,26,5,1,16
 15479                        	.sym	endX,28,5,1,16
 15480                        	.sym	maxminPos,30,5,1,16
 15481                        	.sym	ncc,32,5,1,16
  Thu Dec  3 2020 22:25                                                Page 285


 15482                        	.sym	gx,34,5,1,16
 15483                        	.sym	gy,36,5,1,16
 15484                        	.sym	bx,38,5,1,16
 15485                        	.sym	by,40,5,1,16
 15486                        	.sym	fillOffset,42,5,1,16
 15487                        	.sym	pWin,4,138,6,32,30
 15488                        	.sym	style,8,18,6,32
 15489                        	.sym	cx,12,5,6,16
 15490                        	.sym	cy,14,5,6,16
 15491                        	.sym	height,16,5,6,16
 15492                        	.sym	width,18,5,6,16
 15493                        	.sym	title,20,142,6,32
 15494                        	.sym	color,24,5,6,16
 15495                        	.sym	bgcolor,26,5,6,16
 15496                        	.sym	page,28,16,6,16
 15497 03:3DB5: 64 11        	stz	<L756+i_1
 15498 03:3DB7: A9 01 00     	lda	#$1
 15499 03:3DBA: 85 13        	sta	<L756+odd_1
 15500 03:3DBC: 64 15        	stz	<L756+borderColor_1
 15501 03:3DBE: 64 17        	stz	<L756+borderTitle_1
 15502 03:3DC0: 64 19        	stz	<L756+borderWidth_1
 15503 03:3DC2: 64 1B        	stz	<L756+titleOffsetX_1
 15504 03:3DC4: 64 1D        	stz	<L756+titleOffsetY_1
 15505 03:3DC6: 64 1F        	stz	<L756+titleScaler_1
 15506 03:3DC8: 64 21        	stz	<L756+clientOffsetX_1
 15507 03:3DCA: 64 23        	stz	<L756+clientOffsetY_1
 15508 03:3DCC: 64 25        	stz	<L756+currX_1
 15509 03:3DCE: 64 27        	stz	<L756+currY_1
 15510 03:3DD0: 64 29        	stz	<L756+endX_1
 15511 03:3DD2: 64 2B        	stz	<L756+maxminPos_1
 15512 03:3DD4: 64 2D        	stz	<L756+ncc_1
 15513 03:3DD6: A9 02 00     	lda	#$2
 15514 03:3DD9: 85 37        	sta	<L756+fillOffset_1
 15515                        	.line	2361
 15516 03:3DDB: D4 4E        	pei	<L755+title_0+2
 15517 03:3DDD: D4 4C        	pei	<L755+title_0
 15518 03:3DDF: F4 xx xx     	pea	#^L750
 15519 03:3DE2: F4 xx xx     	pea	#<L750
 15520 03:3DE5: 22 xx xx xx  	jsl	~~k_debug_strings
 15521                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 15522                        	.line	2362
 15523 03:3DE9: D4 44        	pei	<L755+cx_0
 15524 03:3DEB: F4 xx xx     	pea	#^L750+29
 15525 03:3DEE: F4 xx xx     	pea	#<L750+29
 15526 03:3DF1: 22 xx xx xx  	jsl	~~k_debug_integer
 15527                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 15528                        	.line	2363
 15529 03:3DF5: D4 46        	pei	<L755+cy_0
 15530 03:3DF7: F4 xx xx     	pea	#^L750+51
 15531 03:3DFA: F4 xx xx     	pea	#<L750+51
 15532 03:3DFD: 22 xx xx xx  	jsl	~~k_debug_integer
 15533                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 15534                        	.line	2364
 15535 03:3E01: D4 4A        	pei	<L755+width_0
 15536 03:3E03: F4 xx xx     	pea	#^L750+73
 15537 03:3E06: F4 xx xx     	pea	#<L750+73
 15538 03:3E09: 22 xx xx xx  	jsl	~~k_debug_integer
  Thu Dec  3 2020 22:25                                                Page 286


 15539                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 15540                        	.line	2365
 15541 03:3E0D: D4 48        	pei	<L755+height_0
 15542 03:3E0F: F4 xx xx     	pea	#^L750+98
 15543 03:3E12: F4 xx xx     	pea	#<L750+98
 15544 03:3E15: 22 xx xx xx  	jsl	~~k_debug_integer
 15545                        ;
 15546                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 15547                        	.line	2367
 15548 03:3E19: 18           	clc
 15549 03:3E1A: A9 18 00     	lda	#$18
 15550 03:3E1D: 65 3C        	adc	<L755+pWin_0
 15551 03:3E1F: 85 01        	sta	<R0
 15552 03:3E21: A9 00 00     	lda	#$0
 15553 03:3E24: 65 3E        	adc	<L755+pWin_0+2
 15554 03:3E26: 85 03        	sta	<R0+2
 15555 03:3E28: D4 03        	pei	<R0+2
 15556 03:3E2A: D4 01        	pei	<R0
 15557 03:3E2C: F4 xx xx     	pea	#^L750+124
 15558 03:3E2F: F4 xx xx     	pea	#<L750+124
 15559 03:3E32: 22 xx xx xx  	jsl	~~k_debug_rect
 15560                        ;
 15561                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 15562                        	.line	2369
 15563 03:3E36: F4 18 00     	pea	#<$18
 15564 03:3E39: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15565 03:3E3D: 85 2F        	sta	<L756+gx_1
 15566                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 15567                        	.line	2370
 15568 03:3E3F: F4 19 00     	pea	#<$19
 15569 03:3E42: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15570 03:3E46: 85 31        	sta	<L756+gy_1
 15571                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 15572                        	.line	2371
 15573 03:3E48: F4 05 00     	pea	#<$5
 15574 03:3E4B: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15575 03:3E4F: 85 33        	sta	<L756+bx_1
 15576                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 15577                        	.line	2372
 15578 03:3E51: F4 06 00     	pea	#<$6
 15579 03:3E54: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15580 03:3E58: 85 35        	sta	<L756+by_1
 15581                        ;
 15582                        ;	titleOffsetX = cx+2;
 15583                        	.line	2374
 15584 03:3E5A: 18           	clc
 15585 03:3E5B: A9 02 00     	lda	#$2
 15586 03:3E5E: 65 44        	adc	<L755+cx_0
 15587 03:3E60: 85 1B        	sta	<L756+titleOffsetX_1
 15588                        ;	titleOffsetY = cy+1;
 15589                        	.line	2375
 15590 03:3E62: A5 46        	lda	<L755+cy_0
 15591 03:3E64: 1A           	ina
 15592 03:3E65: 85 1D        	sta	<L756+titleOffsetY_1
 15593                        ;
 15594                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
  Thu Dec  3 2020 22:25                                                Page 287


 15595                        ;
 15596                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 15597                        	.line	2379
 15598                        ;	{
 15599 03:3E67: 82 1E 00     	brl	L10325
 15600                        	.line	2380
 15601                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 15602                        	.line	2381
 15603 03:3E6A: D4 4E        	pei	<L755+title_0+2
 15604 03:3E6C: D4 4C        	pei	<L755+title_0
 15605 03:3E6E: F4 xx xx     	pea	#^L750+150
 15606 03:3E71: F4 xx xx     	pea	#<L750+150
 15607 03:3E74: 22 xx xx xx  	jsl	~~k_debug_strings
 15608                        ;		return;
 15609                        	.line	2382
 15610                        L758:
 15611 03:3E78: A5 3A        	lda	<L755+2
 15612 03:3E7A: 85 54        	sta	<L755+2+26
 15613 03:3E7C: A5 39        	lda	<L755+1
 15614 03:3E7E: 85 53        	sta	<L755+1+26
 15615 03:3E80: 2B           	pld
 15616 03:3E81: 3B           	tsc
 15617 03:3E82: 18           	clc
 15618 03:3E83: 69 52 00     	adc	#L755+26
 15619 03:3E86: 1B           	tcs
 15620 03:3E87: 6B           	rtl
 15621                        ;	}
 15622                        	.line	2383
 15623                        ;
 15624                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 15625                        ;
 15626                        ;	if(style & FXWS_THICKFRAME)
 15627                        L10325:
 15628                        	.line	2387
 15629                        ;	{
 15630 03:3E88: A5 42        	lda	<L755+style_0+2
 15631 03:3E8A: 29 02 00     	and	#^$20000
 15632 03:3E8D: D0 03        	bne	L759
 15633 03:3E8F: 82 08 00     	brl	L10326
 15634                        L759:
 15635                        	.line	2388
 15636                        ;		borderWidth = 2;
 15637                        	.line	2389
 15638 03:3E92: A9 02 00     	lda	#$2
 15639 03:3E95: 85 19        	sta	<L756+borderWidth_1
 15640                        ;	}
 15641                        	.line	2390
 15642                        ;	else if(style & FXWS_BORDER)
 15643 03:3E97: 82 21 00     	brl	L10327
 15644                        L10326:
 15645                        	.line	2391
 15646                        ;	{
 15647 03:3E9A: A5 42        	lda	<L755+style_0+2
 15648 03:3E9C: 29 01 00     	and	#^$10000
 15649 03:3E9F: D0 03        	bne	L760
 15650 03:3EA1: 82 08 00     	brl	L10328
  Thu Dec  3 2020 22:25                                                Page 288


 15651                        L760:
 15652                        	.line	2392
 15653                        ;		borderWidth = 1;
 15654                        	.line	2393
 15655 03:3EA4: A9 01 00     	lda	#$1
 15656 03:3EA7: 85 19        	sta	<L756+borderWidth_1
 15657                        ;	}
 15658                        	.line	2394
 15659                        ;	else if(style & FXWS_DLGFRAME)
 15660 03:3EA9: 82 0F 00     	brl	L10329
 15661                        L10328:
 15662                        	.line	2395
 15663                        ;	{
 15664 03:3EAC: A5 42        	lda	<L755+style_0+2
 15665 03:3EAE: 29 04 00     	and	#^$40000
 15666 03:3EB1: D0 03        	bne	L761
 15667 03:3EB3: 82 05 00     	brl	L10330
 15668                        L761:
 15669                        	.line	2396
 15670                        ;		borderWidth = 4;
 15671                        	.line	2397
 15672 03:3EB6: A9 04 00     	lda	#$4
 15673 03:3EB9: 85 19        	sta	<L756+borderWidth_1
 15674                        ;	}
 15675                        	.line	2398
 15676                        ;
 15677                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 15678                        L10330:
 15679                        L10329:
 15680                        L10327:
 15681                        	.line	2400
 15682                        ;	{
 15683 03:3EBB: A5 40        	lda	<L755+style_0
 15684 03:3EBD: 29 04 00     	and	#<$4
 15685 03:3EC0: 85 01        	sta	<R0
 15686 03:3EC2: 64 03        	stz	<R0+2
 15687 03:3EC4: A5 01        	lda	<R0
 15688 03:3EC6: C9 04 00     	cmp	#<$4
 15689 03:3EC9: D0 05        	bne	L763
 15690 03:3ECB: A5 03        	lda	<R0+2
 15691 03:3ECD: C9 00 00     	cmp	#^$4
 15692                        L763:
 15693 03:3ED0: D0 03        	bne	L764
 15694 03:3ED2: 82 1E 00     	brl	L762
 15695                        L764:
 15696 03:3ED5: A5 40        	lda	<L755+style_0
 15697 03:3ED7: 29 08 00     	and	#<$8
 15698 03:3EDA: F0 03        	beq	L765
 15699 03:3EDC: 82 14 00     	brl	L762
 15700                        L765:
 15701 03:3EDF: A5 40        	lda	<L755+style_0
 15702 03:3EE1: 29 20 00     	and	#<$20
 15703 03:3EE4: F0 03        	beq	L766
 15704 03:3EE6: 82 0A 00     	brl	L762
 15705                        L766:
 15706 03:3EE9: A5 40        	lda	<L755+style_0
  Thu Dec  3 2020 22:25                                                Page 289


 15707 03:3EEB: 29 10 00     	and	#<$10
 15708 03:3EEE: D0 03        	bne	L767
 15709 03:3EF0: 82 05 00     	brl	L10331
 15710                        L767:
 15711                        L762:
 15712                        	.line	2401
 15713                        ;		borderTitle = 10;
 15714                        	.line	2402
 15715 03:3EF3: A9 0A 00     	lda	#$a
 15716 03:3EF6: 85 17        	sta	<L756+borderTitle_1
 15717                        ;	}
 15718                        	.line	2403
 15719                        ;
 15720                        ;	clientOffsetX = cx + borderWidth;
 15721                        L10331:
 15722                        	.line	2405
 15723 03:3EF8: 18           	clc
 15724 03:3EF9: A5 44        	lda	<L755+cx_0
 15725 03:3EFB: 65 19        	adc	<L756+borderWidth_1
 15726 03:3EFD: 85 21        	sta	<L756+clientOffsetX_1
 15727                        ;
 15728                        ;	if(borderTitle)
 15729                        	.line	2407
 15730                        ;		clientOffsetY = cy + borderTitle;
 15731 03:3EFF: A5 17        	lda	<L756+borderTitle_1
 15732 03:3F01: D0 03        	bne	L768
 15733 03:3F03: 82 0A 00     	brl	L10332
 15734                        L768:
 15735                        	.line	2408
 15736 03:3F06: 18           	clc
 15737 03:3F07: A5 46        	lda	<L755+cy_0
 15738 03:3F09: 65 17        	adc	<L756+borderTitle_1
 15739 03:3F0B: 85 23        	sta	<L756+clientOffsetY_1
 15740                        ;	else
 15741 03:3F0D: 82 07 00     	brl	L10333
 15742                        L10332:
 15743                        ;		clientOffsetY = cy + borderWidth;
 15744                        	.line	2410
 15745 03:3F10: 18           	clc
 15746 03:3F11: A5 46        	lda	<L755+cy_0
 15747 03:3F13: 65 19        	adc	<L756+borderWidth_1
 15748 03:3F15: 85 23        	sta	<L756+clientOffsetY_1
 15749                        L10333:
 15750                        ;
 15751                        ;	currX = clientOffsetX;
 15752                        	.line	2412
 15753 03:3F17: A5 21        	lda	<L756+clientOffsetX_1
 15754 03:3F19: 85 25        	sta	<L756+currX_1
 15755                        ;	currY = clientOffsetY;
 15756                        	.line	2413
 15757 03:3F1B: A5 23        	lda	<L756+clientOffsetY_1
 15758 03:3F1D: 85 27        	sta	<L756+currY_1
 15759                        ;
 15760                        ;	endX = width + cx - borderWidth;
 15761                        	.line	2415
 15762 03:3F1F: 18           	clc
 15763 03:3F20: A5 4A        	lda	<L755+width_0
 15764 03:3F22: 65 44        	adc	<L755+cx_0
  Thu Dec  3 2020 22:25                                                Page 290


 15765 03:3F24: 85 01        	sta	<R0
 15766 03:3F26: 38           	sec
 15767 03:3F27: A5 01        	lda	<R0
 15768 03:3F29: E5 19        	sbc	<L756+borderWidth_1
 15769 03:3F2B: 85 29        	sta	<L756+endX_1
 15770                        ;	maxminPos = 0;
 15771                        	.line	2416
 15772 03:3F2D: 64 2B        	stz	<L756+maxminPos_1
 15773                        ;
 15774                        ;
 15775                        ;	/*
 15776                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 15777                        ;	//k_delay(50);
 15778                        ;
 15779                        ;	k_vdma_fill_rect(cx + borderWidth,
 15780                        ;			         cy + (borderTitle + bor
                    derWidth),
 15781                        ;					 //width - borde
                    rWidth - borderWidth + 1,
 15782                        ;					 //height - bord
                    erTitle - borderWidth + 1,
 15783                        ;					 width  - (borde
                    rWidth + fillOffset),
 15784                        ;					 height - (borde
                    rTitle + borderWidth + fillOffset),
 15785                        ;					 bgcolor);
 15786                        ;	*/
 15787                        ;
 15788                        ;	//k_debug_integer("k_vdraw_ui_window:cx:",cx);
 15789                        ;	//k_debug_integer("k_vdraw_ui_window:cy:",cy);
 15790                        ;	//k_debug_integer("k_vdraw_ui_window:width:",wid
                    th);
 15791                        ;	//k_debug_integer("k_vdraw_ui_window:height:",he
                    ight);
 15792                        ;
 15793                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 15794                        	.line	2437
 15795 03:3F2F: D4 54        	pei	<L755+page_0
 15796 03:3F31: D4 52        	pei	<L755+bgcolor_0
 15797 03:3F33: D4 48        	pei	<L755+height_0
 15798 03:3F35: D4 4A        	pei	<L755+width_0
 15799 03:3F37: A0 00 00     	ldy	#$0
 15800 03:3F3A: A5 46        	lda	<L755+cy_0
 15801 03:3F3C: 10 01        	bpl	L769
 15802 03:3F3E: 88           	dey
 15803                        L769:
 15804 03:3F3F: 85 01        	sta	<R0
 15805 03:3F41: 84 03        	sty	<R0+2
 15806 03:3F43: D4 03        	pei	<R0+2
 15807 03:3F45: D4 01        	pei	<R0
 15808 03:3F47: A0 00 00     	ldy	#$0
 15809 03:3F4A: A5 44        	lda	<L755+cx_0
 15810 03:3F4C: 10 01        	bpl	L770
 15811 03:3F4E: 88           	dey
 15812                        L770:
 15813 03:3F4F: 85 05        	sta	<R1
 15814 03:3F51: 84 07        	sty	<R1+2
  Thu Dec  3 2020 22:25                                                Page 291


 15815 03:3F53: D4 07        	pei	<R1+2
 15816 03:3F55: D4 05        	pei	<R1
 15817 03:3F57: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 15818                        ;	borderColor = color;
 15819                        	.line	2438
 15820 03:3F5B: A5 50        	lda	<L755+color_0
 15821 03:3F5D: 85 15        	sta	<L756+borderColor_1
 15822                        ;	for(i=0;i<borderWidth;i++)
 15823                        	.line	2439
 15824 03:3F5F: 64 11        	stz	<L756+i_1
 15825 03:3F61: 82 6F 00     	brl	L10337
 15826                        L10336:
 15827                        ;	{
 15828                        	.line	2440
 15829                        ;		if(borderWidth > 2)
 15830                        	.line	2441
 15831                        ;		{
 15832 03:3F64: 38           	sec
 15833 03:3F65: A9 02 00     	lda	#$2
 15834 03:3F68: E5 19        	sbc	<L756+borderWidth_1
 15835 03:3F6A: 70 03        	bvs	L771
 15836 03:3F6C: 49 00 80     	eor	#$8000
 15837                        L771:
 15838 03:3F6F: 10 03        	bpl	L772
 15839 03:3F71: 82 1C 00     	brl	L10338
 15840                        L772:
 15841                        	.line	2442
 15842                        ;			borderColor = color;
 15843                        	.line	2443
 15844 03:3F74: A5 50        	lda	<L755+color_0
 15845 03:3F76: 85 15        	sta	<L756+borderColor_1
 15846                        ;			odd=!odd;
 15847                        	.line	2444
 15848 03:3F78: 64 01        	stz	<R0
 15849 03:3F7A: A5 13        	lda	<L756+odd_1
 15850 03:3F7C: F0 03        	beq	L774
 15851 03:3F7E: 82 02 00     	brl	L773
 15852                        L774:
 15853 03:3F81: E6 01        	inc	<R0
 15854                        L773:
 15855 03:3F83: A5 01        	lda	<R0
 15856 03:3F85: 85 13        	sta	<L756+odd_1
 15857                        ;			if(odd)
 15858                        	.line	2445
 15859                        ;			{
 15860 03:3F87: A5 13        	lda	<L756+odd_1
 15861 03:3F89: D0 03        	bne	L775
 15862 03:3F8B: 82 02 00     	brl	L10339
 15863                        L775:
 15864                        	.line	2446
 15865                        ;				borderColor = 0;
 15866                        	.line	2447
 15867 03:3F8E: 64 15        	stz	<L756+borderColor_1
 15868                        ;			}
 15869                        	.line	2448
 15870                        ;		}
 15871                        L10339:
 15872                        	.line	2449
  Thu Dec  3 2020 22:25                                                Page 292


 15873                        ;
 15874                        ;		k_draw_rect(cx + i + 0,
 15875                        L10338:
 15876                        	.line	2451
 15877                        ;					cy + i + 0,
 15878                        ;					cx + width  - 1 
                    - i,
 15879                        ;					cy + height - 1 
                    - i,
 15880                        ;					borderColor,
 15881                        ;					0,
 15882                        ;					page);
 15883 03:3F90: D4 54        	pei	<L755+page_0
 15884 03:3F92: F4 00 00     	pea	#<$0
 15885 03:3F95: D4 15        	pei	<L756+borderColor_1
 15886 03:3F97: 18           	clc
 15887 03:3F98: A5 46        	lda	<L755+cy_0
 15888 03:3F9A: 65 48        	adc	<L755+height_0
 15889 03:3F9C: 85 01        	sta	<R0
 15890 03:3F9E: 18           	clc
 15891 03:3F9F: A9 FF FF     	lda	#$ffff
 15892 03:3FA2: 65 01        	adc	<R0
 15893 03:3FA4: 85 05        	sta	<R1
 15894 03:3FA6: 38           	sec
 15895 03:3FA7: A5 05        	lda	<R1
 15896 03:3FA9: E5 11        	sbc	<L756+i_1
 15897 03:3FAB: 48           	pha
 15898 03:3FAC: 18           	clc
 15899 03:3FAD: A5 44        	lda	<L755+cx_0
 15900 03:3FAF: 65 4A        	adc	<L755+width_0
 15901 03:3FB1: 85 01        	sta	<R0
 15902 03:3FB3: 18           	clc
 15903 03:3FB4: A9 FF FF     	lda	#$ffff
 15904 03:3FB7: 65 01        	adc	<R0
 15905 03:3FB9: 85 05        	sta	<R1
 15906 03:3FBB: 38           	sec
 15907 03:3FBC: A5 05        	lda	<R1
 15908 03:3FBE: E5 11        	sbc	<L756+i_1
 15909 03:3FC0: 48           	pha
 15910 03:3FC1: 18           	clc
 15911 03:3FC2: A5 46        	lda	<L755+cy_0
 15912 03:3FC4: 65 11        	adc	<L756+i_1
 15913 03:3FC6: 48           	pha
 15914 03:3FC7: 18           	clc
 15915 03:3FC8: A5 44        	lda	<L755+cx_0
 15916 03:3FCA: 65 11        	adc	<L756+i_1
 15917 03:3FCC: 48           	pha
 15918 03:3FCD: 22 EE 18 03  	jsl	~~k_draw_rect
 15919                        ;
 15920                        ;	}
 15921                        	.line	2459
 15922                        L10334:
 15923 03:3FD1: E6 11        	inc	<L756+i_1
 15924                        L10337:
 15925 03:3FD3: 38           	sec
 15926 03:3FD4: A5 11        	lda	<L756+i_1
 15927 03:3FD6: E5 19        	sbc	<L756+borderWidth_1
 15928 03:3FD8: 70 03        	bvs	L776
  Thu Dec  3 2020 22:25                                                Page 293


 15929 03:3FDA: 49 00 80     	eor	#$8000
 15930                        L776:
 15931 03:3FDD: 30 03        	bmi	L777
 15932 03:3FDF: 82 82 FF     	brl	L10336
 15933                        L777:
 15934                        L10335:
 15935                        ;
 15936                        ;
 15937                        ;
 15938                        ;	if(borderTitle)
 15939                        	.line	2463
 15940                        ;	{
 15941 03:3FE2: A5 17        	lda	<L756+borderTitle_1
 15942 03:3FE4: D0 03        	bne	L778
 15943 03:3FE6: 82 2C 00     	brl	L10340
 15944                        L778:
 15945                        	.line	2464
 15946                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 15947                        	.line	2465
 15948 03:3FE9: D4 54        	pei	<L755+page_0
 15949 03:3FEB: D4 50        	pei	<L755+color_0
 15950 03:3FED: D4 17        	pei	<L756+borderTitle_1
 15951 03:3FEF: D4 4A        	pei	<L755+width_0
 15952 03:3FF1: A0 00 00     	ldy	#$0
 15953 03:3FF4: A5 46        	lda	<L755+cy_0
 15954 03:3FF6: 10 01        	bpl	L779
 15955 03:3FF8: 88           	dey
 15956                        L779:
 15957 03:3FF9: 85 01        	sta	<R0
 15958 03:3FFB: 84 03        	sty	<R0+2
 15959 03:3FFD: D4 03        	pei	<R0+2
 15960 03:3FFF: D4 01        	pei	<R0
 15961 03:4001: A0 00 00     	ldy	#$0
 15962 03:4004: A5 44        	lda	<L755+cx_0
 15963 03:4006: 10 01        	bpl	L780
 15964 03:4008: 88           	dey
 15965                        L780:
 15966 03:4009: 85 05        	sta	<R1
 15967 03:400B: 84 07        	sty	<R1+2
 15968 03:400D: D4 07        	pei	<R1+2
 15969 03:400F: D4 05        	pei	<R1
 15970 03:4011: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 15971                        ;	}
 15972                        	.line	2466
 15973                        ;
 15974                        ;	k_get_font_metrics(&metric);
 15975                        L10340:
 15976                        	.line	2468
 15977 03:4015: F4 00 00     	pea	#0
 15978 03:4018: 18           	clc
 15979 03:4019: 7B           	tdc
 15980 03:401A: 69 0D 00     	adc	#<L756+metric_1
 15981 03:401D: 48           	pha
 15982 03:401E: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 15983                        ;	
 15984                        ;	
 15985                        ;	//title = strupr(title);
  Thu Dec  3 2020 22:25                                                Page 294


 15986                        ;	
 15987                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 15988                        ;
 15989                        ;	if(style & FXWS_SYSMENU)
 15990                        	.line	2475
 15991                        ;	{
 15992 03:4022: A5 40        	lda	<L755+style_0
 15993 03:4024: 29 08 00     	and	#<$8
 15994 03:4027: D0 03        	bne	L781
 15995 03:4029: 82 A6 00     	brl	L10341
 15996                        L781:
 15997                        	.line	2476
 15998                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 15999                        	.line	2477
 16000 03:402C: D4 2F        	pei	<L756+gx_1
 16001 03:402E: D4 2F        	pei	<L756+gx_1
 16002 03:4030: D4 1D        	pei	<L756+titleOffsetY_1
 16003 03:4032: D4 1B        	pei	<L756+titleOffsetX_1
 16004 03:4034: A0 00 00     	ldy	#$0
 16005 03:4037: A5 2D        	lda	<L756+ncc_1
 16006 03:4039: 10 01        	bpl	L782
 16007 03:403B: 88           	dey
 16008                        L782:
 16009 03:403C: 85 01        	sta	<R0
 16010 03:403E: 84 03        	sty	<R0+2
 16011 03:4040: F4 00 00     	pea	#^$b
 16012 03:4043: F4 0B 00     	pea	#<$b
 16013 03:4046: D4 03        	pei	<R0+2
 16014 03:4048: D4 01        	pei	<R0
 16015                        	xref	~~~lmul
 16016 03:404A: 22 xx xx xx  	jsl	~~~lmul
 16017 03:404E: 85 01        	sta	<R0
 16018 03:4050: 86 03        	stx	<R0+2
 16019 03:4052: 18           	clc
 16020 03:4053: A9 20 00     	lda	#$20
 16021 03:4056: 65 01        	adc	<R0
 16022 03:4058: 85 05        	sta	<R1
 16023 03:405A: A9 00 00     	lda	#$0
 16024 03:405D: 65 03        	adc	<R0+2
 16025 03:405F: 85 07        	sta	<R1+2
 16026 03:4061: 18           	clc
 16027 03:4062: A5 3C        	lda	<L755+pWin_0
 16028 03:4064: 65 05        	adc	<R1
 16029 03:4066: 85 01        	sta	<R0
 16030 03:4068: A5 3E        	lda	<L755+pWin_0+2
 16031 03:406A: 65 07        	adc	<R1+2
 16032 03:406C: 85 03        	sta	<R0+2
 16033 03:406E: D4 03        	pei	<R0+2
 16034 03:4070: D4 01        	pei	<R0
 16035 03:4072: 22 00 00 03  	jsl	~~k_set_rect
 16036                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 16037                        	.line	2478
 16038 03:4076: A0 00 00     	ldy	#$0
 16039 03:4079: A5 2D        	lda	<L756+ncc_1
 16040 03:407B: 10 01        	bpl	L783
  Thu Dec  3 2020 22:25                                                Page 295


 16041 03:407D: 88           	dey
 16042                        L783:
 16043 03:407E: 85 01        	sta	<R0
 16044 03:4080: 84 03        	sty	<R0+2
 16045 03:4082: F4 00 00     	pea	#^$b
 16046 03:4085: F4 0B 00     	pea	#<$b
 16047 03:4088: D4 03        	pei	<R0+2
 16048 03:408A: D4 01        	pei	<R0
 16049                        	xref	~~~lmul
 16050 03:408C: 22 xx xx xx  	jsl	~~~lmul
 16051 03:4090: 85 01        	sta	<R0
 16052 03:4092: 86 03        	stx	<R0+2
 16053 03:4094: 18           	clc
 16054 03:4095: A9 28 00     	lda	#$28
 16055 03:4098: 65 3C        	adc	<L755+pWin_0
 16056 03:409A: 85 05        	sta	<R1
 16057 03:409C: A9 00 00     	lda	#$0
 16058 03:409F: 65 3E        	adc	<L755+pWin_0+2
 16059 03:40A1: 85 07        	sta	<R1+2
 16060 03:40A3: 18           	clc
 16061 03:40A4: A5 05        	lda	<R1
 16062 03:40A6: 65 01        	adc	<R0
 16063 03:40A8: 85 09        	sta	<R2
 16064 03:40AA: A5 07        	lda	<R1+2
 16065 03:40AC: 65 03        	adc	<R0+2
 16066 03:40AE: 85 0B        	sta	<R2+2
 16067 03:40B0: A9 FF FB     	lda	#$fbff
 16068 03:40B3: 87 09        	sta	[<R2]
 16069 03:40B5: E6 2D        	inc	<L756+ncc_1
 16070                        ;
 16071                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 16072                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 16073                        	.line	2481
 16074 03:40B7: D4 54        	pei	<L755+page_0
 16075 03:40B9: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16076 03:40BD: 48           	pha
 16077 03:40BE: D4 1D        	pei	<L756+titleOffsetY_1
 16078 03:40C0: D4 1B        	pei	<L756+titleOffsetX_1
 16079 03:40C2: F4 06 00     	pea	#<$6
 16080 03:40C5: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16081 03:40C9: 85 01        	sta	<R0
 16082 03:40CB: 18           	clc
 16083 03:40CC: A5 01        	lda	<R0
 16084 03:40CE: 65 1B        	adc	<L756+titleOffsetX_1
 16085 03:40D0: 85 1B        	sta	<L756+titleOffsetX_1
 16086                        ;
 16087                        ;	}
 16088                        	.line	2483
 16089                        ;	
 16090                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 16091                        L10341:
 16092                        	.line	2485
 16093                        ;	{
 16094 03:40D2: A5 40        	lda	<L755+style_0
 16095 03:40D4: 29 04 00     	and	#<$4
  Thu Dec  3 2020 22:25                                                Page 296


 16096 03:40D7: 85 01        	sta	<R0
 16097 03:40D9: 64 03        	stz	<R0+2
 16098 03:40DB: A5 01        	lda	<R0
 16099 03:40DD: C9 04 00     	cmp	#<$4
 16100 03:40E0: D0 05        	bne	L784
 16101 03:40E2: A5 03        	lda	<R0+2
 16102 03:40E4: C9 00 00     	cmp	#^$4
 16103                        L784:
 16104 03:40E7: F0 03        	beq	L785
 16105 03:40E9: 82 43 00     	brl	L10342
 16106                        L785:
 16107                        	.line	2486
 16108                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 16109                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 16110                        ;		titleScaler = (int)(width / metric.width
                     -1 );
 16111                        	.line	2489
 16112 03:40EC: A5 4A        	lda	<L755+width_0
 16113 03:40EE: A6 0D        	ldx	<L756+metric_1
 16114                        	xref	~~~div
 16115 03:40F0: 22 xx xx xx  	jsl	~~~div
 16116 03:40F4: 85 01        	sta	<R0
 16117 03:40F6: 18           	clc
 16118 03:40F7: A9 FF FF     	lda	#$ffff
 16119 03:40FA: 65 01        	adc	<R0
 16120 03:40FC: 85 1F        	sta	<L756+titleScaler_1
 16121                        ;		for(i=0;i<titleScaler;i++)
 16122                        	.line	2490
 16123 03:40FE: 64 11        	stz	<L756+i_1
 16124 03:4100: 82 1D 00     	brl	L10346
 16125                        L10345:
 16126                        ;		{
 16127                        	.line	2491
 16128                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 16129                        	.line	2492
 16130 03:4103: D4 54        	pei	<L755+page_0
 16131 03:4105: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16132 03:4109: 48           	pha
 16133 03:410A: D4 1D        	pei	<L756+titleOffsetY_1
 16134 03:410C: D4 1B        	pei	<L756+titleOffsetX_1
 16135 03:410E: F4 01 00     	pea	#<$1
 16136 03:4111: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16137 03:4115: 85 01        	sta	<R0
 16138 03:4117: 18           	clc
 16139 03:4118: A5 01        	lda	<R0
 16140 03:411A: 65 1B        	adc	<L756+titleOffsetX_1
 16141 03:411C: 85 1B        	sta	<L756+titleOffsetX_1
 16142                        ;		}
 16143                        	.line	2493
 16144                        L10343:
 16145 03:411E: E6 11        	inc	<L756+i_1
 16146                        L10346:
 16147 03:4120: 38           	sec
 16148 03:4121: A5 11        	lda	<L756+i_1
  Thu Dec  3 2020 22:25                                                Page 297


 16149 03:4123: E5 1F        	sbc	<L756+titleScaler_1
 16150 03:4125: 70 03        	bvs	L786
 16151 03:4127: 49 00 80     	eor	#$8000
 16152                        L786:
 16153 03:412A: 30 03        	bmi	L787
 16154 03:412C: 82 D4 FF     	brl	L10345
 16155                        L787:
 16156                        L10344:
 16157                        ;	}
 16158                        	.line	2494
 16159                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 16160                        ;	//titleOffsetX+=2;
 16161                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 16162                        ;	
 16163                        ;	if(style & FXWS_MAXIMIZEBOX)
 16164                        L10342:
 16165                        	.line	2499
 16166                        ;	{
 16167 03:412F: A5 40        	lda	<L755+style_0
 16168 03:4131: 29 10 00     	and	#<$10
 16169 03:4134: D0 03        	bne	L788
 16170 03:4136: 82 C6 00     	brl	L10347
 16171                        L788:
 16172                        	.line	2500
 16173                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 16174                        ;		maxminPos+=metric.width;
 16175                        	.line	2502
 16176 03:4139: 18           	clc
 16177 03:413A: A5 2B        	lda	<L756+maxminPos_1
 16178 03:413C: 65 0D        	adc	<L756+metric_1
 16179 03:413E: 85 2B        	sta	<L756+maxminPos_1
 16180                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 16181                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 16182                        ;
 16183                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 16184                        	.line	2506
 16185 03:4140: D4 54        	pei	<L755+page_0
 16186 03:4142: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 16187 03:4146: 48           	pha
 16188 03:4147: D4 1D        	pei	<L756+titleOffsetY_1
 16189 03:4149: 38           	sec
 16190 03:414A: A5 29        	lda	<L756+endX_1
 16191 03:414C: E5 2B        	sbc	<L756+maxminPos_1
 16192 03:414E: 48           	pha
 16193 03:414F: F4 00 00     	pea	#<$0
 16194 03:4152: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16195                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
  Thu Dec  3 2020 22:25                                                Page 298


 16196                        	.line	2507
 16197 03:4156: D4 54        	pei	<L755+page_0
 16198 03:4158: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16199 03:415C: 48           	pha
 16200 03:415D: D4 1D        	pei	<L756+titleOffsetY_1
 16201 03:415F: 38           	sec
 16202 03:4160: A5 29        	lda	<L756+endX_1
 16203 03:4162: E5 2B        	sbc	<L756+maxminPos_1
 16204 03:4164: 48           	pha
 16205 03:4165: F4 03 00     	pea	#<$3
 16206 03:4168: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16207                        ;
 16208                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 16209                        	.line	2509
 16210 03:416C: D4 2F        	pei	<L756+gx_1
 16211 03:416E: D4 2F        	pei	<L756+gx_1
 16212 03:4170: D4 1D        	pei	<L756+titleOffsetY_1
 16213 03:4172: 38           	sec
 16214 03:4173: A5 29        	lda	<L756+endX_1
 16215 03:4175: E5 2B        	sbc	<L756+maxminPos_1
 16216 03:4177: 48           	pha
 16217 03:4178: A0 00 00     	ldy	#$0
 16218 03:417B: A5 2D        	lda	<L756+ncc_1
 16219 03:417D: 10 01        	bpl	L789
 16220 03:417F: 88           	dey
 16221                        L789:
 16222 03:4180: 85 01        	sta	<R0
 16223 03:4182: 84 03        	sty	<R0+2
 16224 03:4184: F4 00 00     	pea	#^$b
 16225 03:4187: F4 0B 00     	pea	#<$b
 16226 03:418A: D4 03        	pei	<R0+2
 16227 03:418C: D4 01        	pei	<R0
 16228                        	xref	~~~lmul
 16229 03:418E: 22 xx xx xx  	jsl	~~~lmul
 16230 03:4192: 85 01        	sta	<R0
 16231 03:4194: 86 03        	stx	<R0+2
 16232 03:4196: 18           	clc
 16233 03:4197: A9 20 00     	lda	#$20
 16234 03:419A: 65 01        	adc	<R0
 16235 03:419C: 85 05        	sta	<R1
 16236 03:419E: A9 00 00     	lda	#$0
 16237 03:41A1: 65 03        	adc	<R0+2
 16238 03:41A3: 85 07        	sta	<R1+2
 16239 03:41A5: 18           	clc
 16240 03:41A6: A5 3C        	lda	<L755+pWin_0
 16241 03:41A8: 65 05        	adc	<R1
 16242 03:41AA: 85 01        	sta	<R0
 16243 03:41AC: A5 3E        	lda	<L755+pWin_0+2
 16244 03:41AE: 65 07        	adc	<R1+2
 16245 03:41B0: 85 03        	sta	<R0+2
 16246 03:41B2: D4 03        	pei	<R0+2
 16247 03:41B4: D4 01        	pei	<R0
 16248 03:41B6: 22 00 00 03  	jsl	~~k_set_rect
 16249                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 16250                        	.line	2510
 16251 03:41BA: A0 00 00     	ldy	#$0
  Thu Dec  3 2020 22:25                                                Page 299


 16252 03:41BD: A5 2D        	lda	<L756+ncc_1
 16253 03:41BF: 10 01        	bpl	L790
 16254 03:41C1: 88           	dey
 16255                        L790:
 16256 03:41C2: 85 01        	sta	<R0
 16257 03:41C4: 84 03        	sty	<R0+2
 16258 03:41C6: F4 00 00     	pea	#^$b
 16259 03:41C9: F4 0B 00     	pea	#<$b
 16260 03:41CC: D4 03        	pei	<R0+2
 16261 03:41CE: D4 01        	pei	<R0
 16262                        	xref	~~~lmul
 16263 03:41D0: 22 xx xx xx  	jsl	~~~lmul
 16264 03:41D4: 85 01        	sta	<R0
 16265 03:41D6: 86 03        	stx	<R0+2
 16266 03:41D8: 18           	clc
 16267 03:41D9: A9 28 00     	lda	#$28
 16268 03:41DC: 65 3C        	adc	<L755+pWin_0
 16269 03:41DE: 85 05        	sta	<R1
 16270 03:41E0: A9 00 00     	lda	#$0
 16271 03:41E3: 65 3E        	adc	<L755+pWin_0+2
 16272 03:41E5: 85 07        	sta	<R1+2
 16273 03:41E7: 18           	clc
 16274 03:41E8: A5 05        	lda	<R1
 16275 03:41EA: 65 01        	adc	<R0
 16276 03:41EC: 85 09        	sta	<R2
 16277 03:41EE: A5 07        	lda	<R1+2
 16278 03:41F0: 65 03        	adc	<R0+2
 16279 03:41F2: 85 0B        	sta	<R2+2
 16280 03:41F4: A9 0A FB     	lda	#$fb0a
 16281 03:41F7: 87 09        	sta	[<R2]
 16282 03:41F9: E6 2D        	inc	<L756+ncc_1
 16283                        ;
 16284                        ;		maxminPos+=2;
 16285                        	.line	2512
 16286 03:41FB: E6 2B        	inc	<L756+maxminPos_1
 16287 03:41FD: E6 2B        	inc	<L756+maxminPos_1
 16288                        ;	}
 16289                        	.line	2513
 16290                        ;
 16291                        ;	if(style & FXWS_MINIMIZEBOX)
 16292                        L10347:
 16293                        	.line	2515
 16294                        ;	{
 16295 03:41FF: A5 40        	lda	<L755+style_0
 16296 03:4201: 29 20 00     	and	#<$20
 16297 03:4204: D0 03        	bne	L791
 16298 03:4206: 82 C6 00     	brl	L10348
 16299                        L791:
 16300                        	.line	2516
 16301                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 16302                        ;		maxminPos+=metric.width;
 16303                        	.line	2518
 16304 03:4209: 18           	clc
 16305 03:420A: A5 2B        	lda	<L756+maxminPos_1
 16306 03:420C: 65 0D        	adc	<L756+metric_1
 16307 03:420E: 85 2B        	sta	<L756+maxminPos_1
 16308                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
  Thu Dec  3 2020 22:25                                                Page 300


                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 16309                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 16310                        ;
 16311                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 16312                        	.line	2522
 16313 03:4210: D4 54        	pei	<L755+page_0
 16314 03:4212: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 16315 03:4216: 48           	pha
 16316 03:4217: D4 1D        	pei	<L756+titleOffsetY_1
 16317 03:4219: 38           	sec
 16318 03:421A: A5 29        	lda	<L756+endX_1
 16319 03:421C: E5 2B        	sbc	<L756+maxminPos_1
 16320 03:421E: 48           	pha
 16321 03:421F: F4 00 00     	pea	#<$0
 16322 03:4222: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16323                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 16324                        	.line	2523
 16325 03:4226: D4 54        	pei	<L755+page_0
 16326 03:4228: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16327 03:422C: 48           	pha
 16328 03:422D: D4 1D        	pei	<L756+titleOffsetY_1
 16329 03:422F: 38           	sec
 16330 03:4230: A5 29        	lda	<L756+endX_1
 16331 03:4232: E5 2B        	sbc	<L756+maxminPos_1
 16332 03:4234: 48           	pha
 16333 03:4235: F4 04 00     	pea	#<$4
 16334 03:4238: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16335                        ;
 16336                        ;
 16337                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 16338                        	.line	2526
 16339 03:423C: D4 2F        	pei	<L756+gx_1
 16340 03:423E: D4 2F        	pei	<L756+gx_1
 16341 03:4240: D4 1D        	pei	<L756+titleOffsetY_1
 16342 03:4242: 38           	sec
 16343 03:4243: A5 29        	lda	<L756+endX_1
 16344 03:4245: E5 2B        	sbc	<L756+maxminPos_1
 16345 03:4247: 48           	pha
 16346 03:4248: A0 00 00     	ldy	#$0
 16347 03:424B: A5 2D        	lda	<L756+ncc_1
 16348 03:424D: 10 01        	bpl	L792
 16349 03:424F: 88           	dey
 16350                        L792:
 16351 03:4250: 85 01        	sta	<R0
 16352 03:4252: 84 03        	sty	<R0+2
 16353 03:4254: F4 00 00     	pea	#^$b
 16354 03:4257: F4 0B 00     	pea	#<$b
 16355 03:425A: D4 03        	pei	<R0+2
 16356 03:425C: D4 01        	pei	<R0
 16357                        	xref	~~~lmul
  Thu Dec  3 2020 22:25                                                Page 301


 16358 03:425E: 22 xx xx xx  	jsl	~~~lmul
 16359 03:4262: 85 01        	sta	<R0
 16360 03:4264: 86 03        	stx	<R0+2
 16361 03:4266: 18           	clc
 16362 03:4267: A9 20 00     	lda	#$20
 16363 03:426A: 65 01        	adc	<R0
 16364 03:426C: 85 05        	sta	<R1
 16365 03:426E: A9 00 00     	lda	#$0
 16366 03:4271: 65 03        	adc	<R0+2
 16367 03:4273: 85 07        	sta	<R1+2
 16368 03:4275: 18           	clc
 16369 03:4276: A5 3C        	lda	<L755+pWin_0
 16370 03:4278: 65 05        	adc	<R1
 16371 03:427A: 85 01        	sta	<R0
 16372 03:427C: A5 3E        	lda	<L755+pWin_0+2
 16373 03:427E: 65 07        	adc	<R1+2
 16374 03:4280: 85 03        	sta	<R0+2
 16375 03:4282: D4 03        	pei	<R0+2
 16376 03:4284: D4 01        	pei	<R0
 16377 03:4286: 22 00 00 03  	jsl	~~k_set_rect
 16378                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 16379                        	.line	2527
 16380 03:428A: A0 00 00     	ldy	#$0
 16381 03:428D: A5 2D        	lda	<L756+ncc_1
 16382 03:428F: 10 01        	bpl	L793
 16383 03:4291: 88           	dey
 16384                        L793:
 16385 03:4292: 85 01        	sta	<R0
 16386 03:4294: 84 03        	sty	<R0+2
 16387 03:4296: F4 00 00     	pea	#^$b
 16388 03:4299: F4 0B 00     	pea	#<$b
 16389 03:429C: D4 03        	pei	<R0+2
 16390 03:429E: D4 01        	pei	<R0
 16391                        	xref	~~~lmul
 16392 03:42A0: 22 xx xx xx  	jsl	~~~lmul
 16393 03:42A4: 85 01        	sta	<R0
 16394 03:42A6: 86 03        	stx	<R0+2
 16395 03:42A8: 18           	clc
 16396 03:42A9: A9 28 00     	lda	#$28
 16397 03:42AC: 65 3C        	adc	<L755+pWin_0
 16398 03:42AE: 85 05        	sta	<R1
 16399 03:42B0: A9 00 00     	lda	#$0
 16400 03:42B3: 65 3E        	adc	<L755+pWin_0+2
 16401 03:42B5: 85 07        	sta	<R1+2
 16402 03:42B7: 18           	clc
 16403 03:42B8: A5 05        	lda	<R1
 16404 03:42BA: 65 01        	adc	<R0
 16405 03:42BC: 85 09        	sta	<R2
 16406 03:42BE: A5 07        	lda	<R1+2
 16407 03:42C0: 65 03        	adc	<R0+2
 16408 03:42C2: 85 0B        	sta	<R2+2
 16409 03:42C4: A9 09 FB     	lda	#$fb09
 16410 03:42C7: 87 09        	sta	[<R2]
 16411 03:42C9: E6 2D        	inc	<L756+ncc_1
 16412                        ;
 16413                        ;		maxminPos+=2;
 16414                        	.line	2529
  Thu Dec  3 2020 22:25                                                Page 302


 16415 03:42CB: E6 2B        	inc	<L756+maxminPos_1
 16416 03:42CD: E6 2B        	inc	<L756+maxminPos_1
 16417                        ;	}
 16418                        	.line	2530
 16419                        ;
 16420                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 16421                        L10348:
 16422                        	.line	2532
 16423                        ;	{
 16424 03:42CF: A5 40        	lda	<L755+style_0
 16425 03:42D1: 29 04 00     	and	#<$4
 16426 03:42D4: 85 01        	sta	<R0
 16427 03:42D6: 64 03        	stz	<R0+2
 16428 03:42D8: A5 01        	lda	<R0
 16429 03:42DA: C9 04 00     	cmp	#<$4
 16430 03:42DD: D0 05        	bne	L794
 16431 03:42DF: A5 03        	lda	<R0+2
 16432 03:42E1: C9 00 00     	cmp	#^$4
 16433                        L794:
 16434 03:42E4: F0 03        	beq	L795
 16435 03:42E6: 82 0C 01     	brl	L10349
 16436                        L795:
 16437                        	.line	2533
 16438                        ;		for(i=0;i<=strlen(title);i++)
 16439                        	.line	2534
 16440 03:42E9: 64 11        	stz	<L756+i_1
 16441 03:42EB: 82 2E 00     	brl	L10353
 16442                        L10352:
 16443                        ;		{
 16444                        	.line	2535
 16445                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 16446                        	.line	2536
 16447 03:42EE: D4 54        	pei	<L755+page_0
 16448 03:42F0: F4 0F 00     	pea	#<$f
 16449 03:42F3: D4 1D        	pei	<L756+titleOffsetY_1
 16450 03:42F5: A5 0D        	lda	<L756+metric_1
 16451 03:42F7: A6 11        	ldx	<L756+i_1
 16452                        	xref	~~~mul
 16453 03:42F9: 22 xx xx xx  	jsl	~~~mul
 16454 03:42FD: 85 01        	sta	<R0
 16455 03:42FF: 18           	clc
 16456 03:4300: A5 01        	lda	<R0
 16457 03:4302: 65 44        	adc	<L755+cx_0
 16458 03:4304: 85 05        	sta	<R1
 16459 03:4306: 18           	clc
 16460 03:4307: A5 05        	lda	<R1
 16461 03:4309: 65 19        	adc	<L756+borderWidth_1
 16462 03:430B: 85 01        	sta	<R0
 16463 03:430D: 18           	clc
 16464 03:430E: A5 01        	lda	<R0
 16465 03:4310: 65 0D        	adc	<L756+metric_1
 16466 03:4312: 48           	pha
 16467 03:4313: F4 00 00     	pea	#<$0
 16468 03:4316: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16469                        ;		}
 16470                        	.line	2537
  Thu Dec  3 2020 22:25                                                Page 303


 16471                        L10350:
 16472 03:431A: E6 11        	inc	<L756+i_1
 16473                        L10353:
 16474 03:431C: D4 4E        	pei	<L755+title_0+2
 16475 03:431E: D4 4C        	pei	<L755+title_0
 16476 03:4320: 22 xx xx xx  	jsl	~~strlen
 16477 03:4324: 85 01        	sta	<R0
 16478 03:4326: A5 01        	lda	<R0
 16479 03:4328: C5 11        	cmp	<L756+i_1
 16480 03:432A: 90 03        	bcc	L796
 16481 03:432C: 82 BF FF     	brl	L10352
 16482                        L796:
 16483                        L10351:
 16484                        ;		k_draw_text_point_ex(title,cx+(borderWid
                    th + 3)+metric.width,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 16485                        	.line	2538
 16486 03:432F: D4 54        	pei	<L755+page_0
 16487 03:4331: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16488 03:4335: 48           	pha
 16489 03:4336: D4 1D        	pei	<L756+titleOffsetY_1
 16490 03:4338: 18           	clc
 16491 03:4339: A5 44        	lda	<L755+cx_0
 16492 03:433B: 65 19        	adc	<L756+borderWidth_1
 16493 03:433D: 85 01        	sta	<R0
 16494 03:433F: 18           	clc
 16495 03:4340: A5 01        	lda	<R0
 16496 03:4342: 65 0D        	adc	<L756+metric_1
 16497 03:4344: 85 05        	sta	<R1
 16498 03:4346: 18           	clc
 16499 03:4347: A9 03 00     	lda	#$3
 16500 03:434A: 65 05        	adc	<R1
 16501 03:434C: 48           	pha
 16502 03:434D: D4 4E        	pei	<L755+title_0+2
 16503 03:434F: D4 4C        	pei	<L755+title_0
 16504 03:4351: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 16505                        ;
 16506                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 16507                        	.line	2540
 16508                        ;				   pWin->win_x + gx,
 16509                        ;				   pWin->win_y,
 16510                        ;				   pWin->win_width - gx,
 16511                        ;				   borderTitle);
 16512 03:4355: D4 17        	pei	<L756+borderTitle_1
 16513 03:4357: 38           	sec
 16514 03:4358: A0 0C 00     	ldy	#$c
 16515 03:435B: B7 3C        	lda	[<L755+pWin_0],Y
 16516 03:435D: E5 2F        	sbc	<L756+gx_1
 16517 03:435F: 48           	pha
 16518 03:4360: A0 0A 00     	ldy	#$a
 16519 03:4363: B7 3C        	lda	[<L755+pWin_0],Y
 16520 03:4365: 48           	pha
 16521 03:4366: 18           	clc
 16522 03:4367: A0 08 00     	ldy	#$8
 16523 03:436A: B7 3C        	lda	[<L755+pWin_0],Y
 16524 03:436C: 65 2F        	adc	<L756+gx_1
 16525 03:436E: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 304


 16526 03:436F: A0 00 00     	ldy	#$0
 16527 03:4372: A5 2D        	lda	<L756+ncc_1
 16528 03:4374: 10 01        	bpl	L797
 16529 03:4376: 88           	dey
 16530                        L797:
 16531 03:4377: 85 01        	sta	<R0
 16532 03:4379: 84 03        	sty	<R0+2
 16533 03:437B: F4 00 00     	pea	#^$b
 16534 03:437E: F4 0B 00     	pea	#<$b
 16535 03:4381: D4 03        	pei	<R0+2
 16536 03:4383: D4 01        	pei	<R0
 16537                        	xref	~~~lmul
 16538 03:4385: 22 xx xx xx  	jsl	~~~lmul
 16539 03:4389: 85 01        	sta	<R0
 16540 03:438B: 86 03        	stx	<R0+2
 16541 03:438D: 18           	clc
 16542 03:438E: A9 20 00     	lda	#$20
 16543 03:4391: 65 01        	adc	<R0
 16544 03:4393: 85 05        	sta	<R1
 16545 03:4395: A9 00 00     	lda	#$0
 16546 03:4398: 65 03        	adc	<R0+2
 16547 03:439A: 85 07        	sta	<R1+2
 16548 03:439C: 18           	clc
 16549 03:439D: A5 3C        	lda	<L755+pWin_0
 16550 03:439F: 65 05        	adc	<R1
 16551 03:43A1: 85 01        	sta	<R0
 16552 03:43A3: A5 3E        	lda	<L755+pWin_0+2
 16553 03:43A5: 65 07        	adc	<R1+2
 16554 03:43A7: 85 03        	sta	<R0+2
 16555 03:43A9: D4 03        	pei	<R0+2
 16556 03:43AB: D4 01        	pei	<R0
 16557 03:43AD: 22 00 00 03  	jsl	~~k_set_rect
 16558                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 16559                        	.line	2545
 16560 03:43B1: A0 00 00     	ldy	#$0
 16561 03:43B4: A5 2D        	lda	<L756+ncc_1
 16562 03:43B6: 10 01        	bpl	L798
 16563 03:43B8: 88           	dey
 16564                        L798:
 16565 03:43B9: 85 01        	sta	<R0
 16566 03:43BB: 84 03        	sty	<R0+2
 16567 03:43BD: F4 00 00     	pea	#^$b
 16568 03:43C0: F4 0B 00     	pea	#<$b
 16569 03:43C3: D4 03        	pei	<R0+2
 16570 03:43C5: D4 01        	pei	<R0
 16571                        	xref	~~~lmul
 16572 03:43C7: 22 xx xx xx  	jsl	~~~lmul
 16573 03:43CB: 85 01        	sta	<R0
 16574 03:43CD: 86 03        	stx	<R0+2
 16575 03:43CF: 18           	clc
 16576 03:43D0: A9 28 00     	lda	#$28
 16577 03:43D3: 65 3C        	adc	<L755+pWin_0
 16578 03:43D5: 85 05        	sta	<R1
 16579 03:43D7: A9 00 00     	lda	#$0
 16580 03:43DA: 65 3E        	adc	<L755+pWin_0+2
 16581 03:43DC: 85 07        	sta	<R1+2
 16582 03:43DE: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 305


 16583 03:43DF: A5 05        	lda	<R1
 16584 03:43E1: 65 01        	adc	<R0
 16585 03:43E3: 85 09        	sta	<R2
 16586 03:43E5: A5 07        	lda	<R1+2
 16587 03:43E7: 65 03        	adc	<R0+2
 16588 03:43E9: 85 0B        	sta	<R2+2
 16589 03:43EB: A9 10 FB     	lda	#$fb10
 16590 03:43EE: 87 09        	sta	[<R2]
 16591 03:43F0: E6 2D        	inc	<L756+ncc_1
 16592                        ;
 16593                        ;	}
 16594                        	.line	2547
 16595                        ;	else
 16596 03:43F2: 82 9D 00     	brl	L10354
 16597                        L10349:
 16598                        ;	{
 16599                        	.line	2549
 16600                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 16601                        	.line	2550
 16602                        ;				   pWin->win_x + gx,
 16603                        ;				   pWin->win_y,
 16604                        ;				   pWin->win_width - gx,
 16605                        ;				   borderWidth);
 16606 03:43F5: D4 19        	pei	<L756+borderWidth_1
 16607 03:43F7: 38           	sec
 16608 03:43F8: A0 0C 00     	ldy	#$c
 16609 03:43FB: B7 3C        	lda	[<L755+pWin_0],Y
 16610 03:43FD: E5 2F        	sbc	<L756+gx_1
 16611 03:43FF: 48           	pha
 16612 03:4400: A0 0A 00     	ldy	#$a
 16613 03:4403: B7 3C        	lda	[<L755+pWin_0],Y
 16614 03:4405: 48           	pha
 16615 03:4406: 18           	clc
 16616 03:4407: A0 08 00     	ldy	#$8
 16617 03:440A: B7 3C        	lda	[<L755+pWin_0],Y
 16618 03:440C: 65 2F        	adc	<L756+gx_1
 16619 03:440E: 48           	pha
 16620 03:440F: A0 00 00     	ldy	#$0
 16621 03:4412: A5 2D        	lda	<L756+ncc_1
 16622 03:4414: 10 01        	bpl	L799
 16623 03:4416: 88           	dey
 16624                        L799:
 16625 03:4417: 85 01        	sta	<R0
 16626 03:4419: 84 03        	sty	<R0+2
 16627 03:441B: F4 00 00     	pea	#^$b
 16628 03:441E: F4 0B 00     	pea	#<$b
 16629 03:4421: D4 03        	pei	<R0+2
 16630 03:4423: D4 01        	pei	<R0
 16631                        	xref	~~~lmul
 16632 03:4425: 22 xx xx xx  	jsl	~~~lmul
 16633 03:4429: 85 01        	sta	<R0
 16634 03:442B: 86 03        	stx	<R0+2
 16635 03:442D: 18           	clc
 16636 03:442E: A9 20 00     	lda	#$20
 16637 03:4431: 65 01        	adc	<R0
 16638 03:4433: 85 05        	sta	<R1
 16639 03:4435: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 306


 16640 03:4438: 65 03        	adc	<R0+2
 16641 03:443A: 85 07        	sta	<R1+2
 16642 03:443C: 18           	clc
 16643 03:443D: A5 3C        	lda	<L755+pWin_0
 16644 03:443F: 65 05        	adc	<R1
 16645 03:4441: 85 01        	sta	<R0
 16646 03:4443: A5 3E        	lda	<L755+pWin_0+2
 16647 03:4445: 65 07        	adc	<R1+2
 16648 03:4447: 85 03        	sta	<R0+2
 16649 03:4449: D4 03        	pei	<R0+2
 16650 03:444B: D4 01        	pei	<R0
 16651 03:444D: 22 00 00 03  	jsl	~~k_set_rect
 16652                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 16653                        	.line	2555
 16654 03:4451: A0 00 00     	ldy	#$0
 16655 03:4454: A5 2D        	lda	<L756+ncc_1
 16656 03:4456: 10 01        	bpl	L800
 16657 03:4458: 88           	dey
 16658                        L800:
 16659 03:4459: 85 01        	sta	<R0
 16660 03:445B: 84 03        	sty	<R0+2
 16661 03:445D: F4 00 00     	pea	#^$b
 16662 03:4460: F4 0B 00     	pea	#<$b
 16663 03:4463: D4 03        	pei	<R0+2
 16664 03:4465: D4 01        	pei	<R0
 16665                        	xref	~~~lmul
 16666 03:4467: 22 xx xx xx  	jsl	~~~lmul
 16667 03:446B: 85 01        	sta	<R0
 16668 03:446D: 86 03        	stx	<R0+2
 16669 03:446F: 18           	clc
 16670 03:4470: A9 28 00     	lda	#$28
 16671 03:4473: 65 3C        	adc	<L755+pWin_0
 16672 03:4475: 85 05        	sta	<R1
 16673 03:4477: A9 00 00     	lda	#$0
 16674 03:447A: 65 3E        	adc	<L755+pWin_0+2
 16675 03:447C: 85 07        	sta	<R1+2
 16676 03:447E: 18           	clc
 16677 03:447F: A5 05        	lda	<R1
 16678 03:4481: 65 01        	adc	<R0
 16679 03:4483: 85 09        	sta	<R2
 16680 03:4485: A5 07        	lda	<R1+2
 16681 03:4487: 65 03        	adc	<R0+2
 16682 03:4489: 85 0B        	sta	<R2+2
 16683 03:448B: A9 10 FB     	lda	#$fb10
 16684 03:448E: 87 09        	sta	[<R2]
 16685 03:4490: E6 2D        	inc	<L756+ncc_1
 16686                        ;	}
 16687                        	.line	2556
 16688                        L10354:
 16689                        ;
 16690                        ;	k_debug_integer("k_vdraw_ui_window::(clientOffse
                    tY - height):",(clientOffsetY - pWin->clientRect.y));
 16691                        	.line	2558
 16692 03:4492: 38           	sec
 16693 03:4493: A5 23        	lda	<L756+clientOffsetY_1
 16694 03:4495: A0 1A 00     	ldy	#$1a
 16695 03:4498: F7 3C        	sbc	[<L755+pWin_0],Y
  Thu Dec  3 2020 22:25                                                Page 307


 16696 03:449A: 48           	pha
 16697 03:449B: F4 xx xx     	pea	#^L750+184
 16698 03:449E: F4 xx xx     	pea	#<L750+184
 16699 03:44A1: 22 xx xx xx  	jsl	~~k_debug_integer
 16700                        ;	k_debug_integer("k_vdraw_ui_window::((clientOffs
                    etY - height) + borderWidth):",((clientOffsetY - pWin->clien
                    tRect.y) + borderWidth));
 16701                        	.line	2559
 16702 03:44A5: 38           	sec
 16703 03:44A6: A5 23        	lda	<L756+clientOffsetY_1
 16704 03:44A8: A0 1A 00     	ldy	#$1a
 16705 03:44AB: F7 3C        	sbc	[<L755+pWin_0],Y
 16706 03:44AD: 85 01        	sta	<R0
 16707 03:44AF: 18           	clc
 16708 03:44B0: A5 01        	lda	<R0
 16709 03:44B2: 65 19        	adc	<L756+borderWidth_1
 16710 03:44B4: 48           	pha
 16711 03:44B5: F4 xx xx     	pea	#^L750+229
 16712 03:44B8: F4 xx xx     	pea	#<L750+229
 16713 03:44BB: 22 xx xx xx  	jsl	~~k_debug_integer
 16714                        ;
 16715                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 16716                        	.line	2561
 16717 03:44BF: A5 19        	lda	<L756+borderWidth_1
 16718 03:44C1: 0A           	asl	A
 16719 03:44C2: 85 01        	sta	<R0
 16720 03:44C4: 38           	sec
 16721 03:44C5: A5 4A        	lda	<L755+width_0
 16722 03:44C7: E5 01        	sbc	<R0
 16723 03:44C9: A0 1C 00     	ldy	#$1c
 16724 03:44CC: 97 3C        	sta	[<L755+pWin_0],Y
 16725                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 16726                        	.line	2562
 16727 03:44CE: 38           	sec
 16728 03:44CF: A5 23        	lda	<L756+clientOffsetY_1
 16729 03:44D1: A0 1A 00     	ldy	#$1a
 16730 03:44D4: F7 3C        	sbc	[<L755+pWin_0],Y
 16731 03:44D6: 85 01        	sta	<R0
 16732 03:44D8: 18           	clc
 16733 03:44D9: A5 01        	lda	<R0
 16734 03:44DB: 65 19        	adc	<L756+borderWidth_1
 16735 03:44DD: 85 05        	sta	<R1
 16736 03:44DF: 38           	sec
 16737 03:44E0: A5 48        	lda	<L755+height_0
 16738 03:44E2: E5 05        	sbc	<R1
 16739 03:44E4: A0 1E 00     	ldy	#$1e
 16740 03:44E7: 97 3C        	sta	[<L755+pWin_0],Y
 16741                        ;
 16742                        ;	pWin->clientRect.x      = clientOffsetX;
 16743                        	.line	2564
 16744 03:44E9: A5 21        	lda	<L756+clientOffsetX_1
 16745 03:44EB: A0 18 00     	ldy	#$18
 16746 03:44EE: 97 3C        	sta	[<L755+pWin_0],Y
 16747                        ;	pWin->clientRect.y      = clientOffsetY;
 16748                        	.line	2565
 16749 03:44F0: A5 23        	lda	<L756+clientOffsetY_1
  Thu Dec  3 2020 22:25                                                Page 308


 16750 03:44F2: A0 1A 00     	ldy	#$1a
 16751 03:44F5: 97 3C        	sta	[<L755+pWin_0],Y
 16752                        ;
 16753                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 16754                        	.line	2567
 16755                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 16756                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 16757                        ;			   4,
 16758                        ;			   4);
 16759 03:44F7: F4 04 00     	pea	#<$4
 16760 03:44FA: F4 04 00     	pea	#<$4
 16761 03:44FD: 18           	clc
 16762 03:44FE: A0 0A 00     	ldy	#$a
 16763 03:4501: B7 3C        	lda	[<L755+pWin_0],Y
 16764 03:4503: A0 0E 00     	ldy	#$e
 16765 03:4506: 77 3C        	adc	[<L755+pWin_0],Y
 16766 03:4508: 85 01        	sta	<R0
 16767 03:450A: 18           	clc
 16768 03:450B: A9 FC FF     	lda	#$fffc
 16769 03:450E: 65 01        	adc	<R0
 16770 03:4510: 48           	pha
 16771 03:4511: 18           	clc
 16772 03:4512: A0 08 00     	ldy	#$8
 16773 03:4515: B7 3C        	lda	[<L755+pWin_0],Y
 16774 03:4517: A0 0C 00     	ldy	#$c
 16775 03:451A: 77 3C        	adc	[<L755+pWin_0],Y
 16776 03:451C: 85 01        	sta	<R0
 16777 03:451E: 18           	clc
 16778 03:451F: A9 FC FF     	lda	#$fffc
 16779 03:4522: 65 01        	adc	<R0
 16780 03:4524: 48           	pha
 16781 03:4525: A0 00 00     	ldy	#$0
 16782 03:4528: A5 2D        	lda	<L756+ncc_1
 16783 03:452A: 10 01        	bpl	L801
 16784 03:452C: 88           	dey
 16785                        L801:
 16786 03:452D: 85 01        	sta	<R0
 16787 03:452F: 84 03        	sty	<R0+2
 16788 03:4531: F4 00 00     	pea	#^$b
 16789 03:4534: F4 0B 00     	pea	#<$b
 16790 03:4537: D4 03        	pei	<R0+2
 16791 03:4539: D4 01        	pei	<R0
 16792                        	xref	~~~lmul
 16793 03:453B: 22 xx xx xx  	jsl	~~~lmul
 16794 03:453F: 85 01        	sta	<R0
 16795 03:4541: 86 03        	stx	<R0+2
 16796 03:4543: 18           	clc
 16797 03:4544: A9 20 00     	lda	#$20
 16798 03:4547: 65 01        	adc	<R0
 16799 03:4549: 85 05        	sta	<R1
 16800 03:454B: A9 00 00     	lda	#$0
 16801 03:454E: 65 03        	adc	<R0+2
 16802 03:4550: 85 07        	sta	<R1+2
 16803 03:4552: 18           	clc
 16804 03:4553: A5 3C        	lda	<L755+pWin_0
 16805 03:4555: 65 05        	adc	<R1
  Thu Dec  3 2020 22:25                                                Page 309


 16806 03:4557: 85 01        	sta	<R0
 16807 03:4559: A5 3E        	lda	<L755+pWin_0+2
 16808 03:455B: 65 07        	adc	<R1+2
 16809 03:455D: 85 03        	sta	<R0+2
 16810 03:455F: D4 03        	pei	<R0+2
 16811 03:4561: D4 01        	pei	<R0
 16812 03:4563: 22 00 00 03  	jsl	~~k_set_rect
 16813                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 16814                        	.line	2572
 16815 03:4567: A0 00 00     	ldy	#$0
 16816 03:456A: A5 2D        	lda	<L756+ncc_1
 16817 03:456C: 10 01        	bpl	L802
 16818 03:456E: 88           	dey
 16819                        L802:
 16820 03:456F: 85 01        	sta	<R0
 16821 03:4571: 84 03        	sty	<R0+2
 16822 03:4573: F4 00 00     	pea	#^$b
 16823 03:4576: F4 0B 00     	pea	#<$b
 16824 03:4579: D4 03        	pei	<R0+2
 16825 03:457B: D4 01        	pei	<R0
 16826                        	xref	~~~lmul
 16827 03:457D: 22 xx xx xx  	jsl	~~~lmul
 16828 03:4581: 85 01        	sta	<R0
 16829 03:4583: 86 03        	stx	<R0+2
 16830 03:4585: 18           	clc
 16831 03:4586: A9 28 00     	lda	#$28
 16832 03:4589: 65 3C        	adc	<L755+pWin_0
 16833 03:458B: 85 05        	sta	<R1
 16834 03:458D: A9 00 00     	lda	#$0
 16835 03:4590: 65 3E        	adc	<L755+pWin_0+2
 16836 03:4592: 85 07        	sta	<R1+2
 16837 03:4594: 18           	clc
 16838 03:4595: A5 05        	lda	<R1
 16839 03:4597: 65 01        	adc	<R0
 16840 03:4599: 85 09        	sta	<R2
 16841 03:459B: A5 07        	lda	<R1+2
 16842 03:459D: 65 03        	adc	<R0+2
 16843 03:459F: 85 0B        	sta	<R2+2
 16844 03:45A1: A9 0F FB     	lda	#$fb0f
 16845 03:45A4: 87 09        	sta	[<R2]
 16846 03:45A6: E6 2D        	inc	<L756+ncc_1
 16847                        ;
 16848                        ;
 16849                        ;	k_debug_rect("k_vdraw_ui_window:client[resized]:
                    ",&pWin->clientRect);
 16850                        	.line	2575
 16851 03:45A8: 18           	clc
 16852 03:45A9: A9 18 00     	lda	#$18
 16853 03:45AC: 65 3C        	adc	<L755+pWin_0
 16854 03:45AE: 85 01        	sta	<R0
 16855 03:45B0: A9 00 00     	lda	#$0
 16856 03:45B3: 65 3E        	adc	<L755+pWin_0+2
 16857 03:45B5: 85 03        	sta	<R0+2
 16858 03:45B7: D4 03        	pei	<R0+2
 16859 03:45B9: D4 01        	pei	<R0
 16860 03:45BB: F4 xx xx     	pea	#^L750+290
 16861 03:45BE: F4 xx xx     	pea	#<L750+290
  Thu Dec  3 2020 22:25                                                Page 310


 16862 03:45C1: 22 xx xx xx  	jsl	~~k_debug_rect
 16863                        ;
 16864                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 16865                        	.line	2577
 16866 03:45C5: F4 FF FF     	pea	#<$ffffffff
 16867 03:45C8: F4 FF FF     	pea	#<$ffffffff
 16868 03:45CB: F4 FF FF     	pea	#<$ffffffff
 16869 03:45CE: F4 FF FF     	pea	#<$ffffffff
 16870 03:45D1: A0 00 00     	ldy	#$0
 16871 03:45D4: A5 2D        	lda	<L756+ncc_1
 16872 03:45D6: 10 01        	bpl	L803
 16873 03:45D8: 88           	dey
 16874                        L803:
 16875 03:45D9: 85 01        	sta	<R0
 16876 03:45DB: 84 03        	sty	<R0+2
 16877 03:45DD: F4 00 00     	pea	#^$b
 16878 03:45E0: F4 0B 00     	pea	#<$b
 16879 03:45E3: D4 03        	pei	<R0+2
 16880 03:45E5: D4 01        	pei	<R0
 16881                        	xref	~~~lmul
 16882 03:45E7: 22 xx xx xx  	jsl	~~~lmul
 16883 03:45EB: 85 01        	sta	<R0
 16884 03:45ED: 86 03        	stx	<R0+2
 16885 03:45EF: 18           	clc
 16886 03:45F0: A9 20 00     	lda	#$20
 16887 03:45F3: 65 01        	adc	<R0
 16888 03:45F5: 85 05        	sta	<R1
 16889 03:45F7: A9 00 00     	lda	#$0
 16890 03:45FA: 65 03        	adc	<R0+2
 16891 03:45FC: 85 07        	sta	<R1+2
 16892 03:45FE: 18           	clc
 16893 03:45FF: A5 3C        	lda	<L755+pWin_0
 16894 03:4601: 65 05        	adc	<R1
 16895 03:4603: 85 01        	sta	<R0
 16896 03:4605: A5 3E        	lda	<L755+pWin_0+2
 16897 03:4607: 65 07        	adc	<R1+2
 16898 03:4609: 85 03        	sta	<R0+2
 16899 03:460B: D4 03        	pei	<R0+2
 16900 03:460D: D4 01        	pei	<R0
 16901 03:460F: 22 00 00 03  	jsl	~~k_set_rect
 16902                        ;
 16903                        ;
 16904                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 16905                        ;}
 16906                        	.line	2581
 16907 03:4613: 82 62 F8     	brl	L758
 16908                        	.endblock	2581
 16909             00000038   L755	equ	56
 16910             0000000D   L756	equ	13
 16911 03:4616:              	ends
 16912                        	efunc
 16913                        	.endfunc	2581,13,56
 16914                        	.line	2581
 16915                        	data
 16916                        L750:
 16917 00:0971: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
  Thu Dec  3 2020 22:25                                                Page 311


       00:0975: 72 61 77 5F 
       00:0979: 75 69 5F 77 
       00:097D: 69 6E 64 
 16918 00:0980: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$49,$53,$20,$43,$48,$49,
                    $4C,$44,$3A,$00,$6B
       00:0984: 49 53 20 43 
       00:0988: 48 49 4C 44 
       00:098C: 3A 00 6B 
 16919 00:098F: 5F 76 64 72  	db	$5F,$76,$64,$72,$61,$77,$5F,$75,$69,$5F,
                    $77,$69,$6E,$64,$6F
       00:0993: 61 77 5F 75 
       00:0997: 69 5F 77 69 
       00:099B: 6E 64 6F 
 16920 00:099E: 77 3A 63 78  	db	$77,$3A,$63,$78,$3A,$00,$6B,$5F,$76,$64,
                    $72,$61,$77,$5F,$75
       00:09A2: 3A 00 6B 5F 
       00:09A6: 76 64 72 61 
       00:09AA: 77 5F 75 
 16921 00:09AD: 69 5F 77 69  	db	$69,$5F,$77,$69,$6E,$64,$6F,$77,$3A,$63,
                    $79,$3A,$00,$6B,$5F
       00:09B1: 6E 64 6F 77 
       00:09B5: 3A 63 79 3A 
       00:09B9: 00 6B 5F 
 16922 00:09BC: 76 64 72 61  	db	$76,$64,$72,$61,$77,$5F,$75,$69,$5F,$77,
                    $69,$6E,$64,$6F,$77
       00:09C0: 77 5F 75 69 
       00:09C4: 5F 77 69 6E 
       00:09C8: 64 6F 77 
 16923 00:09CB: 3A 77 69 64  	db	$3A,$77,$69,$64,$74,$68,$3A,$00,$6B,$5F,
                    $76,$64,$72,$61,$77
       00:09CF: 74 68 3A 00 
       00:09D3: 6B 5F 76 64 
       00:09D7: 72 61 77 
 16924 00:09DA: 5F 75 69 5F  	db	$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,
                    $3A,$68,$65,$69,$67
       00:09DE: 77 69 6E 64 
       00:09E2: 6F 77 3A 68 
       00:09E6: 65 69 67 
 16925 00:09E9: 68 74 3A 00  	db	$68,$74,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:09ED: 6B 5F 76 64 
       00:09F1: 72 61 77 5F 
       00:09F5: 75 69 5F 
 16926 00:09F8: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$63,$6C,$69,
                    $65,$6E,$74,$3A,$00
       00:09FC: 6F 77 3A 63 
       00:0A00: 6C 69 65 6E 
       00:0A04: 74 3A 00 
 16927 00:0A07: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0A0B: 72 61 77 5F 
       00:0A0F: 75 69 5F 77 
       00:0A13: 69 6E 64 
 16928 00:0A16: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,
                    $4E,$44,$45,$52,$49
       00:0A1A: 4E 4F 54 20 
       00:0A1E: 52 45 4E 44 
       00:0A22: 45 52 49 
  Thu Dec  3 2020 22:25                                                Page 312


 16929 00:0A25: 4E 47 3A 00  	db	$4E,$47,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:0A29: 6B 5F 76 64 
       00:0A2D: 72 61 77 5F 
       00:0A31: 75 69 5F 
 16930 00:0A34: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$28,$63,
                    $6C,$69,$65,$6E,$74
       00:0A38: 6F 77 3A 3A 
       00:0A3C: 28 63 6C 69 
       00:0A40: 65 6E 74 
 16931 00:0A43: 4F 66 66 73  	db	$4F,$66,$66,$73,$65,$74,$59,$20,$2D,$20,
                    $68,$65,$69,$67,$68
       00:0A47: 65 74 59 20 
       00:0A4B: 2D 20 68 65 
       00:0A4F: 69 67 68 
 16932 00:0A52: 74 29 3A 00  	db	$74,$29,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:0A56: 6B 5F 76 64 
       00:0A5A: 72 61 77 5F 
       00:0A5E: 75 69 5F 
 16933 00:0A61: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$28,$28,
                    $63,$6C,$69,$65,$6E
       00:0A65: 6F 77 3A 3A 
       00:0A69: 28 28 63 6C 
       00:0A6D: 69 65 6E 
 16934 00:0A70: 74 4F 66 66  	db	$74,$4F,$66,$66,$73,$65,$74,$59,$20,$2D,
                    $20,$68,$65,$69,$67
       00:0A74: 73 65 74 59 
       00:0A78: 20 2D 20 68 
       00:0A7C: 65 69 67 
 16935 00:0A7F: 68 74 29 20  	db	$68,$74,$29,$20,$2B,$20,$62,$6F,$72,$64,
                    $65,$72,$57,$69,$64
       00:0A83: 2B 20 62 6F 
       00:0A87: 72 64 65 72 
       00:0A8B: 57 69 64 
 16936 00:0A8E: 74 68 29 3A  	db	$74,$68,$29,$3A,$00,$6B,$5F,$76,$64,$72,
                    $61,$77,$5F,$75,$69
       00:0A92: 00 6B 5F 76 
       00:0A96: 64 72 61 77 
       00:0A9A: 5F 75 69 
 16937 00:0A9D: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$3A,$63,$6C,
                    $69,$65,$6E,$74,$5B
       00:0AA1: 64 6F 77 3A 
       00:0AA5: 63 6C 69 65 
       00:0AA9: 6E 74 5B 
 16938 00:0AAC: 72 65 73 69  	db	$72,$65,$73,$69,$7A,$65,$64,$5D,$3A,$00
       00:0AB0: 7A 65 64 5D 
       00:0AB4: 3A 00 
 16939 00:0AB6:              	ends
 16940                        ;
 16941                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 16942                        ;{
 16943                        	.line	2583
 16944                        	.line	2584
 16945                        	GUI
 16946                        	xdef	~~k_draw_menu
 16947                        	func
  Thu Dec  3 2020 22:25                                                Page 313


 16948                        	.function	2584
 16949                        ~~k_draw_menu:
 16950                        	longa	on
 16951                        	longi	on
 16952 03:4616: 3B           	tsc
 16953 03:4617: 38           	sec
 16954 03:4618: E9 1E 00     	sbc	#L805
 16955 03:461B: 1B           	tcs
 16956 03:461C: 0B           	phd
 16957 03:461D: 5B           	tcd
 16958             00000004   hMenu_0	set	4
 16959             00000008   color_0	set	8
 16960             0000000A   bgcolor_0	set	10
 16961                        	.block	2584
 16962                        ;	FONTMETRIC metric;
 16963                        ;
 16964                        ;	int i = 0;
 16965                        ;
 16966                        ;	int borderTitle = 10;
 16967                        ;	int borderWidth = 3;
 16968                        ;
 16969                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 16970                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 16971                        ;	int titleScaler = 0;
 16972                        ;
 16973                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 16974                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 16975                        ;
 16976                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
 16977                        ;
 16978                        ;
 16979                        ;	k_get_font_metrics(&metric);
 16980             00000000   metric_1	set	0
 16981             00000004   i_1	set	4
 16982             00000006   borderTitle_1	set	6
 16983             00000008   borderWidth_1	set	8
 16984             0000000A   titleOffsetX_1	set	10
 16985             0000000C   titleOffsetY_1	set	12
 16986             0000000E   titleScaler_1	set	14
 16987             00000010   clientOffsetX_1	set	16
 16988             00000012   clientOffsetY_1	set	18
 16989             00000014   endX_1	set	20
 16990                        	.sym	metric,0,10,1,32,32
 16991                        	.sym	i,4,5,1,16
 16992                        	.sym	borderTitle,6,5,1,16
 16993                        	.sym	borderWidth,8,5,1,16
 16994                        	.sym	titleOffsetX,10,5,1,16
 16995                        	.sym	titleOffsetY,12,5,1,16
 16996                        	.sym	titleScaler,14,5,1,16
 16997                        	.sym	clientOffsetX,16,5,1,16
 16998                        	.sym	clientOffsetY,18,5,1,16
 16999                        	.sym	endX,20,5,1,16
 17000                        	.sym	hMenu,4,129,6,32
 17001                        	.sym	color,8,5,6,16
 17002                        	.sym	bgcolor,10,5,6,16
  Thu Dec  3 2020 22:25                                                Page 314


 17003 03:461E: 64 0D        	stz	<L806+i_1
 17004 03:4620: A9 0A 00     	lda	#$a
 17005 03:4623: 85 0F        	sta	<L806+borderTitle_1
 17006 03:4625: A9 03 00     	lda	#$3
 17007 03:4628: 85 11        	sta	<L806+borderWidth_1
 17008 03:462A: 18           	clc
 17009 03:462B: A9 02 00     	lda	#$2
 17010 03:462E: 67 22        	adc	[<L805+hMenu_0]
 17011 03:4630: 85 13        	sta	<L806+titleOffsetX_1
 17012 03:4632: 18           	clc
 17013 03:4633: A9 02 00     	lda	#$2
 17014 03:4636: A0 02 00     	ldy	#$2
 17015 03:4639: 77 22        	adc	[<L805+hMenu_0],Y
 17016 03:463B: 85 15        	sta	<L806+titleOffsetY_1
 17017 03:463D: 64 17        	stz	<L806+titleScaler_1
 17018 03:463F: 18           	clc
 17019 03:4640: A7 22        	lda	[<L805+hMenu_0]
 17020 03:4642: 65 11        	adc	<L806+borderWidth_1
 17021 03:4644: 85 01        	sta	<R0
 17022 03:4646: 18           	clc
 17023 03:4647: A9 02 00     	lda	#$2
 17024 03:464A: 65 01        	adc	<R0
 17025 03:464C: 85 19        	sta	<L806+clientOffsetX_1
 17026 03:464E: 18           	clc
 17027 03:464F: A0 02 00     	ldy	#$2
 17028 03:4652: B7 22        	lda	[<L805+hMenu_0],Y
 17029 03:4654: 65 0F        	adc	<L806+borderTitle_1
 17030 03:4656: 85 01        	sta	<R0
 17031 03:4658: A5 01        	lda	<R0
 17032 03:465A: 1A           	ina
 17033 03:465B: 85 1B        	sta	<L806+clientOffsetY_1
 17034 03:465D: 18           	clc
 17035 03:465E: A0 04 00     	ldy	#$4
 17036 03:4661: B7 22        	lda	[<L805+hMenu_0],Y
 17037 03:4663: 67 22        	adc	[<L805+hMenu_0]
 17038 03:4665: 85 01        	sta	<R0
 17039 03:4667: 38           	sec
 17040 03:4668: A5 01        	lda	<R0
 17041 03:466A: E5 11        	sbc	<L806+borderWidth_1
 17042 03:466C: 85 1D        	sta	<L806+endX_1
 17043                        	.line	2602
 17044 03:466E: F4 00 00     	pea	#0
 17045 03:4671: 18           	clc
 17046 03:4672: 7B           	tdc
 17047 03:4673: 69 09 00     	adc	#<L806+metric_1
 17048 03:4676: 48           	pha
 17049 03:4677: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 17050                        ;
 17051                        ;
 17052                        ;	//int height = 0;
 17053                        ;	/*
 17054                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 17055                        ;	memset(menu,0,sizeof(MENU));
 17056                        ;
 17057                        ;	menu->cx = cx;
 17058                        ;	menu->cy = cy;
 17059                        ;	menu->fcolor = color;
  Thu Dec  3 2020 22:25                                                Page 315


 17060                        ;	menu->bcolor = bgcolor;
 17061                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 17062                        ;
 17063                        ;	k_get_font_metrics(&metric);
 17064                        ;
 17065                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 17066                        ;
 17067                        ;	menu->height = height;
 17068                        ;	menu->width  = width;
 17069                        ;
 17070                        ;
 17071                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 17072                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 17073                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 17074                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 17075                        ;	*/
 17076                        ;
 17077                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 17078                        ;
 17079                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 17080                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 17081                        	.line	2633
 17082 03:467B: D4 26        	pei	<L805+color_0
 17083 03:467D: A0 06 00     	ldy	#$6
 17084 03:4680: B7 22        	lda	[<L805+hMenu_0],Y
 17085 03:4682: 48           	pha
 17086 03:4683: A0 04 00     	ldy	#$4
 17087 03:4686: B7 22        	lda	[<L805+hMenu_0],Y
 17088 03:4688: 48           	pha
 17089 03:4689: A0 00 00     	ldy	#$0
 17090 03:468C: 5A           	phy
 17091 03:468D: A0 02 00     	ldy	#$2
 17092 03:4690: B7 22        	lda	[<L805+hMenu_0],Y
 17093 03:4692: 7A           	ply
 17094 03:4693: 2A           	rol	A
 17095 03:4694: 6A           	ror	A
 17096 03:4695: 10 01        	bpl	L808
 17097 03:4697: 88           	dey
 17098                        L808:
 17099 03:4698: 85 01        	sta	<R0
 17100 03:469A: 84 03        	sty	<R0+2
 17101 03:469C: D4 03        	pei	<R0+2
 17102 03:469E: D4 01        	pei	<R0
 17103 03:46A0: A0 00 00     	ldy	#$0
 17104 03:46A3: A7 22        	lda	[<L805+hMenu_0]
 17105 03:46A5: 10 01        	bpl	L809
 17106 03:46A7: 88           	dey
 17107                        L809:
 17108 03:46A8: 85 05        	sta	<R1
 17109 03:46AA: 84 07        	sty	<R1+2
  Thu Dec  3 2020 22:25                                                Page 316


 17110 03:46AC: D4 07        	pei	<R1+2
 17111 03:46AE: D4 05        	pei	<R1
 17112 03:46B0: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 17113                        ;
 17114                        ;	//k_delay(15);
 17115                        ;
 17116                        ;	//title = strupr(title);
 17117                        ;
 17118                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 17119                        ;	/*
 17120                        ;	titleScaler = (int)(width / metric.width - 4);
 17121                        ;	for(i=0;i<titleScaler;i++)
 17122                        ;	{
 17123                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 17124                        ;	}*/
 17125                        ;
 17126                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 17127                        	.line	2647
 17128 03:46B4: F4 0E 00     	pea	#<$e
 17129 03:46B7: D4 15        	pei	<L806+titleOffsetY_1
 17130 03:46B9: A5 09        	lda	<L806+metric_1
 17131 03:46BB: 0A           	asl	A
 17132 03:46BC: 85 01        	sta	<R0
 17133 03:46BE: 18           	clc
 17134 03:46BF: A9 02 00     	lda	#$2
 17135 03:46C2: 65 01        	adc	<R0
 17136 03:46C4: 85 05        	sta	<R1
 17137 03:46C6: 38           	sec
 17138 03:46C7: A5 1D        	lda	<L806+endX_1
 17139 03:46C9: E5 05        	sbc	<R1
 17140 03:46CB: 48           	pha
 17141 03:46CC: F4 04 00     	pea	#<$4
 17142 03:46CF: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17143                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 17144                        	.line	2648
 17145 03:46D3: F4 0E 00     	pea	#<$e
 17146 03:46D6: D4 15        	pei	<L806+titleOffsetY_1
 17147 03:46D8: 38           	sec
 17148 03:46D9: A5 1D        	lda	<L806+endX_1
 17149 03:46DB: E5 09        	sbc	<L806+metric_1
 17150 03:46DD: 48           	pha
 17151 03:46DE: F4 03 00     	pea	#<$3
 17152 03:46E1: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17153                        ;
 17154                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 17155                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 17156                        ;
 17157                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 17158                        	.line	2653
  Thu Dec  3 2020 22:25                                                Page 317


 17159 03:46E5: D4 28        	pei	<L805+bgcolor_0
 17160 03:46E7: D4 15        	pei	<L806+titleOffsetY_1
 17161 03:46E9: 18           	clc
 17162 03:46EA: A7 22        	lda	[<L805+hMenu_0]
 17163 03:46EC: 65 09        	adc	<L806+metric_1
 17164 03:46EE: 85 01        	sta	<R0
 17165 03:46F0: 18           	clc
 17166 03:46F1: A9 02 00     	lda	#$2
 17167 03:46F4: 65 01        	adc	<R0
 17168 03:46F6: 48           	pha
 17169 03:46F7: A0 11 00     	ldy	#$11
 17170 03:46FA: B7 22        	lda	[<L805+hMenu_0],Y
 17171 03:46FC: 48           	pha
 17172 03:46FD: A0 0F 00     	ldy	#$f
 17173 03:4700: B7 22        	lda	[<L805+hMenu_0],Y
 17174 03:4702: 48           	pha
 17175 03:4703: 22 62 1A 03  	jsl	~~k_draw_text_point
 17176 03:4707: 85 0D        	sta	<L806+i_1
 17177                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 17178                        ;
 17179                        ;
 17180                        ;	return NULL;
 17181                        	.line	2657
 17182 03:4709: A9 00 00     	lda	#$0
 17183 03:470C: AA           	tax
 17184 03:470D: A9 00 00     	lda	#$0
 17185                        L810:
 17186 03:4710: A8           	tay
 17187 03:4711: A5 20        	lda	<L805+2
 17188 03:4713: 85 28        	sta	<L805+2+8
 17189 03:4715: A5 1F        	lda	<L805+1
 17190 03:4717: 85 27        	sta	<L805+1+8
 17191 03:4719: 2B           	pld
 17192 03:471A: 3B           	tsc
 17193 03:471B: 18           	clc
 17194 03:471C: 69 26 00     	adc	#L805+8
 17195 03:471F: 1B           	tcs
 17196 03:4720: 98           	tya
 17197 03:4721: 6B           	rtl
 17198                        ;}
 17199                        	.line	2658
 17200                        	.endblock	2658
 17201             0000001E   L805	equ	30
 17202             00000009   L806	equ	9
 17203 03:4722:              	ends
 17204                        	efunc
 17205                        	.endfunc	2658,9,30
 17206                        	.line	2658
 17207                        ;
 17208                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 17209                        ;{
 17210                        	.line	2660
 17211                        	.line	2661
 17212                        	GUI
 17213                        	xdef	~~k_vdraw_ui_menu
 17214                        	func
  Thu Dec  3 2020 22:25                                                Page 318


 17215                        	.function	2661
 17216                        ~~k_vdraw_ui_menu:
 17217                        	longa	on
 17218                        	longi	on
 17219 03:4722: 3B           	tsc
 17220 03:4723: 38           	sec
 17221 03:4724: E9 04 00     	sbc	#L811
 17222 03:4727: 1B           	tcs
 17223 03:4728: 0B           	phd
 17224 03:4729: 5B           	tcd
 17225             00000004   cx_0	set	4
 17226             00000006   cy_0	set	6
 17227             00000008   width_0	set	8
 17228             0000000A   height_0	set	10
 17229             0000000C   title_0	set	12
 17230             00000010   color_0	set	16
 17231             00000012   bgcolor_0	set	18
 17232                        	.block	2661
 17233                        ;	return k_vdraw_ui_menu_ex(cx,cy,width,height,tit
                    le,color,bgcolor,BITMAP_BACK);
 17234                        	.sym	cx,4,5,6,16
 17235                        	.sym	cy,6,5,6,16
 17236                        	.sym	width,8,5,6,16
 17237                        	.sym	height,10,5,6,16
 17238                        	.sym	title,12,142,6,32
 17239                        	.sym	color,16,5,6,16
 17240                        	.sym	bgcolor,18,5,6,16
 17241                        	.line	2662
 17242 03:472A: F4 10 00     	pea	#<$10
 17243 03:472D: D4 16        	pei	<L811+bgcolor_0
 17244 03:472F: D4 14        	pei	<L811+color_0
 17245 03:4731: D4 12        	pei	<L811+title_0+2
 17246 03:4733: D4 10        	pei	<L811+title_0
 17247 03:4735: D4 0E        	pei	<L811+height_0
 17248 03:4737: D4 0C        	pei	<L811+width_0
 17249 03:4739: D4 0A        	pei	<L811+cy_0
 17250 03:473B: D4 08        	pei	<L811+cx_0
 17251 03:473D: 22 5B 47 03  	jsl	~~k_vdraw_ui_menu_ex
 17252 03:4741: 85 01        	sta	<R0
 17253 03:4743: 86 03        	stx	<R0+2
 17254 03:4745: A6 03        	ldx	<R0+2
 17255 03:4747: A5 01        	lda	<R0
 17256                        L814:
 17257 03:4749: A8           	tay
 17258 03:474A: A5 06        	lda	<L811+2
 17259 03:474C: 85 16        	sta	<L811+2+16
 17260 03:474E: A5 05        	lda	<L811+1
 17261 03:4750: 85 15        	sta	<L811+1+16
 17262 03:4752: 2B           	pld
 17263 03:4753: 3B           	tsc
 17264 03:4754: 18           	clc
 17265 03:4755: 69 14 00     	adc	#L811+16
 17266 03:4758: 1B           	tcs
 17267 03:4759: 98           	tya
 17268 03:475A: 6B           	rtl
 17269                        ;}
 17270                        	.line	2663
 17271                        	.endblock	2663
  Thu Dec  3 2020 22:25                                                Page 319


 17272             00000004   L811	equ	4
 17273             00000005   L812	equ	5
 17274 03:475B:              	ends
 17275                        	efunc
 17276                        	.endfunc	2663,5,4
 17277                        	.line	2663
 17278                        ;
 17279                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,UINT page)
 17280                        ;{
 17281                        	.line	2665
 17282                        	.line	2666
 17283                        	GUI
 17284                        	xdef	~~k_vdraw_ui_menu_ex
 17285                        	func
 17286                        	.function	2666
 17287                        ~~k_vdraw_ui_menu_ex:
 17288                        	longa	on
 17289                        	longi	on
 17290 03:475B: 3B           	tsc
 17291 03:475C: 38           	sec
 17292 03:475D: E9 1E 00     	sbc	#L815
 17293 03:4760: 1B           	tcs
 17294 03:4761: 0B           	phd
 17295 03:4762: 5B           	tcd
 17296             00000004   cx_0	set	4
 17297             00000006   cy_0	set	6
 17298             00000008   width_0	set	8
 17299             0000000A   height_0	set	10
 17300             0000000C   title_0	set	12
 17301             00000010   color_0	set	16
 17302             00000012   bgcolor_0	set	18
 17303             00000014   page_0	set	20
 17304                        	.block	2666
 17305                        ;	FONTMETRIC metric;
 17306                        ;	
 17307                        ;	int i = 0;
 17308                        ;	
 17309                        ;	int borderTitle = 10;
 17310                        ;	int borderWidth = 3;
 17311                        ;
 17312                        ;	int titleOffsetX = cx+2;
 17313                        ;	int titleOffsetY = cy+2;
 17314                        ;	int titleScaler = 0;
 17315                        ;	
 17316                        ;	int clientOffsetX = cx+borderWidth+2;
 17317                        ;	int clientOffsetY = cy+borderTitle+1;
 17318                        ;	
 17319                        ;	int endX = width + cx - borderWidth;
 17320                        ;	
 17321                        ;
 17322                        ;	k_get_font_metrics(&metric);
 17323             00000000   metric_1	set	0
 17324             00000004   i_1	set	4
 17325             00000006   borderTitle_1	set	6
 17326             00000008   borderWidth_1	set	8
 17327             0000000A   titleOffsetX_1	set	10
 17328             0000000C   titleOffsetY_1	set	12
  Thu Dec  3 2020 22:25                                                Page 320


 17329             0000000E   titleScaler_1	set	14
 17330             00000010   clientOffsetX_1	set	16
 17331             00000012   clientOffsetY_1	set	18
 17332             00000014   endX_1	set	20
 17333                        	.sym	metric,0,10,1,32,32
 17334                        	.sym	i,4,5,1,16
 17335                        	.sym	borderTitle,6,5,1,16
 17336                        	.sym	borderWidth,8,5,1,16
 17337                        	.sym	titleOffsetX,10,5,1,16
 17338                        	.sym	titleOffsetY,12,5,1,16
 17339                        	.sym	titleScaler,14,5,1,16
 17340                        	.sym	clientOffsetX,16,5,1,16
 17341                        	.sym	clientOffsetY,18,5,1,16
 17342                        	.sym	endX,20,5,1,16
 17343                        	.sym	cx,4,5,6,16
 17344                        	.sym	cy,6,5,6,16
 17345                        	.sym	width,8,5,6,16
 17346                        	.sym	height,10,5,6,16
 17347                        	.sym	title,12,142,6,32
 17348                        	.sym	color,16,5,6,16
 17349                        	.sym	bgcolor,18,5,6,16
 17350                        	.sym	page,20,16,6,16
 17351 03:4763: 64 0D        	stz	<L816+i_1
 17352 03:4765: A9 0A 00     	lda	#$a
 17353 03:4768: 85 0F        	sta	<L816+borderTitle_1
 17354 03:476A: A9 03 00     	lda	#$3
 17355 03:476D: 85 11        	sta	<L816+borderWidth_1
 17356 03:476F: 18           	clc
 17357 03:4770: A9 02 00     	lda	#$2
 17358 03:4773: 65 22        	adc	<L815+cx_0
 17359 03:4775: 85 13        	sta	<L816+titleOffsetX_1
 17360 03:4777: 18           	clc
 17361 03:4778: A9 02 00     	lda	#$2
 17362 03:477B: 65 24        	adc	<L815+cy_0
 17363 03:477D: 85 15        	sta	<L816+titleOffsetY_1
 17364 03:477F: 64 17        	stz	<L816+titleScaler_1
 17365 03:4781: 18           	clc
 17366 03:4782: A5 22        	lda	<L815+cx_0
 17367 03:4784: 65 11        	adc	<L816+borderWidth_1
 17368 03:4786: 85 01        	sta	<R0
 17369 03:4788: 18           	clc
 17370 03:4789: A9 02 00     	lda	#$2
 17371 03:478C: 65 01        	adc	<R0
 17372 03:478E: 85 19        	sta	<L816+clientOffsetX_1
 17373 03:4790: 18           	clc
 17374 03:4791: A5 24        	lda	<L815+cy_0
 17375 03:4793: 65 0F        	adc	<L816+borderTitle_1
 17376 03:4795: 85 01        	sta	<R0
 17377 03:4797: A5 01        	lda	<R0
 17378 03:4799: 1A           	ina
 17379 03:479A: 85 1B        	sta	<L816+clientOffsetY_1
 17380 03:479C: 18           	clc
 17381 03:479D: A5 26        	lda	<L815+width_0
 17382 03:479F: 65 22        	adc	<L815+cx_0
 17383 03:47A1: 85 01        	sta	<R0
 17384 03:47A3: 38           	sec
 17385 03:47A4: A5 01        	lda	<R0
 17386 03:47A6: E5 11        	sbc	<L816+borderWidth_1
  Thu Dec  3 2020 22:25                                                Page 321


 17387 03:47A8: 85 1D        	sta	<L816+endX_1
 17388                        	.line	2684
 17389 03:47AA: F4 00 00     	pea	#0
 17390 03:47AD: 18           	clc
 17391 03:47AE: 7B           	tdc
 17392 03:47AF: 69 09 00     	adc	#<L816+metric_1
 17393 03:47B2: 48           	pha
 17394 03:47B3: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 17395                        ;
 17396                        ;	//k_debug_integer("k_vdraw_ui_menu::width:",widt
                    h);
 17397                        ;	//k_debug_integer("k_vdraw_ui_menu::height:",hei
                    ght);
 17398                        ;	//k_debug_strings("k_vdraw_ui_menu::title:",(LPS
                    TR)title);
 17399                        ;	//k_debug_integer("k_vdraw_ui_menu::bgcolor:",bg
                    color);
 17400                        ;
 17401                        ;	//int height = 0;
 17402                        ;	/*
 17403                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 17404                        ;	memset(menu,0,sizeof(MENU));
 17405                        ;
 17406                        ;	menu->cx = cx;
 17407                        ;	menu->cy = cy;
 17408                        ;	menu->fcolor = color;
 17409                        ;	menu->bcolor = bgcolor;
 17410                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 17411                        ;
 17412                        ;	k_get_font_metrics(&metric);
 17413                        ;	
 17414                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 17415                        ;
 17416                        ;	menu->height = height;
 17417                        ;	menu->width  = width;
 17418                        ;
 17419                        ;
 17420                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 17421                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 17422                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 17423                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 17424                        ;	*/
 17425                        ;
 17426                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 17427                        ;
 17428                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 17429                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,0,BITMAP
                    _FRONT);//k_getUIMenuColor());
 17430                        	.line	2719
 17431 03:47B7: F4 00 00     	pea	#<$0
  Thu Dec  3 2020 22:25                                                Page 322


 17432 03:47BA: F4 00 00     	pea	#<$0
 17433 03:47BD: D4 28        	pei	<L815+height_0
 17434 03:47BF: D4 26        	pei	<L815+width_0
 17435 03:47C1: A0 00 00     	ldy	#$0
 17436 03:47C4: A5 24        	lda	<L815+cy_0
 17437 03:47C6: 10 01        	bpl	L818
 17438 03:47C8: 88           	dey
 17439                        L818:
 17440 03:47C9: 85 01        	sta	<R0
 17441 03:47CB: 84 03        	sty	<R0+2
 17442 03:47CD: D4 03        	pei	<R0+2
 17443 03:47CF: D4 01        	pei	<R0
 17444 03:47D1: A0 00 00     	ldy	#$0
 17445 03:47D4: A5 22        	lda	<L815+cx_0
 17446 03:47D6: 10 01        	bpl	L819
 17447 03:47D8: 88           	dey
 17448                        L819:
 17449 03:47D9: 85 05        	sta	<R1
 17450 03:47DB: 84 07        	sty	<R1+2
 17451 03:47DD: D4 07        	pei	<R1+2
 17452 03:47DF: D4 05        	pei	<R1
 17453 03:47E1: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 17454                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,bgcolor,
                    BITMAP_BACK);
 17455                        	.line	2720
 17456 03:47E5: F4 10 00     	pea	#<$10
 17457 03:47E8: D4 30        	pei	<L815+bgcolor_0
 17458 03:47EA: D4 28        	pei	<L815+height_0
 17459 03:47EC: D4 26        	pei	<L815+width_0
 17460 03:47EE: A0 00 00     	ldy	#$0
 17461 03:47F1: A5 24        	lda	<L815+cy_0
 17462 03:47F3: 10 01        	bpl	L820
 17463 03:47F5: 88           	dey
 17464                        L820:
 17465 03:47F6: 85 01        	sta	<R0
 17466 03:47F8: 84 03        	sty	<R0+2
 17467 03:47FA: D4 03        	pei	<R0+2
 17468 03:47FC: D4 01        	pei	<R0
 17469 03:47FE: A0 00 00     	ldy	#$0
 17470 03:4801: A5 22        	lda	<L815+cx_0
 17471 03:4803: 10 01        	bpl	L821
 17472 03:4805: 88           	dey
 17473                        L821:
 17474 03:4806: 85 05        	sta	<R1
 17475 03:4808: 84 07        	sty	<R1+2
 17476 03:480A: D4 07        	pei	<R1+2
 17477 03:480C: D4 05        	pei	<R1
 17478 03:480E: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 17479                        ;	//k_delay(15);
 17480                        ;	
 17481                        ;	//title = strupr(title);
 17482                        ;	
 17483                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 17484                        ;	/*
 17485                        ;	titleScaler = (int)(width / metric.width - 4);
 17486                        ;	for(i=0;i<titleScaler;i++)
 17487                        ;	{
  Thu Dec  3 2020 22:25                                                Page 323


 17488                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 17489                        ;	}*/
 17490                        ;
 17491                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 17492                        	.line	2733
 17493 03:4812: D4 2E        	pei	<L815+color_0
 17494 03:4814: D4 15        	pei	<L816+titleOffsetY_1
 17495 03:4816: A5 09        	lda	<L816+metric_1
 17496 03:4818: 0A           	asl	A
 17497 03:4819: 85 01        	sta	<R0
 17498 03:481B: 18           	clc
 17499 03:481C: A9 02 00     	lda	#$2
 17500 03:481F: 65 01        	adc	<R0
 17501 03:4821: 85 05        	sta	<R1
 17502 03:4823: 38           	sec
 17503 03:4824: A5 1D        	lda	<L816+endX_1
 17504 03:4826: E5 05        	sbc	<R1
 17505 03:4828: 48           	pha
 17506 03:4829: F4 04 00     	pea	#<$4
 17507 03:482C: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17508                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 17509                        	.line	2734
 17510 03:4830: D4 2E        	pei	<L815+color_0
 17511 03:4832: D4 15        	pei	<L816+titleOffsetY_1
 17512 03:4834: 38           	sec
 17513 03:4835: A5 1D        	lda	<L816+endX_1
 17514 03:4837: E5 09        	sbc	<L816+metric_1
 17515 03:4839: 48           	pha
 17516 03:483A: F4 03 00     	pea	#<$3
 17517 03:483D: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17518                        ;
 17519                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 17520                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 17521                        ;
 17522                        ;	if(title)
 17523                        	.line	2739
 17524                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 17525 03:4841: A5 2A        	lda	<L815+title_0
 17526 03:4843: 05 2C        	ora	<L815+title_0+2
 17527 03:4845: D0 03        	bne	L822
 17528 03:4847: 82 1C 00     	brl	L10355
 17529                        L822:
 17530                        	.line	2740
 17531 03:484A: D4 2E        	pei	<L815+color_0
 17532 03:484C: D4 15        	pei	<L816+titleOffsetY_1
 17533 03:484E: 18           	clc
 17534 03:484F: A5 22        	lda	<L815+cx_0
 17535 03:4851: 65 09        	adc	<L816+metric_1
 17536 03:4853: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 324


 17537 03:4855: 18           	clc
 17538 03:4856: A9 02 00     	lda	#$2
 17539 03:4859: 65 01        	adc	<R0
 17540 03:485B: 48           	pha
 17541 03:485C: D4 2C        	pei	<L815+title_0+2
 17542 03:485E: D4 2A        	pei	<L815+title_0
 17543 03:4860: 22 62 1A 03  	jsl	~~k_draw_text_point
 17544 03:4864: 85 0D        	sta	<L816+i_1
 17545                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 17546                        ;
 17547                        ;	
 17548                        ;	return NULL;
 17549                        L10355:
 17550                        	.line	2744
 17551 03:4866: A9 00 00     	lda	#$0
 17552 03:4869: AA           	tax
 17553 03:486A: A9 00 00     	lda	#$0
 17554                        L823:
 17555 03:486D: A8           	tay
 17556 03:486E: A5 20        	lda	<L815+2
 17557 03:4870: 85 32        	sta	<L815+2+18
 17558 03:4872: A5 1F        	lda	<L815+1
 17559 03:4874: 85 31        	sta	<L815+1+18
 17560 03:4876: 2B           	pld
 17561 03:4877: 3B           	tsc
 17562 03:4878: 18           	clc
 17563 03:4879: 69 30 00     	adc	#L815+18
 17564 03:487C: 1B           	tcs
 17565 03:487D: 98           	tya
 17566 03:487E: 6B           	rtl
 17567                        ;}
 17568                        	.line	2745
 17569                        	.endblock	2745
 17570             0000001E   L815	equ	30
 17571             00000009   L816	equ	9
 17572 03:487F:              	ends
 17573                        	efunc
 17574                        	.endfunc	2745,9,30
 17575                        	.line	2745
 17576                        ;
 17577                        ;
 17578                        ;PMENU k_vdraw_ui_menu_with_rect(int cx,int cy,int
                     width,int height,LPCSTR title,int color, int bgcolor,LPVOID
                     *prects)
 17579                        ;{
 17580                        	.line	2748
 17581                        	.line	2749
 17582                        	GUI
 17583                        	xdef	~~k_vdraw_ui_menu_with_rect
 17584                        	func
 17585                        	.function	2749
 17586                        ~~k_vdraw_ui_menu_with_rect:
 17587                        	longa	on
 17588                        	longi	on
 17589 03:487F: 3B           	tsc
 17590 03:4880: 38           	sec
 17591 03:4881: E9 1E 00     	sbc	#L824
  Thu Dec  3 2020 22:25                                                Page 325


 17592 03:4884: 1B           	tcs
 17593 03:4885: 0B           	phd
 17594 03:4886: 5B           	tcd
 17595             00000004   cx_0	set	4
 17596             00000006   cy_0	set	6
 17597             00000008   width_0	set	8
 17598             0000000A   height_0	set	10
 17599             0000000C   title_0	set	12
 17600             00000010   color_0	set	16
 17601             00000012   bgcolor_0	set	18
 17602             00000014   prects_0	set	20
 17603                        	.block	2749
 17604                        ;	FONTMETRIC metric;
 17605                        ;
 17606                        ;	int i = 0;
 17607                        ;
 17608                        ;	int borderTitle = 10;
 17609                        ;	int borderWidth = 3;
 17610                        ;
 17611                        ;	int titleOffsetX = cx+2;
 17612                        ;	int titleOffsetY = cy+2;
 17613                        ;	int titleScaler = 0;
 17614                        ;
 17615                        ;	int clientOffsetX = cx+borderWidth+2;
 17616                        ;	int clientOffsetY = cy+borderTitle+1;
 17617                        ;
 17618                        ;	int endX = width + cx - borderWidth;
 17619                        ;
 17620                        ;
 17621                        ;	k_get_font_metrics(&metric);
 17622             00000000   metric_1	set	0
 17623             00000004   i_1	set	4
 17624             00000006   borderTitle_1	set	6
 17625             00000008   borderWidth_1	set	8
 17626             0000000A   titleOffsetX_1	set	10
 17627             0000000C   titleOffsetY_1	set	12
 17628             0000000E   titleScaler_1	set	14
 17629             00000010   clientOffsetX_1	set	16
 17630             00000012   clientOffsetY_1	set	18
 17631             00000014   endX_1	set	20
 17632                        	.sym	metric,0,10,1,32,32
 17633                        	.sym	i,4,5,1,16
 17634                        	.sym	borderTitle,6,5,1,16
 17635                        	.sym	borderWidth,8,5,1,16
 17636                        	.sym	titleOffsetX,10,5,1,16
 17637                        	.sym	titleOffsetY,12,5,1,16
 17638                        	.sym	titleScaler,14,5,1,16
 17639                        	.sym	clientOffsetX,16,5,1,16
 17640                        	.sym	clientOffsetY,18,5,1,16
 17641                        	.sym	endX,20,5,1,16
 17642                        	.sym	cx,4,5,6,16
 17643                        	.sym	cy,6,5,6,16
 17644                        	.sym	width,8,5,6,16
 17645                        	.sym	height,10,5,6,16
 17646                        	.sym	title,12,142,6,32
 17647                        	.sym	color,16,5,6,16
 17648                        	.sym	bgcolor,18,5,6,16
 17649                        	.sym	prects,20,1153,6,32
  Thu Dec  3 2020 22:25                                                Page 326


 17650 03:4887: 64 0D        	stz	<L825+i_1
 17651 03:4889: A9 0A 00     	lda	#$a
 17652 03:488C: 85 0F        	sta	<L825+borderTitle_1
 17653 03:488E: A9 03 00     	lda	#$3
 17654 03:4891: 85 11        	sta	<L825+borderWidth_1
 17655 03:4893: 18           	clc
 17656 03:4894: A9 02 00     	lda	#$2
 17657 03:4897: 65 22        	adc	<L824+cx_0
 17658 03:4899: 85 13        	sta	<L825+titleOffsetX_1
 17659 03:489B: 18           	clc
 17660 03:489C: A9 02 00     	lda	#$2
 17661 03:489F: 65 24        	adc	<L824+cy_0
 17662 03:48A1: 85 15        	sta	<L825+titleOffsetY_1
 17663 03:48A3: 64 17        	stz	<L825+titleScaler_1
 17664 03:48A5: 18           	clc
 17665 03:48A6: A5 22        	lda	<L824+cx_0
 17666 03:48A8: 65 11        	adc	<L825+borderWidth_1
 17667 03:48AA: 85 01        	sta	<R0
 17668 03:48AC: 18           	clc
 17669 03:48AD: A9 02 00     	lda	#$2
 17670 03:48B0: 65 01        	adc	<R0
 17671 03:48B2: 85 19        	sta	<L825+clientOffsetX_1
 17672 03:48B4: 18           	clc
 17673 03:48B5: A5 24        	lda	<L824+cy_0
 17674 03:48B7: 65 0F        	adc	<L825+borderTitle_1
 17675 03:48B9: 85 01        	sta	<R0
 17676 03:48BB: A5 01        	lda	<R0
 17677 03:48BD: 1A           	ina
 17678 03:48BE: 85 1B        	sta	<L825+clientOffsetY_1
 17679 03:48C0: 18           	clc
 17680 03:48C1: A5 26        	lda	<L824+width_0
 17681 03:48C3: 65 22        	adc	<L824+cx_0
 17682 03:48C5: 85 01        	sta	<R0
 17683 03:48C7: 38           	sec
 17684 03:48C8: A5 01        	lda	<R0
 17685 03:48CA: E5 11        	sbc	<L825+borderWidth_1
 17686 03:48CC: 85 1D        	sta	<L825+endX_1
 17687                        	.line	2767
 17688 03:48CE: F4 00 00     	pea	#0
 17689 03:48D1: 18           	clc
 17690 03:48D2: 7B           	tdc
 17691 03:48D3: 69 09 00     	adc	#<L825+metric_1
 17692 03:48D6: 48           	pha
 17693 03:48D7: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 17694                        ;
 17695                        ;
 17696                        ;	//int height = 0;
 17697                        ;	/*
 17698                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 17699                        ;	memset(menu,0,sizeof(MENU));
 17700                        ;
 17701                        ;	menu->cx = cx;
 17702                        ;	menu->cy = cy;
 17703                        ;	menu->fcolor = color;
 17704                        ;	menu->bcolor = bgcolor;
 17705                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
  Thu Dec  3 2020 22:25                                                Page 327


 17706                        ;
 17707                        ;	k_get_font_metrics(&metric);
 17708                        ;
 17709                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 17710                        ;
 17711                        ;	menu->height = height;
 17712                        ;	menu->width  = width;
 17713                        ;
 17714                        ;
 17715                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 17716                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 17717                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 17718                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 17719                        ;	*/
 17720                        ;
 17721                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 17722                        ;
 17723                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 17724                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 17725                        	.line	2798
 17726 03:48DB: D4 2E        	pei	<L824+color_0
 17727 03:48DD: D4 28        	pei	<L824+height_0
 17728 03:48DF: D4 26        	pei	<L824+width_0
 17729 03:48E1: A0 00 00     	ldy	#$0
 17730 03:48E4: A5 24        	lda	<L824+cy_0
 17731 03:48E6: 10 01        	bpl	L827
 17732 03:48E8: 88           	dey
 17733                        L827:
 17734 03:48E9: 85 01        	sta	<R0
 17735 03:48EB: 84 03        	sty	<R0+2
 17736 03:48ED: D4 03        	pei	<R0+2
 17737 03:48EF: D4 01        	pei	<R0
 17738 03:48F1: A0 00 00     	ldy	#$0
 17739 03:48F4: A5 22        	lda	<L824+cx_0
 17740 03:48F6: 10 01        	bpl	L828
 17741 03:48F8: 88           	dey
 17742                        L828:
 17743 03:48F9: 85 05        	sta	<R1
 17744 03:48FB: 84 07        	sty	<R1+2
 17745 03:48FD: D4 07        	pei	<R1+2
 17746 03:48FF: D4 05        	pei	<R1
 17747 03:4901: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 17748                        ;
 17749                        ;	//k_delay(15);
 17750                        ;
 17751                        ;	//title = strupr(title);
 17752                        ;
 17753                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 17754                        ;	/*
 17755                        ;	titleScaler = (int)(width / metric.width - 4);
 17756                        ;	for(i=0;i<titleScaler;i++)
  Thu Dec  3 2020 22:25                                                Page 328


 17757                        ;	{
 17758                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 17759                        ;	}*/
 17760                        ;
 17761                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 17762                        	.line	2812
 17763 03:4905: F4 0E 00     	pea	#<$e
 17764 03:4908: D4 15        	pei	<L825+titleOffsetY_1
 17765 03:490A: A5 09        	lda	<L825+metric_1
 17766 03:490C: 0A           	asl	A
 17767 03:490D: 85 01        	sta	<R0
 17768 03:490F: 18           	clc
 17769 03:4910: A9 02 00     	lda	#$2
 17770 03:4913: 65 01        	adc	<R0
 17771 03:4915: 85 05        	sta	<R1
 17772 03:4917: 38           	sec
 17773 03:4918: A5 1D        	lda	<L825+endX_1
 17774 03:491A: E5 05        	sbc	<R1
 17775 03:491C: 48           	pha
 17776 03:491D: F4 04 00     	pea	#<$4
 17777 03:4920: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17778                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 17779                        	.line	2813
 17780 03:4924: F4 0E 00     	pea	#<$e
 17781 03:4927: D4 15        	pei	<L825+titleOffsetY_1
 17782 03:4929: 38           	sec
 17783 03:492A: A5 1D        	lda	<L825+endX_1
 17784 03:492C: E5 09        	sbc	<L825+metric_1
 17785 03:492E: 48           	pha
 17786 03:492F: F4 03 00     	pea	#<$3
 17787 03:4932: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17788                        ;
 17789                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 17790                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 17791                        ;
 17792                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
                    titleOffsetY,bgcolor);
 17793                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 17794                        ;
 17795                        ;
 17796                        ;	return NULL;
 17797                        	.line	2822
 17798 03:4936: A9 00 00     	lda	#$0
 17799 03:4939: AA           	tax
 17800 03:493A: A9 00 00     	lda	#$0
 17801                        L829:
 17802 03:493D: A8           	tay
 17803 03:493E: A5 20        	lda	<L824+2
 17804 03:4940: 85 34        	sta	<L824+2+20
 17805 03:4942: A5 1F        	lda	<L824+1
  Thu Dec  3 2020 22:25                                                Page 329


 17806 03:4944: 85 33        	sta	<L824+1+20
 17807 03:4946: 2B           	pld
 17808 03:4947: 3B           	tsc
 17809 03:4948: 18           	clc
 17810 03:4949: 69 32 00     	adc	#L824+20
 17811 03:494C: 1B           	tcs
 17812 03:494D: 98           	tya
 17813 03:494E: 6B           	rtl
 17814                        ;}
 17815                        	.line	2823
 17816                        	.endblock	2823
 17817             0000001E   L824	equ	30
 17818             00000009   L825	equ	9
 17819 03:494F:              	ends
 17820                        	efunc
 17821                        	.endfunc	2823,9,30
 17822                        	.line	2823
 17823                        ;
 17824                        ;
 17825                        ;
 17826                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 17827                        ;{
 17828                        	.line	2827
 17829                        	.line	2828
 17830                        	GUI
 17831                        	xdef	~~k_gadget_title_front_callback
 17832                        	func
 17833                        	.function	2828
 17834                        ~~k_gadget_title_front_callback:
 17835                        	longa	on
 17836                        	longi	on
 17837 03:494F: 3B           	tsc
 17838 03:4950: 38           	sec
 17839 03:4951: E9 04 00     	sbc	#L830
 17840 03:4954: 1B           	tcs
 17841 03:4955: 0B           	phd
 17842 03:4956: 5B           	tcd
 17843             00000004   gadgetWindow_0	set	4
 17844                        	.block	2828
 17845                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 17846                        	.sym	gadgetWindow,4,138,6,32,30
 17847                        	.line	2829
 17848 03:4957: 18           	clc
 17849 03:4958: A9 F6 00     	lda	#$f6
 17850 03:495B: 65 08        	adc	<L830+gadgetWindow_0
 17851 03:495D: 85 01        	sta	<R0
 17852 03:495F: A9 00 00     	lda	#$0
 17853 03:4962: 65 0A        	adc	<L830+gadgetWindow_0+2
 17854 03:4964: 85 03        	sta	<R0+2
 17855 03:4966: D4 03        	pei	<R0+2
 17856 03:4968: D4 01        	pei	<R0
 17857 03:496A: F4 xx xx     	pea	#^L804
 17858 03:496D: F4 xx xx     	pea	#<L804
 17859 03:4970: 22 xx xx xx  	jsl	~~k_debug_message
 17860                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 17861                        	.line	2830
  Thu Dec  3 2020 22:25                                                Page 330


 17862 03:4974: F4 00 00     	pea	#<$0
 17863 03:4977: F4 00 00     	pea	#^$0
 17864 03:497A: F4 00 00     	pea	#<$0
 17865 03:497D: F4 30 0F     	pea	#<$f30
 17866 03:4980: F4 00 00     	pea	#^$0
 17867 03:4983: F4 00 00     	pea	#<$0
 17868 03:4986: 22 xx xx xx  	jsl	~~k_send_message
 17869                        ;	return;
 17870                        	.line	2831
 17871                        L833:
 17872 03:498A: A5 06        	lda	<L830+2
 17873 03:498C: 85 0A        	sta	<L830+2+4
 17874 03:498E: A5 05        	lda	<L830+1
 17875 03:4990: 85 09        	sta	<L830+1+4
 17876 03:4992: 2B           	pld
 17877 03:4993: 3B           	tsc
 17878 03:4994: 18           	clc
 17879 03:4995: 69 08 00     	adc	#L830+4
 17880 03:4998: 1B           	tcs
 17881 03:4999: 6B           	rtl
 17882                        ;}
 17883                        	.line	2832
 17884                        	.endblock	2832
 17885             00000004   L830	equ	4
 17886             00000005   L831	equ	5
 17887 03:499A:              	ends
 17888                        	efunc
 17889                        	.endfunc	2832,5,4
 17890                        	.line	2832
 17891                        	data
 17892                        L804:
 17893 00:0AB6: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0ABA: 64 67 65 74 
       00:0ABE: 5F 74 69 74 
       00:0AC2: 6C 65 5F 
 17894 00:0AC5: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:0AC9: 74 5F 63 61 
       00:0ACD: 6C 6C 62 61 
       00:0AD1: 63 6B 3A 
 17895 00:0AD4: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0AD8: 6B 65 64 3A 
       00:0ADC: 00 
 17896 00:0ADD:              	ends
 17897                        ;
 17898                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 17899                        ;{
 17900                        	.line	2834
 17901                        	.line	2835
 17902                        	GUI
 17903                        	xdef	~~k_gadget_title_back_callback
 17904                        	func
 17905                        	.function	2835
 17906                        ~~k_gadget_title_back_callback:
 17907                        	longa	on
 17908                        	longi	on
  Thu Dec  3 2020 22:25                                                Page 331


 17909 03:499A: 3B           	tsc
 17910 03:499B: 38           	sec
 17911 03:499C: E9 04 00     	sbc	#L835
 17912 03:499F: 1B           	tcs
 17913 03:49A0: 0B           	phd
 17914 03:49A1: 5B           	tcd
 17915             00000004   gadgetWindow_0	set	4
 17916                        	.block	2835
 17917                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 17918                        	.sym	gadgetWindow,4,138,6,32,30
 17919                        	.line	2836
 17920 03:49A2: 18           	clc
 17921 03:49A3: A9 F6 00     	lda	#$f6
 17922 03:49A6: 65 08        	adc	<L835+gadgetWindow_0
 17923 03:49A8: 85 01        	sta	<R0
 17924 03:49AA: A9 00 00     	lda	#$0
 17925 03:49AD: 65 0A        	adc	<L835+gadgetWindow_0+2
 17926 03:49AF: 85 03        	sta	<R0+2
 17927 03:49B1: D4 03        	pei	<R0+2
 17928 03:49B3: D4 01        	pei	<R0
 17929 03:49B5: F4 xx xx     	pea	#^L834
 17930 03:49B8: F4 xx xx     	pea	#<L834
 17931 03:49BB: 22 xx xx xx  	jsl	~~k_debug_message
 17932                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 17933                        	.line	2837
 17934 03:49BF: F4 00 00     	pea	#<$0
 17935 03:49C2: F4 00 00     	pea	#^$0
 17936 03:49C5: F4 00 00     	pea	#<$0
 17937 03:49C8: F4 31 0F     	pea	#<$f31
 17938 03:49CB: F4 00 00     	pea	#^$0
 17939 03:49CE: F4 00 00     	pea	#<$0
 17940 03:49D1: 22 xx xx xx  	jsl	~~k_send_message
 17941                        ;	return;
 17942                        	.line	2838
 17943                        L838:
 17944 03:49D5: A5 06        	lda	<L835+2
 17945 03:49D7: 85 0A        	sta	<L835+2+4
 17946 03:49D9: A5 05        	lda	<L835+1
 17947 03:49DB: 85 09        	sta	<L835+1+4
 17948 03:49DD: 2B           	pld
 17949 03:49DE: 3B           	tsc
 17950 03:49DF: 18           	clc
 17951 03:49E0: 69 08 00     	adc	#L835+4
 17952 03:49E3: 1B           	tcs
 17953 03:49E4: 6B           	rtl
 17954                        ;}
 17955                        	.line	2839
 17956                        	.endblock	2839
 17957             00000004   L835	equ	4
 17958             00000005   L836	equ	5
 17959 03:49E5:              	ends
 17960                        	efunc
 17961                        	.endfunc	2839,5,4
 17962                        	.line	2839
 17963                        	data
 17964                        L834:
 17965 00:0ADD: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
  Thu Dec  3 2020 22:25                                                Page 332


                    $69,$74,$6C,$65,$5F
       00:0AE1: 64 67 65 74 
       00:0AE5: 5F 74 69 74 
       00:0AE9: 6C 65 5F 
 17966 00:0AEC: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:0AF0: 5F 63 61 6C 
       00:0AF4: 6C 62 61 63 
       00:0AF8: 6B 3A 63 
 17967 00:0AFB: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0AFF: 65 64 3A 00 
 17968 00:0B03:              	ends
 17969                        ;
 17970                        ;
 17971                        ;
 17972                        ;PMENU k_render_menu(PMENU menu)
 17973                        ;{
 17974                        	.line	2843
 17975                        	.line	2844
 17976                        	GUI
 17977                        	xdef	~~k_render_menu
 17978                        	func
 17979                        	.function	2844
 17980                        ~~k_render_menu:
 17981                        	longa	on
 17982                        	longi	on
 17983 03:49E5: 3B           	tsc
 17984 03:49E6: 38           	sec
 17985 03:49E7: E9 22 00     	sbc	#L840
 17986 03:49EA: 1B           	tcs
 17987 03:49EB: 0B           	phd
 17988 03:49EC: 5B           	tcd
 17989             00000004   menu_0	set	4
 17990                        	.block	2844
 17991                        ;	FONTMETRIC metric;
 17992                        ;
 17993                        ;	int i = 0;
 17994                        ;
 17995                        ;	int cx = menu->cx;
 17996                        ;	int cy = menu->cy;
 17997                        ;
 17998                        ;	int borderTitle = 10;
 17999                        ;	int borderWidth = 3;
 18000                        ;
 18001                        ;	int titleOffsetX = cx+2;
 18002                        ;	int titleOffsetY = cy+2;
 18003                        ;	int titleScaler = 0;
 18004                        ;
 18005                        ;	int clientOffsetX = cx+borderWidth+2;
 18006                        ;	int clientOffsetY = cy+borderTitle+1;
 18007                        ;
 18008                        ;	int endX = menu->width + cx - borderWidth;
 18009                        ;
 18010                        ;	k_get_font_metrics(&metric);
 18011             00000000   metric_1	set	0
 18012             00000004   i_1	set	4
 18013             00000006   cx_1	set	6
 18014             00000008   cy_1	set	8
  Thu Dec  3 2020 22:25                                                Page 333


 18015             0000000A   borderTitle_1	set	10
 18016             0000000C   borderWidth_1	set	12
 18017             0000000E   titleOffsetX_1	set	14
 18018             00000010   titleOffsetY_1	set	16
 18019             00000012   titleScaler_1	set	18
 18020             00000014   clientOffsetX_1	set	20
 18021             00000016   clientOffsetY_1	set	22
 18022             00000018   endX_1	set	24
 18023                        	.sym	metric,0,10,1,32,32
 18024                        	.sym	i,4,5,1,16
 18025                        	.sym	cx,6,5,1,16
 18026                        	.sym	cy,8,5,1,16
 18027                        	.sym	borderTitle,10,5,1,16
 18028                        	.sym	borderWidth,12,5,1,16
 18029                        	.sym	titleOffsetX,14,5,1,16
 18030                        	.sym	titleOffsetY,16,5,1,16
 18031                        	.sym	titleScaler,18,5,1,16
 18032                        	.sym	clientOffsetX,20,5,1,16
 18033                        	.sym	clientOffsetY,22,5,1,16
 18034                        	.sym	endX,24,5,1,16
 18035                        	.sym	menu,4,138,6,32,34
 18036 03:49ED: 64 0D        	stz	<L841+i_1
 18037 03:49EF: A7 26        	lda	[<L840+menu_0]
 18038 03:49F1: 85 0F        	sta	<L841+cx_1
 18039 03:49F3: A0 02 00     	ldy	#$2
 18040 03:49F6: B7 26        	lda	[<L840+menu_0],Y
 18041 03:49F8: 85 11        	sta	<L841+cy_1
 18042 03:49FA: A9 0A 00     	lda	#$a
 18043 03:49FD: 85 13        	sta	<L841+borderTitle_1
 18044 03:49FF: A9 03 00     	lda	#$3
 18045 03:4A02: 85 15        	sta	<L841+borderWidth_1
 18046 03:4A04: 18           	clc
 18047 03:4A05: A9 02 00     	lda	#$2
 18048 03:4A08: 65 0F        	adc	<L841+cx_1
 18049 03:4A0A: 85 17        	sta	<L841+titleOffsetX_1
 18050 03:4A0C: 18           	clc
 18051 03:4A0D: A9 02 00     	lda	#$2
 18052 03:4A10: 65 11        	adc	<L841+cy_1
 18053 03:4A12: 85 19        	sta	<L841+titleOffsetY_1
 18054 03:4A14: 64 1B        	stz	<L841+titleScaler_1
 18055 03:4A16: 18           	clc
 18056 03:4A17: A5 0F        	lda	<L841+cx_1
 18057 03:4A19: 65 15        	adc	<L841+borderWidth_1
 18058 03:4A1B: 85 01        	sta	<R0
 18059 03:4A1D: 18           	clc
 18060 03:4A1E: A9 02 00     	lda	#$2
 18061 03:4A21: 65 01        	adc	<R0
 18062 03:4A23: 85 1D        	sta	<L841+clientOffsetX_1
 18063 03:4A25: 18           	clc
 18064 03:4A26: A5 11        	lda	<L841+cy_1
 18065 03:4A28: 65 13        	adc	<L841+borderTitle_1
 18066 03:4A2A: 85 01        	sta	<R0
 18067 03:4A2C: A5 01        	lda	<R0
 18068 03:4A2E: 1A           	ina
 18069 03:4A2F: 85 1F        	sta	<L841+clientOffsetY_1
 18070 03:4A31: 18           	clc
 18071 03:4A32: A0 04 00     	ldy	#$4
 18072 03:4A35: B7 26        	lda	[<L840+menu_0],Y
  Thu Dec  3 2020 22:25                                                Page 334


 18073 03:4A37: 65 0F        	adc	<L841+cx_1
 18074 03:4A39: 85 01        	sta	<R0
 18075 03:4A3B: 38           	sec
 18076 03:4A3C: A5 01        	lda	<R0
 18077 03:4A3E: E5 15        	sbc	<L841+borderWidth_1
 18078 03:4A40: 85 21        	sta	<L841+endX_1
 18079                        	.line	2864
 18080 03:4A42: F4 00 00     	pea	#0
 18081 03:4A45: 18           	clc
 18082 03:4A46: 7B           	tdc
 18083 03:4A47: 69 09 00     	adc	#<L841+metric_1
 18084 03:4A4A: 48           	pha
 18085 03:4A4B: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 18086                        ;
 18087                        ;
 18088                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 18089                        	.line	2867
 18090 03:4A4F: A7 26        	lda	[<L840+menu_0]
 18091 03:4A51: 48           	pha
 18092 03:4A52: F4 xx xx     	pea	#^L839
 18093 03:4A55: F4 xx xx     	pea	#<L839
 18094 03:4A58: 22 xx xx xx  	jsl	~~k_debug_integer
 18095                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 18096                        	.line	2868
 18097 03:4A5C: A0 02 00     	ldy	#$2
 18098 03:4A5F: B7 26        	lda	[<L840+menu_0],Y
 18099 03:4A61: 48           	pha
 18100 03:4A62: F4 xx xx     	pea	#^L839+24
 18101 03:4A65: F4 xx xx     	pea	#<L839+24
 18102 03:4A68: 22 xx xx xx  	jsl	~~k_debug_integer
 18103                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 18104                        	.line	2869
 18105 03:4A6C: A0 06 00     	ldy	#$6
 18106 03:4A6F: B7 26        	lda	[<L840+menu_0],Y
 18107 03:4A71: 48           	pha
 18108 03:4A72: F4 xx xx     	pea	#^L839+48
 18109 03:4A75: F4 xx xx     	pea	#<L839+48
 18110 03:4A78: 22 xx xx xx  	jsl	~~k_debug_integer
 18111                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
 18112                        	.line	2870
 18113 03:4A7C: A0 04 00     	ldy	#$4
 18114 03:4A7F: B7 26        	lda	[<L840+menu_0],Y
 18115 03:4A81: 48           	pha
 18116 03:4A82: F4 xx xx     	pea	#^L839+76
 18117 03:4A85: F4 xx xx     	pea	#<L839+76
 18118 03:4A88: 22 xx xx xx  	jsl	~~k_debug_integer
 18119                        ;
 18120                        ;
 18121                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 18122                        	.line	2873
 18123 03:4A8C: F4 00 00     	pea	#<$0
 18124 03:4A8F: A0 06 00     	ldy	#$6
 18125 03:4A92: B7 26        	lda	[<L840+menu_0],Y
  Thu Dec  3 2020 22:25                                                Page 335


 18126 03:4A94: 1A           	ina
 18127 03:4A95: 48           	pha
 18128 03:4A96: A0 04 00     	ldy	#$4
 18129 03:4A99: B7 26        	lda	[<L840+menu_0],Y
 18130 03:4A9B: 1A           	ina
 18131 03:4A9C: 48           	pha
 18132 03:4A9D: A0 00 00     	ldy	#$0
 18133 03:4AA0: A5 11        	lda	<L841+cy_1
 18134 03:4AA2: 10 01        	bpl	L843
 18135 03:4AA4: 88           	dey
 18136                        L843:
 18137 03:4AA5: 85 01        	sta	<R0
 18138 03:4AA7: 84 03        	sty	<R0+2
 18139 03:4AA9: D4 03        	pei	<R0+2
 18140 03:4AAB: D4 01        	pei	<R0
 18141 03:4AAD: 18           	clc
 18142 03:4AAE: A9 FF FF     	lda	#$ffff
 18143 03:4AB1: 65 0F        	adc	<L841+cx_1
 18144 03:4AB3: 85 05        	sta	<R1
 18145 03:4AB5: A0 00 00     	ldy	#$0
 18146 03:4AB8: A5 05        	lda	<R1
 18147 03:4ABA: 10 01        	bpl	L844
 18148 03:4ABC: 88           	dey
 18149                        L844:
 18150 03:4ABD: 85 05        	sta	<R1
 18151 03:4ABF: 84 07        	sty	<R1+2
 18152 03:4AC1: D4 07        	pei	<R1+2
 18153 03:4AC3: D4 05        	pei	<R1
 18154 03:4AC5: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 18155                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 18156                        	.line	2874
 18157 03:4AC9: A0 08 00     	ldy	#$8
 18158 03:4ACC: B7 26        	lda	[<L840+menu_0],Y
 18159 03:4ACE: 48           	pha
 18160 03:4ACF: A0 06 00     	ldy	#$6
 18161 03:4AD2: B7 26        	lda	[<L840+menu_0],Y
 18162 03:4AD4: 48           	pha
 18163 03:4AD5: A0 04 00     	ldy	#$4
 18164 03:4AD8: B7 26        	lda	[<L840+menu_0],Y
 18165 03:4ADA: 48           	pha
 18166 03:4ADB: A0 00 00     	ldy	#$0
 18167 03:4ADE: A5 11        	lda	<L841+cy_1
 18168 03:4AE0: 10 01        	bpl	L845
 18169 03:4AE2: 88           	dey
 18170                        L845:
 18171 03:4AE3: 85 01        	sta	<R0
 18172 03:4AE5: 84 03        	sty	<R0+2
 18173 03:4AE7: D4 03        	pei	<R0+2
 18174 03:4AE9: D4 01        	pei	<R0
 18175 03:4AEB: A0 00 00     	ldy	#$0
 18176 03:4AEE: A5 0F        	lda	<L841+cx_1
 18177 03:4AF0: 10 01        	bpl	L846
 18178 03:4AF2: 88           	dey
 18179                        L846:
 18180 03:4AF3: 85 05        	sta	<R1
 18181 03:4AF5: 84 07        	sty	<R1+2
 18182 03:4AF7: D4 07        	pei	<R1+2
  Thu Dec  3 2020 22:25                                                Page 336


 18183 03:4AF9: D4 05        	pei	<R1
 18184 03:4AFB: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 18185                        ;
 18186                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 18187                        ;
 18188                        ;
 18189                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 18190                        	.line	2879
 18191 03:4AFF: F4 0E 00     	pea	#<$e
 18192 03:4B02: D4 19        	pei	<L841+titleOffsetY_1
 18193 03:4B04: A5 09        	lda	<L841+metric_1
 18194 03:4B06: 0A           	asl	A
 18195 03:4B07: 85 01        	sta	<R0
 18196 03:4B09: 18           	clc
 18197 03:4B0A: A9 02 00     	lda	#$2
 18198 03:4B0D: 65 01        	adc	<R0
 18199 03:4B0F: 85 05        	sta	<R1
 18200 03:4B11: 38           	sec
 18201 03:4B12: A5 21        	lda	<L841+endX_1
 18202 03:4B14: E5 05        	sbc	<R1
 18203 03:4B16: 48           	pha
 18204 03:4B17: F4 04 00     	pea	#<$4
 18205 03:4B1A: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18206                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 18207                        	.line	2880
 18208 03:4B1E: F4 0E 00     	pea	#<$e
 18209 03:4B21: D4 19        	pei	<L841+titleOffsetY_1
 18210 03:4B23: 38           	sec
 18211 03:4B24: A5 21        	lda	<L841+endX_1
 18212 03:4B26: E5 09        	sbc	<L841+metric_1
 18213 03:4B28: 48           	pha
 18214 03:4B29: F4 03 00     	pea	#<$3
 18215 03:4B2C: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18216                        ;
 18217                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 18218                        	.line	2882
 18219 03:4B30: F4 00 00     	pea	#<$0
 18220 03:4B33: D4 19        	pei	<L841+titleOffsetY_1
 18221 03:4B35: 18           	clc
 18222 03:4B36: A5 0F        	lda	<L841+cx_1
 18223 03:4B38: 65 09        	adc	<L841+metric_1
 18224 03:4B3A: 85 01        	sta	<R0
 18225 03:4B3C: 18           	clc
 18226 03:4B3D: A9 02 00     	lda	#$2
 18227 03:4B40: 65 01        	adc	<R0
 18228 03:4B42: 48           	pha
 18229 03:4B43: A0 11 00     	ldy	#$11
 18230 03:4B46: B7 26        	lda	[<L840+menu_0],Y
 18231 03:4B48: 48           	pha
 18232 03:4B49: A0 0F 00     	ldy	#$f
 18233 03:4B4C: B7 26        	lda	[<L840+menu_0],Y
 18234 03:4B4E: 48           	pha
 18235 03:4B4F: 22 62 1A 03  	jsl	~~k_draw_text_point
 18236                        ;
  Thu Dec  3 2020 22:25                                                Page 337


 18237                        ;	return menu;
 18238                        	.line	2884
 18239 03:4B53: A6 28        	ldx	<L840+menu_0+2
 18240 03:4B55: A5 26        	lda	<L840+menu_0
 18241                        L847:
 18242 03:4B57: A8           	tay
 18243 03:4B58: A5 24        	lda	<L840+2
 18244 03:4B5A: 85 28        	sta	<L840+2+4
 18245 03:4B5C: A5 23        	lda	<L840+1
 18246 03:4B5E: 85 27        	sta	<L840+1+4
 18247 03:4B60: 2B           	pld
 18248 03:4B61: 3B           	tsc
 18249 03:4B62: 18           	clc
 18250 03:4B63: 69 26 00     	adc	#L840+4
 18251 03:4B66: 1B           	tcs
 18252 03:4B67: 98           	tya
 18253 03:4B68: 6B           	rtl
 18254                        ;}
 18255                        	.line	2885
 18256                        	.endblock	2885
 18257             00000022   L840	equ	34
 18258             00000009   L841	equ	9
 18259 03:4B69:              	ends
 18260                        	efunc
 18261                        	.endfunc	2885,9,34
 18262                        	.line	2885
 18263                        	data
 18264                        L839:
 18265 00:0B03: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
       00:0B07: 6E 64 65 72 
       00:0B0B: 5F 6D 65 6E 
       00:0B0F: 75 3A 6D 
 18266 00:0B12: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0B16: 3E 63 78 3A 
       00:0B1A: 00 6B 5F 72 
       00:0B1E: 65 6E 64 
 18267 00:0B21: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0B25: 65 6E 75 3A 
       00:0B29: 6D 65 6E 75 
       00:0B2D: 2D 3E 63 
 18268 00:0B30: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
                    $72,$5F,$6D,$65,$6E
       00:0B34: 5F 72 65 6E 
       00:0B38: 64 65 72 5F 
       00:0B3C: 6D 65 6E 
 18269 00:0B3F: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:0B43: 6E 75 2D 3E 
       00:0B47: 68 65 69 67 
       00:0B4B: 68 74 3A 
 18270 00:0B4E: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:0B52: 65 6E 64 65 
       00:0B56: 72 5F 6D 65 
       00:0B5A: 6E 75 3A 
  Thu Dec  3 2020 22:25                                                Page 338


 18271 00:0B5D: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:0B61: 2D 3E 77 69 
       00:0B65: 64 74 68 3A 
       00:0B69: 00 
 18272 00:0B6A:              	ends
 18273                        ;
 18274                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 18275                        ;{
 18276                        	.line	2887
 18277                        	.line	2888
 18278                        	GUI
 18279                        	xdef	~~k_draw_ui_window
 18280                        	func
 18281                        	.function	2888
 18282                        ~~k_draw_ui_window:
 18283                        	longa	on
 18284                        	longi	on
 18285 03:4B69: 3B           	tsc
 18286 03:4B6A: 38           	sec
 18287 03:4B6B: E9 22 00     	sbc	#L849
 18288 03:4B6E: 1B           	tcs
 18289 03:4B6F: 0B           	phd
 18290 03:4B70: 5B           	tcd
 18291             00000004   cx_0	set	4
 18292             00000006   cy_0	set	6
 18293             00000008   height_0	set	8
 18294             0000000A   width_0	set	10
 18295             0000000C   title_0	set	12
 18296             00000010   color_0	set	16
 18297             00000012   bgcolor_0	set	18
 18298                        	.block	2888
 18299                        ;	FONTMETRIC metric;
 18300                        ;	
 18301                        ;	int i = 0;
 18302                        ;	
 18303                        ;	int borderTitle = 10;
 18304                        ;	int borderWidth = 2;
 18305                        ;
 18306                        ;	int titleOffsetX = cx+2;
 18307                        ;	int titleOffsetY = cy+2;
 18308                        ;	int titleScaler = 0;
 18309                        ;	
 18310                        ;	int clientOffsetX = cx+borderWidth+2;
 18311                        ;	int clientOffsetY = cy+borderTitle+1;
 18312                        ;	
 18313                        ;	int currX = clientOffsetX;
 18314                        ;	int currY = clientOffsetY;
 18315                        ;	
 18316                        ;	int endX = width + cx - borderWidth;
 18317                        ;	
 18318                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
 18319             00000000   metric_1	set	0
 18320             00000004   i_1	set	4
 18321             00000006   borderTitle_1	set	6
 18322             00000008   borderWidth_1	set	8
 18323             0000000A   titleOffsetX_1	set	10
  Thu Dec  3 2020 22:25                                                Page 339


 18324             0000000C   titleOffsetY_1	set	12
 18325             0000000E   titleScaler_1	set	14
 18326             00000010   clientOffsetX_1	set	16
 18327             00000012   clientOffsetY_1	set	18
 18328             00000014   currX_1	set	20
 18329             00000016   currY_1	set	22
 18330             00000018   endX_1	set	24
 18331                        	.sym	metric,0,10,1,32,32
 18332                        	.sym	i,4,5,1,16
 18333                        	.sym	borderTitle,6,5,1,16
 18334                        	.sym	borderWidth,8,5,1,16
 18335                        	.sym	titleOffsetX,10,5,1,16
 18336                        	.sym	titleOffsetY,12,5,1,16
 18337                        	.sym	titleScaler,14,5,1,16
 18338                        	.sym	clientOffsetX,16,5,1,16
 18339                        	.sym	clientOffsetY,18,5,1,16
 18340                        	.sym	currX,20,5,1,16
 18341                        	.sym	currY,22,5,1,16
 18342                        	.sym	endX,24,5,1,16
 18343                        	.sym	cx,4,5,6,16
 18344                        	.sym	cy,6,5,6,16
 18345                        	.sym	height,8,5,6,16
 18346                        	.sym	width,10,5,6,16
 18347                        	.sym	title,12,142,6,32
 18348                        	.sym	color,16,5,6,16
 18349                        	.sym	bgcolor,18,5,6,16
 18350 03:4B71: 64 0D        	stz	<L850+i_1
 18351 03:4B73: A9 0A 00     	lda	#$a
 18352 03:4B76: 85 0F        	sta	<L850+borderTitle_1
 18353 03:4B78: A9 02 00     	lda	#$2
 18354 03:4B7B: 85 11        	sta	<L850+borderWidth_1
 18355 03:4B7D: 18           	clc
 18356 03:4B7E: A9 02 00     	lda	#$2
 18357 03:4B81: 65 26        	adc	<L849+cx_0
 18358 03:4B83: 85 13        	sta	<L850+titleOffsetX_1
 18359 03:4B85: 18           	clc
 18360 03:4B86: A9 02 00     	lda	#$2
 18361 03:4B89: 65 28        	adc	<L849+cy_0
 18362 03:4B8B: 85 15        	sta	<L850+titleOffsetY_1
 18363 03:4B8D: 64 17        	stz	<L850+titleScaler_1
 18364 03:4B8F: 18           	clc
 18365 03:4B90: A5 26        	lda	<L849+cx_0
 18366 03:4B92: 65 11        	adc	<L850+borderWidth_1
 18367 03:4B94: 85 01        	sta	<R0
 18368 03:4B96: 18           	clc
 18369 03:4B97: A9 02 00     	lda	#$2
 18370 03:4B9A: 65 01        	adc	<R0
 18371 03:4B9C: 85 19        	sta	<L850+clientOffsetX_1
 18372 03:4B9E: 18           	clc
 18373 03:4B9F: A5 28        	lda	<L849+cy_0
 18374 03:4BA1: 65 0F        	adc	<L850+borderTitle_1
 18375 03:4BA3: 85 01        	sta	<R0
 18376 03:4BA5: A5 01        	lda	<R0
 18377 03:4BA7: 1A           	ina
 18378 03:4BA8: 85 1B        	sta	<L850+clientOffsetY_1
 18379 03:4BAA: A5 19        	lda	<L850+clientOffsetX_1
 18380 03:4BAC: 85 1D        	sta	<L850+currX_1
 18381 03:4BAE: A5 1B        	lda	<L850+clientOffsetY_1
  Thu Dec  3 2020 22:25                                                Page 340


 18382 03:4BB0: 85 1F        	sta	<L850+currY_1
 18383 03:4BB2: 18           	clc
 18384 03:4BB3: A5 2C        	lda	<L849+width_0
 18385 03:4BB5: 65 26        	adc	<L849+cx_0
 18386 03:4BB7: 85 01        	sta	<R0
 18387 03:4BB9: 38           	sec
 18388 03:4BBA: A5 01        	lda	<R0
 18389 03:4BBC: E5 11        	sbc	<L850+borderWidth_1
 18390 03:4BBE: 85 21        	sta	<L850+endX_1
 18391                        	.line	2908
 18392 03:4BC0: D4 32        	pei	<L849+color_0
 18393 03:4BC2: D4 2C        	pei	<L849+width_0
 18394 03:4BC4: D4 2A        	pei	<L849+height_0
 18395 03:4BC6: D4 28        	pei	<L849+cy_0
 18396 03:4BC8: D4 26        	pei	<L849+cx_0
 18397 03:4BCA: 22 E2 37 03  	jsl	~~k_draw_filled_rect
 18398                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 18399                        	.line	2909
 18400                        ;	                   height - borderTitle - border
                    Width,
 18401                        ;					   width - borde
                    rWidth - borderWidth,
 18402                        ;					   bgcolor);
 18403 03:4BCE: D4 34        	pei	<L849+bgcolor_0
 18404 03:4BD0: 38           	sec
 18405 03:4BD1: A5 2C        	lda	<L849+width_0
 18406 03:4BD3: E5 11        	sbc	<L850+borderWidth_1
 18407 03:4BD5: 85 01        	sta	<R0
 18408 03:4BD7: 38           	sec
 18409 03:4BD8: A5 01        	lda	<R0
 18410 03:4BDA: E5 11        	sbc	<L850+borderWidth_1
 18411 03:4BDC: 48           	pha
 18412 03:4BDD: 38           	sec
 18413 03:4BDE: A5 2A        	lda	<L849+height_0
 18414 03:4BE0: E5 0F        	sbc	<L850+borderTitle_1
 18415 03:4BE2: 85 01        	sta	<R0
 18416 03:4BE4: 38           	sec
 18417 03:4BE5: A5 01        	lda	<R0
 18418 03:4BE7: E5 11        	sbc	<L850+borderWidth_1
 18419 03:4BE9: 48           	pha
 18420 03:4BEA: 18           	clc
 18421 03:4BEB: A5 28        	lda	<L849+cy_0
 18422 03:4BED: 65 0F        	adc	<L850+borderTitle_1
 18423 03:4BEF: 48           	pha
 18424 03:4BF0: 18           	clc
 18425 03:4BF1: A5 26        	lda	<L849+cx_0
 18426 03:4BF3: 65 11        	adc	<L850+borderWidth_1
 18427 03:4BF5: 48           	pha
 18428 03:4BF6: 22 E2 37 03  	jsl	~~k_draw_filled_rect
 18429                        ;	
 18430                        ;	k_get_font_metrics(&metric);
 18431                        	.line	2914
 18432 03:4BFA: F4 00 00     	pea	#0
 18433 03:4BFD: 18           	clc
 18434 03:4BFE: 7B           	tdc
 18435 03:4BFF: 69 09 00     	adc	#<L850+metric_1
 18436 03:4C02: 48           	pha
  Thu Dec  3 2020 22:25                                                Page 341


 18437 03:4C03: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 18438                        ;	
 18439                        ;	
 18440                        ;	title = strupr(title);
 18441                        	.line	2917
 18442 03:4C07: D4 30        	pei	<L849+title_0+2
 18443 03:4C09: D4 2E        	pei	<L849+title_0
 18444 03:4C0B: 22 xx xx xx  	jsl	~~strupr
 18445 03:4C0F: 85 2E        	sta	<L849+title_0
 18446 03:4C11: 86 30        	stx	<L849+title_0+2
 18447                        ;	
 18448                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 18449                        	.line	2919
 18450 03:4C13: F4 0E 00     	pea	#<$e
 18451 03:4C16: D4 15        	pei	<L850+titleOffsetY_1
 18452 03:4C18: D4 13        	pei	<L850+titleOffsetX_1
 18453 03:4C1A: F4 05 00     	pea	#<$5
 18454 03:4C1D: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18455 03:4C21: 85 01        	sta	<R0
 18456 03:4C23: 18           	clc
 18457 03:4C24: A5 01        	lda	<R0
 18458 03:4C26: 65 13        	adc	<L850+titleOffsetX_1
 18459 03:4C28: 85 13        	sta	<L850+titleOffsetX_1
 18460                        ;	
 18461                        ;	titleScaler = (int)(width / metric.width - 4);
 18462                        	.line	2921
 18463 03:4C2A: A5 2C        	lda	<L849+width_0
 18464 03:4C2C: A6 09        	ldx	<L850+metric_1
 18465                        	xref	~~~div
 18466 03:4C2E: 22 xx xx xx  	jsl	~~~div
 18467 03:4C32: 85 01        	sta	<R0
 18468 03:4C34: 18           	clc
 18469 03:4C35: A9 FC FF     	lda	#$fffc
 18470 03:4C38: 65 01        	adc	<R0
 18471 03:4C3A: 85 17        	sta	<L850+titleScaler_1
 18472                        ;	for(i=0;i<titleScaler;i++)
 18473                        	.line	2922
 18474 03:4C3C: 64 0D        	stz	<L850+i_1
 18475 03:4C3E: 82 19 00     	brl	L10359
 18476                        L10358:
 18477                        ;	{
 18478                        	.line	2923
 18479                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 18480                        	.line	2924
 18481 03:4C41: F4 0E 00     	pea	#<$e
 18482 03:4C44: D4 15        	pei	<L850+titleOffsetY_1
 18483 03:4C46: D4 13        	pei	<L850+titleOffsetX_1
 18484 03:4C48: F4 01 00     	pea	#<$1
 18485 03:4C4B: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18486 03:4C4F: 85 01        	sta	<R0
 18487 03:4C51: 18           	clc
 18488 03:4C52: A5 01        	lda	<R0
 18489 03:4C54: 65 13        	adc	<L850+titleOffsetX_1
 18490 03:4C56: 85 13        	sta	<L850+titleOffsetX_1
 18491                        ;	}
 18492                        	.line	2925
  Thu Dec  3 2020 22:25                                                Page 342


 18493                        L10356:
 18494 03:4C58: E6 0D        	inc	<L850+i_1
 18495                        L10359:
 18496 03:4C5A: 38           	sec
 18497 03:4C5B: A5 0D        	lda	<L850+i_1
 18498 03:4C5D: E5 17        	sbc	<L850+titleScaler_1
 18499 03:4C5F: 70 03        	bvs	L852
 18500 03:4C61: 49 00 80     	eor	#$8000
 18501                        L852:
 18502 03:4C64: 30 03        	bmi	L853
 18503 03:4C66: 82 D8 FF     	brl	L10358
 18504                        L853:
 18505                        L10357:
 18506                        ;	/*
 18507                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 18508                        ;	titleOffsetX+=2;
 18509                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 18510                        ;	*/
 18511                        ;	
 18512                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 18513                        	.line	2932
 18514 03:4C69: F4 0E 00     	pea	#<$e
 18515 03:4C6C: D4 15        	pei	<L850+titleOffsetY_1
 18516 03:4C6E: A5 09        	lda	<L850+metric_1
 18517 03:4C70: 0A           	asl	A
 18518 03:4C71: 85 01        	sta	<R0
 18519 03:4C73: 18           	clc
 18520 03:4C74: A9 02 00     	lda	#$2
 18521 03:4C77: 65 01        	adc	<R0
 18522 03:4C79: 85 05        	sta	<R1
 18523 03:4C7B: 38           	sec
 18524 03:4C7C: A5 21        	lda	<L850+endX_1
 18525 03:4C7E: E5 05        	sbc	<R1
 18526 03:4C80: 48           	pha
 18527 03:4C81: F4 04 00     	pea	#<$4
 18528 03:4C84: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18529                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 18530                        	.line	2933
 18531 03:4C88: F4 0E 00     	pea	#<$e
 18532 03:4C8B: D4 15        	pei	<L850+titleOffsetY_1
 18533 03:4C8D: 38           	sec
 18534 03:4C8E: A5 21        	lda	<L850+endX_1
 18535 03:4C90: E5 09        	sbc	<L850+metric_1
 18536 03:4C92: 48           	pha
 18537 03:4C93: F4 03 00     	pea	#<$3
 18538 03:4C96: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18539                        ;	
 18540                        ;	
 18541                        ;	for(i=0;i<=strlen(title);i++)
 18542                        	.line	2936
 18543 03:4C9A: 64 0D        	stz	<L850+i_1
 18544 03:4C9C: 82 2D 00     	brl	L10363
 18545                        L10362:
 18546                        ;	{
  Thu Dec  3 2020 22:25                                                Page 343


 18547                        	.line	2937
 18548                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 18549                        	.line	2938
 18550 03:4C9F: F4 0F 00     	pea	#<$f
 18551 03:4CA2: D4 15        	pei	<L850+titleOffsetY_1
 18552 03:4CA4: A5 09        	lda	<L850+metric_1
 18553 03:4CA6: A6 0D        	ldx	<L850+i_1
 18554                        	xref	~~~mul
 18555 03:4CA8: 22 xx xx xx  	jsl	~~~mul
 18556 03:4CAC: 85 01        	sta	<R0
 18557 03:4CAE: 18           	clc
 18558 03:4CAF: A5 01        	lda	<R0
 18559 03:4CB1: 65 26        	adc	<L849+cx_0
 18560 03:4CB3: 85 05        	sta	<R1
 18561 03:4CB5: 18           	clc
 18562 03:4CB6: A5 05        	lda	<R1
 18563 03:4CB8: 65 09        	adc	<L850+metric_1
 18564 03:4CBA: 85 01        	sta	<R0
 18565 03:4CBC: 18           	clc
 18566 03:4CBD: A9 02 00     	lda	#$2
 18567 03:4CC0: 65 01        	adc	<R0
 18568 03:4CC2: 48           	pha
 18569 03:4CC3: F4 00 00     	pea	#<$0
 18570 03:4CC6: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18571                        ;	}
 18572                        	.line	2939
 18573                        L10360:
 18574 03:4CCA: E6 0D        	inc	<L850+i_1
 18575                        L10363:
 18576 03:4CCC: D4 30        	pei	<L849+title_0+2
 18577 03:4CCE: D4 2E        	pei	<L849+title_0
 18578 03:4CD0: 22 xx xx xx  	jsl	~~strlen
 18579 03:4CD4: 85 01        	sta	<R0
 18580 03:4CD6: A5 01        	lda	<R0
 18581 03:4CD8: C5 0D        	cmp	<L850+i_1
 18582 03:4CDA: 90 03        	bcc	L854
 18583 03:4CDC: 82 C0 FF     	brl	L10362
 18584                        L854:
 18585                        L10361:
 18586                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 18587                        	.line	2940
 18588 03:4CDF: F4 00 00     	pea	#<$0
 18589 03:4CE2: D4 15        	pei	<L850+titleOffsetY_1
 18590 03:4CE4: 18           	clc
 18591 03:4CE5: A5 26        	lda	<L849+cx_0
 18592 03:4CE7: 65 09        	adc	<L850+metric_1
 18593 03:4CE9: 85 01        	sta	<R0
 18594 03:4CEB: 18           	clc
 18595 03:4CEC: A9 02 00     	lda	#$2
 18596 03:4CEF: 65 01        	adc	<R0
 18597 03:4CF1: 48           	pha
 18598 03:4CF2: D4 30        	pei	<L849+title_0+2
 18599 03:4CF4: D4 2E        	pei	<L849+title_0
 18600 03:4CF6: 22 62 1A 03  	jsl	~~k_draw_text_point
 18601                        ;	
 18602                        ;	/*
  Thu Dec  3 2020 22:25                                                Page 344


 18603                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 18604                        ;	titleOffsetX+=metric.width;
 18605                        ;	
 18606                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 18607                        ;	titleOffsetX+=metric.width;
 18608                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 18609                        ;	titleOffsetX+=metric.width;
 18610                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 18611                        ;	titleOffsetX+=metric.width;
 18612                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 18613                        ;	*/
 18614                        ;	
 18615                        ;	k_draw_text_point("READY.",currX,currY,15);
 18616                        	.line	2955
 18617 03:4CFA: F4 0F 00     	pea	#<$f
 18618 03:4CFD: D4 1F        	pei	<L850+currY_1
 18619 03:4CFF: D4 1D        	pei	<L850+currX_1
 18620 03:4D01: F4 xx xx     	pea	#^L848
 18621 03:4D04: F4 xx xx     	pea	#<L848
 18622 03:4D07: 22 62 1A 03  	jsl	~~k_draw_text_point
 18623                        ;	currY+=metric.height;	
 18624                        	.line	2956
 18625 03:4D0B: 18           	clc
 18626 03:4D0C: A5 1F        	lda	<L850+currY_1
 18627 03:4D0E: 65 0B        	adc	<L850+metric_1+2
 18628 03:4D10: 85 1F        	sta	<L850+currY_1
 18629                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
                    rrX,currY,15);
 18630                        	.line	2957
 18631 03:4D12: F4 0F 00     	pea	#<$f
 18632 03:4D15: D4 1F        	pei	<L850+currY_1
 18633 03:4D17: D4 1D        	pei	<L850+currX_1
 18634 03:4D19: F4 xx xx     	pea	#^L848+7
 18635 03:4D1C: F4 xx xx     	pea	#<L848+7
 18636 03:4D1F: 22 62 1A 03  	jsl	~~k_draw_text_point
 18637                        ;	currY+=metric.height;
 18638                        	.line	2958
 18639 03:4D23: 18           	clc
 18640 03:4D24: A5 1F        	lda	<L850+currY_1
 18641 03:4D26: 65 0B        	adc	<L850+metric_1+2
 18642 03:4D28: 85 1F        	sta	<L850+currY_1
 18643                        ;	k_draw_text_point("RUN",currX,currY,15);
 18644                        	.line	2959
 18645 03:4D2A: F4 0F 00     	pea	#<$f
 18646 03:4D2D: D4 1F        	pei	<L850+currY_1
 18647 03:4D2F: D4 1D        	pei	<L850+currX_1
 18648 03:4D31: F4 xx xx     	pea	#^L848+31
 18649 03:4D34: F4 xx xx     	pea	#<L848+31
 18650 03:4D37: 22 62 1A 03  	jsl	~~k_draw_text_point
 18651                        ;	currY+=metric.height;
 18652                        	.line	2960
 18653 03:4D3B: 18           	clc
 18654 03:4D3C: A5 1F        	lda	<L850+currY_1
  Thu Dec  3 2020 22:25                                                Page 345


 18655 03:4D3E: 65 0B        	adc	<L850+metric_1+2
 18656 03:4D40: 85 1F        	sta	<L850+currY_1
 18657                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 18658                        	.line	2961
 18659 03:4D42: F4 0F 00     	pea	#<$f
 18660 03:4D45: D4 1F        	pei	<L850+currY_1
 18661 03:4D47: D4 1D        	pei	<L850+currX_1
 18662 03:4D49: F4 xx xx     	pea	#^L848+35
 18663 03:4D4C: F4 xx xx     	pea	#<L848+35
 18664 03:4D4F: 22 62 1A 03  	jsl	~~k_draw_text_point
 18665                        ;}
 18666                        	.line	2962
 18667                        L855:
 18668 03:4D53: A5 24        	lda	<L849+2
 18669 03:4D55: 85 34        	sta	<L849+2+16
 18670 03:4D57: A5 23        	lda	<L849+1
 18671 03:4D59: 85 33        	sta	<L849+1+16
 18672 03:4D5B: 2B           	pld
 18673 03:4D5C: 3B           	tsc
 18674 03:4D5D: 18           	clc
 18675 03:4D5E: 69 32 00     	adc	#L849+16
 18676 03:4D61: 1B           	tcs
 18677 03:4D62: 6B           	rtl
 18678                        	.endblock	2962
 18679             00000022   L849	equ	34
 18680             00000009   L850	equ	9
 18681 03:4D63:              	ends
 18682                        	efunc
 18683                        	.endfunc	2962,9,34
 18684                        	.line	2962
 18685                        	data
 18686                        L848:
 18687 00:0B6A: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:0B6E: 59 2E 00 31 
       00:0B72: 30 20 50 52 
       00:0B76: 49 4E 54 
 18688 00:0B79: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:0B7D: 4C 4C 4F 20 
       00:0B81: 57 4F 52 4C 
       00:0B85: 44 21 22 
 18689 00:0B88: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
                    $20,$57,$4F,$52,$4C
       00:0B8C: 00 48 45 4C 
       00:0B90: 4C 4F 20 57 
       00:0B94: 4F 52 4C 
 18690 00:0B97: 44 21 00     	db	$44,$21,$00
 18691 00:0B9A:              	ends
 18692                        ;
 18693                        ;
 18694                        ;void k_paint_brush_rect(long x,long y,int width,i
                    nt height,BYTE pattern)
 18695                        ;{
 18696                        	.line	2965
 18697                        	.line	2966
 18698                        	GUI
  Thu Dec  3 2020 22:25                                                Page 346


 18699                        	xdef	~~k_paint_brush_rect
 18700                        	func
 18701                        	.function	2966
 18702                        ~~k_paint_brush_rect:
 18703                        	longa	on
 18704                        	longi	on
 18705 03:4D63: 3B           	tsc
 18706 03:4D64: 38           	sec
 18707 03:4D65: E9 19 00     	sbc	#L857
 18708 03:4D68: 1B           	tcs
 18709 03:4D69: 0B           	phd
 18710 03:4D6A: 5B           	tcd
 18711             00000004   x_0	set	4
 18712             00000008   y_0	set	8
 18713             0000000C   width_0	set	12
 18714             0000000E   height_0	set	14
 18715             00000010   pattern_0	set	16
 18716                        	.block	2966
 18717                        ;	ULONG pos = 0L;
 18718                        ;	BOOL odd = FALSE;
 18719                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 18720                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 18721                        ;
 18722                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 18723                        ;
 18724                        ;	for(pos=0;pos<479;pos++)
 18725             00000000   pos_1	set	0
 18726             00000004   odd_1	set	4
 18727             00000005   startLocation_1	set	5
 18728             00000009   endLocation_1	set	9
 18729                        	.sym	pos,0,18,1,32
 18730                        	.sym	odd,4,14,1,8
 18731                        	.sym	startLocation,5,7,1,32
 18732                        	.sym	endLocation,9,7,1,32
 18733                        	.sym	x,4,7,6,32
 18734                        	.sym	y,8,7,6,32
 18735                        	.sym	width,12,5,6,16
 18736                        	.sym	height,14,5,6,16
 18737                        	.sym	pattern,16,14,6,8
 18738 03:4D6B: 64 0D        	stz	<L858+pos_1
 18739 03:4D6D: 64 0F        	stz	<L858+pos_1+2
 18740 03:4D6F: E2 20        	sep	#$20
 18741                        	longa	off
 18742 03:4D71: 64 11        	stz	<L858+odd_1
 18743 03:4D73: C2 20        	rep	#$20
 18744                        	longa	on
 18745 03:4D75: F4 00 00     	pea	#^$280
 18746 03:4D78: F4 80 02     	pea	#<$280
 18747 03:4D7B: D4 23        	pei	<L857+y_0+2
 18748 03:4D7D: D4 21        	pei	<L857+y_0
 18749                        	xref	~~~lmul
 18750 03:4D7F: 22 xx xx xx  	jsl	~~~lmul
 18751 03:4D83: 85 01        	sta	<R0
 18752 03:4D85: 86 03        	stx	<R0+2
 18753 03:4D87: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 347


 18754 03:4D88: A5 01        	lda	<R0
 18755 03:4D8A: 65 1D        	adc	<L857+x_0
 18756 03:4D8C: 85 12        	sta	<L858+startLocation_1
 18757 03:4D8E: A5 03        	lda	<R0+2
 18758 03:4D90: 65 1F        	adc	<L857+x_0+2
 18759 03:4D92: 85 14        	sta	<L858+startLocation_1+2
 18760 03:4D94: A9 FF AF     	lda	#$afff
 18761 03:4D97: 85 16        	sta	<L858+endLocation_1
 18762 03:4D99: A9 04 00     	lda	#$4
 18763 03:4D9C: 85 18        	sta	<L858+endLocation_1+2
 18764                        	.line	2974
 18765 03:4D9E: 64 0D        	stz	<L858+pos_1
 18766 03:4DA0: 64 0F        	stz	<L858+pos_1+2
 18767                        L10366:
 18768                        ;	{
 18769                        	.line	2975
 18770                        ;		if(odd)
 18771                        	.line	2976
 18772                        ;		{
 18773 03:4DA2: A5 11        	lda	<L858+odd_1
 18774 03:4DA4: 29 FF 00     	and	#$ff
 18775 03:4DA7: D0 03        	bne	L860
 18776 03:4DA9: 82 3D 00     	brl	L10367
 18777                        L860:
 18778                        	.line	2977
 18779                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 18780                        	.line	2978
 18781 03:4DAC: F4 50 00     	pea	#<$50
 18782 03:4DAF: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
 18783 03:4DB2: 85 01        	sta	<R0
 18784                        	xref	_BEG_DATA
 18785 03:4DB4: A9 xx xx     	lda	#_BEG_DATA>>16
 18786 03:4DB7: 85 03        	sta	<R0+2
 18787 03:4DB9: D4 03        	pei	<R0+2
 18788 03:4DBB: D4 01        	pei	<R0
 18789 03:4DBD: F4 00 00     	pea	#^$280
 18790 03:4DC0: F4 80 02     	pea	#<$280
 18791 03:4DC3: D4 0F        	pei	<L858+pos_1+2
 18792 03:4DC5: D4 0D        	pei	<L858+pos_1
 18793                        	xref	~~~lmul
 18794 03:4DC7: 22 xx xx xx  	jsl	~~~lmul
 18795 03:4DCB: 85 05        	sta	<R1
 18796 03:4DCD: 86 07        	stx	<R1+2
 18797 03:4DCF: 18           	clc
 18798 03:4DD0: A9 00 00     	lda	#$0
 18799 03:4DD3: 65 05        	adc	<R1
 18800 03:4DD5: 85 09        	sta	<R2
 18801 03:4DD7: A9 B0 00     	lda	#$b0
 18802 03:4DDA: 65 07        	adc	<R1+2
 18803 03:4DDC: 85 0B        	sta	<R2+2
 18804 03:4DDE: D4 0B        	pei	<R2+2
 18805 03:4DE0: D4 09        	pei	<R2
 18806 03:4DE2: 22 xx xx xx  	jsl	~~memcpy
 18807                        ;		}
 18808                        	.line	2979
 18809                        ;		else
 18810 03:4DE6: 82 3A 00     	brl	L10368
  Thu Dec  3 2020 22:25                                                Page 348


 18811                        L10367:
 18812                        ;		{
 18813                        	.line	2981
 18814                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 18815                        	.line	2982
 18816 03:4DE9: F4 50 00     	pea	#<$50
 18817 03:4DEC: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 18818 03:4DEF: 85 01        	sta	<R0
 18819                        	xref	_BEG_DATA
 18820 03:4DF1: A9 xx xx     	lda	#_BEG_DATA>>16
 18821 03:4DF4: 85 03        	sta	<R0+2
 18822 03:4DF6: D4 03        	pei	<R0+2
 18823 03:4DF8: D4 01        	pei	<R0
 18824 03:4DFA: F4 00 00     	pea	#^$280
 18825 03:4DFD: F4 80 02     	pea	#<$280
 18826 03:4E00: D4 0F        	pei	<L858+pos_1+2
 18827 03:4E02: D4 0D        	pei	<L858+pos_1
 18828                        	xref	~~~lmul
 18829 03:4E04: 22 xx xx xx  	jsl	~~~lmul
 18830 03:4E08: 85 05        	sta	<R1
 18831 03:4E0A: 86 07        	stx	<R1+2
 18832 03:4E0C: 18           	clc
 18833 03:4E0D: A9 00 00     	lda	#$0
 18834 03:4E10: 65 05        	adc	<R1
 18835 03:4E12: 85 09        	sta	<R2
 18836 03:4E14: A9 B0 00     	lda	#$b0
 18837 03:4E17: 65 07        	adc	<R1+2
 18838 03:4E19: 85 0B        	sta	<R2+2
 18839 03:4E1B: D4 0B        	pei	<R2+2
 18840 03:4E1D: D4 09        	pei	<R2
 18841 03:4E1F: 22 xx xx xx  	jsl	~~memcpy
 18842                        ;
 18843                        ;		}
 18844                        	.line	2984
 18845                        L10368:
 18846                        ;		odd=!odd;
 18847                        	.line	2985
 18848 03:4E23: 64 01        	stz	<R0
 18849 03:4E25: A5 11        	lda	<L858+odd_1
 18850 03:4E27: 29 FF 00     	and	#$ff
 18851 03:4E2A: F0 03        	beq	L862
 18852 03:4E2C: 82 02 00     	brl	L861
 18853                        L862:
 18854 03:4E2F: E6 01        	inc	<R0
 18855                        L861:
 18856 03:4E31: E2 20        	sep	#$20
 18857                        	longa	off
 18858 03:4E33: A5 01        	lda	<R0
 18859 03:4E35: 85 11        	sta	<L858+odd_1
 18860 03:4E37: C2 20        	rep	#$20
 18861                        	longa	on
 18862                        ;	}
 18863                        	.line	2986
 18864                        L10364:
 18865 03:4E39: E6 0D        	inc	<L858+pos_1
 18866 03:4E3B: D0 02        	bne	L863
 18867 03:4E3D: E6 0F        	inc	<L858+pos_1+2
  Thu Dec  3 2020 22:25                                                Page 349


 18868                        L863:
 18869 03:4E3F: A5 0D        	lda	<L858+pos_1
 18870 03:4E41: C9 DF 01     	cmp	#<$1df
 18871 03:4E44: A5 0F        	lda	<L858+pos_1+2
 18872 03:4E46: E9 00 00     	sbc	#^$1df
 18873 03:4E49: B0 03        	bcs	L864
 18874 03:4E4B: 82 54 FF     	brl	L10366
 18875                        L864:
 18876                        L10365:
 18877                        ;
 18878                        ;
 18879                        ;
 18880                        ;	return;
 18881                        	.line	2990
 18882                        L865:
 18883 03:4E4E: A5 1B        	lda	<L857+2
 18884 03:4E50: 85 29        	sta	<L857+2+14
 18885 03:4E52: A5 1A        	lda	<L857+1
 18886 03:4E54: 85 28        	sta	<L857+1+14
 18887 03:4E56: 2B           	pld
 18888 03:4E57: 3B           	tsc
 18889 03:4E58: 18           	clc
 18890 03:4E59: 69 27 00     	adc	#L857+14
 18891 03:4E5C: 1B           	tcs
 18892 03:4E5D: 6B           	rtl
 18893                        ;}
 18894                        	.line	2991
 18895                        	.endblock	2991
 18896             00000019   L857	equ	25
 18897             0000000D   L858	equ	13
 18898 03:4E5E:              	ends
 18899                        	efunc
 18900                        	.endfunc	2991,13,25
 18901                        	.line	2991
 18902                        ;
 18903                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 18904                        ;{
 18905                        	.line	2993
 18906                        	.line	2994
 18907                        	GUI
 18908                        	xdef	~~k_paint_brush_at_address
 18909                        	func
 18910                        	.function	2994
 18911                        ~~k_paint_brush_at_address:
 18912                        	longa	on
 18913                        	longi	on
 18914 03:4E5E: 3B           	tsc
 18915 03:4E5F: 38           	sec
 18916 03:4E60: E9 0D 00     	sbc	#L866
 18917 03:4E63: 1B           	tcs
 18918 03:4E64: 0B           	phd
 18919 03:4E65: 5B           	tcd
 18920             00000004   pdst_0	set	4
 18921             00000008   width_0	set	8
 18922             0000000A   height_0	set	10
 18923             0000000C   pattern_0	set	12
 18924                        	.block	2994
  Thu Dec  3 2020 22:25                                                Page 350


 18925                        ;	int pos = 0;
 18926                        ;	int spinLock = 0;
 18927                        ;	char status = VDMA_STAT_VDMA_IPS;
 18928                        ;
 18929                        ;
 18930                        ;	while(status == VDMA_STAT_VDMA_IPS)
 18931             00000000   pos_1	set	0
 18932             00000002   spinLock_1	set	2
 18933             00000004   status_1	set	4
 18934                        	.sym	pos,0,5,1,16
 18935                        	.sym	spinLock,2,5,1,16
 18936                        	.sym	status,4,14,1,8
 18937                        	.sym	pdst,4,142,6,32
 18938                        	.sym	width,8,5,6,16
 18939                        	.sym	height,10,5,6,16
 18940                        	.sym	pattern,12,14,6,8
 18941 03:4E66: 64 09        	stz	<L867+pos_1
 18942 03:4E68: 64 0B        	stz	<L867+spinLock_1
 18943 03:4E6A: E2 20        	sep	#$20
 18944                        	longa	off
 18945 03:4E6C: A9 80        	lda	#$80
 18946 03:4E6E: 85 0D        	sta	<L867+status_1
 18947 03:4E70: C2 20        	rep	#$20
 18948                        	longa	on
 18949                        	.line	3000
 18950                        L10369:
 18951 03:4E72: E2 20        	sep	#$20
 18952                        	longa	off
 18953 03:4E74: A5 0D        	lda	<L867+status_1
 18954 03:4E76: C9 80        	cmp	#<$80
 18955 03:4E78: C2 20        	rep	#$20
 18956                        	longa	on
 18957 03:4E7A: F0 03        	beq	L869
 18958 03:4E7C: 82 0F 00     	brl	L10370
 18959                        L869:
 18960                        ;	{
 18961                        	.line	3001
 18962                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 18963                        	.line	3002
 18964 03:4E7F: E2 20        	sep	#$20
 18965                        	longa	off
 18966 03:4E81: AF 01 04 AF  	lda	>11469825
 18967 03:4E85: 29 80        	and	#<$80
 18968 03:4E87: 85 0D        	sta	<L867+status_1
 18969 03:4E89: C2 20        	rep	#$20
 18970                        	longa	on
 18971                        ;	}
 18972                        	.line	3003
 18973 03:4E8B: 82 E4 FF     	brl	L10369
 18974                        L10370:
 18975                        ;
 18976                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_TRF_FILL;
 18977                        	.line	3005
 18978 03:4E8E: E2 20        	sep	#$20
 18979                        	longa	off
 18980 03:4E90: A9 05        	lda	#$5
  Thu Dec  3 2020 22:25                                                Page 351


 18981 03:4E92: 8F 00 04 AF  	sta	>11469824
 18982 03:4E96: C2 20        	rep	#$20
 18983                        	longa	on
 18984                        ;
 18985                        ;	*BM_START_ADDY_L = 0x00;
 18986                        	.line	3007
 18987 03:4E98: E2 20        	sep	#$20
 18988                        	longa	off
 18989 03:4E9A: A9 00        	lda	#$0
 18990 03:4E9C: 8F 41 01 AF  	sta	>11469121
 18991 03:4EA0: C2 20        	rep	#$20
 18992                        	longa	on
 18993                        ;	*BM_START_ADDY_M = 0x00;
 18994                        	.line	3008
 18995 03:4EA2: E2 20        	sep	#$20
 18996                        	longa	off
 18997 03:4EA4: A9 00        	lda	#$0
 18998 03:4EA6: 8F 42 01 AF  	sta	>11469122
 18999 03:4EAA: C2 20        	rep	#$20
 19000                        	longa	on
 19001                        ;	*BM_START_ADDY_H = 0x00;
 19002                        	.line	3009
 19003 03:4EAC: E2 20        	sep	#$20
 19004                        	longa	off
 19005 03:4EAE: A9 00        	lda	#$0
 19006 03:4EB0: 8F 43 01 AF  	sta	>11469123
 19007 03:4EB4: C2 20        	rep	#$20
 19008                        	longa	on
 19009                        ;	*((char FAR*)0xAF1F80) = 0x02;
 19010                        	.line	3010
 19011 03:4EB6: E2 20        	sep	#$20
 19012                        	longa	off
 19013 03:4EB8: A9 02        	lda	#$2
 19014 03:4EBA: 8F 80 1F AF  	sta	>11476864
 19015 03:4EBE: C2 20        	rep	#$20
 19016                        	longa	on
 19017                        ;
 19018                        ;	*BM_X_SIZE_L = 0x80;
 19019                        	.line	3012
 19020 03:4EC0: E2 20        	sep	#$20
 19021                        	longa	off
 19022 03:4EC2: A9 80        	lda	#$80
 19023 03:4EC4: 8F 44 01 AF  	sta	>11469124
 19024 03:4EC8: C2 20        	rep	#$20
 19025                        	longa	on
 19026                        ;	*BM_X_SIZE_H = 0x02;
 19027                        	.line	3013
 19028 03:4ECA: E2 20        	sep	#$20
 19029                        	longa	off
 19030 03:4ECC: A9 02        	lda	#$2
 19031 03:4ECE: 8F 45 01 AF  	sta	>11469125
 19032 03:4ED2: C2 20        	rep	#$20
 19033                        	longa	on
 19034                        ;	*BM_Y_SIZE_L = 0xE0;
 19035                        	.line	3014
 19036 03:4ED4: E2 20        	sep	#$20
 19037                        	longa	off
 19038 03:4ED6: A9 E0        	lda	#$e0
  Thu Dec  3 2020 22:25                                                Page 352


 19039 03:4ED8: 8F 46 01 AF  	sta	>11469126
 19040 03:4EDC: C2 20        	rep	#$20
 19041                        	longa	on
 19042                        ;	*BM_Y_SIZE_H = 0x01;
 19043                        	.line	3015
 19044 03:4EDE: E2 20        	sep	#$20
 19045                        	longa	off
 19046 03:4EE0: A9 01        	lda	#$1
 19047 03:4EE2: 8F 47 01 AF  	sta	>11469127
 19048 03:4EE6: C2 20        	rep	#$20
 19049                        	longa	on
 19050                        ;
 19051                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 19052                        	.line	3017
 19053 03:4EE8: E2 20        	sep	#$20
 19054                        	longa	off
 19055 03:4EEA: A5 15        	lda	<L866+width_0
 19056 03:4EEC: 8F 08 04 AF  	sta	>11469832
 19057 03:4EF0: C2 20        	rep	#$20
 19058                        	longa	on
 19059                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 19060                        	.line	3018
 19061 03:4EF2: A5 15        	lda	<L866+width_0
 19062 03:4EF4: A2 08 00     	ldx	#<$8
 19063                        	xref	~~~asr
 19064 03:4EF7: 22 xx xx xx  	jsl	~~~asr
 19065 03:4EFB: 29 FF 00     	and	#<$ff
 19066 03:4EFE: 85 01        	sta	<R0
 19067 03:4F00: E2 20        	sep	#$20
 19068                        	longa	off
 19069 03:4F02: A5 01        	lda	<R0
 19070 03:4F04: 8F 09 04 AF  	sta	>11469833
 19071 03:4F08: C2 20        	rep	#$20
 19072                        	longa	on
 19073                        ;
 19074                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 19075                        	.line	3020
 19076 03:4F0A: E2 20        	sep	#$20
 19077                        	longa	off
 19078 03:4F0C: A5 17        	lda	<L866+height_0
 19079 03:4F0E: 8F 0A 04 AF  	sta	>11469834
 19080 03:4F12: C2 20        	rep	#$20
 19081                        	longa	on
 19082                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 19083                        	.line	3021
 19084 03:4F14: A5 17        	lda	<L866+height_0
 19085 03:4F16: A2 08 00     	ldx	#<$8
 19086                        	xref	~~~asr
 19087 03:4F19: 22 xx xx xx  	jsl	~~~asr
 19088 03:4F1D: 29 FF 00     	and	#<$ff
 19089 03:4F20: 85 01        	sta	<R0
 19090 03:4F22: E2 20        	sep	#$20
 19091                        	longa	off
 19092 03:4F24: A5 01        	lda	<R0
 19093 03:4F26: 8F 0B 04 AF  	sta	>11469835
 19094 03:4F2A: C2 20        	rep	#$20
 19095                        	longa	on
 19096                        ;
  Thu Dec  3 2020 22:25                                                Page 353


 19097                        ;	*VDMA_DST_STRIDE_L = 0x80;
 19098                        	.line	3023
 19099 03:4F2C: E2 20        	sep	#$20
 19100                        	longa	off
 19101 03:4F2E: A9 80        	lda	#$80
 19102 03:4F30: 8F 0E 04 AF  	sta	>11469838
 19103 03:4F34: C2 20        	rep	#$20
 19104                        	longa	on
 19105                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 19106                        	.line	3024
 19107 03:4F36: E2 20        	sep	#$20
 19108                        	longa	off
 19109 03:4F38: A9 02        	lda	#$2
 19110 03:4F3A: 8F 0F 04 AF  	sta	>11469839
 19111 03:4F3E: C2 20        	rep	#$20
 19112                        	longa	on
 19113                        ;
 19114                        ;
 19115                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 19116                        	.line	3027
 19117 03:4F40: E2 20        	sep	#$20
 19118                        	longa	off
 19119 03:4F42: A5 11        	lda	<L866+pdst_0
 19120 03:4F44: 8F 05 04 AF  	sta	>11469829
 19121 03:4F48: C2 20        	rep	#$20
 19122                        	longa	on
 19123                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 19124                        	.line	3028
 19125 03:4F4A: D4 13        	pei	<L866+pdst_0+2
 19126 03:4F4C: D4 11        	pei	<L866+pdst_0
 19127 03:4F4E: A9 08 00     	lda	#$8
 19128                        	xref	~~~llsr
 19129 03:4F51: 22 xx xx xx  	jsl	~~~llsr
 19130 03:4F55: 85 01        	sta	<R0
 19131 03:4F57: 86 03        	stx	<R0+2
 19132 03:4F59: A5 01        	lda	<R0
 19133 03:4F5B: 29 FF 00     	and	#<$ff
 19134 03:4F5E: 85 05        	sta	<R1
 19135 03:4F60: 64 07        	stz	<R1+2
 19136 03:4F62: E2 20        	sep	#$20
 19137                        	longa	off
 19138 03:4F64: A5 05        	lda	<R1
 19139 03:4F66: 8F 06 04 AF  	sta	>11469830
 19140 03:4F6A: C2 20        	rep	#$20
 19141                        	longa	on
 19142                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 19143                        	.line	3029
 19144 03:4F6C: D4 13        	pei	<L866+pdst_0+2
 19145 03:4F6E: D4 11        	pei	<L866+pdst_0
 19146 03:4F70: A9 10 00     	lda	#$10
 19147                        	xref	~~~llsr
 19148 03:4F73: 22 xx xx xx  	jsl	~~~llsr
 19149 03:4F77: 85 01        	sta	<R0
 19150 03:4F79: 86 03        	stx	<R0+2
 19151 03:4F7B: A5 01        	lda	<R0
 19152 03:4F7D: 29 FF 00     	and	#<$ff
 19153 03:4F80: 85 05        	sta	<R1
 19154 03:4F82: 64 07        	stz	<R1+2
  Thu Dec  3 2020 22:25                                                Page 354


 19155 03:4F84: E2 20        	sep	#$20
 19156                        	longa	off
 19157 03:4F86: A5 05        	lda	<R1
 19158 03:4F88: 8F 07 04 AF  	sta	>11469831
 19159 03:4F8C: C2 20        	rep	#$20
 19160                        	longa	on
 19161                        ;
 19162                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 19163                        	.line	3031
 19164 03:4F8E: E2 20        	sep	#$20
 19165                        	longa	off
 19166 03:4F90: A5 19        	lda	<L866+pattern_0
 19167 03:4F92: 8F 01 04 AF  	sta	>11469825
 19168 03:4F96: C2 20        	rep	#$20
 19169                        	longa	on
 19170                        ;
 19171                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 19172                        	.line	3033
 19173 03:4F98: E2 20        	sep	#$20
 19174                        	longa	off
 19175 03:4F9A: A9 85        	lda	#$85
 19176 03:4F9C: 8F 00 04 AF  	sta	>11469824
 19177 03:4FA0: C2 20        	rep	#$20
 19178                        	longa	on
 19179                        ;
 19180                        ;
 19181                        ;   return ;
 19182                        	.line	3036
 19183                        L870:
 19184 03:4FA2: A5 0F        	lda	<L866+2
 19185 03:4FA4: 85 19        	sta	<L866+2+10
 19186 03:4FA6: A5 0E        	lda	<L866+1
 19187 03:4FA8: 85 18        	sta	<L866+1+10
 19188 03:4FAA: 2B           	pld
 19189 03:4FAB: 3B           	tsc
 19190 03:4FAC: 18           	clc
 19191 03:4FAD: 69 17 00     	adc	#L866+10
 19192 03:4FB0: 1B           	tcs
 19193 03:4FB1: 6B           	rtl
 19194                        ;}
 19195                        	.line	3037
 19196                        	.endblock	3037
 19197             0000000D   L866	equ	13
 19198             00000009   L867	equ	9
 19199 03:4FB2:              	ends
 19200                        	efunc
 19201                        	.endfunc	3037,9,13
 19202                        	.line	3037
 19203                        ;
 19204                        ;void k_vdma_move_rect(long x,long y,int width,int
                     height,int dx,int dy,unsigned char pcolor,UINT page)
 19205                        ;{
 19206                        	.line	3039
 19207                        	.line	3040
 19208                        	GUI
 19209                        	xdef	~~k_vdma_move_rect
 19210                        	func
  Thu Dec  3 2020 22:25                                                Page 355


 19211                        	.function	3040
 19212                        ~~k_vdma_move_rect:
 19213                        	longa	on
 19214                        	longi	on
 19215 03:4FB2: 3B           	tsc
 19216 03:4FB3: 38           	sec
 19217 03:4FB4: E9 0E 00     	sbc	#L871
 19218 03:4FB7: 1B           	tcs
 19219 03:4FB8: 0B           	phd
 19220 03:4FB9: 5B           	tcd
 19221             00000004   x_0	set	4
 19222             00000008   y_0	set	8
 19223             0000000C   width_0	set	12
 19224             0000000E   height_0	set	14
 19225             00000010   dx_0	set	16
 19226             00000012   dy_0	set	18
 19227             00000014   pcolor_0	set	20
 19228             00000016   page_0	set	22
 19229                        	.block	3040
 19230                        ;	int slice = 0;
 19231                        ;
 19232                        ;
 19233                        ;
 19234                        ;
 19235                        ;	if(dx > 0)
 19236             00000000   slice_1	set	0
 19237                        	.sym	slice,0,5,1,16
 19238                        	.sym	x,4,7,6,32
 19239                        	.sym	y,8,7,6,32
 19240                        	.sym	width,12,5,6,16
 19241                        	.sym	height,14,5,6,16
 19242                        	.sym	dx,16,5,6,16
 19243                        	.sym	dy,18,5,6,16
 19244                        	.sym	pcolor,20,14,6,8
 19245                        	.sym	page,22,16,6,16
 19246 03:4FBA: 64 0D        	stz	<L872+slice_1
 19247                        	.line	3046
 19248                        ;	{
 19249 03:4FBC: 38           	sec
 19250 03:4FBD: A9 00 00     	lda	#$0
 19251 03:4FC0: E5 1E        	sbc	<L871+dx_0
 19252 03:4FC2: 70 03        	bvs	L874
 19253 03:4FC4: 49 00 80     	eor	#$8000
 19254                        L874:
 19255 03:4FC7: 10 03        	bpl	L875
 19256 03:4FC9: 82 62 00     	brl	L10371
 19257                        L875:
 19258                        	.line	3047
 19259                        ;		slice = dx;
 19260                        	.line	3048
 19261 03:4FCC: A5 1E        	lda	<L871+dx_0
 19262 03:4FCE: 85 0D        	sta	<L872+slice_1
 19263                        ;		k_vdma_fill_rect_ex(x+width,y,slice,heig
                    ht,pcolor,page);
 19264                        	.line	3049
 19265 03:4FD0: D4 24        	pei	<L871+page_0
 19266 03:4FD2: D4 22        	pei	<L871+pcolor_0
 19267 03:4FD4: D4 1C        	pei	<L871+height_0
  Thu Dec  3 2020 22:25                                                Page 356


 19268 03:4FD6: D4 0D        	pei	<L872+slice_1
 19269 03:4FD8: D4 18        	pei	<L871+y_0+2
 19270 03:4FDA: D4 16        	pei	<L871+y_0
 19271 03:4FDC: A0 00 00     	ldy	#$0
 19272 03:4FDF: A5 1A        	lda	<L871+width_0
 19273 03:4FE1: 10 01        	bpl	L876
 19274 03:4FE3: 88           	dey
 19275                        L876:
 19276 03:4FE4: 85 01        	sta	<R0
 19277 03:4FE6: 84 03        	sty	<R0+2
 19278 03:4FE8: 18           	clc
 19279 03:4FE9: A5 01        	lda	<R0
 19280 03:4FEB: 65 12        	adc	<L871+x_0
 19281 03:4FED: 85 05        	sta	<R1
 19282 03:4FEF: A5 03        	lda	<R0+2
 19283 03:4FF1: 65 14        	adc	<L871+x_0+2
 19284 03:4FF3: 85 07        	sta	<R1+2
 19285 03:4FF5: D4 07        	pei	<R1+2
 19286 03:4FF7: D4 05        	pei	<R1
 19287 03:4FF9: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 19288                        ;		k_vdma_fill_rect_ex(x-dx,y,slice,height,
                    FILLCOLOR_TRANSPARENT,page);
 19289                        	.line	3050
 19290 03:4FFD: D4 24        	pei	<L871+page_0
 19291 03:4FFF: F4 00 00     	pea	#<$0
 19292 03:5002: D4 1C        	pei	<L871+height_0
 19293 03:5004: D4 0D        	pei	<L872+slice_1
 19294 03:5006: D4 18        	pei	<L871+y_0+2
 19295 03:5008: D4 16        	pei	<L871+y_0
 19296 03:500A: A0 00 00     	ldy	#$0
 19297 03:500D: A5 1E        	lda	<L871+dx_0
 19298 03:500F: 10 01        	bpl	L877
 19299 03:5011: 88           	dey
 19300                        L877:
 19301 03:5012: 85 01        	sta	<R0
 19302 03:5014: 84 03        	sty	<R0+2
 19303 03:5016: 38           	sec
 19304 03:5017: A5 12        	lda	<L871+x_0
 19305 03:5019: E5 01        	sbc	<R0
 19306 03:501B: 85 05        	sta	<R1
 19307 03:501D: A5 14        	lda	<L871+x_0+2
 19308 03:501F: E5 03        	sbc	<R0+2
 19309 03:5021: 85 07        	sta	<R1+2
 19310 03:5023: D4 07        	pei	<R1+2
 19311 03:5025: D4 05        	pei	<R1
 19312 03:5027: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 19313                        ;	}
 19314                        	.line	3051
 19315                        ;	else if (dx < 0)
 19316 03:502B: 82 83 00     	brl	L10372
 19317                        L10371:
 19318                        	.line	3052
 19319                        ;	{
 19320 03:502E: A5 1E        	lda	<L871+dx_0
 19321 03:5030: 30 03        	bmi	L878
 19322 03:5032: 82 7C 00     	brl	L10373
 19323                        L878:
 19324                        	.line	3053
  Thu Dec  3 2020 22:25                                                Page 357


 19325                        ;		slice = (-1*dx);
 19326                        	.line	3054
 19327 03:5035: 38           	sec
 19328 03:5036: A9 00 00     	lda	#$0
 19329 03:5039: E5 1E        	sbc	<L871+dx_0
 19330 03:503B: 85 0D        	sta	<L872+slice_1
 19331                        ;		k_vdma_fill_rect_ex(x+dx,y,slice,height,
                    pcolor,page);
 19332                        	.line	3055
 19333 03:503D: D4 24        	pei	<L871+page_0
 19334 03:503F: D4 22        	pei	<L871+pcolor_0
 19335 03:5041: D4 1C        	pei	<L871+height_0
 19336 03:5043: D4 0D        	pei	<L872+slice_1
 19337 03:5045: D4 18        	pei	<L871+y_0+2
 19338 03:5047: D4 16        	pei	<L871+y_0
 19339 03:5049: A0 00 00     	ldy	#$0
 19340 03:504C: A5 1E        	lda	<L871+dx_0
 19341 03:504E: 10 01        	bpl	L879
 19342 03:5050: 88           	dey
 19343                        L879:
 19344 03:5051: 85 01        	sta	<R0
 19345 03:5053: 84 03        	sty	<R0+2
 19346 03:5055: 18           	clc
 19347 03:5056: A5 01        	lda	<R0
 19348 03:5058: 65 12        	adc	<L871+x_0
 19349 03:505A: 85 05        	sta	<R1
 19350 03:505C: A5 03        	lda	<R0+2
 19351 03:505E: 65 14        	adc	<L871+x_0+2
 19352 03:5060: 85 07        	sta	<R1+2
 19353 03:5062: D4 07        	pei	<R1+2
 19354 03:5064: D4 05        	pei	<R1
 19355 03:5066: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 19356                        ;		k_vdma_fill_rect_ex(x+width-slice,y,slic
                    e,height,FILLCOLOR_TRANSPARENT,page);
 19357                        	.line	3056
 19358 03:506A: D4 24        	pei	<L871+page_0
 19359 03:506C: F4 00 00     	pea	#<$0
 19360 03:506F: D4 1C        	pei	<L871+height_0
 19361 03:5071: D4 0D        	pei	<L872+slice_1
 19362 03:5073: D4 18        	pei	<L871+y_0+2
 19363 03:5075: D4 16        	pei	<L871+y_0
 19364 03:5077: A0 00 00     	ldy	#$0
 19365 03:507A: A5 0D        	lda	<L872+slice_1
 19366 03:507C: 10 01        	bpl	L880
 19367 03:507E: 88           	dey
 19368                        L880:
 19369 03:507F: 85 01        	sta	<R0
 19370 03:5081: 84 03        	sty	<R0+2
 19371 03:5083: A0 00 00     	ldy	#$0
 19372 03:5086: A5 1A        	lda	<L871+width_0
 19373 03:5088: 10 01        	bpl	L881
 19374 03:508A: 88           	dey
 19375                        L881:
 19376 03:508B: 85 05        	sta	<R1
 19377 03:508D: 84 07        	sty	<R1+2
 19378 03:508F: 18           	clc
 19379 03:5090: A5 05        	lda	<R1
 19380 03:5092: 65 12        	adc	<L871+x_0
  Thu Dec  3 2020 22:25                                                Page 358


 19381 03:5094: 85 09        	sta	<R2
 19382 03:5096: A5 07        	lda	<R1+2
 19383 03:5098: 65 14        	adc	<L871+x_0+2
 19384 03:509A: 85 0B        	sta	<R2+2
 19385 03:509C: 38           	sec
 19386 03:509D: A5 09        	lda	<R2
 19387 03:509F: E5 01        	sbc	<R0
 19388 03:50A1: 85 05        	sta	<R1
 19389 03:50A3: A5 0B        	lda	<R2+2
 19390 03:50A5: E5 03        	sbc	<R0+2
 19391 03:50A7: 85 07        	sta	<R1+2
 19392 03:50A9: D4 07        	pei	<R1+2
 19393 03:50AB: D4 05        	pei	<R1
 19394 03:50AD: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 19395                        ;	}
 19396                        	.line	3057
 19397                        ;}
 19398                        L10373:
 19399                        L10372:
 19400                        	.line	3058
 19401                        L882:
 19402 03:50B1: A5 10        	lda	<L871+2
 19403 03:50B3: 85 24        	sta	<L871+2+20
 19404 03:50B5: A5 0F        	lda	<L871+1
 19405 03:50B7: 85 23        	sta	<L871+1+20
 19406 03:50B9: 2B           	pld
 19407 03:50BA: 3B           	tsc
 19408 03:50BB: 18           	clc
 19409 03:50BC: 69 22 00     	adc	#L871+20
 19410 03:50BF: 1B           	tcs
 19411 03:50C0: 6B           	rtl
 19412                        	.endblock	3058
 19413             0000000E   L871	equ	14
 19414             0000000D   L872	equ	13
 19415 03:50C1:              	ends
 19416                        	efunc
 19417                        	.endfunc	3058,13,14
 19418                        	.line	3058
 19419                        ;
 19420                        ;void k_vdma_fill_rect_ex(long x,long y,int width,
                    int height,unsigned char pcolor,UINT page)
 19421                        ;{
 19422                        	.line	3060
 19423                        	.line	3061
 19424                        	GUI
 19425                        	xdef	~~k_vdma_fill_rect_ex
 19426                        	func
 19427                        	.function	3061
 19428                        ~~k_vdma_fill_rect_ex:
 19429                        	longa	on
 19430                        	longi	on
 19431 03:50C1: 3B           	tsc
 19432 03:50C2: 38           	sec
 19433 03:50C3: E9 08 00     	sbc	#L883
 19434 03:50C6: 1B           	tcs
 19435 03:50C7: 0B           	phd
 19436 03:50C8: 5B           	tcd
 19437             00000004   x_0	set	4
  Thu Dec  3 2020 22:25                                                Page 359


 19438             00000008   y_0	set	8
 19439             0000000C   width_0	set	12
 19440             0000000E   height_0	set	14
 19441             00000010   pcolor_0	set	16
 19442             00000012   page_0	set	18
 19443                        	.block	3061
 19444                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 19445                        ;
 19446                        ;	k_debug_integer("k_vdma_fill_rect:",page);
 19447             00000000   pixelLocation_1	set	0
 19448                        	.sym	pixelLocation,0,7,1,32
 19449                        	.sym	x,4,7,6,32
 19450                        	.sym	y,8,7,6,32
 19451                        	.sym	width,12,5,6,16
 19452                        	.sym	height,14,5,6,16
 19453                        	.sym	pcolor,16,14,6,8
 19454                        	.sym	page,18,16,6,16
 19455 03:50C9: F4 00 00     	pea	#^$280
 19456 03:50CC: F4 80 02     	pea	#<$280
 19457 03:50CF: D4 12        	pei	<L883+y_0+2
 19458 03:50D1: D4 10        	pei	<L883+y_0
 19459                        	xref	~~~lmul
 19460 03:50D3: 22 xx xx xx  	jsl	~~~lmul
 19461 03:50D7: 85 01        	sta	<R0
 19462 03:50D9: 86 03        	stx	<R0+2
 19463 03:50DB: 18           	clc
 19464 03:50DC: A5 01        	lda	<R0
 19465 03:50DE: 65 0C        	adc	<L883+x_0
 19466 03:50E0: 85 05        	sta	<L884+pixelLocation_1
 19467 03:50E2: A5 03        	lda	<R0+2
 19468 03:50E4: 65 0E        	adc	<L883+x_0+2
 19469 03:50E6: 85 07        	sta	<L884+pixelLocation_1+2
 19470                        	.line	3064
 19471 03:50E8: D4 1A        	pei	<L883+page_0
 19472 03:50EA: F4 xx xx     	pea	#^L856
 19473 03:50ED: F4 xx xx     	pea	#<L856
 19474 03:50F0: 22 xx xx xx  	jsl	~~k_debug_integer
 19475                        ;
 19476                        ;	k_vdma_fill_address_ex((char FAR * )pixelLocatio
                    n, width, height,pcolor,page);
 19477                        	.line	3066
 19478 03:50F4: D4 1A        	pei	<L883+page_0
 19479 03:50F6: D4 18        	pei	<L883+pcolor_0
 19480 03:50F8: D4 16        	pei	<L883+height_0
 19481 03:50FA: D4 14        	pei	<L883+width_0
 19482 03:50FC: D4 07        	pei	<L884+pixelLocation_1+2
 19483 03:50FE: D4 05        	pei	<L884+pixelLocation_1
 19484 03:5100: 22 77 54 03  	jsl	~~k_vdma_fill_address_ex
 19485                        ;
 19486                        ;	return;
 19487                        	.line	3068
 19488                        L886:
 19489 03:5104: A5 0A        	lda	<L883+2
 19490 03:5106: 85 1A        	sta	<L883+2+16
 19491 03:5108: A5 09        	lda	<L883+1
 19492 03:510A: 85 19        	sta	<L883+1+16
 19493 03:510C: 2B           	pld
  Thu Dec  3 2020 22:25                                                Page 360


 19494 03:510D: 3B           	tsc
 19495 03:510E: 18           	clc
 19496 03:510F: 69 18 00     	adc	#L883+16
 19497 03:5112: 1B           	tcs
 19498 03:5113: 6B           	rtl
 19499                        ;}
 19500                        	.line	3069
 19501                        	.endblock	3069
 19502             00000008   L883	equ	8
 19503             00000005   L884	equ	5
 19504 03:5114:              	ends
 19505                        	efunc
 19506                        	.endfunc	3069,5,8
 19507                        	.line	3069
 19508                        	data
 19509                        L856:
 19510 00:0B9A: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$72,$65,$63
       00:0B9E: 6D 61 5F 66 
       00:0BA2: 69 6C 6C 5F 
       00:0BA6: 72 65 63 
 19511 00:0BA9: 74 3A 00     	db	$74,$3A,$00
 19512 00:0BAC:              	ends
 19513                        ;
 19514                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 19515                        ;{
 19516                        	.line	3071
 19517                        	.line	3072
 19518                        	GUI
 19519                        	xdef	~~k_vdma_fill_rect
 19520                        	func
 19521                        	.function	3072
 19522                        ~~k_vdma_fill_rect:
 19523                        	longa	on
 19524                        	longi	on
 19525 03:5114: 3B           	tsc
 19526 03:5115: 38           	sec
 19527 03:5116: E9 08 00     	sbc	#L888
 19528 03:5119: 1B           	tcs
 19529 03:511A: 0B           	phd
 19530 03:511B: 5B           	tcd
 19531             00000004   x_0	set	4
 19532             00000008   y_0	set	8
 19533             0000000C   width_0	set	12
 19534             0000000E   height_0	set	14
 19535             00000010   pcolor_0	set	16
 19536                        	.block	3072
 19537                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 19538                        ;
 19539                        ;	//k_debug_string("k_vdma_fill_rect V2\r\n");
 19540                        ;
 19541                        ;	//k_vdma_fill_address((char FAR * )pixelLocation
                    , width - 2, height - 1,pcolor);
 19542                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width, height,pcolor);
 19543             00000000   pixelLocation_1	set	0
  Thu Dec  3 2020 22:25                                                Page 361


 19544                        	.sym	pixelLocation,0,7,1,32
 19545                        	.sym	x,4,7,6,32
 19546                        	.sym	y,8,7,6,32
 19547                        	.sym	width,12,5,6,16
 19548                        	.sym	height,14,5,6,16
 19549                        	.sym	pcolor,16,14,6,8
 19550 03:511C: F4 00 00     	pea	#^$280
 19551 03:511F: F4 80 02     	pea	#<$280
 19552 03:5122: D4 12        	pei	<L888+y_0+2
 19553 03:5124: D4 10        	pei	<L888+y_0
 19554                        	xref	~~~lmul
 19555 03:5126: 22 xx xx xx  	jsl	~~~lmul
 19556 03:512A: 85 01        	sta	<R0
 19557 03:512C: 86 03        	stx	<R0+2
 19558 03:512E: 18           	clc
 19559 03:512F: A5 01        	lda	<R0
 19560 03:5131: 65 0C        	adc	<L888+x_0
 19561 03:5133: 85 05        	sta	<L889+pixelLocation_1
 19562 03:5135: A5 03        	lda	<R0+2
 19563 03:5137: 65 0E        	adc	<L888+x_0+2
 19564 03:5139: 85 07        	sta	<L889+pixelLocation_1+2
 19565                        	.line	3078
 19566 03:513B: D4 18        	pei	<L888+pcolor_0
 19567 03:513D: D4 16        	pei	<L888+height_0
 19568 03:513F: D4 14        	pei	<L888+width_0
 19569 03:5141: D4 07        	pei	<L889+pixelLocation_1+2
 19570 03:5143: D4 05        	pei	<L889+pixelLocation_1
 19571 03:5145: 22 2C 53 03  	jsl	~~k_vdma_fill_address
 19572                        ;#ifdef FX_C256_USESHADOW
 19573                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
 19574                        ;#endif
 19575                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 19576                        ;
 19577                        ;	return;
 19578                        	.line	3084
 19579                        L891:
 19580 03:5149: A5 0A        	lda	<L888+2
 19581 03:514B: 85 18        	sta	<L888+2+14
 19582 03:514D: A5 09        	lda	<L888+1
 19583 03:514F: 85 17        	sta	<L888+1+14
 19584 03:5151: 2B           	pld
 19585 03:5152: 3B           	tsc
 19586 03:5153: 18           	clc
 19587 03:5154: 69 16 00     	adc	#L888+14
 19588 03:5157: 1B           	tcs
 19589 03:5158: 6B           	rtl
 19590                        ;}
 19591                        	.line	3085
 19592                        	.endblock	3085
 19593             00000008   L888	equ	8
 19594             00000005   L889	equ	5
 19595 03:5159:              	ends
 19596                        	efunc
 19597                        	.endfunc	3085,5,8
 19598                        	.line	3085
 19599                        ;
 19600                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
  Thu Dec  3 2020 22:25                                                Page 362


 19601                        ;{
 19602                        	.line	3087
 19603                        	.line	3088
 19604                        	GUI
 19605                        	xdef	~~k_vdma_fill_address_old
 19606                        	func
 19607                        	.function	3088
 19608                        ~~k_vdma_fill_address_old:
 19609                        	longa	on
 19610                        	longi	on
 19611 03:5159: 3B           	tsc
 19612 03:515A: 38           	sec
 19613 03:515B: E9 0D 00     	sbc	#L892
 19614 03:515E: 1B           	tcs
 19615 03:515F: 0B           	phd
 19616 03:5160: 5B           	tcd
 19617             00000004   pdst_0	set	4
 19618             00000008   width_0	set	8
 19619             0000000A   height_0	set	10
 19620             0000000C   data_0	set	12
 19621                        	.block	3088
 19622                        ;	int pos = 0;
 19623                        ;	UINT spinLock = 0;
 19624                        ;	char status = VDMA_STAT_VDMA_IPS;
 19625                        ;
 19626                        ;	/*
 19627                        ;	while(status == VDMA_STAT_VDMA_IPS)
 19628                        ;	{
 19629                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 19630                        ;		spinLock++;
 19631                        ;
 19632                        ;		if(spinLock > 32000)
 19633                        ;		{
 19634                        ;			break;
 19635                        ;		}
 19636                        ;	}
 19637                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 19638                        ;	*/
 19639                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 19640             00000000   pos_1	set	0
 19641             00000002   spinLock_1	set	2
 19642             00000004   status_1	set	4
 19643                        	.sym	pos,0,5,1,16
 19644                        	.sym	spinLock,2,16,1,16
 19645                        	.sym	status,4,14,1,8
 19646                        	.sym	pdst,4,142,6,32
 19647                        	.sym	width,8,5,6,16
 19648                        	.sym	height,10,5,6,16
 19649                        	.sym	data,12,14,6,8
 19650 03:5161: 64 09        	stz	<L893+pos_1
 19651 03:5163: 64 0B        	stz	<L893+spinLock_1
 19652 03:5165: E2 20        	sep	#$20
 19653                        	longa	off
 19654 03:5167: A9 80        	lda	#$80
 19655 03:5169: 85 0D        	sta	<L893+status_1
  Thu Dec  3 2020 22:25                                                Page 363


 19656 03:516B: C2 20        	rep	#$20
 19657                        	longa	on
 19658                        	.line	3106
 19659 03:516D: E2 20        	sep	#$20
 19660                        	longa	off
 19661 03:516F: A9 07        	lda	#$7
 19662 03:5171: 8F 00 04 AF  	sta	>11469824
 19663 03:5175: C2 20        	rep	#$20
 19664                        	longa	on
 19665                        ;
 19666                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 19667                        	.line	3108
 19668 03:5177: E2 20        	sep	#$20
 19669                        	longa	off
 19670 03:5179: A5 11        	lda	<L892+pdst_0
 19671 03:517B: 8F 05 04 AF  	sta	>11469829
 19672 03:517F: C2 20        	rep	#$20
 19673                        	longa	on
 19674                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 19675                        	.line	3109
 19676 03:5181: D4 13        	pei	<L892+pdst_0+2
 19677 03:5183: D4 11        	pei	<L892+pdst_0
 19678 03:5185: A9 08 00     	lda	#$8
 19679                        	xref	~~~llsr
 19680 03:5188: 22 xx xx xx  	jsl	~~~llsr
 19681 03:518C: 85 01        	sta	<R0
 19682 03:518E: 86 03        	stx	<R0+2
 19683 03:5190: A5 01        	lda	<R0
 19684 03:5192: 29 FF 00     	and	#<$ff
 19685 03:5195: 85 05        	sta	<R1
 19686 03:5197: 64 07        	stz	<R1+2
 19687 03:5199: E2 20        	sep	#$20
 19688                        	longa	off
 19689 03:519B: A5 05        	lda	<R1
 19690 03:519D: 8F 06 04 AF  	sta	>11469830
 19691 03:51A1: C2 20        	rep	#$20
 19692                        	longa	on
 19693                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 19694                        	.line	3110
 19695 03:51A3: D4 13        	pei	<L892+pdst_0+2
 19696 03:51A5: D4 11        	pei	<L892+pdst_0
 19697 03:51A7: A9 10 00     	lda	#$10
 19698                        	xref	~~~llsr
 19699 03:51AA: 22 xx xx xx  	jsl	~~~llsr
 19700 03:51AE: 85 01        	sta	<R0
 19701 03:51B0: 86 03        	stx	<R0+2
 19702 03:51B2: A5 01        	lda	<R0
 19703 03:51B4: 29 FF 00     	and	#<$ff
 19704 03:51B7: 85 05        	sta	<R1
 19705 03:51B9: 64 07        	stz	<R1+2
 19706 03:51BB: E2 20        	sep	#$20
 19707                        	longa	off
 19708 03:51BD: A5 05        	lda	<R1
 19709 03:51BF: 8F 07 04 AF  	sta	>11469831
 19710 03:51C3: C2 20        	rep	#$20
 19711                        	longa	on
 19712                        ;
 19713                        ;	*BM_START_ADDY_L = 0x00;
  Thu Dec  3 2020 22:25                                                Page 364


 19714                        	.line	3112
 19715 03:51C5: E2 20        	sep	#$20
 19716                        	longa	off
 19717 03:51C7: A9 00        	lda	#$0
 19718 03:51C9: 8F 41 01 AF  	sta	>11469121
 19719 03:51CD: C2 20        	rep	#$20
 19720                        	longa	on
 19721                        ;	*BM_START_ADDY_M = 0x00;
 19722                        	.line	3113
 19723 03:51CF: E2 20        	sep	#$20
 19724                        	longa	off
 19725 03:51D1: A9 00        	lda	#$0
 19726 03:51D3: 8F 42 01 AF  	sta	>11469122
 19727 03:51D7: C2 20        	rep	#$20
 19728                        	longa	on
 19729                        ;	*BM_START_ADDY_H = 0x00;
 19730                        	.line	3114
 19731 03:51D9: E2 20        	sep	#$20
 19732                        	longa	off
 19733 03:51DB: A9 00        	lda	#$0
 19734 03:51DD: 8F 43 01 AF  	sta	>11469123
 19735 03:51E1: C2 20        	rep	#$20
 19736                        	longa	on
 19737                        ;	*((char FAR*)0xAF1F80) = 0x02;
 19738                        	.line	3115
 19739 03:51E3: E2 20        	sep	#$20
 19740                        	longa	off
 19741 03:51E5: A9 02        	lda	#$2
 19742 03:51E7: 8F 80 1F AF  	sta	>11476864
 19743 03:51EB: C2 20        	rep	#$20
 19744                        	longa	on
 19745                        ;	
 19746                        ;	*BM_X_SIZE_L = 0x80;
 19747                        	.line	3117
 19748 03:51ED: E2 20        	sep	#$20
 19749                        	longa	off
 19750 03:51EF: A9 80        	lda	#$80
 19751 03:51F1: 8F 44 01 AF  	sta	>11469124
 19752 03:51F5: C2 20        	rep	#$20
 19753                        	longa	on
 19754                        ;	*BM_X_SIZE_H = 0x02;	
 19755                        	.line	3118
 19756 03:51F7: E2 20        	sep	#$20
 19757                        	longa	off
 19758 03:51F9: A9 02        	lda	#$2
 19759 03:51FB: 8F 45 01 AF  	sta	>11469125
 19760 03:51FF: C2 20        	rep	#$20
 19761                        	longa	on
 19762                        ;	*BM_Y_SIZE_L = 0xE0;
 19763                        	.line	3119
 19764 03:5201: E2 20        	sep	#$20
 19765                        	longa	off
 19766 03:5203: A9 E0        	lda	#$e0
 19767 03:5205: 8F 46 01 AF  	sta	>11469126
 19768 03:5209: C2 20        	rep	#$20
 19769                        	longa	on
 19770                        ;	*BM_Y_SIZE_H = 0x01;
 19771                        	.line	3120
  Thu Dec  3 2020 22:25                                                Page 365


 19772 03:520B: E2 20        	sep	#$20
 19773                        	longa	off
 19774 03:520D: A9 01        	lda	#$1
 19775 03:520F: 8F 47 01 AF  	sta	>11469127
 19776 03:5213: C2 20        	rep	#$20
 19777                        	longa	on
 19778                        ;
 19779                        ;	width+=(width & 0x0001);
 19780                        	.line	3122
 19781 03:5215: A5 15        	lda	<L892+width_0
 19782 03:5217: 29 01 00     	and	#<$1
 19783 03:521A: 85 01        	sta	<R0
 19784 03:521C: 18           	clc
 19785 03:521D: A5 15        	lda	<L892+width_0
 19786 03:521F: 65 01        	adc	<R0
 19787 03:5221: 85 15        	sta	<L892+width_0
 19788                        ;
 19789                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 19790                        	.line	3124
 19791 03:5223: E2 20        	sep	#$20
 19792                        	longa	off
 19793 03:5225: A5 15        	lda	<L892+width_0
 19794 03:5227: 8F 08 04 AF  	sta	>11469832
 19795 03:522B: C2 20        	rep	#$20
 19796                        	longa	on
 19797                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 19798                        	.line	3125
 19799 03:522D: A5 15        	lda	<L892+width_0
 19800 03:522F: A2 08 00     	ldx	#<$8
 19801                        	xref	~~~asr
 19802 03:5232: 22 xx xx xx  	jsl	~~~asr
 19803 03:5236: 29 FF 00     	and	#<$ff
 19804 03:5239: 85 01        	sta	<R0
 19805 03:523B: E2 20        	sep	#$20
 19806                        	longa	off
 19807 03:523D: A5 01        	lda	<R0
 19808 03:523F: 8F 09 04 AF  	sta	>11469833
 19809 03:5243: C2 20        	rep	#$20
 19810                        	longa	on
 19811                        ;
 19812                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 19813                        	.line	3127
 19814 03:5245: E2 20        	sep	#$20
 19815                        	longa	off
 19816 03:5247: A5 17        	lda	<L892+height_0
 19817 03:5249: 8F 0A 04 AF  	sta	>11469834
 19818 03:524D: C2 20        	rep	#$20
 19819                        	longa	on
 19820                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 19821                        	.line	3128
 19822 03:524F: A5 17        	lda	<L892+height_0
 19823 03:5251: A2 08 00     	ldx	#<$8
 19824                        	xref	~~~asr
 19825 03:5254: 22 xx xx xx  	jsl	~~~asr
 19826 03:5258: 29 FF 00     	and	#<$ff
 19827 03:525B: 85 01        	sta	<R0
 19828 03:525D: E2 20        	sep	#$20
 19829                        	longa	off
  Thu Dec  3 2020 22:25                                                Page 366


 19830 03:525F: A5 01        	lda	<R0
 19831 03:5261: 8F 0B 04 AF  	sta	>11469835
 19832 03:5265: C2 20        	rep	#$20
 19833                        	longa	on
 19834                        ;
 19835                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 19836                        	.line	3130
 19837 03:5267: E2 20        	sep	#$20
 19838                        	longa	off
 19839 03:5269: A9 80        	lda	#$80
 19840 03:526B: 8F 0E 04 AF  	sta	>11469838
 19841 03:526F: C2 20        	rep	#$20
 19842                        	longa	on
 19843                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 19844                        	.line	3131
 19845 03:5271: E2 20        	sep	#$20
 19846                        	longa	off
 19847 03:5273: A9 02        	lda	#$2
 19848 03:5275: 8F 0F 04 AF  	sta	>11469839
 19849 03:5279: C2 20        	rep	#$20
 19850                        	longa	on
 19851                        ;	
 19852                        ;
 19853                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 19854                        	.line	3134
 19855 03:527B: E2 20        	sep	#$20
 19856                        	longa	off
 19857 03:527D: A5 11        	lda	<L892+pdst_0
 19858 03:527F: 8F 05 04 AF  	sta	>11469829
 19859 03:5283: C2 20        	rep	#$20
 19860                        	longa	on
 19861                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 19862                        	.line	3135
 19863 03:5285: D4 13        	pei	<L892+pdst_0+2
 19864 03:5287: D4 11        	pei	<L892+pdst_0
 19865 03:5289: A9 08 00     	lda	#$8
 19866                        	xref	~~~llsr
 19867 03:528C: 22 xx xx xx  	jsl	~~~llsr
 19868 03:5290: 85 01        	sta	<R0
 19869 03:5292: 86 03        	stx	<R0+2
 19870 03:5294: A5 01        	lda	<R0
 19871 03:5296: 29 FF 00     	and	#<$ff
 19872 03:5299: 85 05        	sta	<R1
 19873 03:529B: 64 07        	stz	<R1+2
 19874 03:529D: E2 20        	sep	#$20
 19875                        	longa	off
 19876 03:529F: A5 05        	lda	<R1
 19877 03:52A1: 8F 06 04 AF  	sta	>11469830
 19878 03:52A5: C2 20        	rep	#$20
 19879                        	longa	on
 19880                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 19881                        	.line	3136
 19882 03:52A7: D4 13        	pei	<L892+pdst_0+2
 19883 03:52A9: D4 11        	pei	<L892+pdst_0
 19884 03:52AB: A9 10 00     	lda	#$10
 19885                        	xref	~~~llsr
 19886 03:52AE: 22 xx xx xx  	jsl	~~~llsr
 19887 03:52B2: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 367


 19888 03:52B4: 86 03        	stx	<R0+2
 19889 03:52B6: A5 01        	lda	<R0
 19890 03:52B8: 29 FF 00     	and	#<$ff
 19891 03:52BB: 85 05        	sta	<R1
 19892 03:52BD: 64 07        	stz	<R1+2
 19893 03:52BF: E2 20        	sep	#$20
 19894                        	longa	off
 19895 03:52C1: A5 05        	lda	<R1
 19896 03:52C3: 8F 07 04 AF  	sta	>11469831
 19897 03:52C7: C2 20        	rep	#$20
 19898                        	longa	on
 19899                        ;
 19900                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 19901                        	.line	3138
 19902 03:52C9: E2 20        	sep	#$20
 19903                        	longa	off
 19904 03:52CB: A5 19        	lda	<L892+data_0
 19905 03:52CD: 8F 01 04 AF  	sta	>11469825
 19906 03:52D1: C2 20        	rep	#$20
 19907                        	longa	on
 19908                        ;	
 19909                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 19910                        	.line	3140
 19911 03:52D3: E2 20        	sep	#$20
 19912                        	longa	off
 19913 03:52D5: A9 87        	lda	#$87
 19914 03:52D7: 8F 00 04 AF  	sta	>11469824
 19915 03:52DB: C2 20        	rep	#$20
 19916                        	longa	on
 19917                        ;
 19918                        ;
 19919                        ;	status = VDMA_STAT_VDMA_IPS;
 19920                        	.line	3143
 19921 03:52DD: E2 20        	sep	#$20
 19922                        	longa	off
 19923 03:52DF: A9 80        	lda	#$80
 19924 03:52E1: 85 0D        	sta	<L893+status_1
 19925 03:52E3: C2 20        	rep	#$20
 19926                        	longa	on
 19927                        ;	while(status == VDMA_STAT_VDMA_IPS)
 19928                        	.line	3144
 19929                        L10374:
 19930 03:52E5: E2 20        	sep	#$20
 19931                        	longa	off
 19932 03:52E7: A5 0D        	lda	<L893+status_1
 19933 03:52E9: C9 80        	cmp	#<$80
 19934 03:52EB: C2 20        	rep	#$20
 19935                        	longa	on
 19936 03:52ED: F0 03        	beq	L895
 19937 03:52EF: 82 1E 00     	brl	L10375
 19938                        L895:
 19939                        ;	{
 19940                        	.line	3145
 19941                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 19942                        	.line	3146
  Thu Dec  3 2020 22:25                                                Page 368


 19943 03:52F2: E2 20        	sep	#$20
 19944                        	longa	off
 19945 03:52F4: AF 01 04 AF  	lda	>11469825
 19946 03:52F8: 29 80        	and	#<$80
 19947 03:52FA: 85 0D        	sta	<L893+status_1
 19948 03:52FC: C2 20        	rep	#$20
 19949                        	longa	on
 19950                        ;		spinLock++;
 19951                        	.line	3147
 19952 03:52FE: E6 0B        	inc	<L893+spinLock_1
 19953                        ;
 19954                        ;		if(spinLock > 32000)
 19955                        	.line	3149
 19956                        ;		{
 19957 03:5300: A9 00 7D     	lda	#$7d00
 19958 03:5303: C5 0B        	cmp	<L893+spinLock_1
 19959 03:5305: 90 03        	bcc	L896
 19960 03:5307: 82 03 00     	brl	L10376
 19961                        L896:
 19962                        	.line	3150
 19963                        ;			break;
 19964                        	.line	3151
 19965 03:530A: 82 03 00     	brl	L10375
 19966                        ;		}
 19967                        	.line	3152
 19968                        ;	}
 19969                        L10376:
 19970                        	.line	3153
 19971 03:530D: 82 D5 FF     	brl	L10374
 19972                        L10375:
 19973                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 19974                        	.line	3154
 19975 03:5310: D4 0B        	pei	<L893+spinLock_1
 19976 03:5312: F4 xx xx     	pea	#^L887
 19977 03:5315: F4 xx xx     	pea	#<L887
 19978 03:5318: 22 xx xx xx  	jsl	~~k_debug_integer
 19979                        ;
 19980                        ;
 19981                        ;
 19982                        ;	/*
 19983                        ;	while(status == VDMA_STAT_VDMA_IPS)
 19984                        ;	{
 19985                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 19986                        ;	}
 19987                        ;	
 19988                        ;	
 19989                        ;	while(status == VDMA_STAT_VDMA_IPS)
 19990                        ;	{
 19991                        ;		#asm
 19992                        ;		PHA 
 19993                        ;        LDA $AF0401
 19994                        ;        AND #$80
 19995                        ;        CMP #$80
 19996                        ;        STA %%status
 19997                        ;		PLA
 19998                        ;		#endasm
  Thu Dec  3 2020 22:25                                                Page 369


 19999                        ;	}
 20000                        ;	*/
 20001                        ;	
 20002                        ;   //return *VDMA_STATUS_REG;
 20003                        ;   //return VDMA_STATUS_REG[0];
 20004                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 20005                        ;   
 20006                        ;   return ;
 20007                        	.line	3182
 20008                        L897:
 20009 03:531C: A5 0F        	lda	<L892+2
 20010 03:531E: 85 19        	sta	<L892+2+10
 20011 03:5320: A5 0E        	lda	<L892+1
 20012 03:5322: 85 18        	sta	<L892+1+10
 20013 03:5324: 2B           	pld
 20014 03:5325: 3B           	tsc
 20015 03:5326: 18           	clc
 20016 03:5327: 69 17 00     	adc	#L892+10
 20017 03:532A: 1B           	tcs
 20018 03:532B: 6B           	rtl
 20019                        ;}
 20020                        	.line	3183
 20021                        	.endblock	3183
 20022             0000000D   L892	equ	13
 20023             00000009   L893	equ	9
 20024 03:532C:              	ends
 20025                        	efunc
 20026                        	.endfunc	3183,9,13
 20027                        	.line	3183
 20028                        	data
 20029                        L887:
 20030 00:0BAC: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$61,$64,$64
       00:0BB0: 6D 61 5F 66 
       00:0BB4: 69 6C 6C 5F 
       00:0BB8: 61 64 64 
 20031 00:0BBB: 72 65 73 73  	db	$72,$65,$73,$73,$32,$3A,$3A,$73,$70,$69,
                    $6E,$4C,$6F,$63,$6B
       00:0BBF: 32 3A 3A 73 
       00:0BC3: 70 69 6E 4C 
       00:0BC7: 6F 63 6B 
 20032 00:0BCA: 3A 00        	db	$3A,$00
 20033 00:0BCC:              	ends
 20034                        ;
 20035                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 20036                        ;{
 20037                        	.line	3185
 20038                        	.line	3186
 20039                        	GUI
 20040                        	xdef	~~k_vdma_fill_address
 20041                        	func
 20042                        	.function	3186
 20043                        ~~k_vdma_fill_address:
 20044                        	longa	on
 20045                        	longi	on
 20046 03:532C: 3B           	tsc
 20047 03:532D: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 370


 20048 03:532E: E9 0D 00     	sbc	#L899
 20049 03:5331: 1B           	tcs
 20050 03:5332: 0B           	phd
 20051 03:5333: 5B           	tcd
 20052             00000004   pdst_0	set	4
 20053             00000008   width_0	set	8
 20054             0000000A   height_0	set	10
 20055             0000000C   data_0	set	12
 20056                        	.block	3186
 20057                        ;	int pos = 0;
 20058                        ;	UINT spinLock = 0;
 20059                        ;	char status = VDMA_STAT_VDMA_IPS;
 20060                        ;
 20061                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 20062             00000000   pos_1	set	0
 20063             00000002   spinLock_1	set	2
 20064             00000004   status_1	set	4
 20065                        	.sym	pos,0,5,1,16
 20066                        	.sym	spinLock,2,16,1,16
 20067                        	.sym	status,4,14,1,8
 20068                        	.sym	pdst,4,142,6,32
 20069                        	.sym	width,8,5,6,16
 20070                        	.sym	height,10,5,6,16
 20071                        	.sym	data,12,14,6,8
 20072 03:5334: 64 09        	stz	<L900+pos_1
 20073 03:5336: 64 0B        	stz	<L900+spinLock_1
 20074 03:5338: E2 20        	sep	#$20
 20075                        	longa	off
 20076 03:533A: A9 80        	lda	#$80
 20077 03:533C: 85 0D        	sta	<L900+status_1
 20078 03:533E: C2 20        	rep	#$20
 20079                        	longa	on
 20080                        	.line	3191
 20081 03:5340: E2 20        	sep	#$20
 20082                        	longa	off
 20083 03:5342: A9 07        	lda	#$7
 20084 03:5344: 8F 00 04 AF  	sta	>11469824
 20085 03:5348: C2 20        	rep	#$20
 20086                        	longa	on
 20087                        ;
 20088                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 20089                        	.line	3193
 20090 03:534A: E2 20        	sep	#$20
 20091                        	longa	off
 20092 03:534C: A5 19        	lda	<L899+data_0
 20093 03:534E: 8F 01 04 AF  	sta	>11469825
 20094 03:5352: C2 20        	rep	#$20
 20095                        	longa	on
 20096                        ;
 20097                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 20098                        	.line	3195
 20099 03:5354: E2 20        	sep	#$20
 20100                        	longa	off
 20101 03:5356: A5 11        	lda	<L899+pdst_0
 20102 03:5358: 8F 05 04 AF  	sta	>11469829
 20103 03:535C: C2 20        	rep	#$20
 20104                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 371


 20105                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 20106                        	.line	3196
 20107 03:535E: D4 13        	pei	<L899+pdst_0+2
 20108 03:5360: D4 11        	pei	<L899+pdst_0
 20109 03:5362: A9 08 00     	lda	#$8
 20110                        	xref	~~~llsr
 20111 03:5365: 22 xx xx xx  	jsl	~~~llsr
 20112 03:5369: 85 01        	sta	<R0
 20113 03:536B: 86 03        	stx	<R0+2
 20114 03:536D: A5 01        	lda	<R0
 20115 03:536F: 29 FF 00     	and	#<$ff
 20116 03:5372: 85 05        	sta	<R1
 20117 03:5374: 64 07        	stz	<R1+2
 20118 03:5376: E2 20        	sep	#$20
 20119                        	longa	off
 20120 03:5378: A5 05        	lda	<R1
 20121 03:537A: 8F 06 04 AF  	sta	>11469830
 20122 03:537E: C2 20        	rep	#$20
 20123                        	longa	on
 20124                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 20125                        	.line	3197
 20126 03:5380: D4 13        	pei	<L899+pdst_0+2
 20127 03:5382: D4 11        	pei	<L899+pdst_0
 20128 03:5384: A9 10 00     	lda	#$10
 20129                        	xref	~~~llsr
 20130 03:5387: 22 xx xx xx  	jsl	~~~llsr
 20131 03:538B: 85 01        	sta	<R0
 20132 03:538D: 86 03        	stx	<R0+2
 20133 03:538F: A5 01        	lda	<R0
 20134 03:5391: 29 FF 00     	and	#<$ff
 20135 03:5394: 85 05        	sta	<R1
 20136 03:5396: 64 07        	stz	<R1+2
 20137 03:5398: E2 20        	sep	#$20
 20138                        	longa	off
 20139 03:539A: A5 05        	lda	<R1
 20140 03:539C: 8F 07 04 AF  	sta	>11469831
 20141 03:53A0: C2 20        	rep	#$20
 20142                        	longa	on
 20143                        ;
 20144                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 20145                        	.line	3199
 20146 03:53A2: A5 15        	lda	<L899+width_0
 20147 03:53A4: 1A           	ina
 20148 03:53A5: 85 01        	sta	<R0
 20149 03:53A7: E2 20        	sep	#$20
 20150                        	longa	off
 20151 03:53A9: A5 01        	lda	<R0
 20152 03:53AB: 8F 08 04 AF  	sta	>11469832
 20153 03:53AF: C2 20        	rep	#$20
 20154                        	longa	on
 20155                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 20156                        	.line	3200
 20157 03:53B1: A5 15        	lda	<L899+width_0
 20158 03:53B3: 1A           	ina
 20159 03:53B4: A2 08 00     	ldx	#<$8
 20160                        	xref	~~~asr
 20161 03:53B7: 22 xx xx xx  	jsl	~~~asr
 20162 03:53BB: 29 FF 00     	and	#<$ff
  Thu Dec  3 2020 22:25                                                Page 372


 20163 03:53BE: 85 01        	sta	<R0
 20164 03:53C0: E2 20        	sep	#$20
 20165                        	longa	off
 20166 03:53C2: A5 01        	lda	<R0
 20167 03:53C4: 8F 09 04 AF  	sta	>11469833
 20168 03:53C8: C2 20        	rep	#$20
 20169                        	longa	on
 20170                        ;
 20171                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 20172                        	.line	3202
 20173 03:53CA: A5 17        	lda	<L899+height_0
 20174 03:53CC: 1A           	ina
 20175 03:53CD: 85 01        	sta	<R0
 20176 03:53CF: E2 20        	sep	#$20
 20177                        	longa	off
 20178 03:53D1: A5 01        	lda	<R0
 20179 03:53D3: 8F 0A 04 AF  	sta	>11469834
 20180 03:53D7: C2 20        	rep	#$20
 20181                        	longa	on
 20182                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 20183                        	.line	3203
 20184 03:53D9: A5 17        	lda	<L899+height_0
 20185 03:53DB: 1A           	ina
 20186 03:53DC: A2 08 00     	ldx	#<$8
 20187                        	xref	~~~asr
 20188 03:53DF: 22 xx xx xx  	jsl	~~~asr
 20189 03:53E3: 29 FF 00     	and	#<$ff
 20190 03:53E6: 85 01        	sta	<R0
 20191 03:53E8: E2 20        	sep	#$20
 20192                        	longa	off
 20193 03:53EA: A5 01        	lda	<R0
 20194 03:53EC: 8F 0B 04 AF  	sta	>11469835
 20195 03:53F0: C2 20        	rep	#$20
 20196                        	longa	on
 20197                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 20198                        	.line	3204
 20199 03:53F2: E2 20        	sep	#$20
 20200                        	longa	off
 20201 03:53F4: A9 00        	lda	#$0
 20202 03:53F6: 8F 0C 04 AF  	sta	>11469836
 20203 03:53FA: C2 20        	rep	#$20
 20204                        	longa	on
 20205                        ;
 20206                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 20207                        	.line	3206
 20208 03:53FC: E2 20        	sep	#$20
 20209                        	longa	off
 20210 03:53FE: A9 00        	lda	#$0
 20211 03:5400: 8F 0C 04 AF  	sta	>11469836
 20212 03:5404: C2 20        	rep	#$20
 20213                        	longa	on
 20214                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 20215                        	.line	3207
 20216 03:5406: E2 20        	sep	#$20
 20217                        	longa	off
 20218 03:5408: A9 00        	lda	#$0
 20219 03:540A: 8F 0D 04 AF  	sta	>11469837
 20220 03:540E: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 373


 20221                        	longa	on
 20222                        ;
 20223                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 20224                        	.line	3209
 20225 03:5410: E2 20        	sep	#$20
 20226                        	longa	off
 20227 03:5412: A9 80        	lda	#$80
 20228 03:5414: 8F 0E 04 AF  	sta	>11469838
 20229 03:5418: C2 20        	rep	#$20
 20230                        	longa	on
 20231                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 20232                        	.line	3210
 20233 03:541A: E2 20        	sep	#$20
 20234                        	longa	off
 20235 03:541C: A9 02        	lda	#$2
 20236 03:541E: 8F 0F 04 AF  	sta	>11469839
 20237 03:5422: C2 20        	rep	#$20
 20238                        	longa	on
 20239                        ;
 20240                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 20241                        	.line	3212
 20242 03:5424: E2 20        	sep	#$20
 20243                        	longa	off
 20244 03:5426: A9 87        	lda	#$87
 20245 03:5428: 8F 00 04 AF  	sta	>11469824
 20246 03:542C: C2 20        	rep	#$20
 20247                        	longa	on
 20248                        ;
 20249                        ;    asm NOP;
 20250                        	.line	3214
 20251                        	asmstart
 20252 03:542E: EA           	NOP
 20253                        	asmend
 20254                        ;    asm NOP;
 20255                        	.line	3215
 20256                        	asmstart
 20257 03:542F: EA           	NOP
 20258                        	asmend
 20259                        ;    asm NOP;
 20260                        	.line	3216
 20261                        	asmstart
 20262 03:5430: EA           	NOP
 20263                        	asmend
 20264                        ;
 20265                        ;	while(status == VDMA_STAT_VDMA_IPS)
 20266                        	.line	3218
 20267                        L10377:
 20268 03:5431: E2 20        	sep	#$20
 20269                        	longa	off
 20270 03:5433: A5 0D        	lda	<L900+status_1
 20271 03:5435: C9 80        	cmp	#<$80
 20272 03:5437: C2 20        	rep	#$20
 20273                        	longa	on
 20274 03:5439: F0 03        	beq	L902
 20275 03:543B: 82 1E 00     	brl	L10378
 20276                        L902:
 20277                        ;	{
  Thu Dec  3 2020 22:25                                                Page 374


 20278                        	.line	3219
 20279                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 20280                        	.line	3220
 20281 03:543E: E2 20        	sep	#$20
 20282                        	longa	off
 20283 03:5440: AF 01 04 AF  	lda	>11469825
 20284 03:5444: 29 80        	and	#<$80
 20285 03:5446: 85 0D        	sta	<L900+status_1
 20286 03:5448: C2 20        	rep	#$20
 20287                        	longa	on
 20288                        ;		spinLock++;
 20289                        	.line	3221
 20290 03:544A: E6 0B        	inc	<L900+spinLock_1
 20291                        ;
 20292                        ;		if(spinLock > 32000)
 20293                        	.line	3223
 20294                        ;		{
 20295 03:544C: A9 00 7D     	lda	#$7d00
 20296 03:544F: C5 0B        	cmp	<L900+spinLock_1
 20297 03:5451: 90 03        	bcc	L903
 20298 03:5453: 82 03 00     	brl	L10379
 20299                        L903:
 20300                        	.line	3224
 20301                        ;			break;
 20302                        	.line	3225
 20303 03:5456: 82 03 00     	brl	L10378
 20304                        ;		}
 20305                        	.line	3226
 20306                        ;	}
 20307                        L10379:
 20308                        	.line	3227
 20309 03:5459: 82 D5 FF     	brl	L10377
 20310                        L10378:
 20311                        ;
 20312                        ;#ifdef USE_MAX_DEBUG
 20313                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 20314                        ;#endif
 20315                        ;
 20316                        ;	asm NOP;
 20317                        	.line	3233
 20318                        	asmstart
 20319 03:545C: EA           	NOP
 20320                        	asmend
 20321                        ;
 20322                        ;	VDMA_CONTROL_REG[0] = 0;
 20323                        	.line	3235
 20324 03:545D: E2 20        	sep	#$20
 20325                        	longa	off
 20326 03:545F: A9 00        	lda	#$0
 20327 03:5461: 8F 00 04 AF  	sta	>11469824
 20328 03:5465: C2 20        	rep	#$20
 20329                        	longa	on
 20330                        ;
 20331                        ;   return ;
 20332                        	.line	3237
 20333                        L904:
  Thu Dec  3 2020 22:25                                                Page 375


 20334 03:5467: A5 0F        	lda	<L899+2
 20335 03:5469: 85 19        	sta	<L899+2+10
 20336 03:546B: A5 0E        	lda	<L899+1
 20337 03:546D: 85 18        	sta	<L899+1+10
 20338 03:546F: 2B           	pld
 20339 03:5470: 3B           	tsc
 20340 03:5471: 18           	clc
 20341 03:5472: 69 17 00     	adc	#L899+10
 20342 03:5475: 1B           	tcs
 20343 03:5476: 6B           	rtl
 20344                        ;}
 20345                        	.line	3238
 20346                        	.endblock	3238
 20347             0000000D   L899	equ	13
 20348             00000009   L900	equ	9
 20349 03:5477:              	ends
 20350                        	efunc
 20351                        	.endfunc	3238,9,13
 20352                        	.line	3238
 20353                        ;
 20354                        ;void k_vdma_fill_address_ex(char FAR * pdst,int w
                    idth,int height,unsigned char data,UINT page)
 20355                        ;{
 20356                        	.line	3240
 20357                        	.line	3241
 20358                        	GUI
 20359                        	xdef	~~k_vdma_fill_address_ex
 20360                        	func
 20361                        	.function	3241
 20362                        ~~k_vdma_fill_address_ex:
 20363                        	longa	on
 20364                        	longi	on
 20365 03:5477: 3B           	tsc
 20366 03:5478: 38           	sec
 20367 03:5479: E9 0D 00     	sbc	#L905
 20368 03:547C: 1B           	tcs
 20369 03:547D: 0B           	phd
 20370 03:547E: 5B           	tcd
 20371             00000004   pdst_0	set	4
 20372             00000008   width_0	set	8
 20373             0000000A   height_0	set	10
 20374             0000000C   data_0	set	12
 20375             0000000E   page_0	set	14
 20376                        	.block	3241
 20377                        ;	int pos = 0;
 20378                        ;	UINT spinLock = 0;
 20379                        ;	char status = VDMA_STAT_VDMA_IPS;
 20380                        ;
 20381                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 20382             00000000   pos_1	set	0
 20383             00000002   spinLock_1	set	2
 20384             00000004   status_1	set	4
 20385                        	.sym	pos,0,5,1,16
 20386                        	.sym	spinLock,2,16,1,16
 20387                        	.sym	status,4,14,1,8
 20388                        	.sym	pdst,4,142,6,32
 20389                        	.sym	width,8,5,6,16
  Thu Dec  3 2020 22:25                                                Page 376


 20390                        	.sym	height,10,5,6,16
 20391                        	.sym	data,12,14,6,8
 20392                        	.sym	page,14,16,6,16
 20393 03:547F: 64 09        	stz	<L906+pos_1
 20394 03:5481: 64 0B        	stz	<L906+spinLock_1
 20395 03:5483: E2 20        	sep	#$20
 20396                        	longa	off
 20397 03:5485: A9 80        	lda	#$80
 20398 03:5487: 85 0D        	sta	<L906+status_1
 20399 03:5489: C2 20        	rep	#$20
 20400                        	longa	on
 20401                        	.line	3246
 20402 03:548B: E2 20        	sep	#$20
 20403                        	longa	off
 20404 03:548D: A9 07        	lda	#$7
 20405 03:548F: 8F 00 04 AF  	sta	>11469824
 20406 03:5493: C2 20        	rep	#$20
 20407                        	longa	on
 20408                        ;
 20409                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 20410                        	.line	3248
 20411 03:5495: E2 20        	sep	#$20
 20412                        	longa	off
 20413 03:5497: A5 19        	lda	<L905+data_0
 20414 03:5499: 8F 01 04 AF  	sta	>11469825
 20415 03:549D: C2 20        	rep	#$20
 20416                        	longa	on
 20417                        ;
 20418                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 20419                        	.line	3250
 20420 03:549F: E2 20        	sep	#$20
 20421                        	longa	off
 20422 03:54A1: A5 11        	lda	<L905+pdst_0
 20423 03:54A3: 8F 05 04 AF  	sta	>11469829
 20424 03:54A7: C2 20        	rep	#$20
 20425                        	longa	on
 20426                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 20427                        	.line	3251
 20428 03:54A9: D4 13        	pei	<L905+pdst_0+2
 20429 03:54AB: D4 11        	pei	<L905+pdst_0
 20430 03:54AD: A9 08 00     	lda	#$8
 20431                        	xref	~~~llsr
 20432 03:54B0: 22 xx xx xx  	jsl	~~~llsr
 20433 03:54B4: 85 01        	sta	<R0
 20434 03:54B6: 86 03        	stx	<R0+2
 20435 03:54B8: A5 01        	lda	<R0
 20436 03:54BA: 29 FF 00     	and	#<$ff
 20437 03:54BD: 85 05        	sta	<R1
 20438 03:54BF: 64 07        	stz	<R1+2
 20439 03:54C1: E2 20        	sep	#$20
 20440                        	longa	off
 20441 03:54C3: A5 05        	lda	<R1
 20442 03:54C5: 8F 06 04 AF  	sta	>11469830
 20443 03:54C9: C2 20        	rep	#$20
 20444                        	longa	on
 20445                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst)|page;
 20446                        	.line	3252
 20447 03:54CB: D4 13        	pei	<L905+pdst_0+2
  Thu Dec  3 2020 22:25                                                Page 377


 20448 03:54CD: D4 11        	pei	<L905+pdst_0
 20449 03:54CF: A9 10 00     	lda	#$10
 20450                        	xref	~~~llsr
 20451 03:54D2: 22 xx xx xx  	jsl	~~~llsr
 20452 03:54D6: 85 01        	sta	<R0
 20453 03:54D8: 86 03        	stx	<R0+2
 20454 03:54DA: A5 01        	lda	<R0
 20455 03:54DC: 29 FF 00     	and	#<$ff
 20456 03:54DF: 85 05        	sta	<R1
 20457 03:54E1: 64 07        	stz	<R1+2
 20458 03:54E3: E2 20        	sep	#$20
 20459                        	longa	off
 20460 03:54E5: A5 1B        	lda	<L905+page_0
 20461 03:54E7: 05 05        	ora	<R1
 20462 03:54E9: 8F 07 04 AF  	sta	>11469831
 20463 03:54ED: C2 20        	rep	#$20
 20464                        	longa	on
 20465                        ;
 20466                        ;	/*
 20467                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 20468                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 20469                        ;
 20470                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 20471                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 20472                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 20473                        ;	*/
 20474                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 20475                        	.line	3262
 20476 03:54EF: E2 20        	sep	#$20
 20477                        	longa	off
 20478 03:54F1: A5 15        	lda	<L905+width_0
 20479 03:54F3: 8F 08 04 AF  	sta	>11469832
 20480 03:54F7: C2 20        	rep	#$20
 20481                        	longa	on
 20482                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 20483                        	.line	3263
 20484 03:54F9: A5 15        	lda	<L905+width_0
 20485 03:54FB: A2 08 00     	ldx	#<$8
 20486                        	xref	~~~asr
 20487 03:54FE: 22 xx xx xx  	jsl	~~~asr
 20488 03:5502: 29 FF 00     	and	#<$ff
 20489 03:5505: 85 01        	sta	<R0
 20490 03:5507: E2 20        	sep	#$20
 20491                        	longa	off
 20492 03:5509: A5 01        	lda	<R0
 20493 03:550B: 8F 09 04 AF  	sta	>11469833
 20494 03:550F: C2 20        	rep	#$20
 20495                        	longa	on
 20496                        ;
 20497                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 20498                        	.line	3265
 20499 03:5511: E2 20        	sep	#$20
 20500                        	longa	off
 20501 03:5513: A5 17        	lda	<L905+height_0
 20502 03:5515: 8F 0A 04 AF  	sta	>11469834
 20503 03:5519: C2 20        	rep	#$20
 20504                        	longa	on
 20505                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
  Thu Dec  3 2020 22:25                                                Page 378


 20506                        	.line	3266
 20507 03:551B: A5 17        	lda	<L905+height_0
 20508 03:551D: A2 08 00     	ldx	#<$8
 20509                        	xref	~~~asr
 20510 03:5520: 22 xx xx xx  	jsl	~~~asr
 20511 03:5524: 29 FF 00     	and	#<$ff
 20512 03:5527: 85 01        	sta	<R0
 20513 03:5529: E2 20        	sep	#$20
 20514                        	longa	off
 20515 03:552B: A5 01        	lda	<R0
 20516 03:552D: 8F 0B 04 AF  	sta	>11469835
 20517 03:5531: C2 20        	rep	#$20
 20518                        	longa	on
 20519                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 20520                        	.line	3267
 20521 03:5533: E2 20        	sep	#$20
 20522                        	longa	off
 20523 03:5535: A9 00        	lda	#$0
 20524 03:5537: 8F 0C 04 AF  	sta	>11469836
 20525 03:553B: C2 20        	rep	#$20
 20526                        	longa	on
 20527                        ;
 20528                        ;
 20529                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 20530                        	.line	3270
 20531 03:553D: E2 20        	sep	#$20
 20532                        	longa	off
 20533 03:553F: A9 00        	lda	#$0
 20534 03:5541: 8F 0C 04 AF  	sta	>11469836
 20535 03:5545: C2 20        	rep	#$20
 20536                        	longa	on
 20537                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 20538                        	.line	3271
 20539 03:5547: E2 20        	sep	#$20
 20540                        	longa	off
 20541 03:5549: A9 00        	lda	#$0
 20542 03:554B: 8F 0D 04 AF  	sta	>11469837
 20543 03:554F: C2 20        	rep	#$20
 20544                        	longa	on
 20545                        ;
 20546                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 20547                        	.line	3273
 20548 03:5551: E2 20        	sep	#$20
 20549                        	longa	off
 20550 03:5553: A9 80        	lda	#$80
 20551 03:5555: 8F 0E 04 AF  	sta	>11469838
 20552 03:5559: C2 20        	rep	#$20
 20553                        	longa	on
 20554                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 20555                        	.line	3274
 20556 03:555B: E2 20        	sep	#$20
 20557                        	longa	off
 20558 03:555D: A9 02        	lda	#$2
 20559 03:555F: 8F 0F 04 AF  	sta	>11469839
 20560 03:5563: C2 20        	rep	#$20
 20561                        	longa	on
 20562                        ;
 20563                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
  Thu Dec  3 2020 22:25                                                Page 379


                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 20564                        	.line	3276
 20565 03:5565: E2 20        	sep	#$20
 20566                        	longa	off
 20567 03:5567: A9 87        	lda	#$87
 20568 03:5569: 8F 00 04 AF  	sta	>11469824
 20569 03:556D: C2 20        	rep	#$20
 20570                        	longa	on
 20571                        ;
 20572                        ;    asm NOP;
 20573                        	.line	3278
 20574                        	asmstart
 20575 03:556F: EA           	NOP
 20576                        	asmend
 20577                        ;    asm NOP;
 20578                        	.line	3279
 20579                        	asmstart
 20580 03:5570: EA           	NOP
 20581                        	asmend
 20582                        ;    asm NOP;
 20583                        	.line	3280
 20584                        	asmstart
 20585 03:5571: EA           	NOP
 20586                        	asmend
 20587                        ;
 20588                        ;	while(status == VDMA_STAT_VDMA_IPS)
 20589                        	.line	3282
 20590                        L10380:
 20591 03:5572: E2 20        	sep	#$20
 20592                        	longa	off
 20593 03:5574: A5 0D        	lda	<L906+status_1
 20594 03:5576: C9 80        	cmp	#<$80
 20595 03:5578: C2 20        	rep	#$20
 20596                        	longa	on
 20597 03:557A: F0 03        	beq	L908
 20598 03:557C: 82 1E 00     	brl	L10381
 20599                        L908:
 20600                        ;	{
 20601                        	.line	3283
 20602                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 20603                        	.line	3284
 20604 03:557F: E2 20        	sep	#$20
 20605                        	longa	off
 20606 03:5581: AF 01 04 AF  	lda	>11469825
 20607 03:5585: 29 80        	and	#<$80
 20608 03:5587: 85 0D        	sta	<L906+status_1
 20609 03:5589: C2 20        	rep	#$20
 20610                        	longa	on
 20611                        ;		spinLock++;
 20612                        	.line	3285
 20613 03:558B: E6 0B        	inc	<L906+spinLock_1
 20614                        ;
 20615                        ;		if(spinLock > 32000)
 20616                        	.line	3287
 20617                        ;		{
 20618 03:558D: A9 00 7D     	lda	#$7d00
 20619 03:5590: C5 0B        	cmp	<L906+spinLock_1
  Thu Dec  3 2020 22:25                                                Page 380


 20620 03:5592: 90 03        	bcc	L909
 20621 03:5594: 82 03 00     	brl	L10382
 20622                        L909:
 20623                        	.line	3288
 20624                        ;			break;
 20625                        	.line	3289
 20626 03:5597: 82 03 00     	brl	L10381
 20627                        ;		}
 20628                        	.line	3290
 20629                        ;	}
 20630                        L10382:
 20631                        	.line	3291
 20632 03:559A: 82 D5 FF     	brl	L10380
 20633                        L10381:
 20634                        ;
 20635                        ;#ifdef USE_MAX_DEBUG
 20636                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 20637                        ;#endif
 20638                        ;
 20639                        ;	asm NOP;
 20640                        	.line	3297
 20641                        	asmstart
 20642 03:559D: EA           	NOP
 20643                        	asmend
 20644                        ;
 20645                        ;	VDMA_CONTROL_REG[0] = 0;
 20646                        	.line	3299
 20647 03:559E: E2 20        	sep	#$20
 20648                        	longa	off
 20649 03:55A0: A9 00        	lda	#$0
 20650 03:55A2: 8F 00 04 AF  	sta	>11469824
 20651 03:55A6: C2 20        	rep	#$20
 20652                        	longa	on
 20653                        ;
 20654                        ;   return ;
 20655                        	.line	3301
 20656                        L910:
 20657 03:55A8: A5 0F        	lda	<L905+2
 20658 03:55AA: 85 1B        	sta	<L905+2+12
 20659 03:55AC: A5 0E        	lda	<L905+1
 20660 03:55AE: 85 1A        	sta	<L905+1+12
 20661 03:55B0: 2B           	pld
 20662 03:55B1: 3B           	tsc
 20663 03:55B2: 18           	clc
 20664 03:55B3: 69 19 00     	adc	#L905+12
 20665 03:55B6: 1B           	tcs
 20666 03:55B7: 6B           	rtl
 20667                        ;}
 20668                        	.line	3302
 20669                        	.endblock	3302
 20670             0000000D   L905	equ	13
 20671             00000009   L906	equ	9
 20672 03:55B8:              	ends
 20673                        	efunc
 20674                        	.endfunc	3302,9,13
 20675                        	.line	3302
 20676                        ;
  Thu Dec  3 2020 22:25                                                Page 381


 20677                        ;
 20678                        ;
 20679                        ;
 20680                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 20681                        ;{
 20682                        	.line	3307
 20683                        	.line	3308
 20684                        	GUI
 20685                        	xdef	~~k_vdma_fill
 20686                        	func
 20687                        	.function	3308
 20688                        ~~k_vdma_fill:
 20689                        	longa	on
 20690                        	longi	on
 20691 03:55B8: 3B           	tsc
 20692 03:55B9: 38           	sec
 20693 03:55BA: E9 0D 00     	sbc	#L911
 20694 03:55BD: 1B           	tcs
 20695 03:55BE: 0B           	phd
 20696 03:55BF: 5B           	tcd
 20697             00000004   pdst_0	set	4
 20698             00000008   size_0	set	8
 20699             0000000C   data_0	set	12
 20700                        	.block	3308
 20701                        ;	int pos = 0;
 20702                        ;	int spinLock = 0;
 20703                        ;	char status = VDMA_STAT_VDMA_IPS;
 20704                        ;	/*
 20705                        ;	char size_low = L24BYTE(size);
 20706                        ;	char size_mid = M24BYTE(size);
 20707                        ;	char size_hi  = H24BYTE(size);
 20708                        ;
 20709                        ;	char addr_low = L24BYTE((long)pdst);
 20710                        ;	char addr_mid = M24BYTE((long)pdst);
 20711                        ;	char addr_hi  = H24BYTE((long)pdst);
 20712                        ;
 20713                        ;	
 20714                        ;	pos=2;
 20715                        ;	k_itoa(size_low,buffer,16);
 20716                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 20717                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 20718                        ;	k_itoa(size_mid,buffer,16);
 20719                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 20720                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 20721                        ;	k_itoa(size_hi,buffer,16);
 20722                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 20723                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
 20724                        ;	
 20725                        ;	pos=2;
 20726                        ;	k_itoa(addr_low,buffer,16);
 20727                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 20728                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
 20729                        ;	k_itoa(addr_mid,buffer,16);
 20730                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 20731                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 20732                        ;	k_itoa(addr_hi,buffer,16);
 20733                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
  Thu Dec  3 2020 22:25                                                Page 382


 20734                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
 20735                        ;	*/
 20736                        ;	/*
 20737                        ;	if(VDMA_CONTROL_REG[0] > 0)
 20738                        ;	{
 20739                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
                    inLock > 1000)
 20740                        ;		{
 20741                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 20742                        ;			spinLock++;
 20743                        ;		}
 20744                        ;	}
 20745                        ;	*/
 20746                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 20747             00000000   pos_1	set	0
 20748             00000002   spinLock_1	set	2
 20749             00000004   status_1	set	4
 20750                        	.sym	pos,0,5,1,16
 20751                        	.sym	spinLock,2,5,1,16
 20752                        	.sym	status,4,14,1,8
 20753                        	.sym	pdst,4,142,6,32
 20754                        	.sym	size,8,7,6,32
 20755                        	.sym	data,12,14,6,8
 20756 03:55C0: 64 09        	stz	<L912+pos_1
 20757 03:55C2: 64 0B        	stz	<L912+spinLock_1
 20758 03:55C4: E2 20        	sep	#$20
 20759                        	longa	off
 20760 03:55C6: A9 80        	lda	#$80
 20761 03:55C8: 85 0D        	sta	<L912+status_1
 20762 03:55CA: C2 20        	rep	#$20
 20763                        	longa	on
 20764                        	.line	3354
 20765 03:55CC: E2 20        	sep	#$20
 20766                        	longa	off
 20767 03:55CE: A9 01        	lda	#$1
 20768 03:55D0: 8F 00 04 AF  	sta	>11469824
 20769 03:55D4: C2 20        	rep	#$20
 20770                        	longa	on
 20771                        ;
 20772                        ;	*BM_START_ADDY_L = 0x00;
 20773                        	.line	3356
 20774 03:55D6: E2 20        	sep	#$20
 20775                        	longa	off
 20776 03:55D8: A9 00        	lda	#$0
 20777 03:55DA: 8F 41 01 AF  	sta	>11469121
 20778 03:55DE: C2 20        	rep	#$20
 20779                        	longa	on
 20780                        ;	*BM_START_ADDY_M = 0x00;
 20781                        	.line	3357
 20782 03:55E0: E2 20        	sep	#$20
 20783                        	longa	off
 20784 03:55E2: A9 00        	lda	#$0
 20785 03:55E4: 8F 42 01 AF  	sta	>11469122
 20786 03:55E8: C2 20        	rep	#$20
 20787                        	longa	on
 20788                        ;	*BM_START_ADDY_H = 0x00;
 20789                        	.line	3358
  Thu Dec  3 2020 22:25                                                Page 383


 20790 03:55EA: E2 20        	sep	#$20
 20791                        	longa	off
 20792 03:55EC: A9 00        	lda	#$0
 20793 03:55EE: 8F 43 01 AF  	sta	>11469123
 20794 03:55F2: C2 20        	rep	#$20
 20795                        	longa	on
 20796                        ;	*((char FAR*)0xAF1F80) = 0x02;
 20797                        	.line	3359
 20798 03:55F4: E2 20        	sep	#$20
 20799                        	longa	off
 20800 03:55F6: A9 02        	lda	#$2
 20801 03:55F8: 8F 80 1F AF  	sta	>11476864
 20802 03:55FC: C2 20        	rep	#$20
 20803                        	longa	on
 20804                        ;	
 20805                        ;	*BM_X_SIZE_L = 0x80;
 20806                        	.line	3361
 20807 03:55FE: E2 20        	sep	#$20
 20808                        	longa	off
 20809 03:5600: A9 80        	lda	#$80
 20810 03:5602: 8F 44 01 AF  	sta	>11469124
 20811 03:5606: C2 20        	rep	#$20
 20812                        	longa	on
 20813                        ;	*BM_X_SIZE_H = 0x02;	
 20814                        	.line	3362
 20815 03:5608: E2 20        	sep	#$20
 20816                        	longa	off
 20817 03:560A: A9 02        	lda	#$2
 20818 03:560C: 8F 45 01 AF  	sta	>11469125
 20819 03:5610: C2 20        	rep	#$20
 20820                        	longa	on
 20821                        ;	*BM_Y_SIZE_L = 0xE0;
 20822                        	.line	3363
 20823 03:5612: E2 20        	sep	#$20
 20824                        	longa	off
 20825 03:5614: A9 E0        	lda	#$e0
 20826 03:5616: 8F 46 01 AF  	sta	>11469126
 20827 03:561A: C2 20        	rep	#$20
 20828                        	longa	on
 20829                        ;	*BM_Y_SIZE_H = 0x01;
 20830                        	.line	3364
 20831 03:561C: E2 20        	sep	#$20
 20832                        	longa	off
 20833 03:561E: A9 01        	lda	#$1
 20834 03:5620: 8F 47 01 AF  	sta	>11469127
 20835 03:5624: C2 20        	rep	#$20
 20836                        	longa	on
 20837                        ;	
 20838                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 20839                        	.line	3366
 20840 03:5626: E2 20        	sep	#$20
 20841                        	longa	off
 20842 03:5628: A5 15        	lda	<L911+size_0
 20843 03:562A: 8F 08 04 AF  	sta	>11469832
 20844 03:562E: C2 20        	rep	#$20
 20845                        	longa	on
 20846                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 20847                        	.line	3367
  Thu Dec  3 2020 22:25                                                Page 384


 20848 03:5630: D4 17        	pei	<L911+size_0+2
 20849 03:5632: D4 15        	pei	<L911+size_0
 20850 03:5634: A9 08 00     	lda	#$8
 20851                        	xref	~~~llsr
 20852 03:5637: 22 xx xx xx  	jsl	~~~llsr
 20853 03:563B: 85 01        	sta	<R0
 20854 03:563D: 86 03        	stx	<R0+2
 20855 03:563F: A5 01        	lda	<R0
 20856 03:5641: 29 FF 00     	and	#<$ff
 20857 03:5644: 85 05        	sta	<R1
 20858 03:5646: 64 07        	stz	<R1+2
 20859 03:5648: E2 20        	sep	#$20
 20860                        	longa	off
 20861 03:564A: A5 05        	lda	<R1
 20862 03:564C: 8F 09 04 AF  	sta	>11469833
 20863 03:5650: C2 20        	rep	#$20
 20864                        	longa	on
 20865                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 20866                        	.line	3368
 20867 03:5652: D4 17        	pei	<L911+size_0+2
 20868 03:5654: D4 15        	pei	<L911+size_0
 20869 03:5656: A9 10 00     	lda	#$10
 20870                        	xref	~~~llsr
 20871 03:5659: 22 xx xx xx  	jsl	~~~llsr
 20872 03:565D: 85 01        	sta	<R0
 20873 03:565F: 86 03        	stx	<R0+2
 20874 03:5661: A5 01        	lda	<R0
 20875 03:5663: 29 FF 00     	and	#<$ff
 20876 03:5666: 85 05        	sta	<R1
 20877 03:5668: 64 07        	stz	<R1+2
 20878 03:566A: E2 20        	sep	#$20
 20879                        	longa	off
 20880 03:566C: A5 05        	lda	<R1
 20881 03:566E: 8F 0A 04 AF  	sta	>11469834
 20882 03:5672: C2 20        	rep	#$20
 20883                        	longa	on
 20884                        ;	
 20885                        ;	
 20886                        ;	*VDMA_X_SIZE_L = 0x80;
 20887                        	.line	3371
 20888 03:5674: E2 20        	sep	#$20
 20889                        	longa	off
 20890 03:5676: A9 80        	lda	#$80
 20891 03:5678: 8F 08 04 AF  	sta	>11469832
 20892 03:567C: C2 20        	rep	#$20
 20893                        	longa	on
 20894                        ;	*VDMA_X_SIZE_H = 0x20;
 20895                        	.line	3372
 20896 03:567E: E2 20        	sep	#$20
 20897                        	longa	off
 20898 03:5680: A9 20        	lda	#$20
 20899 03:5682: 8F 09 04 AF  	sta	>11469833
 20900 03:5686: C2 20        	rep	#$20
 20901                        	longa	on
 20902                        ;
 20903                        ;	*VDMA_Y_SIZE_L = 0xE0;
 20904                        	.line	3374
 20905 03:5688: E2 20        	sep	#$20
  Thu Dec  3 2020 22:25                                                Page 385


 20906                        	longa	off
 20907 03:568A: A9 E0        	lda	#$e0
 20908 03:568C: 8F 0A 04 AF  	sta	>11469834
 20909 03:5690: C2 20        	rep	#$20
 20910                        	longa	on
 20911                        ;	*VDMA_Y_SIZE_H = 0x01;
 20912                        	.line	3375
 20913 03:5692: E2 20        	sep	#$20
 20914                        	longa	off
 20915 03:5694: A9 01        	lda	#$1
 20916 03:5696: 8F 0B 04 AF  	sta	>11469835
 20917 03:569A: C2 20        	rep	#$20
 20918                        	longa	on
 20919                        ;
 20920                        ;	*VDMA_DST_STRIDE_L = 0x80;
 20921                        	.line	3377
 20922 03:569C: E2 20        	sep	#$20
 20923                        	longa	off
 20924 03:569E: A9 80        	lda	#$80
 20925 03:56A0: 8F 0E 04 AF  	sta	>11469838
 20926 03:56A4: C2 20        	rep	#$20
 20927                        	longa	on
 20928                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 20929                        	.line	3378
 20930 03:56A6: E2 20        	sep	#$20
 20931                        	longa	off
 20932 03:56A8: A9 02        	lda	#$2
 20933 03:56AA: 8F 0F 04 AF  	sta	>11469839
 20934 03:56AE: C2 20        	rep	#$20
 20935                        	longa	on
 20936                        ;	
 20937                        ;	/*
 20938                        ;        LDA #200
 20939                        ;        STA @lVDMA_X_SIZE_L
 20940                        ;        LDA #00
 20941                        ;        STA @lVDMA_X_SIZE_H
 20942                        ;
 20943                        ;        LDA #64
 20944                        ;        STA @lVDMA_Y_SIZE_L
 20945                        ;        LDA #00
 20946                        ;        STA @lVDMA_Y_SIZE_H
 20947                        ;
 20948                        ;        LDA #$60
 20949                        ;        STA @lVDMA_DST_ADDY_L
 20950                        ;        LDA #$90
 20951                        ;        STA @lVDMA_DST_ADDY_M
 20952                        ;        LDA #$01
 20953                        ;        STA @lVDMA_DST_ADDY_H
 20954                        ;
 20955                        ;        LDA #$80
 20956                        ;        STA @lVDMA_DST_STRIDE_L
 20957                        ;        LDA #$02
 20958                        ;        STA @lVDMA_DST_STRIDE_H
 20959                        ;	*/
 20960                        ;
 20961                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 20962                        	.line	3404
 20963 03:56B0: E2 20        	sep	#$20
  Thu Dec  3 2020 22:25                                                Page 386


 20964                        	longa	off
 20965 03:56B2: A5 11        	lda	<L911+pdst_0
 20966 03:56B4: 8F 05 04 AF  	sta	>11469829
 20967 03:56B8: C2 20        	rep	#$20
 20968                        	longa	on
 20969                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 20970                        	.line	3405
 20971 03:56BA: D4 13        	pei	<L911+pdst_0+2
 20972 03:56BC: D4 11        	pei	<L911+pdst_0
 20973 03:56BE: A9 08 00     	lda	#$8
 20974                        	xref	~~~llsr
 20975 03:56C1: 22 xx xx xx  	jsl	~~~llsr
 20976 03:56C5: 85 01        	sta	<R0
 20977 03:56C7: 86 03        	stx	<R0+2
 20978 03:56C9: A5 01        	lda	<R0
 20979 03:56CB: 29 FF 00     	and	#<$ff
 20980 03:56CE: 85 05        	sta	<R1
 20981 03:56D0: 64 07        	stz	<R1+2
 20982 03:56D2: E2 20        	sep	#$20
 20983                        	longa	off
 20984 03:56D4: A5 05        	lda	<R1
 20985 03:56D6: 8F 06 04 AF  	sta	>11469830
 20986 03:56DA: C2 20        	rep	#$20
 20987                        	longa	on
 20988                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 20989                        	.line	3406
 20990 03:56DC: D4 13        	pei	<L911+pdst_0+2
 20991 03:56DE: D4 11        	pei	<L911+pdst_0
 20992 03:56E0: A9 10 00     	lda	#$10
 20993                        	xref	~~~llsr
 20994 03:56E3: 22 xx xx xx  	jsl	~~~llsr
 20995 03:56E7: 85 01        	sta	<R0
 20996 03:56E9: 86 03        	stx	<R0+2
 20997 03:56EB: A5 01        	lda	<R0
 20998 03:56ED: 29 FF 00     	and	#<$ff
 20999 03:56F0: 85 05        	sta	<R1
 21000 03:56F2: 64 07        	stz	<R1+2
 21001 03:56F4: E2 20        	sep	#$20
 21002                        	longa	off
 21003 03:56F6: A5 05        	lda	<R1
 21004 03:56F8: 8F 07 04 AF  	sta	>11469831
 21005 03:56FC: C2 20        	rep	#$20
 21006                        	longa	on
 21007                        ;
 21008                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 21009                        	.line	3408
 21010 03:56FE: E2 20        	sep	#$20
 21011                        	longa	off
 21012 03:5700: A5 19        	lda	<L911+data_0
 21013 03:5702: 8F 01 04 AF  	sta	>11469825
 21014 03:5706: C2 20        	rep	#$20
 21015                        	longa	on
 21016                        ;	
 21017                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 21018                        	.line	3410
 21019 03:5708: E2 20        	sep	#$20
 21020                        	longa	off
  Thu Dec  3 2020 22:25                                                Page 387


 21021 03:570A: A9 85        	lda	#$85
 21022 03:570C: 8F 00 04 AF  	sta	>11469824
 21023 03:5710: C2 20        	rep	#$20
 21024                        	longa	on
 21025                        ;   
 21026                        ;	/*
 21027                        ;	while(status == VDMA_STAT_VDMA_IPS)
 21028                        ;	{
 21029                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 21030                        ;	}
 21031                        ;	
 21032                        ;	
 21033                        ;	while(status == VDMA_STAT_VDMA_IPS)
 21034                        ;	{
 21035                        ;		#asm
 21036                        ;		PHA 
 21037                        ;        LDA $AF0401
 21038                        ;        AND #$80
 21039                        ;        CMP #$80
 21040                        ;        STA %%status
 21041                        ;		PLA
 21042                        ;		#endasm
 21043                        ;	}
 21044                        ;	*/
 21045                        ;	
 21046                        ;   //return *VDMA_STATUS_REG;
 21047                        ;   //return VDMA_STATUS_REG[0];
 21048                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 21049                        ;   
 21050                        ;   return ;
 21051                        	.line	3436
 21052                        L914:
 21053 03:5712: A5 0F        	lda	<L911+2
 21054 03:5714: 85 19        	sta	<L911+2+10
 21055 03:5716: A5 0E        	lda	<L911+1
 21056 03:5718: 85 18        	sta	<L911+1+10
 21057 03:571A: 2B           	pld
 21058 03:571B: 3B           	tsc
 21059 03:571C: 18           	clc
 21060 03:571D: 69 17 00     	adc	#L911+10
 21061 03:5720: 1B           	tcs
 21062 03:5721: 6B           	rtl
 21063                        ;}
 21064                        	.line	3437
 21065                        	.endblock	3437
 21066             0000000D   L911	equ	13
 21067             00000009   L912	equ	9
 21068 03:5722:              	ends
 21069                        	efunc
 21070                        	.endfunc	3437,9,13
 21071                        	.line	3437
 21072                        ;
 21073                        ;
 21074                        ;void k_enable_bitmap_mode(void)
 21075                        ;{
 21076                        	.line	3440
 21077                        	.line	3441
  Thu Dec  3 2020 22:25                                                Page 388


 21078                        	GUI
 21079                        	xdef	~~k_enable_bitmap_mode
 21080                        	func
 21081                        	.function	3441
 21082                        ~~k_enable_bitmap_mode:
 21083                        	longa	on
 21084                        	longi	on
 21085 03:5722: 3B           	tsc
 21086 03:5723: 38           	sec
 21087 03:5724: E9 04 00     	sbc	#L915
 21088 03:5727: 1B           	tcs
 21089 03:5728: 0B           	phd
 21090 03:5729: 5B           	tcd
 21091                        	.block	3441
 21092                        ;	int i = 30000;
 21093                        ;	int j = 30000;
 21094                        ;
 21095                        ;
 21096                        ;
 21097                        ;	if(MASTER_CTRL_REG_H[0])
 21098             00000000   i_1	set	0
 21099             00000002   j_1	set	2
 21100                        	.sym	i,0,5,1,16
 21101                        	.sym	j,2,5,1,16
 21102 03:572A: A9 30 75     	lda	#$7530
 21103 03:572D: 85 01        	sta	<L916+i_1
 21104 03:572F: A9 30 75     	lda	#$7530
 21105 03:5732: 85 03        	sta	<L916+j_1
 21106                        	.line	3447
 21107                        ;	{
 21108 03:5734: AF 01 00 AF  	lda	>11468801
 21109 03:5738: 29 FF 00     	and	#$ff
 21110 03:573B: D0 03        	bne	L918
 21111 03:573D: 82 4A 00     	brl	L10383
 21112                        L918:
 21113                        	.line	3448
 21114                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
 21115                        	.line	3449
 21116 03:5740: F4 xx xx     	pea	#^L898
 21117 03:5743: F4 xx xx     	pea	#<L898
 21118 03:5746: 22 xx xx xx  	jsl	~~k_debug_string
 21119                        ;
 21120                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 21121                        	.line	3451
 21122 03:574A: E2 20        	sep	#$20
 21123                        	longa	off
 21124 03:574C: A9 01        	lda	#$1
 21125 03:574E: 8F 01 00 AF  	sta	>11468801
 21126 03:5752: C2 20        	rep	#$20
 21127                        	longa	on
 21128                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
                    ODE_EN;
 21129                        	.line	3452
 21130 03:5754: E2 20        	sep	#$20
 21131                        	longa	off
 21132 03:5756: A9 04        	lda	#$4
  Thu Dec  3 2020 22:25                                                Page 389


 21133 03:5758: 8F 00 00 AF  	sta	>11468800
 21134 03:575C: C2 20        	rep	#$20
 21135                        	longa	on
 21136                        ;
 21137                        ;		for(i=3200;i>0;i--)
 21138                        	.line	3454
 21139 03:575E: A9 80 0C     	lda	#$c80
 21140 03:5761: 85 01        	sta	<L916+i_1
 21141                        L10386:
 21142                        ;		{
 21143                        	.line	3455
 21144                        ;			for(j=0;j<256;j++)
 21145                        	.line	3456
 21146 03:5763: 64 03        	stz	<L916+j_1
 21147                        L10389:
 21148                        ;			{
 21149                        	.line	3457
 21150                        ;				asm NOP;
 21151                        	.line	3458
 21152                        	asmstart
 21153 03:5765: EA           	NOP
 21154                        	asmend
 21155                        ;			}
 21156                        	.line	3459
 21157                        L10387:
 21158 03:5766: E6 03        	inc	<L916+j_1
 21159 03:5768: 38           	sec
 21160 03:5769: A5 03        	lda	<L916+j_1
 21161 03:576B: E9 00 01     	sbc	#<$100
 21162 03:576E: 70 03        	bvs	L919
 21163 03:5770: 49 00 80     	eor	#$8000
 21164                        L919:
 21165 03:5773: 30 03        	bmi	L920
 21166 03:5775: 82 ED FF     	brl	L10389
 21167                        L920:
 21168                        L10388:
 21169                        ;		}
 21170                        	.line	3460
 21171                        L10384:
 21172 03:5778: C6 01        	dec	<L916+i_1
 21173 03:577A: 38           	sec
 21174 03:577B: A9 00 00     	lda	#$0
 21175 03:577E: E5 01        	sbc	<L916+i_1
 21176 03:5780: 70 03        	bvs	L921
 21177 03:5782: 49 00 80     	eor	#$8000
 21178                        L921:
 21179 03:5785: 30 03        	bmi	L922
 21180 03:5787: 82 D9 FF     	brl	L10386
 21181                        L922:
 21182                        L10385:
 21183                        ;	}
 21184                        	.line	3461
 21185                        ;	k_get_video_mode();
 21186                        L10383:
 21187                        	.line	3462
 21188 03:578A: 22 AC 58 03  	jsl	~~k_get_video_mode
 21189                        ;
 21190                        ;	/*
  Thu Dec  3 2020 22:25                                                Page 390


 21191                        ;	k_debug_string("k_enable_bitmap_mode RESET 1b...
                    \r\n");
 21192                        ;
 21193                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 21194                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 21195                        ;
 21196                        ;	for(i=3200;i>0;i--)
 21197                        ;	{
 21198                        ;		for(j=0;j<256;j++)
 21199                        ;		{
 21200                        ;			asm NOP;
 21201                        ;		}
 21202                        ;	}
 21203                        ;
 21204                        ;	k_debug_string("k_enable_bitmap_mode RESET 1c...
                    \r\n");
 21205                        ;
 21206                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 21207                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 21208                        ;
 21209                        ;	for(i=3200;i>0;i--)
 21210                        ;	{
 21211                        ;		for(j=0;j<256;j++)
 21212                        ;		{
 21213                        ;			asm NOP;
 21214                        ;		}
 21215                        ;	}
 21216                        ;	 */
 21217                        ;	//k_debug_string("k_enable_bitmap_mode disable 8
                    00x600...\r\n");
 21218                        ;	//k_get_video_mode();
 21219                        ;
 21220                        ;	MASTER_CTRL_REG_H[0] = 0x00;
 21221                        	.line	3494
 21222 03:578E: E2 20        	sep	#$20
 21223                        	longa	off
 21224 03:5790: A9 00        	lda	#$0
 21225 03:5792: 8F 01 00 AF  	sta	>11468801
 21226 03:5796: C2 20        	rep	#$20
 21227                        	longa	on
 21228                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN
                    ;
 21229                        ;	for(i=3200;i>0;i--)
 21230                        	.line	3496
 21231 03:5798: A9 80 0C     	lda	#$c80
 21232 03:579B: 85 01        	sta	<L916+i_1
 21233                        L10392:
 21234                        ;	{
 21235                        	.line	3497
 21236                        ;		for(j=0;j<256;j++)
 21237                        	.line	3498
 21238 03:579D: 64 03        	stz	<L916+j_1
 21239                        L10395:
 21240                        ;		{
 21241                        	.line	3499
 21242                        ;			asm NOP;
 21243                        	.line	3500
 21244                        	asmstart
  Thu Dec  3 2020 22:25                                                Page 391


 21245 03:579F: EA           	NOP
 21246                        	asmend
 21247                        ;		}
 21248                        	.line	3501
 21249                        L10393:
 21250 03:57A0: E6 03        	inc	<L916+j_1
 21251 03:57A2: 38           	sec
 21252 03:57A3: A5 03        	lda	<L916+j_1
 21253 03:57A5: E9 00 01     	sbc	#<$100
 21254 03:57A8: 70 03        	bvs	L923
 21255 03:57AA: 49 00 80     	eor	#$8000
 21256                        L923:
 21257 03:57AD: 30 03        	bmi	L924
 21258 03:57AF: 82 ED FF     	brl	L10395
 21259                        L924:
 21260                        L10394:
 21261                        ;	}
 21262                        	.line	3502
 21263                        L10390:
 21264 03:57B2: C6 01        	dec	<L916+i_1
 21265 03:57B4: 38           	sec
 21266 03:57B5: A9 00 00     	lda	#$0
 21267 03:57B8: E5 01        	sbc	<L916+i_1
 21268 03:57BA: 70 03        	bvs	L925
 21269 03:57BC: 49 00 80     	eor	#$8000
 21270                        L925:
 21271 03:57BF: 30 03        	bmi	L926
 21272 03:57C1: 82 D9 FF     	brl	L10392
 21273                        L926:
 21274                        L10391:
 21275                        ;
 21276                        ;
 21277                        ;	*BM1_CONTROL_REG = 0x01;
 21278                        	.line	3505
 21279 03:57C4: E2 20        	sep	#$20
 21280                        	longa	off
 21281 03:57C6: A9 01        	lda	#$1
 21282 03:57C8: 8F 08 01 AF  	sta	>11469064
 21283 03:57CC: C2 20        	rep	#$20
 21284                        	longa	on
 21285                        ;	*BM1_START_ADDY_L = 0;
 21286                        	.line	3506
 21287 03:57CE: E2 20        	sep	#$20
 21288                        	longa	off
 21289 03:57D0: A9 00        	lda	#$0
 21290 03:57D2: 8F 09 01 AF  	sta	>11469065
 21291 03:57D6: C2 20        	rep	#$20
 21292                        	longa	on
 21293                        ;	*BM1_START_ADDY_M = 0;
 21294                        	.line	3507
 21295 03:57D8: E2 20        	sep	#$20
 21296                        	longa	off
 21297 03:57DA: A9 00        	lda	#$0
 21298 03:57DC: 8F 0A 01 AF  	sta	>11469066
 21299 03:57E0: C2 20        	rep	#$20
 21300                        	longa	on
 21301                        ;	*BM1_START_ADDY_H = 0x10;
 21302                        	.line	3508
  Thu Dec  3 2020 22:25                                                Page 392


 21303 03:57E2: E2 20        	sep	#$20
 21304                        	longa	off
 21305 03:57E4: A9 10        	lda	#$10
 21306 03:57E6: 8F 0B 01 AF  	sta	>11469067
 21307 03:57EA: C2 20        	rep	#$20
 21308                        	longa	on
 21309                        ;
 21310                        ;	*BM0_CONTROL_REG = 0x01;
 21311                        	.line	3510
 21312 03:57EC: E2 20        	sep	#$20
 21313                        	longa	off
 21314 03:57EE: A9 01        	lda	#$1
 21315 03:57F0: 8F 00 01 AF  	sta	>11469056
 21316 03:57F4: C2 20        	rep	#$20
 21317                        	longa	on
 21318                        ;	*BM0_START_ADDY_L = 0;
 21319                        	.line	3511
 21320 03:57F6: E2 20        	sep	#$20
 21321                        	longa	off
 21322 03:57F8: A9 00        	lda	#$0
 21323 03:57FA: 8F 01 01 AF  	sta	>11469057
 21324 03:57FE: C2 20        	rep	#$20
 21325                        	longa	on
 21326                        ;	*BM0_START_ADDY_M = 0;
 21327                        	.line	3512
 21328 03:5800: E2 20        	sep	#$20
 21329                        	longa	off
 21330 03:5802: A9 00        	lda	#$0
 21331 03:5804: 8F 02 01 AF  	sta	>11469058
 21332 03:5808: C2 20        	rep	#$20
 21333                        	longa	on
 21334                        ;	*BM0_START_ADDY_H = 0;
 21335                        	.line	3513
 21336 03:580A: E2 20        	sep	#$20
 21337                        	longa	off
 21338 03:580C: A9 00        	lda	#$0
 21339 03:580E: 8F 03 01 AF  	sta	>11469059
 21340 03:5812: C2 20        	rep	#$20
 21341                        	longa	on
 21342                        ;
 21343                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 21344                        	.line	3515
 21345 03:5814: E2 20        	sep	#$20
 21346                        	longa	off
 21347 03:5816: A9 01        	lda	#$1
 21348 03:5818: 8F 08 01 AF  	sta	>11469064
 21349 03:581C: C2 20        	rep	#$20
 21350                        	longa	on
 21351                        ;	*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 21352                        	.line	3516
 21353 03:581E: E2 20        	sep	#$20
 21354                        	longa	off
 21355 03:5820: A9 01        	lda	#$1
 21356 03:5822: 8F 00 01 AF  	sta	>11469056
 21357 03:5826: C2 20        	rep	#$20
 21358                        	longa	on
 21359                        ;
 21360                        ;	k_debug_string("k_enable_bitmap_mode 640x480...\
  Thu Dec  3 2020 22:25                                                Page 393


                    r\n");
 21361                        	.line	3518
 21362 03:5828: F4 xx xx     	pea	#^L898+37
 21363 03:582B: F4 xx xx     	pea	#<L898+37
 21364 03:582E: 22 xx xx xx  	jsl	~~k_debug_string
 21365                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21366                        	.line	3519
 21367 03:5832: E2 20        	sep	#$20
 21368                        	longa	off
 21369 03:5834: A9 0C        	lda	#$c
 21370 03:5836: 8F 00 00 AF  	sta	>11468800
 21371 03:583A: C2 20        	rep	#$20
 21372                        	longa	on
 21373                        ;
 21374                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,0x10);
 21375                        	.line	3521
 21376 03:583C: F4 10 00     	pea	#<$10
 21377 03:583F: F4 00 00     	pea	#<$0
 21378 03:5842: F4 E0 01     	pea	#<$1e0
 21379 03:5845: F4 80 02     	pea	#<$280
 21380 03:5848: F4 00 00     	pea	#^$0
 21381 03:584B: F4 00 00     	pea	#<$0
 21382 03:584E: F4 00 00     	pea	#^$0
 21383 03:5851: F4 00 00     	pea	#<$0
 21384 03:5854: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 21385                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,0x00);
 21386                        	.line	3522
 21387 03:5858: F4 00 00     	pea	#<$0
 21388 03:585B: F4 00 00     	pea	#<$0
 21389 03:585E: F4 E0 01     	pea	#<$1e0
 21390 03:5861: F4 80 02     	pea	#<$280
 21391 03:5864: F4 00 00     	pea	#^$0
 21392 03:5867: F4 00 00     	pea	#<$0
 21393 03:586A: F4 00 00     	pea	#^$0
 21394 03:586D: F4 00 00     	pea	#<$0
 21395 03:5870: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 21396                        ;
 21397                        ;	for(i=3200;i>0;i--)
 21398                        	.line	3524
 21399 03:5874: A9 80 0C     	lda	#$c80
 21400 03:5877: 85 01        	sta	<L916+i_1
 21401                        L10398:
 21402                        ;	{
 21403                        	.line	3525
 21404                        ;		for(j=0;j<256;j++)
 21405                        	.line	3526
 21406 03:5879: 64 03        	stz	<L916+j_1
 21407                        L10401:
 21408                        ;		{
 21409                        	.line	3527
 21410                        ;			asm NOP;
 21411                        	.line	3528
 21412                        	asmstart
 21413 03:587B: EA           	NOP
 21414                        	asmend
 21415                        ;		}
 21416                        	.line	3529
  Thu Dec  3 2020 22:25                                                Page 394


 21417                        L10399:
 21418 03:587C: E6 03        	inc	<L916+j_1
 21419 03:587E: 38           	sec
 21420 03:587F: A5 03        	lda	<L916+j_1
 21421 03:5881: E9 00 01     	sbc	#<$100
 21422 03:5884: 70 03        	bvs	L927
 21423 03:5886: 49 00 80     	eor	#$8000
 21424                        L927:
 21425 03:5889: 30 03        	bmi	L928
 21426 03:588B: 82 ED FF     	brl	L10401
 21427                        L928:
 21428                        L10400:
 21429                        ;	}
 21430                        	.line	3530
 21431                        L10396:
 21432 03:588E: C6 01        	dec	<L916+i_1
 21433 03:5890: 38           	sec
 21434 03:5891: A9 00 00     	lda	#$0
 21435 03:5894: E5 01        	sbc	<L916+i_1
 21436 03:5896: 70 03        	bvs	L929
 21437 03:5898: 49 00 80     	eor	#$8000
 21438                        L929:
 21439 03:589B: 30 03        	bmi	L930
 21440 03:589D: 82 D9 FF     	brl	L10398
 21441                        L930:
 21442                        L10397:
 21443                        ;
 21444                        ;	k_get_video_mode();
 21445                        	.line	3532
 21446 03:58A0: 22 AC 58 03  	jsl	~~k_get_video_mode
 21447                        ;	return;
 21448                        	.line	3533
 21449                        L931:
 21450 03:58A4: 2B           	pld
 21451 03:58A5: 3B           	tsc
 21452 03:58A6: 18           	clc
 21453 03:58A7: 69 04 00     	adc	#L915
 21454 03:58AA: 1B           	tcs
 21455 03:58AB: 6B           	rtl
 21456                        ;}
 21457                        	.line	3534
 21458                        	.endblock	3534
 21459             00000004   L915	equ	4
 21460             00000001   L916	equ	1
 21461 03:58AC:              	ends
 21462                        	efunc
 21463                        	.endfunc	3534,1,4
 21464                        	.line	3534
 21465                        	data
 21466                        L898:
 21467 00:0BCC: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0BD0: 61 62 6C 65 
       00:0BD4: 5F 62 69 74 
       00:0BD8: 6D 61 70 
 21468 00:0BDB: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0BDF: 65 20 74 6F 
  Thu Dec  3 2020 22:25                                                Page 395


       00:0BE3: 20 38 30 30 
       00:0BE7: 78 36 30 
 21469 00:0BEA: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0BEE: 0D 0A 00 6B 
       00:0BF2: 5F 65 6E 61 
       00:0BF6: 62 6C 65 
 21470 00:0BF9: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$6D,$6F,
                    $64,$65,$20,$36,$34
       00:0BFD: 6D 61 70 5F 
       00:0C01: 6D 6F 64 65 
       00:0C05: 20 36 34 
 21471 00:0C08: 30 78 34 38  	db	$30,$78,$34,$38,$30,$2E,$2E,$2E,$0D,$0A,
                    $00
       00:0C0C: 30 2E 2E 2E 
       00:0C10: 0D 0A 00 
 21472 00:0C13:              	ends
 21473                        ;
 21474                        ;
 21475                        ;UINT k_get_video_mode(void)
 21476                        ;{
 21477                        	.line	3537
 21478                        	.line	3538
 21479                        	GUI
 21480                        	xdef	~~k_get_video_mode
 21481                        	func
 21482                        	.function	3538
 21483                        ~~k_get_video_mode:
 21484                        	longa	on
 21485                        	longi	on
 21486 03:58AC: 3B           	tsc
 21487 03:58AD: 38           	sec
 21488 03:58AE: E9 00 00     	sbc	#L933
 21489 03:58B1: 1B           	tcs
 21490 03:58B2: 0B           	phd
 21491 03:58B3: 5B           	tcd
 21492                        	.block	3538
 21493                        ;	//Mstr_Ctrl_Video_Mode0   = $01       ; 0 - 640x
                    480 (Clock @ 25.175Mhz), 1 - 800x600 (Clock @ 40Mhz)
 21494                        ;	//Mstr_Ctrl_Video_Mode1   = $02       ; 0 - No P
                    ixel Doubling, 1- Pixel Doubling (Reduce the Pixel Resolutio
                    n by 2)
 21495                        ;
 21496                        ;	if(MASTER_CTRL_REG_H[0] & 0x01)
 21497                        	.line	3542
 21498                        ;	{
 21499 03:58B4: E2 20        	sep	#$20
 21500                        	longa	off
 21501 03:58B6: AF 01 00 AF  	lda	>11468801
 21502 03:58BA: 29 01        	and	#<$1
 21503 03:58BC: C2 20        	rep	#$20
 21504                        	longa	on
 21505 03:58BE: D0 03        	bne	L936
 21506 03:58C0: 82 36 00     	brl	L10402
 21507                        L936:
 21508                        	.line	3543
 21509                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 21510                        	.line	3544
  Thu Dec  3 2020 22:25                                                Page 396


 21511                        ;		{
 21512 03:58C3: E2 20        	sep	#$20
 21513                        	longa	off
 21514 03:58C5: AF 01 00 AF  	lda	>11468801
 21515 03:58C9: 29 02        	and	#<$2
 21516 03:58CB: C2 20        	rep	#$20
 21517                        	longa	on
 21518 03:58CD: D0 03        	bne	L937
 21519 03:58CF: 82 17 00     	brl	L10403
 21520                        L937:
 21521                        	.line	3545
 21522                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_800X600D...\r\n");
 21523                        	.line	3546
 21524 03:58D2: F4 xx xx     	pea	#^L932
 21525 03:58D5: F4 xx xx     	pea	#<L932
 21526 03:58D8: 22 xx xx xx  	jsl	~~k_debug_string
 21527                        ;			return VIDEO_MODE_800X600D;
 21528                        	.line	3547
 21529 03:58DC: A9 08 00     	lda	#$8
 21530                        L938:
 21531 03:58DF: A8           	tay
 21532 03:58E0: 2B           	pld
 21533 03:58E1: 3B           	tsc
 21534 03:58E2: 18           	clc
 21535 03:58E3: 69 00 00     	adc	#L933
 21536 03:58E6: 1B           	tcs
 21537 03:58E7: 98           	tya
 21538 03:58E8: 6B           	rtl
 21539                        ;		}
 21540                        	.line	3548
 21541                        ;
 21542                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_800X600...\r\n");
 21543                        L10403:
 21544                        	.line	3550
 21545 03:58E9: F4 xx xx     	pea	#^L932+42
 21546 03:58EC: F4 xx xx     	pea	#<L932+42
 21547 03:58EF: 22 xx xx xx  	jsl	~~k_debug_string
 21548                        ;		return VIDEO_MODE_800X600;
 21549                        	.line	3551
 21550 03:58F3: A9 04 00     	lda	#$4
 21551 03:58F6: 82 E6 FF     	brl	L938
 21552                        ;	}
 21553                        	.line	3552
 21554                        ;	else
 21555                        L10402:
 21556                        ;	{
 21557                        	.line	3554
 21558                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 21559                        	.line	3555
 21560                        ;		{
 21561 03:58F9: E2 20        	sep	#$20
 21562                        	longa	off
 21563 03:58FB: AF 01 00 AF  	lda	>11468801
 21564 03:58FF: 29 02        	and	#<$2
 21565 03:5901: C2 20        	rep	#$20
 21566                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 397


 21567 03:5903: D0 03        	bne	L939
 21568 03:5905: 82 10 00     	brl	L10404
 21569                        L939:
 21570                        	.line	3556
 21571                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_640X480D...\r\n");
 21572                        	.line	3557
 21573 03:5908: F4 xx xx     	pea	#^L932+83
 21574 03:590B: F4 xx xx     	pea	#<L932+83
 21575 03:590E: 22 xx xx xx  	jsl	~~k_debug_string
 21576                        ;			return VIDEO_MODE_640X480D;
 21577                        	.line	3558
 21578 03:5912: A9 02 00     	lda	#$2
 21579 03:5915: 82 C7 FF     	brl	L938
 21580                        ;		}
 21581                        	.line	3559
 21582                        ;
 21583                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_640X480...\r\n");
 21584                        L10404:
 21585                        	.line	3561
 21586 03:5918: F4 xx xx     	pea	#^L932+125
 21587 03:591B: F4 xx xx     	pea	#<L932+125
 21588 03:591E: 22 xx xx xx  	jsl	~~k_debug_string
 21589                        ;		return VIDEO_MODE_640X480;
 21590                        	.line	3562
 21591 03:5922: A9 01 00     	lda	#$1
 21592 03:5925: 82 B7 FF     	brl	L938
 21593                        ;	}
 21594                        	.line	3563
 21595                        ;
 21596                        ;
 21597                        ;	return VIDEO_MODE_UNKNOWN;
 21598                        	.line	3566
 21599 03:5928: A9 FF 00     	lda	#$ff
 21600 03:592B: 82 B1 FF     	brl	L938
 21601                        ;}
 21602                        	.line	3567
 21603                        	.endblock	3567
 21604             00000000   L933	equ	0
 21605             00000001   L934	equ	1
 21606 03:592E:              	ends
 21607                        	efunc
 21608                        	.endfunc	3567,1,0
 21609                        	.line	3567
 21610                        	data
 21611                        L932:
 21612 00:0C13: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$76,$69,$64,$65,
                    $6F,$5F,$6D,$6F,$64
       00:0C17: 74 5F 76 69 
       00:0C1B: 64 65 6F 5F 
       00:0C1F: 6D 6F 64 
 21613 00:0C22: 65 3A 56 49  	db	$65,$3A,$56,$49,$44,$45,$4F,$5F,$4D,$4F,
                    $44,$45,$5F,$38,$30
       00:0C26: 44 45 4F 5F 
       00:0C2A: 4D 4F 44 45 
       00:0C2E: 5F 38 30 
 21614 00:0C31: 30 58 36 30  	db	$30,$58,$36,$30,$30,$44,$2E,$2E,$2E,$0D,
  Thu Dec  3 2020 22:25                                                Page 398


                    $0A,$00,$6B,$5F,$67
       00:0C35: 30 44 2E 2E 
       00:0C39: 2E 0D 0A 00 
       00:0C3D: 6B 5F 67 
 21615 00:0C40: 65 74 5F 76  	db	$65,$74,$5F,$76,$69,$64,$65,$6F,$5F,$6D,
                    $6F,$64,$65,$3A,$56
       00:0C44: 69 64 65 6F 
       00:0C48: 5F 6D 6F 64 
       00:0C4C: 65 3A 56 
 21616 00:0C4F: 49 44 45 4F  	db	$49,$44,$45,$4F,$5F,$4D,$4F,$44,$45,$5F,
                    $38,$30,$30,$58,$36
       00:0C53: 5F 4D 4F 44 
       00:0C57: 45 5F 38 30 
       00:0C5B: 30 58 36 
 21617 00:0C5E: 30 30 2E 2E  	db	$30,$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,
                    $67,$65,$74,$5F,$76
       00:0C62: 2E 0D 0A 00 
       00:0C66: 6B 5F 67 65 
       00:0C6A: 74 5F 76 
 21618 00:0C6D: 69 64 65 6F  	db	$69,$64,$65,$6F,$5F,$6D,$6F,$64,$65,$3A,
                    $56,$49,$44,$45,$4F
       00:0C71: 5F 6D 6F 64 
       00:0C75: 65 3A 56 49 
       00:0C79: 44 45 4F 
 21619 00:0C7C: 5F 4D 4F 44  	db	$5F,$4D,$4F,$44,$45,$5F,$36,$34,$30,$58,
                    $34,$38,$30,$44,$2E
       00:0C80: 45 5F 36 34 
       00:0C84: 30 58 34 38 
       00:0C88: 30 44 2E 
 21620 00:0C8B: 2E 2E 0D 0A  	db	$2E,$2E,$0D,$0A,$00,$6B,$5F,$67,$65,$74,
                    $5F,$76,$69,$64,$65
       00:0C8F: 00 6B 5F 67 
       00:0C93: 65 74 5F 76 
       00:0C97: 69 64 65 
 21621 00:0C9A: 6F 5F 6D 6F  	db	$6F,$5F,$6D,$6F,$64,$65,$3A,$56,$49,$44,
                    $45,$4F,$5F,$4D,$4F
       00:0C9E: 64 65 3A 56 
       00:0CA2: 49 44 45 4F 
       00:0CA6: 5F 4D 4F 
 21622 00:0CA9: 44 45 5F 36  	db	$44,$45,$5F,$36,$34,$30,$58,$34,$38,$30,
                    $2E,$2E,$2E,$0D,$0A
       00:0CAD: 34 30 58 34 
       00:0CB1: 38 30 2E 2E 
       00:0CB5: 2E 0D 0A 
 21623 00:0CB8: 00           	db	$00
 21624 00:0CB9:              	ends
 21625                        ;
 21626                        ;
 21627                        ;void k_init_desktop(PFXPROCESS process)
 21628                        ;{
 21629                        	.line	3570
 21630                        	.line	3571
 21631                        	GUI
 21632                        	xdef	~~k_init_desktop
 21633                        	func
 21634                        	.function	3571
 21635                        ~~k_init_desktop:
 21636                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 399


 21637                        	longi	on
 21638 03:592E: 3B           	tsc
 21639 03:592F: 38           	sec
 21640 03:5930: E9 16 00     	sbc	#L941
 21641 03:5933: 1B           	tcs
 21642 03:5934: 0B           	phd
 21643 03:5935: 5B           	tcd
 21644             00000004   process_0	set	4
 21645                        	.block	3571
 21646                        ;
 21647                        ;	int i = 0;
 21648                        ;	int x = 0;
 21649                        ;	int y = 200;
 21650                        ;
 21651                        ;
 21652                        ;	PFXSTRING fxtitle = NULL;
 21653                        ;	PFXSTRING fxstring = NULL;
 21654                        ;
 21655                        ;	ULONG availableMem = 0L;
 21656                        ;
 21657                        ;
 21658                        ;	k_clear_screen(0);
 21659             00000000   i_1	set	0
 21660             00000002   x_1	set	2
 21661             00000004   y_1	set	4
 21662             00000006   fxtitle_1	set	6
 21663             0000000A   fxstring_1	set	10
 21664             0000000E   availableMem_1	set	14
 21665                        	.sym	i,0,5,1,16
 21666                        	.sym	x,2,5,1,16
 21667                        	.sym	y,4,5,1,16
 21668                        	.sym	fxtitle,6,138,1,32,50
 21669                        	.sym	fxstring,10,138,1,32,50
 21670                        	.sym	availableMem,14,18,1,32
 21671                        	.sym	process,4,138,6,32,20
 21672 03:5936: 64 05        	stz	<L942+i_1
 21673 03:5938: 64 07        	stz	<L942+x_1
 21674 03:593A: A9 C8 00     	lda	#$c8
 21675 03:593D: 85 09        	sta	<L942+y_1
 21676 03:593F: 64 0B        	stz	<L942+fxtitle_1
 21677 03:5941: 64 0D        	stz	<L942+fxtitle_1+2
 21678 03:5943: 64 0F        	stz	<L942+fxstring_1
 21679 03:5945: 64 11        	stz	<L942+fxstring_1+2
 21680 03:5947: 64 13        	stz	<L942+availableMem_1
 21681 03:5949: 64 15        	stz	<L942+availableMem_1+2
 21682                        	.line	3584
 21683 03:594B: F4 00 00     	pea	#<$0
 21684 03:594E: 22 xx xx xx  	jsl	~~k_clear_screen
 21685                        ;	setColors();
 21686                        	.line	3585
 21687 03:5952: 22 D8 03 03  	jsl	~~setColors
 21688                        ;
 21689                        ;
 21690                        ;#ifdef USE_FX256_FMX
 21691                        ;
 21692                        ;	/*
 21693                        ;	*BM1_CONTROL_REG = 0x01;
 21694                        ;	*BM1_START_ADDY_L = 0;
  Thu Dec  3 2020 22:25                                                Page 400


 21695                        ;	*BM1_START_ADDY_M = 0;
 21696                        ;	*BM1_START_ADDY_H = 0;
 21697                        ;
 21698                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 21699                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21700                        ;
 21701                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 21702                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21703                        ;
 21704                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 21705                        ;
 21706                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 21707                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21708                        ;	*/
 21709                        ;
 21710                        ;	k_enable_bitmap_mode();
 21711                        	.line	3608
 21712 03:5956: 22 22 57 03  	jsl	~~k_enable_bitmap_mode
 21713                        ;
 21714                        ;#else
 21715                        ;
 21716                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 21717                        ;
 21718                        ;	*BM_START_ADDY_L = 0x00;
 21719                        ;	*BM_START_ADDY_M = 0x00;
 21720                        ;	*BM_START_ADDY_H = 0x00;
 21721                        ;	*BG_CHAR_LUT_PTR = 0x02;
 21722                        ;
 21723                        ;	*BM_X_SIZE_L = 0x80;
 21724                        ;	*BM_X_SIZE_H = 0x02;
 21725                        ;	*BM_Y_SIZE_L = 0xE0;
 21726                        ;	*BM_Y_SIZE_H = 0x01;
 21727                        ;
 21728                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 21729                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 21730                        ;	*BM_CONTROL_REG 	= 0x08;
 21731                        ;
 21732                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 21733                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21734                        ;
 21735                        ;#endif
 21736                        ;
 21737                        ;	k_disable_border();
 21738                        	.line	3633
 21739 03:595A: 22 xx xx xx  	jsl	~~k_disable_border
 21740                        ;
 21741                        ;	//setColors();
 21742                        ;	//defineGrayPalette();
 21743                        ;
 21744                        ;
 21745                        ;
 21746                        ;	if(!_k_WindowObject_nodes)
 21747                        	.line	3640
 21748                        ;		_k_WindowObject_nodes = k_nodelist_init(
  Thu Dec  3 2020 22:25                                                Page 401


                    0xF0,"master",NULL);
 21749 03:595E: AD xx xx     	lda	|~~_k_WindowObject_nodes
 21750 03:5961: 0D xx xx     	ora	|~~_k_WindowObject_nodes+2
 21751 03:5964: F0 03        	beq	L944
 21752 03:5966: 82 19 00     	brl	L10405
 21753                        L944:
 21754                        	.line	3641
 21755 03:5969: F4 00 00     	pea	#^$0
 21756 03:596C: F4 00 00     	pea	#<$0
 21757 03:596F: F4 xx xx     	pea	#^L940
 21758 03:5972: F4 xx xx     	pea	#<L940
 21759 03:5975: F4 F0 00     	pea	#<$f0
 21760 03:5978: 22 xx xx xx  	jsl	~~k_nodelist_init
 21761 03:597C: 8D xx xx     	sta	|~~_k_WindowObject_nodes
 21762 03:597F: 8E xx xx     	stx	|~~_k_WindowObject_nodes+2
 21763                        ;	if(!_k_WindowHit_nodes)
 21764                        L10405:
 21765                        	.line	3642
 21766                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 21767 03:5982: AD xx xx     	lda	|~~_k_WindowHit_nodes
 21768 03:5985: 0D xx xx     	ora	|~~_k_WindowHit_nodes+2
 21769 03:5988: F0 03        	beq	L945
 21770 03:598A: 82 19 00     	brl	L10406
 21771                        L945:
 21772                        	.line	3643
 21773 03:598D: F4 00 00     	pea	#^$0
 21774 03:5990: F4 00 00     	pea	#<$0
 21775 03:5993: F4 xx xx     	pea	#^L940+7
 21776 03:5996: F4 xx xx     	pea	#<L940+7
 21777 03:5999: F4 F0 00     	pea	#<$f0
 21778 03:599C: 22 xx xx xx  	jsl	~~k_nodelist_init
 21779 03:59A0: 8D xx xx     	sta	|~~_k_WindowHit_nodes
 21780 03:59A3: 8E xx xx     	stx	|~~_k_WindowHit_nodes+2
 21781                        ;
 21782                        ;	if(process->desktopCtl == NULL)
 21783                        L10406:
 21784                        	.line	3645
 21785                        ;	{
 21786 03:59A6: A0 58 00     	ldy	#$58
 21787 03:59A9: B7 1A        	lda	[<L941+process_0],Y
 21788 03:59AB: A0 5A 00     	ldy	#$5a
 21789 03:59AE: 17 1A        	ora	[<L941+process_0],Y
 21790 03:59B0: F0 03        	beq	L946
 21791 03:59B2: 82 2F 00     	brl	L10407
 21792                        L946:
 21793                        	.line	3646
 21794                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 21795                        	.line	3647
 21796 03:59B5: F4 31 00     	pea	#<$31
 21797 03:59B8: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 21798 03:59BC: 85 01        	sta	<R0
 21799 03:59BE: 86 03        	stx	<R0+2
 21800 03:59C0: A5 01        	lda	<R0
 21801 03:59C2: A0 58 00     	ldy	#$58
 21802 03:59C5: 97 1A        	sta	[<L941+process_0],Y
 21803 03:59C7: A5 03        	lda	<R0+2
  Thu Dec  3 2020 22:25                                                Page 402


 21804 03:59C9: A0 5A 00     	ldy	#$5a
 21805 03:59CC: 97 1A        	sta	[<L941+process_0],Y
 21806                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 21807                        	.line	3648
 21808 03:59CE: F4 31 00     	pea	#<$31
 21809 03:59D1: F4 00 00     	pea	#<$0
 21810 03:59D4: A0 5A 00     	ldy	#$5a
 21811 03:59D7: B7 1A        	lda	[<L941+process_0],Y
 21812 03:59D9: 48           	pha
 21813 03:59DA: A0 58 00     	ldy	#$58
 21814 03:59DD: B7 1A        	lda	[<L941+process_0],Y
 21815 03:59DF: 48           	pha
 21816 03:59E0: 22 xx xx xx  	jsl	~~memset
 21817                        ;	}
 21818                        	.line	3649
 21819                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 21820                        L10407:
 21821                        	.line	3650
 21822 03:59E4: A0 58 00     	ldy	#$58
 21823 03:59E7: B7 1A        	lda	[<L941+process_0],Y
 21824 03:59E9: 85 01        	sta	<R0
 21825 03:59EB: A0 5A 00     	ldy	#$5a
 21826 03:59EE: B7 1A        	lda	[<L941+process_0],Y
 21827 03:59F0: 85 03        	sta	<R0+2
 21828 03:59F2: 22 0B 0D 03  	jsl	~~k_getUIDesktopColor
 21829 03:59F6: A0 05 00     	ldy	#$5
 21830 03:59F9: 97 01        	sta	[<R0],Y
 21831                        ;	process->desktopCtl->currentDiskName = NULL;
 21832                        	.line	3651
 21833 03:59FB: A0 58 00     	ldy	#$58
 21834 03:59FE: B7 1A        	lda	[<L941+process_0],Y
 21835 03:5A00: 85 01        	sta	<R0
 21836 03:5A02: A0 5A 00     	ldy	#$5a
 21837 03:5A05: B7 1A        	lda	[<L941+process_0],Y
 21838 03:5A07: 85 03        	sta	<R0+2
 21839 03:5A09: A9 00 00     	lda	#$0
 21840 03:5A0C: A0 11 00     	ldy	#$11
 21841 03:5A0F: 97 01        	sta	[<R0],Y
 21842 03:5A11: A9 00 00     	lda	#$0
 21843 03:5A14: A0 13 00     	ldy	#$13
 21844 03:5A17: 97 01        	sta	[<R0],Y
 21845                        ;
 21846                        ;	// clear screen the old way
 21847                        ;
 21848                        ;	/*
 21849                        ;	for(y=0;y<480;y++)
 21850                        ;	{
 21851                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 21852                        ;	}
 21853                        ;	*/
 21854                        ;	k_vdma_fill_rect_ex(0,0,640,480,k_getUIBackgroun
                    dColor(),0x10);
 21855                        	.line	3661
 21856 03:5A19: F4 10 00     	pea	#<$10
 21857 03:5A1C: 22 F6 0C 03  	jsl	~~k_getUIBackgroundColor
  Thu Dec  3 2020 22:25                                                Page 403


 21858 03:5A20: 48           	pha
 21859 03:5A21: F4 E0 01     	pea	#<$1e0
 21860 03:5A24: F4 80 02     	pea	#<$280
 21861 03:5A27: F4 00 00     	pea	#^$0
 21862 03:5A2A: F4 00 00     	pea	#<$0
 21863 03:5A2D: F4 00 00     	pea	#^$0
 21864 03:5A30: F4 00 00     	pea	#<$0
 21865 03:5A33: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 21866                        ;
 21867                        ;
 21868                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 21869                        ;
 21870                        ;
 21871                        ;	/*
 21872                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
                    );
 21873                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 21874                        ;
 21875                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 21876                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
                    string->buffer));
 21877                        ;
 21878                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 21879                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 21880                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
 21881                        ;							
                    						  k_getUIMenuCol
                    or(),
 21882                        ;							
                    						  k_getUIWindowF
                    rameColor());
 21883                        ;
 21884                        ;	if(fxstring)
 21885                        ;		k_fxstring_free(fxstring);
 21886                        ;	*/
 21887                        ;
 21888                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 21889                        ;
 21890                        ;	/*
 21891                        ;	//FX-Basic
 21892                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 21893                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 21894                        ;
 21895                        ;	//Projects
 21896                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 21897                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
  Thu Dec  3 2020 22:25                                                Page 404


 21898                        ;	*/
 21899                        ;
 21900                        ;	//Shredder
 21901                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 21902                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
                    470,0);
 21903                        ;
 21904                        ;
 21905                        ;
 21906                        ;	return;
 21907                        	.line	3702
 21908                        L947:
 21909 03:5A37: A5 18        	lda	<L941+2
 21910 03:5A39: 85 1C        	sta	<L941+2+4
 21911 03:5A3B: A5 17        	lda	<L941+1
 21912 03:5A3D: 85 1B        	sta	<L941+1+4
 21913 03:5A3F: 2B           	pld
 21914 03:5A40: 3B           	tsc
 21915 03:5A41: 18           	clc
 21916 03:5A42: 69 1A 00     	adc	#L941+4
 21917 03:5A45: 1B           	tcs
 21918 03:5A46: 6B           	rtl
 21919                        ;}
 21920                        	.line	3703
 21921                        	.endblock	3703
 21922             00000016   L941	equ	22
 21923             00000005   L942	equ	5
 21924 03:5A47:              	ends
 21925                        	efunc
 21926                        	.endfunc	3703,5,22
 21927                        	.line	3703
 21928                        	data
 21929                        L940:
 21930 00:0CB9: 6D 61 73 74  	db	$6D,$61,$73,$74,$65,$72,$00,$6D,$61,$73,
                    $74,$65,$72,$00
       00:0CBD: 65 72 00 6D 
       00:0CC1: 61 73 74 65 
       00:0CC5: 72 00 
 21931 00:0CC7:              	ends
 21932                        ;
 21933                        ;
 21934                        ;
 21935                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 21936                        ;{
 21937                        	.line	3707
 21938                        	.line	3708
 21939                        	GUI
 21940                        	xdef	~~k_add_window_hit_node
 21941                        	func
 21942                        	.function	3708
 21943                        ~~k_add_window_hit_node:
 21944                        	longa	on
 21945                        	longi	on
 21946 03:5A47: 3B           	tsc
 21947 03:5A48: 38           	sec
 21948 03:5A49: E9 04 00     	sbc	#L949
 21949 03:5A4C: 1B           	tcs
  Thu Dec  3 2020 22:25                                                Page 405


 21950 03:5A4D: 0B           	phd
 21951 03:5A4E: 5B           	tcd
 21952             00000004   pcd_0	set	4
 21953                        	.block	3708
 21954                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 21955                        	.sym	pcd,4,138,6,32,53
 21956                        	.line	3709
 21957 03:5A4F: D4 0A        	pei	<L949+pcd_0+2
 21958 03:5A51: D4 08        	pei	<L949+pcd_0
 21959 03:5A53: F4 xx xx     	pea	#^L948
 21960 03:5A56: F4 xx xx     	pea	#<L948
 21961 03:5A59: 22 xx xx xx  	jsl	~~k_debug_pointer
 21962                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 21963                        	.line	3710
 21964 03:5A5D: F4 00 00     	pea	#^$0
 21965 03:5A60: F4 00 00     	pea	#<$0
 21966 03:5A63: F4 00 00     	pea	#^$0
 21967 03:5A66: F4 00 00     	pea	#<$0
 21968 03:5A69: D4 0A        	pei	<L949+pcd_0+2
 21969 03:5A6B: D4 08        	pei	<L949+pcd_0
 21970 03:5A6D: F4 xx xx     	pea	#^L948+23
 21971 03:5A70: F4 xx xx     	pea	#<L948+23
 21972 03:5A73: F4 01 00     	pea	#<$1
 21973 03:5A76: 22 xx xx xx  	jsl	~~k_nodelist_create
 21974 03:5A7A: 85 01        	sta	<R0
 21975 03:5A7C: 86 03        	stx	<R0+2
 21976 03:5A7E: DA           	phx
 21977 03:5A7F: 48           	pha
 21978 03:5A80: AD xx xx     	lda	|~~_k_WindowHit_nodes+2
 21979 03:5A83: 48           	pha
 21980 03:5A84: AD xx xx     	lda	|~~_k_WindowHit_nodes
 21981 03:5A87: 48           	pha
 21982 03:5A88: 22 xx xx xx  	jsl	~~k_nodelist_add
 21983                        ;}
 21984                        	.line	3711
 21985                        L952:
 21986 03:5A8C: A5 06        	lda	<L949+2
 21987 03:5A8E: 85 0A        	sta	<L949+2+4
 21988 03:5A90: A5 05        	lda	<L949+1
 21989 03:5A92: 85 09        	sta	<L949+1+4
 21990 03:5A94: 2B           	pld
 21991 03:5A95: 3B           	tsc
 21992 03:5A96: 18           	clc
 21993 03:5A97: 69 08 00     	adc	#L949+4
 21994 03:5A9A: 1B           	tcs
 21995 03:5A9B: 6B           	rtl
 21996                        	.endblock	3711
 21997             00000004   L949	equ	4
 21998             00000005   L950	equ	5
 21999 03:5A9C:              	ends
 22000                        	efunc
 22001                        	.endfunc	3711,5,4
 22002                        	.line	3711
 22003                        	data
 22004                        L948:
 22005 00:0CC7: 6B 5F 61 64  	db	$6B,$5F,$61,$64,$64,$5F,$77,$69,$6E,$64,
                    $6F,$77,$5F,$68,$69
  Thu Dec  3 2020 22:25                                                Page 406


       00:0CCB: 64 5F 77 69 
       00:0CCF: 6E 64 6F 77 
       00:0CD3: 5F 68 69 
 22006 00:0CD6: 74 5F 6E 6F  	db	$74,$5F,$6E,$6F,$64,$65,$3A,$00,$77,$69,
                    $6E,$64,$6F,$77,$00
       00:0CDA: 64 65 3A 00 
       00:0CDE: 77 69 6E 64 
       00:0CE2: 6F 77 00 
 22007 00:0CE5:              	ends
 22008                        ;
 22009                        ;/*
 22010                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 22011                        ;{
 22012                        ;	int i = 0;
 22013                        ;	int index = -1;
 22014                        ;	int found = 0;
 22015                        ;	PCLICKABLE top = NULL;
 22016                        ;	RECT r;
 22017                        ;
 22018                        ;	for(i=0;i<cSize;i++)
 22019                        ;	{
 22020                        ;		hitList[i] = NULL;
 22021                        ;		r = clickableList[i].area;
 22022                        ;		if(x >=r.x && x<(r.x+r.width))
 22023                        ;		{
 22024                        ;			if(y >=r.y && y<(r.y+r.height))
 22025                        ;			{
 22026                        ;				index = i;
 22027                        ;				//clickableList[i].depth
                     = 1;
 22028                        ;				hitList[i] = &clickableL
                    ist[i];
 22029                        ;				found++;
 22030                        ;			}
 22031                        ;		}
 22032                        ;	}
 22033                        ;
 22034                        ;	if(found > 0)
 22035                        ;	{
 22036                        ;		top = hitList[0];
 22037                        ;		for(i=0;i<cSize;i++)
 22038                        ;		{
 22039                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 22040                        ;			{
 22041                        ;				top->depth = 1;
 22042                        ;				top = hitList[i];
 22043                        ;				top->depth = 0;
 22044                        ;				index = i;
 22045                        ;			}
 22046                        ;		}
 22047                        ;	}
 22048                        ;	else
 22049                        ;	{
 22050                        ;		clickableList[index].depth = 0;
 22051                        ;	}
 22052                        ;
  Thu Dec  3 2020 22:25                                                Page 407


 22053                        ;	return index;
 22054                        ;}
 22055                        ;*/
 22056                        ;PFXNODE k_point_in_nodes(int x,int y)
 22057                        ;{
 22058                        	.line	3760
 22059                        	.line	3761
 22060                        	GUI
 22061                        	xdef	~~k_point_in_nodes
 22062                        	func
 22063                        	.function	3761
 22064                        ~~k_point_in_nodes:
 22065                        	longa	on
 22066                        	longi	on
 22067 03:5A9C: 3B           	tsc
 22068 03:5A9D: 38           	sec
 22069 03:5A9E: E9 20 00     	sbc	#L954
 22070 03:5AA1: 1B           	tcs
 22071 03:5AA2: 0B           	phd
 22072 03:5AA3: 5B           	tcd
 22073             00000004   x_0	set	4
 22074             00000006   y_0	set	6
 22075                        	.block	3761
 22076                        ;	PFXNODE found = NULL;
 22077                        ;	LPCHAR ctx = "";
 22078                        ;	PFXNODE ptr = NULL;
 22079                        ;
 22080                        ;	RECT r;
 22081                        ;	int i = 0;
 22082                        ;	int index = -1;
 22083                        ;
 22084                        ;	//k_debug_string("k_point_in_nodes\r\n");
 22085                        ;
 22086                        ;	if(_k_WindowHit_nodes!=NULL)
 22087             00000000   found_1	set	0
 22088             00000004   ctx_1	set	4
 22089             00000008   ptr_1	set	8
 22090             0000000C   r_1	set	12
 22091             00000014   i_1	set	20
 22092             00000016   index_1	set	22
 22093                        	.sym	found,0,138,1,32,5
 22094                        	.sym	ctx,4,142,1,32
 22095                        	.sym	ptr,8,138,1,32,5
 22096                        	.sym	r,12,10,1,64,25
 22097                        	.sym	i,20,5,1,16
 22098                        	.sym	index,22,5,1,16
 22099                        	.sym	x,4,5,6,16
 22100                        	.sym	y,6,5,6,16
 22101 03:5AA4: 64 09        	stz	<L955+found_1
 22102 03:5AA6: 64 0B        	stz	<L955+found_1+2
 22103 03:5AA8: A9 xx xx     	lda	#<L953
 22104 03:5AAB: 85 0D        	sta	<L955+ctx_1
 22105 03:5AAD: A9 xx xx     	lda	#^L953
 22106 03:5AB0: 85 0F        	sta	<L955+ctx_1+2
 22107 03:5AB2: 64 11        	stz	<L955+ptr_1
 22108 03:5AB4: 64 13        	stz	<L955+ptr_1+2
 22109 03:5AB6: 64 1D        	stz	<L955+i_1
 22110 03:5AB8: A9 FF FF     	lda	#$ffff
  Thu Dec  3 2020 22:25                                                Page 408


 22111 03:5ABB: 85 1F        	sta	<L955+index_1
 22112                        	.line	3772
 22113                        ;	{
 22114 03:5ABD: AD xx xx     	lda	|~~_k_WindowHit_nodes
 22115 03:5AC0: 0D xx xx     	ora	|~~_k_WindowHit_nodes+2
 22116 03:5AC3: D0 03        	bne	L957
 22117 03:5AC5: 82 CB 00     	brl	L10408
 22118                        L957:
 22119                        	.line	3773
 22120                        ;		ptr = _k_WindowHit_nodes->next;
 22121                        	.line	3774
 22122 03:5AC8: AD xx xx     	lda	|~~_k_WindowHit_nodes
 22123 03:5ACB: 85 01        	sta	<R0
 22124 03:5ACD: AD xx xx     	lda	|~~_k_WindowHit_nodes+2
 22125 03:5AD0: 85 03        	sta	<R0+2
 22126 03:5AD2: A0 0A 00     	ldy	#$a
 22127 03:5AD5: B7 01        	lda	[<R0],Y
 22128 03:5AD7: 85 11        	sta	<L955+ptr_1
 22129 03:5AD9: A0 0C 00     	ldy	#$c
 22130 03:5ADC: B7 01        	lda	[<R0],Y
 22131 03:5ADE: 85 13        	sta	<L955+ptr_1+2
 22132                        ;		while(ptr!=NULL)
 22133                        	.line	3775
 22134                        L10409:
 22135 03:5AE0: A5 11        	lda	<L955+ptr_1
 22136 03:5AE2: 05 13        	ora	<L955+ptr_1+2
 22137 03:5AE4: D0 03        	bne	L958
 22138 03:5AE6: 82 AA 00     	brl	L10410
 22139                        L958:
 22140                        ;		{
 22141                        	.line	3776
 22142                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 22143                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 22144                        	.line	3778
 22145 03:5AE9: A0 02 00     	ldy	#$2
 22146 03:5AEC: B7 11        	lda	[<L955+ptr_1],Y
 22147 03:5AEE: 85 01        	sta	<R0
 22148 03:5AF0: A0 04 00     	ldy	#$4
 22149 03:5AF3: B7 11        	lda	[<L955+ptr_1],Y
 22150 03:5AF5: 85 03        	sta	<R0+2
 22151 03:5AF7: A7 01        	lda	[<R0]
 22152 03:5AF9: 85 05        	sta	<R1
 22153 03:5AFB: A0 02 00     	ldy	#$2
 22154 03:5AFE: B7 01        	lda	[<R0],Y
 22155 03:5B00: 85 07        	sta	<R1+2
 22156 03:5B02: A0 D2 00     	ldy	#$d2
 22157 03:5B05: B7 05        	lda	[<R1],Y
 22158 03:5B07: 48           	pha
 22159 03:5B08: A0 D0 00     	ldy	#$d0
 22160 03:5B0B: B7 05        	lda	[<R1],Y
 22161 03:5B0D: 48           	pha
 22162 03:5B0E: 18           	clc
 22163 03:5B0F: 7B           	tdc
 22164 03:5B10: 69 15 00     	adc	#<L955+r_1
 22165 03:5B13: 85 01        	sta	<R0
 22166 03:5B15: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 409


 22167 03:5B18: 85 03        	sta	<R0+2
 22168 03:5B1A: D4 03        	pei	<R0+2
 22169 03:5B1C: D4 01        	pei	<R0
 22170 03:5B1E: A9 08 00     	lda	#$8
 22171                        	xref	~~~fmov
 22172 03:5B21: 22 xx xx xx  	jsl	~~~fmov
 22173                        ;			if(x >=r.x && x<(r.x+r.width))
 22174                        	.line	3779
 22175                        ;			{
 22176 03:5B25: 38           	sec
 22177 03:5B26: A5 24        	lda	<L954+x_0
 22178 03:5B28: E5 15        	sbc	<L955+r_1
 22179 03:5B2A: 70 03        	bvs	L959
 22180 03:5B2C: 49 00 80     	eor	#$8000
 22181                        L959:
 22182 03:5B2F: 30 03        	bmi	L960
 22183 03:5B31: 82 46 00     	brl	L10411
 22184                        L960:
 22185 03:5B34: 18           	clc
 22186 03:5B35: A5 15        	lda	<L955+r_1
 22187 03:5B37: 65 19        	adc	<L955+r_1+4
 22188 03:5B39: 85 01        	sta	<R0
 22189 03:5B3B: 38           	sec
 22190 03:5B3C: A5 24        	lda	<L954+x_0
 22191 03:5B3E: E5 01        	sbc	<R0
 22192 03:5B40: 70 03        	bvs	L961
 22193 03:5B42: 49 00 80     	eor	#$8000
 22194                        L961:
 22195 03:5B45: 10 03        	bpl	L962
 22196 03:5B47: 82 30 00     	brl	L10411
 22197                        L962:
 22198                        	.line	3780
 22199                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 22200                        	.line	3781
 22201                        ;				{
 22202 03:5B4A: 38           	sec
 22203 03:5B4B: A5 26        	lda	<L954+y_0
 22204 03:5B4D: E5 17        	sbc	<L955+r_1+2
 22205 03:5B4F: 70 03        	bvs	L963
 22206 03:5B51: 49 00 80     	eor	#$8000
 22207                        L963:
 22208 03:5B54: 30 03        	bmi	L964
 22209 03:5B56: 82 21 00     	brl	L10412
 22210                        L964:
 22211 03:5B59: 18           	clc
 22212 03:5B5A: A5 17        	lda	<L955+r_1+2
 22213 03:5B5C: 65 1B        	adc	<L955+r_1+6
 22214 03:5B5E: 85 01        	sta	<R0
 22215 03:5B60: 38           	sec
 22216 03:5B61: A5 26        	lda	<L954+y_0
 22217 03:5B63: E5 01        	sbc	<R0
 22218 03:5B65: 70 03        	bvs	L965
 22219 03:5B67: 49 00 80     	eor	#$8000
 22220                        L965:
 22221 03:5B6A: 10 03        	bpl	L966
 22222 03:5B6C: 82 0B 00     	brl	L10412
 22223                        L966:
  Thu Dec  3 2020 22:25                                                Page 410


 22224                        	.line	3782
 22225                        ;					found = ptr;
 22226                        	.line	3783
 22227 03:5B6F: A5 11        	lda	<L955+ptr_1
 22228 03:5B71: 85 09        	sta	<L955+found_1
 22229 03:5B73: A5 13        	lda	<L955+ptr_1+2
 22230 03:5B75: 85 0B        	sta	<L955+found_1+2
 22231                        ;					break;
 22232                        	.line	3784
 22233 03:5B77: 82 19 00     	brl	L10410
 22234                        ;				}
 22235                        	.line	3785
 22236                        ;			}
 22237                        L10412:
 22238                        	.line	3786
 22239                        ;			ptr = ptr->next;
 22240                        L10411:
 22241                        	.line	3787
 22242 03:5B7A: A0 0A 00     	ldy	#$a
 22243 03:5B7D: B7 11        	lda	[<L955+ptr_1],Y
 22244 03:5B7F: 85 01        	sta	<R0
 22245 03:5B81: A0 0C 00     	ldy	#$c
 22246 03:5B84: B7 11        	lda	[<L955+ptr_1],Y
 22247 03:5B86: 85 03        	sta	<R0+2
 22248 03:5B88: A5 01        	lda	<R0
 22249 03:5B8A: 85 11        	sta	<L955+ptr_1
 22250 03:5B8C: A5 03        	lda	<R0+2
 22251 03:5B8E: 85 13        	sta	<L955+ptr_1+2
 22252                        ;		}
 22253                        	.line	3788
 22254 03:5B90: 82 4D FF     	brl	L10409
 22255                        L10410:
 22256                        ;	}
 22257                        	.line	3789
 22258                        ;
 22259                        ;	return found;
 22260                        L10408:
 22261                        	.line	3791
 22262 03:5B93: A6 0B        	ldx	<L955+found_1+2
 22263 03:5B95: A5 09        	lda	<L955+found_1
 22264                        L967:
 22265 03:5B97: A8           	tay
 22266 03:5B98: A5 22        	lda	<L954+2
 22267 03:5B9A: 85 26        	sta	<L954+2+4
 22268 03:5B9C: A5 21        	lda	<L954+1
 22269 03:5B9E: 85 25        	sta	<L954+1+4
 22270 03:5BA0: 2B           	pld
 22271 03:5BA1: 3B           	tsc
 22272 03:5BA2: 18           	clc
 22273 03:5BA3: 69 24 00     	adc	#L954+4
 22274 03:5BA6: 1B           	tcs
 22275 03:5BA7: 98           	tya
 22276 03:5BA8: 6B           	rtl
 22277                        ;}
 22278                        	.line	3792
 22279                        	.endblock	3792
 22280             00000020   L954	equ	32
 22281             00000009   L955	equ	9
  Thu Dec  3 2020 22:25                                                Page 411


 22282 03:5BA9:              	ends
 22283                        	efunc
 22284                        	.endfunc	3792,9,32
 22285                        	.line	3792
 22286                        	data
 22287                        L953:
 22288 00:0CE5: 00           	db	$00
 22289 00:0CE6:              	ends
 22290                        ;
 22291                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 22292                        ;{
 22293                        	.line	3794
 22294                        	.line	3795
 22295                        	GUI
 22296                        	xdef	~~k_point_in_list
 22297                        	func
 22298                        	.function	3795
 22299                        ~~k_point_in_list:
 22300                        	longa	on
 22301                        	longi	on
 22302 03:5BA9: 3B           	tsc
 22303 03:5BAA: 38           	sec
 22304 03:5BAB: E9 14 00     	sbc	#L969
 22305 03:5BAE: 1B           	tcs
 22306 03:5BAF: 0B           	phd
 22307 03:5BB0: 5B           	tcd
 22308             00000004   x_0	set	4
 22309             00000006   y_0	set	6
 22310             00000008   clickableList_0	set	8
 22311             0000000C   cSize_0	set	12
 22312                        	.block	3795
 22313                        ;	RECT r;
 22314                        ;	int i = 0;
 22315                        ;	int index = -1;
 22316                        ;
 22317                        ;	for(i=0;i<cSize;i++)
 22318             00000000   r_1	set	0
 22319             00000008   i_1	set	8
 22320             0000000A   index_1	set	10
 22321                        	.sym	r,0,10,1,64,25
 22322                        	.sym	i,8,5,1,16
 22323                        	.sym	index,10,5,1,16
 22324                        	.sym	x,4,5,6,16
 22325                        	.sym	y,6,5,6,16
 22326                        	.sym	clickableList,8,138,6,32,27
 22327                        	.sym	cSize,12,5,6,16
 22328 03:5BB1: 64 11        	stz	<L970+i_1
 22329 03:5BB3: A9 FF FF     	lda	#$ffff
 22330 03:5BB6: 85 13        	sta	<L970+index_1
 22331                        	.line	3800
 22332 03:5BB8: 64 11        	stz	<L970+i_1
 22333 03:5BBA: 82 99 00     	brl	L10416
 22334                        L10415:
 22335                        ;	{
 22336                        	.line	3801
 22337                        ;		r = clickableList[i].area;
 22338                        	.line	3802
  Thu Dec  3 2020 22:25                                                Page 412


 22339 03:5BBD: A0 00 00     	ldy	#$0
 22340 03:5BC0: A5 11        	lda	<L970+i_1
 22341 03:5BC2: 10 01        	bpl	L972
 22342 03:5BC4: 88           	dey
 22343                        L972:
 22344 03:5BC5: 85 01        	sta	<R0
 22345 03:5BC7: 84 03        	sty	<R0+2
 22346 03:5BC9: F4 00 00     	pea	#^$b
 22347 03:5BCC: F4 0B 00     	pea	#<$b
 22348 03:5BCF: D4 03        	pei	<R0+2
 22349 03:5BD1: D4 01        	pei	<R0
 22350                        	xref	~~~lmul
 22351 03:5BD3: 22 xx xx xx  	jsl	~~~lmul
 22352 03:5BD7: 85 01        	sta	<R0
 22353 03:5BD9: 86 03        	stx	<R0+2
 22354 03:5BDB: 18           	clc
 22355 03:5BDC: A5 1C        	lda	<L969+clickableList_0
 22356 03:5BDE: 65 01        	adc	<R0
 22357 03:5BE0: 85 05        	sta	<R1
 22358 03:5BE2: A5 1E        	lda	<L969+clickableList_0+2
 22359 03:5BE4: 65 03        	adc	<R0+2
 22360 03:5BE6: 85 07        	sta	<R1+2
 22361 03:5BE8: D4 07        	pei	<R1+2
 22362 03:5BEA: D4 05        	pei	<R1
 22363 03:5BEC: 18           	clc
 22364 03:5BED: 7B           	tdc
 22365 03:5BEE: 69 09 00     	adc	#<L970+r_1
 22366 03:5BF1: 85 01        	sta	<R0
 22367 03:5BF3: A9 00 00     	lda	#$0
 22368 03:5BF6: 85 03        	sta	<R0+2
 22369 03:5BF8: D4 03        	pei	<R0+2
 22370 03:5BFA: D4 01        	pei	<R0
 22371 03:5BFC: A9 08 00     	lda	#$8
 22372                        	xref	~~~fmov
 22373 03:5BFF: 22 xx xx xx  	jsl	~~~fmov
 22374                        ;		if(x >=r.x && x<(r.x+r.width))
 22375                        	.line	3803
 22376                        ;		{
 22377 03:5C03: 38           	sec
 22378 03:5C04: A5 18        	lda	<L969+x_0
 22379 03:5C06: E5 09        	sbc	<L970+r_1
 22380 03:5C08: 70 03        	bvs	L973
 22381 03:5C0A: 49 00 80     	eor	#$8000
 22382                        L973:
 22383 03:5C0D: 30 03        	bmi	L974
 22384 03:5C0F: 82 42 00     	brl	L10417
 22385                        L974:
 22386 03:5C12: 18           	clc
 22387 03:5C13: A5 09        	lda	<L970+r_1
 22388 03:5C15: 65 0D        	adc	<L970+r_1+4
 22389 03:5C17: 85 01        	sta	<R0
 22390 03:5C19: 38           	sec
 22391 03:5C1A: A5 18        	lda	<L969+x_0
 22392 03:5C1C: E5 01        	sbc	<R0
 22393 03:5C1E: 70 03        	bvs	L975
 22394 03:5C20: 49 00 80     	eor	#$8000
 22395                        L975:
 22396 03:5C23: 10 03        	bpl	L976
  Thu Dec  3 2020 22:25                                                Page 413


 22397 03:5C25: 82 2C 00     	brl	L10417
 22398                        L976:
 22399                        	.line	3804
 22400                        ;			if(y >=r.y && y<(r.y+r.height))
 22401                        	.line	3805
 22402                        ;			{
 22403 03:5C28: 38           	sec
 22404 03:5C29: A5 1A        	lda	<L969+y_0
 22405 03:5C2B: E5 0B        	sbc	<L970+r_1+2
 22406 03:5C2D: 70 03        	bvs	L977
 22407 03:5C2F: 49 00 80     	eor	#$8000
 22408                        L977:
 22409 03:5C32: 30 03        	bmi	L978
 22410 03:5C34: 82 1D 00     	brl	L10418
 22411                        L978:
 22412 03:5C37: 18           	clc
 22413 03:5C38: A5 0B        	lda	<L970+r_1+2
 22414 03:5C3A: 65 0F        	adc	<L970+r_1+6
 22415 03:5C3C: 85 01        	sta	<R0
 22416 03:5C3E: 38           	sec
 22417 03:5C3F: A5 1A        	lda	<L969+y_0
 22418 03:5C41: E5 01        	sbc	<R0
 22419 03:5C43: 70 03        	bvs	L979
 22420 03:5C45: 49 00 80     	eor	#$8000
 22421                        L979:
 22422 03:5C48: 10 03        	bpl	L980
 22423 03:5C4A: 82 07 00     	brl	L10418
 22424                        L980:
 22425                        	.line	3806
 22426                        ;				index = i;
 22427                        	.line	3807
 22428 03:5C4D: A5 11        	lda	<L970+i_1
 22429 03:5C4F: 85 13        	sta	<L970+index_1
 22430                        ;				//clickableList[i].depth
                     = 1;
 22431                        ;				break;
 22432                        	.line	3809
 22433 03:5C51: 82 11 00     	brl	L10414
 22434                        ;			}
 22435                        	.line	3810
 22436                        ;		}
 22437                        L10418:
 22438                        	.line	3811
 22439                        ;	}
 22440                        L10417:
 22441                        	.line	3812
 22442                        L10413:
 22443 03:5C54: E6 11        	inc	<L970+i_1
 22444                        L10416:
 22445 03:5C56: 38           	sec
 22446 03:5C57: A5 11        	lda	<L970+i_1
 22447 03:5C59: E5 20        	sbc	<L969+cSize_0
 22448 03:5C5B: 70 03        	bvs	L981
 22449 03:5C5D: 49 00 80     	eor	#$8000
 22450                        L981:
 22451 03:5C60: 30 03        	bmi	L982
 22452 03:5C62: 82 58 FF     	brl	L10415
 22453                        L982:
  Thu Dec  3 2020 22:25                                                Page 414


 22454                        L10414:
 22455                        ;
 22456                        ;	return index;
 22457                        	.line	3814
 22458 03:5C65: A5 13        	lda	<L970+index_1
 22459                        L983:
 22460 03:5C67: A8           	tay
 22461 03:5C68: A5 16        	lda	<L969+2
 22462 03:5C6A: 85 20        	sta	<L969+2+10
 22463 03:5C6C: A5 15        	lda	<L969+1
 22464 03:5C6E: 85 1F        	sta	<L969+1+10
 22465 03:5C70: 2B           	pld
 22466 03:5C71: 3B           	tsc
 22467 03:5C72: 18           	clc
 22468 03:5C73: 69 1E 00     	adc	#L969+10
 22469 03:5C76: 1B           	tcs
 22470 03:5C77: 98           	tya
 22471 03:5C78: 6B           	rtl
 22472                        ;}
 22473                        	.line	3815
 22474                        	.endblock	3815
 22475             00000014   L969	equ	20
 22476             00000009   L970	equ	9
 22477 03:5C79:              	ends
 22478                        	efunc
 22479                        	.endfunc	3815,9,20
 22480                        	.line	3815
 22481                        ;
 22482                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 22483                        ;{
 22484                        	.line	3817
 22485                        	.line	3818
 22486                        	GUI
 22487                        	xdef	~~k_create_context_menus
 22488                        	func
 22489                        	.function	3818
 22490                        ~~k_create_context_menus:
 22491                        	longa	on
 22492                        	longi	on
 22493 03:5C79: 3B           	tsc
 22494 03:5C7A: 38           	sec
 22495 03:5C7B: E9 2C 00     	sbc	#L984
 22496 03:5C7E: 1B           	tcs
 22497 03:5C7F: 0B           	phd
 22498 03:5C80: 5B           	tcd
 22499             00000004   pWin_0	set	4
 22500             00000008   cx_0	set	8
 22501             0000000A   cy_0	set	10
 22502             0000000C   width_0	set	12
 22503             0000000E   height_0	set	14
 22504             00000010   menus_0	set	16
 22505             00000014   color_0	set	20
 22506             00000016   bgcolor_0	set	22
 22507                        	.block	3818
 22508                        ;	FONTMETRIC metric;
 22509                        ;
  Thu Dec  3 2020 22:25                                                Page 415


 22510                        ;	int i = 0;
 22511                        ;	int hy = 0;
 22512                        ;	LPCSTR caption = NULL;
 22513                        ;
 22514                        ;	int borderTitle = 10;
 22515                        ;	int borderWidth = 3;
 22516                        ;
 22517                        ;	int titleOffsetX = cx+4;
 22518                        ;	int titleOffsetY = cy+2;
 22519                        ;	int titleScaler = 0;
 22520                        ;
 22521                        ;	int clientOffsetX = cx+borderWidth+2;
 22522                        ;	int clientOffsetY = cy+borderTitle+1;
 22523                        ;
 22524                        ;	int endX = width + cx - borderWidth;
 22525                        ;
 22526                        ;
 22527                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 22528             00000000   metric_1	set	0
 22529             00000004   i_1	set	4
 22530             00000006   hy_1	set	6
 22531             00000008   caption_1	set	8
 22532             0000000C   borderTitle_1	set	12
 22533             0000000E   borderWidth_1	set	14
 22534             00000010   titleOffsetX_1	set	16
 22535             00000012   titleOffsetY_1	set	18
 22536             00000014   titleScaler_1	set	20
 22537             00000016   clientOffsetX_1	set	22
 22538             00000018   clientOffsetY_1	set	24
 22539             0000001A   endX_1	set	26
 22540                        	.sym	metric,0,10,1,32,32
 22541                        	.sym	i,4,5,1,16
 22542                        	.sym	hy,6,5,1,16
 22543                        	.sym	caption,8,142,1,32
 22544                        	.sym	borderTitle,12,5,1,16
 22545                        	.sym	borderWidth,14,5,1,16
 22546                        	.sym	titleOffsetX,16,5,1,16
 22547                        	.sym	titleOffsetY,18,5,1,16
 22548                        	.sym	titleScaler,20,5,1,16
 22549                        	.sym	clientOffsetX,22,5,1,16
 22550                        	.sym	clientOffsetY,24,5,1,16
 22551                        	.sym	endX,26,5,1,16
 22552                        	.sym	pWin,4,138,6,32,30
 22553                        	.sym	cx,8,5,6,16
 22554                        	.sym	cy,10,5,6,16
 22555                        	.sym	width,12,5,6,16
 22556                        	.sym	height,14,5,6,16
 22557                        	.sym	menus,16,138,6,32,36
 22558                        	.sym	color,20,5,6,16
 22559                        	.sym	bgcolor,22,5,6,16
 22560 03:5C81: 64 15        	stz	<L985+i_1
 22561 03:5C83: 64 17        	stz	<L985+hy_1
 22562 03:5C85: 64 19        	stz	<L985+caption_1
 22563 03:5C87: 64 1B        	stz	<L985+caption_1+2
 22564 03:5C89: A9 0A 00     	lda	#$a
 22565 03:5C8C: 85 1D        	sta	<L985+borderTitle_1
 22566 03:5C8E: A9 03 00     	lda	#$3
  Thu Dec  3 2020 22:25                                                Page 416


 22567 03:5C91: 85 1F        	sta	<L985+borderWidth_1
 22568 03:5C93: 18           	clc
 22569 03:5C94: A9 04 00     	lda	#$4
 22570 03:5C97: 65 34        	adc	<L984+cx_0
 22571 03:5C99: 85 21        	sta	<L985+titleOffsetX_1
 22572 03:5C9B: 18           	clc
 22573 03:5C9C: A9 02 00     	lda	#$2
 22574 03:5C9F: 65 36        	adc	<L984+cy_0
 22575 03:5CA1: 85 23        	sta	<L985+titleOffsetY_1
 22576 03:5CA3: 64 25        	stz	<L985+titleScaler_1
 22577 03:5CA5: 18           	clc
 22578 03:5CA6: A5 34        	lda	<L984+cx_0
 22579 03:5CA8: 65 1F        	adc	<L985+borderWidth_1
 22580 03:5CAA: 85 01        	sta	<R0
 22581 03:5CAC: 18           	clc
 22582 03:5CAD: A9 02 00     	lda	#$2
 22583 03:5CB0: 65 01        	adc	<R0
 22584 03:5CB2: 85 27        	sta	<L985+clientOffsetX_1
 22585 03:5CB4: 18           	clc
 22586 03:5CB5: A5 36        	lda	<L984+cy_0
 22587 03:5CB7: 65 1D        	adc	<L985+borderTitle_1
 22588 03:5CB9: 85 01        	sta	<R0
 22589 03:5CBB: A5 01        	lda	<R0
 22590 03:5CBD: 1A           	ina
 22591 03:5CBE: 85 29        	sta	<L985+clientOffsetY_1
 22592 03:5CC0: 18           	clc
 22593 03:5CC1: A5 38        	lda	<L984+width_0
 22594 03:5CC3: 65 34        	adc	<L984+cx_0
 22595 03:5CC5: 85 01        	sta	<R0
 22596 03:5CC7: 38           	sec
 22597 03:5CC8: A5 01        	lda	<R0
 22598 03:5CCA: E5 1F        	sbc	<L985+borderWidth_1
 22599 03:5CCC: 85 2B        	sta	<L985+endX_1
 22600                        	.line	3838
 22601 03:5CCE: F4 xx xx     	pea	#^L968
 22602 03:5CD1: F4 xx xx     	pea	#<L968
 22603 03:5CD4: 22 xx xx xx  	jsl	~~k_debug_string
 22604                        ;
 22605                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 22606                        	.line	3840
 22607 03:5CD8: F4 00 00     	pea	#<$0
 22608 03:5CDB: F4 00 00     	pea	#<$0
 22609 03:5CDE: D4 3A        	pei	<L984+height_0
 22610 03:5CE0: D4 38        	pei	<L984+width_0
 22611 03:5CE2: D4 36        	pei	<L984+cy_0
 22612 03:5CE4: D4 34        	pei	<L984+cx_0
 22613 03:5CE6: 22 41 6E 03  	jsl	~~k_scratch_save_bitblt
 22614                        ;
 22615                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 22616                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 22617                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 22618                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 22619                        	.line	3845
 22620 03:5CEA: D4 42        	pei	<L984+bgcolor_0
 22621 03:5CEC: D4 3A        	pei	<L984+height_0
  Thu Dec  3 2020 22:25                                                Page 417


 22622 03:5CEE: D4 38        	pei	<L984+width_0
 22623 03:5CF0: A0 00 00     	ldy	#$0
 22624 03:5CF3: A5 36        	lda	<L984+cy_0
 22625 03:5CF5: 10 01        	bpl	L987
 22626 03:5CF7: 88           	dey
 22627                        L987:
 22628 03:5CF8: 85 01        	sta	<R0
 22629 03:5CFA: 84 03        	sty	<R0+2
 22630 03:5CFC: D4 03        	pei	<R0+2
 22631 03:5CFE: D4 01        	pei	<R0
 22632 03:5D00: A0 00 00     	ldy	#$0
 22633 03:5D03: A5 34        	lda	<L984+cx_0
 22634 03:5D05: 10 01        	bpl	L988
 22635 03:5D07: 88           	dey
 22636                        L988:
 22637 03:5D08: 85 05        	sta	<R1
 22638 03:5D0A: 84 07        	sty	<R1+2
 22639 03:5D0C: D4 07        	pei	<R1+2
 22640 03:5D0E: D4 05        	pei	<R1
 22641 03:5D10: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 22642                        ;
 22643                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 22644                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 22645                        ;	i = 0;
 22646                        	.line	3849
 22647 03:5D14: 64 15        	stz	<L985+i_1
 22648                        ;	caption = menus->captions[i];
 22649                        	.line	3850
 22650 03:5D16: A0 00 00     	ldy	#$0
 22651 03:5D19: A5 15        	lda	<L985+i_1
 22652 03:5D1B: 10 01        	bpl	L989
 22653 03:5D1D: 88           	dey
 22654                        L989:
 22655 03:5D1E: 85 05        	sta	<R1
 22656 03:5D20: 84 07        	sty	<R1+2
 22657 03:5D22: D4 07        	pei	<R1+2
 22658 03:5D24: D4 05        	pei	<R1
 22659 03:5D26: A9 02 00     	lda	#$2
 22660                        	xref	~~~lasl
 22661 03:5D29: 22 xx xx xx  	jsl	~~~lasl
 22662 03:5D2D: 85 01        	sta	<R0
 22663 03:5D2F: 86 03        	stx	<R0+2
 22664 03:5D31: 18           	clc
 22665 03:5D32: A9 0C 00     	lda	#$c
 22666 03:5D35: 65 3C        	adc	<L984+menus_0
 22667 03:5D37: 85 09        	sta	<R2
 22668 03:5D39: A9 00 00     	lda	#$0
 22669 03:5D3C: 65 3E        	adc	<L984+menus_0+2
 22670 03:5D3E: 85 0B        	sta	<R2+2
 22671 03:5D40: 18           	clc
 22672 03:5D41: A5 09        	lda	<R2
 22673 03:5D43: 65 01        	adc	<R0
 22674 03:5D45: 85 0D        	sta	<R3
 22675 03:5D47: A5 0B        	lda	<R2+2
 22676 03:5D49: 65 03        	adc	<R0+2
 22677 03:5D4B: 85 0F        	sta	<R3+2
  Thu Dec  3 2020 22:25                                                Page 418


 22678 03:5D4D: A7 0D        	lda	[<R3]
 22679 03:5D4F: 85 19        	sta	<L985+caption_1
 22680 03:5D51: A0 02 00     	ldy	#$2
 22681 03:5D54: B7 0D        	lda	[<R3],Y
 22682 03:5D56: 85 1B        	sta	<L985+caption_1+2
 22683                        ;	while(caption!=NULL)
 22684                        	.line	3851
 22685                        L10419:
 22686 03:5D58: A5 19        	lda	<L985+caption_1
 22687 03:5D5A: 05 1B        	ora	<L985+caption_1+2
 22688 03:5D5C: D0 03        	bne	L990
 22689 03:5D5E: 82 7A 00     	brl	L10420
 22690                        L990:
 22691                        ;	{
 22692                        	.line	3852
 22693                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 22694                        	.line	3853
 22695 03:5D61: D4 1B        	pei	<L985+caption_1+2
 22696 03:5D63: D4 19        	pei	<L985+caption_1
 22697 03:5D65: F4 xx xx     	pea	#^L968+29
 22698 03:5D68: F4 xx xx     	pea	#<L968+29
 22699 03:5D6B: 22 xx xx xx  	jsl	~~k_debug_strings
 22700                        ;
 22701                        ;		//caption = strupr(caption);
 22702                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 22703                        	.line	3856
 22704 03:5D6F: D4 40        	pei	<L984+color_0
 22705 03:5D71: D4 23        	pei	<L985+titleOffsetY_1
 22706 03:5D73: D4 21        	pei	<L985+titleOffsetX_1
 22707 03:5D75: D4 1B        	pei	<L985+caption_1+2
 22708 03:5D77: D4 19        	pei	<L985+caption_1
 22709 03:5D79: 22 62 1A 03  	jsl	~~k_draw_text_point
 22710 03:5D7D: 85 17        	sta	<L985+hy_1
 22711                        ;		titleOffsetY+=(FONTH + 2);
 22712                        	.line	3857
 22713 03:5D7F: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 22714 03:5D83: 85 01        	sta	<R0
 22715 03:5D85: 18           	clc
 22716 03:5D86: A5 01        	lda	<R0
 22717 03:5D88: 65 23        	adc	<L985+titleOffsetY_1
 22718 03:5D8A: 85 05        	sta	<R1
 22719 03:5D8C: 18           	clc
 22720 03:5D8D: A9 02 00     	lda	#$2
 22721 03:5D90: 65 05        	adc	<R1
 22722 03:5D92: 85 23        	sta	<L985+titleOffsetY_1
 22723                        ;		i++;
 22724                        	.line	3858
 22725 03:5D94: E6 15        	inc	<L985+i_1
 22726                        ;		caption = menus->captions[i];
 22727                        	.line	3859
 22728 03:5D96: A0 00 00     	ldy	#$0
 22729 03:5D99: A5 15        	lda	<L985+i_1
 22730 03:5D9B: 10 01        	bpl	L991
 22731 03:5D9D: 88           	dey
 22732                        L991:
 22733 03:5D9E: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 419


 22734 03:5DA0: 84 07        	sty	<R1+2
 22735 03:5DA2: D4 07        	pei	<R1+2
 22736 03:5DA4: D4 05        	pei	<R1
 22737 03:5DA6: A9 02 00     	lda	#$2
 22738                        	xref	~~~lasl
 22739 03:5DA9: 22 xx xx xx  	jsl	~~~lasl
 22740 03:5DAD: 85 01        	sta	<R0
 22741 03:5DAF: 86 03        	stx	<R0+2
 22742 03:5DB1: 18           	clc
 22743 03:5DB2: A9 0C 00     	lda	#$c
 22744 03:5DB5: 65 3C        	adc	<L984+menus_0
 22745 03:5DB7: 85 09        	sta	<R2
 22746 03:5DB9: A9 00 00     	lda	#$0
 22747 03:5DBC: 65 3E        	adc	<L984+menus_0+2
 22748 03:5DBE: 85 0B        	sta	<R2+2
 22749 03:5DC0: 18           	clc
 22750 03:5DC1: A5 09        	lda	<R2
 22751 03:5DC3: 65 01        	adc	<R0
 22752 03:5DC5: 85 0D        	sta	<R3
 22753 03:5DC7: A5 0B        	lda	<R2+2
 22754 03:5DC9: 65 03        	adc	<R0+2
 22755 03:5DCB: 85 0F        	sta	<R3+2
 22756 03:5DCD: A7 0D        	lda	[<R3]
 22757 03:5DCF: 85 19        	sta	<L985+caption_1
 22758 03:5DD1: A0 02 00     	ldy	#$2
 22759 03:5DD4: B7 0D        	lda	[<R3],Y
 22760 03:5DD6: 85 1B        	sta	<L985+caption_1+2
 22761                        ;	}
 22762                        	.line	3860
 22763 03:5DD8: 82 7D FF     	brl	L10419
 22764                        L10420:
 22765                        ;
 22766                        ;	return NULL;
 22767                        	.line	3862
 22768 03:5DDB: A9 00 00     	lda	#$0
 22769 03:5DDE: AA           	tax
 22770 03:5DDF: A9 00 00     	lda	#$0
 22771                        L992:
 22772 03:5DE2: A8           	tay
 22773 03:5DE3: A5 2E        	lda	<L984+2
 22774 03:5DE5: 85 42        	sta	<L984+2+20
 22775 03:5DE7: A5 2D        	lda	<L984+1
 22776 03:5DE9: 85 41        	sta	<L984+1+20
 22777 03:5DEB: 2B           	pld
 22778 03:5DEC: 3B           	tsc
 22779 03:5DED: 18           	clc
 22780 03:5DEE: 69 40 00     	adc	#L984+20
 22781 03:5DF1: 1B           	tcs
 22782 03:5DF2: 98           	tya
 22783 03:5DF3: 6B           	rtl
 22784                        ;}
 22785                        	.line	3863
 22786                        	.endblock	3863
 22787             0000002C   L984	equ	44
 22788             00000011   L985	equ	17
 22789 03:5DF4:              	ends
 22790                        	efunc
 22791                        	.endfunc	3863,17,44
  Thu Dec  3 2020 22:25                                                Page 420


 22792                        	.line	3863
 22793                        	data
 22794                        L968:
 22795 00:0CE6: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0CEA: 65 61 74 65 
       00:0CEE: 5F 63 6F 6E 
       00:0CF2: 74 65 78 
 22796 00:0CF5: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0CF9: 6E 75 3A 66 
       00:0CFD: 69 6C 6C 0D 
       00:0D01: 0A 00 6B 
 22797 00:0D04: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0D08: 61 74 65 5F 
       00:0D0C: 63 6F 6E 74 
       00:0D10: 65 78 74 
 22798 00:0D13: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0D17: 75 3A 63 61 
       00:0D1B: 70 74 69 6F 
       00:0D1F: 6E 3A 00 
 22799 00:0D22:              	ends
 22800                        ;
 22801                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 22802                        ;{
 22803                        	.line	3865
 22804                        	.line	3866
 22805                        	GUI
 22806                        	xdef	~~k_create_context_menu
 22807                        	func
 22808                        	.function	3866
 22809                        ~~k_create_context_menu:
 22810                        	longa	on
 22811                        	longi	on
 22812 03:5DF4: 3B           	tsc
 22813 03:5DF5: 38           	sec
 22814 03:5DF6: E9 28 00     	sbc	#L994
 22815 03:5DF9: 1B           	tcs
 22816 03:5DFA: 0B           	phd
 22817 03:5DFB: 5B           	tcd
 22818             00000004   cx_0	set	4
 22819             00000006   cy_0	set	6
 22820             00000008   width_0	set	8
 22821             0000000A   height_0	set	10
 22822             0000000C   captions_0	set	12
 22823             00000010   color_0	set	16
 22824             00000012   bgcolor_0	set	18
 22825                        	.block	3866
 22826                        ;	FONTMETRIC metric;
 22827                        ;
 22828                        ;	int i = 0;
 22829                        ;	int hy = 0;
 22830                        ;	char FAR *caption = NULL;
 22831                        ;
 22832                        ;	int borderTitle = 10;
  Thu Dec  3 2020 22:25                                                Page 421


 22833                        ;	int borderWidth = 3;
 22834                        ;
 22835                        ;	int titleOffsetX = cx+4;
 22836                        ;	int titleOffsetY = cy+2;
 22837                        ;	int titleScaler = 0;
 22838                        ;
 22839                        ;	int clientOffsetX = cx+borderWidth+2;
 22840                        ;	int clientOffsetY = cy+borderTitle+1;
 22841                        ;
 22842                        ;	int endX = width + cx - borderWidth;
 22843                        ;
 22844                        ;
 22845                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 22846             00000000   metric_1	set	0
 22847             00000004   i_1	set	4
 22848             00000006   hy_1	set	6
 22849             00000008   caption_1	set	8
 22850             0000000C   borderTitle_1	set	12
 22851             0000000E   borderWidth_1	set	14
 22852             00000010   titleOffsetX_1	set	16
 22853             00000012   titleOffsetY_1	set	18
 22854             00000014   titleScaler_1	set	20
 22855             00000016   clientOffsetX_1	set	22
 22856             00000018   clientOffsetY_1	set	24
 22857             0000001A   endX_1	set	26
 22858                        	.sym	metric,0,10,1,32,32
 22859                        	.sym	i,4,5,1,16
 22860                        	.sym	hy,6,5,1,16
 22861                        	.sym	caption,8,142,1,32
 22862                        	.sym	borderTitle,12,5,1,16
 22863                        	.sym	borderWidth,14,5,1,16
 22864                        	.sym	titleOffsetX,16,5,1,16
 22865                        	.sym	titleOffsetY,18,5,1,16
 22866                        	.sym	titleScaler,20,5,1,16
 22867                        	.sym	clientOffsetX,22,5,1,16
 22868                        	.sym	clientOffsetY,24,5,1,16
 22869                        	.sym	endX,26,5,1,16
 22870                        	.sym	cx,4,5,6,16
 22871                        	.sym	cy,6,5,6,16
 22872                        	.sym	width,8,5,6,16
 22873                        	.sym	height,10,5,6,16
 22874                        	.sym	captions,12,1166,6,32
 22875                        	.sym	color,16,5,6,16
 22876                        	.sym	bgcolor,18,5,6,16
 22877 03:5DFC: 64 11        	stz	<L995+i_1
 22878 03:5DFE: 64 13        	stz	<L995+hy_1
 22879 03:5E00: 64 15        	stz	<L995+caption_1
 22880 03:5E02: 64 17        	stz	<L995+caption_1+2
 22881 03:5E04: A9 0A 00     	lda	#$a
 22882 03:5E07: 85 19        	sta	<L995+borderTitle_1
 22883 03:5E09: A9 03 00     	lda	#$3
 22884 03:5E0C: 85 1B        	sta	<L995+borderWidth_1
 22885 03:5E0E: 18           	clc
 22886 03:5E0F: A9 04 00     	lda	#$4
 22887 03:5E12: 65 2C        	adc	<L994+cx_0
 22888 03:5E14: 85 1D        	sta	<L995+titleOffsetX_1
 22889 03:5E16: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 422


 22890 03:5E17: A9 02 00     	lda	#$2
 22891 03:5E1A: 65 2E        	adc	<L994+cy_0
 22892 03:5E1C: 85 1F        	sta	<L995+titleOffsetY_1
 22893 03:5E1E: 64 21        	stz	<L995+titleScaler_1
 22894 03:5E20: 18           	clc
 22895 03:5E21: A5 2C        	lda	<L994+cx_0
 22896 03:5E23: 65 1B        	adc	<L995+borderWidth_1
 22897 03:5E25: 85 01        	sta	<R0
 22898 03:5E27: 18           	clc
 22899 03:5E28: A9 02 00     	lda	#$2
 22900 03:5E2B: 65 01        	adc	<R0
 22901 03:5E2D: 85 23        	sta	<L995+clientOffsetX_1
 22902 03:5E2F: 18           	clc
 22903 03:5E30: A5 2E        	lda	<L994+cy_0
 22904 03:5E32: 65 19        	adc	<L995+borderTitle_1
 22905 03:5E34: 85 01        	sta	<R0
 22906 03:5E36: A5 01        	lda	<R0
 22907 03:5E38: 1A           	ina
 22908 03:5E39: 85 25        	sta	<L995+clientOffsetY_1
 22909 03:5E3B: 18           	clc
 22910 03:5E3C: A5 30        	lda	<L994+width_0
 22911 03:5E3E: 65 2C        	adc	<L994+cx_0
 22912 03:5E40: 85 01        	sta	<R0
 22913 03:5E42: 38           	sec
 22914 03:5E43: A5 01        	lda	<R0
 22915 03:5E45: E5 1B        	sbc	<L995+borderWidth_1
 22916 03:5E47: 85 27        	sta	<L995+endX_1
 22917                        	.line	3886
 22918 03:5E49: F4 xx xx     	pea	#^L993
 22919 03:5E4C: F4 xx xx     	pea	#<L993
 22920 03:5E4F: 22 xx xx xx  	jsl	~~k_debug_string
 22921                        ;
 22922                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 22923                        	.line	3888
 22924 03:5E53: F4 00 00     	pea	#<$0
 22925 03:5E56: F4 00 00     	pea	#<$0
 22926 03:5E59: D4 32        	pei	<L994+height_0
 22927 03:5E5B: D4 30        	pei	<L994+width_0
 22928 03:5E5D: D4 2E        	pei	<L994+cy_0
 22929 03:5E5F: D4 2C        	pei	<L994+cx_0
 22930 03:5E61: 22 41 6E 03  	jsl	~~k_scratch_save_bitblt
 22931                        ;
 22932                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 22933                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 22934                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 22935                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 22936                        	.line	3893
 22937 03:5E65: D4 3A        	pei	<L994+bgcolor_0
 22938 03:5E67: D4 32        	pei	<L994+height_0
 22939 03:5E69: D4 30        	pei	<L994+width_0
 22940 03:5E6B: A0 00 00     	ldy	#$0
 22941 03:5E6E: A5 2E        	lda	<L994+cy_0
 22942 03:5E70: 10 01        	bpl	L997
 22943 03:5E72: 88           	dey
 22944                        L997:
  Thu Dec  3 2020 22:25                                                Page 423


 22945 03:5E73: 85 01        	sta	<R0
 22946 03:5E75: 84 03        	sty	<R0+2
 22947 03:5E77: D4 03        	pei	<R0+2
 22948 03:5E79: D4 01        	pei	<R0
 22949 03:5E7B: A0 00 00     	ldy	#$0
 22950 03:5E7E: A5 2C        	lda	<L994+cx_0
 22951 03:5E80: 10 01        	bpl	L998
 22952 03:5E82: 88           	dey
 22953                        L998:
 22954 03:5E83: 85 05        	sta	<R1
 22955 03:5E85: 84 07        	sty	<R1+2
 22956 03:5E87: D4 07        	pei	<R1+2
 22957 03:5E89: D4 05        	pei	<R1
 22958 03:5E8B: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 22959                        ;
 22960                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 22961                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 22962                        ;	i = 0;
 22963                        	.line	3897
 22964 03:5E8F: 64 11        	stz	<L995+i_1
 22965                        ;	caption = captions[i];
 22966                        	.line	3898
 22967 03:5E91: A0 00 00     	ldy	#$0
 22968 03:5E94: A5 11        	lda	<L995+i_1
 22969 03:5E96: 10 01        	bpl	L999
 22970 03:5E98: 88           	dey
 22971                        L999:
 22972 03:5E99: 85 05        	sta	<R1
 22973 03:5E9B: 84 07        	sty	<R1+2
 22974 03:5E9D: D4 07        	pei	<R1+2
 22975 03:5E9F: D4 05        	pei	<R1
 22976 03:5EA1: A9 02 00     	lda	#$2
 22977                        	xref	~~~lasl
 22978 03:5EA4: 22 xx xx xx  	jsl	~~~lasl
 22979 03:5EA8: 85 01        	sta	<R0
 22980 03:5EAA: 86 03        	stx	<R0+2
 22981 03:5EAC: 18           	clc
 22982 03:5EAD: A5 34        	lda	<L994+captions_0
 22983 03:5EAF: 65 01        	adc	<R0
 22984 03:5EB1: 85 09        	sta	<R2
 22985 03:5EB3: A5 36        	lda	<L994+captions_0+2
 22986 03:5EB5: 65 03        	adc	<R0+2
 22987 03:5EB7: 85 0B        	sta	<R2+2
 22988 03:5EB9: A7 09        	lda	[<R2]
 22989 03:5EBB: 85 15        	sta	<L995+caption_1
 22990 03:5EBD: A0 02 00     	ldy	#$2
 22991 03:5EC0: B7 09        	lda	[<R2],Y
 22992 03:5EC2: 85 17        	sta	<L995+caption_1+2
 22993                        ;	while(caption!=NULL)
 22994                        	.line	3899
 22995                        L10421:
 22996 03:5EC4: A5 15        	lda	<L995+caption_1
 22997 03:5EC6: 05 17        	ora	<L995+caption_1+2
 22998 03:5EC8: D0 03        	bne	L1000
 22999 03:5ECA: 82 6B 00     	brl	L10422
 23000                        L1000:
  Thu Dec  3 2020 22:25                                                Page 424


 23001                        ;	{
 23002                        	.line	3900
 23003                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 23004                        	.line	3901
 23005 03:5ECD: D4 17        	pei	<L995+caption_1+2
 23006 03:5ECF: D4 15        	pei	<L995+caption_1
 23007 03:5ED1: F4 xx xx     	pea	#^L993+29
 23008 03:5ED4: F4 xx xx     	pea	#<L993+29
 23009 03:5ED7: 22 xx xx xx  	jsl	~~k_debug_strings
 23010                        ;
 23011                        ;		//caption = strupr(caption);
 23012                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 23013                        	.line	3904
 23014 03:5EDB: D4 38        	pei	<L994+color_0
 23015 03:5EDD: D4 1F        	pei	<L995+titleOffsetY_1
 23016 03:5EDF: D4 1D        	pei	<L995+titleOffsetX_1
 23017 03:5EE1: D4 17        	pei	<L995+caption_1+2
 23018 03:5EE3: D4 15        	pei	<L995+caption_1
 23019 03:5EE5: 22 62 1A 03  	jsl	~~k_draw_text_point
 23020 03:5EE9: 85 13        	sta	<L995+hy_1
 23021                        ;
 23022                        ;		titleOffsetY+=(FONTH + 2);
 23023                        	.line	3906
 23024 03:5EEB: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 23025 03:5EEF: 85 01        	sta	<R0
 23026 03:5EF1: 18           	clc
 23027 03:5EF2: A5 01        	lda	<R0
 23028 03:5EF4: 65 1F        	adc	<L995+titleOffsetY_1
 23029 03:5EF6: 85 05        	sta	<R1
 23030 03:5EF8: 18           	clc
 23031 03:5EF9: A9 02 00     	lda	#$2
 23032 03:5EFC: 65 05        	adc	<R1
 23033 03:5EFE: 85 1F        	sta	<L995+titleOffsetY_1
 23034                        ;		i++;
 23035                        	.line	3907
 23036 03:5F00: E6 11        	inc	<L995+i_1
 23037                        ;		caption = captions[i];
 23038                        	.line	3908
 23039 03:5F02: A0 00 00     	ldy	#$0
 23040 03:5F05: A5 11        	lda	<L995+i_1
 23041 03:5F07: 10 01        	bpl	L1001
 23042 03:5F09: 88           	dey
 23043                        L1001:
 23044 03:5F0A: 85 05        	sta	<R1
 23045 03:5F0C: 84 07        	sty	<R1+2
 23046 03:5F0E: D4 07        	pei	<R1+2
 23047 03:5F10: D4 05        	pei	<R1
 23048 03:5F12: A9 02 00     	lda	#$2
 23049                        	xref	~~~lasl
 23050 03:5F15: 22 xx xx xx  	jsl	~~~lasl
 23051 03:5F19: 85 01        	sta	<R0
 23052 03:5F1B: 86 03        	stx	<R0+2
 23053 03:5F1D: 18           	clc
 23054 03:5F1E: A5 34        	lda	<L994+captions_0
 23055 03:5F20: 65 01        	adc	<R0
 23056 03:5F22: 85 09        	sta	<R2
  Thu Dec  3 2020 22:25                                                Page 425


 23057 03:5F24: A5 36        	lda	<L994+captions_0+2
 23058 03:5F26: 65 03        	adc	<R0+2
 23059 03:5F28: 85 0B        	sta	<R2+2
 23060 03:5F2A: A7 09        	lda	[<R2]
 23061 03:5F2C: 85 15        	sta	<L995+caption_1
 23062 03:5F2E: A0 02 00     	ldy	#$2
 23063 03:5F31: B7 09        	lda	[<R2],Y
 23064 03:5F33: 85 17        	sta	<L995+caption_1+2
 23065                        ;	}
 23066                        	.line	3909
 23067 03:5F35: 82 8C FF     	brl	L10421
 23068                        L10422:
 23069                        ;
 23070                        ;	return NULL;
 23071                        	.line	3911
 23072 03:5F38: A9 00 00     	lda	#$0
 23073 03:5F3B: AA           	tax
 23074 03:5F3C: A9 00 00     	lda	#$0
 23075                        L1002:
 23076 03:5F3F: A8           	tay
 23077 03:5F40: A5 2A        	lda	<L994+2
 23078 03:5F42: 85 3A        	sta	<L994+2+16
 23079 03:5F44: A5 29        	lda	<L994+1
 23080 03:5F46: 85 39        	sta	<L994+1+16
 23081 03:5F48: 2B           	pld
 23082 03:5F49: 3B           	tsc
 23083 03:5F4A: 18           	clc
 23084 03:5F4B: 69 38 00     	adc	#L994+16
 23085 03:5F4E: 1B           	tcs
 23086 03:5F4F: 98           	tya
 23087 03:5F50: 6B           	rtl
 23088                        ;
 23089                        ;}
 23090                        	.line	3913
 23091                        	.endblock	3913
 23092             00000028   L994	equ	40
 23093             0000000D   L995	equ	13
 23094 03:5F51:              	ends
 23095                        	efunc
 23096                        	.endfunc	3913,13,40
 23097                        	.line	3913
 23098                        	data
 23099                        L993:
 23100 00:0D22: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0D26: 65 61 74 65 
       00:0D2A: 5F 63 6F 6E 
       00:0D2E: 74 65 78 
 23101 00:0D31: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0D35: 6E 75 3A 66 
       00:0D39: 69 6C 6C 0D 
       00:0D3D: 0A 00 6B 
 23102 00:0D40: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0D44: 61 74 65 5F 
       00:0D48: 63 6F 6E 74 
       00:0D4C: 65 78 74 
  Thu Dec  3 2020 22:25                                                Page 426


 23103 00:0D4F: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0D53: 75 3A 63 61 
       00:0D57: 70 74 69 6F 
       00:0D5B: 6E 3A 00 
 23104 00:0D5E:              	ends
 23105                        ;
 23106                        ;PMENU k_create_context_menu_in_window_ex(PWINDOW 
                    pWin,UINT selected,UINT unselected,int cx,int cy,int width,i
                    nt height,char FAR **captions,char FAR *chrome,int color, in
                    t bgcolor)
 23107                        ;{
 23108                        	.line	3915
 23109                        	.line	3916
 23110                        	GUI
 23111                        	xdef	~~k_create_context_menu_in_window_ex
 23112                        	func
 23113                        	.function	3916
 23114                        ~~k_create_context_menu_in_window_ex:
 23115                        	longa	on
 23116                        	longi	on
 23117 03:5F51: 3B           	tsc
 23118 03:5F52: 38           	sec
 23119 03:5F53: E9 29 00     	sbc	#L1004
 23120 03:5F56: 1B           	tcs
 23121 03:5F57: 0B           	phd
 23122 03:5F58: 5B           	tcd
 23123             00000004   pWin_0	set	4
 23124             00000008   selected_0	set	8
 23125             0000000A   unselected_0	set	10
 23126             0000000C   cx_0	set	12
 23127             0000000E   cy_0	set	14
 23128             00000010   width_0	set	16
 23129             00000012   height_0	set	18
 23130             00000014   captions_0	set	20
 23131             00000018   chrome_0	set	24
 23132             0000001C   color_0	set	28
 23133             0000001E   bgcolor_0	set	30
 23134                        	.block	3916
 23135                        ;	FONTMETRIC metric;
 23136                        ;
 23137                        ;	int i = 0;
 23138                        ;	int dx = 0;
 23139                        ;	char FAR *caption = NULL;
 23140                        ;
 23141                        ;	int borderTitle = 10;
 23142                        ;	int borderWidth = 3;
 23143                        ;
 23144                        ;	int titleOffsetX = cx+4;
 23145                        ;	int titleOffsetY = cy+2;
 23146                        ;	int titleScaler = 0;
 23147                        ;
 23148                        ;	int clientOffsetX = cx+borderWidth+2;
 23149                        ;	int clientOffsetY = cy+borderTitle+1;
 23150                        ;
 23151                        ;	int endX = width + cx - borderWidth;
 23152                        ;
 23153                        ;
  Thu Dec  3 2020 22:25                                                Page 427


 23154                        ;	if(selected == -1 && unselected == -1)
 23155             00000000   metric_1	set	0
 23156             00000004   i_1	set	4
 23157             00000006   dx_1	set	6
 23158             00000008   caption_1	set	8
 23159             0000000C   borderTitle_1	set	12
 23160             0000000E   borderWidth_1	set	14
 23161             00000010   titleOffsetX_1	set	16
 23162             00000012   titleOffsetY_1	set	18
 23163             00000014   titleScaler_1	set	20
 23164             00000016   clientOffsetX_1	set	22
 23165             00000018   clientOffsetY_1	set	24
 23166             0000001A   endX_1	set	26
 23167                        	.sym	metric,0,10,1,32,32
 23168                        	.sym	i,4,5,1,16
 23169                        	.sym	dx,6,5,1,16
 23170                        	.sym	caption,8,142,1,32
 23171                        	.sym	borderTitle,12,5,1,16
 23172                        	.sym	borderWidth,14,5,1,16
 23173                        	.sym	titleOffsetX,16,5,1,16
 23174                        	.sym	titleOffsetY,18,5,1,16
 23175                        	.sym	titleScaler,20,5,1,16
 23176                        	.sym	clientOffsetX,22,5,1,16
 23177                        	.sym	clientOffsetY,24,5,1,16
 23178                        	.sym	endX,26,5,1,16
 23179                        	.sym	pWin,4,138,6,32,30
 23180                        	.sym	selected,8,16,6,16
 23181                        	.sym	unselected,10,16,6,16
 23182                        	.sym	cx,12,5,6,16
 23183                        	.sym	cy,14,5,6,16
 23184                        	.sym	width,16,5,6,16
 23185                        	.sym	height,18,5,6,16
 23186                        	.sym	captions,20,1166,6,32
 23187                        	.sym	chrome,24,142,6,32
 23188                        	.sym	color,28,5,6,16
 23189                        	.sym	bgcolor,30,5,6,16
 23190 03:5F59: 64 11        	stz	<L1005+i_1
 23191 03:5F5B: 64 13        	stz	<L1005+dx_1
 23192 03:5F5D: 64 15        	stz	<L1005+caption_1
 23193 03:5F5F: 64 17        	stz	<L1005+caption_1+2
 23194 03:5F61: A9 0A 00     	lda	#$a
 23195 03:5F64: 85 19        	sta	<L1005+borderTitle_1
 23196 03:5F66: A9 03 00     	lda	#$3
 23197 03:5F69: 85 1B        	sta	<L1005+borderWidth_1
 23198 03:5F6B: 18           	clc
 23199 03:5F6C: A9 04 00     	lda	#$4
 23200 03:5F6F: 65 35        	adc	<L1004+cx_0
 23201 03:5F71: 85 1D        	sta	<L1005+titleOffsetX_1
 23202 03:5F73: 18           	clc
 23203 03:5F74: A9 02 00     	lda	#$2
 23204 03:5F77: 65 37        	adc	<L1004+cy_0
 23205 03:5F79: 85 1F        	sta	<L1005+titleOffsetY_1
 23206 03:5F7B: 64 21        	stz	<L1005+titleScaler_1
 23207 03:5F7D: 18           	clc
 23208 03:5F7E: A5 35        	lda	<L1004+cx_0
 23209 03:5F80: 65 1B        	adc	<L1005+borderWidth_1
 23210 03:5F82: 85 01        	sta	<R0
 23211 03:5F84: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 428


 23212 03:5F85: A9 02 00     	lda	#$2
 23213 03:5F88: 65 01        	adc	<R0
 23214 03:5F8A: 85 23        	sta	<L1005+clientOffsetX_1
 23215 03:5F8C: 18           	clc
 23216 03:5F8D: A5 37        	lda	<L1004+cy_0
 23217 03:5F8F: 65 19        	adc	<L1005+borderTitle_1
 23218 03:5F91: 85 01        	sta	<R0
 23219 03:5F93: A5 01        	lda	<R0
 23220 03:5F95: 1A           	ina
 23221 03:5F96: 85 25        	sta	<L1005+clientOffsetY_1
 23222 03:5F98: 18           	clc
 23223 03:5F99: A5 39        	lda	<L1004+width_0
 23224 03:5F9B: 65 35        	adc	<L1004+cx_0
 23225 03:5F9D: 85 01        	sta	<R0
 23226 03:5F9F: 38           	sec
 23227 03:5FA0: A5 01        	lda	<R0
 23228 03:5FA2: E5 1B        	sbc	<L1005+borderWidth_1
 23229 03:5FA4: 85 27        	sta	<L1005+endX_1
 23230                        	.line	3936
 23231                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 23232 03:5FA6: A5 31        	lda	<L1004+selected_0
 23233 03:5FA8: C9 FF FF     	cmp	#<$ffffffff
 23234 03:5FAB: F0 03        	beq	L1007
 23235 03:5FAD: 82 37 00     	brl	L10423
 23236                        L1007:
 23237 03:5FB0: A5 33        	lda	<L1004+unselected_0
 23238 03:5FB2: C9 FF FF     	cmp	#<$ffffffff
 23239 03:5FB5: F0 03        	beq	L1008
 23240 03:5FB7: 82 2D 00     	brl	L10423
 23241                        L1008:
 23242                        	.line	3937
 23243 03:5FBA: F4 00 00     	pea	#<$0
 23244 03:5FBD: D4 47        	pei	<L1004+bgcolor_0
 23245 03:5FBF: D4 3B        	pei	<L1004+height_0
 23246 03:5FC1: D4 39        	pei	<L1004+width_0
 23247 03:5FC3: A0 00 00     	ldy	#$0
 23248 03:5FC6: A5 37        	lda	<L1004+cy_0
 23249 03:5FC8: 10 01        	bpl	L1009
 23250 03:5FCA: 88           	dey
 23251                        L1009:
 23252 03:5FCB: 85 01        	sta	<R0
 23253 03:5FCD: 84 03        	sty	<R0+2
 23254 03:5FCF: D4 03        	pei	<R0+2
 23255 03:5FD1: D4 01        	pei	<R0
 23256 03:5FD3: A0 00 00     	ldy	#$0
 23257 03:5FD6: A5 35        	lda	<L1004+cx_0
 23258 03:5FD8: 10 01        	bpl	L1010
 23259 03:5FDA: 88           	dey
 23260                        L1010:
 23261 03:5FDB: 85 05        	sta	<R1
 23262 03:5FDD: 84 07        	sty	<R1+2
 23263 03:5FDF: D4 07        	pei	<R1+2
 23264 03:5FE1: D4 05        	pei	<R1
 23265 03:5FE3: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 23266                        ;
 23267                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
  Thu Dec  3 2020 22:25                                                Page 429


 23268                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 23269                        ;	i = 0;
 23270                        L10423:
 23271                        	.line	3941
 23272 03:5FE7: 64 11        	stz	<L1005+i_1
 23273                        ;	caption = captions[i];
 23274                        	.line	3942
 23275 03:5FE9: A0 00 00     	ldy	#$0
 23276 03:5FEC: A5 11        	lda	<L1005+i_1
 23277 03:5FEE: 10 01        	bpl	L1011
 23278 03:5FF0: 88           	dey
 23279                        L1011:
 23280 03:5FF1: 85 05        	sta	<R1
 23281 03:5FF3: 84 07        	sty	<R1+2
 23282 03:5FF5: D4 07        	pei	<R1+2
 23283 03:5FF7: D4 05        	pei	<R1
 23284 03:5FF9: A9 02 00     	lda	#$2
 23285                        	xref	~~~lasl
 23286 03:5FFC: 22 xx xx xx  	jsl	~~~lasl
 23287 03:6000: 85 01        	sta	<R0
 23288 03:6002: 86 03        	stx	<R0+2
 23289 03:6004: 18           	clc
 23290 03:6005: A5 3D        	lda	<L1004+captions_0
 23291 03:6007: 65 01        	adc	<R0
 23292 03:6009: 85 09        	sta	<R2
 23293 03:600B: A5 3F        	lda	<L1004+captions_0+2
 23294 03:600D: 65 03        	adc	<R0+2
 23295 03:600F: 85 0B        	sta	<R2+2
 23296 03:6011: A7 09        	lda	[<R2]
 23297 03:6013: 85 15        	sta	<L1005+caption_1
 23298 03:6015: A0 02 00     	ldy	#$2
 23299 03:6018: B7 09        	lda	[<R2],Y
 23300 03:601A: 85 17        	sta	<L1005+caption_1+2
 23301                        ;	while(caption!=NULL)
 23302                        	.line	3943
 23303                        L10424:
 23304 03:601C: A5 15        	lda	<L1005+caption_1
 23305 03:601E: 05 17        	ora	<L1005+caption_1+2
 23306 03:6020: D0 03        	bne	L1012
 23307 03:6022: 82 3F 02     	brl	L10425
 23308                        L1012:
 23309                        ;	{
 23310                        	.line	3944
 23311                        ;		char chromeByte = chrome[i];
 23312                        ;		//if(chromeByte)
 23313                        ;		//	k_debug_strings("#### k_create_c
                    ontext_menu_in_window_ex:chrome:CHECKED:",caption);
 23314                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 23315                        ;
 23316                        ;		//caption = strupr(caption);
 23317                        ;
 23318                        ;		if(selected!=-1 && unselected!=-1)
 23319                        	.block	3952
 23320             0000001C   chromeByte_2	set	28
 23321                        	.sym	chromeByte,28,14,1,8
 23322 03:6025: E2 20        	sep	#$20
  Thu Dec  3 2020 22:25                                                Page 430


 23323                        	longa	off
 23324 03:6027: A4 11        	ldy	<L1005+i_1
 23325 03:6029: B7 41        	lda	[<L1004+chrome_0],Y
 23326 03:602B: 85 29        	sta	<L1005+chromeByte_2
 23327 03:602D: C2 20        	rep	#$20
 23328                        	longa	on
 23329                        	.line	3952
 23330                        ;		{
 23331 03:602F: A5 31        	lda	<L1004+selected_0
 23332 03:6031: C9 FF FF     	cmp	#<$ffffffff
 23333 03:6034: D0 03        	bne	L1014
 23334 03:6036: 82 1E 01     	brl	L10426
 23335                        L1014:
 23336 03:6039: A5 33        	lda	<L1004+unselected_0
 23337 03:603B: C9 FF FF     	cmp	#<$ffffffff
 23338 03:603E: D0 03        	bne	L1015
 23339 03:6040: 82 14 01     	brl	L10426
 23340                        L1015:
 23341                        	.line	3953
 23342                        ;			if( i == selected && caption[0] 
                    != '_')
 23343                        	.line	3954
 23344                        ;			{
 23345 03:6043: A5 11        	lda	<L1005+i_1
 23346 03:6045: C5 31        	cmp	<L1004+selected_0
 23347 03:6047: F0 03        	beq	L1016
 23348 03:6049: 82 81 00     	brl	L10427
 23349                        L1016:
 23350 03:604C: E2 20        	sep	#$20
 23351                        	longa	off
 23352 03:604E: A7 15        	lda	[<L1005+caption_1]
 23353 03:6050: C9 5F        	cmp	#<$5f
 23354 03:6052: C2 20        	rep	#$20
 23355                        	longa	on
 23356 03:6054: D0 03        	bne	L1017
 23357 03:6056: 82 74 00     	brl	L10427
 23358                        L1017:
 23359                        	.line	3955
 23360                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 23361                        	.line	3956
 23362 03:6059: F4 00 00     	pea	#<$0
 23363 03:605C: D4 45        	pei	<L1004+color_0
 23364 03:605E: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 23365 03:6062: 48           	pha
 23366 03:6063: A0 0C 00     	ldy	#$c
 23367 03:6066: B7 2D        	lda	[<L1004+pWin_0],Y
 23368 03:6068: 48           	pha
 23369 03:6069: A0 00 00     	ldy	#$0
 23370 03:606C: A5 1F        	lda	<L1005+titleOffsetY_1
 23371 03:606E: 10 01        	bpl	L1018
 23372 03:6070: 88           	dey
 23373                        L1018:
 23374 03:6071: 85 01        	sta	<R0
 23375 03:6073: 84 03        	sty	<R0+2
 23376 03:6075: D4 03        	pei	<R0+2
 23377 03:6077: D4 01        	pei	<R0
  Thu Dec  3 2020 22:25                                                Page 431


 23378 03:6079: A0 00 00     	ldy	#$0
 23379 03:607C: 5A           	phy
 23380 03:607D: A0 08 00     	ldy	#$8
 23381 03:6080: B7 2D        	lda	[<L1004+pWin_0],Y
 23382 03:6082: 7A           	ply
 23383 03:6083: 2A           	rol	A
 23384 03:6084: 6A           	ror	A
 23385 03:6085: 10 01        	bpl	L1019
 23386 03:6087: 88           	dey
 23387                        L1019:
 23388 03:6088: 85 05        	sta	<R1
 23389 03:608A: 84 07        	sty	<R1+2
 23390 03:608C: D4 07        	pei	<R1+2
 23391 03:608E: D4 05        	pei	<R1
 23392 03:6090: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 23393                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 23394                        	.line	3957
 23395 03:6094: F4 00 00     	pea	#<$0
 23396 03:6097: D4 47        	pei	<L1004+bgcolor_0
 23397 03:6099: D4 1F        	pei	<L1005+titleOffsetY_1
 23398 03:609B: D4 1D        	pei	<L1005+titleOffsetX_1
 23399 03:609D: D4 17        	pei	<L1005+caption_1+2
 23400 03:609F: D4 15        	pei	<L1005+caption_1
 23401 03:60A1: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23402 03:60A5: 85 13        	sta	<L1005+dx_1
 23403                        ;				if(chromeByte)
 23404                        	.line	3958
 23405                        ;				{
 23406 03:60A7: A5 29        	lda	<L1005+chromeByte_2
 23407 03:60A9: 29 FF 00     	and	#$ff
 23408 03:60AC: D0 03        	bne	L1020
 23409 03:60AE: 82 19 00     	brl	L10428
 23410                        L1020:
 23411                        	.line	3959
 23412                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 23413                        	.line	3960
 23414 03:60B1: F4 00 00     	pea	#<$0
 23415 03:60B4: D4 47        	pei	<L1004+bgcolor_0
 23416 03:60B6: D4 1F        	pei	<L1005+titleOffsetY_1
 23417 03:60B8: 18           	clc
 23418 03:60B9: A5 1D        	lda	<L1005+titleOffsetX_1
 23419 03:60BB: 65 13        	adc	<L1005+dx_1
 23420 03:60BD: 48           	pha
 23421 03:60BE: F4 xx xx     	pea	#^L1003
 23422 03:60C1: F4 xx xx     	pea	#<L1003
 23423 03:60C4: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23424 03:60C8: 85 13        	sta	<L1005+dx_1
 23425                        ;				}
 23426                        	.line	3961
 23427                        ;			}
 23428                        L10428:
 23429                        	.line	3962
 23430                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 23431 03:60CA: 82 87 00     	brl	L10429
  Thu Dec  3 2020 22:25                                                Page 432


 23432                        L10427:
 23433                        	.line	3963
 23434                        ;			{
 23435 03:60CD: A5 11        	lda	<L1005+i_1
 23436 03:60CF: C5 33        	cmp	<L1004+unselected_0
 23437 03:60D1: F0 03        	beq	L1021
 23438 03:60D3: 82 7E 00     	brl	L10430
 23439                        L1021:
 23440 03:60D6: E2 20        	sep	#$20
 23441                        	longa	off
 23442 03:60D8: A7 15        	lda	[<L1005+caption_1]
 23443 03:60DA: C9 5F        	cmp	#<$5f
 23444 03:60DC: C2 20        	rep	#$20
 23445                        	longa	on
 23446 03:60DE: D0 03        	bne	L1022
 23447 03:60E0: 82 71 00     	brl	L10430
 23448                        L1022:
 23449                        	.line	3964
 23450                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 23451                        	.line	3965
 23452 03:60E3: F4 00 00     	pea	#<$0
 23453 03:60E6: D4 47        	pei	<L1004+bgcolor_0
 23454 03:60E8: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 23455 03:60EC: 48           	pha
 23456 03:60ED: A0 0C 00     	ldy	#$c
 23457 03:60F0: B7 2D        	lda	[<L1004+pWin_0],Y
 23458 03:60F2: 48           	pha
 23459 03:60F3: A0 00 00     	ldy	#$0
 23460 03:60F6: A5 1F        	lda	<L1005+titleOffsetY_1
 23461 03:60F8: 10 01        	bpl	L1023
 23462 03:60FA: 88           	dey
 23463                        L1023:
 23464 03:60FB: 85 01        	sta	<R0
 23465 03:60FD: 84 03        	sty	<R0+2
 23466 03:60FF: D4 03        	pei	<R0+2
 23467 03:6101: D4 01        	pei	<R0
 23468 03:6103: A0 00 00     	ldy	#$0
 23469 03:6106: 5A           	phy
 23470 03:6107: A0 08 00     	ldy	#$8
 23471 03:610A: B7 2D        	lda	[<L1004+pWin_0],Y
 23472 03:610C: 7A           	ply
 23473 03:610D: 2A           	rol	A
 23474 03:610E: 6A           	ror	A
 23475 03:610F: 10 01        	bpl	L1024
 23476 03:6111: 88           	dey
 23477                        L1024:
 23478 03:6112: 85 05        	sta	<R1
 23479 03:6114: 84 07        	sty	<R1+2
 23480 03:6116: D4 07        	pei	<R1+2
 23481 03:6118: D4 05        	pei	<R1
 23482 03:611A: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 23483                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 23484                        	.line	3966
 23485 03:611E: F4 00 00     	pea	#<$0
 23486 03:6121: D4 45        	pei	<L1004+color_0
  Thu Dec  3 2020 22:25                                                Page 433


 23487 03:6123: D4 1F        	pei	<L1005+titleOffsetY_1
 23488 03:6125: D4 1D        	pei	<L1005+titleOffsetX_1
 23489 03:6127: D4 17        	pei	<L1005+caption_1+2
 23490 03:6129: D4 15        	pei	<L1005+caption_1
 23491 03:612B: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23492 03:612F: 85 13        	sta	<L1005+dx_1
 23493                        ;				if(chromeByte)
 23494                        	.line	3967
 23495                        ;				{
 23496 03:6131: A5 29        	lda	<L1005+chromeByte_2
 23497 03:6133: 29 FF 00     	and	#$ff
 23498 03:6136: D0 03        	bne	L1025
 23499 03:6138: 82 19 00     	brl	L10431
 23500                        L1025:
 23501                        	.line	3968
 23502                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 23503                        	.line	3969
 23504 03:613B: F4 00 00     	pea	#<$0
 23505 03:613E: D4 45        	pei	<L1004+color_0
 23506 03:6140: D4 1F        	pei	<L1005+titleOffsetY_1
 23507 03:6142: 18           	clc
 23508 03:6143: A5 1D        	lda	<L1005+titleOffsetX_1
 23509 03:6145: 65 13        	adc	<L1005+dx_1
 23510 03:6147: 48           	pha
 23511 03:6148: F4 xx xx     	pea	#^L1003+2
 23512 03:614B: F4 xx xx     	pea	#<L1003+2
 23513 03:614E: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23514 03:6152: 85 13        	sta	<L1005+dx_1
 23515                        ;				}
 23516                        	.line	3970
 23517                        ;			}
 23518                        L10431:
 23519                        	.line	3971
 23520                        ;
 23521                        ;		}
 23522                        L10430:
 23523                        L10429:
 23524                        	.line	3973
 23525                        ;		else
 23526 03:6154: 82 C0 00     	brl	L10432
 23527                        L10426:
 23528                        ;		{
 23529                        	.line	3975
 23530                        ;			if( i == selected && caption[0] 
                    != '_')
 23531                        	.line	3976
 23532                        ;			{
 23533 03:6157: A5 11        	lda	<L1005+i_1
 23534 03:6159: C5 31        	cmp	<L1004+selected_0
 23535 03:615B: F0 03        	beq	L1026
 23536 03:615D: 82 81 00     	brl	L10433
 23537                        L1026:
 23538 03:6160: E2 20        	sep	#$20
 23539                        	longa	off
 23540 03:6162: A7 15        	lda	[<L1005+caption_1]
 23541 03:6164: C9 5F        	cmp	#<$5f
  Thu Dec  3 2020 22:25                                                Page 434


 23542 03:6166: C2 20        	rep	#$20
 23543                        	longa	on
 23544 03:6168: D0 03        	bne	L1027
 23545 03:616A: 82 74 00     	brl	L10433
 23546                        L1027:
 23547                        	.line	3977
 23548                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 23549                        	.line	3978
 23550 03:616D: F4 00 00     	pea	#<$0
 23551 03:6170: D4 45        	pei	<L1004+color_0
 23552 03:6172: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 23553 03:6176: 48           	pha
 23554 03:6177: A0 0C 00     	ldy	#$c
 23555 03:617A: B7 2D        	lda	[<L1004+pWin_0],Y
 23556 03:617C: 48           	pha
 23557 03:617D: A0 00 00     	ldy	#$0
 23558 03:6180: A5 1F        	lda	<L1005+titleOffsetY_1
 23559 03:6182: 10 01        	bpl	L1028
 23560 03:6184: 88           	dey
 23561                        L1028:
 23562 03:6185: 85 01        	sta	<R0
 23563 03:6187: 84 03        	sty	<R0+2
 23564 03:6189: D4 03        	pei	<R0+2
 23565 03:618B: D4 01        	pei	<R0
 23566 03:618D: A0 00 00     	ldy	#$0
 23567 03:6190: 5A           	phy
 23568 03:6191: A0 08 00     	ldy	#$8
 23569 03:6194: B7 2D        	lda	[<L1004+pWin_0],Y
 23570 03:6196: 7A           	ply
 23571 03:6197: 2A           	rol	A
 23572 03:6198: 6A           	ror	A
 23573 03:6199: 10 01        	bpl	L1029
 23574 03:619B: 88           	dey
 23575                        L1029:
 23576 03:619C: 85 05        	sta	<R1
 23577 03:619E: 84 07        	sty	<R1+2
 23578 03:61A0: D4 07        	pei	<R1+2
 23579 03:61A2: D4 05        	pei	<R1
 23580 03:61A4: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 23581                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 23582                        	.line	3979
 23583 03:61A8: F4 00 00     	pea	#<$0
 23584 03:61AB: D4 47        	pei	<L1004+bgcolor_0
 23585 03:61AD: D4 1F        	pei	<L1005+titleOffsetY_1
 23586 03:61AF: D4 1D        	pei	<L1005+titleOffsetX_1
 23587 03:61B1: D4 17        	pei	<L1005+caption_1+2
 23588 03:61B3: D4 15        	pei	<L1005+caption_1
 23589 03:61B5: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23590 03:61B9: 85 13        	sta	<L1005+dx_1
 23591                        ;				if(chromeByte)
 23592                        	.line	3980
 23593                        ;				{
 23594 03:61BB: A5 29        	lda	<L1005+chromeByte_2
 23595 03:61BD: 29 FF 00     	and	#$ff
 23596 03:61C0: D0 03        	bne	L1030
  Thu Dec  3 2020 22:25                                                Page 435


 23597 03:61C2: 82 19 00     	brl	L10434
 23598                        L1030:
 23599                        	.line	3981
 23600                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 23601                        	.line	3982
 23602 03:61C5: F4 00 00     	pea	#<$0
 23603 03:61C8: D4 47        	pei	<L1004+bgcolor_0
 23604 03:61CA: D4 1F        	pei	<L1005+titleOffsetY_1
 23605 03:61CC: 18           	clc
 23606 03:61CD: A5 1D        	lda	<L1005+titleOffsetX_1
 23607 03:61CF: 65 13        	adc	<L1005+dx_1
 23608 03:61D1: 48           	pha
 23609 03:61D2: F4 xx xx     	pea	#^L1003+4
 23610 03:61D5: F4 xx xx     	pea	#<L1003+4
 23611 03:61D8: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23612 03:61DC: 85 13        	sta	<L1005+dx_1
 23613                        ;				}
 23614                        	.line	3983
 23615                        ;			}
 23616                        L10434:
 23617                        	.line	3984
 23618                        ;			else
 23619 03:61DE: 82 36 00     	brl	L10435
 23620                        L10433:
 23621                        ;			{
 23622                        	.line	3986
 23623                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 23624                        	.line	3987
 23625 03:61E1: F4 00 00     	pea	#<$0
 23626 03:61E4: D4 45        	pei	<L1004+color_0
 23627 03:61E6: D4 1F        	pei	<L1005+titleOffsetY_1
 23628 03:61E8: D4 1D        	pei	<L1005+titleOffsetX_1
 23629 03:61EA: D4 17        	pei	<L1005+caption_1+2
 23630 03:61EC: D4 15        	pei	<L1005+caption_1
 23631 03:61EE: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23632 03:61F2: 85 13        	sta	<L1005+dx_1
 23633                        ;				if(chromeByte)
 23634                        	.line	3988
 23635                        ;				{
 23636 03:61F4: A5 29        	lda	<L1005+chromeByte_2
 23637 03:61F6: 29 FF 00     	and	#$ff
 23638 03:61F9: D0 03        	bne	L1031
 23639 03:61FB: 82 19 00     	brl	L10436
 23640                        L1031:
 23641                        	.line	3989
 23642                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 23643                        	.line	3990
 23644 03:61FE: F4 00 00     	pea	#<$0
 23645 03:6201: D4 45        	pei	<L1004+color_0
 23646 03:6203: D4 1F        	pei	<L1005+titleOffsetY_1
 23647 03:6205: 18           	clc
 23648 03:6206: A5 1D        	lda	<L1005+titleOffsetX_1
 23649 03:6208: 65 13        	adc	<L1005+dx_1
  Thu Dec  3 2020 22:25                                                Page 436


 23650 03:620A: 48           	pha
 23651 03:620B: F4 xx xx     	pea	#^L1003+6
 23652 03:620E: F4 xx xx     	pea	#<L1003+6
 23653 03:6211: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23654 03:6215: 85 13        	sta	<L1005+dx_1
 23655                        ;				}
 23656                        	.line	3991
 23657                        ;
 23658                        ;			}
 23659                        L10436:
 23660                        	.line	3993
 23661                        L10435:
 23662                        ;		}
 23663                        	.line	3994
 23664                        L10432:
 23665                        ;		titleOffsetY+=(FONTH + 2);
 23666                        	.line	3995
 23667 03:6217: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 23668 03:621B: 85 01        	sta	<R0
 23669 03:621D: 18           	clc
 23670 03:621E: A5 01        	lda	<R0
 23671 03:6220: 65 1F        	adc	<L1005+titleOffsetY_1
 23672 03:6222: 85 05        	sta	<R1
 23673 03:6224: 18           	clc
 23674 03:6225: A9 02 00     	lda	#$2
 23675 03:6228: 65 05        	adc	<R1
 23676 03:622A: 85 1F        	sta	<L1005+titleOffsetY_1
 23677                        ;		i++;
 23678                        	.line	3996
 23679 03:622C: E6 11        	inc	<L1005+i_1
 23680                        ;		caption = captions[i];
 23681                        	.line	3997
 23682 03:622E: A0 00 00     	ldy	#$0
 23683 03:6231: A5 11        	lda	<L1005+i_1
 23684 03:6233: 10 01        	bpl	L1032
 23685 03:6235: 88           	dey
 23686                        L1032:
 23687 03:6236: 85 05        	sta	<R1
 23688 03:6238: 84 07        	sty	<R1+2
 23689 03:623A: D4 07        	pei	<R1+2
 23690 03:623C: D4 05        	pei	<R1
 23691 03:623E: A9 02 00     	lda	#$2
 23692                        	xref	~~~lasl
 23693 03:6241: 22 xx xx xx  	jsl	~~~lasl
 23694 03:6245: 85 01        	sta	<R0
 23695 03:6247: 86 03        	stx	<R0+2
 23696 03:6249: 18           	clc
 23697 03:624A: A5 3D        	lda	<L1004+captions_0
 23698 03:624C: 65 01        	adc	<R0
 23699 03:624E: 85 09        	sta	<R2
 23700 03:6250: A5 3F        	lda	<L1004+captions_0+2
 23701 03:6252: 65 03        	adc	<R0+2
 23702 03:6254: 85 0B        	sta	<R2+2
 23703 03:6256: A7 09        	lda	[<R2]
 23704 03:6258: 85 15        	sta	<L1005+caption_1
 23705 03:625A: A0 02 00     	ldy	#$2
 23706 03:625D: B7 09        	lda	[<R2],Y
 23707 03:625F: 85 17        	sta	<L1005+caption_1+2
  Thu Dec  3 2020 22:25                                                Page 437


 23708                        ;	}
 23709                        	.endblock	3998
 23710                        	.line	3998
 23711 03:6261: 82 B8 FD     	brl	L10424
 23712                        L10425:
 23713                        ;
 23714                        ;	return NULL;
 23715                        	.line	4000
 23716 03:6264: A9 00 00     	lda	#$0
 23717 03:6267: AA           	tax
 23718 03:6268: A9 00 00     	lda	#$0
 23719                        L1033:
 23720 03:626B: A8           	tay
 23721 03:626C: A5 2B        	lda	<L1004+2
 23722 03:626E: 85 47        	sta	<L1004+2+28
 23723 03:6270: A5 2A        	lda	<L1004+1
 23724 03:6272: 85 46        	sta	<L1004+1+28
 23725 03:6274: 2B           	pld
 23726 03:6275: 3B           	tsc
 23727 03:6276: 18           	clc
 23728 03:6277: 69 45 00     	adc	#L1004+28
 23729 03:627A: 1B           	tcs
 23730 03:627B: 98           	tya
 23731 03:627C: 6B           	rtl
 23732                        ;
 23733                        ;}
 23734                        	.line	4002
 23735                        	.endblock	4002
 23736             00000029   L1004	equ	41
 23737             0000000D   L1005	equ	13
 23738 03:627D:              	ends
 23739                        	efunc
 23740                        	.endfunc	4002,13,41
 23741                        	.line	4002
 23742                        	data
 23743                        L1003:
 23744 00:0D5E: 2A 00 2A 00  	db	$2A,$00,$2A,$00,$2A,$00,$2A,$00
       00:0D62: 2A 00 2A 00 
 23745 00:0D66:              	ends
 23746                        ;
 23747                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,
 23748                        ;		                              int cx,int
                     cy,int width,int height,
 23749                        ;							
                    		  char FAR **captions,int color, int bgcolor)
 23750                        ;{
 23751                        	.line	4004
 23752                        	.line	4007
 23753                        	GUI
 23754                        	xdef	~~k_create_context_menu_in_window
 23755                        	func
 23756                        	.function	4007
 23757                        ~~k_create_context_menu_in_window:
 23758                        	longa	on
 23759                        	longi	on
 23760 03:627D: 3B           	tsc
 23761 03:627E: 38           	sec
  Thu Dec  3 2020 22:25                                                Page 438


 23762 03:627F: E9 28 00     	sbc	#L1035
 23763 03:6282: 1B           	tcs
 23764 03:6283: 0B           	phd
 23765 03:6284: 5B           	tcd
 23766             00000004   pWin_0	set	4
 23767             00000008   selected_0	set	8
 23768             0000000A   unselected_0	set	10
 23769             0000000C   cx_0	set	12
 23770             0000000E   cy_0	set	14
 23771             00000010   width_0	set	16
 23772             00000012   height_0	set	18
 23773             00000014   captions_0	set	20
 23774             00000018   color_0	set	24
 23775             0000001A   bgcolor_0	set	26
 23776                        	.block	4007
 23777                        ;	FONTMETRIC metric;
 23778                        ;
 23779                        ;	int i = 0;
 23780                        ;	int hy = 0;
 23781                        ;	char FAR *caption = NULL;
 23782                        ;
 23783                        ;	int borderTitle = 10;
 23784                        ;	int borderWidth = 3;
 23785                        ;
 23786                        ;	int titleOffsetX = cx+4;
 23787                        ;	int titleOffsetY = cy+2;
 23788                        ;	int titleScaler = 0;
 23789                        ;
 23790                        ;	int clientOffsetX = cx+borderWidth+2;
 23791                        ;	int clientOffsetY = cy+borderTitle+1;
 23792                        ;
 23793                        ;	int endX = width + cx - borderWidth;
 23794                        ;
 23795                        ;
 23796                        ;	if(selected == -1 && unselected == -1)
 23797             00000000   metric_1	set	0
 23798             00000004   i_1	set	4
 23799             00000006   hy_1	set	6
 23800             00000008   caption_1	set	8
 23801             0000000C   borderTitle_1	set	12
 23802             0000000E   borderWidth_1	set	14
 23803             00000010   titleOffsetX_1	set	16
 23804             00000012   titleOffsetY_1	set	18
 23805             00000014   titleScaler_1	set	20
 23806             00000016   clientOffsetX_1	set	22
 23807             00000018   clientOffsetY_1	set	24
 23808             0000001A   endX_1	set	26
 23809                        	.sym	metric,0,10,1,32,32
 23810                        	.sym	i,4,5,1,16
 23811                        	.sym	hy,6,5,1,16
 23812                        	.sym	caption,8,142,1,32
 23813                        	.sym	borderTitle,12,5,1,16
 23814                        	.sym	borderWidth,14,5,1,16
 23815                        	.sym	titleOffsetX,16,5,1,16
 23816                        	.sym	titleOffsetY,18,5,1,16
 23817                        	.sym	titleScaler,20,5,1,16
 23818                        	.sym	clientOffsetX,22,5,1,16
 23819                        	.sym	clientOffsetY,24,5,1,16
  Thu Dec  3 2020 22:25                                                Page 439


 23820                        	.sym	endX,26,5,1,16
 23821                        	.sym	pWin,4,138,6,32,30
 23822                        	.sym	selected,8,16,6,16
 23823                        	.sym	unselected,10,16,6,16
 23824                        	.sym	cx,12,5,6,16
 23825                        	.sym	cy,14,5,6,16
 23826                        	.sym	width,16,5,6,16
 23827                        	.sym	height,18,5,6,16
 23828                        	.sym	captions,20,1166,6,32
 23829                        	.sym	color,24,5,6,16
 23830                        	.sym	bgcolor,26,5,6,16
 23831 03:6285: 64 11        	stz	<L1036+i_1
 23832 03:6287: 64 13        	stz	<L1036+hy_1
 23833 03:6289: 64 15        	stz	<L1036+caption_1
 23834 03:628B: 64 17        	stz	<L1036+caption_1+2
 23835 03:628D: A9 0A 00     	lda	#$a
 23836 03:6290: 85 19        	sta	<L1036+borderTitle_1
 23837 03:6292: A9 03 00     	lda	#$3
 23838 03:6295: 85 1B        	sta	<L1036+borderWidth_1
 23839 03:6297: 18           	clc
 23840 03:6298: A9 04 00     	lda	#$4
 23841 03:629B: 65 34        	adc	<L1035+cx_0
 23842 03:629D: 85 1D        	sta	<L1036+titleOffsetX_1
 23843 03:629F: 18           	clc
 23844 03:62A0: A9 02 00     	lda	#$2
 23845 03:62A3: 65 36        	adc	<L1035+cy_0
 23846 03:62A5: 85 1F        	sta	<L1036+titleOffsetY_1
 23847 03:62A7: 64 21        	stz	<L1036+titleScaler_1
 23848 03:62A9: 18           	clc
 23849 03:62AA: A5 34        	lda	<L1035+cx_0
 23850 03:62AC: 65 1B        	adc	<L1036+borderWidth_1
 23851 03:62AE: 85 01        	sta	<R0
 23852 03:62B0: 18           	clc
 23853 03:62B1: A9 02 00     	lda	#$2
 23854 03:62B4: 65 01        	adc	<R0
 23855 03:62B6: 85 23        	sta	<L1036+clientOffsetX_1
 23856 03:62B8: 18           	clc
 23857 03:62B9: A5 36        	lda	<L1035+cy_0
 23858 03:62BB: 65 19        	adc	<L1036+borderTitle_1
 23859 03:62BD: 85 01        	sta	<R0
 23860 03:62BF: A5 01        	lda	<R0
 23861 03:62C1: 1A           	ina
 23862 03:62C2: 85 25        	sta	<L1036+clientOffsetY_1
 23863 03:62C4: 18           	clc
 23864 03:62C5: A5 38        	lda	<L1035+width_0
 23865 03:62C7: 65 34        	adc	<L1035+cx_0
 23866 03:62C9: 85 01        	sta	<R0
 23867 03:62CB: 38           	sec
 23868 03:62CC: A5 01        	lda	<R0
 23869 03:62CE: E5 1B        	sbc	<L1036+borderWidth_1
 23870 03:62D0: 85 27        	sta	<L1036+endX_1
 23871                        	.line	4027
 23872                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 23873 03:62D2: A5 30        	lda	<L1035+selected_0
 23874 03:62D4: C9 FF FF     	cmp	#<$ffffffff
 23875 03:62D7: F0 03        	beq	L1038
 23876 03:62D9: 82 37 00     	brl	L10437
  Thu Dec  3 2020 22:25                                                Page 440


 23877                        L1038:
 23878 03:62DC: A5 32        	lda	<L1035+unselected_0
 23879 03:62DE: C9 FF FF     	cmp	#<$ffffffff
 23880 03:62E1: F0 03        	beq	L1039
 23881 03:62E3: 82 2D 00     	brl	L10437
 23882                        L1039:
 23883                        	.line	4028
 23884 03:62E6: F4 00 00     	pea	#<$0
 23885 03:62E9: D4 42        	pei	<L1035+bgcolor_0
 23886 03:62EB: D4 3A        	pei	<L1035+height_0
 23887 03:62ED: D4 38        	pei	<L1035+width_0
 23888 03:62EF: A0 00 00     	ldy	#$0
 23889 03:62F2: A5 36        	lda	<L1035+cy_0
 23890 03:62F4: 10 01        	bpl	L1040
 23891 03:62F6: 88           	dey
 23892                        L1040:
 23893 03:62F7: 85 01        	sta	<R0
 23894 03:62F9: 84 03        	sty	<R0+2
 23895 03:62FB: D4 03        	pei	<R0+2
 23896 03:62FD: D4 01        	pei	<R0
 23897 03:62FF: A0 00 00     	ldy	#$0
 23898 03:6302: A5 34        	lda	<L1035+cx_0
 23899 03:6304: 10 01        	bpl	L1041
 23900 03:6306: 88           	dey
 23901                        L1041:
 23902 03:6307: 85 05        	sta	<R1
 23903 03:6309: 84 07        	sty	<R1+2
 23904 03:630B: D4 07        	pei	<R1+2
 23905 03:630D: D4 05        	pei	<R1
 23906 03:630F: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 23907                        ;
 23908                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 23909                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 23910                        ;	i = 0;
 23911                        L10437:
 23912                        	.line	4032
 23913 03:6313: 64 11        	stz	<L1036+i_1
 23914                        ;	caption = captions[i];
 23915                        	.line	4033
 23916 03:6315: A0 00 00     	ldy	#$0
 23917 03:6318: A5 11        	lda	<L1036+i_1
 23918 03:631A: 10 01        	bpl	L1042
 23919 03:631C: 88           	dey
 23920                        L1042:
 23921 03:631D: 85 05        	sta	<R1
 23922 03:631F: 84 07        	sty	<R1+2
 23923 03:6321: D4 07        	pei	<R1+2
 23924 03:6323: D4 05        	pei	<R1
 23925 03:6325: A9 02 00     	lda	#$2
 23926                        	xref	~~~lasl
 23927 03:6328: 22 xx xx xx  	jsl	~~~lasl
 23928 03:632C: 85 01        	sta	<R0
 23929 03:632E: 86 03        	stx	<R0+2
 23930 03:6330: 18           	clc
 23931 03:6331: A5 3C        	lda	<L1035+captions_0
 23932 03:6333: 65 01        	adc	<R0
  Thu Dec  3 2020 22:25                                                Page 441


 23933 03:6335: 85 09        	sta	<R2
 23934 03:6337: A5 3E        	lda	<L1035+captions_0+2
 23935 03:6339: 65 03        	adc	<R0+2
 23936 03:633B: 85 0B        	sta	<R2+2
 23937 03:633D: A7 09        	lda	[<R2]
 23938 03:633F: 85 15        	sta	<L1036+caption_1
 23939 03:6341: A0 02 00     	ldy	#$2
 23940 03:6344: B7 09        	lda	[<R2],Y
 23941 03:6346: 85 17        	sta	<L1036+caption_1+2
 23942                        ;	while(caption!=NULL)
 23943                        	.line	4034
 23944                        L10438:
 23945 03:6348: A5 15        	lda	<L1036+caption_1
 23946 03:634A: 05 17        	ora	<L1036+caption_1+2
 23947 03:634C: D0 03        	bne	L1043
 23948 03:634E: 82 A9 01     	brl	L10439
 23949                        L1043:
 23950                        ;	{
 23951                        	.line	4035
 23952                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 23953                        ;
 23954                        ;		//caption = strupr(caption);
 23955                        ;
 23956                        ;		if(selected!=-1 && unselected!=-1)
 23957                        	.line	4040
 23958                        ;		{
 23959 03:6351: A5 30        	lda	<L1035+selected_0
 23960 03:6353: C9 FF FF     	cmp	#<$ffffffff
 23961 03:6356: D0 03        	bne	L1044
 23962 03:6358: 82 D8 00     	brl	L10440
 23963                        L1044:
 23964 03:635B: A5 32        	lda	<L1035+unselected_0
 23965 03:635D: C9 FF FF     	cmp	#<$ffffffff
 23966 03:6360: D0 03        	bne	L1045
 23967 03:6362: 82 CE 00     	brl	L10440
 23968                        L1045:
 23969                        	.line	4041
 23970                        ;			if( i == selected && caption[0] 
                    != '_')
 23971                        	.line	4042
 23972                        ;			{
 23973 03:6365: A5 11        	lda	<L1036+i_1
 23974 03:6367: C5 30        	cmp	<L1035+selected_0
 23975 03:6369: F0 03        	beq	L1046
 23976 03:636B: 82 5E 00     	brl	L10441
 23977                        L1046:
 23978 03:636E: E2 20        	sep	#$20
 23979                        	longa	off
 23980 03:6370: A7 15        	lda	[<L1036+caption_1]
 23981 03:6372: C9 5F        	cmp	#<$5f
 23982 03:6374: C2 20        	rep	#$20
 23983                        	longa	on
 23984 03:6376: D0 03        	bne	L1047
 23985 03:6378: 82 51 00     	brl	L10441
 23986                        L1047:
 23987                        	.line	4043
 23988                        ;				k_vdma_fill_rect_ex(pWin
  Thu Dec  3 2020 22:25                                                Page 442


                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 23989                        	.line	4044
 23990 03:637B: F4 00 00     	pea	#<$0
 23991 03:637E: D4 40        	pei	<L1035+color_0
 23992 03:6380: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 23993 03:6384: 48           	pha
 23994 03:6385: A0 0C 00     	ldy	#$c
 23995 03:6388: B7 2C        	lda	[<L1035+pWin_0],Y
 23996 03:638A: 48           	pha
 23997 03:638B: A0 00 00     	ldy	#$0
 23998 03:638E: A5 1F        	lda	<L1036+titleOffsetY_1
 23999 03:6390: 10 01        	bpl	L1048
 24000 03:6392: 88           	dey
 24001                        L1048:
 24002 03:6393: 85 01        	sta	<R0
 24003 03:6395: 84 03        	sty	<R0+2
 24004 03:6397: D4 03        	pei	<R0+2
 24005 03:6399: D4 01        	pei	<R0
 24006 03:639B: A0 00 00     	ldy	#$0
 24007 03:639E: 5A           	phy
 24008 03:639F: A0 08 00     	ldy	#$8
 24009 03:63A2: B7 2C        	lda	[<L1035+pWin_0],Y
 24010 03:63A4: 7A           	ply
 24011 03:63A5: 2A           	rol	A
 24012 03:63A6: 6A           	ror	A
 24013 03:63A7: 10 01        	bpl	L1049
 24014 03:63A9: 88           	dey
 24015                        L1049:
 24016 03:63AA: 85 05        	sta	<R1
 24017 03:63AC: 84 07        	sty	<R1+2
 24018 03:63AE: D4 07        	pei	<R1+2
 24019 03:63B0: D4 05        	pei	<R1
 24020 03:63B2: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 24021                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 24022                        	.line	4045
 24023 03:63B6: F4 00 00     	pea	#<$0
 24024 03:63B9: D4 42        	pei	<L1035+bgcolor_0
 24025 03:63BB: D4 1F        	pei	<L1036+titleOffsetY_1
 24026 03:63BD: D4 1D        	pei	<L1036+titleOffsetX_1
 24027 03:63BF: D4 17        	pei	<L1036+caption_1+2
 24028 03:63C1: D4 15        	pei	<L1036+caption_1
 24029 03:63C3: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24030 03:63C7: 85 13        	sta	<L1036+hy_1
 24031                        ;			}
 24032                        	.line	4046
 24033                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 24034 03:63C9: 82 64 00     	brl	L10442
 24035                        L10441:
 24036                        	.line	4047
 24037                        ;			{
 24038 03:63CC: A5 11        	lda	<L1036+i_1
 24039 03:63CE: C5 32        	cmp	<L1035+unselected_0
 24040 03:63D0: F0 03        	beq	L1050
 24041 03:63D2: 82 5B 00     	brl	L10443
 24042                        L1050:
  Thu Dec  3 2020 22:25                                                Page 443


 24043 03:63D5: E2 20        	sep	#$20
 24044                        	longa	off
 24045 03:63D7: A7 15        	lda	[<L1036+caption_1]
 24046 03:63D9: C9 5F        	cmp	#<$5f
 24047 03:63DB: C2 20        	rep	#$20
 24048                        	longa	on
 24049 03:63DD: D0 03        	bne	L1051
 24050 03:63DF: 82 4E 00     	brl	L10443
 24051                        L1051:
 24052                        	.line	4048
 24053                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 24054                        	.line	4049
 24055 03:63E2: F4 00 00     	pea	#<$0
 24056 03:63E5: D4 42        	pei	<L1035+bgcolor_0
 24057 03:63E7: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 24058 03:63EB: 48           	pha
 24059 03:63EC: A0 0C 00     	ldy	#$c
 24060 03:63EF: B7 2C        	lda	[<L1035+pWin_0],Y
 24061 03:63F1: 48           	pha
 24062 03:63F2: A0 00 00     	ldy	#$0
 24063 03:63F5: A5 1F        	lda	<L1036+titleOffsetY_1
 24064 03:63F7: 10 01        	bpl	L1052
 24065 03:63F9: 88           	dey
 24066                        L1052:
 24067 03:63FA: 85 01        	sta	<R0
 24068 03:63FC: 84 03        	sty	<R0+2
 24069 03:63FE: D4 03        	pei	<R0+2
 24070 03:6400: D4 01        	pei	<R0
 24071 03:6402: A0 00 00     	ldy	#$0
 24072 03:6405: 5A           	phy
 24073 03:6406: A0 08 00     	ldy	#$8
 24074 03:6409: B7 2C        	lda	[<L1035+pWin_0],Y
 24075 03:640B: 7A           	ply
 24076 03:640C: 2A           	rol	A
 24077 03:640D: 6A           	ror	A
 24078 03:640E: 10 01        	bpl	L1053
 24079 03:6410: 88           	dey
 24080                        L1053:
 24081 03:6411: 85 05        	sta	<R1
 24082 03:6413: 84 07        	sty	<R1+2
 24083 03:6415: D4 07        	pei	<R1+2
 24084 03:6417: D4 05        	pei	<R1
 24085 03:6419: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 24086                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 24087                        	.line	4050
 24088 03:641D: F4 00 00     	pea	#<$0
 24089 03:6420: D4 40        	pei	<L1035+color_0
 24090 03:6422: D4 1F        	pei	<L1036+titleOffsetY_1
 24091 03:6424: D4 1D        	pei	<L1036+titleOffsetX_1
 24092 03:6426: D4 17        	pei	<L1036+caption_1+2
 24093 03:6428: D4 15        	pei	<L1036+caption_1
 24094 03:642A: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24095 03:642E: 85 13        	sta	<L1036+hy_1
 24096                        ;			}
 24097                        	.line	4051
  Thu Dec  3 2020 22:25                                                Page 444


 24098                        ;
 24099                        ;		}
 24100                        L10443:
 24101                        L10442:
 24102                        	.line	4053
 24103                        ;		else
 24104 03:6430: 82 7A 00     	brl	L10444
 24105                        L10440:
 24106                        ;		{
 24107                        	.line	4055
 24108                        ;			if( i == selected && caption[0] 
                    != '_')
 24109                        	.line	4056
 24110                        ;			{
 24111 03:6433: A5 11        	lda	<L1036+i_1
 24112 03:6435: C5 30        	cmp	<L1035+selected_0
 24113 03:6437: F0 03        	beq	L1054
 24114 03:6439: 82 5E 00     	brl	L10445
 24115                        L1054:
 24116 03:643C: E2 20        	sep	#$20
 24117                        	longa	off
 24118 03:643E: A7 15        	lda	[<L1036+caption_1]
 24119 03:6440: C9 5F        	cmp	#<$5f
 24120 03:6442: C2 20        	rep	#$20
 24121                        	longa	on
 24122 03:6444: D0 03        	bne	L1055
 24123 03:6446: 82 51 00     	brl	L10445
 24124                        L1055:
 24125                        	.line	4057
 24126                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 24127                        	.line	4058
 24128 03:6449: F4 00 00     	pea	#<$0
 24129 03:644C: D4 40        	pei	<L1035+color_0
 24130 03:644E: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 24131 03:6452: 48           	pha
 24132 03:6453: A0 0C 00     	ldy	#$c
 24133 03:6456: B7 2C        	lda	[<L1035+pWin_0],Y
 24134 03:6458: 48           	pha
 24135 03:6459: A0 00 00     	ldy	#$0
 24136 03:645C: A5 1F        	lda	<L1036+titleOffsetY_1
 24137 03:645E: 10 01        	bpl	L1056
 24138 03:6460: 88           	dey
 24139                        L1056:
 24140 03:6461: 85 01        	sta	<R0
 24141 03:6463: 84 03        	sty	<R0+2
 24142 03:6465: D4 03        	pei	<R0+2
 24143 03:6467: D4 01        	pei	<R0
 24144 03:6469: A0 00 00     	ldy	#$0
 24145 03:646C: 5A           	phy
 24146 03:646D: A0 08 00     	ldy	#$8
 24147 03:6470: B7 2C        	lda	[<L1035+pWin_0],Y
 24148 03:6472: 7A           	ply
 24149 03:6473: 2A           	rol	A
 24150 03:6474: 6A           	ror	A
 24151 03:6475: 10 01        	bpl	L1057
 24152 03:6477: 88           	dey
  Thu Dec  3 2020 22:25                                                Page 445


 24153                        L1057:
 24154 03:6478: 85 05        	sta	<R1
 24155 03:647A: 84 07        	sty	<R1+2
 24156 03:647C: D4 07        	pei	<R1+2
 24157 03:647E: D4 05        	pei	<R1
 24158 03:6480: 22 C1 50 03  	jsl	~~k_vdma_fill_rect_ex
 24159                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 24160                        	.line	4059
 24161 03:6484: F4 00 00     	pea	#<$0
 24162 03:6487: D4 42        	pei	<L1035+bgcolor_0
 24163 03:6489: D4 1F        	pei	<L1036+titleOffsetY_1
 24164 03:648B: D4 1D        	pei	<L1036+titleOffsetX_1
 24165 03:648D: D4 17        	pei	<L1036+caption_1+2
 24166 03:648F: D4 15        	pei	<L1036+caption_1
 24167 03:6491: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24168 03:6495: 85 13        	sta	<L1036+hy_1
 24169                        ;			}
 24170                        	.line	4060
 24171                        ;			else
 24172 03:6497: 82 13 00     	brl	L10446
 24173                        L10445:
 24174                        ;			{
 24175                        	.line	4062
 24176                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 24177                        	.line	4063
 24178 03:649A: F4 00 00     	pea	#<$0
 24179 03:649D: D4 40        	pei	<L1035+color_0
 24180 03:649F: D4 1F        	pei	<L1036+titleOffsetY_1
 24181 03:64A1: D4 1D        	pei	<L1036+titleOffsetX_1
 24182 03:64A3: D4 17        	pei	<L1036+caption_1+2
 24183 03:64A5: D4 15        	pei	<L1036+caption_1
 24184 03:64A7: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24185 03:64AB: 85 13        	sta	<L1036+hy_1
 24186                        ;			}
 24187                        	.line	4064
 24188                        L10446:
 24189                        ;		}
 24190                        	.line	4065
 24191                        L10444:
 24192                        ;		titleOffsetY+=(FONTH + 2);
 24193                        	.line	4066
 24194 03:64AD: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 24195 03:64B1: 85 01        	sta	<R0
 24196 03:64B3: 18           	clc
 24197 03:64B4: A5 01        	lda	<R0
 24198 03:64B6: 65 1F        	adc	<L1036+titleOffsetY_1
 24199 03:64B8: 85 05        	sta	<R1
 24200 03:64BA: 18           	clc
 24201 03:64BB: A9 02 00     	lda	#$2
 24202 03:64BE: 65 05        	adc	<R1
 24203 03:64C0: 85 1F        	sta	<L1036+titleOffsetY_1
 24204                        ;		i++;
 24205                        	.line	4067
 24206 03:64C2: E6 11        	inc	<L1036+i_1
 24207                        ;		caption = captions[i];
 24208                        	.line	4068
  Thu Dec  3 2020 22:25                                                Page 446


 24209 03:64C4: A0 00 00     	ldy	#$0
 24210 03:64C7: A5 11        	lda	<L1036+i_1
 24211 03:64C9: 10 01        	bpl	L1058
 24212 03:64CB: 88           	dey
 24213                        L1058:
 24214 03:64CC: 85 05        	sta	<R1
 24215 03:64CE: 84 07        	sty	<R1+2
 24216 03:64D0: D4 07        	pei	<R1+2
 24217 03:64D2: D4 05        	pei	<R1
 24218 03:64D4: A9 02 00     	lda	#$2
 24219                        	xref	~~~lasl
 24220 03:64D7: 22 xx xx xx  	jsl	~~~lasl
 24221 03:64DB: 85 01        	sta	<R0
 24222 03:64DD: 86 03        	stx	<R0+2
 24223 03:64DF: 18           	clc
 24224 03:64E0: A5 3C        	lda	<L1035+captions_0
 24225 03:64E2: 65 01        	adc	<R0
 24226 03:64E4: 85 09        	sta	<R2
 24227 03:64E6: A5 3E        	lda	<L1035+captions_0+2
 24228 03:64E8: 65 03        	adc	<R0+2
 24229 03:64EA: 85 0B        	sta	<R2+2
 24230 03:64EC: A7 09        	lda	[<R2]
 24231 03:64EE: 85 15        	sta	<L1036+caption_1
 24232 03:64F0: A0 02 00     	ldy	#$2
 24233 03:64F3: B7 09        	lda	[<R2],Y
 24234 03:64F5: 85 17        	sta	<L1036+caption_1+2
 24235                        ;	}
 24236                        	.line	4069
 24237 03:64F7: 82 4E FE     	brl	L10438
 24238                        L10439:
 24239                        ;
 24240                        ;	return NULL;
 24241                        	.line	4071
 24242 03:64FA: A9 00 00     	lda	#$0
 24243 03:64FD: AA           	tax
 24244 03:64FE: A9 00 00     	lda	#$0
 24245                        L1059:
 24246 03:6501: A8           	tay
 24247 03:6502: A5 2A        	lda	<L1035+2
 24248 03:6504: 85 42        	sta	<L1035+2+24
 24249 03:6506: A5 29        	lda	<L1035+1
 24250 03:6508: 85 41        	sta	<L1035+1+24
 24251 03:650A: 2B           	pld
 24252 03:650B: 3B           	tsc
 24253 03:650C: 18           	clc
 24254 03:650D: 69 40 00     	adc	#L1035+24
 24255 03:6510: 1B           	tcs
 24256 03:6511: 98           	tya
 24257 03:6512: 6B           	rtl
 24258                        ;
 24259                        ;}
 24260                        	.line	4073
 24261                        	.endblock	4073
 24262             00000028   L1035	equ	40
 24263             0000000D   L1036	equ	13
 24264 03:6513:              	ends
 24265                        	efunc
 24266                        	.endfunc	4073,13,40
  Thu Dec  3 2020 22:25                                                Page 447


 24267                        	.line	4073
 24268                        ;
 24269                        ;
 24270                        ;PMENU k_render_context_menu(PMENU menu)
 24271                        ;{
 24272                        	.line	4076
 24273                        	.line	4077
 24274                        	GUI
 24275                        	xdef	~~k_render_context_menu
 24276                        	func
 24277                        	.function	4077
 24278                        ~~k_render_context_menu:
 24279                        	longa	on
 24280                        	longi	on
 24281 03:6513: 3B           	tsc
 24282 03:6514: 38           	sec
 24283 03:6515: E9 2A 00     	sbc	#L1060
 24284 03:6518: 1B           	tcs
 24285 03:6519: 0B           	phd
 24286 03:651A: 5B           	tcd
 24287             00000004   menu_0	set	4
 24288                        	.block	4077
 24289                        ;	FONTMETRIC metric;
 24290                        ;
 24291                        ;	int i = 0;
 24292                        ;
 24293                        ;	int cx = menu->cx;
 24294                        ;	int cy = menu->cy;
 24295                        ;
 24296                        ;	char FAR *caption = NULL;
 24297                        ;
 24298                        ;	int borderTitle = 10;
 24299                        ;	int borderWidth = 3;
 24300                        ;
 24301                        ;	int titleOffsetX = cx+2;
 24302                        ;	int titleOffsetY = cy+2;
 24303                        ;	int titleScaler = 0;
 24304                        ;
 24305                        ;	int clientOffsetX = cx+borderWidth+2;
 24306                        ;	int clientOffsetY = cy+borderTitle+1;
 24307                        ;
 24308                        ;	int endX = menu->width + cx - borderWidth;
 24309                        ;
 24310                        ;
 24311                        ;/*
 24312                        ;	k_get_font_metrics(&metric);
 24313                        ;
 24314                        ;	height += metric.height + (int)(metric.width/4);
 24315                        ;
 24316                        ;	menu->cx = cx;
 24317                        ;	menu->cy = cy;
 24318                        ;	menu->height = height;
 24319                        ;	menu->width = width;
 24320                        ;
 24321                        ;	*/
 24322                        ;
 24323                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
  Thu Dec  3 2020 22:25                                                Page 448


 24324             00000000   metric_1	set	0
 24325             00000004   i_1	set	4
 24326             00000006   cx_1	set	6
 24327             00000008   cy_1	set	8
 24328             0000000A   caption_1	set	10
 24329             0000000E   borderTitle_1	set	14
 24330             00000010   borderWidth_1	set	16
 24331             00000012   titleOffsetX_1	set	18
 24332             00000014   titleOffsetY_1	set	20
 24333             00000016   titleScaler_1	set	22
 24334             00000018   clientOffsetX_1	set	24
 24335             0000001A   clientOffsetY_1	set	26
 24336             0000001C   endX_1	set	28
 24337                        	.sym	metric,0,10,1,32,32
 24338                        	.sym	i,4,5,1,16
 24339                        	.sym	cx,6,5,1,16
 24340                        	.sym	cy,8,5,1,16
 24341                        	.sym	caption,10,142,1,32
 24342                        	.sym	borderTitle,14,5,1,16
 24343                        	.sym	borderWidth,16,5,1,16
 24344                        	.sym	titleOffsetX,18,5,1,16
 24345                        	.sym	titleOffsetY,20,5,1,16
 24346                        	.sym	titleScaler,22,5,1,16
 24347                        	.sym	clientOffsetX,24,5,1,16
 24348                        	.sym	clientOffsetY,26,5,1,16
 24349                        	.sym	endX,28,5,1,16
 24350                        	.sym	menu,4,138,6,32,34
 24351 03:651B: 64 11        	stz	<L1061+i_1
 24352 03:651D: A7 2E        	lda	[<L1060+menu_0]
 24353 03:651F: 85 13        	sta	<L1061+cx_1
 24354 03:6521: A0 02 00     	ldy	#$2
 24355 03:6524: B7 2E        	lda	[<L1060+menu_0],Y
 24356 03:6526: 85 15        	sta	<L1061+cy_1
 24357 03:6528: 64 17        	stz	<L1061+caption_1
 24358 03:652A: 64 19        	stz	<L1061+caption_1+2
 24359 03:652C: A9 0A 00     	lda	#$a
 24360 03:652F: 85 1B        	sta	<L1061+borderTitle_1
 24361 03:6531: A9 03 00     	lda	#$3
 24362 03:6534: 85 1D        	sta	<L1061+borderWidth_1
 24363 03:6536: 18           	clc
 24364 03:6537: A9 02 00     	lda	#$2
 24365 03:653A: 65 13        	adc	<L1061+cx_1
 24366 03:653C: 85 1F        	sta	<L1061+titleOffsetX_1
 24367 03:653E: 18           	clc
 24368 03:653F: A9 02 00     	lda	#$2
 24369 03:6542: 65 15        	adc	<L1061+cy_1
 24370 03:6544: 85 21        	sta	<L1061+titleOffsetY_1
 24371 03:6546: 64 23        	stz	<L1061+titleScaler_1
 24372 03:6548: 18           	clc
 24373 03:6549: A5 13        	lda	<L1061+cx_1
 24374 03:654B: 65 1D        	adc	<L1061+borderWidth_1
 24375 03:654D: 85 01        	sta	<R0
 24376 03:654F: 18           	clc
 24377 03:6550: A9 02 00     	lda	#$2
 24378 03:6553: 65 01        	adc	<R0
 24379 03:6555: 85 25        	sta	<L1061+clientOffsetX_1
 24380 03:6557: 18           	clc
 24381 03:6558: A5 15        	lda	<L1061+cy_1
  Thu Dec  3 2020 22:25                                                Page 449


 24382 03:655A: 65 1B        	adc	<L1061+borderTitle_1
 24383 03:655C: 85 01        	sta	<R0
 24384 03:655E: A5 01        	lda	<R0
 24385 03:6560: 1A           	ina
 24386 03:6561: 85 27        	sta	<L1061+clientOffsetY_1
 24387 03:6563: 18           	clc
 24388 03:6564: A0 04 00     	ldy	#$4
 24389 03:6567: B7 2E        	lda	[<L1060+menu_0],Y
 24390 03:6569: 65 13        	adc	<L1061+cx_1
 24391 03:656B: 85 01        	sta	<R0
 24392 03:656D: 38           	sec
 24393 03:656E: A5 01        	lda	<R0
 24394 03:6570: E5 1D        	sbc	<L1061+borderWidth_1
 24395 03:6572: 85 29        	sta	<L1061+endX_1
 24396                        	.line	4112
 24397 03:6574: F4 00 00     	pea	#<$0
 24398 03:6577: A0 06 00     	ldy	#$6
 24399 03:657A: B7 2E        	lda	[<L1060+menu_0],Y
 24400 03:657C: 1A           	ina
 24401 03:657D: 48           	pha
 24402 03:657E: A0 04 00     	ldy	#$4
 24403 03:6581: B7 2E        	lda	[<L1060+menu_0],Y
 24404 03:6583: 1A           	ina
 24405 03:6584: 48           	pha
 24406 03:6585: A0 00 00     	ldy	#$0
 24407 03:6588: A5 15        	lda	<L1061+cy_1
 24408 03:658A: 10 01        	bpl	L1063
 24409 03:658C: 88           	dey
 24410                        L1063:
 24411 03:658D: 85 01        	sta	<R0
 24412 03:658F: 84 03        	sty	<R0+2
 24413 03:6591: D4 03        	pei	<R0+2
 24414 03:6593: D4 01        	pei	<R0
 24415 03:6595: 18           	clc
 24416 03:6596: A9 FF FF     	lda	#$ffff
 24417 03:6599: 65 13        	adc	<L1061+cx_1
 24418 03:659B: 85 05        	sta	<R1
 24419 03:659D: A0 00 00     	ldy	#$0
 24420 03:65A0: A5 05        	lda	<R1
 24421 03:65A2: 10 01        	bpl	L1064
 24422 03:65A4: 88           	dey
 24423                        L1064:
 24424 03:65A5: 85 05        	sta	<R1
 24425 03:65A7: 84 07        	sty	<R1+2
 24426 03:65A9: D4 07        	pei	<R1+2
 24427 03:65AB: D4 05        	pei	<R1
 24428 03:65AD: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 24429                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 24430                        	.line	4113
 24431 03:65B1: A0 08 00     	ldy	#$8
 24432 03:65B4: B7 2E        	lda	[<L1060+menu_0],Y
 24433 03:65B6: 48           	pha
 24434 03:65B7: A0 06 00     	ldy	#$6
 24435 03:65BA: B7 2E        	lda	[<L1060+menu_0],Y
 24436 03:65BC: 48           	pha
 24437 03:65BD: A0 04 00     	ldy	#$4
 24438 03:65C0: B7 2E        	lda	[<L1060+menu_0],Y
  Thu Dec  3 2020 22:25                                                Page 450


 24439 03:65C2: 48           	pha
 24440 03:65C3: A0 00 00     	ldy	#$0
 24441 03:65C6: A5 15        	lda	<L1061+cy_1
 24442 03:65C8: 10 01        	bpl	L1065
 24443 03:65CA: 88           	dey
 24444                        L1065:
 24445 03:65CB: 85 01        	sta	<R0
 24446 03:65CD: 84 03        	sty	<R0+2
 24447 03:65CF: D4 03        	pei	<R0+2
 24448 03:65D1: D4 01        	pei	<R0
 24449 03:65D3: A0 00 00     	ldy	#$0
 24450 03:65D6: A5 13        	lda	<L1061+cx_1
 24451 03:65D8: 10 01        	bpl	L1066
 24452 03:65DA: 88           	dey
 24453                        L1066:
 24454 03:65DB: 85 05        	sta	<R1
 24455 03:65DD: 84 07        	sty	<R1+2
 24456 03:65DF: D4 07        	pei	<R1+2
 24457 03:65E1: D4 05        	pei	<R1
 24458 03:65E3: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 24459                        ;
 24460                        ;	//k_delay(15);
 24461                        ;
 24462                        ;
 24463                        ;
 24464                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 24465                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 24466                        ;	i = 0;
 24467                        	.line	4121
 24468 03:65E7: 64 11        	stz	<L1061+i_1
 24469                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 24470                        	.line	4122
 24471 03:65E9: A0 0F 00     	ldy	#$f
 24472 03:65EC: B7 2E        	lda	[<L1060+menu_0],Y
 24473 03:65EE: 85 01        	sta	<R0
 24474 03:65F0: A0 11 00     	ldy	#$11
 24475 03:65F3: B7 2E        	lda	[<L1060+menu_0],Y
 24476 03:65F5: 85 03        	sta	<R0+2
 24477 03:65F7: A7 01        	lda	[<R0]
 24478 03:65F9: 85 17        	sta	<L1061+caption_1
 24479 03:65FB: A0 02 00     	ldy	#$2
 24480 03:65FE: B7 01        	lda	[<R0],Y
 24481 03:6600: 85 19        	sta	<L1061+caption_1+2
 24482                        ;	while(caption!=NULL)
 24483                        	.line	4123
 24484                        L10447:
 24485 03:6602: A5 17        	lda	<L1061+caption_1
 24486 03:6604: 05 19        	ora	<L1061+caption_1+2
 24487 03:6606: D0 03        	bne	L1067
 24488 03:6608: 82 62 00     	brl	L10448
 24489                        L1067:
 24490                        ;	{
 24491                        	.line	4124
 24492                        ;		//caption = strupr(caption);
 24493                        ;		k_draw_text_point(caption,titleOffsetX,t
                    itleOffsetY,0);
  Thu Dec  3 2020 22:25                                                Page 451


 24494                        	.line	4126
 24495 03:660B: F4 00 00     	pea	#<$0
 24496 03:660E: D4 21        	pei	<L1061+titleOffsetY_1
 24497 03:6610: D4 1F        	pei	<L1061+titleOffsetX_1
 24498 03:6612: D4 19        	pei	<L1061+caption_1+2
 24499 03:6614: D4 17        	pei	<L1061+caption_1
 24500 03:6616: 22 62 1A 03  	jsl	~~k_draw_text_point
 24501                        ;		titleOffsetY+=(FONTH + 2);
 24502                        	.line	4127
 24503 03:661A: 22 B3 71 03  	jsl	~~k_font_getFontHeight
 24504 03:661E: 85 01        	sta	<R0
 24505 03:6620: 18           	clc
 24506 03:6621: A5 01        	lda	<R0
 24507 03:6623: 65 21        	adc	<L1061+titleOffsetY_1
 24508 03:6625: 85 05        	sta	<R1
 24509 03:6627: 18           	clc
 24510 03:6628: A9 02 00     	lda	#$2
 24511 03:662B: 65 05        	adc	<R1
 24512 03:662D: 85 21        	sta	<L1061+titleOffsetY_1
 24513                        ;		i++;
 24514                        	.line	4128
 24515 03:662F: E6 11        	inc	<L1061+i_1
 24516                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 24517                        	.line	4129
 24518 03:6631: A0 00 00     	ldy	#$0
 24519 03:6634: A5 11        	lda	<L1061+i_1
 24520 03:6636: 10 01        	bpl	L1068
 24521 03:6638: 88           	dey
 24522                        L1068:
 24523 03:6639: 85 05        	sta	<R1
 24524 03:663B: 84 07        	sty	<R1+2
 24525 03:663D: D4 07        	pei	<R1+2
 24526 03:663F: D4 05        	pei	<R1
 24527 03:6641: A9 02 00     	lda	#$2
 24528                        	xref	~~~lasl
 24529 03:6644: 22 xx xx xx  	jsl	~~~lasl
 24530 03:6648: 85 01        	sta	<R0
 24531 03:664A: 86 03        	stx	<R0+2
 24532 03:664C: 18           	clc
 24533 03:664D: A0 0F 00     	ldy	#$f
 24534 03:6650: B7 2E        	lda	[<L1060+menu_0],Y
 24535 03:6652: 65 01        	adc	<R0
 24536 03:6654: 85 09        	sta	<R2
 24537 03:6656: A0 11 00     	ldy	#$11
 24538 03:6659: B7 2E        	lda	[<L1060+menu_0],Y
 24539 03:665B: 65 03        	adc	<R0+2
 24540 03:665D: 85 0B        	sta	<R2+2
 24541 03:665F: A7 09        	lda	[<R2]
 24542 03:6661: 85 17        	sta	<L1061+caption_1
 24543 03:6663: A0 02 00     	ldy	#$2
 24544 03:6666: B7 09        	lda	[<R2],Y
 24545 03:6668: 85 19        	sta	<L1061+caption_1+2
 24546                        ;	}
 24547                        	.line	4130
 24548 03:666A: 82 95 FF     	brl	L10447
 24549                        L10448:
 24550                        ;
 24551                        ;	return menu;
  Thu Dec  3 2020 22:25                                                Page 452


 24552                        	.line	4132
 24553 03:666D: A6 30        	ldx	<L1060+menu_0+2
 24554 03:666F: A5 2E        	lda	<L1060+menu_0
 24555                        L1069:
 24556 03:6671: A8           	tay
 24557 03:6672: A5 2C        	lda	<L1060+2
 24558 03:6674: 85 30        	sta	<L1060+2+4
 24559 03:6676: A5 2B        	lda	<L1060+1
 24560 03:6678: 85 2F        	sta	<L1060+1+4
 24561 03:667A: 2B           	pld
 24562 03:667B: 3B           	tsc
 24563 03:667C: 18           	clc
 24564 03:667D: 69 2E 00     	adc	#L1060+4
 24565 03:6680: 1B           	tcs
 24566 03:6681: 98           	tya
 24567 03:6682: 6B           	rtl
 24568                        ;
 24569                        ;}
 24570                        	.line	4134
 24571                        	.endblock	4134
 24572             0000002A   L1060	equ	42
 24573             0000000D   L1061	equ	13
 24574 03:6683:              	ends
 24575                        	efunc
 24576                        	.endfunc	4134,13,42
 24577                        	.line	4134
 24578                        ;
 24579                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
                    char bcolor)
 24580                        ;{
 24581                        	.line	4136
 24582                        	.line	4137
 24583                        	GUI
 24584                        	xdef	~~k_free_context_menu
 24585                        	func
 24586                        	.function	4137
 24587                        ~~k_free_context_menu:
 24588                        	longa	on
 24589                        	longi	on
 24590 03:6683: 3B           	tsc
 24591 03:6684: 38           	sec
 24592 03:6685: E9 08 00     	sbc	#L1070
 24593 03:6688: 1B           	tcs
 24594 03:6689: 0B           	phd
 24595 03:668A: 5B           	tcd
 24596             00000004   pmenu_0	set	4
 24597             00000008   fcolor_0	set	8
 24598             0000000A   bcolor_0	set	10
 24599                        	.block	4137
 24600                        ;	if(pmenu)
 24601                        	.sym	pmenu,4,138,6,32,34
 24602                        	.sym	fcolor,8,14,6,8
 24603                        	.sym	bcolor,10,14,6,8
 24604                        	.line	4138
 24605                        ;	{
 24606 03:668B: A5 0C        	lda	<L1070+pmenu_0
 24607 03:668D: 05 0E        	ora	<L1070+pmenu_0+2
 24608 03:668F: D0 03        	bne	L1073
  Thu Dec  3 2020 22:25                                                Page 453


 24609 03:6691: 82 4B 00     	brl	L10449
 24610                        L1073:
 24611                        	.line	4139
 24612                        ;		k_vdma_fill_rect(pmenu->cx-1,pmenu->cy,p
                    menu->width+1,pmenu->height+1,bcolor);
 24613                        	.line	4140
 24614 03:6694: D4 12        	pei	<L1070+bcolor_0
 24615 03:6696: A0 06 00     	ldy	#$6
 24616 03:6699: B7 0C        	lda	[<L1070+pmenu_0],Y
 24617 03:669B: 1A           	ina
 24618 03:669C: 48           	pha
 24619 03:669D: A0 04 00     	ldy	#$4
 24620 03:66A0: B7 0C        	lda	[<L1070+pmenu_0],Y
 24621 03:66A2: 1A           	ina
 24622 03:66A3: 48           	pha
 24623 03:66A4: A0 00 00     	ldy	#$0
 24624 03:66A7: 5A           	phy
 24625 03:66A8: A0 02 00     	ldy	#$2
 24626 03:66AB: B7 0C        	lda	[<L1070+pmenu_0],Y
 24627 03:66AD: 7A           	ply
 24628 03:66AE: 2A           	rol	A
 24629 03:66AF: 6A           	ror	A
 24630 03:66B0: 10 01        	bpl	L1074
 24631 03:66B2: 88           	dey
 24632                        L1074:
 24633 03:66B3: 85 01        	sta	<R0
 24634 03:66B5: 84 03        	sty	<R0+2
 24635 03:66B7: D4 03        	pei	<R0+2
 24636 03:66B9: D4 01        	pei	<R0
 24637 03:66BB: 18           	clc
 24638 03:66BC: A9 FF FF     	lda	#$ffff
 24639 03:66BF: 67 0C        	adc	[<L1070+pmenu_0]
 24640 03:66C1: 85 05        	sta	<R1
 24641 03:66C3: A0 00 00     	ldy	#$0
 24642 03:66C6: A5 05        	lda	<R1
 24643 03:66C8: 10 01        	bpl	L1075
 24644 03:66CA: 88           	dey
 24645                        L1075:
 24646 03:66CB: 85 05        	sta	<R1
 24647 03:66CD: 84 07        	sty	<R1+2
 24648 03:66CF: D4 07        	pei	<R1+2
 24649 03:66D1: D4 05        	pei	<R1
 24650 03:66D3: 22 14 51 03  	jsl	~~k_vdma_fill_rect
 24651                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 24652                        ;		k_mem_deallocate_heap(pmenu);
 24653                        	.line	4142
 24654 03:66D7: D4 0E        	pei	<L1070+pmenu_0+2
 24655 03:66D9: D4 0C        	pei	<L1070+pmenu_0
 24656 03:66DB: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 24657                        ;	}
 24658                        	.line	4143
 24659                        ;}
 24660                        L10449:
 24661                        	.line	4144
 24662                        L1076:
 24663 03:66DF: A5 0A        	lda	<L1070+2
 24664 03:66E1: 85 12        	sta	<L1070+2+8
  Thu Dec  3 2020 22:25                                                Page 454


 24665 03:66E3: A5 09        	lda	<L1070+1
 24666 03:66E5: 85 11        	sta	<L1070+1+8
 24667 03:66E7: 2B           	pld
 24668 03:66E8: 3B           	tsc
 24669 03:66E9: 18           	clc
 24670 03:66EA: 69 10 00     	adc	#L1070+8
 24671 03:66ED: 1B           	tcs
 24672 03:66EE: 6B           	rtl
 24673                        	.endblock	4144
 24674             00000008   L1070	equ	8
 24675             00000009   L1071	equ	9
 24676 03:66EF:              	ends
 24677                        	efunc
 24678                        	.endfunc	4144,9,8
 24679                        	.line	4144
 24680                        ;
 24681                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 24682                        ;{
 24683                        	.line	4146
 24684                        	.line	4147
 24685                        	GUI
 24686                        	xdef	~~k_bitblt
 24687                        	func
 24688                        	.function	4147
 24689                        ~~k_bitblt:
 24690                        	longa	on
 24691                        	longi	on
 24692 03:66EF: 3B           	tsc
 24693 03:66F0: 38           	sec
 24694 03:66F1: E9 20 00     	sbc	#L1077
 24695 03:66F4: 1B           	tcs
 24696 03:66F5: 0B           	phd
 24697 03:66F6: 5B           	tcd
 24698             00000004   x0_0	set	4
 24699             00000006   y0_0	set	6
 24700             00000008   width_0	set	8
 24701             0000000A   height_0	set	10
 24702             0000000C   x1_0	set	12
 24703             0000000E   y1_0	set	14
 24704                        	.block	4147
 24705                        ;	long dy = 0L;
 24706                        ;	long dd = y1;
 24707                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 24708                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 24709                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 24710                        ;
 24711                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 24712                        ;
 24713                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 24714             00000000   dy_1	set	0
 24715             00000004   dd_1	set	4
 24716             00000008   pixelLocation0_1	set	8
 24717             0000000C   pixelLocation1_1	set	12
  Thu Dec  3 2020 22:25                                                Page 455


 24718             00000010   pixelLocationD_1	set	16
 24719             00000014   difference_1	set	20
 24720                        	.sym	dy,0,7,1,32
 24721                        	.sym	dd,4,7,1,32
 24722                        	.sym	pixelLocation0,8,7,1,32
 24723                        	.sym	pixelLocation1,12,7,1,32
 24724                        	.sym	pixelLocationD,16,7,1,32
 24725                        	.sym	difference,20,7,1,32
 24726                        	.sym	x0,4,5,6,16
 24727                        	.sym	y0,6,5,6,16
 24728                        	.sym	width,8,5,6,16
 24729                        	.sym	height,10,5,6,16
 24730                        	.sym	x1,12,5,6,16
 24731                        	.sym	y1,14,5,6,16
 24732 03:66F7: 64 09        	stz	<L1078+dy_1
 24733 03:66F9: 64 0B        	stz	<L1078+dy_1+2
 24734 03:66FB: A0 00 00     	ldy	#$0
 24735 03:66FE: A5 2E        	lda	<L1077+y1_0
 24736 03:6700: 10 01        	bpl	L1080
 24737 03:6702: 88           	dey
 24738                        L1080:
 24739 03:6703: 85 0D        	sta	<L1078+dd_1
 24740 03:6705: 84 0F        	sty	<L1078+dd_1+2
 24741 03:6707: A0 00 00     	ldy	#$0
 24742 03:670A: A5 24        	lda	<L1077+x0_0
 24743 03:670C: 10 01        	bpl	L1081
 24744 03:670E: 88           	dey
 24745                        L1081:
 24746 03:670F: 85 01        	sta	<R0
 24747 03:6711: 84 03        	sty	<R0+2
 24748 03:6713: A0 00 00     	ldy	#$0
 24749 03:6716: A5 26        	lda	<L1077+y0_0
 24750 03:6718: 10 01        	bpl	L1082
 24751 03:671A: 88           	dey
 24752                        L1082:
 24753 03:671B: 85 05        	sta	<R1
 24754 03:671D: 84 07        	sty	<R1+2
 24755 03:671F: F4 00 00     	pea	#^$280
 24756 03:6722: F4 80 02     	pea	#<$280
 24757 03:6725: D4 07        	pei	<R1+2
 24758 03:6727: D4 05        	pei	<R1
 24759                        	xref	~~~lmul
 24760 03:6729: 22 xx xx xx  	jsl	~~~lmul
 24761 03:672D: 85 05        	sta	<R1
 24762 03:672F: 86 07        	stx	<R1+2
 24763 03:6731: 18           	clc
 24764 03:6732: A5 05        	lda	<R1
 24765 03:6734: 65 01        	adc	<R0
 24766 03:6736: 85 11        	sta	<L1078+pixelLocation0_1
 24767 03:6738: A5 07        	lda	<R1+2
 24768 03:673A: 65 03        	adc	<R0+2
 24769 03:673C: 85 13        	sta	<L1078+pixelLocation0_1+2
 24770 03:673E: 18           	clc
 24771 03:673F: A5 24        	lda	<L1077+x0_0
 24772 03:6741: 65 28        	adc	<L1077+width_0
 24773 03:6743: 85 01        	sta	<R0
 24774 03:6745: A0 00 00     	ldy	#$0
 24775 03:6748: A5 01        	lda	<R0
  Thu Dec  3 2020 22:25                                                Page 456


 24776 03:674A: 10 01        	bpl	L1083
 24777 03:674C: 88           	dey
 24778                        L1083:
 24779 03:674D: 85 01        	sta	<R0
 24780 03:674F: 84 03        	sty	<R0+2
 24781 03:6751: A0 00 00     	ldy	#$0
 24782 03:6754: A5 26        	lda	<L1077+y0_0
 24783 03:6756: 10 01        	bpl	L1084
 24784 03:6758: 88           	dey
 24785                        L1084:
 24786 03:6759: 85 05        	sta	<R1
 24787 03:675B: 84 07        	sty	<R1+2
 24788 03:675D: F4 00 00     	pea	#^$280
 24789 03:6760: F4 80 02     	pea	#<$280
 24790 03:6763: D4 07        	pei	<R1+2
 24791 03:6765: D4 05        	pei	<R1
 24792                        	xref	~~~lmul
 24793 03:6767: 22 xx xx xx  	jsl	~~~lmul
 24794 03:676B: 85 05        	sta	<R1
 24795 03:676D: 86 07        	stx	<R1+2
 24796 03:676F: 18           	clc
 24797 03:6770: A5 05        	lda	<R1
 24798 03:6772: 65 01        	adc	<R0
 24799 03:6774: 85 15        	sta	<L1078+pixelLocation1_1
 24800 03:6776: A5 07        	lda	<R1+2
 24801 03:6778: 65 03        	adc	<R0+2
 24802 03:677A: 85 17        	sta	<L1078+pixelLocation1_1+2
 24803 03:677C: A0 00 00     	ldy	#$0
 24804 03:677F: A5 2C        	lda	<L1077+x1_0
 24805 03:6781: 10 01        	bpl	L1085
 24806 03:6783: 88           	dey
 24807                        L1085:
 24808 03:6784: 85 01        	sta	<R0
 24809 03:6786: 84 03        	sty	<R0+2
 24810 03:6788: A0 00 00     	ldy	#$0
 24811 03:678B: A5 2E        	lda	<L1077+y1_0
 24812 03:678D: 10 01        	bpl	L1086
 24813 03:678F: 88           	dey
 24814                        L1086:
 24815 03:6790: 85 05        	sta	<R1
 24816 03:6792: 84 07        	sty	<R1+2
 24817 03:6794: F4 00 00     	pea	#^$280
 24818 03:6797: F4 80 02     	pea	#<$280
 24819 03:679A: D4 07        	pei	<R1+2
 24820 03:679C: D4 05        	pei	<R1
 24821                        	xref	~~~lmul
 24822 03:679E: 22 xx xx xx  	jsl	~~~lmul
 24823 03:67A2: 85 05        	sta	<R1
 24824 03:67A4: 86 07        	stx	<R1+2
 24825 03:67A6: 18           	clc
 24826 03:67A7: A5 05        	lda	<R1
 24827 03:67A9: 65 01        	adc	<R0
 24828 03:67AB: 85 19        	sta	<L1078+pixelLocationD_1
 24829 03:67AD: A5 07        	lda	<R1+2
 24830 03:67AF: 65 03        	adc	<R0+2
 24831 03:67B1: 85 1B        	sta	<L1078+pixelLocationD_1+2
 24832 03:67B3: 38           	sec
 24833 03:67B4: A5 15        	lda	<L1078+pixelLocation1_1
  Thu Dec  3 2020 22:25                                                Page 457


 24834 03:67B6: E5 11        	sbc	<L1078+pixelLocation0_1
 24835 03:67B8: 85 1D        	sta	<L1078+difference_1
 24836 03:67BA: A5 17        	lda	<L1078+pixelLocation1_1+2
 24837 03:67BC: E5 13        	sbc	<L1078+pixelLocation0_1+2
 24838 03:67BE: 85 1F        	sta	<L1078+difference_1+2
 24839                        	.line	4156
 24840 03:67C0: D4 13        	pei	<L1078+pixelLocation0_1+2
 24841 03:67C2: D4 11        	pei	<L1078+pixelLocation0_1
 24842 03:67C4: F4 xx xx     	pea	#^L1034
 24843 03:67C7: F4 xx xx     	pea	#<L1034
 24844 03:67CA: 22 xx xx xx  	jsl	~~k_debug_long
 24845                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 24846                        	.line	4157
 24847 03:67CE: D4 17        	pei	<L1078+pixelLocation1_1+2
 24848 03:67D0: D4 15        	pei	<L1078+pixelLocation1_1
 24849 03:67D2: F4 xx xx     	pea	#^L1034+16
 24850 03:67D5: F4 xx xx     	pea	#<L1034+16
 24851 03:67D8: 22 xx xx xx  	jsl	~~k_debug_long
 24852                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 24853                        	.line	4158
 24854 03:67DC: D4 1B        	pei	<L1078+pixelLocationD_1+2
 24855 03:67DE: D4 19        	pei	<L1078+pixelLocationD_1
 24856 03:67E0: F4 xx xx     	pea	#^L1034+32
 24857 03:67E3: F4 xx xx     	pea	#<L1034+32
 24858 03:67E6: 22 xx xx xx  	jsl	~~k_debug_long
 24859                        ;	k_debug_long("difference:",difference);
 24860                        	.line	4159
 24861 03:67EA: D4 1F        	pei	<L1078+difference_1+2
 24862 03:67EC: D4 1D        	pei	<L1078+difference_1
 24863 03:67EE: F4 xx xx     	pea	#^L1034+48
 24864 03:67F1: F4 xx xx     	pea	#<L1034+48
 24865 03:67F4: 22 xx xx xx  	jsl	~~k_debug_long
 24866                        ;
 24867                        ;
 24868                        ;
 24869                        ;	for(dy = y0;dy<(y0 + height);dy++)
 24870                        	.line	4163
 24871 03:67F8: A0 00 00     	ldy	#$0
 24872 03:67FB: A5 26        	lda	<L1077+y0_0
 24873 03:67FD: 10 01        	bpl	L1087
 24874 03:67FF: 88           	dey
 24875                        L1087:
 24876 03:6800: 85 09        	sta	<L1078+dy_1
 24877 03:6802: 84 0B        	sty	<L1078+dy_1+2
 24878 03:6804: 82 8E 00     	brl	L10453
 24879                        L10452:
 24880                        ;	{
 24881                        	.line	4164
 24882                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 24883                        	.line	4165
 24884 03:6807: A0 00 00     	ldy	#$0
 24885 03:680A: A5 24        	lda	<L1077+x0_0
 24886 03:680C: 10 01        	bpl	L1088
 24887 03:680E: 88           	dey
 24888                        L1088:
 24889 03:680F: 85 01        	sta	<R0
 24890 03:6811: 84 03        	sty	<R0+2
  Thu Dec  3 2020 22:25                                                Page 458


 24891 03:6813: F4 00 00     	pea	#^$280
 24892 03:6816: F4 80 02     	pea	#<$280
 24893 03:6819: D4 0B        	pei	<L1078+dy_1+2
 24894 03:681B: D4 09        	pei	<L1078+dy_1
 24895                        	xref	~~~lmul
 24896 03:681D: 22 xx xx xx  	jsl	~~~lmul
 24897 03:6821: 85 05        	sta	<R1
 24898 03:6823: 86 07        	stx	<R1+2
 24899 03:6825: 18           	clc
 24900 03:6826: A5 05        	lda	<R1
 24901 03:6828: 65 01        	adc	<R0
 24902 03:682A: 85 11        	sta	<L1078+pixelLocation0_1
 24903 03:682C: A5 07        	lda	<R1+2
 24904 03:682E: 65 03        	adc	<R0+2
 24905 03:6830: 85 13        	sta	<L1078+pixelLocation0_1+2
 24906                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 24907                        	.line	4166
 24908 03:6832: A0 00 00     	ldy	#$0
 24909 03:6835: A5 2C        	lda	<L1077+x1_0
 24910 03:6837: 10 01        	bpl	L1089
 24911 03:6839: 88           	dey
 24912                        L1089:
 24913 03:683A: 85 01        	sta	<R0
 24914 03:683C: 84 03        	sty	<R0+2
 24915 03:683E: F4 00 00     	pea	#^$280
 24916 03:6841: F4 80 02     	pea	#<$280
 24917 03:6844: D4 0F        	pei	<L1078+dd_1+2
 24918 03:6846: D4 0D        	pei	<L1078+dd_1
 24919                        	xref	~~~lmul
 24920 03:6848: 22 xx xx xx  	jsl	~~~lmul
 24921 03:684C: 85 05        	sta	<R1
 24922 03:684E: 86 07        	stx	<R1+2
 24923 03:6850: 18           	clc
 24924 03:6851: A5 05        	lda	<R1
 24925 03:6853: 65 01        	adc	<R0
 24926 03:6855: 85 19        	sta	<L1078+pixelLocationD_1
 24927 03:6857: A5 07        	lda	<R1+2
 24928 03:6859: 65 03        	adc	<R0+2
 24929 03:685B: 85 1B        	sta	<L1078+pixelLocationD_1+2
 24930                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 24931                        	.line	4167
 24932 03:685D: D4 1D        	pei	<L1078+difference_1
 24933 03:685F: 18           	clc
 24934 03:6860: A9 00 00     	lda	#$0
 24935 03:6863: 65 11        	adc	<L1078+pixelLocation0_1
 24936 03:6865: 85 01        	sta	<R0
 24937 03:6867: A9 B0 00     	lda	#$b0
 24938 03:686A: 65 13        	adc	<L1078+pixelLocation0_1+2
 24939 03:686C: 85 03        	sta	<R0+2
 24940 03:686E: D4 03        	pei	<R0+2
 24941 03:6870: D4 01        	pei	<R0
 24942 03:6872: 18           	clc
 24943 03:6873: A9 00 00     	lda	#$0
 24944 03:6876: 65 19        	adc	<L1078+pixelLocationD_1
 24945 03:6878: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 459


 24946 03:687A: A9 B0 00     	lda	#$b0
 24947 03:687D: 65 1B        	adc	<L1078+pixelLocationD_1+2
 24948 03:687F: 85 07        	sta	<R1+2
 24949 03:6881: D4 07        	pei	<R1+2
 24950 03:6883: D4 05        	pei	<R1
 24951 03:6885: 22 xx xx xx  	jsl	~~memcpy
 24952                        ;
 24953                        ;		dd++;
 24954                        	.line	4169
 24955 03:6889: E6 0D        	inc	<L1078+dd_1
 24956 03:688B: D0 02        	bne	L1090
 24957 03:688D: E6 0F        	inc	<L1078+dd_1+2
 24958                        L1090:
 24959                        ;	}
 24960                        	.line	4170
 24961                        L10450:
 24962 03:688F: E6 09        	inc	<L1078+dy_1
 24963 03:6891: D0 02        	bne	L1091
 24964 03:6893: E6 0B        	inc	<L1078+dy_1+2
 24965                        L1091:
 24966                        L10453:
 24967 03:6895: 18           	clc
 24968 03:6896: A5 26        	lda	<L1077+y0_0
 24969 03:6898: 65 2A        	adc	<L1077+height_0
 24970 03:689A: 85 01        	sta	<R0
 24971 03:689C: A0 00 00     	ldy	#$0
 24972 03:689F: A5 01        	lda	<R0
 24973 03:68A1: 10 01        	bpl	L1092
 24974 03:68A3: 88           	dey
 24975                        L1092:
 24976 03:68A4: 85 01        	sta	<R0
 24977 03:68A6: 84 03        	sty	<R0+2
 24978 03:68A8: 38           	sec
 24979 03:68A9: A5 09        	lda	<L1078+dy_1
 24980 03:68AB: E5 01        	sbc	<R0
 24981 03:68AD: A5 0B        	lda	<L1078+dy_1+2
 24982 03:68AF: E5 03        	sbc	<R0+2
 24983 03:68B1: 70 03        	bvs	L1093
 24984 03:68B3: 49 00 80     	eor	#$8000
 24985                        L1093:
 24986 03:68B6: 30 03        	bmi	L1094
 24987 03:68B8: 82 4C FF     	brl	L10452
 24988                        L1094:
 24989                        L10451:
 24990                        ;
 24991                        ;}
 24992                        	.line	4172
 24993                        L1095:
 24994 03:68BB: A5 22        	lda	<L1077+2
 24995 03:68BD: 85 2E        	sta	<L1077+2+12
 24996 03:68BF: A5 21        	lda	<L1077+1
 24997 03:68C1: 85 2D        	sta	<L1077+1+12
 24998 03:68C3: 2B           	pld
 24999 03:68C4: 3B           	tsc
 25000 03:68C5: 18           	clc
 25001 03:68C6: 69 2C 00     	adc	#L1077+12
 25002 03:68C9: 1B           	tcs
 25003 03:68CA: 6B           	rtl
  Thu Dec  3 2020 22:25                                                Page 460


 25004                        	.endblock	4172
 25005             00000020   L1077	equ	32
 25006             00000009   L1078	equ	9
 25007 03:68CB:              	ends
 25008                        	efunc
 25009                        	.endfunc	4172,9,32
 25010                        	.line	4172
 25011                        	data
 25012                        L1034:
 25013 00:0D66: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0D6A: 6C 4C 6F 63 
       00:0D6E: 61 74 69 6F 
       00:0D72: 6E 30 3A 
 25014 00:0D75: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0D79: 65 6C 4C 6F 
       00:0D7D: 63 61 74 69 
       00:0D81: 6F 6E 31 
 25015 00:0D84: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0D88: 78 65 6C 4C 
       00:0D8C: 6F 63 61 74 
       00:0D90: 69 6F 6E 
 25016 00:0D93: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0D97: 69 66 66 65 
       00:0D9B: 72 65 6E 63 
       00:0D9F: 65 3A 00 
 25017 00:0DA2:              	ends
 25018                        ;
 25019                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 25020                        ;{
 25021                        	.line	4174
 25022                        	.line	4175
 25023                        	GUI
 25024                        	xdef	~~k_memory_bitblt
 25025                        	func
 25026                        	.function	4175
 25027                        ~~k_memory_bitblt:
 25028                        	longa	on
 25029                        	longi	on
 25030 03:68CB: 3B           	tsc
 25031 03:68CC: 38           	sec
 25032 03:68CD: E9 20 00     	sbc	#L1097
 25033 03:68D0: 1B           	tcs
 25034 03:68D1: 0B           	phd
 25035 03:68D2: 5B           	tcd
 25036             00000004   srcBank_0	set	4
 25037             00000008   x0_0	set	8
 25038             0000000A   y0_0	set	10
 25039             0000000C   width_0	set	12
 25040             0000000E   height_0	set	14
 25041             00000010   destBank_0	set	16
 25042             00000014   x1_0	set	20
 25043             00000016   y1_0	set	22
  Thu Dec  3 2020 22:25                                                Page 461


 25044             00000018   direction_0	set	24
 25045                        	.block	4175
 25046                        ;	long dy = 0L;
 25047                        ;	long dd = y1;
 25048                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 25049                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 25050                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 25051                        ;
 25052                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 25053                        ;
 25054                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 25055             00000000   dy_1	set	0
 25056             00000004   dd_1	set	4
 25057             00000008   pixelLocation0_1	set	8
 25058             0000000C   pixelLocation1_1	set	12
 25059             00000010   pixelLocationD_1	set	16
 25060             00000014   difference_1	set	20
 25061                        	.sym	dy,0,7,1,32
 25062                        	.sym	dd,4,7,1,32
 25063                        	.sym	pixelLocation0,8,7,1,32
 25064                        	.sym	pixelLocation1,12,7,1,32
 25065                        	.sym	pixelLocationD,16,7,1,32
 25066                        	.sym	difference,20,7,1,32
 25067                        	.sym	srcBank,4,142,6,32
 25068                        	.sym	x0,8,5,6,16
 25069                        	.sym	y0,10,5,6,16
 25070                        	.sym	width,12,5,6,16
 25071                        	.sym	height,14,5,6,16
 25072                        	.sym	destBank,16,142,6,32
 25073                        	.sym	x1,20,5,6,16
 25074                        	.sym	y1,22,5,6,16
 25075                        	.sym	direction,24,5,6,16
 25076 03:68D3: 64 09        	stz	<L1098+dy_1
 25077 03:68D5: 64 0B        	stz	<L1098+dy_1+2
 25078 03:68D7: A0 00 00     	ldy	#$0
 25079 03:68DA: A5 36        	lda	<L1097+y1_0
 25080 03:68DC: 10 01        	bpl	L1100
 25081 03:68DE: 88           	dey
 25082                        L1100:
 25083 03:68DF: 85 0D        	sta	<L1098+dd_1
 25084 03:68E1: 84 0F        	sty	<L1098+dd_1+2
 25085 03:68E3: A0 00 00     	ldy	#$0
 25086 03:68E6: A5 28        	lda	<L1097+x0_0
 25087 03:68E8: 10 01        	bpl	L1101
 25088 03:68EA: 88           	dey
 25089                        L1101:
 25090 03:68EB: 85 01        	sta	<R0
 25091 03:68ED: 84 03        	sty	<R0+2
 25092 03:68EF: A0 00 00     	ldy	#$0
 25093 03:68F2: A5 2A        	lda	<L1097+y0_0
 25094 03:68F4: 10 01        	bpl	L1102
 25095 03:68F6: 88           	dey
 25096                        L1102:
 25097 03:68F7: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 462


 25098 03:68F9: 84 07        	sty	<R1+2
 25099 03:68FB: F4 00 00     	pea	#^$280
 25100 03:68FE: F4 80 02     	pea	#<$280
 25101 03:6901: D4 07        	pei	<R1+2
 25102 03:6903: D4 05        	pei	<R1
 25103                        	xref	~~~lmul
 25104 03:6905: 22 xx xx xx  	jsl	~~~lmul
 25105 03:6909: 85 05        	sta	<R1
 25106 03:690B: 86 07        	stx	<R1+2
 25107 03:690D: 18           	clc
 25108 03:690E: A5 05        	lda	<R1
 25109 03:6910: 65 01        	adc	<R0
 25110 03:6912: 85 11        	sta	<L1098+pixelLocation0_1
 25111 03:6914: A5 07        	lda	<R1+2
 25112 03:6916: 65 03        	adc	<R0+2
 25113 03:6918: 85 13        	sta	<L1098+pixelLocation0_1+2
 25114 03:691A: 18           	clc
 25115 03:691B: A5 28        	lda	<L1097+x0_0
 25116 03:691D: 65 2C        	adc	<L1097+width_0
 25117 03:691F: 85 01        	sta	<R0
 25118 03:6921: A0 00 00     	ldy	#$0
 25119 03:6924: A5 01        	lda	<R0
 25120 03:6926: 10 01        	bpl	L1103
 25121 03:6928: 88           	dey
 25122                        L1103:
 25123 03:6929: 85 01        	sta	<R0
 25124 03:692B: 84 03        	sty	<R0+2
 25125 03:692D: A0 00 00     	ldy	#$0
 25126 03:6930: A5 2A        	lda	<L1097+y0_0
 25127 03:6932: 10 01        	bpl	L1104
 25128 03:6934: 88           	dey
 25129                        L1104:
 25130 03:6935: 85 05        	sta	<R1
 25131 03:6937: 84 07        	sty	<R1+2
 25132 03:6939: F4 00 00     	pea	#^$280
 25133 03:693C: F4 80 02     	pea	#<$280
 25134 03:693F: D4 07        	pei	<R1+2
 25135 03:6941: D4 05        	pei	<R1
 25136                        	xref	~~~lmul
 25137 03:6943: 22 xx xx xx  	jsl	~~~lmul
 25138 03:6947: 85 05        	sta	<R1
 25139 03:6949: 86 07        	stx	<R1+2
 25140 03:694B: 18           	clc
 25141 03:694C: A5 05        	lda	<R1
 25142 03:694E: 65 01        	adc	<R0
 25143 03:6950: 85 15        	sta	<L1098+pixelLocation1_1
 25144 03:6952: A5 07        	lda	<R1+2
 25145 03:6954: 65 03        	adc	<R0+2
 25146 03:6956: 85 17        	sta	<L1098+pixelLocation1_1+2
 25147 03:6958: A0 00 00     	ldy	#$0
 25148 03:695B: A5 34        	lda	<L1097+x1_0
 25149 03:695D: 10 01        	bpl	L1105
 25150 03:695F: 88           	dey
 25151                        L1105:
 25152 03:6960: 85 01        	sta	<R0
 25153 03:6962: 84 03        	sty	<R0+2
 25154 03:6964: A0 00 00     	ldy	#$0
 25155 03:6967: A5 36        	lda	<L1097+y1_0
  Thu Dec  3 2020 22:25                                                Page 463


 25156 03:6969: 10 01        	bpl	L1106
 25157 03:696B: 88           	dey
 25158                        L1106:
 25159 03:696C: 85 05        	sta	<R1
 25160 03:696E: 84 07        	sty	<R1+2
 25161 03:6970: F4 00 00     	pea	#^$280
 25162 03:6973: F4 80 02     	pea	#<$280
 25163 03:6976: D4 07        	pei	<R1+2
 25164 03:6978: D4 05        	pei	<R1
 25165                        	xref	~~~lmul
 25166 03:697A: 22 xx xx xx  	jsl	~~~lmul
 25167 03:697E: 85 05        	sta	<R1
 25168 03:6980: 86 07        	stx	<R1+2
 25169 03:6982: 18           	clc
 25170 03:6983: A5 05        	lda	<R1
 25171 03:6985: 65 01        	adc	<R0
 25172 03:6987: 85 19        	sta	<L1098+pixelLocationD_1
 25173 03:6989: A5 07        	lda	<R1+2
 25174 03:698B: 65 03        	adc	<R0+2
 25175 03:698D: 85 1B        	sta	<L1098+pixelLocationD_1+2
 25176 03:698F: 38           	sec
 25177 03:6990: A5 15        	lda	<L1098+pixelLocation1_1
 25178 03:6992: E5 11        	sbc	<L1098+pixelLocation0_1
 25179 03:6994: 85 1D        	sta	<L1098+difference_1
 25180 03:6996: A5 17        	lda	<L1098+pixelLocation1_1+2
 25181 03:6998: E5 13        	sbc	<L1098+pixelLocation0_1+2
 25182 03:699A: 85 1F        	sta	<L1098+difference_1+2
 25183                        	.line	4184
 25184 03:699C: D4 13        	pei	<L1098+pixelLocation0_1+2
 25185 03:699E: D4 11        	pei	<L1098+pixelLocation0_1
 25186 03:69A0: F4 xx xx     	pea	#^L1096
 25187 03:69A3: F4 xx xx     	pea	#<L1096
 25188 03:69A6: 22 xx xx xx  	jsl	~~k_debug_long
 25189                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 25190                        	.line	4185
 25191 03:69AA: D4 17        	pei	<L1098+pixelLocation1_1+2
 25192 03:69AC: D4 15        	pei	<L1098+pixelLocation1_1
 25193 03:69AE: F4 xx xx     	pea	#^L1096+16
 25194 03:69B1: F4 xx xx     	pea	#<L1096+16
 25195 03:69B4: 22 xx xx xx  	jsl	~~k_debug_long
 25196                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 25197                        	.line	4186
 25198 03:69B8: D4 1B        	pei	<L1098+pixelLocationD_1+2
 25199 03:69BA: D4 19        	pei	<L1098+pixelLocationD_1
 25200 03:69BC: F4 xx xx     	pea	#^L1096+32
 25201 03:69BF: F4 xx xx     	pea	#<L1096+32
 25202 03:69C2: 22 xx xx xx  	jsl	~~k_debug_long
 25203                        ;	k_debug_long("difference:",difference);
 25204                        	.line	4187
 25205 03:69C6: D4 1F        	pei	<L1098+difference_1+2
 25206 03:69C8: D4 1D        	pei	<L1098+difference_1
 25207 03:69CA: F4 xx xx     	pea	#^L1096+48
 25208 03:69CD: F4 xx xx     	pea	#<L1096+48
 25209 03:69D0: 22 xx xx xx  	jsl	~~k_debug_long
 25210                        ;
 25211                        ;	if(direction == BLT_DIR_TOPDOWN)
 25212                        	.line	4189
 25213                        ;	{
  Thu Dec  3 2020 22:25                                                Page 464


 25214 03:69D4: A5 38        	lda	<L1097+direction_0
 25215 03:69D6: C9 01 00     	cmp	#<$1
 25216 03:69D9: F0 03        	beq	L1107
 25217 03:69DB: 82 C2 00     	brl	L10454
 25218                        L1107:
 25219                        	.line	4190
 25220                        ;		for(dy = y0;dy<(y0 + height);dy++)
 25221                        	.line	4191
 25222 03:69DE: A0 00 00     	ldy	#$0
 25223 03:69E1: A5 2A        	lda	<L1097+y0_0
 25224 03:69E3: 10 01        	bpl	L1108
 25225 03:69E5: 88           	dey
 25226                        L1108:
 25227 03:69E6: 85 09        	sta	<L1098+dy_1
 25228 03:69E8: 84 0B        	sty	<L1098+dy_1+2
 25229 03:69EA: 82 8A 00     	brl	L10458
 25230                        L10457:
 25231                        ;		{
 25232                        	.line	4192
 25233                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 25234                        	.line	4193
 25235 03:69ED: A0 00 00     	ldy	#$0
 25236 03:69F0: A5 28        	lda	<L1097+x0_0
 25237 03:69F2: 10 01        	bpl	L1109
 25238 03:69F4: 88           	dey
 25239                        L1109:
 25240 03:69F5: 85 01        	sta	<R0
 25241 03:69F7: 84 03        	sty	<R0+2
 25242 03:69F9: F4 00 00     	pea	#^$280
 25243 03:69FC: F4 80 02     	pea	#<$280
 25244 03:69FF: D4 0B        	pei	<L1098+dy_1+2
 25245 03:6A01: D4 09        	pei	<L1098+dy_1
 25246                        	xref	~~~lmul
 25247 03:6A03: 22 xx xx xx  	jsl	~~~lmul
 25248 03:6A07: 85 05        	sta	<R1
 25249 03:6A09: 86 07        	stx	<R1+2
 25250 03:6A0B: 18           	clc
 25251 03:6A0C: A5 05        	lda	<R1
 25252 03:6A0E: 65 01        	adc	<R0
 25253 03:6A10: 85 11        	sta	<L1098+pixelLocation0_1
 25254 03:6A12: A5 07        	lda	<R1+2
 25255 03:6A14: 65 03        	adc	<R0+2
 25256 03:6A16: 85 13        	sta	<L1098+pixelLocation0_1+2
 25257                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 25258                        	.line	4194
 25259 03:6A18: A0 00 00     	ldy	#$0
 25260 03:6A1B: A5 34        	lda	<L1097+x1_0
 25261 03:6A1D: 10 01        	bpl	L1110
 25262 03:6A1F: 88           	dey
 25263                        L1110:
 25264 03:6A20: 85 01        	sta	<R0
 25265 03:6A22: 84 03        	sty	<R0+2
 25266 03:6A24: F4 00 00     	pea	#^$280
 25267 03:6A27: F4 80 02     	pea	#<$280
 25268 03:6A2A: D4 0F        	pei	<L1098+dd_1+2
 25269 03:6A2C: D4 0D        	pei	<L1098+dd_1
  Thu Dec  3 2020 22:25                                                Page 465


 25270                        	xref	~~~lmul
 25271 03:6A2E: 22 xx xx xx  	jsl	~~~lmul
 25272 03:6A32: 85 05        	sta	<R1
 25273 03:6A34: 86 07        	stx	<R1+2
 25274 03:6A36: 18           	clc
 25275 03:6A37: A5 05        	lda	<R1
 25276 03:6A39: 65 01        	adc	<R0
 25277 03:6A3B: 85 19        	sta	<L1098+pixelLocationD_1
 25278 03:6A3D: A5 07        	lda	<R1+2
 25279 03:6A3F: 65 03        	adc	<R0+2
 25280 03:6A41: 85 1B        	sta	<L1098+pixelLocationD_1+2
 25281                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 25282                        	.line	4195
 25283 03:6A43: D4 1D        	pei	<L1098+difference_1
 25284 03:6A45: 18           	clc
 25285 03:6A46: A5 24        	lda	<L1097+srcBank_0
 25286 03:6A48: 65 11        	adc	<L1098+pixelLocation0_1
 25287 03:6A4A: 85 01        	sta	<R0
 25288 03:6A4C: A5 26        	lda	<L1097+srcBank_0+2
 25289 03:6A4E: 65 13        	adc	<L1098+pixelLocation0_1+2
 25290 03:6A50: 85 03        	sta	<R0+2
 25291 03:6A52: D4 03        	pei	<R0+2
 25292 03:6A54: D4 01        	pei	<R0
 25293 03:6A56: 18           	clc
 25294 03:6A57: A5 30        	lda	<L1097+destBank_0
 25295 03:6A59: 65 19        	adc	<L1098+pixelLocationD_1
 25296 03:6A5B: 85 05        	sta	<R1
 25297 03:6A5D: A5 32        	lda	<L1097+destBank_0+2
 25298 03:6A5F: 65 1B        	adc	<L1098+pixelLocationD_1+2
 25299 03:6A61: 85 07        	sta	<R1+2
 25300 03:6A63: D4 07        	pei	<R1+2
 25301 03:6A65: D4 05        	pei	<R1
 25302 03:6A67: 22 xx xx xx  	jsl	~~memcpy
 25303                        ;
 25304                        ;			dd++;
 25305                        	.line	4197
 25306 03:6A6B: E6 0D        	inc	<L1098+dd_1
 25307 03:6A6D: D0 02        	bne	L1111
 25308 03:6A6F: E6 0F        	inc	<L1098+dd_1+2
 25309                        L1111:
 25310                        ;		}
 25311                        	.line	4198
 25312                        L10455:
 25313 03:6A71: E6 09        	inc	<L1098+dy_1
 25314 03:6A73: D0 02        	bne	L1112
 25315 03:6A75: E6 0B        	inc	<L1098+dy_1+2
 25316                        L1112:
 25317                        L10458:
 25318 03:6A77: 18           	clc
 25319 03:6A78: A5 2A        	lda	<L1097+y0_0
 25320 03:6A7A: 65 2E        	adc	<L1097+height_0
 25321 03:6A7C: 85 01        	sta	<R0
 25322 03:6A7E: A0 00 00     	ldy	#$0
 25323 03:6A81: A5 01        	lda	<R0
 25324 03:6A83: 10 01        	bpl	L1113
 25325 03:6A85: 88           	dey
  Thu Dec  3 2020 22:25                                                Page 466


 25326                        L1113:
 25327 03:6A86: 85 01        	sta	<R0
 25328 03:6A88: 84 03        	sty	<R0+2
 25329 03:6A8A: 38           	sec
 25330 03:6A8B: A5 09        	lda	<L1098+dy_1
 25331 03:6A8D: E5 01        	sbc	<R0
 25332 03:6A8F: A5 0B        	lda	<L1098+dy_1+2
 25333 03:6A91: E5 03        	sbc	<R0+2
 25334 03:6A93: 70 03        	bvs	L1114
 25335 03:6A95: 49 00 80     	eor	#$8000
 25336                        L1114:
 25337 03:6A98: 30 03        	bmi	L1115
 25338 03:6A9A: 82 50 FF     	brl	L10457
 25339                        L1115:
 25340                        L10456:
 25341                        ;	}
 25342                        	.line	4199
 25343                        ;	else
 25344 03:6A9D: 82 D6 00     	brl	L10459
 25345                        L10454:
 25346                        ;	{
 25347                        	.line	4201
 25348                        ;		dd = y1 + height;
 25349                        	.line	4202
 25350 03:6AA0: 18           	clc
 25351 03:6AA1: A5 36        	lda	<L1097+y1_0
 25352 03:6AA3: 65 2E        	adc	<L1097+height_0
 25353 03:6AA5: 85 01        	sta	<R0
 25354 03:6AA7: A0 00 00     	ldy	#$0
 25355 03:6AAA: A5 01        	lda	<R0
 25356 03:6AAC: 10 01        	bpl	L1116
 25357 03:6AAE: 88           	dey
 25358                        L1116:
 25359 03:6AAF: 85 0D        	sta	<L1098+dd_1
 25360 03:6AB1: 84 0F        	sty	<L1098+dd_1+2
 25361                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 25362                        ;		for(dy = (y0 + height);dy>y0;dy--)
 25363                        	.line	4204
 25364 03:6AB3: 18           	clc
 25365 03:6AB4: A5 2A        	lda	<L1097+y0_0
 25366 03:6AB6: 65 2E        	adc	<L1097+height_0
 25367 03:6AB8: 85 01        	sta	<R0
 25368 03:6ABA: A0 00 00     	ldy	#$0
 25369 03:6ABD: A5 01        	lda	<R0
 25370 03:6ABF: 10 01        	bpl	L1117
 25371 03:6AC1: 88           	dey
 25372                        L1117:
 25373 03:6AC2: 85 09        	sta	<L1098+dy_1
 25374 03:6AC4: 84 0B        	sty	<L1098+dy_1+2
 25375 03:6AC6: 82 8E 00     	brl	L10463
 25376                        L10462:
 25377                        ;		{
 25378                        	.line	4205
 25379                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 25380                        	.line	4206
 25381 03:6AC9: A0 00 00     	ldy	#$0
 25382 03:6ACC: A5 28        	lda	<L1097+x0_0
  Thu Dec  3 2020 22:25                                                Page 467


 25383 03:6ACE: 10 01        	bpl	L1118
 25384 03:6AD0: 88           	dey
 25385                        L1118:
 25386 03:6AD1: 85 01        	sta	<R0
 25387 03:6AD3: 84 03        	sty	<R0+2
 25388 03:6AD5: F4 00 00     	pea	#^$280
 25389 03:6AD8: F4 80 02     	pea	#<$280
 25390 03:6ADB: D4 0B        	pei	<L1098+dy_1+2
 25391 03:6ADD: D4 09        	pei	<L1098+dy_1
 25392                        	xref	~~~lmul
 25393 03:6ADF: 22 xx xx xx  	jsl	~~~lmul
 25394 03:6AE3: 85 05        	sta	<R1
 25395 03:6AE5: 86 07        	stx	<R1+2
 25396 03:6AE7: 18           	clc
 25397 03:6AE8: A5 05        	lda	<R1
 25398 03:6AEA: 65 01        	adc	<R0
 25399 03:6AEC: 85 11        	sta	<L1098+pixelLocation0_1
 25400 03:6AEE: A5 07        	lda	<R1+2
 25401 03:6AF0: 65 03        	adc	<R0+2
 25402 03:6AF2: 85 13        	sta	<L1098+pixelLocation0_1+2
 25403                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 25404                        	.line	4207
 25405 03:6AF4: A0 00 00     	ldy	#$0
 25406 03:6AF7: A5 34        	lda	<L1097+x1_0
 25407 03:6AF9: 10 01        	bpl	L1119
 25408 03:6AFB: 88           	dey
 25409                        L1119:
 25410 03:6AFC: 85 01        	sta	<R0
 25411 03:6AFE: 84 03        	sty	<R0+2
 25412 03:6B00: F4 00 00     	pea	#^$280
 25413 03:6B03: F4 80 02     	pea	#<$280
 25414 03:6B06: D4 0F        	pei	<L1098+dd_1+2
 25415 03:6B08: D4 0D        	pei	<L1098+dd_1
 25416                        	xref	~~~lmul
 25417 03:6B0A: 22 xx xx xx  	jsl	~~~lmul
 25418 03:6B0E: 85 05        	sta	<R1
 25419 03:6B10: 86 07        	stx	<R1+2
 25420 03:6B12: 18           	clc
 25421 03:6B13: A5 05        	lda	<R1
 25422 03:6B15: 65 01        	adc	<R0
 25423 03:6B17: 85 19        	sta	<L1098+pixelLocationD_1
 25424 03:6B19: A5 07        	lda	<R1+2
 25425 03:6B1B: 65 03        	adc	<R0+2
 25426 03:6B1D: 85 1B        	sta	<L1098+pixelLocationD_1+2
 25427                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 25428                        	.line	4208
 25429 03:6B1F: D4 1D        	pei	<L1098+difference_1
 25430 03:6B21: 18           	clc
 25431 03:6B22: A5 24        	lda	<L1097+srcBank_0
 25432 03:6B24: 65 11        	adc	<L1098+pixelLocation0_1
 25433 03:6B26: 85 01        	sta	<R0
 25434 03:6B28: A5 26        	lda	<L1097+srcBank_0+2
 25435 03:6B2A: 65 13        	adc	<L1098+pixelLocation0_1+2
 25436 03:6B2C: 85 03        	sta	<R0+2
 25437 03:6B2E: D4 03        	pei	<R0+2
  Thu Dec  3 2020 22:25                                                Page 468


 25438 03:6B30: D4 01        	pei	<R0
 25439 03:6B32: 18           	clc
 25440 03:6B33: A5 30        	lda	<L1097+destBank_0
 25441 03:6B35: 65 19        	adc	<L1098+pixelLocationD_1
 25442 03:6B37: 85 05        	sta	<R1
 25443 03:6B39: A5 32        	lda	<L1097+destBank_0+2
 25444 03:6B3B: 65 1B        	adc	<L1098+pixelLocationD_1+2
 25445 03:6B3D: 85 07        	sta	<R1+2
 25446 03:6B3F: D4 07        	pei	<R1+2
 25447 03:6B41: D4 05        	pei	<R1
 25448 03:6B43: 22 xx xx xx  	jsl	~~memcpy
 25449                        ;
 25450                        ;			dd--;
 25451                        	.line	4210
 25452 03:6B47: A5 0D        	lda	<L1098+dd_1
 25453 03:6B49: D0 02        	bne	L1120
 25454 03:6B4B: C6 0F        	dec	<L1098+dd_1+2
 25455                        L1120:
 25456 03:6B4D: C6 0D        	dec	<L1098+dd_1
 25457                        ;		}
 25458                        	.line	4211
 25459                        L10460:
 25460 03:6B4F: A5 09        	lda	<L1098+dy_1
 25461 03:6B51: D0 02        	bne	L1121
 25462 03:6B53: C6 0B        	dec	<L1098+dy_1+2
 25463                        L1121:
 25464 03:6B55: C6 09        	dec	<L1098+dy_1
 25465                        L10463:
 25466 03:6B57: A0 00 00     	ldy	#$0
 25467 03:6B5A: A5 2A        	lda	<L1097+y0_0
 25468 03:6B5C: 10 01        	bpl	L1122
 25469 03:6B5E: 88           	dey
 25470                        L1122:
 25471 03:6B5F: 85 01        	sta	<R0
 25472 03:6B61: 84 03        	sty	<R0+2
 25473 03:6B63: 38           	sec
 25474 03:6B64: A5 01        	lda	<R0
 25475 03:6B66: E5 09        	sbc	<L1098+dy_1
 25476 03:6B68: A5 03        	lda	<R0+2
 25477 03:6B6A: E5 0B        	sbc	<L1098+dy_1+2
 25478 03:6B6C: 70 03        	bvs	L1123
 25479 03:6B6E: 49 00 80     	eor	#$8000
 25480                        L1123:
 25481 03:6B71: 30 03        	bmi	L1124
 25482 03:6B73: 82 53 FF     	brl	L10462
 25483                        L1124:
 25484                        L10461:
 25485                        ;
 25486                        ;	}
 25487                        	.line	4213
 25488                        L10459:
 25489                        ;
 25490                        ;}
 25491                        	.line	4215
 25492                        L1125:
 25493 03:6B76: A5 22        	lda	<L1097+2
 25494 03:6B78: 85 38        	sta	<L1097+2+22
 25495 03:6B7A: A5 21        	lda	<L1097+1
  Thu Dec  3 2020 22:25                                                Page 469


 25496 03:6B7C: 85 37        	sta	<L1097+1+22
 25497 03:6B7E: 2B           	pld
 25498 03:6B7F: 3B           	tsc
 25499 03:6B80: 18           	clc
 25500 03:6B81: 69 36 00     	adc	#L1097+22
 25501 03:6B84: 1B           	tcs
 25502 03:6B85: 6B           	rtl
 25503                        	.endblock	4215
 25504             00000020   L1097	equ	32
 25505             00000009   L1098	equ	9
 25506 03:6B86:              	ends
 25507                        	efunc
 25508                        	.endfunc	4215,9,32
 25509                        	.line	4215
 25510                        	data
 25511                        L1096:
 25512 00:0DA2: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0DA6: 6C 4C 6F 63 
       00:0DAA: 61 74 69 6F 
       00:0DAE: 6E 30 3A 
 25513 00:0DB1: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0DB5: 65 6C 4C 6F 
       00:0DB9: 63 61 74 69 
       00:0DBD: 6F 6E 31 
 25514 00:0DC0: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0DC4: 78 65 6C 4C 
       00:0DC8: 6F 63 61 74 
       00:0DCC: 69 6F 6E 
 25515 00:0DCF: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0DD3: 69 66 66 65 
       00:0DD7: 72 65 6E 63 
       00:0DDB: 65 3A 00 
 25516 00:0DDE:              	ends
 25517                        ;
 25518                        ;
 25519                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 25520                        ;{
 25521                        	.line	4218
 25522                        	.line	4219
 25523                        	GUI
 25524                        	xdef	~~k_shadow_fill_rect_address
 25525                        	func
 25526                        	.function	4219
 25527                        ~~k_shadow_fill_rect_address:
 25528                        	longa	on
 25529                        	longi	on
 25530 03:6B86: 3B           	tsc
 25531 03:6B87: 38           	sec
 25532 03:6B88: E9 2C 00     	sbc	#L1127
 25533 03:6B8B: 1B           	tcs
 25534 03:6B8C: 0B           	phd
 25535 03:6B8D: 5B           	tcd
 25536             00000004   bank_0	set	4
  Thu Dec  3 2020 22:25                                                Page 470


 25537             00000008   x0_0	set	8
 25538             0000000A   y0_0	set	10
 25539             0000000C   width_0	set	12
 25540             0000000E   height_0	set	14
 25541             00000010   color_0	set	16
 25542                        	.block	4219
 25543                        ;	LPCHAR ptr = NULL;
 25544                        ;	ULONG dx = 0L;
 25545                        ;	long dy = 0L;
 25546                        ;	long pixelLocation0 = 0L;
 25547                        ;	long pixelLocation1 = 0L;
 25548                        ;	long difference     = 0L;
 25549                        ;	long fIndex = 0;
 25550                        ;	long offset = 0L;
 25551                        ;
 25552                        ;	if(width > 640)
 25553             00000000   ptr_1	set	0
 25554             00000004   dx_1	set	4
 25555             00000008   dy_1	set	8
 25556             0000000C   pixelLocation0_1	set	12
 25557             00000010   pixelLocation1_1	set	16
 25558             00000014   difference_1	set	20
 25559             00000018   fIndex_1	set	24
 25560             0000001C   offset_1	set	28
 25561                        	.sym	ptr,0,142,1,32
 25562                        	.sym	dx,4,18,1,32
 25563                        	.sym	dy,8,7,1,32
 25564                        	.sym	pixelLocation0,12,7,1,32
 25565                        	.sym	pixelLocation1,16,7,1,32
 25566                        	.sym	difference,20,7,1,32
 25567                        	.sym	fIndex,24,7,1,32
 25568                        	.sym	offset,28,7,1,32
 25569                        	.sym	bank,4,142,6,32
 25570                        	.sym	x0,8,5,6,16
 25571                        	.sym	y0,10,5,6,16
 25572                        	.sym	width,12,5,6,16
 25573                        	.sym	height,14,5,6,16
 25574                        	.sym	color,16,14,6,8
 25575 03:6B8E: 64 0D        	stz	<L1128+ptr_1
 25576 03:6B90: 64 0F        	stz	<L1128+ptr_1+2
 25577 03:6B92: 64 11        	stz	<L1128+dx_1
 25578 03:6B94: 64 13        	stz	<L1128+dx_1+2
 25579 03:6B96: 64 15        	stz	<L1128+dy_1
 25580 03:6B98: 64 17        	stz	<L1128+dy_1+2
 25581 03:6B9A: 64 19        	stz	<L1128+pixelLocation0_1
 25582 03:6B9C: 64 1B        	stz	<L1128+pixelLocation0_1+2
 25583 03:6B9E: 64 1D        	stz	<L1128+pixelLocation1_1
 25584 03:6BA0: 64 1F        	stz	<L1128+pixelLocation1_1+2
 25585 03:6BA2: 64 21        	stz	<L1128+difference_1
 25586 03:6BA4: 64 23        	stz	<L1128+difference_1+2
 25587 03:6BA6: 64 25        	stz	<L1128+fIndex_1
 25588 03:6BA8: 64 27        	stz	<L1128+fIndex_1+2
 25589 03:6BAA: 64 29        	stz	<L1128+offset_1
 25590 03:6BAC: 64 2B        	stz	<L1128+offset_1+2
 25591                        	.line	4229
 25592                        ;		width = 640;
 25593 03:6BAE: 38           	sec
 25594 03:6BAF: A9 80 02     	lda	#$280
  Thu Dec  3 2020 22:25                                                Page 471


 25595 03:6BB2: E5 38        	sbc	<L1127+width_0
 25596 03:6BB4: 70 03        	bvs	L1130
 25597 03:6BB6: 49 00 80     	eor	#$8000
 25598                        L1130:
 25599 03:6BB9: 10 03        	bpl	L1131
 25600 03:6BBB: 82 05 00     	brl	L10464
 25601                        L1131:
 25602                        	.line	4230
 25603 03:6BBE: A9 80 02     	lda	#$280
 25604 03:6BC1: 85 38        	sta	<L1127+width_0
 25605                        ;	if(height > 480)
 25606                        L10464:
 25607                        	.line	4231
 25608                        ;		height = 480;
 25609 03:6BC3: 38           	sec
 25610 03:6BC4: A9 E0 01     	lda	#$1e0
 25611 03:6BC7: E5 3A        	sbc	<L1127+height_0
 25612 03:6BC9: 70 03        	bvs	L1132
 25613 03:6BCB: 49 00 80     	eor	#$8000
 25614                        L1132:
 25615 03:6BCE: 10 03        	bpl	L1133
 25616 03:6BD0: 82 05 00     	brl	L10465
 25617                        L1133:
 25618                        	.line	4232
 25619 03:6BD3: A9 E0 01     	lda	#$1e0
 25620 03:6BD6: 85 3A        	sta	<L1127+height_0
 25621                        ;
 25622                        ;	if(width < 0)
 25623                        L10465:
 25624                        	.line	4234
 25625                        ;		width = 0;
 25626 03:6BD8: A5 38        	lda	<L1127+width_0
 25627 03:6BDA: 30 03        	bmi	L1134
 25628 03:6BDC: 82 02 00     	brl	L10466
 25629                        L1134:
 25630                        	.line	4235
 25631 03:6BDF: 64 38        	stz	<L1127+width_0
 25632                        ;	if(height < 0)
 25633                        L10466:
 25634                        	.line	4236
 25635                        ;		height = 0;
 25636 03:6BE1: A5 3A        	lda	<L1127+height_0
 25637 03:6BE3: 30 03        	bmi	L1135
 25638 03:6BE5: 82 02 00     	brl	L10467
 25639                        L1135:
 25640                        	.line	4237
 25641 03:6BE8: 64 3A        	stz	<L1127+height_0
 25642                        ;
 25643                        ;
 25644                        ;	offset = ((long)y0 + (long)height);
 25645                        L10467:
 25646                        	.line	4240
 25647 03:6BEA: A0 00 00     	ldy	#$0
 25648 03:6BED: A5 3A        	lda	<L1127+height_0
 25649 03:6BEF: 10 01        	bpl	L1136
 25650 03:6BF1: 88           	dey
 25651                        L1136:
 25652 03:6BF2: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 472


 25653 03:6BF4: 84 03        	sty	<R0+2
 25654 03:6BF6: A0 00 00     	ldy	#$0
 25655 03:6BF9: A5 36        	lda	<L1127+y0_0
 25656 03:6BFB: 10 01        	bpl	L1137
 25657 03:6BFD: 88           	dey
 25658                        L1137:
 25659 03:6BFE: 85 05        	sta	<R1
 25660 03:6C00: 84 07        	sty	<R1+2
 25661 03:6C02: 18           	clc
 25662 03:6C03: A5 05        	lda	<R1
 25663 03:6C05: 65 01        	adc	<R0
 25664 03:6C07: 85 29        	sta	<L1128+offset_1
 25665 03:6C09: A5 07        	lda	<R1+2
 25666 03:6C0B: 65 03        	adc	<R0+2
 25667 03:6C0D: 85 2B        	sta	<L1128+offset_1+2
 25668                        ;
 25669                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 25670                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 25671                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 25672                        ;	difference     = width;
 25673                        	.line	4245
 25674 03:6C0F: A0 00 00     	ldy	#$0
 25675 03:6C12: A5 38        	lda	<L1127+width_0
 25676 03:6C14: 10 01        	bpl	L1138
 25677 03:6C16: 88           	dey
 25678                        L1138:
 25679 03:6C17: 85 21        	sta	<L1128+difference_1
 25680 03:6C19: 84 23        	sty	<L1128+difference_1+2
 25681                        ;
 25682                        ;	//difference = (long)(x0 + width);
 25683                        ;
 25684                        ;	/*
 25685                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 25686                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 25687                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 25688                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 25689                        ;	*/
 25690                        ;
 25691                        ;	for(dy = (long)y0;dy<offset;dy++)
 25692                        	.line	4256
 25693 03:6C1B: A0 00 00     	ldy	#$0
 25694 03:6C1E: A5 36        	lda	<L1127+y0_0
 25695 03:6C20: 10 01        	bpl	L1139
 25696 03:6C22: 88           	dey
 25697                        L1139:
 25698 03:6C23: 85 15        	sta	<L1128+dy_1
 25699 03:6C25: 84 17        	sty	<L1128+dy_1+2
 25700 03:6C27: 82 4E 00     	brl	L10471
 25701                        L10470:
 25702                        ;	{
 25703                        	.line	4257
  Thu Dec  3 2020 22:25                                                Page 473


 25704                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 25705                        ;		//for(dx=(long)x0;dx<difference;dx++)
 25706                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 25707                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 25708                        ;
 25709                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 25710                        	.line	4263
 25711 03:6C2A: A0 00 00     	ldy	#$0
 25712 03:6C2D: A5 34        	lda	<L1127+x0_0
 25713 03:6C2F: 10 01        	bpl	L1140
 25714 03:6C31: 88           	dey
 25715                        L1140:
 25716 03:6C32: 85 01        	sta	<R0
 25717 03:6C34: 84 03        	sty	<R0+2
 25718 03:6C36: F4 00 00     	pea	#^$280
 25719 03:6C39: F4 80 02     	pea	#<$280
 25720 03:6C3C: D4 17        	pei	<L1128+dy_1+2
 25721 03:6C3E: D4 15        	pei	<L1128+dy_1
 25722                        	xref	~~~lmul
 25723 03:6C40: 22 xx xx xx  	jsl	~~~lmul
 25724 03:6C44: 85 05        	sta	<R1
 25725 03:6C46: 86 07        	stx	<R1+2
 25726 03:6C48: 18           	clc
 25727 03:6C49: A5 05        	lda	<R1
 25728 03:6C4B: 65 01        	adc	<R0
 25729 03:6C4D: 85 09        	sta	<R2
 25730 03:6C4F: A5 07        	lda	<R1+2
 25731 03:6C51: 65 03        	adc	<R0+2
 25732 03:6C53: 85 0B        	sta	<R2+2
 25733 03:6C55: 18           	clc
 25734 03:6C56: A5 30        	lda	<L1127+bank_0
 25735 03:6C58: 65 09        	adc	<R2
 25736 03:6C5A: 85 0D        	sta	<L1128+ptr_1
 25737 03:6C5C: A5 32        	lda	<L1127+bank_0+2
 25738 03:6C5E: 65 0B        	adc	<R2+2
 25739 03:6C60: 85 0F        	sta	<L1128+ptr_1+2
 25740                        ;
 25741                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 25742                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 25743                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 25744                        ;		memset( ptr, color , difference ) ;
 25745                        	.line	4268
 25746 03:6C62: D4 21        	pei	<L1128+difference_1
 25747 03:6C64: A5 3C        	lda	<L1127+color_0
 25748 03:6C66: 29 FF 00     	and	#$ff
 25749 03:6C69: 48           	pha
 25750 03:6C6A: D4 0F        	pei	<L1128+ptr_1+2
 25751 03:6C6C: D4 0D        	pei	<L1128+ptr_1
 25752 03:6C6E: 22 xx xx xx  	jsl	~~memset
 25753                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
  Thu Dec  3 2020 22:25                                                Page 474


 25754                        ;		//	ptr[fIndex] = color;
 25755                        ;	}
 25756                        	.line	4271
 25757                        L10468:
 25758 03:6C72: E6 15        	inc	<L1128+dy_1
 25759 03:6C74: D0 02        	bne	L1141
 25760 03:6C76: E6 17        	inc	<L1128+dy_1+2
 25761                        L1141:
 25762                        L10471:
 25763 03:6C78: 38           	sec
 25764 03:6C79: A5 15        	lda	<L1128+dy_1
 25765 03:6C7B: E5 29        	sbc	<L1128+offset_1
 25766 03:6C7D: A5 17        	lda	<L1128+dy_1+2
 25767 03:6C7F: E5 2B        	sbc	<L1128+offset_1+2
 25768 03:6C81: 70 03        	bvs	L1142
 25769 03:6C83: 49 00 80     	eor	#$8000
 25770                        L1142:
 25771 03:6C86: 30 03        	bmi	L1143
 25772 03:6C88: 82 9F FF     	brl	L10470
 25773                        L1143:
 25774                        L10469:
 25775                        ;
 25776                        ;}
 25777                        	.line	4273
 25778                        L1144:
 25779 03:6C8B: A5 2E        	lda	<L1127+2
 25780 03:6C8D: 85 3C        	sta	<L1127+2+14
 25781 03:6C8F: A5 2D        	lda	<L1127+1
 25782 03:6C91: 85 3B        	sta	<L1127+1+14
 25783 03:6C93: 2B           	pld
 25784 03:6C94: 3B           	tsc
 25785 03:6C95: 18           	clc
 25786 03:6C96: 69 3A 00     	adc	#L1127+14
 25787 03:6C99: 1B           	tcs
 25788 03:6C9A: 6B           	rtl
 25789                        	.endblock	4273
 25790             0000002C   L1127	equ	44
 25791             0000000D   L1128	equ	13
 25792 03:6C9B:              	ends
 25793                        	efunc
 25794                        	.endfunc	4273,13,44
 25795                        	.line	4273
 25796                        ;
 25797                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 25798                        ;{
 25799                        	.line	4275
 25800                        	.line	4276
 25801                        	GUI
 25802                        	xdef	~~k_shadow_fill_rect
 25803                        	func
 25804                        	.function	4276
 25805                        ~~k_shadow_fill_rect:
 25806                        	longa	on
 25807                        	longi	on
 25808 03:6C9B: 3B           	tsc
 25809 03:6C9C: 38           	sec
 25810 03:6C9D: E9 00 00     	sbc	#L1145
  Thu Dec  3 2020 22:25                                                Page 475


 25811 03:6CA0: 1B           	tcs
 25812 03:6CA1: 0B           	phd
 25813 03:6CA2: 5B           	tcd
 25814             00000004   x0_0	set	4
 25815             00000006   y0_0	set	6
 25816             00000008   width_0	set	8
 25817             0000000A   height_0	set	10
 25818             0000000C   color_0	set	12
 25819                        	.block	4276
 25820                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 25821                        	.sym	x0,4,5,6,16
 25822                        	.sym	y0,6,5,6,16
 25823                        	.sym	width,8,5,6,16
 25824                        	.sym	height,10,5,6,16
 25825                        	.sym	color,12,14,6,8
 25826                        	.line	4277
 25827 03:6CA3: D4 0C        	pei	<L1145+color_0
 25828 03:6CA5: D4 0A        	pei	<L1145+height_0
 25829 03:6CA7: D4 08        	pei	<L1145+width_0
 25830 03:6CA9: D4 06        	pei	<L1145+y0_0
 25831 03:6CAB: D4 04        	pei	<L1145+x0_0
 25832 03:6CAD: F4 0A 00     	pea	#^$a0000
 25833 03:6CB0: F4 00 00     	pea	#<$a0000
 25834 03:6CB3: 22 86 6B 03  	jsl	~~k_shadow_fill_rect_address
 25835                        ;}
 25836                        	.line	4278
 25837                        L1148:
 25838 03:6CB7: A5 02        	lda	<L1145+2
 25839 03:6CB9: 85 0C        	sta	<L1145+2+10
 25840 03:6CBB: A5 01        	lda	<L1145+1
 25841 03:6CBD: 85 0B        	sta	<L1145+1+10
 25842 03:6CBF: 2B           	pld
 25843 03:6CC0: 3B           	tsc
 25844 03:6CC1: 18           	clc
 25845 03:6CC2: 69 0A 00     	adc	#L1145+10
 25846 03:6CC5: 1B           	tcs
 25847 03:6CC6: 6B           	rtl
 25848                        	.endblock	4278
 25849             00000000   L1145	equ	0
 25850             00000001   L1146	equ	1
 25851 03:6CC7:              	ends
 25852                        	efunc
 25853                        	.endfunc	4278,1,0
 25854                        	.line	4278
 25855                        ;
 25856                        ;/*
 25857                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 25858                        ;{
 25859                        ;	LPCHAR ptr = NULL;
 25860                        ;	ULONG dx = 0L;
 25861                        ;	long dy = 0L;
 25862                        ;	long pixelLocation0 = 0L;
 25863                        ;	long pixelLocation1 = 0L;
 25864                        ;	long difference     = 0L;
 25865                        ;	long fIndex = 0;
 25866                        ;	long offset = 0L;
  Thu Dec  3 2020 22:25                                                Page 476


 25867                        ;
 25868                        ;	if(width > 640)
 25869                        ;		width = 640;
 25870                        ;	if(height > 480)
 25871                        ;		height = 480;
 25872                        ;
 25873                        ;	if(width < 0)
 25874                        ;		width = 0;
 25875                        ;	if(height < 0)
 25876                        ;		height = 0;
 25877                        ;
 25878                        ;
 25879                        ;	offset = ((long)y0 + (long)height);
 25880                        ;
 25881                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 25882                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 25883                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 25884                        ;	difference     = width;
 25885                        ;
 25886                        ;	//difference = (long)(x0 + width);
 25887                        ;
 25888                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 25889                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
                    ght);
 25890                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 25891                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 25892                        ;
 25893                        ;
 25894                        ;	for(dy = (long)y0;dy<offset;dy++)
 25895                        ;	{
 25896                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 25897                        ;		//for(dx=(long)x0;dx<difference;dx++)
 25898                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 25899                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 25900                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 25901                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 25902                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 25903                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 25904                        ;		memset( ptr, color , difference ) ;
 25905                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 25906                        ;		//	ptr[fIndex] = color;
 25907                        ;	}
 25908                        ;
 25909                        ;}
  Thu Dec  3 2020 22:25                                                Page 477


 25910                        ;*/
 25911                        ;void k_shadow_bitblt(int x0, int y0, int width, i
                    nt height, int x1, int y1)
 25912                        ;{
 25913                        	.line	4335
 25914                        	.line	4336
 25915                        	GUI
 25916                        	xdef	~~k_shadow_bitblt
 25917                        	func
 25918                        	.function	4336
 25919                        ~~k_shadow_bitblt:
 25920                        	longa	on
 25921                        	longi	on
 25922 03:6CC7: 3B           	tsc
 25923 03:6CC8: 38           	sec
 25924 03:6CC9: E9 20 00     	sbc	#L1149
 25925 03:6CCC: 1B           	tcs
 25926 03:6CCD: 0B           	phd
 25927 03:6CCE: 5B           	tcd
 25928             00000004   x0_0	set	4
 25929             00000006   y0_0	set	6
 25930             00000008   width_0	set	8
 25931             0000000A   height_0	set	10
 25932             0000000C   x1_0	set	12
 25933             0000000E   y1_0	set	14
 25934                        	.block	4336
 25935                        ;	long dy = 0L;
 25936                        ;	long dd = y1;
 25937                        ;
 25938                        ;	long pixelLocation0 = 0L;
 25939                        ;	long pixelLocation1 = 0L;
 25940                        ;	long pixelLocationD = 0L;
 25941                        ;	long difference     = 0L;
 25942                        ;
 25943                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 25944             00000000   dy_1	set	0
 25945             00000004   dd_1	set	4
 25946             00000008   pixelLocation0_1	set	8
 25947             0000000C   pixelLocation1_1	set	12
 25948             00000010   pixelLocationD_1	set	16
 25949             00000014   difference_1	set	20
 25950                        	.sym	dy,0,7,1,32
 25951                        	.sym	dd,4,7,1,32
 25952                        	.sym	pixelLocation0,8,7,1,32
 25953                        	.sym	pixelLocation1,12,7,1,32
 25954                        	.sym	pixelLocationD,16,7,1,32
 25955                        	.sym	difference,20,7,1,32
 25956                        	.sym	x0,4,5,6,16
 25957                        	.sym	y0,6,5,6,16
 25958                        	.sym	width,8,5,6,16
 25959                        	.sym	height,10,5,6,16
 25960                        	.sym	x1,12,5,6,16
 25961                        	.sym	y1,14,5,6,16
 25962 03:6CCF: 64 09        	stz	<L1150+dy_1
 25963 03:6CD1: 64 0B        	stz	<L1150+dy_1+2
 25964 03:6CD3: A0 00 00     	ldy	#$0
 25965 03:6CD6: A5 2E        	lda	<L1149+y1_0
  Thu Dec  3 2020 22:25                                                Page 478


 25966 03:6CD8: 10 01        	bpl	L1152
 25967 03:6CDA: 88           	dey
 25968                        L1152:
 25969 03:6CDB: 85 0D        	sta	<L1150+dd_1
 25970 03:6CDD: 84 0F        	sty	<L1150+dd_1+2
 25971 03:6CDF: 64 11        	stz	<L1150+pixelLocation0_1
 25972 03:6CE1: 64 13        	stz	<L1150+pixelLocation0_1+2
 25973 03:6CE3: 64 15        	stz	<L1150+pixelLocation1_1
 25974 03:6CE5: 64 17        	stz	<L1150+pixelLocation1_1+2
 25975 03:6CE7: 64 19        	stz	<L1150+pixelLocationD_1
 25976 03:6CE9: 64 1B        	stz	<L1150+pixelLocationD_1+2
 25977 03:6CEB: 64 1D        	stz	<L1150+difference_1
 25978 03:6CED: 64 1F        	stz	<L1150+difference_1+2
 25979                        	.line	4345
 25980 03:6CEF: A0 00 00     	ldy	#$0
 25981 03:6CF2: A5 24        	lda	<L1149+x0_0
 25982 03:6CF4: 10 01        	bpl	L1153
 25983 03:6CF6: 88           	dey
 25984                        L1153:
 25985 03:6CF7: 85 01        	sta	<R0
 25986 03:6CF9: 84 03        	sty	<R0+2
 25987 03:6CFB: A0 00 00     	ldy	#$0
 25988 03:6CFE: A5 26        	lda	<L1149+y0_0
 25989 03:6D00: 10 01        	bpl	L1154
 25990 03:6D02: 88           	dey
 25991                        L1154:
 25992 03:6D03: 85 05        	sta	<R1
 25993 03:6D05: 84 07        	sty	<R1+2
 25994 03:6D07: F4 00 00     	pea	#^$280
 25995 03:6D0A: F4 80 02     	pea	#<$280
 25996 03:6D0D: D4 07        	pei	<R1+2
 25997 03:6D0F: D4 05        	pei	<R1
 25998                        	xref	~~~lmul
 25999 03:6D11: 22 xx xx xx  	jsl	~~~lmul
 26000 03:6D15: 85 05        	sta	<R1
 26001 03:6D17: 86 07        	stx	<R1+2
 26002 03:6D19: 18           	clc
 26003 03:6D1A: A5 05        	lda	<R1
 26004 03:6D1C: 65 01        	adc	<R0
 26005 03:6D1E: 85 11        	sta	<L1150+pixelLocation0_1
 26006 03:6D20: A5 07        	lda	<R1+2
 26007 03:6D22: 65 03        	adc	<R0+2
 26008 03:6D24: 85 13        	sta	<L1150+pixelLocation0_1+2
 26009                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 26010                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 26011                        	.line	4347
 26012 03:6D26: A0 00 00     	ldy	#$0
 26013 03:6D29: A5 2C        	lda	<L1149+x1_0
 26014 03:6D2B: 10 01        	bpl	L1155
 26015 03:6D2D: 88           	dey
 26016                        L1155:
 26017 03:6D2E: 85 01        	sta	<R0
 26018 03:6D30: 84 03        	sty	<R0+2
 26019 03:6D32: A0 00 00     	ldy	#$0
 26020 03:6D35: A5 2E        	lda	<L1149+y1_0
 26021 03:6D37: 10 01        	bpl	L1156
  Thu Dec  3 2020 22:25                                                Page 479


 26022 03:6D39: 88           	dey
 26023                        L1156:
 26024 03:6D3A: 85 05        	sta	<R1
 26025 03:6D3C: 84 07        	sty	<R1+2
 26026 03:6D3E: F4 00 00     	pea	#^$280
 26027 03:6D41: F4 80 02     	pea	#<$280
 26028 03:6D44: D4 07        	pei	<R1+2
 26029 03:6D46: D4 05        	pei	<R1
 26030                        	xref	~~~lmul
 26031 03:6D48: 22 xx xx xx  	jsl	~~~lmul
 26032 03:6D4C: 85 05        	sta	<R1
 26033 03:6D4E: 86 07        	stx	<R1+2
 26034 03:6D50: 18           	clc
 26035 03:6D51: A5 05        	lda	<R1
 26036 03:6D53: 65 01        	adc	<R0
 26037 03:6D55: 85 19        	sta	<L1150+pixelLocationD_1
 26038 03:6D57: A5 07        	lda	<R1+2
 26039 03:6D59: 65 03        	adc	<R0+2
 26040 03:6D5B: 85 1B        	sta	<L1150+pixelLocationD_1+2
 26041                        ;
 26042                        ;	difference = pixelLocation1 - pixelLocation0;
 26043                        	.line	4349
 26044 03:6D5D: 38           	sec
 26045 03:6D5E: A5 15        	lda	<L1150+pixelLocation1_1
 26046 03:6D60: E5 11        	sbc	<L1150+pixelLocation0_1
 26047 03:6D62: 85 1D        	sta	<L1150+difference_1
 26048 03:6D64: A5 17        	lda	<L1150+pixelLocation1_1+2
 26049 03:6D66: E5 13        	sbc	<L1150+pixelLocation0_1+2
 26050 03:6D68: 85 1F        	sta	<L1150+difference_1+2
 26051                        ;
 26052                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 26053                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 26054                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 26055                        ;	//k_debug_long("difference:",difference);
 26056                        ;
 26057                        ;	y0++;
 26058                        	.line	4356
 26059 03:6D6A: E6 26        	inc	<L1149+y0_0
 26060                        ;	x0++;
 26061                        	.line	4357
 26062 03:6D6C: E6 24        	inc	<L1149+x0_0
 26063                        ;
 26064                        ;	for(dy = y0;dy<(y0 + height);dy++)
 26065                        	.line	4359
 26066 03:6D6E: A0 00 00     	ldy	#$0
 26067 03:6D71: A5 26        	lda	<L1149+y0_0
 26068 03:6D73: 10 01        	bpl	L1157
 26069 03:6D75: 88           	dey
 26070                        L1157:
 26071 03:6D76: 85 09        	sta	<L1150+dy_1
 26072 03:6D78: 84 0B        	sty	<L1150+dy_1+2
 26073 03:6D7A: 82 8E 00     	brl	L10475
 26074                        L10474:
 26075                        ;	{
 26076                        	.line	4360
  Thu Dec  3 2020 22:25                                                Page 480


 26077                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 26078                        	.line	4361
 26079 03:6D7D: A0 00 00     	ldy	#$0
 26080 03:6D80: A5 24        	lda	<L1149+x0_0
 26081 03:6D82: 10 01        	bpl	L1158
 26082 03:6D84: 88           	dey
 26083                        L1158:
 26084 03:6D85: 85 01        	sta	<R0
 26085 03:6D87: 84 03        	sty	<R0+2
 26086 03:6D89: F4 00 00     	pea	#^$280
 26087 03:6D8C: F4 80 02     	pea	#<$280
 26088 03:6D8F: D4 0B        	pei	<L1150+dy_1+2
 26089 03:6D91: D4 09        	pei	<L1150+dy_1
 26090                        	xref	~~~lmul
 26091 03:6D93: 22 xx xx xx  	jsl	~~~lmul
 26092 03:6D97: 85 05        	sta	<R1
 26093 03:6D99: 86 07        	stx	<R1+2
 26094 03:6D9B: 18           	clc
 26095 03:6D9C: A5 05        	lda	<R1
 26096 03:6D9E: 65 01        	adc	<R0
 26097 03:6DA0: 85 11        	sta	<L1150+pixelLocation0_1
 26098 03:6DA2: A5 07        	lda	<R1+2
 26099 03:6DA4: 65 03        	adc	<R0+2
 26100 03:6DA6: 85 13        	sta	<L1150+pixelLocation0_1+2
 26101                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 26102                        	.line	4362
 26103 03:6DA8: A0 00 00     	ldy	#$0
 26104 03:6DAB: A5 2C        	lda	<L1149+x1_0
 26105 03:6DAD: 10 01        	bpl	L1159
 26106 03:6DAF: 88           	dey
 26107                        L1159:
 26108 03:6DB0: 85 01        	sta	<R0
 26109 03:6DB2: 84 03        	sty	<R0+2
 26110 03:6DB4: F4 00 00     	pea	#^$280
 26111 03:6DB7: F4 80 02     	pea	#<$280
 26112 03:6DBA: D4 0F        	pei	<L1150+dd_1+2
 26113 03:6DBC: D4 0D        	pei	<L1150+dd_1
 26114                        	xref	~~~lmul
 26115 03:6DBE: 22 xx xx xx  	jsl	~~~lmul
 26116 03:6DC2: 85 05        	sta	<R1
 26117 03:6DC4: 86 07        	stx	<R1+2
 26118 03:6DC6: 18           	clc
 26119 03:6DC7: A5 05        	lda	<R1
 26120 03:6DC9: 65 01        	adc	<R0
 26121 03:6DCB: 85 19        	sta	<L1150+pixelLocationD_1
 26122 03:6DCD: A5 07        	lda	<R1+2
 26123 03:6DCF: 65 03        	adc	<R0+2
 26124 03:6DD1: 85 1B        	sta	<L1150+pixelLocationD_1+2
 26125                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 26126                        	.line	4363
 26127 03:6DD3: D4 1D        	pei	<L1150+difference_1
 26128 03:6DD5: 18           	clc
 26129 03:6DD6: A9 00 00     	lda	#$0
 26130 03:6DD9: 65 11        	adc	<L1150+pixelLocation0_1
 26131 03:6DDB: 85 01        	sta	<R0
  Thu Dec  3 2020 22:25                                                Page 481


 26132 03:6DDD: A9 0A 00     	lda	#$a
 26133 03:6DE0: 65 13        	adc	<L1150+pixelLocation0_1+2
 26134 03:6DE2: 85 03        	sta	<R0+2
 26135 03:6DE4: D4 03        	pei	<R0+2
 26136 03:6DE6: D4 01        	pei	<R0
 26137 03:6DE8: 18           	clc
 26138 03:6DE9: A9 00 00     	lda	#$0
 26139 03:6DEC: 65 19        	adc	<L1150+pixelLocationD_1
 26140 03:6DEE: 85 05        	sta	<R1
 26141 03:6DF0: A9 B0 00     	lda	#$b0
 26142 03:6DF3: 65 1B        	adc	<L1150+pixelLocationD_1+2
 26143 03:6DF5: 85 07        	sta	<R1+2
 26144 03:6DF7: D4 07        	pei	<R1+2
 26145 03:6DF9: D4 05        	pei	<R1
 26146 03:6DFB: 22 xx xx xx  	jsl	~~memcpy
 26147                        ;
 26148                        ;		dd++;
 26149                        	.line	4365
 26150 03:6DFF: E6 0D        	inc	<L1150+dd_1
 26151 03:6E01: D0 02        	bne	L1160
 26152 03:6E03: E6 0F        	inc	<L1150+dd_1+2
 26153                        L1160:
 26154                        ;	}
 26155                        	.line	4366
 26156                        L10472:
 26157 03:6E05: E6 09        	inc	<L1150+dy_1
 26158 03:6E07: D0 02        	bne	L1161
 26159 03:6E09: E6 0B        	inc	<L1150+dy_1+2
 26160                        L1161:
 26161                        L10475:
 26162 03:6E0B: 18           	clc
 26163 03:6E0C: A5 26        	lda	<L1149+y0_0
 26164 03:6E0E: 65 2A        	adc	<L1149+height_0
 26165 03:6E10: 85 01        	sta	<R0
 26166 03:6E12: A0 00 00     	ldy	#$0
 26167 03:6E15: A5 01        	lda	<R0
 26168 03:6E17: 10 01        	bpl	L1162
 26169 03:6E19: 88           	dey
 26170                        L1162:
 26171 03:6E1A: 85 01        	sta	<R0
 26172 03:6E1C: 84 03        	sty	<R0+2
 26173 03:6E1E: 38           	sec
 26174 03:6E1F: A5 09        	lda	<L1150+dy_1
 26175 03:6E21: E5 01        	sbc	<R0
 26176 03:6E23: A5 0B        	lda	<L1150+dy_1+2
 26177 03:6E25: E5 03        	sbc	<R0+2
 26178 03:6E27: 70 03        	bvs	L1163
 26179 03:6E29: 49 00 80     	eor	#$8000
 26180                        L1163:
 26181 03:6E2C: 30 03        	bmi	L1164
 26182 03:6E2E: 82 4C FF     	brl	L10474
 26183                        L1164:
 26184                        L10473:
 26185                        ;
 26186                        ;}
 26187                        	.line	4368
 26188                        L1165:
 26189 03:6E31: A5 22        	lda	<L1149+2
  Thu Dec  3 2020 22:25                                                Page 482


 26190 03:6E33: 85 2E        	sta	<L1149+2+12
 26191 03:6E35: A5 21        	lda	<L1149+1
 26192 03:6E37: 85 2D        	sta	<L1149+1+12
 26193 03:6E39: 2B           	pld
 26194 03:6E3A: 3B           	tsc
 26195 03:6E3B: 18           	clc
 26196 03:6E3C: 69 2C 00     	adc	#L1149+12
 26197 03:6E3F: 1B           	tcs
 26198 03:6E40: 6B           	rtl
 26199                        	.endblock	4368
 26200             00000020   L1149	equ	32
 26201             00000009   L1150	equ	9
 26202 03:6E41:              	ends
 26203                        	efunc
 26204                        	.endfunc	4368,9,32
 26205                        	.line	4368
 26206                        ;
 26207                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 26208                        ;{
 26209                        	.line	4370
 26210                        	.line	4371
 26211                        	GUI
 26212                        	xdef	~~k_scratch_save_bitblt
 26213                        	func
 26214                        	.function	4371
 26215                        ~~k_scratch_save_bitblt:
 26216                        	longa	on
 26217                        	longi	on
 26218 03:6E41: 3B           	tsc
 26219 03:6E42: 38           	sec
 26220 03:6E43: E9 20 00     	sbc	#L1166
 26221 03:6E46: 1B           	tcs
 26222 03:6E47: 0B           	phd
 26223 03:6E48: 5B           	tcd
 26224             00000004   x0_0	set	4
 26225             00000006   y0_0	set	6
 26226             00000008   width_0	set	8
 26227             0000000A   height_0	set	10
 26228             0000000C   x1_0	set	12
 26229             0000000E   y1_0	set	14
 26230                        	.block	4371
 26231                        ;	long dy = 0L;
 26232                        ;	long dd = y1;
 26233                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 26234                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 26235                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 26236                        ;
 26237                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 26238                        ;
 26239                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 26240                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
  Thu Dec  3 2020 22:25                                                Page 483


 26241                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 26242                        ;	//k_debug_long("difference:",difference);
 26243                        ;
 26244                        ;
 26245                        ;
 26246                        ;	for(dy = y0;dy<(y0 + height);dy++)
 26247             00000000   dy_1	set	0
 26248             00000004   dd_1	set	4
 26249             00000008   pixelLocation0_1	set	8
 26250             0000000C   pixelLocation1_1	set	12
 26251             00000010   pixelLocationD_1	set	16
 26252             00000014   difference_1	set	20
 26253                        	.sym	dy,0,7,1,32
 26254                        	.sym	dd,4,7,1,32
 26255                        	.sym	pixelLocation0,8,7,1,32
 26256                        	.sym	pixelLocation1,12,7,1,32
 26257                        	.sym	pixelLocationD,16,7,1,32
 26258                        	.sym	difference,20,7,1,32
 26259                        	.sym	x0,4,5,6,16
 26260                        	.sym	y0,6,5,6,16
 26261                        	.sym	width,8,5,6,16
 26262                        	.sym	height,10,5,6,16
 26263                        	.sym	x1,12,5,6,16
 26264                        	.sym	y1,14,5,6,16
 26265 03:6E49: 64 09        	stz	<L1167+dy_1
 26266 03:6E4B: 64 0B        	stz	<L1167+dy_1+2
 26267 03:6E4D: A0 00 00     	ldy	#$0
 26268 03:6E50: A5 2E        	lda	<L1166+y1_0
 26269 03:6E52: 10 01        	bpl	L1169
 26270 03:6E54: 88           	dey
 26271                        L1169:
 26272 03:6E55: 85 0D        	sta	<L1167+dd_1
 26273 03:6E57: 84 0F        	sty	<L1167+dd_1+2
 26274 03:6E59: A0 00 00     	ldy	#$0
 26275 03:6E5C: A5 24        	lda	<L1166+x0_0
 26276 03:6E5E: 10 01        	bpl	L1170
 26277 03:6E60: 88           	dey
 26278                        L1170:
 26279 03:6E61: 85 01        	sta	<R0
 26280 03:6E63: 84 03        	sty	<R0+2
 26281 03:6E65: A0 00 00     	ldy	#$0
 26282 03:6E68: A5 26        	lda	<L1166+y0_0
 26283 03:6E6A: 10 01        	bpl	L1171
 26284 03:6E6C: 88           	dey
 26285                        L1171:
 26286 03:6E6D: 85 05        	sta	<R1
 26287 03:6E6F: 84 07        	sty	<R1+2
 26288 03:6E71: F4 00 00     	pea	#^$280
 26289 03:6E74: F4 80 02     	pea	#<$280
 26290 03:6E77: D4 07        	pei	<R1+2
 26291 03:6E79: D4 05        	pei	<R1
 26292                        	xref	~~~lmul
 26293 03:6E7B: 22 xx xx xx  	jsl	~~~lmul
 26294 03:6E7F: 85 05        	sta	<R1
 26295 03:6E81: 86 07        	stx	<R1+2
 26296 03:6E83: 18           	clc
 26297 03:6E84: A5 05        	lda	<R1
  Thu Dec  3 2020 22:25                                                Page 484


 26298 03:6E86: 65 01        	adc	<R0
 26299 03:6E88: 85 11        	sta	<L1167+pixelLocation0_1
 26300 03:6E8A: A5 07        	lda	<R1+2
 26301 03:6E8C: 65 03        	adc	<R0+2
 26302 03:6E8E: 85 13        	sta	<L1167+pixelLocation0_1+2
 26303 03:6E90: 18           	clc
 26304 03:6E91: A5 24        	lda	<L1166+x0_0
 26305 03:6E93: 65 28        	adc	<L1166+width_0
 26306 03:6E95: 85 01        	sta	<R0
 26307 03:6E97: A0 00 00     	ldy	#$0
 26308 03:6E9A: A5 01        	lda	<R0
 26309 03:6E9C: 10 01        	bpl	L1172
 26310 03:6E9E: 88           	dey
 26311                        L1172:
 26312 03:6E9F: 85 01        	sta	<R0
 26313 03:6EA1: 84 03        	sty	<R0+2
 26314 03:6EA3: A0 00 00     	ldy	#$0
 26315 03:6EA6: A5 26        	lda	<L1166+y0_0
 26316 03:6EA8: 10 01        	bpl	L1173
 26317 03:6EAA: 88           	dey
 26318                        L1173:
 26319 03:6EAB: 85 05        	sta	<R1
 26320 03:6EAD: 84 07        	sty	<R1+2
 26321 03:6EAF: F4 00 00     	pea	#^$280
 26322 03:6EB2: F4 80 02     	pea	#<$280
 26323 03:6EB5: D4 07        	pei	<R1+2
 26324 03:6EB7: D4 05        	pei	<R1
 26325                        	xref	~~~lmul
 26326 03:6EB9: 22 xx xx xx  	jsl	~~~lmul
 26327 03:6EBD: 85 05        	sta	<R1
 26328 03:6EBF: 86 07        	stx	<R1+2
 26329 03:6EC1: 18           	clc
 26330 03:6EC2: A5 05        	lda	<R1
 26331 03:6EC4: 65 01        	adc	<R0
 26332 03:6EC6: 85 15        	sta	<L1167+pixelLocation1_1
 26333 03:6EC8: A5 07        	lda	<R1+2
 26334 03:6ECA: 65 03        	adc	<R0+2
 26335 03:6ECC: 85 17        	sta	<L1167+pixelLocation1_1+2
 26336 03:6ECE: A0 00 00     	ldy	#$0
 26337 03:6ED1: A5 2C        	lda	<L1166+x1_0
 26338 03:6ED3: 10 01        	bpl	L1174
 26339 03:6ED5: 88           	dey
 26340                        L1174:
 26341 03:6ED6: 85 01        	sta	<R0
 26342 03:6ED8: 84 03        	sty	<R0+2
 26343 03:6EDA: A0 00 00     	ldy	#$0
 26344 03:6EDD: A5 2E        	lda	<L1166+y1_0
 26345 03:6EDF: 10 01        	bpl	L1175
 26346 03:6EE1: 88           	dey
 26347                        L1175:
 26348 03:6EE2: 85 05        	sta	<R1
 26349 03:6EE4: 84 07        	sty	<R1+2
 26350 03:6EE6: F4 00 00     	pea	#^$280
 26351 03:6EE9: F4 80 02     	pea	#<$280
 26352 03:6EEC: D4 07        	pei	<R1+2
 26353 03:6EEE: D4 05        	pei	<R1
 26354                        	xref	~~~lmul
 26355 03:6EF0: 22 xx xx xx  	jsl	~~~lmul
  Thu Dec  3 2020 22:25                                                Page 485


 26356 03:6EF4: 85 05        	sta	<R1
 26357 03:6EF6: 86 07        	stx	<R1+2
 26358 03:6EF8: 18           	clc
 26359 03:6EF9: A5 05        	lda	<R1
 26360 03:6EFB: 65 01        	adc	<R0
 26361 03:6EFD: 85 19        	sta	<L1167+pixelLocationD_1
 26362 03:6EFF: A5 07        	lda	<R1+2
 26363 03:6F01: 65 03        	adc	<R0+2
 26364 03:6F03: 85 1B        	sta	<L1167+pixelLocationD_1+2
 26365 03:6F05: A0 00 00     	ldy	#$0
 26366 03:6F08: A5 28        	lda	<L1166+width_0
 26367 03:6F0A: 10 01        	bpl	L1176
 26368 03:6F0C: 88           	dey
 26369                        L1176:
 26370 03:6F0D: 85 1D        	sta	<L1167+difference_1
 26371 03:6F0F: 84 1F        	sty	<L1167+difference_1+2
 26372                        	.line	4387
 26373 03:6F11: A0 00 00     	ldy	#$0
 26374 03:6F14: A5 26        	lda	<L1166+y0_0
 26375 03:6F16: 10 01        	bpl	L1177
 26376 03:6F18: 88           	dey
 26377                        L1177:
 26378 03:6F19: 85 09        	sta	<L1167+dy_1
 26379 03:6F1B: 84 0B        	sty	<L1167+dy_1+2
 26380 03:6F1D: 82 8E 00     	brl	L10479
 26381                        L10478:
 26382                        ;	{
 26383                        	.line	4388
 26384                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 26385                        	.line	4389
 26386 03:6F20: A0 00 00     	ldy	#$0
 26387 03:6F23: A5 24        	lda	<L1166+x0_0
 26388 03:6F25: 10 01        	bpl	L1178
 26389 03:6F27: 88           	dey
 26390                        L1178:
 26391 03:6F28: 85 01        	sta	<R0
 26392 03:6F2A: 84 03        	sty	<R0+2
 26393 03:6F2C: F4 00 00     	pea	#^$280
 26394 03:6F2F: F4 80 02     	pea	#<$280
 26395 03:6F32: D4 0B        	pei	<L1167+dy_1+2
 26396 03:6F34: D4 09        	pei	<L1167+dy_1
 26397                        	xref	~~~lmul
 26398 03:6F36: 22 xx xx xx  	jsl	~~~lmul
 26399 03:6F3A: 85 05        	sta	<R1
 26400 03:6F3C: 86 07        	stx	<R1+2
 26401 03:6F3E: 18           	clc
 26402 03:6F3F: A5 05        	lda	<R1
 26403 03:6F41: 65 01        	adc	<R0
 26404 03:6F43: 85 11        	sta	<L1167+pixelLocation0_1
 26405 03:6F45: A5 07        	lda	<R1+2
 26406 03:6F47: 65 03        	adc	<R0+2
 26407 03:6F49: 85 13        	sta	<L1167+pixelLocation0_1+2
 26408                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 26409                        	.line	4390
 26410 03:6F4B: A0 00 00     	ldy	#$0
 26411 03:6F4E: A5 2C        	lda	<L1166+x1_0
  Thu Dec  3 2020 22:25                                                Page 486


 26412 03:6F50: 10 01        	bpl	L1179
 26413 03:6F52: 88           	dey
 26414                        L1179:
 26415 03:6F53: 85 01        	sta	<R0
 26416 03:6F55: 84 03        	sty	<R0+2
 26417 03:6F57: F4 00 00     	pea	#^$280
 26418 03:6F5A: F4 80 02     	pea	#<$280
 26419 03:6F5D: D4 0F        	pei	<L1167+dd_1+2
 26420 03:6F5F: D4 0D        	pei	<L1167+dd_1
 26421                        	xref	~~~lmul
 26422 03:6F61: 22 xx xx xx  	jsl	~~~lmul
 26423 03:6F65: 85 05        	sta	<R1
 26424 03:6F67: 86 07        	stx	<R1+2
 26425 03:6F69: 18           	clc
 26426 03:6F6A: A5 05        	lda	<R1
 26427 03:6F6C: 65 01        	adc	<R0
 26428 03:6F6E: 85 19        	sta	<L1167+pixelLocationD_1
 26429 03:6F70: A5 07        	lda	<R1+2
 26430 03:6F72: 65 03        	adc	<R0+2
 26431 03:6F74: 85 1B        	sta	<L1167+pixelLocationD_1+2
 26432                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 26433                        	.line	4391
 26434 03:6F76: D4 1D        	pei	<L1167+difference_1
 26435 03:6F78: 18           	clc
 26436 03:6F79: A9 00 00     	lda	#$0
 26437 03:6F7C: 65 11        	adc	<L1167+pixelLocation0_1
 26438 03:6F7E: 85 01        	sta	<R0
 26439 03:6F80: A9 0A 00     	lda	#$a
 26440 03:6F83: 65 13        	adc	<L1167+pixelLocation0_1+2
 26441 03:6F85: 85 03        	sta	<R0+2
 26442 03:6F87: D4 03        	pei	<R0+2
 26443 03:6F89: D4 01        	pei	<R0
 26444 03:6F8B: 18           	clc
 26445 03:6F8C: A9 00 00     	lda	#$0
 26446 03:6F8F: 65 19        	adc	<L1167+pixelLocationD_1
 26447 03:6F91: 85 05        	sta	<R1
 26448 03:6F93: A9 0F 00     	lda	#$f
 26449 03:6F96: 65 1B        	adc	<L1167+pixelLocationD_1+2
 26450 03:6F98: 85 07        	sta	<R1+2
 26451 03:6F9A: D4 07        	pei	<R1+2
 26452 03:6F9C: D4 05        	pei	<R1
 26453 03:6F9E: 22 xx xx xx  	jsl	~~memcpy
 26454                        ;
 26455                        ;		dd++;
 26456                        	.line	4393
 26457 03:6FA2: E6 0D        	inc	<L1167+dd_1
 26458 03:6FA4: D0 02        	bne	L1180
 26459 03:6FA6: E6 0F        	inc	<L1167+dd_1+2
 26460                        L1180:
 26461                        ;	}
 26462                        	.line	4394
 26463                        L10476:
 26464 03:6FA8: E6 09        	inc	<L1167+dy_1
 26465 03:6FAA: D0 02        	bne	L1181
 26466 03:6FAC: E6 0B        	inc	<L1167+dy_1+2
 26467                        L1181:
 26468                        L10479:
  Thu Dec  3 2020 22:25                                                Page 487


 26469 03:6FAE: 18           	clc
 26470 03:6FAF: A5 26        	lda	<L1166+y0_0
 26471 03:6FB1: 65 2A        	adc	<L1166+height_0
 26472 03:6FB3: 85 01        	sta	<R0
 26473 03:6FB5: A0 00 00     	ldy	#$0
 26474 03:6FB8: A5 01        	lda	<R0
 26475 03:6FBA: 10 01        	bpl	L1182
 26476 03:6FBC: 88           	dey
 26477                        L1182:
 26478 03:6FBD: 85 01        	sta	<R0
 26479 03:6FBF: 84 03        	sty	<R0+2
 26480 03:6FC1: 38           	sec
 26481 03:6FC2: A5 09        	lda	<L1167+dy_1
 26482 03:6FC4: E5 01        	sbc	<R0
 26483 03:6FC6: A5 0B        	lda	<L1167+dy_1+2
 26484 03:6FC8: E5 03        	sbc	<R0+2
 26485 03:6FCA: 70 03        	bvs	L1183
 26486 03:6FCC: 49 00 80     	eor	#$8000
 26487                        L1183:
 26488 03:6FCF: 30 03        	bmi	L1184
 26489 03:6FD1: 82 4C FF     	brl	L10478
 26490                        L1184:
 26491                        L10477:
 26492                        ;
 26493                        ;}
 26494                        	.line	4396
 26495                        L1185:
 26496 03:6FD4: A5 22        	lda	<L1166+2
 26497 03:6FD6: 85 2E        	sta	<L1166+2+12
 26498 03:6FD8: A5 21        	lda	<L1166+1
 26499 03:6FDA: 85 2D        	sta	<L1166+1+12
 26500 03:6FDC: 2B           	pld
 26501 03:6FDD: 3B           	tsc
 26502 03:6FDE: 18           	clc
 26503 03:6FDF: 69 2C 00     	adc	#L1166+12
 26504 03:6FE2: 1B           	tcs
 26505 03:6FE3: 6B           	rtl
 26506                        	.endblock	4396
 26507             00000020   L1166	equ	32
 26508             00000009   L1167	equ	9
 26509 03:6FE4:              	ends
 26510                        	efunc
 26511                        	.endfunc	4396,9,32
 26512                        	.line	4396
 26513                        ;
 26514                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 26515                        ;{
 26516                        	.line	4398
 26517                        	.line	4399
 26518                        	GUI
 26519                        	xdef	~~k_scratch_restore_bitblt
 26520                        	func
 26521                        	.function	4399
 26522                        ~~k_scratch_restore_bitblt:
 26523                        	longa	on
 26524                        	longi	on
 26525 03:6FE4: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 488


 26526 03:6FE5: 38           	sec
 26527 03:6FE6: E9 20 00     	sbc	#L1186
 26528 03:6FE9: 1B           	tcs
 26529 03:6FEA: 0B           	phd
 26530 03:6FEB: 5B           	tcd
 26531             00000004   x0_0	set	4
 26532             00000006   y0_0	set	6
 26533             00000008   width_0	set	8
 26534             0000000A   height_0	set	10
 26535             0000000C   x1_0	set	12
 26536             0000000E   y1_0	set	14
 26537                        	.block	4399
 26538                        ;	long dy = 0L;
 26539                        ;	long dd = y1;
 26540                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 26541                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 26542                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 26543                        ;
 26544                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 26545                        ;
 26546                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 26547                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 26548                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 26549                        ;	//k_debug_long("difference:",difference);
 26550                        ;
 26551                        ;
 26552                        ;
 26553                        ;	for(dy = y0;dy<(y0 + height);dy++)
 26554             00000000   dy_1	set	0
 26555             00000004   dd_1	set	4
 26556             00000008   pixelLocation0_1	set	8
 26557             0000000C   pixelLocation1_1	set	12
 26558             00000010   pixelLocationD_1	set	16
 26559             00000014   difference_1	set	20
 26560                        	.sym	dy,0,7,1,32
 26561                        	.sym	dd,4,7,1,32
 26562                        	.sym	pixelLocation0,8,7,1,32
 26563                        	.sym	pixelLocation1,12,7,1,32
 26564                        	.sym	pixelLocationD,16,7,1,32
 26565                        	.sym	difference,20,7,1,32
 26566                        	.sym	x0,4,5,6,16
 26567                        	.sym	y0,6,5,6,16
 26568                        	.sym	width,8,5,6,16
 26569                        	.sym	height,10,5,6,16
 26570                        	.sym	x1,12,5,6,16
 26571                        	.sym	y1,14,5,6,16
 26572 03:6FEC: 64 09        	stz	<L1187+dy_1
 26573 03:6FEE: 64 0B        	stz	<L1187+dy_1+2
 26574 03:6FF0: A0 00 00     	ldy	#$0
 26575 03:6FF3: A5 2E        	lda	<L1186+y1_0
 26576 03:6FF5: 10 01        	bpl	L1189
  Thu Dec  3 2020 22:25                                                Page 489


 26577 03:6FF7: 88           	dey
 26578                        L1189:
 26579 03:6FF8: 85 0D        	sta	<L1187+dd_1
 26580 03:6FFA: 84 0F        	sty	<L1187+dd_1+2
 26581 03:6FFC: A0 00 00     	ldy	#$0
 26582 03:6FFF: A5 24        	lda	<L1186+x0_0
 26583 03:7001: 10 01        	bpl	L1190
 26584 03:7003: 88           	dey
 26585                        L1190:
 26586 03:7004: 85 01        	sta	<R0
 26587 03:7006: 84 03        	sty	<R0+2
 26588 03:7008: A0 00 00     	ldy	#$0
 26589 03:700B: A5 26        	lda	<L1186+y0_0
 26590 03:700D: 10 01        	bpl	L1191
 26591 03:700F: 88           	dey
 26592                        L1191:
 26593 03:7010: 85 05        	sta	<R1
 26594 03:7012: 84 07        	sty	<R1+2
 26595 03:7014: F4 00 00     	pea	#^$280
 26596 03:7017: F4 80 02     	pea	#<$280
 26597 03:701A: D4 07        	pei	<R1+2
 26598 03:701C: D4 05        	pei	<R1
 26599                        	xref	~~~lmul
 26600 03:701E: 22 xx xx xx  	jsl	~~~lmul
 26601 03:7022: 85 05        	sta	<R1
 26602 03:7024: 86 07        	stx	<R1+2
 26603 03:7026: 18           	clc
 26604 03:7027: A5 05        	lda	<R1
 26605 03:7029: 65 01        	adc	<R0
 26606 03:702B: 85 11        	sta	<L1187+pixelLocation0_1
 26607 03:702D: A5 07        	lda	<R1+2
 26608 03:702F: 65 03        	adc	<R0+2
 26609 03:7031: 85 13        	sta	<L1187+pixelLocation0_1+2
 26610 03:7033: 18           	clc
 26611 03:7034: A5 24        	lda	<L1186+x0_0
 26612 03:7036: 65 28        	adc	<L1186+width_0
 26613 03:7038: 85 01        	sta	<R0
 26614 03:703A: A0 00 00     	ldy	#$0
 26615 03:703D: A5 01        	lda	<R0
 26616 03:703F: 10 01        	bpl	L1192
 26617 03:7041: 88           	dey
 26618                        L1192:
 26619 03:7042: 85 01        	sta	<R0
 26620 03:7044: 84 03        	sty	<R0+2
 26621 03:7046: A0 00 00     	ldy	#$0
 26622 03:7049: A5 26        	lda	<L1186+y0_0
 26623 03:704B: 10 01        	bpl	L1193
 26624 03:704D: 88           	dey
 26625                        L1193:
 26626 03:704E: 85 05        	sta	<R1
 26627 03:7050: 84 07        	sty	<R1+2
 26628 03:7052: F4 00 00     	pea	#^$280
 26629 03:7055: F4 80 02     	pea	#<$280
 26630 03:7058: D4 07        	pei	<R1+2
 26631 03:705A: D4 05        	pei	<R1
 26632                        	xref	~~~lmul
 26633 03:705C: 22 xx xx xx  	jsl	~~~lmul
 26634 03:7060: 85 05        	sta	<R1
  Thu Dec  3 2020 22:25                                                Page 490


 26635 03:7062: 86 07        	stx	<R1+2
 26636 03:7064: 18           	clc
 26637 03:7065: A5 05        	lda	<R1
 26638 03:7067: 65 01        	adc	<R0
 26639 03:7069: 85 15        	sta	<L1187+pixelLocation1_1
 26640 03:706B: A5 07        	lda	<R1+2
 26641 03:706D: 65 03        	adc	<R0+2
 26642 03:706F: 85 17        	sta	<L1187+pixelLocation1_1+2
 26643 03:7071: A0 00 00     	ldy	#$0
 26644 03:7074: A5 2C        	lda	<L1186+x1_0
 26645 03:7076: 10 01        	bpl	L1194
 26646 03:7078: 88           	dey
 26647                        L1194:
 26648 03:7079: 85 01        	sta	<R0
 26649 03:707B: 84 03        	sty	<R0+2
 26650 03:707D: A0 00 00     	ldy	#$0
 26651 03:7080: A5 2E        	lda	<L1186+y1_0
 26652 03:7082: 10 01        	bpl	L1195
 26653 03:7084: 88           	dey
 26654                        L1195:
 26655 03:7085: 85 05        	sta	<R1
 26656 03:7087: 84 07        	sty	<R1+2
 26657 03:7089: F4 00 00     	pea	#^$280
 26658 03:708C: F4 80 02     	pea	#<$280
 26659 03:708F: D4 07        	pei	<R1+2
 26660 03:7091: D4 05        	pei	<R1
 26661                        	xref	~~~lmul
 26662 03:7093: 22 xx xx xx  	jsl	~~~lmul
 26663 03:7097: 85 05        	sta	<R1
 26664 03:7099: 86 07        	stx	<R1+2
 26665 03:709B: 18           	clc
 26666 03:709C: A5 05        	lda	<R1
 26667 03:709E: 65 01        	adc	<R0
 26668 03:70A0: 85 19        	sta	<L1187+pixelLocationD_1
 26669 03:70A2: A5 07        	lda	<R1+2
 26670 03:70A4: 65 03        	adc	<R0+2
 26671 03:70A6: 85 1B        	sta	<L1187+pixelLocationD_1+2
 26672 03:70A8: A0 00 00     	ldy	#$0
 26673 03:70AB: A5 28        	lda	<L1186+width_0
 26674 03:70AD: 10 01        	bpl	L1196
 26675 03:70AF: 88           	dey
 26676                        L1196:
 26677 03:70B0: 85 1D        	sta	<L1187+difference_1
 26678 03:70B2: 84 1F        	sty	<L1187+difference_1+2
 26679                        	.line	4415
 26680 03:70B4: A0 00 00     	ldy	#$0
 26681 03:70B7: A5 26        	lda	<L1186+y0_0
 26682 03:70B9: 10 01        	bpl	L1197
 26683 03:70BB: 88           	dey
 26684                        L1197:
 26685 03:70BC: 85 09        	sta	<L1187+dy_1
 26686 03:70BE: 84 0B        	sty	<L1187+dy_1+2
 26687 03:70C0: 82 BA 00     	brl	L10483
 26688                        L10482:
 26689                        ;	{
 26690                        	.line	4416
 26691                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
  Thu Dec  3 2020 22:25                                                Page 491


 26692                        	.line	4417
 26693 03:70C3: A0 00 00     	ldy	#$0
 26694 03:70C6: A5 24        	lda	<L1186+x0_0
 26695 03:70C8: 10 01        	bpl	L1198
 26696 03:70CA: 88           	dey
 26697                        L1198:
 26698 03:70CB: 85 01        	sta	<R0
 26699 03:70CD: 84 03        	sty	<R0+2
 26700 03:70CF: F4 00 00     	pea	#^$280
 26701 03:70D2: F4 80 02     	pea	#<$280
 26702 03:70D5: D4 0B        	pei	<L1187+dy_1+2
 26703 03:70D7: D4 09        	pei	<L1187+dy_1
 26704                        	xref	~~~lmul
 26705 03:70D9: 22 xx xx xx  	jsl	~~~lmul
 26706 03:70DD: 85 05        	sta	<R1
 26707 03:70DF: 86 07        	stx	<R1+2
 26708 03:70E1: 18           	clc
 26709 03:70E2: A5 05        	lda	<R1
 26710 03:70E4: 65 01        	adc	<R0
 26711 03:70E6: 85 11        	sta	<L1187+pixelLocation0_1
 26712 03:70E8: A5 07        	lda	<R1+2
 26713 03:70EA: 65 03        	adc	<R0+2
 26714 03:70EC: 85 13        	sta	<L1187+pixelLocation0_1+2
 26715                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 26716                        	.line	4418
 26717 03:70EE: A0 00 00     	ldy	#$0
 26718 03:70F1: A5 2C        	lda	<L1186+x1_0
 26719 03:70F3: 10 01        	bpl	L1199
 26720 03:70F5: 88           	dey
 26721                        L1199:
 26722 03:70F6: 85 01        	sta	<R0
 26723 03:70F8: 84 03        	sty	<R0+2
 26724 03:70FA: F4 00 00     	pea	#^$280
 26725 03:70FD: F4 80 02     	pea	#<$280
 26726 03:7100: D4 0F        	pei	<L1187+dd_1+2
 26727 03:7102: D4 0D        	pei	<L1187+dd_1
 26728                        	xref	~~~lmul
 26729 03:7104: 22 xx xx xx  	jsl	~~~lmul
 26730 03:7108: 85 05        	sta	<R1
 26731 03:710A: 86 07        	stx	<R1+2
 26732 03:710C: 18           	clc
 26733 03:710D: A5 05        	lda	<R1
 26734 03:710F: 65 01        	adc	<R0
 26735 03:7111: 85 19        	sta	<L1187+pixelLocationD_1
 26736 03:7113: A5 07        	lda	<R1+2
 26737 03:7115: 65 03        	adc	<R0+2
 26738 03:7117: 85 1B        	sta	<L1187+pixelLocationD_1+2
 26739                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 26740                        	.line	4419
 26741 03:7119: D4 1D        	pei	<L1187+difference_1
 26742 03:711B: 18           	clc
 26743 03:711C: A9 00 00     	lda	#$0
 26744 03:711F: 65 11        	adc	<L1187+pixelLocation0_1
 26745 03:7121: 85 01        	sta	<R0
 26746 03:7123: A9 0F 00     	lda	#$f
 26747 03:7126: 65 13        	adc	<L1187+pixelLocation0_1+2
  Thu Dec  3 2020 22:25                                                Page 492


 26748 03:7128: 85 03        	sta	<R0+2
 26749 03:712A: D4 03        	pei	<R0+2
 26750 03:712C: D4 01        	pei	<R0
 26751 03:712E: 18           	clc
 26752 03:712F: A9 00 00     	lda	#$0
 26753 03:7132: 65 19        	adc	<L1187+pixelLocationD_1
 26754 03:7134: 85 05        	sta	<R1
 26755 03:7136: A9 B0 00     	lda	#$b0
 26756 03:7139: 65 1B        	adc	<L1187+pixelLocationD_1+2
 26757 03:713B: 85 07        	sta	<R1+2
 26758 03:713D: D4 07        	pei	<R1+2
 26759 03:713F: D4 05        	pei	<R1
 26760 03:7141: 22 xx xx xx  	jsl	~~memcpy
 26761                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 26762                        	.line	4420
 26763 03:7145: D4 1D        	pei	<L1187+difference_1
 26764 03:7147: 18           	clc
 26765 03:7148: A9 00 00     	lda	#$0
 26766 03:714B: 65 11        	adc	<L1187+pixelLocation0_1
 26767 03:714D: 85 01        	sta	<R0
 26768 03:714F: A9 0F 00     	lda	#$f
 26769 03:7152: 65 13        	adc	<L1187+pixelLocation0_1+2
 26770 03:7154: 85 03        	sta	<R0+2
 26771 03:7156: D4 03        	pei	<R0+2
 26772 03:7158: D4 01        	pei	<R0
 26773 03:715A: 18           	clc
 26774 03:715B: A9 00 00     	lda	#$0
 26775 03:715E: 65 19        	adc	<L1187+pixelLocationD_1
 26776 03:7160: 85 05        	sta	<R1
 26777 03:7162: A9 0A 00     	lda	#$a
 26778 03:7165: 65 1B        	adc	<L1187+pixelLocationD_1+2
 26779 03:7167: 85 07        	sta	<R1+2
 26780 03:7169: D4 07        	pei	<R1+2
 26781 03:716B: D4 05        	pei	<R1
 26782 03:716D: 22 xx xx xx  	jsl	~~memcpy
 26783                        ;
 26784                        ;		dd++;
 26785                        	.line	4422
 26786 03:7171: E6 0D        	inc	<L1187+dd_1
 26787 03:7173: D0 02        	bne	L1200
 26788 03:7175: E6 0F        	inc	<L1187+dd_1+2
 26789                        L1200:
 26790                        ;	}
 26791                        	.line	4423
 26792                        L10480:
 26793 03:7177: E6 09        	inc	<L1187+dy_1
 26794 03:7179: D0 02        	bne	L1201
 26795 03:717B: E6 0B        	inc	<L1187+dy_1+2
 26796                        L1201:
 26797                        L10483:
 26798 03:717D: 18           	clc
 26799 03:717E: A5 26        	lda	<L1186+y0_0
 26800 03:7180: 65 2A        	adc	<L1186+height_0
 26801 03:7182: 85 01        	sta	<R0
 26802 03:7184: A0 00 00     	ldy	#$0
 26803 03:7187: A5 01        	lda	<R0
 26804 03:7189: 10 01        	bpl	L1202
  Thu Dec  3 2020 22:25                                                Page 493


 26805 03:718B: 88           	dey
 26806                        L1202:
 26807 03:718C: 85 01        	sta	<R0
 26808 03:718E: 84 03        	sty	<R0+2
 26809 03:7190: 38           	sec
 26810 03:7191: A5 09        	lda	<L1187+dy_1
 26811 03:7193: E5 01        	sbc	<R0
 26812 03:7195: A5 0B        	lda	<L1187+dy_1+2
 26813 03:7197: E5 03        	sbc	<R0+2
 26814 03:7199: 70 03        	bvs	L1203
 26815 03:719B: 49 00 80     	eor	#$8000
 26816                        L1203:
 26817 03:719E: 30 03        	bmi	L1204
 26818 03:71A0: 82 20 FF     	brl	L10482
 26819                        L1204:
 26820                        L10481:
 26821                        ;
 26822                        ;}
 26823                        	.line	4425
 26824                        L1205:
 26825 03:71A3: A5 22        	lda	<L1186+2
 26826 03:71A5: 85 2E        	sta	<L1186+2+12
 26827 03:71A7: A5 21        	lda	<L1186+1
 26828 03:71A9: 85 2D        	sta	<L1186+1+12
 26829 03:71AB: 2B           	pld
 26830 03:71AC: 3B           	tsc
 26831 03:71AD: 18           	clc
 26832 03:71AE: 69 2C 00     	adc	#L1186+12
 26833 03:71B1: 1B           	tcs
 26834 03:71B2: 6B           	rtl
 26835                        	.endblock	4425
 26836             00000020   L1186	equ	32
 26837             00000009   L1187	equ	9
 26838 03:71B3:              	ends
 26839                        	efunc
 26840                        	.endfunc	4425,9,32
 26841                        	.line	4425
 26842                        ;
 26843                        ;
 26844                        ;UINT k_font_getFontHeight(void)
 26845                        ;{
 26846                        	.line	4428
 26847                        	.line	4429
 26848                        	GUI
 26849                        	xdef	~~k_font_getFontHeight
 26850                        	func
 26851                        	.function	4429
 26852                        ~~k_font_getFontHeight:
 26853                        	longa	on
 26854                        	longi	on
 26855 03:71B3: 3B           	tsc
 26856 03:71B4: 38           	sec
 26857 03:71B5: E9 00 00     	sbc	#L1206
 26858 03:71B8: 1B           	tcs
 26859 03:71B9: 0B           	phd
 26860 03:71BA: 5B           	tcd
 26861                        	.block	4429
 26862                        ;	return 8;
  Thu Dec  3 2020 22:25                                                Page 494


 26863                        	.line	4430
 26864 03:71BB: A9 08 00     	lda	#$8
 26865                        L1209:
 26866 03:71BE: A8           	tay
 26867 03:71BF: 2B           	pld
 26868 03:71C0: 3B           	tsc
 26869 03:71C1: 18           	clc
 26870 03:71C2: 69 00 00     	adc	#L1206
 26871 03:71C5: 1B           	tcs
 26872 03:71C6: 98           	tya
 26873 03:71C7: 6B           	rtl
 26874                        ;}
 26875                        	.line	4431
 26876                        	.endblock	4431
 26877             00000000   L1206	equ	0
 26878             00000001   L1207	equ	1
 26879 03:71C8:              	ends
 26880                        	efunc
 26881                        	.endfunc	4431,1,0
 26882                        	.line	4431
 26883                        ;
 26884                        ;UINT k_font_getFontWidth(void)
 26885                        ;{
 26886                        	.line	4433
 26887                        	.line	4434
 26888                        	GUI
 26889                        	xdef	~~k_font_getFontWidth
 26890                        	func
 26891                        	.function	4434
 26892                        ~~k_font_getFontWidth:
 26893                        	longa	on
 26894                        	longi	on
 26895 03:71C8: 3B           	tsc
 26896 03:71C9: 38           	sec
 26897 03:71CA: E9 00 00     	sbc	#L1210
 26898 03:71CD: 1B           	tcs
 26899 03:71CE: 0B           	phd
 26900 03:71CF: 5B           	tcd
 26901                        	.block	4434
 26902                        ;	return 8;
 26903                        	.line	4435
 26904 03:71D0: A9 08 00     	lda	#$8
 26905                        L1213:
 26906 03:71D3: A8           	tay
 26907 03:71D4: 2B           	pld
 26908 03:71D5: 3B           	tsc
 26909 03:71D6: 18           	clc
 26910 03:71D7: 69 00 00     	adc	#L1210
 26911 03:71DA: 1B           	tcs
 26912 03:71DB: 98           	tya
 26913 03:71DC: 6B           	rtl
 26914                        ;}
 26915                        	.line	4436
 26916                        	.endblock	4436
 26917             00000000   L1210	equ	0
 26918             00000001   L1211	equ	1
 26919 03:71DD:              	ends
 26920                        	efunc
  Thu Dec  3 2020 22:25                                                Page 495


 26921                        	.endfunc	4436,1,0
 26922                        	.line	4436
 26923                        ;
 26924                        ;VOID k_gui_set_mousepointer(UINT index,LPVOID poi
                    nterData)
 26925                        ;{
 26926                        	.line	4438
 26927                        	.line	4439
 26928                        	GUI
 26929                        	xdef	~~k_gui_set_mousepointer
 26930                        	func
 26931                        	.function	4439
 26932                        ~~k_gui_set_mousepointer:
 26933                        	longa	on
 26934                        	longi	on
 26935 03:71DD: 3B           	tsc
 26936 03:71DE: 38           	sec
 26937 03:71DF: E9 04 00     	sbc	#L1214
 26938 03:71E2: 1B           	tcs
 26939 03:71E3: 0B           	phd
 26940 03:71E4: 5B           	tcd
 26941             00000004   index_0	set	4
 26942             00000006   pointerData_0	set	6
 26943                        	.block	4439
 26944                        ;	LPVOID pData = NULL;
 26945                        ;
 26946                        ;	if(index == 0 || index == 1)
 26947             00000000   pData_1	set	0
 26948                        	.sym	pData,0,129,1,32
 26949                        	.sym	index,4,16,6,16
 26950                        	.sym	pointerData,6,129,6,32
 26951 03:71E5: 64 01        	stz	<L1215+pData_1
 26952 03:71E7: 64 03        	stz	<L1215+pData_1+2
 26953                        	.line	4442
 26954                        ;	{
 26955 03:71E9: A5 08        	lda	<L1214+index_0
 26956 03:71EB: D0 03        	bne	L1218
 26957 03:71ED: 82 0A 00     	brl	L1217
 26958                        L1218:
 26959 03:71F0: A5 08        	lda	<L1214+index_0
 26960 03:71F2: C9 01 00     	cmp	#<$1
 26961 03:71F5: F0 03        	beq	L1219
 26962 03:71F7: 82 38 00     	brl	L10484
 26963                        L1219:
 26964                        L1217:
 26965                        	.line	4443
 26966                        ;		//*MOUSE_PTR_CTRL_REG_H = 0x00;
 26967                        ;		//*MOUSE_PTR_CTRL_REG_L = index;
 26968                        ;
 26969                        ;		memcpy( MOUSE_PTR_GRAP0_START,pointerDat
                    a,sizeof(MOUSE_POINTER_ARROW));
 26970                        	.line	4447
 26971 03:71FA: F4 00 01     	pea	#<$100
 26972 03:71FD: D4 0C        	pei	<L1214+pointerData_0+2
 26973 03:71FF: D4 0A        	pei	<L1214+pointerData_0
 26974 03:7201: F4 AF 00     	pea	#^$af0500
 26975 03:7204: F4 00 05     	pea	#<$af0500
 26976 03:7207: 22 xx xx xx  	jsl	~~memcpy
  Thu Dec  3 2020 22:25                                                Page 496


 26977                        ;		memcpy( MOUSE_PTR_GRAP1_START,MOUSE_POIN
                    TER_HOURGLASS,sizeof(MOUSE_POINTER_ARROW));
 26978                        	.line	4448
 26979 03:720B: F4 00 01     	pea	#<$100
 26980 03:720E: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 26981 03:7211: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 26982 03:7214: F4 AF 00     	pea	#^$af0600
 26983 03:7217: F4 00 06     	pea	#<$af0600
 26984 03:721A: 22 xx xx xx  	jsl	~~memcpy
 26985                        ;
 26986                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 26987                        	.line	4450
 26988 03:721E: E2 20        	sep	#$20
 26989                        	longa	off
 26990 03:7220: A9 00        	lda	#$0
 26991 03:7222: 8F 01 07 AF  	sta	>11470593
 26992 03:7226: C2 20        	rep	#$20
 26993                        	longa	on
 26994                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 26995                        	.line	4451
 26996 03:7228: E2 20        	sep	#$20
 26997                        	longa	off
 26998 03:722A: A9 01        	lda	#$1
 26999 03:722C: 8F 00 07 AF  	sta	>11470592
 27000 03:7230: C2 20        	rep	#$20
 27001                        	longa	on
 27002                        ;	}
 27003                        	.line	4452
 27004                        ;}
 27005                        L10484:
 27006                        	.line	4453
 27007                        L1220:
 27008 03:7232: A5 06        	lda	<L1214+2
 27009 03:7234: 85 0C        	sta	<L1214+2+6
 27010 03:7236: A5 05        	lda	<L1214+1
 27011 03:7238: 85 0B        	sta	<L1214+1+6
 27012 03:723A: 2B           	pld
 27013 03:723B: 3B           	tsc
 27014 03:723C: 18           	clc
 27015 03:723D: 69 0A 00     	adc	#L1214+6
 27016 03:7240: 1B           	tcs
 27017 03:7241: 6B           	rtl
 27018                        	.endblock	4453
 27019             00000004   L1214	equ	4
 27020             00000001   L1215	equ	1
 27021 03:7242:              	ends
 27022                        	efunc
 27023                        	.endfunc	4453,1,4
 27024                        	.line	4453
 27025                        ;
 27026                        ;VOID k_gui_init_mousepointer(BOOL enable)
 27027                        ;{
 27028                        	.line	4455
 27029                        	.line	4456
 27030                        	GUI
 27031                        	xdef	~~k_gui_init_mousepointer
 27032                        	func
 27033                        	.function	4456
  Thu Dec  3 2020 22:25                                                Page 497


 27034                        ~~k_gui_init_mousepointer:
 27035                        	longa	on
 27036                        	longi	on
 27037 03:7242: 3B           	tsc
 27038 03:7243: 38           	sec
 27039 03:7244: E9 00 00     	sbc	#L1221
 27040 03:7247: 1B           	tcs
 27041 03:7248: 0B           	phd
 27042 03:7249: 5B           	tcd
 27043             00000004   enable_0	set	4
 27044                        	.block	4456
 27045                        ;	if(enable)
 27046                        	.sym	enable,4,14,6,8
 27047                        	.line	4457
 27048                        ;	{
 27049 03:724A: A5 04        	lda	<L1221+enable_0
 27050 03:724C: 29 FF 00     	and	#$ff
 27051 03:724F: D0 03        	bne	L1224
 27052 03:7251: 82 3D 00     	brl	L10485
 27053                        L1224:
 27054                        	.line	4458
 27055                        ;		//MOUSE_POINTER_HELP
 27056                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 27057                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 27058                        ;
 27059                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 27060                        	.line	4463
 27061 03:7254: F4 00 01     	pea	#<$100
 27062 03:7257: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 27063 03:725A: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 27064 03:725D: F4 AF 00     	pea	#^$af0500
 27065 03:7260: F4 00 05     	pea	#<$af0500
 27066 03:7263: 22 xx xx xx  	jsl	~~memcpy
 27067                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_HOURGLASS,sizeof(MOUSE_POINTER_HOURGLASS));
 27068                        	.line	4464
 27069 03:7267: F4 00 01     	pea	#<$100
 27070 03:726A: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 27071 03:726D: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 27072 03:7270: F4 AF 00     	pea	#^$af0600
 27073 03:7273: F4 00 06     	pea	#<$af0600
 27074 03:7276: 22 xx xx xx  	jsl	~~memcpy
 27075                        ;
 27076                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 27077                        	.line	4466
 27078 03:727A: E2 20        	sep	#$20
 27079                        	longa	off
 27080 03:727C: A9 00        	lda	#$0
 27081 03:727E: 8F 01 07 AF  	sta	>11470593
 27082 03:7282: C2 20        	rep	#$20
 27083                        	longa	on
 27084                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 27085                        	.line	4467
 27086 03:7284: E2 20        	sep	#$20
 27087                        	longa	off
  Thu Dec  3 2020 22:25                                                Page 498


 27088 03:7286: A9 01        	lda	#$1
 27089 03:7288: 8F 00 07 AF  	sta	>11470592
 27090 03:728C: C2 20        	rep	#$20
 27091                        	longa	on
 27092                        ;	}
 27093                        	.line	4468
 27094                        ;	else
 27095 03:728E: 82 3A 00     	brl	L10486
 27096                        L10485:
 27097                        ;	{
 27098                        	.line	4470
 27099                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 27100                        	.line	4471
 27101 03:7291: F4 00 01     	pea	#<$100
 27102 03:7294: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 27103 03:7297: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 27104 03:729A: F4 AF 00     	pea	#^$af0500
 27105 03:729D: F4 00 05     	pea	#<$af0500
 27106 03:72A0: 22 xx xx xx  	jsl	~~memcpy
 27107                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 27108                        	.line	4472
 27109 03:72A4: F4 00 01     	pea	#<$100
 27110 03:72A7: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 27111 03:72AA: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 27112 03:72AD: F4 AF 00     	pea	#^$af0600
 27113 03:72B0: F4 00 06     	pea	#<$af0600
 27114 03:72B3: 22 xx xx xx  	jsl	~~memcpy
 27115                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 27116                        	.line	4473
 27117 03:72B7: E2 20        	sep	#$20
 27118                        	longa	off
 27119 03:72B9: A9 00        	lda	#$0
 27120 03:72BB: 8F 01 07 AF  	sta	>11470593
 27121 03:72BF: C2 20        	rep	#$20
 27122                        	longa	on
 27123                        ;		*MOUSE_PTR_CTRL_REG_L = 0x00;
 27124                        	.line	4474
 27125 03:72C1: E2 20        	sep	#$20
 27126                        	longa	off
 27127 03:72C3: A9 00        	lda	#$0
 27128 03:72C5: 8F 00 07 AF  	sta	>11470592
 27129 03:72C9: C2 20        	rep	#$20
 27130                        	longa	on
 27131                        ;	}
 27132                        	.line	4475
 27133                        L10486:
 27134                        ;}
 27135                        	.line	4476
 27136                        L1225:
 27137 03:72CB: A5 02        	lda	<L1221+2
 27138 03:72CD: 85 04        	sta	<L1221+2+2
 27139 03:72CF: A5 01        	lda	<L1221+1
 27140 03:72D1: 85 03        	sta	<L1221+1+2
 27141 03:72D3: 2B           	pld
 27142 03:72D4: 3B           	tsc
 27143 03:72D5: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 499


 27144 03:72D6: 69 02 00     	adc	#L1221+2
 27145 03:72D9: 1B           	tcs
 27146 03:72DA: 6B           	rtl
 27147                        	.endblock	4476
 27148             00000000   L1221	equ	0
 27149             00000001   L1222	equ	1
 27150 03:72DB:              	ends
 27151                        	efunc
 27152                        	.endfunc	4476,1,0
 27153                        	.line	4476
 27154                        ;
 27155                        ;void k_vdma_copy_address_ex(char FAR * pdst,char 
                    FAR * psrc,int width,int height)
 27156                        ;{
 27157                        	.line	4478
 27158                        	.line	4479
 27159                        	GUI
 27160                        	xdef	~~k_vdma_copy_address_ex
 27161                        	func
 27162                        	.function	4479
 27163                        ~~k_vdma_copy_address_ex:
 27164                        	longa	on
 27165                        	longi	on
 27166 03:72DB: 3B           	tsc
 27167 03:72DC: 38           	sec
 27168 03:72DD: E9 0D 00     	sbc	#L1226
 27169 03:72E0: 1B           	tcs
 27170 03:72E1: 0B           	phd
 27171 03:72E2: 5B           	tcd
 27172             00000004   pdst_0	set	4
 27173             00000008   psrc_0	set	8
 27174             0000000C   width_0	set	12
 27175             0000000E   height_0	set	14
 27176                        	.block	4479
 27177                        ;	int pos = 0;
 27178                        ;	UINT spinLock = 0;
 27179                        ;	char status = VDMA_STAT_VDMA_IPS;
 27180                        ;
 27181                        ;
 27182                        ;	k_debug_pointer("k_vdma_copy_address_ex::src  of
                    fset:",psrc);
 27183             00000000   pos_1	set	0
 27184             00000002   spinLock_1	set	2
 27185             00000004   status_1	set	4
 27186                        	.sym	pos,0,5,1,16
 27187                        	.sym	spinLock,2,16,1,16
 27188                        	.sym	status,4,14,1,8
 27189                        	.sym	pdst,4,142,6,32
 27190                        	.sym	psrc,8,142,6,32
 27191                        	.sym	width,12,5,6,16
 27192                        	.sym	height,14,5,6,16
 27193 03:72E3: 64 09        	stz	<L1227+pos_1
 27194 03:72E5: 64 0B        	stz	<L1227+spinLock_1
 27195 03:72E7: E2 20        	sep	#$20
 27196                        	longa	off
 27197 03:72E9: A9 80        	lda	#$80
 27198 03:72EB: 85 0D        	sta	<L1227+status_1
 27199 03:72ED: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 500


 27200                        	longa	on
 27201                        	.line	4485
 27202 03:72EF: D4 17        	pei	<L1226+psrc_0+2
 27203 03:72F1: D4 15        	pei	<L1226+psrc_0
 27204 03:72F3: F4 xx xx     	pea	#^L1126
 27205 03:72F6: F4 xx xx     	pea	#<L1126
 27206 03:72F9: 22 xx xx xx  	jsl	~~k_debug_pointer
 27207                        ;	k_debug_pointer("k_vdma_copy_address_ex::dest of
                    fset:",pdst);
 27208                        	.line	4486
 27209 03:72FD: D4 13        	pei	<L1226+pdst_0+2
 27210 03:72FF: D4 11        	pei	<L1226+pdst_0
 27211 03:7301: F4 xx xx     	pea	#^L1126+37
 27212 03:7304: F4 xx xx     	pea	#<L1126+37
 27213 03:7307: 22 xx xx xx  	jsl	~~k_debug_pointer
 27214                        ;
 27215                        ;	k_debug_integer("k_vdma_copy_address_ex::width:"
                    ,width);
 27216                        	.line	4488
 27217 03:730B: D4 19        	pei	<L1226+width_0
 27218 03:730D: F4 xx xx     	pea	#^L1126+74
 27219 03:7310: F4 xx xx     	pea	#<L1126+74
 27220 03:7313: 22 xx xx xx  	jsl	~~k_debug_integer
 27221                        ;	k_debug_integer("k_vdma_copy_address_ex::height:
                    ",height);
 27222                        	.line	4489
 27223 03:7317: D4 1B        	pei	<L1226+height_0
 27224 03:7319: F4 xx xx     	pea	#^L1126+105
 27225 03:731C: F4 xx xx     	pea	#<L1126+105
 27226 03:731F: 22 xx xx xx  	jsl	~~k_debug_integer
 27227                        ;
 27228                        ;
 27229                        ;
 27230                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D );
 27231                        	.line	4493
 27232 03:7323: E2 20        	sep	#$20
 27233                        	longa	off
 27234 03:7325: A9 03        	lda	#$3
 27235 03:7327: 8F 00 04 AF  	sta	>11469824
 27236 03:732B: C2 20        	rep	#$20
 27237                        	longa	on
 27238                        ;
 27239                        ;	VDMA_SRC_ADDY_L[0] = L24BYTE((long)psrc);
 27240                        	.line	4495
 27241 03:732D: E2 20        	sep	#$20
 27242                        	longa	off
 27243 03:732F: A5 15        	lda	<L1226+psrc_0
 27244 03:7331: 8F 02 04 AF  	sta	>11469826
 27245 03:7335: C2 20        	rep	#$20
 27246                        	longa	on
 27247                        ;	VDMA_SRC_ADDY_M[0] = M24BYTE((long)psrc);
 27248                        	.line	4496
 27249 03:7337: D4 17        	pei	<L1226+psrc_0+2
 27250 03:7339: D4 15        	pei	<L1226+psrc_0
 27251 03:733B: A9 08 00     	lda	#$8
 27252                        	xref	~~~llsr
 27253 03:733E: 22 xx xx xx  	jsl	~~~llsr
  Thu Dec  3 2020 22:25                                                Page 501


 27254 03:7342: 85 01        	sta	<R0
 27255 03:7344: 86 03        	stx	<R0+2
 27256 03:7346: A5 01        	lda	<R0
 27257 03:7348: 29 FF 00     	and	#<$ff
 27258 03:734B: 85 05        	sta	<R1
 27259 03:734D: 64 07        	stz	<R1+2
 27260 03:734F: E2 20        	sep	#$20
 27261                        	longa	off
 27262 03:7351: A5 05        	lda	<R1
 27263 03:7353: 8F 03 04 AF  	sta	>11469827
 27264 03:7357: C2 20        	rep	#$20
 27265                        	longa	on
 27266                        ;	VDMA_SRC_ADDY_H[0] = H24BYTE((long)psrc);
 27267                        	.line	4497
 27268 03:7359: D4 17        	pei	<L1226+psrc_0+2
 27269 03:735B: D4 15        	pei	<L1226+psrc_0
 27270 03:735D: A9 10 00     	lda	#$10
 27271                        	xref	~~~llsr
 27272 03:7360: 22 xx xx xx  	jsl	~~~llsr
 27273 03:7364: 85 01        	sta	<R0
 27274 03:7366: 86 03        	stx	<R0+2
 27275 03:7368: A5 01        	lda	<R0
 27276 03:736A: 29 FF 00     	and	#<$ff
 27277 03:736D: 85 05        	sta	<R1
 27278 03:736F: 64 07        	stz	<R1+2
 27279 03:7371: E2 20        	sep	#$20
 27280                        	longa	off
 27281 03:7373: A5 05        	lda	<R1
 27282 03:7375: 8F 04 04 AF  	sta	>11469828
 27283 03:7379: C2 20        	rep	#$20
 27284                        	longa	on
 27285                        ;
 27286                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 27287                        	.line	4499
 27288 03:737B: E2 20        	sep	#$20
 27289                        	longa	off
 27290 03:737D: A5 11        	lda	<L1226+pdst_0
 27291 03:737F: 8F 05 04 AF  	sta	>11469829
 27292 03:7383: C2 20        	rep	#$20
 27293                        	longa	on
 27294                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 27295                        	.line	4500
 27296 03:7385: D4 13        	pei	<L1226+pdst_0+2
 27297 03:7387: D4 11        	pei	<L1226+pdst_0
 27298 03:7389: A9 08 00     	lda	#$8
 27299                        	xref	~~~llsr
 27300 03:738C: 22 xx xx xx  	jsl	~~~llsr
 27301 03:7390: 85 01        	sta	<R0
 27302 03:7392: 86 03        	stx	<R0+2
 27303 03:7394: A5 01        	lda	<R0
 27304 03:7396: 29 FF 00     	and	#<$ff
 27305 03:7399: 85 05        	sta	<R1
 27306 03:739B: 64 07        	stz	<R1+2
 27307 03:739D: E2 20        	sep	#$20
 27308                        	longa	off
 27309 03:739F: A5 05        	lda	<R1
 27310 03:73A1: 8F 06 04 AF  	sta	>11469830
 27311 03:73A5: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 502


 27312                        	longa	on
 27313                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 27314                        	.line	4501
 27315 03:73A7: D4 13        	pei	<L1226+pdst_0+2
 27316 03:73A9: D4 11        	pei	<L1226+pdst_0
 27317 03:73AB: A9 10 00     	lda	#$10
 27318                        	xref	~~~llsr
 27319 03:73AE: 22 xx xx xx  	jsl	~~~llsr
 27320 03:73B2: 85 01        	sta	<R0
 27321 03:73B4: 86 03        	stx	<R0+2
 27322 03:73B6: A5 01        	lda	<R0
 27323 03:73B8: 29 FF 00     	and	#<$ff
 27324 03:73BB: 85 05        	sta	<R1
 27325 03:73BD: 64 07        	stz	<R1+2
 27326 03:73BF: E2 20        	sep	#$20
 27327                        	longa	off
 27328 03:73C1: A5 05        	lda	<R1
 27329 03:73C3: 8F 07 04 AF  	sta	>11469831
 27330 03:73C7: C2 20        	rep	#$20
 27331                        	longa	on
 27332                        ;
 27333                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 27334                        	.line	4503
 27335 03:73C9: E2 20        	sep	#$20
 27336                        	longa	off
 27337 03:73CB: A5 19        	lda	<L1226+width_0
 27338 03:73CD: 8F 08 04 AF  	sta	>11469832
 27339 03:73D1: C2 20        	rep	#$20
 27340                        	longa	on
 27341                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 27342                        	.line	4504
 27343 03:73D3: A5 19        	lda	<L1226+width_0
 27344 03:73D5: A2 08 00     	ldx	#<$8
 27345                        	xref	~~~asr
 27346 03:73D8: 22 xx xx xx  	jsl	~~~asr
 27347 03:73DC: 29 FF 00     	and	#<$ff
 27348 03:73DF: 85 01        	sta	<R0
 27349 03:73E1: E2 20        	sep	#$20
 27350                        	longa	off
 27351 03:73E3: A5 01        	lda	<R0
 27352 03:73E5: 8F 09 04 AF  	sta	>11469833
 27353 03:73E9: C2 20        	rep	#$20
 27354                        	longa	on
 27355                        ;
 27356                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 27357                        	.line	4506
 27358 03:73EB: E2 20        	sep	#$20
 27359                        	longa	off
 27360 03:73ED: A5 1B        	lda	<L1226+height_0
 27361 03:73EF: 8F 0A 04 AF  	sta	>11469834
 27362 03:73F3: C2 20        	rep	#$20
 27363                        	longa	on
 27364                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 27365                        	.line	4507
 27366 03:73F5: A5 1B        	lda	<L1226+height_0
 27367 03:73F7: A2 08 00     	ldx	#<$8
 27368                        	xref	~~~asr
 27369 03:73FA: 22 xx xx xx  	jsl	~~~asr
  Thu Dec  3 2020 22:25                                                Page 503


 27370 03:73FE: 29 FF 00     	and	#<$ff
 27371 03:7401: 85 01        	sta	<R0
 27372 03:7403: E2 20        	sep	#$20
 27373                        	longa	off
 27374 03:7405: A5 01        	lda	<R0
 27375 03:7407: 8F 0B 04 AF  	sta	>11469835
 27376 03:740B: C2 20        	rep	#$20
 27377                        	longa	on
 27378                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 27379                        	.line	4508
 27380 03:740D: E2 20        	sep	#$20
 27381                        	longa	off
 27382 03:740F: A9 00        	lda	#$0
 27383 03:7411: 8F 0C 04 AF  	sta	>11469836
 27384 03:7415: C2 20        	rep	#$20
 27385                        	longa	on
 27386                        ;
 27387                        ;
 27388                        ;	*VDMA_SRC_STRIDE_L  = 0x80;
 27389                        	.line	4511
 27390 03:7417: E2 20        	sep	#$20
 27391                        	longa	off
 27392 03:7419: A9 80        	lda	#$80
 27393 03:741B: 8F 0C 04 AF  	sta	>11469836
 27394 03:741F: C2 20        	rep	#$20
 27395                        	longa	on
 27396                        ;	*VDMA_SRC_STRIDE_H  = 0x02;
 27397                        	.line	4512
 27398 03:7421: E2 20        	sep	#$20
 27399                        	longa	off
 27400 03:7423: A9 02        	lda	#$2
 27401 03:7425: 8F 0D 04 AF  	sta	>11469837
 27402 03:7429: C2 20        	rep	#$20
 27403                        	longa	on
 27404                        ;
 27405                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 27406                        	.line	4514
 27407 03:742B: E2 20        	sep	#$20
 27408                        	longa	off
 27409 03:742D: A9 80        	lda	#$80
 27410 03:742F: 8F 0E 04 AF  	sta	>11469838
 27411 03:7433: C2 20        	rep	#$20
 27412                        	longa	on
 27413                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 27414                        	.line	4515
 27415 03:7435: E2 20        	sep	#$20
 27416                        	longa	off
 27417 03:7437: A9 02        	lda	#$2
 27418 03:7439: 8F 0F 04 AF  	sta	>11469839
 27419 03:743D: C2 20        	rep	#$20
 27420                        	longa	on
 27421                        ;
 27422                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_START_TRF);
 27423                        	.line	4517
 27424 03:743F: E2 20        	sep	#$20
 27425                        	longa	off
 27426 03:7441: A9 83        	lda	#$83
  Thu Dec  3 2020 22:25                                                Page 504


 27427 03:7443: 8F 00 04 AF  	sta	>11469824
 27428 03:7447: C2 20        	rep	#$20
 27429                        	longa	on
 27430                        ;
 27431                        ;    asm NOP;
 27432                        	.line	4519
 27433                        	asmstart
 27434 03:7449: EA           	NOP
 27435                        	asmend
 27436                        ;    asm NOP;
 27437                        	.line	4520
 27438                        	asmstart
 27439 03:744A: EA           	NOP
 27440                        	asmend
 27441                        ;    asm NOP;
 27442                        	.line	4521
 27443                        	asmstart
 27444 03:744B: EA           	NOP
 27445                        	asmend
 27446                        ;
 27447                        ;	while(status == VDMA_STAT_VDMA_IPS)
 27448                        	.line	4523
 27449                        L10487:
 27450 03:744C: E2 20        	sep	#$20
 27451                        	longa	off
 27452 03:744E: A5 0D        	lda	<L1227+status_1
 27453 03:7450: C9 80        	cmp	#<$80
 27454 03:7452: C2 20        	rep	#$20
 27455                        	longa	on
 27456 03:7454: F0 03        	beq	L1229
 27457 03:7456: 82 1E 00     	brl	L10488
 27458                        L1229:
 27459                        ;	{
 27460                        	.line	4524
 27461                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 27462                        	.line	4525
 27463 03:7459: E2 20        	sep	#$20
 27464                        	longa	off
 27465 03:745B: AF 01 04 AF  	lda	>11469825
 27466 03:745F: 29 80        	and	#<$80
 27467 03:7461: 85 0D        	sta	<L1227+status_1
 27468 03:7463: C2 20        	rep	#$20
 27469                        	longa	on
 27470                        ;		spinLock++;
 27471                        	.line	4526
 27472 03:7465: E6 0B        	inc	<L1227+spinLock_1
 27473                        ;
 27474                        ;		if(spinLock > 32000)
 27475                        	.line	4528
 27476                        ;		{
 27477 03:7467: A9 00 7D     	lda	#$7d00
 27478 03:746A: C5 0B        	cmp	<L1227+spinLock_1
 27479 03:746C: 90 03        	bcc	L1230
 27480 03:746E: 82 03 00     	brl	L10489
 27481                        L1230:
 27482                        	.line	4529
 27483                        ;			break;
  Thu Dec  3 2020 22:25                                                Page 505


 27484                        	.line	4530
 27485 03:7471: 82 03 00     	brl	L10488
 27486                        ;		}
 27487                        	.line	4531
 27488                        ;	}
 27489                        L10489:
 27490                        	.line	4532
 27491 03:7474: 82 D5 FF     	brl	L10487
 27492                        L10488:
 27493                        ;
 27494                        ;#ifdef USE_MAX_DEBUG
 27495                        ;	k_debug_integer("k_vdma_copy_address_ex::spinLoc
                    k:",spinLock);
 27496                        ;#endif
 27497                        ;
 27498                        ;	asm NOP;
 27499                        	.line	4538
 27500                        	asmstart
 27501 03:7477: EA           	NOP
 27502                        	asmend
 27503                        ;
 27504                        ;	VDMA_CONTROL_REG[0] = 0;
 27505                        	.line	4540
 27506 03:7478: E2 20        	sep	#$20
 27507                        	longa	off
 27508 03:747A: A9 00        	lda	#$0
 27509 03:747C: 8F 00 04 AF  	sta	>11469824
 27510 03:7480: C2 20        	rep	#$20
 27511                        	longa	on
 27512                        ;
 27513                        ;   return ;
 27514                        	.line	4542
 27515                        L1231:
 27516 03:7482: A5 0F        	lda	<L1226+2
 27517 03:7484: 85 1B        	sta	<L1226+2+12
 27518 03:7486: A5 0E        	lda	<L1226+1
 27519 03:7488: 85 1A        	sta	<L1226+1+12
 27520 03:748A: 2B           	pld
 27521 03:748B: 3B           	tsc
 27522 03:748C: 18           	clc
 27523 03:748D: 69 19 00     	adc	#L1226+12
 27524 03:7490: 1B           	tcs
 27525 03:7491: 6B           	rtl
 27526                        ;}
 27527                        	.line	4543
 27528                        	.endblock	4543
 27529             0000000D   L1226	equ	13
 27530             00000009   L1227	equ	9
 27531 03:7492:              	ends
 27532                        	efunc
 27533                        	.endfunc	4543,9,13
 27534                        	.line	4543
 27535                        	data
 27536                        L1126:
 27537 00:0DDE: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$63,$6F,$70,
                    $79,$5F,$61,$64,$64
       00:0DE2: 6D 61 5F 63 
       00:0DE6: 6F 70 79 5F 
  Thu Dec  3 2020 22:25                                                Page 506


       00:0DEA: 61 64 64 
 27538 00:0DED: 72 65 73 73  	db	$72,$65,$73,$73,$5F,$65,$78,$3A,$3A,$73,
                    $72,$63,$20,$20,$6F
       00:0DF1: 5F 65 78 3A 
       00:0DF5: 3A 73 72 63 
       00:0DF9: 20 20 6F 
 27539 00:0DFC: 66 66 73 65  	db	$66,$66,$73,$65,$74,$3A,$00,$6B,$5F,$76,
                    $64,$6D,$61,$5F,$63
       00:0E00: 74 3A 00 6B 
       00:0E04: 5F 76 64 6D 
       00:0E08: 61 5F 63 
 27540 00:0E0B: 6F 70 79 5F  	db	$6F,$70,$79,$5F,$61,$64,$64,$72,$65,$73,
                    $73,$5F,$65,$78,$3A
       00:0E0F: 61 64 64 72 
       00:0E13: 65 73 73 5F 
       00:0E17: 65 78 3A 
 27541 00:0E1A: 3A 64 65 73  	db	$3A,$64,$65,$73,$74,$20,$6F,$66,$66,$73,
                    $65,$74,$3A,$00,$6B
       00:0E1E: 74 20 6F 66 
       00:0E22: 66 73 65 74 
       00:0E26: 3A 00 6B 
 27542 00:0E29: 5F 76 64 6D  	db	$5F,$76,$64,$6D,$61,$5F,$63,$6F,$70,$79,
                    $5F,$61,$64,$64,$72
       00:0E2D: 61 5F 63 6F 
       00:0E31: 70 79 5F 61 
       00:0E35: 64 64 72 
 27543 00:0E38: 65 73 73 5F  	db	$65,$73,$73,$5F,$65,$78,$3A,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0E3C: 65 78 3A 3A 
       00:0E40: 77 69 64 74 
       00:0E44: 68 3A 00 
 27544 00:0E47: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$63,$6F,$70,
                    $79,$5F,$61,$64,$64
       00:0E4B: 6D 61 5F 63 
       00:0E4F: 6F 70 79 5F 
       00:0E53: 61 64 64 
 27545 00:0E56: 72 65 73 73  	db	$72,$65,$73,$73,$5F,$65,$78,$3A,$3A,$68,
                    $65,$69,$67,$68,$74
       00:0E5A: 5F 65 78 3A 
       00:0E5E: 3A 68 65 69 
       00:0E62: 67 68 74 
 27546 00:0E65: 3A 00        	db	$3A,$00
 27547 00:0E67:              	ends
 27548                        ;
 27549                        ;
 27550                        ;/*
 27551                        ;
 27552                        ;
 27553                        ;
 27554                        ;
 27555                        ; */
 27556                        ;
 27557                        	.line	4551
 27558                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",4478
 27559                        	xref	~~k_window_draw
 27560                        	xref	~~k_put_char
 27561                        	xref	~~k_clear_screen
  Thu Dec  3 2020 22:25                                                Page 507


 27562                        	xref	~~k_disable_border
 27563                        	xref	~~k_send_message
 27564                        	xref	~~k_user_getSystemMetric
 27565                        	xref	~~k_mem_deallocate_heap
 27566                        	xref	~~k_mem_allocate_heap
 27567                        	xref	~~k_pad_string
 27568                        	xref	~~k_itoa
 27569                        	xref	~~k_get_c256_minor_version
 27570                        	xref	~~k_get_c256_major_version
 27571                        	xref	~~k_get_fpga_date_year
 27572                        	xref	~~k_get_fpga_date_month
 27573                        	xref	~~k_get_fpga_date_day
 27574                        	xref	~~k_debug_rect
 27575                        	xref	~~k_debug_strings
 27576                        	xref	~~k_debug_message
 27577                        	xref	~~k_debug_long
 27578                        	xref	~~k_debug_integer
 27579                        	xref	~~k_debug_pointer
 27580                        	xref	~~k_debug_string
 27581                        	xref	~~k_nodelist_add
 27582                        	xref	~~k_nodelist_create
 27583                        	xref	~~k_nodelist_init
 27584                        	xref	~~toupper
 27585                        	xref	~~strupr
 27586                        	xref	~~strlen
 27587                        	xref	~~strcpy
 27588                        	xref	~~memset
 27589                        	xref	~~memcpy
 27590                        	xref	~~abs
 27591                        	udata
 27592                        	xdef	~~_k_window_list
 27593                        ~~_k_window_list
 27594 00:0000:              	ds	3510
 27595 00:0DB6:              	ends
 27596                        	udata
 27597                        ~~_k_currentPalatte
 27598 00:0DB6:              	ds	50
 27599 00:0DE8:              	ends
 27600                        	udata
 27601                        	xdef	~~version_title
 27602                        ~~version_title
 27603 00:0DE8:              	ds	4
 27604 00:0DEC:              	ends
 27605                        	udata
 27606                        	xdef	~~strbuf
 27607                        ~~strbuf
 27608 00:0DEC:              	ds	32
 27609 00:0E0C:              	ends
 27610                        	udata
 27611                        	xdef	~~buffer
 27612                        ~~buffer
 27613 00:0E0C:              	ds	32
 27614 00:0E2C:              	ends
 27615                        	udata
 27616                        	xdef	~~hitList
 27617                        ~~hitList
 27618 00:0E2C:              	ds	24
 27619 00:0E44:              	ends
  Thu Dec  3 2020 22:25                                                Page 508


 27620                        	udata
 27621                        	xdef	~~clickList
 27622                        ~~clickList
 27623 00:0E44:              	ds	66
 27624 00:0E86:              	ends
 27625                        	xref	~~Bm437ToshibaLCD8x8
 27626                        	xref	~~windowIconImg
 27627                        	xref	~~windowChromeImg
 27628                        	xref	~~fontImg
 27629                        	xref	~~characterROMMapping
 27630                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 27631                        	.sym	~~k_vdma_fill_address_old,~~k_vdma_fill_
                    address_old,65,2,0
 27632                        	.sym	~~k_put_wingadget_point_ex,~~k_put_winga
                    dget_point_ex,69,2,0
 27633                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
                    d_rect_slow,65,2,0
 27634                        	.sym	~~k_draw_rect,~~k_draw_rect,65,2,0
 27635                        	.sym	~~k_draw_line_with_pattern,~~k_draw_line
                    _with_pattern,65,2,0
 27636                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 27637                        	.sym	~~k_get_pixel_bank,~~k_get_pixel_bank,69
                    ,2,0
 27638                        	.sym	~~k_get_pixel_color,~~k_get_pixel_color,
                    69,2,0
 27639                        	.sym	~~k_write_window_text,~~k_write_window_t
                    ext,65,2,0
 27640                        	.sym	~~k_get_window,~~k_get_window,1098,2,32,
                    30
 27641                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 27642                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 27643                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 27644                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,78
                    ,2,0
 27645                        	.sym	~~cop_index,~~cop_index,5,2,16
 27646                        	.sym	~~_k_WindowHit_nodes,~~_k_WindowHit_node
                    s,138,3,32,5
 27647                        	.sym	~~_k_WindowObject_nodes,~~_k_WindowObjec
                    t_nodes,138,3,32,5
 27648                        	.sym	~~_k_window_list,~~_k_window_list,106,2,
                    0,30,10
 27649                        	.sym	~~_k_window_index,~~_k_window_index,5,2,
                    16
 27650                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,54
 27651                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
 27652                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 27653                        	.sym	~~MOUSE_POINTER_EMPTY,~~MOUSE_POINTER_EM
                    PTY,110,2,0,256
 27654                        	.sym	~~MOUSE_POINTER_BLOCK,~~MOUSE_POINTER_BL
                    OCK,110,2,0,256
 27655                        	.sym	~~TEXT_BG_COLORS,~~TEXT_BG_COLORS,110,3,
  Thu Dec  3 2020 22:25                                                Page 509


                    0,64
 27656                        	.sym	~~TEXT_FG_COLORS,~~TEXT_FG_COLORS,110,3,
                    0,64
 27657                        	.sym	~~k_window_draw,~~k_window_draw,65,18,0
 27658                        	.sym	~~k_put_char,~~k_put_char,65,18,0
 27659                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 27660                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 27661                        	.sym	PCOMMANDARGS,0,138,14,32,63
 27662                        	.sym	COMMANDARGS,0,10,14,64,63
 27663                        	.sym	PTOKENIZESTATE,0,133,14,32
 27664                        	.sym	TOKENIZESTATE,0,5,14,16
 27665                        	.sym	PTOKEN,0,138,14,32,62
 27666                        	.sym	TOKEN,0,10,14,64,62
 27667                        	.sym	PTOKENTYPE,0,133,14,32
 27668                        	.sym	TOKENTYPE,0,5,14,16
 27669                        	.sym	FXCommandHandler,0,656,14,32
 27670                        	.sym	PCONSOLECTX,0,138,14,32,61
 27671                        	.sym	CONSOLECTX,0,10,14,1144,61
 27672                        	.sym	PSPINNERCTX,0,138,14,32,60
 27673                        	.sym	SPINNERCTX,0,10,14,48,60
 27674                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 27675                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,59
 27676                        	.sym	MOUSE_MSG_STATE,0,10,14,184,59
 27677                        	.sym	PFXEVENTPROCESS,0,138,14,32,58
 27678                        	.sym	FXEVENTPROCESS,0,10,14,64,58
 27679                        	.sym	FXEventProc,0,641,14,32
 27680                        	.sym	PMOUSEMSGDATA,0,138,14,32,57
 27681                        	.sym	MOUSEMSGDATA,0,10,14,64,57
 27682                        	.sym	MSGIRQ,0,5,14,16
 27683                        	.sym	MAINLOOPARGS,0,10,14,16,56
 27684                        	.sym	PEACHCHILD_MSG,0,138,14,32,55
 27685                        	.sym	EACHCHILD_MSG,0,10,14,64,55
 27686                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
 27687                        	.sym	~~version_title,~~version_title,142,2,32
 27688                        	.sym	~~strbuf,~~strbuf,110,2,0,32
 27689                        	.sym	~~buffer,~~buffer,110,2,0,32
 27690                        	.sym	~~hitList,~~hitList,1130,2,32,27,6
 27691                        	.sym	~~clickList,~~clickList,106,2,0,27,6
 27692                        	.sym	~~k_set_text_colors,~~k_set_text_colors,
                    65,2,0
 27693                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,2,0
 27694                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 27695                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
 27696                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 27697                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 27698                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
 27699                        	.sym	~~k_render_wingadget,~~k_render_wingadge
                    t,69,2,0
  Thu Dec  3 2020 22:25                                                Page 510


 27700                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,30
 27701                        	.sym	~~k_add_window_hit_node,~~k_add_window_h
                    it_node,65,2,0
 27702                        	.sym	~~k_point_in_nodes,~~k_point_in_nodes,10
                    98,2,32,5
 27703                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 27704                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,34
 27705                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,34
 27706                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,2,32,34
 27707                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,34
 27708                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,34
 27709                        	.sym	~~k_point_in_list,~~k_point_in_list,69,2
                    ,0
 27710                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,2,0
 27711                        	.sym	~~k_vdma_fill_address_ex,~~k_vdma_fill_a
                    ddress_ex,65,2,0
 27712                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,2,0
 27713                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 27714                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 27715                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 27716                        	.sym	~~k_vdma_move_rect,~~k_vdma_move_rect,65
                    ,2,0
 27717                        	.sym	~~k_vdraw_ui_window_ex,~~k_vdraw_ui_wind
                    ow_ex,65,2,0
 27718                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 27719                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
                    ,2,0
 27720                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 27721                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,2,0
 27722                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 27723                        	.sym	~~k_create_window,~~k_create_window,1089
                    ,2,32
 27724                        	.sym	~~k_render_bitmap_info,~~k_render_bitmap
                    _info,65,2,0
 27725                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
                    d,65,2,0
 27726                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 27727                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 27728                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 27729                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
                    ,0
 27730                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
  Thu Dec  3 2020 22:25                                                Page 511


                    _scaled_point,65,2,0
 27731                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,2,0
 27732                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 27733                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,2,0
 27734                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 27735                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 27736                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
 27737                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 27738                        	.sym	~~k_put_binary_variablefont_point_ex,~~k
                    _put_binary_variablefont_point_ex,69,2,0
 27739                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 27740                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 27741                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 27742                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 27743                        	.sym	~~k_fill_bank,~~k_fill_bank,65,2,0
 27744                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 27745                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 27746                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 27747                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 27748                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 27749                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
 27750                        	.sym	~~k_draw_line_ex,~~k_draw_line_ex,65,2,0
 27751                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 27752                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 27753                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 27754                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
                    ,0
 27755                        	.sym	~~k_draw_pixel_ex,~~k_draw_pixel_ex,65,2
                    ,0
 27756                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 27757                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 27758                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 27759                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 27760                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
                    estore_bitblt,65,2,0
 27761                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 27762                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 27763                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 27764                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
  Thu Dec  3 2020 22:25                                                Page 512


                    ,0
 27765                        	.sym	~~k_set_rect,~~k_set_rect,65,2,0
 27766                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 27767                        	.sym	~~setColors,~~setColors,65,2,0
 27768                        	.sym	~~k_gui_get_pixel_offset_width,~~k_gui_g
                    et_pixel_offset_width,71,2,0
 27769                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,2,0
 27770                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,2,0
 27771                        	.sym	~~k_enable_bitmap_mode,~~k_enable_bitmap
                    _mode,65,2,0
 27772                        	.sym	~~k_drawPixel,~~k_drawPixel,65,2,0
 27773                        	.sym	~~k_draw_nonclient_area,~~k_draw_nonclie
                    nt_area,65,2,0
 27774                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 27775                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,2,0
 27776                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 27777                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 27778                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
                    owBorderColor,69,2,0
 27779                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 27780                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 27781                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 27782                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
                    ,2,0
 27783                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 27784                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,2,0
 27785                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,54
 27786                        	.sym	CUR_PALETTE_MAP,0,10,14,400,54
 27787                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,34
 27788                        	.sym	~~k_vdraw_ui_menu_with_rect,~~k_vdraw_ui
                    _menu_with_rect,1098,2,32,34
 27789                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,34
 27790                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,34
 27791                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,34
 27792                        	.sym	PCLICKDETECTED,0,138,14,32,53
 27793                        	.sym	CLICKDETECTED,0,10,14,64,53
 27794                        	.sym	OBJECTCLICKED,0,641,14,32
 27795                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,2,0,256
 27796                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,2,0,256
 27797                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,2,0,256
 27798                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
  Thu Dec  3 2020 22:25                                                Page 513


                    ROW,110,2,0,256
 27799                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 27800                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 27801                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 27802                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 27803                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 27804                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 27805                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 27806                        	.sym	MemoryCallback,0,641,14,32
 27807                        	.sym	PFXMEMORYMAP,0,138,14,32,52
 27808                        	.sym	FXMEMORYMAP,0,10,14,2072,52
 27809                        	.sym	UMM_HEAP_INFO,0,10,14,256,51
 27810                        	.sym	~~k_pad_string,~~k_pad_string,1102,18,32
 27811                        	.sym	~~k_itoa,~~k_itoa,1102,18,32
 27812                        	.sym	PFXSTRING,0,138,14,32,50
 27813                        	.sym	FXSTRING,0,10,14,64,50
 27814                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 27815                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 27816                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 27817                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 27818                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 27819                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,49
 27820                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,49
 27821                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,48
 27822                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,48
 27823                        	.sym	~~k_get_c256_minor_version,~~k_get_c256_
                    minor_version,65,18,0
 27824                        	.sym	~~k_get_c256_major_version,~~k_get_c256_
                    major_version,65,18,0
 27825                        	.sym	~~k_get_fpga_date_year,~~k_get_fpga_date
                    _year,65,18,0
 27826                        	.sym	~~k_get_fpga_date_month,~~k_get_fpga_dat
                    e_month,65,18,0
 27827                        	.sym	~~k_get_fpga_date_day,~~k_get_fpga_date_
                    day,65,18,0
 27828                        	.sym	~~k_debug_rect,~~k_debug_rect,65,18,0
 27829                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 27830                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 27831                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 27832                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 27833                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 27834                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 27835                        	.sym	PDEBUGBYTEBITS,0,138,14,32,47
 27836                        	.sym	DEBUGBYTEBITS,0,10,14,8,47
 27837                        	.sym	PFXENVIRONMENT,0,138,14,32,46
 27838                        	.sym	FXENVIRONMENT,0,10,14,96,46
 27839                        	.sym	PFXZERPOPAGE,0,138,14,32,45
  Thu Dec  3 2020 22:25                                                Page 514


 27840                        	.sym	FXZERPOPAGE,0,10,14,448,45
 27841                        	.sym	KERNELTRAPCALL,0,641,14,32
 27842                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 27843                        	.sym	FOREACHNODE,0,641,14,32
 27844                        	.sym	~~k_nodelist_add,~~k_nodelist_add,65,18,
                    0
 27845                        	.sym	~~k_nodelist_create,~~k_nodelist_create,
                    1098,18,32,5
 27846                        	.sym	~~k_nodelist_init,~~k_nodelist_init,1098
                    ,18,32,5
 27847                        	.sym	PFXCOMBUFFER,0,138,14,32,44
 27848                        	.sym	FXCOMBUFFER,0,10,14,2080,44
 27849                        	.sym	PSUBMENULIST,0,138,14,32,43
 27850                        	.sym	SUBMENULIST,0,10,14,40,43
 27851                        	.sym	HSUBMENU,0,7,14,32
 27852                        	.sym	PSUBMENU,0,138,14,32,42
 27853                        	.sym	SUBMENU,0,10,14,64,42
 27854                        	.sym	MenuAction,0,641,14,32
 27855                        	.sym	PMENUANCHOR,0,138,14,32,41
 27856                        	.sym	MENUANCHOR,0,10,14,144,41
 27857                        	.sym	PTEXTBOX,0,138,14,32,40
 27858                        	.sym	TEXTBOX,0,10,14,144,40
 27859                        	.sym	PLISTBOX,0,138,14,32,39
 27860                        	.sym	LISTBOX,0,10,14,240,39
 27861                        	.sym	PSCROLLBAR,0,138,14,32,38
 27862                        	.sym	SCROLLBAR,0,10,14,192,38
 27863                        	.sym	PBUTTON,0,138,14,32,37
 27864                        	.sym	BUTTON,0,10,14,80,37
 27865                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,36
 27866                        	.sym	MENUDROPDOWNDATA,0,10,14,3568,36
 27867                        	.sym	PMENUTAG,0,138,14,32,35
 27868                        	.sym	MENUTAG,0,10,14,112,35
 27869                        	.sym	PMENU,0,138,14,32,34
 27870                        	.sym	MENU,0,10,14,248,34
 27871                        	.sym	HMENURESOURCE,0,129,14,32
 27872                        	.sym	HTEXTBOX,0,7,14,32
 27873                        	.sym	PTEXTBOXX,0,138,14,32,33
 27874                        	.sym	TEXTBOXX,0,10,14,112,33
 27875                        	.sym	FONTMETRIC,0,10,14,32,32
 27876                        	.sym	TITLE,0,142,14,32
 27877                        	.sym	PHANDLE,0,1153,14,32
 27878                        	.sym	HANDLE,0,129,14,32
 27879                        	.sym	PWINDOWEX,0,138,14,32,31
 27880                        	.sym	WINDOWEX,0,10,14,2704,31
 27881                        	.sym	PWINDOW,0,138,14,32,30
 27882                        	.sym	WINDOW,0,10,14,2808,30
 27883                        	.sym	PDRAGDATA,0,138,14,32,29
 27884                        	.sym	DRAGDATA,0,10,14,136,29
 27885                        	.sym	PNCCLICKABLE,0,138,14,32,28
 27886                        	.sym	NCCLICKABLE,0,10,14,88,28
 27887                        	.sym	HCLICKABLE,0,7,14,32
 27888                        	.sym	PCLICKABLE,0,138,14,32,27
 27889                        	.sym	CLICKABLE,0,10,14,88,27
 27890                        	.sym	PWNDCLASS,0,138,14,32,26
 27891                        	.sym	WNDCLASS,0,10,14,256,26
 27892                        	.sym	HBRUSH,0,129,14,32
 27893                        	.sym	HCURSOR,0,129,14,32
 27894                        	.sym	HICON,0,129,14,32
  Thu Dec  3 2020 22:25                                                Page 515


 27895                        	.sym	HINSTANCE,0,129,14,32
 27896                        	.sym	FXWndProc,0,654,14,32
 27897                        	.sym	PRECT,0,138,14,32,25
 27898                        	.sym	RECT,0,10,14,64,25
 27899                        	.sym	PPOINT,0,138,14,32,24
 27900                        	.sym	POINT,0,10,14,32,24
 27901                        	.sym	PFXPROPERTY,0,138,14,32,22
 27902                        	.sym	FXPROPERTY,0,10,14,384,22
 27903                        	.sym	SCANCODE,0,14,14,8
 27904                        	.sym	KEYCODE,0,14,14,8
 27905                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 27906                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 27907                        	.sym	PFXPROCESS,0,138,14,32,20
 27908                        	.sym	FXPROCESS,0,10,14,800,20
 27909                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 27910                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 27911                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 27912                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 27913                        	.sym	FXProcessProc,0,641,14,32
 27914                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 27915                        	.sym	FXCMDMESSAGE,0,10,14,304,17
 27916                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 27917                        	.sym	FXOSMESSAGE,0,10,14,304,16
 27918                        	.sym	PINT_REGS,0,138,14,32,15
 27919                        	.sym	INT_REGS,0,10,14,104,15
 27920                        	.sym	TASK_STACK,0,10,14,32,14
 27921                        	.sym	TASK,0,10,14,48,13
 27922                        	.sym	PIRQDATA,0,138,14,32,12
 27923                        	.sym	IRQDATA,0,10,14,48,12
 27924                        	.sym	HMENU,0,129,14,32
 27925                        	.sym	HWND,0,129,14,32
 27926                        	.sym	MSGDATA,0,14,14,8
 27927                        	.sym	MSGDEST,0,18,14,32
 27928                        	.sym	MSGSRC,0,18,14,32
 27929                        	.sym	MSGTYPE,0,16,14,16
 27930                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 27931                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 27932                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 27933                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 27934                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 27935                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 27936                        	.sym	FILE_HANDLE,0,138,14,32,11
 27937                        	.sym	FILE_BLOCK,0,10,14,552,11
 27938                        	.sym	SEMAPHORE,0,10,14,16,10
 27939                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 27940                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 27941                        	.sym	KRESULT,0,18,14,32
 27942                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 27943                        	.sym	KERNEL_ERROR,0,10,14,32,8
 27944                        	.sym	PROCESS_STATUS,0,16,14,16
 27945                        	.sym	FILE_PATH_NAME,0,142,14,32
 27946                        	.sym	PROCESS_RESOURCE,0,129,14,32
 27947                        	.sym	PROCESS_TLS,0,129,14,32
 27948                        	.sym	PROCESS_CTX,0,129,14,32
 27949                        	.sym	USERID,0,16,14,16
 27950                        	.sym	PROCESS_ID,0,18,14,32
 27951                        	.sym	PROCESS_BANK,0,14,14,8
 27952                        	.sym	PFXQUEUE,0,138,14,32,7
  Thu Dec  3 2020 22:25                                                Page 516


 27953                        	.sym	FXQUEUE,0,10,14,80,7
 27954                        	.sym	PFXNODELIST,0,138,14,32,6
 27955                        	.sym	FXNODELIST,0,10,14,96,6
 27956                        	.sym	NodeListDeallocator,0,641,14,32
 27957                        	.sym	PFXNODE,0,138,14,32,5
 27958                        	.sym	FXNODE,0,10,14,384,5
 27959                        	.sym	PBYTEBITS,0,138,14,32,4
 27960                        	.sym	BYTEBITS,0,10,14,8,4
 27961                        	.sym	HCOLOR,0,129,14,32
 27962                        	.sym	HFONT,0,129,14,32
 27963                        	.sym	HDC,0,129,14,32
 27964                        	.sym	HPOINTER,0,129,14,32
 27965                        	.sym	uint32_t,0,18,14,32
 27966                        	.sym	uint8_t,0,14,14,8
 27967                        	.sym	PFAR,0,142,14,32
 27968                        	.sym	LPBOOL,0,142,14,32
 27969                        	.sym	BOOL,0,14,14,8
 27970                        	.sym	DWORD,0,18,14,32
 27971                        	.sym	ULONG,0,18,14,32
 27972                        	.sym	LPLONG,0,135,14,32
 27973                        	.sym	LONG,0,7,14,32
 27974                        	.sym	PUINT,0,144,14,32
 27975                        	.sym	USHORT,0,16,14,16
 27976                        	.sym	UINT,0,16,14,16
 27977                        	.sym	INT,0,5,14,16
 27978                        	.sym	WORD,0,5,14,16
 27979                        	.sym	PBYTE,0,142,14,32
 27980                        	.sym	BYTE,0,14,14,8
 27981                        	.sym	UCHAR,0,14,14,8
 27982                        	.sym	LPWCSTR,0,142,14,32
 27983                        	.sym	LPCSTR,0,142,14,32
 27984                        	.sym	LPSTR,0,142,14,32
 27985                        	.sym	LPCHAR,0,142,14,32
 27986                        	.sym	CHAR,0,14,14,8
 27987                        	.sym	LPVOID,0,129,14,32
 27988                        	.sym	VOID,0,1,14,32
 27989                        	.sym	~~toupper,~~toupper,69,18,0
 27990                        	.sym	~~strupr,~~strupr,1102,18,32
 27991                        	.sym	~~strlen,~~strlen,80,18,0
 27992                        	.sym	~~strcpy,~~strcpy,1102,18,32
 27993                        	.sym	~~memset,~~memset,1089,18,32
 27994                        	.sym	~~memcpy,~~memcpy,1089,18,32
 27995                        	.sym	Boolean_T,0,5,14,16
 27996                        	.sym	~~abs,~~abs,69,18,0
 27997                        	.sym	ldiv_t,0,10,14,64,2
 27998                        	.sym	div_t,0,10,14,32,1
 27999                        	.sym	wctype_t,0,16,14,16
 28000                        	.sym	wint_t,0,16,14,16
 28001                        	.sym	wchar_t,0,14,14,8
 28002                        	.sym	ptrdiff_t,0,7,14,32
 28003                        	.sym	size_t,0,16,14,16
 28004                        	end


      Lines assembled: 28004
      Errors: 0
