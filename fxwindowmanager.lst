  Wed Nov 18 2020  8:26                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.c",0
     7                        ;#include "fxwindowmanager.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
     9                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    10                        	.stag	_fx_bytebits,8,1
    11                        	.member	b7,0,14,17,1
    12                        	.member	b6,1,14,17,1
    13                        	.member	b5,2,14,17,1
    14                        	.member	b4,3,14,17,1
    15                        	.member	b3,4,14,17,1
    16                        	.member	b2,5,14,17,1
    17                        	.member	b1,6,14,17,1
    18                        	.member	b0,7,14,17,1
    19                        	.eos
    20                        	.stag	_fx_node,384,2
    21                        	.member	type,0,14,8,8
    22                        	.member	Reserved0,8,14,8,8
    23                        	.member	data,16,129,8,32
    24                        	.member	last,48,138,8,32,2
    25                        	.member	next,80,138,8,32,2
    26                        	.member	name,112,110,8,0,32
    27                        	.member	Reserved1,368,16,8,16
    28                        	.eos
    29                        	.stag	_fx_nodelist,96,3
    30                        	.member	listhead,0,138,8,32,2
    31                        	.member	listData,32,129,8,32
    32                        	.member	deallocator,64,641,8,32
    33                        	.eos
    34                        	.stag	_fx_queue,80,4
    35                        	.member	count,0,5,8,16
    36                        	.member	front,16,138,8,32,2
    37                        	.member	rear,48,138,8,32,2
    38                        	.eos
    39                        	.stag	fake5_,32,5
    40                        	.member	subsystem,0,14,8,8
    41                        	.member	level,8,14,8,8
    42                        	.member	error,16,16,8,16
    43                        	.eos
    44                        	.stag	_fx_process_signal,16,6
    45                        	.member	cbSize,0,16,8,16
    46                        	.eos
    47                        	.stag	_fx_semaphore,16,7
    48                        	.member	reserved,0,5,8,16
    49                        	.eos
  Wed Nov 18 2020  8:26                                                Page 2


    50                        	.stag	_fx_fileBlock,552,8
    51                        	.member	openCount,0,16,8,16
    52                        	.member	lockCount,16,16,8,16
    53                        	.member	dirty,32,14,8,8
    54                        	.member	fileBuffer,40,110,8,0,64
    55                        	.eos
    56                        	.stag	_fx_irq_data,48,9
    57                        	.member	line,0,5,8,16
    58                        	.member	keycode,16,142,8,32
    59                        	.eos
    60                        	.stag	_task,48,10
    61                        	.member	SPL,0,14,8,8
    62                        	.member	SPH,8,14,8,8
    63                        	.member	pstack,16,142,8,32
    64                        	.eos
    65                        	.stag	_task_stack,32,11
    66                        	.member	SS,0,142,8,32
    67                        	.eos
    68                        	.stag	int_regs,104,12
    69                        	.member	PB,0,14,8,8
    70                        	.member	PH,8,14,8,8
    71                        	.member	PL,16,14,8,8
    72                        	.member	PP,24,14,8,8
    73                        	.member	DB,32,14,8,8
    74                        	.member	DH,40,14,8,8
    75                        	.member	DL,48,14,8,8
    76                        	.member	AH,56,14,8,8
    77                        	.member	AL,64,14,8,8
    78                        	.member	XH,72,14,8,8
    79                        	.member	XL,80,14,8,8
    80                        	.member	YH,88,14,8,8
    81                        	.member	YL,96,14,8,8
    82                        	.eos
    83                        	.stag	_fx_eventMessage,304,13
    84                        	.member	src,0,18,8,32
    85                        	.member	dest,32,18,8,32
    86                        	.member	type,64,16,8,16
    87                        	.member	hwnd,80,129,8,32
    88                        	.member	pheap,112,129,8,32
    89                        	.member	msgTime,144,18,8,32
    90                        	.member	data,176,110,8,0,16
    91                        	.eos
    92                        	.stag	_fx_cmdMessage,304,14
    93                        	.member	src,0,18,8,32
    94                        	.member	dest,32,18,8,32
    95                        	.member	type,64,16,8,16
    96                        	.member	hwnd,80,129,8,32
    97                        	.member	pheap,112,129,8,32
    98                        	.member	msgTime,144,18,8,32
    99                        	.member	cmdCId,176,16,8,16
   100                        	.member	cmdMId,192,16,8,16
   101                        	.member	parameter1,208,18,8,32
   102                        	.member	parameter2,240,18,8,32
   103                        	.member	parameter3,272,18,8,32
   104                        	.eos
   105                        	.stag	_fx_console_ctl,448,15
   106                        	.member	maxCols,0,5,8,16
   107                        	.member	maxRows,16,5,8,16
  Wed Nov 18 2020  8:26                                                Page 3


   108                        	.member	curX,32,5,8,16
   109                        	.member	curY,48,5,8,16
   110                        	.member	fgColor,64,5,8,16
   111                        	.member	bgColor,80,5,8,16
   112                        	.member	mode,96,14,8,8
   113                        	.member	kbBuffer,104,101,8,0,16
   114                        	.member	screenBuffer,360,142,8,32
   115                        	.member	desktopMode,392,14,8,8
   116                        	.member	lastMouseButton,400,5,8,16
   117                        	.member	lastMouseX,416,5,8,16
   118                        	.member	lastMouseY,432,5,8,16
   119                        	.eos
   120                        	.stag	_fx_desktop_ctl,392,16
   121                        	.member	desktopMode,0,14,8,8
   122                        	.member	cursorCtl,8,5,8,16
   123                        	.member	cursorState,24,5,8,16
   124                        	.member	backgroundColor,40,5,8,16
   125                        	.member	foregroundColor,56,5,8,16
   126                        	.member	menuMode,72,5,8,16
   127                        	.member	lastMouseButton,88,5,8,16
   128                        	.member	lastMouseX,104,5,8,16
   129                        	.member	lastMouseY,120,5,8,16
   130                        	.member	currentDiskName,136,142,8,32
   131                        	.member	diskNodes,168,129,8,32
   132                        	.member	titleNodes,200,129,8,32
   133                        	.member	menuNodes,232,129,8,32
   134                        	.member	iconNodes,264,129,8,32
   135                        	.member	windowNodes,296,129,8,32
   136                        	.member	fontNodes,328,129,8,32
   137                        	.member	wndProc,360,138,8,32,3
   138                        	.eos
   139                        	.stag	_fx_process,800,17
   140                        	.member	cbSize,0,5,8,16
   141                        	.member	procId,16,18,8,32
   142                        	.member	parentId,48,18,8,32
   143                        	.member	ctx,80,129,8,32
   144                        	.member	userId,112,16,8,16
   145                        	.member	status,128,16,8,16
   146                        	.member	foregroundActive,144,14,8,8
   147                        	.member	tls,152,1121,8,32,8
   148                        	.member	commandLine,408,142,8,32
   149                        	.member	semaphores,440,138,8,32,3
   150                        	.member	fileHandles,472,138,8,32,3
   151                        	.member	pathList,504,138,8,32,3
   152                        	.member	resources,536,138,8,32,3
   153                        	.member	timerAware,568,14,8,8
   154                        	.member	timerTicks,576,112,8,0,2
   155                        	.member	timerTickCount,608,112,8,0,2
   156                        	.member	kernelError,640,10,8,32,5
   157                        	.member	consoleCtl,672,138,8,32,15
   158                        	.member	desktopCtl,704,138,8,32,16
   159                        	.member	execProc,736,641,8,32
   160                        	.member	startupArgs,768,129,8,32
   161                        	.eos
   162                        	.stag	_fxProcessMessage,112,18
   163                        	.member	src,0,18,8,32
   164                        	.member	dest,32,18,8,32
   165                        	.member	type,64,16,8,16
  Wed Nov 18 2020  8:26                                                Page 4


   166                        	.member	processInfo,80,138,8,32,17
   167                        	.eos
   168                        	.stag	_fx_property,384,19
   169                        	.member	name,0,110,8,0,16
   170                        	.member	value,128,110,8,0,32
   171                        	.eos
   172                        	.utag	_24bitPointer,32,20
   173                        	.member	address,0,142,11,32
   174                        	.member	bytes,0,110,11,0,4
   175                        	.eos
   176                        	.stag	_PointStruct,32,21
   177                        	.member	x,0,5,8,16
   178                        	.member	y,16,5,8,16
   179                        	.eos
   180                        	.stag	_RectStruct,64,22
   181                        	.member	x,0,5,8,16
   182                        	.member	y,16,5,8,16
   183                        	.member	width,32,5,8,16
   184                        	.member	height,48,5,8,16
   185                        	.eos
   186                        	.stag	_k_WindowClass,256,23
   187                        	.member	cbSize,0,16,8,16
   188                        	.member	style,16,16,8,16
   189                        	.member	pWndProc,32,654,8,32
   190                        	.member	hInstance,64,129,8,32
   191                        	.member	hIcon,96,129,8,32
   192                        	.member	hCursor,128,129,8,32
   193                        	.member	hbrBackground,160,129,8,32
   194                        	.member	lpszMenuName,192,142,8,32
   195                        	.member	lpszClassName,224,142,8,32
   196                        	.eos
   197                        	.stag	_k_WindowStruct,1328,24
   198                        	.member	cbSize,0,16,8,16
   199                        	.member	style,16,18,8,32
   200                        	.member	win_id,48,5,8,16
   201                        	.member	win_x,64,5,8,16
   202                        	.member	win_y,80,5,8,16
   203                        	.member	win_width,96,5,8,16
   204                        	.member	win_height,112,5,8,16
   205                        	.member	wndRect,128,10,8,64,22
   206                        	.member	clientRect,192,10,8,64,22
   207                        	.member	clickable,256,129,8,32
   208                        	.member	win_title,288,110,8,0,32
   209                        	.member	Reserved0,544,16,8,16
   210                        	.member	win_class,560,110,8,0,16
   211                        	.member	win_class_name,688,110,8,0,32
   212                        	.member	Reserved2,944,16,8,16
   213                        	.member	procid,960,18,8,32
   214                        	.member	pWndClass,992,138,8,32,23
   215                        	.member	pParentWindow,1024,129,8,32
   216                        	.member	hMenu,1056,129,8,32
   217                        	.member	pChildWindows,1088,138,8,32,3
   218                        	.member	pChildHitList,1120,138,8,32,3
   219                        	.member	isVisible,1152,14,8,8
   220                        	.member	windowData,1160,129,8,32
   221                        	.member	clientData,1192,1121,8,32,4
   222                        	.member	isClosed,1320,14,8,8
   223                        	.eos
  Wed Nov 18 2020  8:26                                                Page 5


   224                        	.stag	_k_WindowStructEx,1296,25
   225                        	.member	cbSize,0,16,8,16
   226                        	.member	style,16,18,8,32
   227                        	.member	win_id,48,5,8,16
   228                        	.member	win_x,64,5,8,16
   229                        	.member	win_y,80,5,8,16
   230                        	.member	win_width,96,5,8,16
   231                        	.member	win_height,112,5,8,16
   232                        	.member	wndRect,128,10,8,64,22
   233                        	.member	clientRect,192,10,8,64,22
   234                        	.member	clickable,256,129,8,32
   235                        	.member	win_title,288,110,8,0,32
   236                        	.member	Reserved0,544,16,8,16
   237                        	.member	win_class,560,110,8,0,16
   238                        	.member	Reserved2,688,16,8,16
   239                        	.member	procid,704,18,8,32
   240                        	.member	pWndClass,736,138,8,32,23
   241                        	.member	pParentWindow,768,129,8,32
   242                        	.member	hMenu,800,129,8,32
   243                        	.member	pChildWindows,832,138,8,32,3
   244                        	.member	pChildHitList,864,138,8,32,3
   245                        	.member	isVisible,896,14,8,8
   246                        	.member	windowData,904,129,8,32
   247                        	.member	clientData,936,1121,8,32,4
   248                        	.member	isClosed,1064,14,8,8
   249                        	.member	hWnd,1072,129,8,32
   250                        	.member	localRect,1104,10,8,64,22
   251                        	.member	globalRect,1168,10,8,64,22
   252                        	.member	clientOffsetRect,1232,10,8,64,22
   253                        	.eos
   254                        	.stag	_FontMetric,32,26
   255                        	.member	width,0,5,8,16
   256                        	.member	height,16,5,8,16
   257                        	.eos
   258                        	.stag	_ctl_Textbox,112,27
   259                        	.member	win_id,0,5,8,16
   260                        	.member	win_x,16,5,8,16
   261                        	.member	win_y,32,5,8,16
   262                        	.member	win_width,48,5,8,16
   263                        	.member	win_height,64,5,8,16
   264                        	.member	content,80,1166,8,32
   265                        	.eos
   266                        	.stag	_ClickableRect,88,28
   267                        	.member	area,0,10,8,64,22
   268                        	.member	z,64,5,8,16
   269                        	.member	enabled,80,14,8,8
   270                        	.eos
   271                        	.stag	_MenuStruct,248,29
   272                        	.member	cx,0,5,8,16
   273                        	.member	cy,16,5,8,16
   274                        	.member	width,32,5,8,16
   275                        	.member	height,48,5,8,16
   276                        	.member	fcolor,64,14,8,8
   277                        	.member	bcolor,72,14,8,8
   278                        	.member	chromeLeft,80,14,8,8
   279                        	.member	chromeRight1,88,14,8,8
   280                        	.member	chromeRight2,96,14,8,8
   281                        	.member	itemId,104,16,8,16
  Wed Nov 18 2020  8:26                                                Page 6


   282                        	.member	pCaption,120,142,8,32
   283                        	.member	subMenus,152,138,8,32,3
   284                        	.member	pBackground,184,129,8,32
   285                        	.member	hWndOwner,216,129,8,32
   286                        	.eos
   287                        	.stag	fake30_,112,30
   288                        	.member	menuId,0,16,8,16
   289                        	.member	caption,16,142,8,32
   290                        	.member	rect,48,10,8,64,22
   291                        	.eos
   292                        	.stag	fake31_,3376,31
   293                        	.member	pParent,0,138,8,32,24
   294                        	.member	rect,32,10,8,64,22
   295                        	.member	captions,96,1134,8,32,24
   296                        	.member	ids,864,112,8,0,24
   297                        	.member	clickable,1248,106,8,0,28,24
   298                        	.member	selected,3360,16,8,16
   299                        	.eos
   300                        	.stag	_fx_button_t,80,32
   301                        	.member	pCaption,0,142,8,32
   302                        	.member	data,32,129,8,32
   303                        	.member	captionPixelWidth,64,16,8,16
   304                        	.eos
   305                        	.stag	_fx_scrollbar_t,192,33
   306                        	.member	min,0,16,8,16
   307                        	.member	max,16,16,8,16
   308                        	.member	increment,32,16,8,16
   309                        	.member	stopsize,48,16,8,16
   310                        	.member	location,64,5,8,16
   311                        	.member	state,80,5,8,16
   312                        	.member	rectThumb,96,10,8,64,22
   313                        	.member	data,160,129,8,32
   314                        	.eos
   315                        	.stag	_fx_listbox_t,240,34
   316                        	.member	pos,0,5,8,16
   317                        	.member	selected,16,16,8,16
   318                        	.member	offsetX,32,5,8,16
   319                        	.member	offsetY,48,5,8,16
   320                        	.member	inc,64,5,8,16
   321                        	.member	direction,80,5,8,16
   322                        	.member	top,96,5,8,16
   323                        	.member	bottom,112,5,8,16
   324                        	.member	indexTop,128,5,8,16
   325                        	.member	indexBottom,144,5,8,16
   326                        	.member	maxItems,160,16,8,16
   327                        	.member	fontSet,176,142,8,32
   328                        	.member	data,208,129,8,32
   329                        	.eos
   330                        	.stag	_fx_textbox_t,144,35
   331                        	.member	pos,0,5,8,16
   332                        	.member	selected,16,16,8,16
   333                        	.member	offsetX,32,5,8,16
   334                        	.member	offsetY,48,5,8,16
   335                        	.member	isShifted,64,14,8,8
   336                        	.member	cursorState,72,14,8,8
   337                        	.member	fontSet,80,142,8,32
   338                        	.member	data,112,129,8,32
   339                        	.eos
  Wed Nov 18 2020  8:26                                                Page 7


   340                        	.stag	_fx_menuAnchor_t,144,36
   341                        	.member	pCaption,0,142,8,32
   342                        	.member	renderLayoutX,32,16,8,16
   343                        	.member	renderLayoutY,48,16,8,16
   344                        	.member	captionPixelWidth,64,16,8,16
   345                        	.member	data,80,129,8,32
   346                        	.member	droppedWindow,112,138,8,32,24
   347                        	.eos
   348                        	.stag	_SubMenuStruct,64,37
   349                        	.member	caption,0,142,8,32
   350                        	.member	action,32,641,8,32
   351                        	.eos
   352                        	.stag	_SubMenuListStruct,40,38
   353                        	.member	cMenus,0,14,8,8
   354                        	.member	psubmenus,8,9354,8,32,37
   355                        	.eos
   356                        	.stag	_fx_ComBuffer,2080,39
   357                        	.member	cbSize,0,16,8,16
   358                        	.member	cbBuffer,16,16,8,16
   359                        	.member	buffer,32,110,8,0,256
   360                        	.eos
   361                        	.line	676
   362                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   363                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   364                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   365                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
   366                        	.line	88
   367                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
   368                        	.stag	fake40_,32,40
   369                        	.member	quot,0,5,8,16
   370                        	.member	rem,16,5,8,16
   371                        	.eos
   372                        	.stag	fake41_,64,41
   373                        	.member	quot,0,7,8,32
   374                        	.member	rem,32,7,8,32
   375                        	.eos
   376                        	.stag	int_sqrt,32,42
   377                        	.member	sqrt,0,16,8,16
   378                        	.member	frac,16,16,8,16
   379                        	.eos
   380                        	.line	205
   381                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
   382                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   383                        	.line	134
   384                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
   385                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
   386                        	.line	103
   387                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
  Wed Nov 18 2020  8:26                                                Page 8


   388                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   389                        	.line	676
   390                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   391                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   392                        	.line	89
   393                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   394                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   395                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   396                        	.line	676
   397                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   398                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   399                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   400                        	.line	676
   401                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   402                        	.line	72
   403                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   404                        	.line	1318
   405                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   406                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   407                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   408                        	.line	25
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   410                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   412                        	.line	676
   413                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   414                        	.line	58
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   416                        	.stag	_fx_zero_page,448,43
   417                        	.member	fxos_mouse_byte_0,0,14,8,8
   418                        	.member	fxos_mouse_byte_1,8,14,8,8
   419                        	.member	fxos_mouse_byte_2,16,14,8,8
   420                        	.member	fxos_mouse_byte_t,24,14,8,8
   421                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   422                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   423                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   424                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   425                        	.member	fxos_key_byte_0,64,14,8,8
   426                        	.member	fxos_key_byte_1,72,14,8,8
  Wed Nov 18 2020  8:26                                                Page 9


   427                        	.member	fxos_key_byte_2,80,14,8,8
   428                        	.member	fxos_mouse_ctl,88,14,8,8
   429                        	.member	fxos_mouse_index,96,14,8,8
   430                        	.member	fxos_mouse_status,104,14,8,8
   431                        	.member	VersionMajor,112,16,8,16
   432                        	.member	VersionMinor,128,16,8,16
   433                        	.member	VersionRelease,144,16,8,16
   434                        	.member	topMemory,160,18,8,32
   435                        	.member	bottomMemory,192,18,8,32
   436                        	.member	availableMemory,224,18,8,32
   437                        	.member	availableMemoryK,256,18,8,32
   438                        	.member	availableHeapMemory,288,18,8,32
   439                        	.member	availableHeapMemoryK,320,18,8,32
   440                        	.member	kernelFunctionCallId,352,16,8,16
   441                        	.member	kernelFunctionCallBank,368,14,8,8
   442                        	.member	kernelFunctionCallReserved,376,14,8,8
   443                        	.member	kernelFunctionCallParameter,384,129,8,32
   444                        	.member	kernelFunctionCallReturn,416,129,8,32
   445                        	.eos
   446                        	.stag	_fx_environment,96,44
   447                        	.member	variables,0,142,8,32
   448                        	.member	reserved1,32,5,8,16
   449                        	.member	reserved2,48,5,8,16
   450                        	.member	reserved3,64,5,8,16
   451                        	.member	reserved4,80,5,8,16
   452                        	.eos
   453                        	.stag	_debug_byte_bits,8,45
   454                        	.member	bit7,0,14,17,1
   455                        	.member	bit6,1,14,17,1
   456                        	.member	bit5,2,14,17,1
   457                        	.member	bit4,3,14,17,1
   458                        	.member	bit3,4,14,17,1
   459                        	.member	bit2,5,14,17,1
   460                        	.member	bit1,6,14,17,1
   461                        	.member	bit0,7,14,17,1
   462                        	.eos
   463                        	.stag	_fx_device_driver,1416,46
   464                        	.member	name,0,110,8,0,64
   465                        	.member	version,512,110,8,0,64
   466                        	.member	hmajor,1024,110,8,0,16
   467                        	.member	hminor,1152,110,8,0,16
   468                        	.member	type,1280,14,8,8
   469                        	.member	f_driver_load,1288,129,8,32
   470                        	.member	f_driver_read,1320,129,8,32
   471                        	.member	f_driver_write,1352,129,8,32
   472                        	.member	f_driver_unload,1384,129,8,32
   473                        	.eos
   474                        	.stag	_fx_block_device_driver,1448,47
   475                        	.member	name,0,110,8,0,64
   476                        	.member	version,512,110,8,0,64
   477                        	.member	hmajor,1024,110,8,0,16
   478                        	.member	hminor,1152,110,8,0,16
   479                        	.member	type,1280,14,8,8
   480                        	.member	f_driver_load,1288,129,8,32
   481                        	.member	f_driver_read,1320,129,8,32
   482                        	.member	f_driver_write,1352,129,8,32
   483                        	.member	f_driver_unload,1384,129,8,32
   484                        	.member	f_driver_command,1416,129,8,32
  Wed Nov 18 2020  8:26                                                Page 10


   485                        	.eos
   486                        	.line	270
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   488                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   489                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   490                        	.line	134
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   492                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   493                        	.line	205
   494                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   495                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   496                        	.line	676
   497                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   498                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   499                        	.line	1318
   500                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   501                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   502                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   503                        	.line	205
   504                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   505                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   506                        	.line	134
   507                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   509                        	.line	676
   510                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   511                        	.stag	_fx_string,64,48
   512                        	.member	size,0,16,8,16
   513                        	.member	pos,16,5,8,16
   514                        	.member	buffer,32,142,8,32
   515                        	.eos
   516                        	.line	71
   517                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   519                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   520                        	.line	25
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
  Wed Nov 18 2020  8:26                                                Page 11


   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   523                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   524                        	.line	676
   525                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   526                        	.line	52
   527                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   528                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   529                        	.line	58
   530                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   531                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   532                        	.line	171
   533                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   534                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   535                        	.line	346
   536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   537                        	.stag	_fx_main_loopvars,16,49
   538                        	.member	dummy,0,5,8,16
   539                        	.eos
   540                        	.stag	_fxMouseMessageData,64,50
   541                        	.member	button1,0,14,8,8
   542                        	.member	button2,8,14,8,8
   543                        	.member	button3,16,14,8,8
   544                        	.member	button4,24,14,8,8
   545                        	.member	x,32,16,8,16
   546                        	.member	y,48,16,8,16
   547                        	.eos
   548                        	.stag	_fx_eventProcess,64,51
   549                        	.member	process,0,138,8,32,17
   550                        	.member	eventProc,32,641,8,32
   551                        	.eos
   552                        	.stag	_mouse_msg_state,184,52
   553                        	.member	lastEvent,0,18,8,32
   554                        	.member	buttonLeftDown,32,14,8,8
   555                        	.member	lastLeftDown,40,18,8,32
   556                        	.member	buttonRightDown,72,14,8,8
   557                        	.member	lastRightDown,80,18,8,32
   558                        	.member	buttonMiddleDown,112,14,8,8
   559                        	.member	lastMiddleDown,120,18,8,32
   560                        	.member	lastX,152,16,8,16
   561                        	.member	lastY,168,16,8,16
   562                        	.eos
   563                        	.line	721
   564                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   565                        	.stag	_fx_spinner_ctx,48,53
   566                        	.member	index,0,5,8,16
   567                        	.member	spinner,16,142,8,32
   568                        	.eos
  Wed Nov 18 2020  8:26                                                Page 12


   569                        	.stag	_fx_console_ctx,1144,54
   570                        	.member	lineBufferIndex,0,5,8,16
   571                        	.member	lineBuffer,16,110,8,0,128
   572                        	.member	isShifted,1040,14,8,8
   573                        	.member	userData,1048,129,8,32
   574                        	.member	screenBuffer,1080,129,8,32
   575                        	.member	Reserved1,1112,129,8,32
   576                        	.eos
   577                        	.stag	_token,64,55
   578                        	.member	type,0,5,8,16
   579                        	.member	depth,16,16,8,16
   580                        	.member	text,32,142,8,32
   581                        	.eos
   582                        	.stag	_command_args,64,56
   583                        	.member	proc,0,656,8,32
   584                        	.member	tokens,32,138,8,32,2
   585                        	.eos
   586                        	.line	171
   587                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   588                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   589                        	.line	71
   590                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   591                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   592                        	.line	58
   593                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   594                        	.line	25
   595                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   596                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   597                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   598                        	.line	25
   599                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   600                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   601                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   602                        	.line	32
   603                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   604                        	.stag	UMM_HEAP_INFO_t,256,57
   605                        	.member	totalEntries,0,18,8,32
   606                        	.member	usedEntries,32,18,8,32
   607                        	.member	freeEntries,64,18,8,32
   608                        	.member	totalBlocks,96,18,8,32
   609                        	.member	usedBlocks,128,18,8,32
   610                        	.member	freeBlocks,160,18,8,32
   611                        	.member	maxFreeContiguousBlocks,192,18,8,32
   612                        	.member	blockSize,224,18,8,32
   613                        	.eos
   614                        	.line	199
  Wed Nov 18 2020  8:26                                                Page 13


   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   616                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   617                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   618                        	.line	676
   619                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   620                        	.line	24
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   622                        	.stag	_fx_memory_map,2072,58
   623                        	.member	availableMemory,0,18,8,32
   624                        	.member	valid_segments,32,110,8,0,255
   625                        	.eos
   626                        	.line	39
   627                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   628                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   629                        	.line	721
   630                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   631                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   632                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   634                        	.line	676
   635                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   636                        	.line	64
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   638                        	.stag	_click_detected,64,59
   639                        	.member	window,0,138,8,32,24
   640                        	.member	handler,32,641,8,32
   641                        	.eos
   642                        	.stag	_current_palette_map,400,60
   643                        	.member	CUR_DESKTOP,0,5,8,16
   644                        	.member	CUR_BACKGROUND,16,5,8,16
   645                        	.member	CUR_FONT,32,5,8,16
   646                        	.member	CUR_SELECTED_FONT,48,5,8,16
   647                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   648                        	.member	CUR_WINDOWFRAME,80,5,8,16
   649                        	.member	CUR_WINDOWBORDER,96,5,8,16
   650                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   651                        	.member	CUR_MENU,128,5,8,16
   652                        	.member	CUR_GADGET,144,5,8,16
   653                        	.member	CUR_COLOR,160,101,8,0,15
   654                        	.eos
   655                        	.line	216
   656                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   657                        	.stag	_childMessage_t,64,61
   658                        	.member	msgType,0,16,8,16
  Wed Nov 18 2020  8:26                                                Page 14


   659                        	.member	msgData,16,129,8,32
   660                        	.member	dataSize,48,16,8,16
   661                        	.eos
   662                        	.line	346
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.c",1
   664                        ;#include "fxfont.h"
   665                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   666                        	.line	64
   667                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.c",2
   668                        ;
   669                        ;
   670                        ;static PFXNODELIST _k_windowManager_WindowClassLi
                    st 	= NULL;
   671                        	data
   672                        ~~_k_windowManager_WindowClassList:
   673 00:0000: 00 00 00 00  	dl	$0
   674 00:0004:              	ends
   675                        ;static PFXNODELIST _k_windowManager_WindowObjectL
                    ist	= NULL;
   676                        	data
   677                        ~~_k_windowManager_WindowObjectList:
   678 00:0004: 00 00 00 00  	dl	$0
   679 00:0008:              	ends
   680                        ;static PFXNODELIST _k_windowManager_ObjectHitList
                    		= NULL;
   681                        	data
   682                        ~~_k_windowManager_ObjectHitList:
   683 00:0008: 00 00 00 00  	dl	$0
   684 00:000C:              	ends
   685                        ;static PFXNODELIST _k_windowManager_WindowMenuLis
                    t 		= NULL;
   686                        	data
   687                        ~~_k_windowManager_WindowMenuList:
   688 00:000C: 00 00 00 00  	dl	$0
   689 00:0010:              	ends
   690                        ;static PFXNODELIST _k_windowManager_IconList 	
                    		= NULL;
   691                        	data
   692                        ~~_k_windowManager_IconList:
   693 00:0010: 00 00 00 00  	dl	$0
   694 00:0014:              	ends
   695                        ;static PFXNODELIST _k_windowManager_FontList 	
                    		= NULL;
   696                        	data
   697                        ~~_k_windowManager_FontList:
   698 00:0014: 00 00 00 00  	dl	$0
   699 00:0018:              	ends
   700                        ;
   701                        ;#pragma section CODE=WINMAN,offset $4:0000
   702                        WINMAN	section	offset $4:0000
   703 04:0000:              	ends
   704                        ;
   705                        ;
   706                        ;VOID k_deallocate_window_class(LPCSTR name,LPVOID
                     data)
  Wed Nov 18 2020  8:26                                                Page 15


   707                        ;{
   708                        	.line	15
   709                        	.line	16
   710                        	WINMAN
   711                        	xdef	~~k_deallocate_window_class
   712                        	func
   713                        	.function	16
   714                        ~~k_deallocate_window_class:
   715                        	longa	on
   716                        	longi	on
   717 04:0000: 3B           	tsc
   718 04:0001: 38           	sec
   719 04:0002: E9 00 00     	sbc	#L2
   720 04:0005: 1B           	tcs
   721 04:0006: 0B           	phd
   722 04:0007: 5B           	tcd
   723             00000004   name_0	set	4
   724             00000008   data_0	set	8
   725                        	.block	16
   726                        ;}
   727                        	.sym	name,4,142,6,32
   728                        	.sym	data,8,129,6,32
   729                        	.line	17
   730                        L5:
   731 04:0008: A5 02        	lda	<L2+2
   732 04:000A: 85 0A        	sta	<L2+2+8
   733 04:000C: A5 01        	lda	<L2+1
   734 04:000E: 85 09        	sta	<L2+1+8
   735 04:0010: 2B           	pld
   736 04:0011: 3B           	tsc
   737 04:0012: 18           	clc
   738 04:0013: 69 08 00     	adc	#L2+8
   739 04:0016: 1B           	tcs
   740 04:0017: 6B           	rtl
   741                        	.endblock	17
   742             00000000   L2	equ	0
   743             00000001   L3	equ	1
   744 04:0018:              	ends
   745                        	efunc
   746                        	.endfunc	17,1,0
   747                        	.line	17
   748                        ;
   749                        ;VOID k_deallocate_window_object(LPCSTR name,LPVOI
                    D data)
   750                        ;{
   751                        	.line	19
   752                        	.line	20
   753                        	WINMAN
   754                        	xdef	~~k_deallocate_window_object
   755                        	func
   756                        	.function	20
   757                        ~~k_deallocate_window_object:
   758                        	longa	on
   759                        	longi	on
   760 04:0018: 3B           	tsc
   761 04:0019: 38           	sec
   762 04:001A: E9 08 00     	sbc	#L6
   763 04:001D: 1B           	tcs
  Wed Nov 18 2020  8:26                                                Page 16


   764 04:001E: 0B           	phd
   765 04:001F: 5B           	tcd
   766             00000004   name_0	set	4
   767             00000008   data_0	set	8
   768                        	.block	20
   769                        ;	PWINDOW pWin = NULL;
   770                        ;	k_debug_strings("k_deallocate_window_object name
                    :",(LPSTR)name);
   771             00000000   pWin_1	set	0
   772                        	.sym	pWin,0,138,1,32,24
   773                        	.sym	name,4,142,6,32
   774                        	.sym	data,8,129,6,32
   775 04:0020: 64 05        	stz	<L7+pWin_1
   776 04:0022: 64 07        	stz	<L7+pWin_1+2
   777                        	.line	22
   778 04:0024: D4 0E        	pei	<L6+name_0+2
   779 04:0026: D4 0C        	pei	<L6+name_0
   780 04:0028: F4 xx xx     	pea	#^L1
   781 04:002B: F4 xx xx     	pea	#<L1
   782 04:002E: 22 xx xx xx  	jsl	~~k_debug_strings
   783                        ;	k_debug_pointer("                            ptr
                    :",data);
   784                        	.line	23
   785 04:0032: D4 12        	pei	<L6+data_0+2
   786 04:0034: D4 10        	pei	<L6+data_0
   787 04:0036: F4 xx xx     	pea	#^L1+33
   788 04:0039: F4 xx xx     	pea	#<L1+33
   789 04:003C: 22 xx xx xx  	jsl	~~k_debug_pointer
   790                        ;
   791                        ;	if(data)
   792                        	.line	25
   793                        ;	{
   794 04:0040: A5 10        	lda	<L6+data_0
   795 04:0042: 05 12        	ora	<L6+data_0+2
   796 04:0044: D0 03        	bne	L9
   797 04:0046: 82 8A 00     	brl	L10001
   798                        L9:
   799                        	.line	26
   800                        ;		pWin = (PWINDOW)data;
   801                        	.line	27
   802 04:0049: A5 10        	lda	<L6+data_0
   803 04:004B: 85 05        	sta	<L7+pWin_1
   804 04:004D: A5 12        	lda	<L6+data_0+2
   805 04:004F: 85 07        	sta	<L7+pWin_1+2
   806                        ;		k_debug_strings("                       
                     caption:",(LPSTR)pWin->win_title);
   807                        	.line	28
   808 04:0051: 18           	clc
   809 04:0052: A9 24 00     	lda	#$24
   810 04:0055: 65 05        	adc	<L7+pWin_1
   811 04:0057: 85 01        	sta	<R0
   812 04:0059: A9 00 00     	lda	#$0
   813 04:005C: 65 07        	adc	<L7+pWin_1+2
   814 04:005E: 85 03        	sta	<R0+2
   815 04:0060: D4 03        	pei	<R0+2
   816 04:0062: D4 01        	pei	<R0
   817 04:0064: F4 xx xx     	pea	#^L1+66
   818 04:0067: F4 xx xx     	pea	#<L1+66
  Wed Nov 18 2020  8:26                                                Page 17


   819 04:006A: 22 xx xx xx  	jsl	~~k_debug_strings
   820                        ;
   821                        ;
   822                        ;		if(pWin->pChildHitList)
   823                        	.line	31
   824                        ;		{
   825 04:006E: A0 8C 00     	ldy	#$8c
   826 04:0071: B7 05        	lda	[<L7+pWin_1],Y
   827 04:0073: A0 8E 00     	ldy	#$8e
   828 04:0076: 17 05        	ora	[<L7+pWin_1],Y
   829 04:0078: D0 03        	bne	L10
   830 04:007A: 82 10 00     	brl	L10002
   831                        L10:
   832                        	.line	32
   833                        ;			k_nodelist_deallocate_list(pWin-
                    >pChildHitList);
   834                        	.line	33
   835 04:007D: A0 8E 00     	ldy	#$8e
   836 04:0080: B7 05        	lda	[<L7+pWin_1],Y
   837 04:0082: 48           	pha
   838 04:0083: A0 8C 00     	ldy	#$8c
   839 04:0086: B7 05        	lda	[<L7+pWin_1],Y
   840 04:0088: 48           	pha
   841 04:0089: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
   842                        ;		}
   843                        	.line	34
   844                        ;		if(pWin->pChildWindows)
   845                        L10002:
   846                        	.line	35
   847                        ;		{
   848 04:008D: A0 88 00     	ldy	#$88
   849 04:0090: B7 05        	lda	[<L7+pWin_1],Y
   850 04:0092: A0 8A 00     	ldy	#$8a
   851 04:0095: 17 05        	ora	[<L7+pWin_1],Y
   852 04:0097: D0 03        	bne	L11
   853 04:0099: 82 10 00     	brl	L10003
   854                        L11:
   855                        	.line	36
   856                        ;			k_nodelist_deallocate_list(pWin-
                    >pChildWindows);
   857                        	.line	37
   858 04:009C: A0 8A 00     	ldy	#$8a
   859 04:009F: B7 05        	lda	[<L7+pWin_1],Y
   860 04:00A1: 48           	pha
   861 04:00A2: A0 88 00     	ldy	#$88
   862 04:00A5: B7 05        	lda	[<L7+pWin_1],Y
   863 04:00A7: 48           	pha
   864 04:00A8: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
   865                        ;		}
   866                        	.line	38
   867                        ;		if(pWin->windowData)
   868                        L10003:
   869                        	.line	39
   870                        ;			k_mem_deallocate_heap(pWin->wind
                    owData);
   871 04:00AC: A0 91 00     	ldy	#$91
   872 04:00AF: B7 05        	lda	[<L7+pWin_1],Y
   873 04:00B1: A0 93 00     	ldy	#$93
  Wed Nov 18 2020  8:26                                                Page 18


   874 04:00B4: 17 05        	ora	[<L7+pWin_1],Y
   875 04:00B6: D0 03        	bne	L12
   876 04:00B8: 82 10 00     	brl	L10004
   877                        L12:
   878                        	.line	40
   879 04:00BB: A0 93 00     	ldy	#$93
   880 04:00BE: B7 05        	lda	[<L7+pWin_1],Y
   881 04:00C0: 48           	pha
   882 04:00C1: A0 91 00     	ldy	#$91
   883 04:00C4: B7 05        	lda	[<L7+pWin_1],Y
   884 04:00C6: 48           	pha
   885 04:00C7: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
   886                        ;
   887                        ;
   888                        ;		k_mem_deallocate_heap(pWin);
   889                        L10004:
   890                        	.line	43
   891 04:00CB: D4 07        	pei	<L7+pWin_1+2
   892 04:00CD: D4 05        	pei	<L7+pWin_1
   893 04:00CF: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
   894                        ;	}
   895                        	.line	44
   896                        ;
   897                        ;}
   898                        L10001:
   899                        	.line	46
   900                        L13:
   901 04:00D3: A5 0A        	lda	<L6+2
   902 04:00D5: 85 12        	sta	<L6+2+8
   903 04:00D7: A5 09        	lda	<L6+1
   904 04:00D9: 85 11        	sta	<L6+1+8
   905 04:00DB: 2B           	pld
   906 04:00DC: 3B           	tsc
   907 04:00DD: 18           	clc
   908 04:00DE: 69 10 00     	adc	#L6+8
   909 04:00E1: 1B           	tcs
   910 04:00E2: 6B           	rtl
   911                        	.endblock	46
   912             00000008   L6	equ	8
   913             00000005   L7	equ	5
   914 04:00E3:              	ends
   915                        	efunc
   916                        	.endfunc	46,5,8
   917                        	.line	46
   918                        	data
   919                        L1:
   920 00:0018: 6B 5F 64 65  	db	$6B,$5F,$64,$65,$61,$6C,$6C,$6F,$63,$61,
                    $74,$65,$5F,$77,$69
       00:001C: 61 6C 6C 6F 
       00:0020: 63 61 74 65 
       00:0024: 5F 77 69 
   921 00:0027: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$6F,$62,$6A,$65,$63,
                    $74,$20,$6E,$61,$6D
       00:002B: 5F 6F 62 6A 
       00:002F: 65 63 74 20 
       00:0033: 6E 61 6D 
   922 00:0036: 65 3A 00 20  	db	$65,$3A,$00,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
  Wed Nov 18 2020  8:26                                                Page 19


       00:003A: 20 20 20 20 
       00:003E: 20 20 20 20 
       00:0042: 20 20 20 
   923 00:0045: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0049: 20 20 20 20 
       00:004D: 20 20 20 20 
       00:0051: 20 20 20 
   924 00:0054: 20 70 74 72  	db	$20,$70,$74,$72,$3A,$00,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0058: 3A 00 20 20 
       00:005C: 20 20 20 20 
       00:0060: 20 20 20 
   925 00:0063: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0067: 20 20 20 20 
       00:006B: 20 20 20 20 
       00:006F: 20 20 20 
   926 00:0072: 63 61 70 74  	db	$63,$61,$70,$74,$69,$6F,$6E,$3A,$00
       00:0076: 69 6F 6E 3A 
       00:007A: 00 
   927 00:007B:              	ends
   928                        ;
   929                        ;VOID k_deallocate_menu_object(LPCSTR name,LPVOID 
                    data)
   930                        ;{
   931                        	.line	48
   932                        	.line	49
   933                        	WINMAN
   934                        	xdef	~~k_deallocate_menu_object
   935                        	func
   936                        	.function	49
   937                        ~~k_deallocate_menu_object:
   938                        	longa	on
   939                        	longi	on
   940 04:00E3: 3B           	tsc
   941 04:00E4: 38           	sec
   942 04:00E5: E9 00 00     	sbc	#L15
   943 04:00E8: 1B           	tcs
   944 04:00E9: 0B           	phd
   945 04:00EA: 5B           	tcd
   946             00000004   name_0	set	4
   947             00000008   data_0	set	8
   948                        	.block	49
   949                        ;}
   950                        	.sym	name,4,142,6,32
   951                        	.sym	data,8,129,6,32
   952                        	.line	50
   953                        L18:
   954 04:00EB: A5 02        	lda	<L15+2
   955 04:00ED: 85 0A        	sta	<L15+2+8
   956 04:00EF: A5 01        	lda	<L15+1
   957 04:00F1: 85 09        	sta	<L15+1+8
   958 04:00F3: 2B           	pld
   959 04:00F4: 3B           	tsc
   960 04:00F5: 18           	clc
   961 04:00F6: 69 08 00     	adc	#L15+8
   962 04:00F9: 1B           	tcs
  Wed Nov 18 2020  8:26                                                Page 20


   963 04:00FA: 6B           	rtl
   964                        	.endblock	50
   965             00000000   L15	equ	0
   966             00000001   L16	equ	1
   967 04:00FB:              	ends
   968                        	efunc
   969                        	.endfunc	50,1,0
   970                        	.line	50
   971                        ;
   972                        ;VOID k_deallocate_icon_object(LPCSTR name,LPVOID 
                    data)
   973                        ;{
   974                        	.line	52
   975                        	.line	53
   976                        	WINMAN
   977                        	xdef	~~k_deallocate_icon_object
   978                        	func
   979                        	.function	53
   980                        ~~k_deallocate_icon_object:
   981                        	longa	on
   982                        	longi	on
   983 04:00FB: 3B           	tsc
   984 04:00FC: 38           	sec
   985 04:00FD: E9 00 00     	sbc	#L19
   986 04:0100: 1B           	tcs
   987 04:0101: 0B           	phd
   988 04:0102: 5B           	tcd
   989             00000004   name_0	set	4
   990             00000008   data_0	set	8
   991                        	.block	53
   992                        ;}
   993                        	.sym	name,4,142,6,32
   994                        	.sym	data,8,129,6,32
   995                        	.line	54
   996                        L22:
   997 04:0103: A5 02        	lda	<L19+2
   998 04:0105: 85 0A        	sta	<L19+2+8
   999 04:0107: A5 01        	lda	<L19+1
  1000 04:0109: 85 09        	sta	<L19+1+8
  1001 04:010B: 2B           	pld
  1002 04:010C: 3B           	tsc
  1003 04:010D: 18           	clc
  1004 04:010E: 69 08 00     	adc	#L19+8
  1005 04:0111: 1B           	tcs
  1006 04:0112: 6B           	rtl
  1007                        	.endblock	54
  1008             00000000   L19	equ	0
  1009             00000001   L20	equ	1
  1010 04:0113:              	ends
  1011                        	efunc
  1012                        	.endfunc	54,1,0
  1013                        	.line	54
  1014                        ;
  1015                        ;VOID k_deallocate_hit_class(LPCSTR name,LPVOID da
                    ta)
  1016                        ;{
  1017                        	.line	56
  1018                        	.line	57
  Wed Nov 18 2020  8:26                                                Page 21


  1019                        	WINMAN
  1020                        	xdef	~~k_deallocate_hit_class
  1021                        	func
  1022                        	.function	57
  1023                        ~~k_deallocate_hit_class:
  1024                        	longa	on
  1025                        	longi	on
  1026 04:0113: 3B           	tsc
  1027 04:0114: 38           	sec
  1028 04:0115: E9 04 00     	sbc	#L23
  1029 04:0118: 1B           	tcs
  1030 04:0119: 0B           	phd
  1031 04:011A: 5B           	tcd
  1032             00000004   name_0	set	4
  1033             00000008   data_0	set	8
  1034                        	.block	57
  1035                        ;	PCLICKDETECTED pcd = data;
  1036                        ;
  1037                        ;	if(pcd)
  1038             00000000   pcd_1	set	0
  1039                        	.sym	pcd,0,138,1,32,59
  1040                        	.sym	name,4,142,6,32
  1041                        	.sym	data,8,129,6,32
  1042 04:011B: A5 0C        	lda	<L23+data_0
  1043 04:011D: 85 01        	sta	<L24+pcd_1
  1044 04:011F: A5 0E        	lda	<L23+data_0+2
  1045 04:0121: 85 03        	sta	<L24+pcd_1+2
  1046                        	.line	60
  1047                        ;	{
  1048 04:0123: A5 01        	lda	<L24+pcd_1
  1049 04:0125: 05 03        	ora	<L24+pcd_1+2
  1050 04:0127: D0 03        	bne	L26
  1051 04:0129: 82 08 00     	brl	L10005
  1052                        L26:
  1053                        	.line	61
  1054                        ;		k_mem_deallocate_heap(pcd);
  1055                        	.line	62
  1056 04:012C: D4 03        	pei	<L24+pcd_1+2
  1057 04:012E: D4 01        	pei	<L24+pcd_1
  1058 04:0130: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  1059                        ;	}
  1060                        	.line	63
  1061                        ;}
  1062                        L10005:
  1063                        	.line	64
  1064                        L27:
  1065 04:0134: A5 06        	lda	<L23+2
  1066 04:0136: 85 0E        	sta	<L23+2+8
  1067 04:0138: A5 05        	lda	<L23+1
  1068 04:013A: 85 0D        	sta	<L23+1+8
  1069 04:013C: 2B           	pld
  1070 04:013D: 3B           	tsc
  1071 04:013E: 18           	clc
  1072 04:013F: 69 0C 00     	adc	#L23+8
  1073 04:0142: 1B           	tcs
  1074 04:0143: 6B           	rtl
  1075                        	.endblock	64
  1076             00000004   L23	equ	4
  Wed Nov 18 2020  8:26                                                Page 22


  1077             00000001   L24	equ	1
  1078 04:0144:              	ends
  1079                        	efunc
  1080                        	.endfunc	64,1,4
  1081                        	.line	64
  1082                        ;
  1083                        ;VOID k_deallocate_menu_resource(LPCSTR name,LPVOI
                    D data)
  1084                        ;{
  1085                        	.line	66
  1086                        	.line	67
  1087                        	WINMAN
  1088                        	xdef	~~k_deallocate_menu_resource
  1089                        	func
  1090                        	.function	67
  1091                        ~~k_deallocate_menu_resource:
  1092                        	longa	on
  1093                        	longi	on
  1094 04:0144: 3B           	tsc
  1095 04:0145: 38           	sec
  1096 04:0146: E9 00 00     	sbc	#L28
  1097 04:0149: 1B           	tcs
  1098 04:014A: 0B           	phd
  1099 04:014B: 5B           	tcd
  1100             00000004   name_0	set	4
  1101             00000008   data_0	set	8
  1102                        	.block	67
  1103                        ;
  1104                        ;}
  1105                        	.sym	name,4,142,6,32
  1106                        	.sym	data,8,129,6,32
  1107                        	.line	69
  1108                        L31:
  1109 04:014C: A5 02        	lda	<L28+2
  1110 04:014E: 85 0A        	sta	<L28+2+8
  1111 04:0150: A5 01        	lda	<L28+1
  1112 04:0152: 85 09        	sta	<L28+1+8
  1113 04:0154: 2B           	pld
  1114 04:0155: 3B           	tsc
  1115 04:0156: 18           	clc
  1116 04:0157: 69 08 00     	adc	#L28+8
  1117 04:015A: 1B           	tcs
  1118 04:015B: 6B           	rtl
  1119                        	.endblock	69
  1120             00000000   L28	equ	0
  1121             00000001   L29	equ	1
  1122 04:015C:              	ends
  1123                        	efunc
  1124                        	.endfunc	69,1,0
  1125                        	.line	69
  1126                        ;
  1127                        ;VOID k_deallocate_font_object(LPCSTR name,LPVOID 
                    data)
  1128                        ;{
  1129                        	.line	71
  1130                        	.line	72
  1131                        	WINMAN
  1132                        	xdef	~~k_deallocate_font_object
  Wed Nov 18 2020  8:26                                                Page 23


  1133                        	func
  1134                        	.function	72
  1135                        ~~k_deallocate_font_object:
  1136                        	longa	on
  1137                        	longi	on
  1138 04:015C: 3B           	tsc
  1139 04:015D: 38           	sec
  1140 04:015E: E9 00 00     	sbc	#L32
  1141 04:0161: 1B           	tcs
  1142 04:0162: 0B           	phd
  1143 04:0163: 5B           	tcd
  1144             00000004   name_0	set	4
  1145             00000008   data_0	set	8
  1146                        	.block	72
  1147                        ;
  1148                        ;}
  1149                        	.sym	name,4,142,6,32
  1150                        	.sym	data,8,129,6,32
  1151                        	.line	74
  1152                        L35:
  1153 04:0164: A5 02        	lda	<L32+2
  1154 04:0166: 85 0A        	sta	<L32+2+8
  1155 04:0168: A5 01        	lda	<L32+1
  1156 04:016A: 85 09        	sta	<L32+1+8
  1157 04:016C: 2B           	pld
  1158 04:016D: 3B           	tsc
  1159 04:016E: 18           	clc
  1160 04:016F: 69 08 00     	adc	#L32+8
  1161 04:0172: 1B           	tcs
  1162 04:0173: 6B           	rtl
  1163                        	.endblock	74
  1164             00000000   L32	equ	0
  1165             00000001   L33	equ	1
  1166 04:0174:              	ends
  1167                        	efunc
  1168                        	.endfunc	74,1,0
  1169                        	.line	74
  1170                        ;
  1171                        ;BOOL k_is_window_closed(LPVOID name,LPVOID data)
  1172                        ;{
  1173                        	.line	76
  1174                        	.line	77
  1175                        	WINMAN
  1176                        	xdef	~~k_is_window_closed
  1177                        	func
  1178                        	.function	77
  1179                        ~~k_is_window_closed:
  1180                        	longa	on
  1181                        	longi	on
  1182 04:0174: 3B           	tsc
  1183 04:0175: 38           	sec
  1184 04:0176: E9 00 00     	sbc	#L36
  1185 04:0179: 1B           	tcs
  1186 04:017A: 0B           	phd
  1187 04:017B: 5B           	tcd
  1188             00000004   name_0	set	4
  1189             00000008   data_0	set	8
  1190                        	.block	77
  Wed Nov 18 2020  8:26                                                Page 24


  1191                        ;	if(data)
  1192                        	.sym	name,4,129,6,32
  1193                        	.sym	data,8,129,6,32
  1194                        	.line	78
  1195                        ;	{
  1196 04:017C: A5 08        	lda	<L36+data_0
  1197 04:017E: 05 0A        	ora	<L36+data_0+2
  1198 04:0180: D0 03        	bne	L39
  1199 04:0182: 82 1A 00     	brl	L10006
  1200                        L39:
  1201                        	.line	79
  1202                        ;		return ((PWINDOW)data)->isClosed;
  1203                        	.line	80
  1204 04:0185: A0 A5 00     	ldy	#$a5
  1205 04:0188: B7 08        	lda	[<L36+data_0],Y
  1206 04:018A: 29 FF 00     	and	#$ff
  1207                        L40:
  1208 04:018D: A8           	tay
  1209 04:018E: A5 02        	lda	<L36+2
  1210 04:0190: 85 0A        	sta	<L36+2+8
  1211 04:0192: A5 01        	lda	<L36+1
  1212 04:0194: 85 09        	sta	<L36+1+8
  1213 04:0196: 2B           	pld
  1214 04:0197: 3B           	tsc
  1215 04:0198: 18           	clc
  1216 04:0199: 69 08 00     	adc	#L36+8
  1217 04:019C: 1B           	tcs
  1218 04:019D: 98           	tya
  1219 04:019E: 6B           	rtl
  1220                        ;	}
  1221                        	.line	81
  1222                        ;
  1223                        ;	return FALSE;
  1224                        L10006:
  1225                        	.line	83
  1226 04:019F: A9 00 00     	lda	#$0
  1227 04:01A2: 82 E8 FF     	brl	L40
  1228                        ;}
  1229                        	.line	84
  1230                        	.endblock	84
  1231             00000000   L36	equ	0
  1232             00000001   L37	equ	1
  1233 04:01A5:              	ends
  1234                        	efunc
  1235                        	.endfunc	84,1,0
  1236                        	.line	84
  1237                        ;
  1238                        ;VOID k_clean_closed_windows(void)
  1239                        ;{
  1240                        	.line	86
  1241                        	.line	87
  1242                        	WINMAN
  1243                        	xdef	~~k_clean_closed_windows
  1244                        	func
  1245                        	.function	87
  1246                        ~~k_clean_closed_windows:
  1247                        	longa	on
  1248                        	longi	on
  Wed Nov 18 2020  8:26                                                Page 25


  1249 04:01A5: 3B           	tsc
  1250 04:01A6: 38           	sec
  1251 04:01A7: E9 08 00     	sbc	#L41
  1252 04:01AA: 1B           	tcs
  1253 04:01AB: 0B           	phd
  1254 04:01AC: 5B           	tcd
  1255                        	.block	87
  1256                        ;	k_debug_string("k_clean_closed_windows\r\n");
  1257                        	.line	88
  1258 04:01AD: F4 xx xx     	pea	#^L14
  1259 04:01B0: F4 xx xx     	pea	#<L14
  1260 04:01B3: 22 xx xx xx  	jsl	~~k_debug_string
  1261                        ;	if(_k_windowManager_WindowObjectList)
  1262                        	.line	89
  1263                        ;	{
  1264 04:01B7: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1265 04:01BA: 0D xx xx     	ora	|~~_k_windowManager_WindowObjectList+2
  1266 04:01BD: D0 03        	bne	L44
  1267 04:01BF: 82 3D 00     	brl	L10007
  1268                        L44:
  1269                        	.line	90
  1270                        ;		k_nodelist_foreach_listdata_remove(_k_wi
                    ndowManager_WindowObjectList,(LPVOID)NULL,k_is_window_closed
                    );
  1271                        	.line	91
  1272 04:01C2: F4 04 00     	pea	#^~~k_is_window_closed
  1273 04:01C5: F4 74 01     	pea	#<~~k_is_window_closed
  1274 04:01C8: F4 00 00     	pea	#^$0
  1275 04:01CB: F4 00 00     	pea	#<$0
  1276 04:01CE: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1277 04:01D1: 48           	pha
  1278 04:01D2: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1279 04:01D5: 48           	pha
  1280 04:01D6: 22 xx xx xx  	jsl	~~k_nodelist_foreach_listdata_remove
  1281                        ;		k_debug_nodelist(_k_windowManager_Window
                    ObjectList->listhead->next);
  1282                        	.line	92
  1283 04:01DA: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1284 04:01DD: 85 01        	sta	<R0
  1285 04:01DF: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1286 04:01E2: 85 03        	sta	<R0+2
  1287 04:01E4: A7 01        	lda	[<R0]
  1288 04:01E6: 85 05        	sta	<R1
  1289 04:01E8: A0 02 00     	ldy	#$2
  1290 04:01EB: B7 01        	lda	[<R0],Y
  1291 04:01ED: 85 07        	sta	<R1+2
  1292 04:01EF: A0 0C 00     	ldy	#$c
  1293 04:01F2: B7 05        	lda	[<R1],Y
  1294 04:01F4: 48           	pha
  1295 04:01F5: A0 0A 00     	ldy	#$a
  1296 04:01F8: B7 05        	lda	[<R1],Y
  1297 04:01FA: 48           	pha
  1298 04:01FB: 22 xx xx xx  	jsl	~~k_debug_nodelist
  1299                        ;	}
  1300                        	.line	93
  1301                        ;}
  1302                        L10007:
  1303                        	.line	94
  Wed Nov 18 2020  8:26                                                Page 26


  1304                        L45:
  1305 04:01FF: 2B           	pld
  1306 04:0200: 3B           	tsc
  1307 04:0201: 18           	clc
  1308 04:0202: 69 08 00     	adc	#L41
  1309 04:0205: 1B           	tcs
  1310 04:0206: 6B           	rtl
  1311                        	.endblock	94
  1312             00000008   L41	equ	8
  1313             00000009   L42	equ	9
  1314 04:0207:              	ends
  1315                        	efunc
  1316                        	.endfunc	94,9,8
  1317                        	.line	94
  1318                        	data
  1319                        L14:
  1320 00:007B: 6B 5F 63 6C  	db	$6B,$5F,$63,$6C,$65,$61,$6E,$5F,$63,$6C,
                    $6F,$73,$65,$64,$5F
       00:007F: 65 61 6E 5F 
       00:0083: 63 6C 6F 73 
       00:0087: 65 64 5F 
  1321 00:008A: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$73,$0D,$0A,$00
       00:008E: 6F 77 73 0D 
       00:0092: 0A 00 
  1322 00:0094:              	ends
  1323                        ;
  1324                        ;
  1325                        ;BOOL k_initializeWindowManager(void)
  1326                        ;{
  1327                        	.line	97
  1328                        	.line	98
  1329                        	WINMAN
  1330                        	xdef	~~k_initializeWindowManager
  1331                        	func
  1332                        	.function	98
  1333                        ~~k_initializeWindowManager:
  1334                        	longa	on
  1335                        	longi	on
  1336 04:0207: 3B           	tsc
  1337 04:0208: 38           	sec
  1338 04:0209: E9 00 00     	sbc	#L47
  1339 04:020C: 1B           	tcs
  1340 04:020D: 0B           	phd
  1341 04:020E: 5B           	tcd
  1342                        	.block	98
  1343                        ;	k_debug_string("k_initializeWindowManager\r\n");
  1344                        	.line	99
  1345 04:020F: F4 xx xx     	pea	#^L46
  1346 04:0212: F4 xx xx     	pea	#<L46
  1347 04:0215: 22 xx xx xx  	jsl	~~k_debug_string
  1348                        ;
  1349                        ;	_k_windowManager_WindowClassList 	= k_node
                    list_allocate_list("_window_class_list" ,k_deallocate_window
                    _class);
  1350                        	.line	101
  1351 04:0219: F4 04 00     	pea	#^~~k_deallocate_window_class
  1352 04:021C: F4 00 00     	pea	#<~~k_deallocate_window_class
  1353 04:021F: F4 xx xx     	pea	#^L46+28
  Wed Nov 18 2020  8:26                                                Page 27


  1354 04:0222: F4 xx xx     	pea	#<L46+28
  1355 04:0225: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1356 04:0229: 8D xx xx     	sta	|~~_k_windowManager_WindowClassList
  1357 04:022C: 8E xx xx     	stx	|~~_k_windowManager_WindowClassList+2
  1358                        ;	_k_windowManager_WindowObjectList   = k_nodelist
                    _allocate_list("_window_object_list",k_deallocate_window_obj
                    ect);
  1359                        	.line	102
  1360 04:022F: F4 04 00     	pea	#^~~k_deallocate_window_object
  1361 04:0232: F4 18 00     	pea	#<~~k_deallocate_window_object
  1362 04:0235: F4 xx xx     	pea	#^L46+47
  1363 04:0238: F4 xx xx     	pea	#<L46+47
  1364 04:023B: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1365 04:023F: 8D xx xx     	sta	|~~_k_windowManager_WindowObjectList
  1366 04:0242: 8E xx xx     	stx	|~~_k_windowManager_WindowObjectList+2
  1367                        ;	_k_windowManager_WindowMenuList 	= k_node
                    list_allocate_list("_window_menu_list"  ,k_deallocate_menu_o
                    bject);
  1368                        	.line	103
  1369 04:0245: F4 04 00     	pea	#^~~k_deallocate_menu_object
  1370 04:0248: F4 E3 00     	pea	#<~~k_deallocate_menu_object
  1371 04:024B: F4 xx xx     	pea	#^L46+67
  1372 04:024E: F4 xx xx     	pea	#<L46+67
  1373 04:0251: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1374 04:0255: 8D xx xx     	sta	|~~_k_windowManager_WindowMenuList
  1375 04:0258: 8E xx xx     	stx	|~~_k_windowManager_WindowMenuList+2
  1376                        ;	_k_windowManager_IconList  		 	
                    = k_nodelist_allocate_list("_window_icon_list"  ,k_deallocat
                    e_icon_object);
  1377                        	.line	104
  1378 04:025B: F4 04 00     	pea	#^~~k_deallocate_icon_object
  1379 04:025E: F4 FB 00     	pea	#<~~k_deallocate_icon_object
  1380 04:0261: F4 xx xx     	pea	#^L46+85
  1381 04:0264: F4 xx xx     	pea	#<L46+85
  1382 04:0267: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1383 04:026B: 8D xx xx     	sta	|~~_k_windowManager_IconList
  1384 04:026E: 8E xx xx     	stx	|~~_k_windowManager_IconList+2
  1385                        ;	_k_windowManager_ObjectHitList		= k_node
                    list_allocate_list("_object_hit_list"  ,k_deallocate_hit_cla
                    ss);
  1386                        	.line	105
  1387 04:0271: F4 04 00     	pea	#^~~k_deallocate_hit_class
  1388 04:0274: F4 13 01     	pea	#<~~k_deallocate_hit_class
  1389 04:0277: F4 xx xx     	pea	#^L46+103
  1390 04:027A: F4 xx xx     	pea	#<L46+103
  1391 04:027D: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1392 04:0281: 8D xx xx     	sta	|~~_k_windowManager_ObjectHitList
  1393 04:0284: 8E xx xx     	stx	|~~_k_windowManager_ObjectHitList+2
  1394                        ;	_k_windowManager_FontList			
                    = k_nodelist_allocate_list("_available_font_list"  ,k_deallo
                    cate_font_object);
  1395                        	.line	106
  1396 04:0287: F4 04 00     	pea	#^~~k_deallocate_font_object
  1397 04:028A: F4 5C 01     	pea	#<~~k_deallocate_font_object
  1398 04:028D: F4 xx xx     	pea	#^L46+120
  1399 04:0290: F4 xx xx     	pea	#<L46+120
  1400 04:0293: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1401 04:0297: 8D xx xx     	sta	|~~_k_windowManager_FontList
  Wed Nov 18 2020  8:26                                                Page 28


  1402 04:029A: 8E xx xx     	stx	|~~_k_windowManager_FontList+2
  1403                        ;
  1404                        ;
  1405                        ;	k_user_CreateWindowClass("gadgetWindowClass",NUL
                    L,0,NULL,NULL,NULL,gadgetWindowProc);
  1406                        	.line	109
  1407 04:029D: F4 04 00     	pea	#^~~gadgetWindowProc
  1408 04:02A0: F4 99 40     	pea	#<~~gadgetWindowProc
  1409 04:02A3: F4 00 00     	pea	#^$0
  1410 04:02A6: F4 00 00     	pea	#<$0
  1411 04:02A9: F4 00 00     	pea	#^$0
  1412 04:02AC: F4 00 00     	pea	#<$0
  1413 04:02AF: F4 00 00     	pea	#^$0
  1414 04:02B2: F4 00 00     	pea	#<$0
  1415 04:02B5: F4 00 00     	pea	#<$0
  1416 04:02B8: F4 00 00     	pea	#^$0
  1417 04:02BB: F4 00 00     	pea	#<$0
  1418 04:02BE: F4 xx xx     	pea	#^L46+141
  1419 04:02C1: F4 xx xx     	pea	#<L46+141
  1420 04:02C4: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1421                        ;	k_user_CreateWindowClass("buttonWindowClass",NUL
                    L,0,NULL,NULL,NULL,buttonWindowProc);
  1422                        	.line	110
  1423 04:02C8: F4 04 00     	pea	#^~~buttonWindowProc
  1424 04:02CB: F4 87 2B     	pea	#<~~buttonWindowProc
  1425 04:02CE: F4 00 00     	pea	#^$0
  1426 04:02D1: F4 00 00     	pea	#<$0
  1427 04:02D4: F4 00 00     	pea	#^$0
  1428 04:02D7: F4 00 00     	pea	#<$0
  1429 04:02DA: F4 00 00     	pea	#^$0
  1430 04:02DD: F4 00 00     	pea	#<$0
  1431 04:02E0: F4 00 00     	pea	#<$0
  1432 04:02E3: F4 00 00     	pea	#^$0
  1433 04:02E6: F4 00 00     	pea	#<$0
  1434 04:02E9: F4 xx xx     	pea	#^L46+159
  1435 04:02EC: F4 xx xx     	pea	#<L46+159
  1436 04:02EF: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1437                        ;	k_user_CreateWindowClass("menuWindowClass",NULL,
                    0,NULL,NULL,NULL,menuWindowProc);
  1438                        	.line	111
  1439 04:02F3: F4 04 00     	pea	#^~~menuWindowProc
  1440 04:02F6: F4 48 19     	pea	#<~~menuWindowProc
  1441 04:02F9: F4 00 00     	pea	#^$0
  1442 04:02FC: F4 00 00     	pea	#<$0
  1443 04:02FF: F4 00 00     	pea	#^$0
  1444 04:0302: F4 00 00     	pea	#<$0
  1445 04:0305: F4 00 00     	pea	#^$0
  1446 04:0308: F4 00 00     	pea	#<$0
  1447 04:030B: F4 00 00     	pea	#<$0
  1448 04:030E: F4 00 00     	pea	#^$0
  1449 04:0311: F4 00 00     	pea	#<$0
  1450 04:0314: F4 xx xx     	pea	#^L46+177
  1451 04:0317: F4 xx xx     	pea	#<L46+177
  1452 04:031A: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1453                        ;	k_user_CreateWindowClass("menuAnchorWindowClass"
                    ,NULL,0,NULL,NULL,NULL,menuAnchorWindowProc);
  1454                        	.line	112
  1455 04:031E: F4 04 00     	pea	#^~~menuAnchorWindowProc
  Wed Nov 18 2020  8:26                                                Page 29


  1456 04:0321: F4 D6 1E     	pea	#<~~menuAnchorWindowProc
  1457 04:0324: F4 00 00     	pea	#^$0
  1458 04:0327: F4 00 00     	pea	#<$0
  1459 04:032A: F4 00 00     	pea	#^$0
  1460 04:032D: F4 00 00     	pea	#<$0
  1461 04:0330: F4 00 00     	pea	#^$0
  1462 04:0333: F4 00 00     	pea	#<$0
  1463 04:0336: F4 00 00     	pea	#<$0
  1464 04:0339: F4 00 00     	pea	#^$0
  1465 04:033C: F4 00 00     	pea	#<$0
  1466 04:033F: F4 xx xx     	pea	#^L46+193
  1467 04:0342: F4 xx xx     	pea	#<L46+193
  1468 04:0345: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1469                        ;	k_user_CreateWindowClass("menuDropDownWindowClas
                    s",NULL,0,NULL,NULL,NULL,menuDropDownWindowProc);
  1470                        	.line	113
  1471 04:0349: F4 04 00     	pea	#^~~menuDropDownWindowProc
  1472 04:034C: F4 4C 26     	pea	#<~~menuDropDownWindowProc
  1473 04:034F: F4 00 00     	pea	#^$0
  1474 04:0352: F4 00 00     	pea	#<$0
  1475 04:0355: F4 00 00     	pea	#^$0
  1476 04:0358: F4 00 00     	pea	#<$0
  1477 04:035B: F4 00 00     	pea	#^$0
  1478 04:035E: F4 00 00     	pea	#<$0
  1479 04:0361: F4 00 00     	pea	#<$0
  1480 04:0364: F4 00 00     	pea	#^$0
  1481 04:0367: F4 00 00     	pea	#<$0
  1482 04:036A: F4 xx xx     	pea	#^L46+215
  1483 04:036D: F4 xx xx     	pea	#<L46+215
  1484 04:0370: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1485                        ;	k_user_CreateWindowClass("dialogWindowClass",NUL
                    L,0,NULL,NULL,NULL,DlgWindowProc);
  1486                        	.line	114
  1487 04:0374: F4 04 00     	pea	#^~~DlgWindowProc
  1488 04:0377: F4 40 47     	pea	#<~~DlgWindowProc
  1489 04:037A: F4 00 00     	pea	#^$0
  1490 04:037D: F4 00 00     	pea	#<$0
  1491 04:0380: F4 00 00     	pea	#^$0
  1492 04:0383: F4 00 00     	pea	#<$0
  1493 04:0386: F4 00 00     	pea	#^$0
  1494 04:0389: F4 00 00     	pea	#<$0
  1495 04:038C: F4 00 00     	pea	#<$0
  1496 04:038F: F4 00 00     	pea	#^$0
  1497 04:0392: F4 00 00     	pea	#<$0
  1498 04:0395: F4 xx xx     	pea	#^L46+239
  1499 04:0398: F4 xx xx     	pea	#<L46+239
  1500 04:039B: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1501                        ;	k_user_CreateWindowClass("aboutDialogWindowClass
                    ",NULL,0,NULL,NULL,NULL,DlgAboutWindowProc);
  1502                        	.line	115
  1503 04:039F: F4 04 00     	pea	#^~~DlgAboutWindowProc
  1504 04:03A2: F4 3A 48     	pea	#<~~DlgAboutWindowProc
  1505 04:03A5: F4 00 00     	pea	#^$0
  1506 04:03A8: F4 00 00     	pea	#<$0
  1507 04:03AB: F4 00 00     	pea	#^$0
  1508 04:03AE: F4 00 00     	pea	#<$0
  1509 04:03B1: F4 00 00     	pea	#^$0
  1510 04:03B4: F4 00 00     	pea	#<$0
  Wed Nov 18 2020  8:26                                                Page 30


  1511 04:03B7: F4 00 00     	pea	#<$0
  1512 04:03BA: F4 00 00     	pea	#^$0
  1513 04:03BD: F4 00 00     	pea	#<$0
  1514 04:03C0: F4 xx xx     	pea	#^L46+257
  1515 04:03C3: F4 xx xx     	pea	#<L46+257
  1516 04:03C6: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1517                        ;	k_user_CreateWindowClass("hscrollWindowClass",NU
                    LL,0,NULL,NULL,NULL,hscrollbarWindowProc);
  1518                        	.line	116
  1519 04:03CA: F4 xx xx     	pea	#^~~hscrollbarWindowProc
  1520 04:03CD: F4 xx xx     	pea	#<~~hscrollbarWindowProc
  1521 04:03D0: F4 00 00     	pea	#^$0
  1522 04:03D3: F4 00 00     	pea	#<$0
  1523 04:03D6: F4 00 00     	pea	#^$0
  1524 04:03D9: F4 00 00     	pea	#<$0
  1525 04:03DC: F4 00 00     	pea	#^$0
  1526 04:03DF: F4 00 00     	pea	#<$0
  1527 04:03E2: F4 00 00     	pea	#<$0
  1528 04:03E5: F4 00 00     	pea	#^$0
  1529 04:03E8: F4 00 00     	pea	#<$0
  1530 04:03EB: F4 xx xx     	pea	#^L46+280
  1531 04:03EE: F4 xx xx     	pea	#<L46+280
  1532 04:03F1: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1533                        ;	k_user_CreateWindowClass("vscrollWindowClass",NU
                    LL,0,NULL,NULL,NULL,vscrollbarWindowProc);
  1534                        	.line	117
  1535 04:03F5: F4 xx xx     	pea	#^~~vscrollbarWindowProc
  1536 04:03F8: F4 xx xx     	pea	#<~~vscrollbarWindowProc
  1537 04:03FB: F4 00 00     	pea	#^$0
  1538 04:03FE: F4 00 00     	pea	#<$0
  1539 04:0401: F4 00 00     	pea	#^$0
  1540 04:0404: F4 00 00     	pea	#<$0
  1541 04:0407: F4 00 00     	pea	#^$0
  1542 04:040A: F4 00 00     	pea	#<$0
  1543 04:040D: F4 00 00     	pea	#<$0
  1544 04:0410: F4 00 00     	pea	#^$0
  1545 04:0413: F4 00 00     	pea	#<$0
  1546 04:0416: F4 xx xx     	pea	#^L46+299
  1547 04:0419: F4 xx xx     	pea	#<L46+299
  1548 04:041C: 22 F6 09 04  	jsl	~~k_user_CreateWindowClass
  1549                        ;
  1550                        ;	k_user_RegisterFontClass("ATI6x8",Bm437ATI6x8);
  1551                        	.line	119
  1552 04:0420: F4 xx xx     	pea	#^~~Bm437ATI6x8
  1553 04:0423: F4 xx xx     	pea	#<~~Bm437ATI6x8
  1554 04:0426: F4 xx xx     	pea	#^L46+318
  1555 04:0429: F4 xx xx     	pea	#<L46+318
  1556 04:042C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1557                        ;	k_user_RegisterFontClass("ATI8x16",Bm437ATI8x16)
                    ;
  1558                        	.line	120
  1559 04:0430: F4 xx xx     	pea	#^~~Bm437ATI8x16
  1560 04:0433: F4 xx xx     	pea	#<~~Bm437ATI8x16
  1561 04:0436: F4 xx xx     	pea	#^L46+325
  1562 04:0439: F4 xx xx     	pea	#<L46+325
  1563 04:043C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1564                        ;	k_user_RegisterFontClass("ToshibaLCD8x8",Bm437To
                    shibaLCD8x8);
  Wed Nov 18 2020  8:26                                                Page 31


  1565                        	.line	121
  1566 04:0440: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8
  1567 04:0443: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8
  1568 04:0446: F4 xx xx     	pea	#^L46+333
  1569 04:0449: F4 xx xx     	pea	#<L46+333
  1570 04:044C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1571                        ;	k_user_RegisterFontClass("TINYTYPE8x8",BM437TINY
                    TYPE8x8);
  1572                        	.line	122
  1573 04:0450: F4 xx xx     	pea	#^~~BM437TINYTYPE8x8
  1574 04:0453: F4 xx xx     	pea	#<~~BM437TINYTYPE8x8
  1575 04:0456: F4 xx xx     	pea	#^L46+347
  1576 04:0459: F4 xx xx     	pea	#<L46+347
  1577 04:045C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1578                        ;	k_user_RegisterFontClass("FANTASY8x8",BM437FANTA
                    SY);
  1579                        	.line	123
  1580 04:0460: F4 xx xx     	pea	#^~~BM437FANTASY
  1581 04:0463: F4 xx xx     	pea	#<~~BM437FANTASY
  1582 04:0466: F4 xx xx     	pea	#^L46+359
  1583 04:0469: F4 xx xx     	pea	#<L46+359
  1584 04:046C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1585                        ;	k_user_RegisterFontClass("AMIGO8x8",BM437AMIGO8x
                    8);
  1586                        	.line	124
  1587 04:0470: F4 xx xx     	pea	#^~~BM437AMIGO8x8
  1588 04:0473: F4 xx xx     	pea	#<~~BM437AMIGO8x8
  1589 04:0476: F4 xx xx     	pea	#^L46+370
  1590 04:0479: F4 xx xx     	pea	#<L46+370
  1591 04:047C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1592                        ;	k_user_RegisterFontClass("Italics8x8",BM4378X8IT
                    AL);
  1593                        	.line	125
  1594 04:0480: F4 xx xx     	pea	#^~~BM4378X8ITAL
  1595 04:0483: F4 xx xx     	pea	#<~~BM4378X8ITAL
  1596 04:0486: F4 xx xx     	pea	#^L46+379
  1597 04:0489: F4 xx xx     	pea	#<L46+379
  1598 04:048C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1599                        ;	k_user_RegisterFontClass("FXOS8x8",BM437FXOS8x8)
                    ;
  1600                        	.line	126
  1601 04:0490: F4 xx xx     	pea	#^~~BM437FXOS8x8
  1602 04:0493: F4 xx xx     	pea	#<~~BM437FXOS8x8
  1603 04:0496: F4 xx xx     	pea	#^L46+390
  1604 04:0499: F4 xx xx     	pea	#<L46+390
  1605 04:049C: 22 65 09 04  	jsl	~~k_user_RegisterFontClass
  1606                        ;
  1607                        ;	return TRUE;
  1608                        	.line	128
  1609 04:04A0: A9 01 00     	lda	#$1
  1610                        L50:
  1611 04:04A3: A8           	tay
  1612 04:04A4: 2B           	pld
  1613 04:04A5: 3B           	tsc
  1614 04:04A6: 18           	clc
  1615 04:04A7: 69 00 00     	adc	#L47
  1616 04:04AA: 1B           	tcs
  1617 04:04AB: 98           	tya
  Wed Nov 18 2020  8:26                                                Page 32


  1618 04:04AC: 6B           	rtl
  1619                        ;}
  1620                        	.line	129
  1621                        	.endblock	129
  1622             00000000   L47	equ	0
  1623             00000001   L48	equ	1
  1624 04:04AD:              	ends
  1625                        	efunc
  1626                        	.endfunc	129,1,0
  1627                        	.line	129
  1628                        	data
  1629                        L46:
  1630 00:0094: 6B 5F 69 6E  	db	$6B,$5F,$69,$6E,$69,$74,$69,$61,$6C,$69,
                    $7A,$65,$57,$69,$6E
       00:0098: 69 74 69 61 
       00:009C: 6C 69 7A 65 
       00:00A0: 57 69 6E 
  1631 00:00A3: 64 6F 77 4D  	db	$64,$6F,$77,$4D,$61,$6E,$61,$67,$65,$72,
                    $0D,$0A,$00,$5F,$77
       00:00A7: 61 6E 61 67 
       00:00AB: 65 72 0D 0A 
       00:00AF: 00 5F 77 
  1632 00:00B2: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$5F,$63,$6C,$61,$73,
                    $73,$5F,$6C,$69,$73
       00:00B6: 77 5F 63 6C 
       00:00BA: 61 73 73 5F 
       00:00BE: 6C 69 73 
  1633 00:00C1: 74 00 5F 77  	db	$74,$00,$5F,$77,$69,$6E,$64,$6F,$77,$5F,
                    $6F,$62,$6A,$65,$63
       00:00C5: 69 6E 64 6F 
       00:00C9: 77 5F 6F 62 
       00:00CD: 6A 65 63 
  1634 00:00D0: 74 5F 6C 69  	db	$74,$5F,$6C,$69,$73,$74,$00,$5F,$77,$69,
                    $6E,$64,$6F,$77,$5F
       00:00D4: 73 74 00 5F 
       00:00D8: 77 69 6E 64 
       00:00DC: 6F 77 5F 
  1635 00:00DF: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$5F,$6C,$69,$73,$74,$00,
                    $5F,$77,$69,$6E,$64
       00:00E3: 5F 6C 69 73 
       00:00E7: 74 00 5F 77 
       00:00EB: 69 6E 64 
  1636 00:00EE: 6F 77 5F 69  	db	$6F,$77,$5F,$69,$63,$6F,$6E,$5F,$6C,$69,
                    $73,$74,$00,$5F,$6F
       00:00F2: 63 6F 6E 5F 
       00:00F6: 6C 69 73 74 
       00:00FA: 00 5F 6F 
  1637 00:00FD: 62 6A 65 63  	db	$62,$6A,$65,$63,$74,$5F,$68,$69,$74,$5F,
                    $6C,$69,$73,$74,$00
       00:0101: 74 5F 68 69 
       00:0105: 74 5F 6C 69 
       00:0109: 73 74 00 
  1638 00:010C: 5F 61 76 61  	db	$5F,$61,$76,$61,$69,$6C,$61,$62,$6C,$65,
                    $5F,$66,$6F,$6E,$74
       00:0110: 69 6C 61 62 
       00:0114: 6C 65 5F 66 
       00:0118: 6F 6E 74 
  1639 00:011B: 5F 6C 69 73  	db	$5F,$6C,$69,$73,$74,$00,$67,$61,$64,$67,
  Wed Nov 18 2020  8:26                                                Page 33


                    $65,$74,$57,$69,$6E
       00:011F: 74 00 67 61 
       00:0123: 64 67 65 74 
       00:0127: 57 69 6E 
  1640 00:012A: 64 6F 77 43  	db	$64,$6F,$77,$43,$6C,$61,$73,$73,$00,$62,
                    $75,$74,$74,$6F,$6E
       00:012E: 6C 61 73 73 
       00:0132: 00 62 75 74 
       00:0136: 74 6F 6E 
  1641 00:0139: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$43,$6C,$61,$73,
                    $73,$00,$6D,$65,$6E
       00:013D: 6F 77 43 6C 
       00:0141: 61 73 73 00 
       00:0145: 6D 65 6E 
  1642 00:0148: 75 57 69 6E  	db	$75,$57,$69,$6E,$64,$6F,$77,$43,$6C,$61,
                    $73,$73,$00,$6D,$65
       00:014C: 64 6F 77 43 
       00:0150: 6C 61 73 73 
       00:0154: 00 6D 65 
  1643 00:0157: 6E 75 41 6E  	db	$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,$69,
                    $6E,$64,$6F,$77,$43
       00:015B: 63 68 6F 72 
       00:015F: 57 69 6E 64 
       00:0163: 6F 77 43 
  1644 00:0166: 6C 61 73 73  	db	$6C,$61,$73,$73,$00,$6D,$65,$6E,$75,$44,
                    $72,$6F,$70,$44,$6F
       00:016A: 00 6D 65 6E 
       00:016E: 75 44 72 6F 
       00:0172: 70 44 6F 
  1645 00:0175: 77 6E 57 69  	db	$77,$6E,$57,$69,$6E,$64,$6F,$77,$43,$6C,
                    $61,$73,$73,$00,$64
       00:0179: 6E 64 6F 77 
       00:017D: 43 6C 61 73 
       00:0181: 73 00 64 
  1646 00:0184: 69 61 6C 6F  	db	$69,$61,$6C,$6F,$67,$57,$69,$6E,$64,$6F,
                    $77,$43,$6C,$61,$73
       00:0188: 67 57 69 6E 
       00:018C: 64 6F 77 43 
       00:0190: 6C 61 73 
  1647 00:0193: 73 00 61 62  	db	$73,$00,$61,$62,$6F,$75,$74,$44,$69,$61,
                    $6C,$6F,$67,$57,$69
       00:0197: 6F 75 74 44 
       00:019B: 69 61 6C 6F 
       00:019F: 67 57 69 
  1648 00:01A2: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$43,$6C,$61,$73,$73,$00,
                    $68,$73,$63,$72,$6F
       00:01A6: 43 6C 61 73 
       00:01AA: 73 00 68 73 
       00:01AE: 63 72 6F 
  1649 00:01B1: 6C 6C 57 69  	db	$6C,$6C,$57,$69,$6E,$64,$6F,$77,$43,$6C,
                    $61,$73,$73,$00,$76
       00:01B5: 6E 64 6F 77 
       00:01B9: 43 6C 61 73 
       00:01BD: 73 00 76 
  1650 00:01C0: 73 63 72 6F  	db	$73,$63,$72,$6F,$6C,$6C,$57,$69,$6E,$64,
                    $6F,$77,$43,$6C,$61
       00:01C4: 6C 6C 57 69 
       00:01C8: 6E 64 6F 77 
  Wed Nov 18 2020  8:26                                                Page 34


       00:01CC: 43 6C 61 
  1651 00:01CF: 73 73 00 41  	db	$73,$73,$00,$41,$54,$49,$36,$78,$38,$00,
                    $41,$54,$49,$38,$78
       00:01D3: 54 49 36 78 
       00:01D7: 38 00 41 54 
       00:01DB: 49 38 78 
  1652 00:01DE: 31 36 00 54  	db	$31,$36,$00,$54,$6F,$73,$68,$69,$62,$61,
                    $4C,$43,$44,$38,$78
       00:01E2: 6F 73 68 69 
       00:01E6: 62 61 4C 43 
       00:01EA: 44 38 78 
  1653 00:01ED: 38 00 54 49  	db	$38,$00,$54,$49,$4E,$59,$54,$59,$50,$45,
                    $38,$78,$38,$00,$46
       00:01F1: 4E 59 54 59 
       00:01F5: 50 45 38 78 
       00:01F9: 38 00 46 
  1654 00:01FC: 41 4E 54 41  	db	$41,$4E,$54,$41,$53,$59,$38,$78,$38,$00,
                    $41,$4D,$49,$47,$4F
       00:0200: 53 59 38 78 
       00:0204: 38 00 41 4D 
       00:0208: 49 47 4F 
  1655 00:020B: 38 78 38 00  	db	$38,$78,$38,$00,$49,$74,$61,$6C,$69,$63,
                    $73,$38,$78,$38,$00
       00:020F: 49 74 61 6C 
       00:0213: 69 63 73 38 
       00:0217: 78 38 00 
  1656 00:021A: 46 58 4F 53  	db	$46,$58,$4F,$53,$38,$78,$38,$00
       00:021E: 38 78 38 00 
  1657 00:0222:              	ends
  1658                        ;
  1659                        ;BOOL find_window_caption(LPVOID ctx,LPVOID data)
  1660                        ;{
  1661                        	.line	131
  1662                        	.line	132
  1663                        	WINMAN
  1664                        	xdef	~~find_window_caption
  1665                        	func
  1666                        	.function	132
  1667                        ~~find_window_caption:
  1668                        	longa	on
  1669                        	longi	on
  1670 04:04AD: 3B           	tsc
  1671 04:04AE: 38           	sec
  1672 04:04AF: E9 05 00     	sbc	#L52
  1673 04:04B2: 1B           	tcs
  1674 04:04B3: 0B           	phd
  1675 04:04B4: 5B           	tcd
  1676             00000004   ctx_0	set	4
  1677             00000008   data_0	set	8
  1678                        	.block	132
  1679                        ;	BOOL bRet = FALSE;
  1680                        ;
  1681                        ;	if(ctx && data)
  1682             00000000   bRet_1	set	0
  1683                        	.sym	bRet,0,14,1,8
  1684                        	.sym	ctx,4,129,6,32
  1685                        	.sym	data,8,129,6,32
  1686 04:04B5: E2 20        	sep	#$20
  Wed Nov 18 2020  8:26                                                Page 35


  1687                        	longa	off
  1688 04:04B7: 64 05        	stz	<L53+bRet_1
  1689 04:04B9: C2 20        	rep	#$20
  1690                        	longa	on
  1691                        	.line	135
  1692                        ;	{
  1693 04:04BB: A5 09        	lda	<L52+ctx_0
  1694 04:04BD: 05 0B        	ora	<L52+ctx_0+2
  1695 04:04BF: D0 03        	bne	L55
  1696 04:04C1: 82 32 00     	brl	L10008
  1697                        L55:
  1698 04:04C4: A5 0D        	lda	<L52+data_0
  1699 04:04C6: 05 0F        	ora	<L52+data_0+2
  1700 04:04C8: D0 03        	bne	L56
  1701 04:04CA: 82 29 00     	brl	L10008
  1702                        L56:
  1703                        	.line	136
  1704                        ;		/*
  1705                        ;		k_debug_string("find_window_caption:foun
                    d  :[");
  1706                        ;		k_debug_string(((PWINDOW)data)->win_titl
                    e);
  1707                        ;		k_debug_string("]\r\n");
  1708                        ;
  1709                        ;		k_debug_string("find_window_caption:comp
                    are:[");
  1710                        ;		k_debug_string((LPCHAR)ctx);
  1711                        ;		k_debug_string("]\r\n");
  1712                        ;		*/
  1713                        ;		// cannot return the result of the compa
                    re, compiler gets confused
  1714                        ;        // return (strcmp((LPCHAR)ctx,((PWINDOW)d
                    ata)->win_title) == 0);
  1715                        ;		if(strcmp((LPCHAR)ctx,((PWINDOW)data)->w
                    in_title) == 0)
  1716                        	.line	148
  1717                        ;			bRet = TRUE;
  1718 04:04CD: 18           	clc
  1719 04:04CE: A9 24 00     	lda	#$24
  1720 04:04D1: 65 0D        	adc	<L52+data_0
  1721 04:04D3: 85 01        	sta	<R0
  1722 04:04D5: A9 00 00     	lda	#$0
  1723 04:04D8: 65 0F        	adc	<L52+data_0+2
  1724 04:04DA: 85 03        	sta	<R0+2
  1725 04:04DC: D4 03        	pei	<R0+2
  1726 04:04DE: D4 01        	pei	<R0
  1727 04:04E0: D4 0B        	pei	<L52+ctx_0+2
  1728 04:04E2: D4 09        	pei	<L52+ctx_0
  1729 04:04E4: 22 xx xx xx  	jsl	~~strcmp
  1730 04:04E8: AA           	tax
  1731 04:04E9: F0 03        	beq	L57
  1732 04:04EB: 82 08 00     	brl	L10009
  1733                        L57:
  1734                        	.line	149
  1735 04:04EE: E2 20        	sep	#$20
  1736                        	longa	off
  1737 04:04F0: A9 01        	lda	#$1
  1738 04:04F2: 85 05        	sta	<L53+bRet_1
  Wed Nov 18 2020  8:26                                                Page 36


  1739 04:04F4: C2 20        	rep	#$20
  1740                        	longa	on
  1741                        ;
  1742                        ;		//k_debug_integer("COMPARE:",bRet );
  1743                        ;	}
  1744                        L10009:
  1745                        	.line	152
  1746                        ;
  1747                        ;	return bRet;
  1748                        L10008:
  1749                        	.line	154
  1750 04:04F6: A5 05        	lda	<L53+bRet_1
  1751 04:04F8: 29 FF 00     	and	#$ff
  1752                        L58:
  1753 04:04FB: A8           	tay
  1754 04:04FC: A5 07        	lda	<L52+2
  1755 04:04FE: 85 0F        	sta	<L52+2+8
  1756 04:0500: A5 06        	lda	<L52+1
  1757 04:0502: 85 0E        	sta	<L52+1+8
  1758 04:0504: 2B           	pld
  1759 04:0505: 3B           	tsc
  1760 04:0506: 18           	clc
  1761 04:0507: 69 0D 00     	adc	#L52+8
  1762 04:050A: 1B           	tcs
  1763 04:050B: 98           	tya
  1764 04:050C: 6B           	rtl
  1765                        ;}
  1766                        	.line	155
  1767                        	.endblock	155
  1768             00000005   L52	equ	5
  1769             00000005   L53	equ	5
  1770 04:050D:              	ends
  1771                        	efunc
  1772                        	.endfunc	155,5,5
  1773                        	.line	155
  1774                        ;
  1775                        ;HWND k_user_findWindow(LPCSTR winTitle)
  1776                        ;{
  1777                        	.line	157
  1778                        	.line	158
  1779                        	WINMAN
  1780                        	xdef	~~k_user_findWindow
  1781                        	func
  1782                        	.function	158
  1783                        ~~k_user_findWindow:
  1784                        	longa	on
  1785                        	longi	on
  1786 04:050D: 3B           	tsc
  1787 04:050E: 38           	sec
  1788 04:050F: E9 08 00     	sbc	#L59
  1789 04:0512: 1B           	tcs
  1790 04:0513: 0B           	phd
  1791 04:0514: 5B           	tcd
  1792             00000004   winTitle_0	set	4
  1793                        	.block	158
  1794                        ;	PFXNODE node = NULL;
  1795                        ;	HWND hWnd = NULL;
  1796                        ;
  Wed Nov 18 2020  8:26                                                Page 37


  1797                        ;	node = k_nodelist_foreach_until_listdata(_k_wind
                    owManager_WindowObjectList,(LPVOID)winTitle,find_window_capt
                    ion);
  1798             00000000   node_1	set	0
  1799             00000004   hWnd_1	set	4
  1800                        	.sym	node,0,138,1,32,2
  1801                        	.sym	hWnd,4,129,1,32
  1802                        	.sym	winTitle,4,142,6,32
  1803 04:0515: 64 01        	stz	<L60+node_1
  1804 04:0517: 64 03        	stz	<L60+node_1+2
  1805 04:0519: 64 05        	stz	<L60+hWnd_1
  1806 04:051B: 64 07        	stz	<L60+hWnd_1+2
  1807                        	.line	162
  1808 04:051D: F4 04 00     	pea	#^~~find_window_caption
  1809 04:0520: F4 AD 04     	pea	#<~~find_window_caption
  1810 04:0523: D4 0E        	pei	<L59+winTitle_0+2
  1811 04:0525: D4 0C        	pei	<L59+winTitle_0
  1812 04:0527: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1813 04:052A: 48           	pha
  1814 04:052B: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1815 04:052E: 48           	pha
  1816 04:052F: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
  1817 04:0533: 85 01        	sta	<L60+node_1
  1818 04:0535: 86 03        	stx	<L60+node_1+2
  1819                        ;	if(node)
  1820                        	.line	163
  1821                        ;	{
  1822 04:0537: A5 01        	lda	<L60+node_1
  1823 04:0539: 05 03        	ora	<L60+node_1+2
  1824 04:053B: D0 03        	bne	L62
  1825 04:053D: 82 14 00     	brl	L10010
  1826                        L62:
  1827                        	.line	164
  1828                        ;		hWnd = k_getHandleFromWindow((PWINDOW)no
                    de->data);
  1829                        	.line	165
  1830 04:0540: A0 04 00     	ldy	#$4
  1831 04:0543: B7 01        	lda	[<L60+node_1],Y
  1832 04:0545: 48           	pha
  1833 04:0546: A0 02 00     	ldy	#$2
  1834 04:0549: B7 01        	lda	[<L60+node_1],Y
  1835 04:054B: 48           	pha
  1836 04:054C: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  1837 04:0550: 85 05        	sta	<L60+hWnd_1
  1838 04:0552: 86 07        	stx	<L60+hWnd_1+2
  1839                        ;	}
  1840                        	.line	166
  1841                        ;	return hWnd;
  1842                        L10010:
  1843                        	.line	167
  1844 04:0554: A6 07        	ldx	<L60+hWnd_1+2
  1845 04:0556: A5 05        	lda	<L60+hWnd_1
  1846                        L63:
  1847 04:0558: A8           	tay
  1848 04:0559: A5 0A        	lda	<L59+2
  1849 04:055B: 85 0E        	sta	<L59+2+4
  1850 04:055D: A5 09        	lda	<L59+1
  1851 04:055F: 85 0D        	sta	<L59+1+4
  Wed Nov 18 2020  8:26                                                Page 38


  1852 04:0561: 2B           	pld
  1853 04:0562: 3B           	tsc
  1854 04:0563: 18           	clc
  1855 04:0564: 69 0C 00     	adc	#L59+4
  1856 04:0567: 1B           	tcs
  1857 04:0568: 98           	tya
  1858 04:0569: 6B           	rtl
  1859                        ;
  1860                        ;}
  1861                        	.line	169
  1862                        	.endblock	169
  1863             00000008   L59	equ	8
  1864             00000001   L60	equ	1
  1865 04:056A:              	ends
  1866                        	efunc
  1867                        	.endfunc	169,1,8
  1868                        	.line	169
  1869                        ;
  1870                        ;HWND k_user_getDesktopWindow(void)
  1871                        ;{
  1872                        	.line	171
  1873                        	.line	172
  1874                        	WINMAN
  1875                        	xdef	~~k_user_getDesktopWindow
  1876                        	func
  1877                        	.function	172
  1878                        ~~k_user_getDesktopWindow:
  1879                        	longa	on
  1880                        	longi	on
  1881 04:056A: 3B           	tsc
  1882 04:056B: 38           	sec
  1883 04:056C: E9 04 00     	sbc	#L64
  1884 04:056F: 1B           	tcs
  1885 04:0570: 0B           	phd
  1886 04:0571: 5B           	tcd
  1887                        	.block	172
  1888                        ;	return k_user_findWindow("DesktopWindow");
  1889                        	.line	173
  1890 04:0572: F4 xx xx     	pea	#^L51
  1891 04:0575: F4 xx xx     	pea	#<L51
  1892 04:0578: 22 0D 05 04  	jsl	~~k_user_findWindow
  1893 04:057C: 85 01        	sta	<R0
  1894 04:057E: 86 03        	stx	<R0+2
  1895 04:0580: A6 03        	ldx	<R0+2
  1896 04:0582: A5 01        	lda	<R0
  1897                        L67:
  1898 04:0584: A8           	tay
  1899 04:0585: 2B           	pld
  1900 04:0586: 3B           	tsc
  1901 04:0587: 18           	clc
  1902 04:0588: 69 04 00     	adc	#L64
  1903 04:058B: 1B           	tcs
  1904 04:058C: 98           	tya
  1905 04:058D: 6B           	rtl
  1906                        ;}
  1907                        	.line	174
  1908                        	.endblock	174
  1909             00000004   L64	equ	4
  Wed Nov 18 2020  8:26                                                Page 39


  1910             00000005   L65	equ	5
  1911 04:058E:              	ends
  1912                        	efunc
  1913                        	.endfunc	174,5,4
  1914                        	.line	174
  1915                        	data
  1916                        L51:
  1917 00:0222: 44 65 73 6B  	db	$44,$65,$73,$6B,$74,$6F,$70,$57,$69,$6E,
                    $64,$6F,$77,$00
       00:0226: 74 6F 70 57 
       00:022A: 69 6E 64 6F 
       00:022E: 77 00 
  1918 00:0230:              	ends
  1919                        ;
  1920                        ;void k_user_CenterWindow(HWND hWnd)
  1921                        ;{
  1922                        	.line	176
  1923                        	.line	177
  1924                        	WINMAN
  1925                        	xdef	~~k_user_CenterWindow
  1926                        	func
  1927                        	.function	177
  1928                        ~~k_user_CenterWindow:
  1929                        	longa	on
  1930                        	longi	on
  1931 04:058E: 3B           	tsc
  1932 04:058F: 38           	sec
  1933 04:0590: E9 10 00     	sbc	#L69
  1934 04:0593: 1B           	tcs
  1935 04:0594: 0B           	phd
  1936 04:0595: 5B           	tcd
  1937             00000004   hWnd_0	set	4
  1938                        	.block	177
  1939                        ;	PWINDOW pWin 	= NULL;
  1940                        ;	PWINDOW pParent = NULL;
  1941                        ;	int offX;
  1942                        ;	int offY;
  1943                        ;	if(hWnd!=NULL)
  1944             00000000   pWin_1	set	0
  1945             00000004   pParent_1	set	4
  1946             00000008   offX_1	set	8
  1947             0000000A   offY_1	set	10
  1948                        	.sym	pWin,0,138,1,32,24
  1949                        	.sym	pParent,4,138,1,32,24
  1950                        	.sym	offX,8,5,1,16
  1951                        	.sym	offY,10,5,1,16
  1952                        	.sym	hWnd,4,129,6,32
  1953 04:0596: 64 05        	stz	<L70+pWin_1
  1954 04:0598: 64 07        	stz	<L70+pWin_1+2
  1955 04:059A: 64 09        	stz	<L70+pParent_1
  1956 04:059C: 64 0B        	stz	<L70+pParent_1+2
  1957                        	.line	182
  1958                        ;	{
  1959 04:059E: A5 14        	lda	<L69+hWnd_0
  1960 04:05A0: 05 16        	ora	<L69+hWnd_0+2
  1961 04:05A2: D0 03        	bne	L72
  1962 04:05A4: 82 A6 00     	brl	L10011
  1963                        L72:
  Wed Nov 18 2020  8:26                                                Page 40


  1964                        	.line	183
  1965                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  1966                        	.line	184
  1967 04:05A7: D4 16        	pei	<L69+hWnd_0+2
  1968 04:05A9: D4 14        	pei	<L69+hWnd_0
  1969 04:05AB: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  1970 04:05AF: 85 05        	sta	<L70+pWin_1
  1971 04:05B1: 86 07        	stx	<L70+pWin_1+2
  1972                        ;
  1973                        ;		if(pWin->pParentWindow)
  1974                        	.line	186
  1975                        ;		{
  1976 04:05B3: A0 80 00     	ldy	#$80
  1977 04:05B6: B7 05        	lda	[<L70+pWin_1],Y
  1978 04:05B8: A0 82 00     	ldy	#$82
  1979 04:05BB: 17 05        	ora	[<L70+pWin_1],Y
  1980 04:05BD: D0 03        	bne	L73
  1981 04:05BF: 82 33 00     	brl	L10012
  1982                        L73:
  1983                        	.line	187
  1984                        ;			pParent = k_getWindowFromHandle(
                    pWin->pParentWindow);
  1985                        	.line	188
  1986 04:05C2: A0 82 00     	ldy	#$82
  1987 04:05C5: B7 05        	lda	[<L70+pWin_1],Y
  1988 04:05C7: 48           	pha
  1989 04:05C8: A0 80 00     	ldy	#$80
  1990 04:05CB: B7 05        	lda	[<L70+pWin_1],Y
  1991 04:05CD: 48           	pha
  1992 04:05CE: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  1993 04:05D2: 85 09        	sta	<L70+pParent_1
  1994 04:05D4: 86 0B        	stx	<L70+pParent_1+2
  1995                        ;
  1996                        ;			offX = pParent->clientRect.width
                    /2;
  1997                        	.line	190
  1998 04:05D6: A0 1C 00     	ldy	#$1c
  1999 04:05D9: B7 09        	lda	[<L70+pParent_1],Y
  2000 04:05DB: A2 02 00     	ldx	#<$2
  2001                        	xref	~~~div
  2002 04:05DE: 22 xx xx xx  	jsl	~~~div
  2003 04:05E2: 85 0D        	sta	<L70+offX_1
  2004                        ;			offY = pParent->clientRect.heigh
                    t/2;
  2005                        	.line	191
  2006 04:05E4: A0 1E 00     	ldy	#$1e
  2007 04:05E7: B7 09        	lda	[<L70+pParent_1],Y
  2008 04:05E9: A2 02 00     	ldx	#<$2
  2009                        	xref	~~~div
  2010 04:05EC: 22 xx xx xx  	jsl	~~~div
  2011 04:05F0: 85 0F        	sta	<L70+offY_1
  2012                        ;		}
  2013                        	.line	192
  2014                        ;		else
  2015 04:05F2: 82 28 00     	brl	L10013
  2016                        L10012:
  2017                        ;		{
  2018                        	.line	194
  Wed Nov 18 2020  8:26                                                Page 41


  2019                        ;			offX = k_user_getSystemMetric(SM
                    _CXFULLSCREEN)/2;
  2020                        	.line	195
  2021 04:05F5: F4 10 00     	pea	#<$10
  2022 04:05F8: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  2023 04:05FC: 85 01        	sta	<R0
  2024 04:05FE: A5 01        	lda	<R0
  2025 04:0600: A2 02 00     	ldx	#<$2
  2026                        	xref	~~~div
  2027 04:0603: 22 xx xx xx  	jsl	~~~div
  2028 04:0607: 85 0D        	sta	<L70+offX_1
  2029                        ;			offY = k_user_getSystemMetric(SM
                    _CYFULLSCREEN)/2;
  2030                        	.line	196
  2031 04:0609: F4 11 00     	pea	#<$11
  2032 04:060C: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  2033 04:0610: 85 01        	sta	<R0
  2034 04:0612: A5 01        	lda	<R0
  2035 04:0614: A2 02 00     	ldx	#<$2
  2036                        	xref	~~~div
  2037 04:0617: 22 xx xx xx  	jsl	~~~div
  2038 04:061B: 85 0F        	sta	<L70+offY_1
  2039                        ;
  2040                        ;		}
  2041                        	.line	198
  2042                        L10013:
  2043                        ;
  2044                        ;
  2045                        ;		k_user_MoveWindow(hWnd,
  2046                        	.line	201
  2047                        ;						  offX -
                     pWin->win_width/2,
  2048                        ;						  offY -
                     pWin->win_height/2);
  2049 04:061D: A0 0E 00     	ldy	#$e
  2050 04:0620: B7 05        	lda	[<L70+pWin_1],Y
  2051 04:0622: A2 02 00     	ldx	#<$2
  2052                        	xref	~~~div
  2053 04:0625: 22 xx xx xx  	jsl	~~~div
  2054 04:0629: 85 01        	sta	<R0
  2055 04:062B: 38           	sec
  2056 04:062C: A5 0F        	lda	<L70+offY_1
  2057 04:062E: E5 01        	sbc	<R0
  2058 04:0630: 48           	pha
  2059 04:0631: A0 0C 00     	ldy	#$c
  2060 04:0634: B7 05        	lda	[<L70+pWin_1],Y
  2061 04:0636: A2 02 00     	ldx	#<$2
  2062                        	xref	~~~div
  2063 04:0639: 22 xx xx xx  	jsl	~~~div
  2064 04:063D: 85 01        	sta	<R0
  2065 04:063F: 38           	sec
  2066 04:0640: A5 0D        	lda	<L70+offX_1
  2067 04:0642: E5 01        	sbc	<R0
  2068 04:0644: 48           	pha
  2069 04:0645: D4 16        	pei	<L69+hWnd_0+2
  2070 04:0647: D4 14        	pei	<L69+hWnd_0
  2071 04:0649: 22 55 07 04  	jsl	~~k_user_MoveWindow
  2072                        ;
  Wed Nov 18 2020  8:26                                                Page 42


  2073                        ;	}
  2074                        	.line	205
  2075                        ;
  2076                        ;
  2077                        ;
  2078                        ;}
  2079                        L10011:
  2080                        	.line	209
  2081                        L74:
  2082 04:064D: A5 12        	lda	<L69+2
  2083 04:064F: 85 16        	sta	<L69+2+4
  2084 04:0651: A5 11        	lda	<L69+1
  2085 04:0653: 85 15        	sta	<L69+1+4
  2086 04:0655: 2B           	pld
  2087 04:0656: 3B           	tsc
  2088 04:0657: 18           	clc
  2089 04:0658: 69 14 00     	adc	#L69+4
  2090 04:065B: 1B           	tcs
  2091 04:065C: 6B           	rtl
  2092                        	.endblock	209
  2093             00000010   L69	equ	16
  2094             00000005   L70	equ	5
  2095 04:065D:              	ends
  2096                        	efunc
  2097                        	.endfunc	209,5,16
  2098                        	.line	209
  2099                        ;
  2100                        ;void k_user_CenterBottomWindow(HWND hWnd)
  2101                        ;{
  2102                        	.line	211
  2103                        	.line	212
  2104                        	WINMAN
  2105                        	xdef	~~k_user_CenterBottomWindow
  2106                        	func
  2107                        	.function	212
  2108                        ~~k_user_CenterBottomWindow:
  2109                        	longa	on
  2110                        	longi	on
  2111 04:065D: 3B           	tsc
  2112 04:065E: 38           	sec
  2113 04:065F: E9 16 00     	sbc	#L75
  2114 04:0662: 1B           	tcs
  2115 04:0663: 0B           	phd
  2116 04:0664: 5B           	tcd
  2117             00000004   hWnd_0	set	4
  2118                        	.block	212
  2119                        ;	/*
  2120                        ;	PWINDOW pWin = NULL;
  2121                        ;
  2122                        ;	if(hWnd!=NULL)
  2123                        ;	{
  2124                        ;		pWin = k_getWindowFromHandle(hWnd);
  2125                        ;
  2126                        ;		k_user_MoveWindow(hWnd,
  2127                        ;				          k_user_getSyst
                    emMetric(SM_CXFULLSCREEN)/2 - pWin->win_width/2,
  2128                        ;						  k_user
                    _getSystemMetric(SM_CYFULLSCREEN) - (pWin->win_height + 4));
  Wed Nov 18 2020  8:26                                                Page 43


  2129                        ;	}
  2130                        ;	*/
  2131                        ;
  2132                        ;	PWINDOW pWin 	= NULL;
  2133                        ;	PWINDOW pParent = NULL;
  2134                        ;	int bottomBorder;
  2135                        ;	int offX;
  2136                        ;	int offY;
  2137                        ;	if(hWnd!=NULL)
  2138             00000000   pWin_1	set	0
  2139             00000004   pParent_1	set	4
  2140             00000008   bottomBorder_1	set	8
  2141             0000000A   offX_1	set	10
  2142             0000000C   offY_1	set	12
  2143                        	.sym	pWin,0,138,1,32,24
  2144                        	.sym	pParent,4,138,1,32,24
  2145                        	.sym	bottomBorder,8,5,1,16
  2146                        	.sym	offX,10,5,1,16
  2147                        	.sym	offY,12,5,1,16
  2148                        	.sym	hWnd,4,129,6,32
  2149 04:0665: 64 09        	stz	<L76+pWin_1
  2150 04:0667: 64 0B        	stz	<L76+pWin_1+2
  2151 04:0669: 64 0D        	stz	<L76+pParent_1
  2152 04:066B: 64 0F        	stz	<L76+pParent_1+2
  2153                        	.line	231
  2154                        ;	{
  2155 04:066D: A5 1A        	lda	<L75+hWnd_0
  2156 04:066F: 05 1C        	ora	<L75+hWnd_0+2
  2157 04:0671: D0 03        	bne	L78
  2158 04:0673: 82 CF 00     	brl	L10014
  2159                        L78:
  2160                        	.line	232
  2161                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2162                        	.line	233
  2163 04:0676: D4 1C        	pei	<L75+hWnd_0+2
  2164 04:0678: D4 1A        	pei	<L75+hWnd_0
  2165 04:067A: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  2166 04:067E: 85 09        	sta	<L76+pWin_1
  2167 04:0680: 86 0B        	stx	<L76+pWin_1+2
  2168                        ;
  2169                        ;		if(pWin->pParentWindow)
  2170                        	.line	235
  2171                        ;		{
  2172 04:0682: A0 80 00     	ldy	#$80
  2173 04:0685: B7 09        	lda	[<L76+pWin_1],Y
  2174 04:0687: A0 82 00     	ldy	#$82
  2175 04:068A: 17 09        	ora	[<L76+pWin_1],Y
  2176 04:068C: D0 03        	bne	L79
  2177 04:068E: 82 2C 00     	brl	L10015
  2178                        L79:
  2179                        	.line	236
  2180                        ;			pParent = k_getWindowFromHandle(
                    pWin->pParentWindow);
  2181                        	.line	237
  2182 04:0691: A0 82 00     	ldy	#$82
  2183 04:0694: B7 09        	lda	[<L76+pWin_1],Y
  2184 04:0696: 48           	pha
  2185 04:0697: A0 80 00     	ldy	#$80
  Wed Nov 18 2020  8:26                                                Page 44


  2186 04:069A: B7 09        	lda	[<L76+pWin_1],Y
  2187 04:069C: 48           	pha
  2188 04:069D: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  2189 04:06A1: 85 0D        	sta	<L76+pParent_1
  2190 04:06A3: 86 0F        	stx	<L76+pParent_1+2
  2191                        ;
  2192                        ;			offX = pParent->clientRect.width
                    /2;
  2193                        	.line	239
  2194 04:06A5: A0 1C 00     	ldy	#$1c
  2195 04:06A8: B7 0D        	lda	[<L76+pParent_1],Y
  2196 04:06AA: A2 02 00     	ldx	#<$2
  2197                        	xref	~~~div
  2198 04:06AD: 22 xx xx xx  	jsl	~~~div
  2199 04:06B1: 85 13        	sta	<L76+offX_1
  2200                        ;			offY = pParent->clientRect.heigh
                    t;
  2201                        	.line	240
  2202 04:06B3: A0 1E 00     	ldy	#$1e
  2203 04:06B6: B7 0D        	lda	[<L76+pParent_1],Y
  2204 04:06B8: 85 15        	sta	<L76+offY_1
  2205                        ;		}
  2206                        	.line	241
  2207                        ;		else
  2208 04:06BA: 82 1D 00     	brl	L10016
  2209                        L10015:
  2210                        ;		{
  2211                        	.line	243
  2212                        ;			offX = k_user_getSystemMetric(SM
                    _CXFULLSCREEN)/2;
  2213                        	.line	244
  2214 04:06BD: F4 10 00     	pea	#<$10
  2215 04:06C0: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  2216 04:06C4: 85 01        	sta	<R0
  2217 04:06C6: A5 01        	lda	<R0
  2218 04:06C8: A2 02 00     	ldx	#<$2
  2219                        	xref	~~~div
  2220 04:06CB: 22 xx xx xx  	jsl	~~~div
  2221 04:06CF: 85 13        	sta	<L76+offX_1
  2222                        ;			offY = k_user_getSystemMetric(SM
                    _CYFULLSCREEN);
  2223                        	.line	245
  2224 04:06D1: F4 11 00     	pea	#<$11
  2225 04:06D4: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  2226 04:06D8: 85 15        	sta	<L76+offY_1
  2227                        ;
  2228                        ;		}
  2229                        	.line	247
  2230                        L10016:
  2231                        ;
  2232                        ;		if(pParent && (pParent->style & FXWS_DLG
                    FRAME))
  2233                        	.line	249
  2234                        ;			bottomBorder = k_user_getSystemM
                    etric(SM_CYDLGFRAME);
  2235 04:06DA: A5 0D        	lda	<L76+pParent_1
  2236 04:06DC: 05 0F        	ora	<L76+pParent_1+2
  2237 04:06DE: D0 03        	bne	L80
  Wed Nov 18 2020  8:26                                                Page 45


  2238 04:06E0: 82 19 00     	brl	L10017
  2239                        L80:
  2240 04:06E3: A0 04 00     	ldy	#$4
  2241 04:06E6: B7 0D        	lda	[<L76+pParent_1],Y
  2242 04:06E8: 29 04 00     	and	#^$40000
  2243 04:06EB: D0 03        	bne	L81
  2244 04:06ED: 82 0C 00     	brl	L10017
  2245                        L81:
  2246                        	.line	250
  2247 04:06F0: F4 08 00     	pea	#<$8
  2248 04:06F3: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  2249 04:06F7: 85 11        	sta	<L76+bottomBorder_1
  2250                        ;		else
  2251 04:06F9: 82 09 00     	brl	L10018
  2252                        L10017:
  2253                        ;			bottomBorder = k_user_getSystemM
                    etric(SM_CYBORDER);
  2254                        	.line	252
  2255 04:06FC: F4 06 00     	pea	#<$6
  2256 04:06FF: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  2257 04:0703: 85 11        	sta	<L76+bottomBorder_1
  2258                        L10018:
  2259                        ;
  2260                        ;		k_debug_integer("k_user_CenterBottomWind
                    ow:bottomBorder:",bottomBorder);
  2261                        	.line	254
  2262 04:0705: D4 11        	pei	<L76+bottomBorder_1
  2263 04:0707: F4 xx xx     	pea	#^L68
  2264 04:070A: F4 xx xx     	pea	#<L68
  2265 04:070D: 22 xx xx xx  	jsl	~~k_debug_integer
  2266                        ;
  2267                        ;		k_user_MoveWindow(hWnd,
  2268                        	.line	256
  2269                        ;						  offX -
                     pWin->win_width/2,
  2270                        ;						  offY -
                     (pWin->win_height + bottomBorder + 2));
  2271 04:0711: 18           	clc
  2272 04:0712: A0 0E 00     	ldy	#$e
  2273 04:0715: B7 09        	lda	[<L76+pWin_1],Y
  2274 04:0717: 65 11        	adc	<L76+bottomBorder_1
  2275 04:0719: 85 01        	sta	<R0
  2276 04:071B: 18           	clc
  2277 04:071C: A9 02 00     	lda	#$2
  2278 04:071F: 65 01        	adc	<R0
  2279 04:0721: 85 05        	sta	<R1
  2280 04:0723: 38           	sec
  2281 04:0724: A5 15        	lda	<L76+offY_1
  2282 04:0726: E5 05        	sbc	<R1
  2283 04:0728: 48           	pha
  2284 04:0729: A0 0C 00     	ldy	#$c
  2285 04:072C: B7 09        	lda	[<L76+pWin_1],Y
  2286 04:072E: A2 02 00     	ldx	#<$2
  2287                        	xref	~~~div
  2288 04:0731: 22 xx xx xx  	jsl	~~~div
  2289 04:0735: 85 01        	sta	<R0
  2290 04:0737: 38           	sec
  2291 04:0738: A5 13        	lda	<L76+offX_1
  Wed Nov 18 2020  8:26                                                Page 46


  2292 04:073A: E5 01        	sbc	<R0
  2293 04:073C: 48           	pha
  2294 04:073D: D4 1C        	pei	<L75+hWnd_0+2
  2295 04:073F: D4 1A        	pei	<L75+hWnd_0
  2296 04:0741: 22 55 07 04  	jsl	~~k_user_MoveWindow
  2297                        ;
  2298                        ;	}
  2299                        	.line	260
  2300                        ;}
  2301                        L10014:
  2302                        	.line	261
  2303                        L82:
  2304 04:0745: A5 18        	lda	<L75+2
  2305 04:0747: 85 1C        	sta	<L75+2+4
  2306 04:0749: A5 17        	lda	<L75+1
  2307 04:074B: 85 1B        	sta	<L75+1+4
  2308 04:074D: 2B           	pld
  2309 04:074E: 3B           	tsc
  2310 04:074F: 18           	clc
  2311 04:0750: 69 1A 00     	adc	#L75+4
  2312 04:0753: 1B           	tcs
  2313 04:0754: 6B           	rtl
  2314                        	.endblock	261
  2315             00000016   L75	equ	22
  2316             00000009   L76	equ	9
  2317 04:0755:              	ends
  2318                        	efunc
  2319                        	.endfunc	261,9,22
  2320                        	.line	261
  2321                        	data
  2322                        L68:
  2323 00:0230: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$65,$6E,
                    $74,$65,$72,$42,$6F
       00:0234: 65 72 5F 43 
       00:0238: 65 6E 74 65 
       00:023C: 72 42 6F 
  2324 00:023F: 74 74 6F 6D  	db	$74,$74,$6F,$6D,$57,$69,$6E,$64,$6F,$77,
                    $3A,$62,$6F,$74,$74
       00:0243: 57 69 6E 64 
       00:0247: 6F 77 3A 62 
       00:024B: 6F 74 74 
  2325 00:024E: 6F 6D 42 6F  	db	$6F,$6D,$42,$6F,$72,$64,$65,$72,$3A,$00
       00:0252: 72 64 65 72 
       00:0256: 3A 00 
  2326 00:0258:              	ends
  2327                        ;
  2328                        ;
  2329                        ;void k_user_MoveWindow(HWND hWnd, int x,int y)
  2330                        ;{
  2331                        	.line	264
  2332                        	.line	265
  2333                        	WINMAN
  2334                        	xdef	~~k_user_MoveWindow
  2335                        	func
  2336                        	.function	265
  2337                        ~~k_user_MoveWindow:
  2338                        	longa	on
  2339                        	longi	on
  Wed Nov 18 2020  8:26                                                Page 47


  2340 04:0755: 3B           	tsc
  2341 04:0756: 38           	sec
  2342 04:0757: E9 10 00     	sbc	#L84
  2343 04:075A: 1B           	tcs
  2344 04:075B: 0B           	phd
  2345 04:075C: 5B           	tcd
  2346             00000004   hWnd_0	set	4
  2347             00000008   x_0	set	8
  2348             0000000A   y_0	set	10
  2349                        	.block	265
  2350                        ;	PWINDOW pWin 	= NULL;
  2351                        ;	PWINDOW pParent = NULL;
  2352                        ;
  2353                        ;	if(hWnd!=NULL)
  2354             00000000   pWin_1	set	0
  2355             00000004   pParent_1	set	4
  2356                        	.sym	pWin,0,138,1,32,24
  2357                        	.sym	pParent,4,138,1,32,24
  2358                        	.sym	hWnd,4,129,6,32
  2359                        	.sym	x,8,5,6,16
  2360                        	.sym	y,10,5,6,16
  2361 04:075D: 64 09        	stz	<L85+pWin_1
  2362 04:075F: 64 0B        	stz	<L85+pWin_1+2
  2363 04:0761: 64 0D        	stz	<L85+pParent_1
  2364 04:0763: 64 0F        	stz	<L85+pParent_1+2
  2365                        	.line	269
  2366                        ;	{
  2367 04:0765: A5 14        	lda	<L84+hWnd_0
  2368 04:0767: 05 16        	ora	<L84+hWnd_0+2
  2369 04:0769: D0 03        	bne	L87
  2370 04:076B: 82 F1 00     	brl	L10019
  2371                        L87:
  2372                        	.line	270
  2373                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2374                        	.line	271
  2375 04:076E: D4 16        	pei	<L84+hWnd_0+2
  2376 04:0770: D4 14        	pei	<L84+hWnd_0
  2377 04:0772: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  2378 04:0776: 85 09        	sta	<L85+pWin_1
  2379 04:0778: 86 0B        	stx	<L85+pWin_1+2
  2380                        ;		pParent = pWin->pParentWindow;
  2381                        	.line	272
  2382 04:077A: A0 80 00     	ldy	#$80
  2383 04:077D: B7 09        	lda	[<L85+pWin_1],Y
  2384 04:077F: 85 0D        	sta	<L85+pParent_1
  2385 04:0781: A0 82 00     	ldy	#$82
  2386 04:0784: B7 09        	lda	[<L85+pWin_1],Y
  2387 04:0786: 85 0F        	sta	<L85+pParent_1+2
  2388                        ;
  2389                        ;		if(pParent)
  2390                        	.line	274
  2391                        ;		{
  2392 04:0788: A5 0D        	lda	<L85+pParent_1
  2393 04:078A: 05 0F        	ora	<L85+pParent_1+2
  2394 04:078C: D0 03        	bne	L88
  2395 04:078E: 82 6B 00     	brl	L10020
  2396                        L88:
  2397                        	.line	275
  Wed Nov 18 2020  8:26                                                Page 48


  2398                        ;			pWin->win_x = pParent->clientRec
                    t.x + x;
  2399                        	.line	276
  2400 04:0791: 18           	clc
  2401 04:0792: A0 18 00     	ldy	#$18
  2402 04:0795: B7 0D        	lda	[<L85+pParent_1],Y
  2403 04:0797: 65 18        	adc	<L84+x_0
  2404 04:0799: A0 08 00     	ldy	#$8
  2405 04:079C: 97 09        	sta	[<L85+pWin_1],Y
  2406                        ;			pWin->win_y = pParent->clientRec
                    t.y + y;
  2407                        	.line	277
  2408 04:079E: 18           	clc
  2409 04:079F: A0 1A 00     	ldy	#$1a
  2410 04:07A2: B7 0D        	lda	[<L85+pParent_1],Y
  2411 04:07A4: 65 1A        	adc	<L84+y_0
  2412 04:07A6: A0 0A 00     	ldy	#$a
  2413 04:07A9: 97 09        	sta	[<L85+pWin_1],Y
  2414                        ;			pWin->clientRect.x 		
                    = pWin->clientRect.x + x;
  2415                        	.line	278
  2416 04:07AB: 18           	clc
  2417 04:07AC: A0 18 00     	ldy	#$18
  2418 04:07AF: B7 09        	lda	[<L85+pWin_1],Y
  2419 04:07B1: 65 18        	adc	<L84+x_0
  2420 04:07B3: A0 18 00     	ldy	#$18
  2421 04:07B6: 97 09        	sta	[<L85+pWin_1],Y
  2422                        ;			pWin->clientRect.y 		
                    = pWin->clientRect.y + y;
  2423                        	.line	279
  2424 04:07B8: 18           	clc
  2425 04:07B9: A0 1A 00     	ldy	#$1a
  2426 04:07BC: B7 09        	lda	[<L85+pWin_1],Y
  2427 04:07BE: 65 1A        	adc	<L84+y_0
  2428 04:07C0: A0 1A 00     	ldy	#$1a
  2429 04:07C3: 97 09        	sta	[<L85+pWin_1],Y
  2430                        ;			k_debug_string("k_user_MoveWindo
                    w:\r\n");
  2431                        	.line	280
  2432 04:07C5: F4 xx xx     	pea	#^L83
  2433 04:07C8: F4 xx xx     	pea	#<L83
  2434 04:07CB: 22 xx xx xx  	jsl	~~k_debug_string
  2435                        ;			k_debug_rect(pWin->win_title,&pP
                    arent->clientRect);
  2436                        	.line	281
  2437 04:07CF: 18           	clc
  2438 04:07D0: A9 18 00     	lda	#$18
  2439 04:07D3: 65 0D        	adc	<L85+pParent_1
  2440 04:07D5: 85 01        	sta	<R0
  2441 04:07D7: A9 00 00     	lda	#$0
  2442 04:07DA: 65 0F        	adc	<L85+pParent_1+2
  2443 04:07DC: 85 03        	sta	<R0+2
  2444 04:07DE: D4 03        	pei	<R0+2
  2445 04:07E0: D4 01        	pei	<R0
  2446 04:07E2: 18           	clc
  2447 04:07E3: A9 24 00     	lda	#$24
  2448 04:07E6: 65 09        	adc	<L85+pWin_1
  2449 04:07E8: 85 05        	sta	<R1
  Wed Nov 18 2020  8:26                                                Page 49


  2450 04:07EA: A9 00 00     	lda	#$0
  2451 04:07ED: 65 0B        	adc	<L85+pWin_1+2
  2452 04:07EF: 85 07        	sta	<R1+2
  2453 04:07F1: D4 07        	pei	<R1+2
  2454 04:07F3: D4 05        	pei	<R1
  2455 04:07F5: 22 xx xx xx  	jsl	~~k_debug_rect
  2456                        ;		}
  2457                        	.line	282
  2458                        ;		else
  2459 04:07F9: 82 22 00     	brl	L10021
  2460                        L10020:
  2461                        ;		{
  2462                        	.line	284
  2463                        ;			pWin->win_x = x;
  2464                        	.line	285
  2465 04:07FC: A5 18        	lda	<L84+x_0
  2466 04:07FE: A0 08 00     	ldy	#$8
  2467 04:0801: 97 09        	sta	[<L85+pWin_1],Y
  2468                        ;			pWin->win_y = y;
  2469                        	.line	286
  2470 04:0803: A5 1A        	lda	<L84+y_0
  2471 04:0805: A0 0A 00     	ldy	#$a
  2472 04:0808: 97 09        	sta	[<L85+pWin_1],Y
  2473                        ;			pWin->clientRect.x 	= pWin->
                    win_x;
  2474                        	.line	287
  2475 04:080A: A0 08 00     	ldy	#$8
  2476 04:080D: B7 09        	lda	[<L85+pWin_1],Y
  2477 04:080F: A0 18 00     	ldy	#$18
  2478 04:0812: 97 09        	sta	[<L85+pWin_1],Y
  2479                        ;			pWin->clientRect.y 	= pWin->
                    win_y;
  2480                        	.line	288
  2481 04:0814: A0 0A 00     	ldy	#$a
  2482 04:0817: B7 09        	lda	[<L85+pWin_1],Y
  2483 04:0819: A0 1A 00     	ldy	#$1a
  2484 04:081C: 97 09        	sta	[<L85+pWin_1],Y
  2485                        ;		}
  2486                        	.line	289
  2487                        L10021:
  2488                        ;
  2489                        ;		((PCLICKABLE)pWin->clickable)->area.x 	
                    	= pWin->win_x;
  2490                        	.line	291
  2491 04:081E: A0 20 00     	ldy	#$20
  2492 04:0821: B7 09        	lda	[<L85+pWin_1],Y
  2493 04:0823: 85 01        	sta	<R0
  2494 04:0825: A0 22 00     	ldy	#$22
  2495 04:0828: B7 09        	lda	[<L85+pWin_1],Y
  2496 04:082A: 85 03        	sta	<R0+2
  2497 04:082C: A0 08 00     	ldy	#$8
  2498 04:082F: B7 09        	lda	[<L85+pWin_1],Y
  2499 04:0831: 87 01        	sta	[<R0]
  2500                        ;		((PCLICKABLE)pWin->clickable)->area.y 	
                    	= pWin->win_y;
  2501                        	.line	292
  2502 04:0833: A0 20 00     	ldy	#$20
  2503 04:0836: B7 09        	lda	[<L85+pWin_1],Y
  Wed Nov 18 2020  8:26                                                Page 50


  2504 04:0838: 85 01        	sta	<R0
  2505 04:083A: A0 22 00     	ldy	#$22
  2506 04:083D: B7 09        	lda	[<L85+pWin_1],Y
  2507 04:083F: 85 03        	sta	<R0+2
  2508 04:0841: A0 0A 00     	ldy	#$a
  2509 04:0844: B7 09        	lda	[<L85+pWin_1],Y
  2510 04:0846: A0 02 00     	ldy	#$2
  2511 04:0849: 97 01        	sta	[<R0],Y
  2512                        ;
  2513                        ;		k_send_window_message(hWnd,FX_DRAW_WINDO
                    W,NULL,0);
  2514                        	.line	294
  2515 04:084B: F4 00 00     	pea	#<$0
  2516 04:084E: F4 00 00     	pea	#^$0
  2517 04:0851: F4 00 00     	pea	#<$0
  2518 04:0854: F4 00 FB     	pea	#<$fb00
  2519 04:0857: D4 16        	pei	<L84+hWnd_0+2
  2520 04:0859: D4 14        	pei	<L84+hWnd_0
  2521 04:085B: 22 xx xx xx  	jsl	~~k_send_window_message
  2522                        ;	}
  2523                        	.line	295
  2524                        ;
  2525                        ;}
  2526                        L10019:
  2527                        	.line	297
  2528                        L89:
  2529 04:085F: A5 12        	lda	<L84+2
  2530 04:0861: 85 1A        	sta	<L84+2+8
  2531 04:0863: A5 11        	lda	<L84+1
  2532 04:0865: 85 19        	sta	<L84+1+8
  2533 04:0867: 2B           	pld
  2534 04:0868: 3B           	tsc
  2535 04:0869: 18           	clc
  2536 04:086A: 69 18 00     	adc	#L84+8
  2537 04:086D: 1B           	tcs
  2538 04:086E: 6B           	rtl
  2539                        	.endblock	297
  2540             00000010   L84	equ	16
  2541             00000009   L85	equ	9
  2542 04:086F:              	ends
  2543                        	efunc
  2544                        	.endfunc	297,9,16
  2545                        	.line	297
  2546                        	data
  2547                        L83:
  2548 00:0258: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:025C: 65 72 5F 4D 
       00:0260: 6F 76 65 57 
       00:0264: 69 6E 64 
  2549 00:0267: 6F 77 3A 0D  	db	$6F,$77,$3A,$0D,$0A,$00
       00:026B: 0A 00 
  2550 00:026D:              	ends
  2551                        ;
  2552                        ;PFXNODELIST k_getWindowManagerList(void)
  2553                        ;{
  2554                        	.line	299
  2555                        	.line	300
  Wed Nov 18 2020  8:26                                                Page 51


  2556                        	WINMAN
  2557                        	xdef	~~k_getWindowManagerList
  2558                        	func
  2559                        	.function	300
  2560                        ~~k_getWindowManagerList:
  2561                        	longa	on
  2562                        	longi	on
  2563 04:086F: 3B           	tsc
  2564 04:0870: 38           	sec
  2565 04:0871: E9 00 00     	sbc	#L91
  2566 04:0874: 1B           	tcs
  2567 04:0875: 0B           	phd
  2568 04:0876: 5B           	tcd
  2569                        	.block	300
  2570                        ;	return _k_windowManager_WindowObjectList;
  2571                        	.line	301
  2572 04:0877: AE xx xx     	ldx	|~~_k_windowManager_WindowObjectList+2
  2573 04:087A: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  2574                        L94:
  2575 04:087D: A8           	tay
  2576 04:087E: 2B           	pld
  2577 04:087F: 3B           	tsc
  2578 04:0880: 18           	clc
  2579 04:0881: 69 00 00     	adc	#L91
  2580 04:0884: 1B           	tcs
  2581 04:0885: 98           	tya
  2582 04:0886: 6B           	rtl
  2583                        ;}
  2584                        	.line	302
  2585                        	.endblock	302
  2586             00000000   L91	equ	0
  2587             00000001   L92	equ	1
  2588 04:0887:              	ends
  2589                        	efunc
  2590                        	.endfunc	302,1,0
  2591                        	.line	302
  2592                        ;
  2593                        ;PFXNODELIST	k_getWindowManagerClassList(void
                    )
  2594                        ;{
  2595                        	.line	304
  2596                        	.line	305
  2597                        	WINMAN
  2598                        	xdef	~~k_getWindowManagerClassList
  2599                        	func
  2600                        	.function	305
  2601                        ~~k_getWindowManagerClassList:
  2602                        	longa	on
  2603                        	longi	on
  2604 04:0887: 3B           	tsc
  2605 04:0888: 38           	sec
  2606 04:0889: E9 00 00     	sbc	#L95
  2607 04:088C: 1B           	tcs
  2608 04:088D: 0B           	phd
  2609 04:088E: 5B           	tcd
  2610                        	.block	305
  2611                        ;	return _k_windowManager_WindowClassList;
  2612                        	.line	306
  Wed Nov 18 2020  8:26                                                Page 52


  2613 04:088F: AE xx xx     	ldx	|~~_k_windowManager_WindowClassList+2
  2614 04:0892: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  2615                        L98:
  2616 04:0895: A8           	tay
  2617 04:0896: 2B           	pld
  2618 04:0897: 3B           	tsc
  2619 04:0898: 18           	clc
  2620 04:0899: 69 00 00     	adc	#L95
  2621 04:089C: 1B           	tcs
  2622 04:089D: 98           	tya
  2623 04:089E: 6B           	rtl
  2624                        ;}
  2625                        	.line	307
  2626                        	.endblock	307
  2627             00000000   L95	equ	0
  2628             00000001   L96	equ	1
  2629 04:089F:              	ends
  2630                        	efunc
  2631                        	.endfunc	307,1,0
  2632                        	.line	307
  2633                        ;
  2634                        ;PFXNODELIST	k_getWindowManagerHitList(void)
  2635                        ;{
  2636                        	.line	309
  2637                        	.line	310
  2638                        	WINMAN
  2639                        	xdef	~~k_getWindowManagerHitList
  2640                        	func
  2641                        	.function	310
  2642                        ~~k_getWindowManagerHitList:
  2643                        	longa	on
  2644                        	longi	on
  2645 04:089F: 3B           	tsc
  2646 04:08A0: 38           	sec
  2647 04:08A1: E9 00 00     	sbc	#L99
  2648 04:08A4: 1B           	tcs
  2649 04:08A5: 0B           	phd
  2650 04:08A6: 5B           	tcd
  2651                        	.block	310
  2652                        ;	return _k_windowManager_ObjectHitList;
  2653                        	.line	311
  2654 04:08A7: AE xx xx     	ldx	|~~_k_windowManager_ObjectHitList+2
  2655 04:08AA: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
  2656                        L102:
  2657 04:08AD: A8           	tay
  2658 04:08AE: 2B           	pld
  2659 04:08AF: 3B           	tsc
  2660 04:08B0: 18           	clc
  2661 04:08B1: 69 00 00     	adc	#L99
  2662 04:08B4: 1B           	tcs
  2663 04:08B5: 98           	tya
  2664 04:08B6: 6B           	rtl
  2665                        ;}
  2666                        	.line	312
  2667                        	.endblock	312
  2668             00000000   L99	equ	0
  2669             00000001   L100	equ	1
  2670 04:08B7:              	ends
  Wed Nov 18 2020  8:26                                                Page 53


  2671                        	efunc
  2672                        	.endfunc	312,1,0
  2673                        	.line	312
  2674                        ;
  2675                        ;PFXNODE k_getWindowList(void)
  2676                        ;{
  2677                        	.line	314
  2678                        	.line	315
  2679                        	WINMAN
  2680                        	xdef	~~k_getWindowList
  2681                        	func
  2682                        	.function	315
  2683                        ~~k_getWindowList:
  2684                        	longa	on
  2685                        	longi	on
  2686 04:08B7: 3B           	tsc
  2687 04:08B8: 38           	sec
  2688 04:08B9: E9 04 00     	sbc	#L103
  2689 04:08BC: 1B           	tcs
  2690 04:08BD: 0B           	phd
  2691 04:08BE: 5B           	tcd
  2692                        	.block	315
  2693                        ;	return k_nodelist_getfirstnode(_k_windowManager_
                    WindowObjectList);
  2694                        	.line	316
  2695 04:08BF: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  2696 04:08C2: 48           	pha
  2697 04:08C3: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  2698 04:08C6: 48           	pha
  2699 04:08C7: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  2700 04:08CB: 85 01        	sta	<R0
  2701 04:08CD: 86 03        	stx	<R0+2
  2702 04:08CF: A6 03        	ldx	<R0+2
  2703 04:08D1: A5 01        	lda	<R0
  2704                        L106:
  2705 04:08D3: A8           	tay
  2706 04:08D4: 2B           	pld
  2707 04:08D5: 3B           	tsc
  2708 04:08D6: 18           	clc
  2709 04:08D7: 69 04 00     	adc	#L103
  2710 04:08DA: 1B           	tcs
  2711 04:08DB: 98           	tya
  2712 04:08DC: 6B           	rtl
  2713                        ;}
  2714                        	.line	317
  2715                        	.endblock	317
  2716             00000004   L103	equ	4
  2717             00000005   L104	equ	5
  2718 04:08DD:              	ends
  2719                        	efunc
  2720                        	.endfunc	317,5,4
  2721                        	.line	317
  2722                        ;
  2723                        ;PFXNODE	k_getWindowClassList(void)
  2724                        ;{
  2725                        	.line	319
  2726                        	.line	320
  2727                        	WINMAN
  Wed Nov 18 2020  8:26                                                Page 54


  2728                        	xdef	~~k_getWindowClassList
  2729                        	func
  2730                        	.function	320
  2731                        ~~k_getWindowClassList:
  2732                        	longa	on
  2733                        	longi	on
  2734 04:08DD: 3B           	tsc
  2735 04:08DE: 38           	sec
  2736 04:08DF: E9 04 00     	sbc	#L107
  2737 04:08E2: 1B           	tcs
  2738 04:08E3: 0B           	phd
  2739 04:08E4: 5B           	tcd
  2740                        	.block	320
  2741                        ;	return  k_nodelist_getfirstnode(_k_windowManager
                    _WindowClassList);
  2742                        	.line	321
  2743 04:08E5: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  2744 04:08E8: 48           	pha
  2745 04:08E9: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  2746 04:08EC: 48           	pha
  2747 04:08ED: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  2748 04:08F1: 85 01        	sta	<R0
  2749 04:08F3: 86 03        	stx	<R0+2
  2750 04:08F5: A6 03        	ldx	<R0+2
  2751 04:08F7: A5 01        	lda	<R0
  2752                        L110:
  2753 04:08F9: A8           	tay
  2754 04:08FA: 2B           	pld
  2755 04:08FB: 3B           	tsc
  2756 04:08FC: 18           	clc
  2757 04:08FD: 69 04 00     	adc	#L107
  2758 04:0900: 1B           	tcs
  2759 04:0901: 98           	tya
  2760 04:0902: 6B           	rtl
  2761                        ;}
  2762                        	.line	322
  2763                        	.endblock	322
  2764             00000004   L107	equ	4
  2765             00000005   L108	equ	5
  2766 04:0903:              	ends
  2767                        	efunc
  2768                        	.endfunc	322,5,4
  2769                        	.line	322
  2770                        ;
  2771                        ;PFXNODE	k_getWindowHitList(void)
  2772                        ;{
  2773                        	.line	324
  2774                        	.line	325
  2775                        	WINMAN
  2776                        	xdef	~~k_getWindowHitList
  2777                        	func
  2778                        	.function	325
  2779                        ~~k_getWindowHitList:
  2780                        	longa	on
  2781                        	longi	on
  2782 04:0903: 3B           	tsc
  2783 04:0904: 38           	sec
  2784 04:0905: E9 04 00     	sbc	#L111
  Wed Nov 18 2020  8:26                                                Page 55


  2785 04:0908: 1B           	tcs
  2786 04:0909: 0B           	phd
  2787 04:090A: 5B           	tcd
  2788                        	.block	325
  2789                        ;	return  k_nodelist_getfirstnode(_k_windowManager
                    _ObjectHitList);
  2790                        	.line	326
  2791 04:090B: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
  2792 04:090E: 48           	pha
  2793 04:090F: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
  2794 04:0912: 48           	pha
  2795 04:0913: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  2796 04:0917: 85 01        	sta	<R0
  2797 04:0919: 86 03        	stx	<R0+2
  2798 04:091B: A6 03        	ldx	<R0+2
  2799 04:091D: A5 01        	lda	<R0
  2800                        L114:
  2801 04:091F: A8           	tay
  2802 04:0920: 2B           	pld
  2803 04:0921: 3B           	tsc
  2804 04:0922: 18           	clc
  2805 04:0923: 69 04 00     	adc	#L111
  2806 04:0926: 1B           	tcs
  2807 04:0927: 98           	tya
  2808 04:0928: 6B           	rtl
  2809                        ;}
  2810                        	.line	327
  2811                        	.endblock	327
  2812             00000004   L111	equ	4
  2813             00000005   L112	equ	5
  2814 04:0929:              	ends
  2815                        	efunc
  2816                        	.endfunc	327,5,4
  2817                        	.line	327
  2818                        ;
  2819                        ;
  2820                        ;HWND k_getHandleFromWindow(PWINDOW pWin)
  2821                        ;{
  2822                        	.line	330
  2823                        	.line	331
  2824                        	WINMAN
  2825                        	xdef	~~k_getHandleFromWindow
  2826                        	func
  2827                        	.function	331
  2828                        ~~k_getHandleFromWindow:
  2829                        	longa	on
  2830                        	longi	on
  2831 04:0929: 3B           	tsc
  2832 04:092A: 38           	sec
  2833 04:092B: E9 00 00     	sbc	#L115
  2834 04:092E: 1B           	tcs
  2835 04:092F: 0B           	phd
  2836 04:0930: 5B           	tcd
  2837             00000004   pWin_0	set	4
  2838                        	.block	331
  2839                        ;	return (HWND)pWin;
  2840                        	.sym	pWin,4,138,6,32,24
  2841                        	.line	332
  Wed Nov 18 2020  8:26                                                Page 56


  2842 04:0931: A6 06        	ldx	<L115+pWin_0+2
  2843 04:0933: A5 04        	lda	<L115+pWin_0
  2844                        L118:
  2845 04:0935: A8           	tay
  2846 04:0936: A5 02        	lda	<L115+2
  2847 04:0938: 85 06        	sta	<L115+2+4
  2848 04:093A: A5 01        	lda	<L115+1
  2849 04:093C: 85 05        	sta	<L115+1+4
  2850 04:093E: 2B           	pld
  2851 04:093F: 3B           	tsc
  2852 04:0940: 18           	clc
  2853 04:0941: 69 04 00     	adc	#L115+4
  2854 04:0944: 1B           	tcs
  2855 04:0945: 98           	tya
  2856 04:0946: 6B           	rtl
  2857                        ;}
  2858                        	.line	333
  2859                        	.endblock	333
  2860             00000000   L115	equ	0
  2861             00000001   L116	equ	1
  2862 04:0947:              	ends
  2863                        	efunc
  2864                        	.endfunc	333,1,0
  2865                        	.line	333
  2866                        ;
  2867                        ;
  2868                        ;PWINDOW k_getWindowFromHandle(HWND hWnd)
  2869                        ;{
  2870                        	.line	336
  2871                        	.line	337
  2872                        	WINMAN
  2873                        	xdef	~~k_getWindowFromHandle
  2874                        	func
  2875                        	.function	337
  2876                        ~~k_getWindowFromHandle:
  2877                        	longa	on
  2878                        	longi	on
  2879 04:0947: 3B           	tsc
  2880 04:0948: 38           	sec
  2881 04:0949: E9 00 00     	sbc	#L119
  2882 04:094C: 1B           	tcs
  2883 04:094D: 0B           	phd
  2884 04:094E: 5B           	tcd
  2885             00000004   hWnd_0	set	4
  2886                        	.block	337
  2887                        ;	return (PWINDOW)hWnd;
  2888                        	.sym	hWnd,4,129,6,32
  2889                        	.line	338
  2890 04:094F: A6 06        	ldx	<L119+hWnd_0+2
  2891 04:0951: A5 04        	lda	<L119+hWnd_0
  2892                        L122:
  2893 04:0953: A8           	tay
  2894 04:0954: A5 02        	lda	<L119+2
  2895 04:0956: 85 06        	sta	<L119+2+4
  2896 04:0958: A5 01        	lda	<L119+1
  2897 04:095A: 85 05        	sta	<L119+1+4
  2898 04:095C: 2B           	pld
  2899 04:095D: 3B           	tsc
  Wed Nov 18 2020  8:26                                                Page 57


  2900 04:095E: 18           	clc
  2901 04:095F: 69 04 00     	adc	#L119+4
  2902 04:0962: 1B           	tcs
  2903 04:0963: 98           	tya
  2904 04:0964: 6B           	rtl
  2905                        ;}
  2906                        	.line	339
  2907                        	.endblock	339
  2908             00000000   L119	equ	0
  2909             00000001   L120	equ	1
  2910 04:0965:              	ends
  2911                        	efunc
  2912                        	.endfunc	339,1,0
  2913                        	.line	339
  2914                        ;
  2915                        ;HFONT k_user_RegisterFontClass(LPCSTR pFontName,L
                    PCSTR pFontData)
  2916                        ;{
  2917                        	.line	341
  2918                        	.line	342
  2919                        	WINMAN
  2920                        	xdef	~~k_user_RegisterFontClass
  2921                        	func
  2922                        	.function	342
  2923                        ~~k_user_RegisterFontClass:
  2924                        	longa	on
  2925                        	longi	on
  2926 04:0965: 3B           	tsc
  2927 04:0966: 38           	sec
  2928 04:0967: E9 00 00     	sbc	#L123
  2929 04:096A: 1B           	tcs
  2930 04:096B: 0B           	phd
  2931 04:096C: 5B           	tcd
  2932             00000004   pFontName_0	set	4
  2933             00000008   pFontData_0	set	8
  2934                        	.block	342
  2935                        ;	k_nodelist_addtolist(_k_windowManager_FontList,N
                    L_TYPE_WINDOW_FONT,pFontName,(LPVOID)pFontData);
  2936                        	.sym	pFontName,4,142,6,32
  2937                        	.sym	pFontData,8,142,6,32
  2938                        	.line	343
  2939 04:096D: D4 0A        	pei	<L123+pFontData_0+2
  2940 04:096F: D4 08        	pei	<L123+pFontData_0
  2941 04:0971: D4 06        	pei	<L123+pFontName_0+2
  2942 04:0973: D4 04        	pei	<L123+pFontName_0
  2943 04:0975: F4 06 00     	pea	#<$6
  2944 04:0978: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  2945 04:097B: 48           	pha
  2946 04:097C: AD xx xx     	lda	|~~_k_windowManager_FontList
  2947 04:097F: 48           	pha
  2948 04:0980: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  2949                        ;
  2950                        ;	return (HFONT)pFontData;
  2951                        	.line	345
  2952 04:0984: A6 0A        	ldx	<L123+pFontData_0+2
  2953 04:0986: A5 08        	lda	<L123+pFontData_0
  2954                        L126:
  2955 04:0988: A8           	tay
  Wed Nov 18 2020  8:26                                                Page 58


  2956 04:0989: A5 02        	lda	<L123+2
  2957 04:098B: 85 0A        	sta	<L123+2+8
  2958 04:098D: A5 01        	lda	<L123+1
  2959 04:098F: 85 09        	sta	<L123+1+8
  2960 04:0991: 2B           	pld
  2961 04:0992: 3B           	tsc
  2962 04:0993: 18           	clc
  2963 04:0994: 69 08 00     	adc	#L123+8
  2964 04:0997: 1B           	tcs
  2965 04:0998: 98           	tya
  2966 04:0999: 6B           	rtl
  2967                        ;}
  2968                        	.line	346
  2969                        	.endblock	346
  2970             00000000   L123	equ	0
  2971             00000001   L124	equ	1
  2972 04:099A:              	ends
  2973                        	efunc
  2974                        	.endfunc	346,1,0
  2975                        	.line	346
  2976                        ;
  2977                        ;HFONT k_user_getFontClass(LPCSTR pFontName)
  2978                        ;{
  2979                        	.line	348
  2980                        	.line	349
  2981                        	WINMAN
  2982                        	xdef	~~k_user_getFontClass
  2983                        	func
  2984                        	.function	349
  2985                        ~~k_user_getFontClass:
  2986                        	longa	on
  2987                        	longi	on
  2988 04:099A: 3B           	tsc
  2989 04:099B: 38           	sec
  2990 04:099C: E9 08 00     	sbc	#L127
  2991 04:099F: 1B           	tcs
  2992 04:09A0: 0B           	phd
  2993 04:09A1: 5B           	tcd
  2994             00000004   pFontName_0	set	4
  2995                        	.block	349
  2996                        ;	HFONT hFont = NULL;
  2997                        ;
  2998                        ;	PFXNODE found = k_nodelist_searchByName(_k_windo
                    wManager_FontList,pFontName);
  2999                        ;	if(found && found->data)
  3000             00000000   hFont_1	set	0
  3001             00000004   found_1	set	4
  3002                        	.sym	hFont,0,129,1,32
  3003                        	.sym	found,4,138,1,32,2
  3004                        	.sym	pFontName,4,142,6,32
  3005 04:09A2: 64 01        	stz	<L128+hFont_1
  3006 04:09A4: 64 03        	stz	<L128+hFont_1+2
  3007 04:09A6: D4 0E        	pei	<L127+pFontName_0+2
  3008 04:09A8: D4 0C        	pei	<L127+pFontName_0
  3009 04:09AA: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  3010 04:09AD: 48           	pha
  3011 04:09AE: AD xx xx     	lda	|~~_k_windowManager_FontList
  3012 04:09B1: 48           	pha
  Wed Nov 18 2020  8:26                                                Page 59


  3013 04:09B2: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  3014 04:09B6: 85 05        	sta	<L128+found_1
  3015 04:09B8: 86 07        	stx	<L128+found_1+2
  3016                        	.line	353
  3017                        ;	{
  3018 04:09BA: A5 05        	lda	<L128+found_1
  3019 04:09BC: 05 07        	ora	<L128+found_1+2
  3020 04:09BE: D0 03        	bne	L130
  3021 04:09C0: 82 1D 00     	brl	L10022
  3022                        L130:
  3023 04:09C3: A0 02 00     	ldy	#$2
  3024 04:09C6: B7 05        	lda	[<L128+found_1],Y
  3025 04:09C8: A0 04 00     	ldy	#$4
  3026 04:09CB: 17 05        	ora	[<L128+found_1],Y
  3027 04:09CD: D0 03        	bne	L131
  3028 04:09CF: 82 0E 00     	brl	L10022
  3029                        L131:
  3030                        	.line	354
  3031                        ;		hFont = (HFONT)found->data;
  3032                        	.line	355
  3033 04:09D2: A0 02 00     	ldy	#$2
  3034 04:09D5: B7 05        	lda	[<L128+found_1],Y
  3035 04:09D7: 85 01        	sta	<L128+hFont_1
  3036 04:09D9: A0 04 00     	ldy	#$4
  3037 04:09DC: B7 05        	lda	[<L128+found_1],Y
  3038 04:09DE: 85 03        	sta	<L128+hFont_1+2
  3039                        ;		//k_debug_string("k_user_getFontClass:\r
                    \n");
  3040                        ;		//k_debug_pointer((LPCHAR)pFontName,(LPV
                    OID)hFont);
  3041                        ;	}
  3042                        	.line	358
  3043                        ;
  3044                        ;	return hFont;
  3045                        L10022:
  3046                        	.line	360
  3047 04:09E0: A6 03        	ldx	<L128+hFont_1+2
  3048 04:09E2: A5 01        	lda	<L128+hFont_1
  3049                        L132:
  3050 04:09E4: A8           	tay
  3051 04:09E5: A5 0A        	lda	<L127+2
  3052 04:09E7: 85 0E        	sta	<L127+2+4
  3053 04:09E9: A5 09        	lda	<L127+1
  3054 04:09EB: 85 0D        	sta	<L127+1+4
  3055 04:09ED: 2B           	pld
  3056 04:09EE: 3B           	tsc
  3057 04:09EF: 18           	clc
  3058 04:09F0: 69 0C 00     	adc	#L127+4
  3059 04:09F3: 1B           	tcs
  3060 04:09F4: 98           	tya
  3061 04:09F5: 6B           	rtl
  3062                        ;}
  3063                        	.line	361
  3064                        	.endblock	361
  3065             00000008   L127	equ	8
  3066             00000001   L128	equ	1
  3067 04:09F6:              	ends
  3068                        	efunc
  Wed Nov 18 2020  8:26                                                Page 60


  3069                        	.endfunc	361,1,8
  3070                        	.line	361
  3071                        ;
  3072                        ;
  3073                        ;PWNDCLASS k_user_CreateWindowClass(LPCSTR pClassN
                    ame,LPCSTR pMenuName,UINT style,HICON icon,HCURSOR cursor,HB
                    RUSH brush,FXWndProc pWndProc)
  3074                        ;{
  3075                        	.line	364
  3076                        	.line	365
  3077                        	WINMAN
  3078                        	xdef	~~k_user_CreateWindowClass
  3079                        	func
  3080                        	.function	365
  3081                        ~~k_user_CreateWindowClass:
  3082                        	longa	on
  3083                        	longi	on
  3084 04:09F6: 3B           	tsc
  3085 04:09F7: 38           	sec
  3086 04:09F8: E9 08 00     	sbc	#L133
  3087 04:09FB: 1B           	tcs
  3088 04:09FC: 0B           	phd
  3089 04:09FD: 5B           	tcd
  3090             00000004   pClassName_0	set	4
  3091             00000008   pMenuName_0	set	8
  3092             0000000C   style_0	set	12
  3093             0000000E   icon_0	set	14
  3094             00000012   cursor_0	set	18
  3095             00000016   brush_0	set	22
  3096             0000001A   pWndProc_0	set	26
  3097                        	.block	365
  3098                        ;	PWNDCLASS wndClass = NULL;
  3099                        ;
  3100                        ;	//k_debug_strings("k_user_CreateWindowClass:",(L
                    PVOID)pClassName);
  3101                        ;
  3102                        ;
  3103                        ;	if(pClassName)
  3104             00000000   wndClass_1	set	0
  3105                        	.sym	wndClass,0,138,1,32,23
  3106                        	.sym	pClassName,4,142,6,32
  3107                        	.sym	pMenuName,8,142,6,32
  3108                        	.sym	style,12,16,6,16
  3109                        	.sym	icon,14,129,6,32
  3110                        	.sym	cursor,18,129,6,32
  3111                        	.sym	brush,22,129,6,32
  3112                        	.sym	pWndProc,26,654,6,32
  3113 04:09FE: 64 05        	stz	<L134+wndClass_1
  3114 04:0A00: 64 07        	stz	<L134+wndClass_1+2
  3115                        	.line	371
  3116                        ;	{
  3117 04:0A02: A5 0C        	lda	<L133+pClassName_0
  3118 04:0A04: 05 0E        	ora	<L133+pClassName_0+2
  3119 04:0A06: D0 03        	bne	L136
  3120 04:0A08: 82 97 00     	brl	L10023
  3121                        L136:
  3122                        	.line	372
  3123                        ;		wndClass = k_mem_allocate_heap(sizeof(WN
  Wed Nov 18 2020  8:26                                                Page 61


                    DCLASS));
  3124                        	.line	373
  3125 04:0A0B: F4 20 00     	pea	#<$20
  3126 04:0A0E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3127 04:0A12: 85 05        	sta	<L134+wndClass_1
  3128 04:0A14: 86 07        	stx	<L134+wndClass_1+2
  3129                        ;		if(wndClass)
  3130                        	.line	374
  3131                        ;		{
  3132 04:0A16: A5 05        	lda	<L134+wndClass_1
  3133 04:0A18: 05 07        	ora	<L134+wndClass_1+2
  3134 04:0A1A: D0 03        	bne	L137
  3135 04:0A1C: 82 83 00     	brl	L10024
  3136                        L137:
  3137                        	.line	375
  3138                        ;			memset(wndClass,0,sizeof(WNDCLAS
                    S));
  3139                        	.line	376
  3140 04:0A1F: F4 20 00     	pea	#<$20
  3141 04:0A22: F4 00 00     	pea	#<$0
  3142 04:0A25: D4 07        	pei	<L134+wndClass_1+2
  3143 04:0A27: D4 05        	pei	<L134+wndClass_1
  3144 04:0A29: 22 xx xx xx  	jsl	~~memset
  3145                        ;			wndClass->cbSize = sizeof(WNDCLA
                    SS);
  3146                        	.line	377
  3147 04:0A2D: A9 20 00     	lda	#$20
  3148 04:0A30: 87 05        	sta	[<L134+wndClass_1]
  3149                        ;			wndClass->lpszClassName = k_stri
                    ng_copy_string(pClassName);
  3150                        	.line	378
  3151 04:0A32: D4 0E        	pei	<L133+pClassName_0+2
  3152 04:0A34: D4 0C        	pei	<L133+pClassName_0
  3153 04:0A36: 22 xx xx xx  	jsl	~~k_string_copy_string
  3154 04:0A3A: 85 01        	sta	<R0
  3155 04:0A3C: 86 03        	stx	<R0+2
  3156 04:0A3E: A5 01        	lda	<R0
  3157 04:0A40: A0 1C 00     	ldy	#$1c
  3158 04:0A43: 97 05        	sta	[<L134+wndClass_1],Y
  3159 04:0A45: A5 03        	lda	<R0+2
  3160 04:0A47: A0 1E 00     	ldy	#$1e
  3161 04:0A4A: 97 05        	sta	[<L134+wndClass_1],Y
  3162                        ;			wndClass->pWndProc = pWndProc;
  3163                        	.line	379
  3164 04:0A4C: A5 22        	lda	<L133+pWndProc_0
  3165 04:0A4E: A0 04 00     	ldy	#$4
  3166 04:0A51: 97 05        	sta	[<L134+wndClass_1],Y
  3167 04:0A53: A5 24        	lda	<L133+pWndProc_0+2
  3168 04:0A55: A0 06 00     	ldy	#$6
  3169 04:0A58: 97 05        	sta	[<L134+wndClass_1],Y
  3170                        ;			wndClass->style = style;
  3171                        	.line	380
  3172 04:0A5A: A5 14        	lda	<L133+style_0
  3173 04:0A5C: A0 02 00     	ldy	#$2
  3174 04:0A5F: 97 05        	sta	[<L134+wndClass_1],Y
  3175                        ;			wndClass->hIcon = icon;
  3176                        	.line	381
  3177 04:0A61: A5 16        	lda	<L133+icon_0
  Wed Nov 18 2020  8:26                                                Page 62


  3178 04:0A63: A0 0C 00     	ldy	#$c
  3179 04:0A66: 97 05        	sta	[<L134+wndClass_1],Y
  3180 04:0A68: A5 18        	lda	<L133+icon_0+2
  3181 04:0A6A: A0 0E 00     	ldy	#$e
  3182 04:0A6D: 97 05        	sta	[<L134+wndClass_1],Y
  3183                        ;			wndClass->hCursor = cursor;
  3184                        	.line	382
  3185 04:0A6F: A5 1A        	lda	<L133+cursor_0
  3186 04:0A71: A0 10 00     	ldy	#$10
  3187 04:0A74: 97 05        	sta	[<L134+wndClass_1],Y
  3188 04:0A76: A5 1C        	lda	<L133+cursor_0+2
  3189 04:0A78: A0 12 00     	ldy	#$12
  3190 04:0A7B: 97 05        	sta	[<L134+wndClass_1],Y
  3191                        ;			wndClass->hbrBackground = brush;
  3192                        	.line	383
  3193 04:0A7D: A5 1E        	lda	<L133+brush_0
  3194 04:0A7F: A0 14 00     	ldy	#$14
  3195 04:0A82: 97 05        	sta	[<L134+wndClass_1],Y
  3196 04:0A84: A5 20        	lda	<L133+brush_0+2
  3197 04:0A86: A0 16 00     	ldy	#$16
  3198 04:0A89: 97 05        	sta	[<L134+wndClass_1],Y
  3199                        ;
  3200                        ;			k_nodelist_addtolist(_k_windowMa
                    nager_WindowClassList,NL_TYPE_WINDOW_CLS,pClassName,wndClass
                    );
  3201                        	.line	385
  3202 04:0A8B: D4 07        	pei	<L134+wndClass_1+2
  3203 04:0A8D: D4 05        	pei	<L134+wndClass_1
  3204 04:0A8F: D4 0E        	pei	<L133+pClassName_0+2
  3205 04:0A91: D4 0C        	pei	<L133+pClassName_0
  3206 04:0A93: F4 01 00     	pea	#<$1
  3207 04:0A96: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  3208 04:0A99: 48           	pha
  3209 04:0A9A: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  3210 04:0A9D: 48           	pha
  3211 04:0A9E: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  3212                        ;			//k_debug_nodelist(k_nodelist_ge
                    tfirstnode(_k_windowManager_WindowClassList));
  3213                        ;		}
  3214                        	.line	387
  3215                        ;
  3216                        ;		//k_debug_strings("k_user_CreateWindowCl
                    ass:","exit");
  3217                        ;	}
  3218                        L10024:
  3219                        	.line	390
  3220                        ;	return wndClass;
  3221                        L10023:
  3222                        	.line	391
  3223 04:0AA2: A6 07        	ldx	<L134+wndClass_1+2
  3224 04:0AA4: A5 05        	lda	<L134+wndClass_1
  3225                        L138:
  3226 04:0AA6: A8           	tay
  3227 04:0AA7: A5 0A        	lda	<L133+2
  3228 04:0AA9: 85 24        	sta	<L133+2+26
  3229 04:0AAB: A5 09        	lda	<L133+1
  3230 04:0AAD: 85 23        	sta	<L133+1+26
  3231 04:0AAF: 2B           	pld
  Wed Nov 18 2020  8:26                                                Page 63


  3232 04:0AB0: 3B           	tsc
  3233 04:0AB1: 18           	clc
  3234 04:0AB2: 69 22 00     	adc	#L133+26
  3235 04:0AB5: 1B           	tcs
  3236 04:0AB6: 98           	tya
  3237 04:0AB7: 6B           	rtl
  3238                        ;}
  3239                        	.line	392
  3240                        	.endblock	392
  3241             00000008   L133	equ	8
  3242             00000005   L134	equ	5
  3243 04:0AB8:              	ends
  3244                        	efunc
  3245                        	.endfunc	392,5,8
  3246                        	.line	392
  3247                        ;
  3248                        ;PWNDCLASS k_user_getWindowClass(LPCSTR pClassName
                    )
  3249                        ;{
  3250                        	.line	394
  3251                        	.line	395
  3252                        	WINMAN
  3253                        	xdef	~~k_user_getWindowClass
  3254                        	func
  3255                        	.function	395
  3256                        ~~k_user_getWindowClass:
  3257                        	longa	on
  3258                        	longi	on
  3259 04:0AB8: 3B           	tsc
  3260 04:0AB9: 38           	sec
  3261 04:0ABA: E9 08 00     	sbc	#L139
  3262 04:0ABD: 1B           	tcs
  3263 04:0ABE: 0B           	phd
  3264 04:0ABF: 5B           	tcd
  3265             00000004   pClassName_0	set	4
  3266                        	.block	395
  3267                        ;	PWNDCLASS wndClass = NULL;
  3268                        ;
  3269                        ;	PFXNODE found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  3270                        ;	if(found && found->data)
  3271             00000000   wndClass_1	set	0
  3272             00000004   found_1	set	4
  3273                        	.sym	wndClass,0,138,1,32,23
  3274                        	.sym	found,4,138,1,32,2
  3275                        	.sym	pClassName,4,142,6,32
  3276 04:0AC0: 64 01        	stz	<L140+wndClass_1
  3277 04:0AC2: 64 03        	stz	<L140+wndClass_1+2
  3278 04:0AC4: D4 0E        	pei	<L139+pClassName_0+2
  3279 04:0AC6: D4 0C        	pei	<L139+pClassName_0
  3280 04:0AC8: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  3281 04:0ACB: 48           	pha
  3282 04:0ACC: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  3283 04:0ACF: 48           	pha
  3284 04:0AD0: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  3285 04:0AD4: 85 05        	sta	<L140+found_1
  3286 04:0AD6: 86 07        	stx	<L140+found_1+2
  3287                        	.line	399
  Wed Nov 18 2020  8:26                                                Page 64


  3288                        ;	{
  3289 04:0AD8: A5 05        	lda	<L140+found_1
  3290 04:0ADA: 05 07        	ora	<L140+found_1+2
  3291 04:0ADC: D0 03        	bne	L142
  3292 04:0ADE: 82 1D 00     	brl	L10025
  3293                        L142:
  3294 04:0AE1: A0 02 00     	ldy	#$2
  3295 04:0AE4: B7 05        	lda	[<L140+found_1],Y
  3296 04:0AE6: A0 04 00     	ldy	#$4
  3297 04:0AE9: 17 05        	ora	[<L140+found_1],Y
  3298 04:0AEB: D0 03        	bne	L143
  3299 04:0AED: 82 0E 00     	brl	L10025
  3300                        L143:
  3301                        	.line	400
  3302                        ;		wndClass = (PWNDCLASS)found->data;
  3303                        	.line	401
  3304 04:0AF0: A0 02 00     	ldy	#$2
  3305 04:0AF3: B7 05        	lda	[<L140+found_1],Y
  3306 04:0AF5: 85 01        	sta	<L140+wndClass_1
  3307 04:0AF7: A0 04 00     	ldy	#$4
  3308 04:0AFA: B7 05        	lda	[<L140+found_1],Y
  3309 04:0AFC: 85 03        	sta	<L140+wndClass_1+2
  3310                        ;	}
  3311                        	.line	402
  3312                        ;
  3313                        ;	return wndClass;
  3314                        L10025:
  3315                        	.line	404
  3316 04:0AFE: A6 03        	ldx	<L140+wndClass_1+2
  3317 04:0B00: A5 01        	lda	<L140+wndClass_1
  3318                        L144:
  3319 04:0B02: A8           	tay
  3320 04:0B03: A5 0A        	lda	<L139+2
  3321 04:0B05: 85 0E        	sta	<L139+2+4
  3322 04:0B07: A5 09        	lda	<L139+1
  3323 04:0B09: 85 0D        	sta	<L139+1+4
  3324 04:0B0B: 2B           	pld
  3325 04:0B0C: 3B           	tsc
  3326 04:0B0D: 18           	clc
  3327 04:0B0E: 69 0C 00     	adc	#L139+4
  3328 04:0B11: 1B           	tcs
  3329 04:0B12: 98           	tya
  3330 04:0B13: 6B           	rtl
  3331                        ;}
  3332                        	.line	405
  3333                        	.endblock	405
  3334             00000008   L139	equ	8
  3335             00000001   L140	equ	1
  3336 04:0B14:              	ends
  3337                        	efunc
  3338                        	.endfunc	405,1,8
  3339                        	.line	405
  3340                        ;
  3341                        ;
  3342                        ;HFONT k_user_GetFont(LPCSTR pFontName)
  3343                        ;{
  3344                        	.line	408
  3345                        	.line	409
  Wed Nov 18 2020  8:26                                                Page 65


  3346                        	WINMAN
  3347                        	xdef	~~k_user_GetFont
  3348                        	func
  3349                        	.function	409
  3350                        ~~k_user_GetFont:
  3351                        	longa	on
  3352                        	longi	on
  3353 04:0B14: 3B           	tsc
  3354 04:0B15: 38           	sec
  3355 04:0B16: E9 08 00     	sbc	#L145
  3356 04:0B19: 1B           	tcs
  3357 04:0B1A: 0B           	phd
  3358 04:0B1B: 5B           	tcd
  3359             00000004   pFontName_0	set	4
  3360                        	.block	409
  3361                        ;	HFONT hFont = NULL;
  3362                        ;	PFXNODE node;
  3363                        ;
  3364                        ;	node = k_nodelist_searchByName(_k_windowManager_
                    FontList,pFontName);
  3365             00000000   hFont_1	set	0
  3366             00000004   node_1	set	4
  3367                        	.sym	hFont,0,129,1,32
  3368                        	.sym	node,4,138,1,32,2
  3369                        	.sym	pFontName,4,142,6,32
  3370 04:0B1C: 64 01        	stz	<L146+hFont_1
  3371 04:0B1E: 64 03        	stz	<L146+hFont_1+2
  3372                        	.line	413
  3373 04:0B20: D4 0E        	pei	<L145+pFontName_0+2
  3374 04:0B22: D4 0C        	pei	<L145+pFontName_0
  3375 04:0B24: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  3376 04:0B27: 48           	pha
  3377 04:0B28: AD xx xx     	lda	|~~_k_windowManager_FontList
  3378 04:0B2B: 48           	pha
  3379 04:0B2C: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  3380 04:0B30: 85 05        	sta	<L146+node_1
  3381 04:0B32: 86 07        	stx	<L146+node_1+2
  3382                        ;	if(node)
  3383                        	.line	414
  3384                        ;	{
  3385 04:0B34: A5 05        	lda	<L146+node_1
  3386 04:0B36: 05 07        	ora	<L146+node_1+2
  3387 04:0B38: D0 03        	bne	L148
  3388 04:0B3A: 82 0E 00     	brl	L10026
  3389                        L148:
  3390                        	.line	415
  3391                        ;		hFont = (HFONT)node->data;
  3392                        	.line	416
  3393 04:0B3D: A0 02 00     	ldy	#$2
  3394 04:0B40: B7 05        	lda	[<L146+node_1],Y
  3395 04:0B42: 85 01        	sta	<L146+hFont_1
  3396 04:0B44: A0 04 00     	ldy	#$4
  3397 04:0B47: B7 05        	lda	[<L146+node_1],Y
  3398 04:0B49: 85 03        	sta	<L146+hFont_1+2
  3399                        ;	}
  3400                        	.line	417
  3401                        ;
  3402                        ;	return hFont;
  Wed Nov 18 2020  8:26                                                Page 66


  3403                        L10026:
  3404                        	.line	419
  3405 04:0B4B: A6 03        	ldx	<L146+hFont_1+2
  3406 04:0B4D: A5 01        	lda	<L146+hFont_1
  3407                        L149:
  3408 04:0B4F: A8           	tay
  3409 04:0B50: A5 0A        	lda	<L145+2
  3410 04:0B52: 85 0E        	sta	<L145+2+4
  3411 04:0B54: A5 09        	lda	<L145+1
  3412 04:0B56: 85 0D        	sta	<L145+1+4
  3413 04:0B58: 2B           	pld
  3414 04:0B59: 3B           	tsc
  3415 04:0B5A: 18           	clc
  3416 04:0B5B: 69 0C 00     	adc	#L145+4
  3417 04:0B5E: 1B           	tcs
  3418 04:0B5F: 98           	tya
  3419 04:0B60: 6B           	rtl
  3420                        ;}
  3421                        	.line	420
  3422                        	.endblock	420
  3423             00000008   L145	equ	8
  3424             00000001   L146	equ	1
  3425 04:0B61:              	ends
  3426                        	efunc
  3427                        	.endfunc	420,1,8
  3428                        	.line	420
  3429                        ;
  3430                        ;HDC k_user_GetWindowDrawingContext(HWND hWnd)
  3431                        ;{
  3432                        	.line	422
  3433                        	.line	423
  3434                        	WINMAN
  3435                        	xdef	~~k_user_GetWindowDrawingContext
  3436                        	func
  3437                        	.function	423
  3438                        ~~k_user_GetWindowDrawingContext:
  3439                        	longa	on
  3440                        	longi	on
  3441 04:0B61: 3B           	tsc
  3442 04:0B62: 38           	sec
  3443 04:0B63: E9 00 00     	sbc	#L150
  3444 04:0B66: 1B           	tcs
  3445 04:0B67: 0B           	phd
  3446 04:0B68: 5B           	tcd
  3447             00000004   hWnd_0	set	4
  3448                        	.block	423
  3449                        ;	return NULL;
  3450                        	.sym	hWnd,4,129,6,32
  3451                        	.line	424
  3452 04:0B69: A9 00 00     	lda	#$0
  3453 04:0B6C: AA           	tax
  3454 04:0B6D: A9 00 00     	lda	#$0
  3455                        L153:
  3456 04:0B70: A8           	tay
  3457 04:0B71: A5 02        	lda	<L150+2
  3458 04:0B73: 85 06        	sta	<L150+2+4
  3459 04:0B75: A5 01        	lda	<L150+1
  3460 04:0B77: 85 05        	sta	<L150+1+4
  Wed Nov 18 2020  8:26                                                Page 67


  3461 04:0B79: 2B           	pld
  3462 04:0B7A: 3B           	tsc
  3463 04:0B7B: 18           	clc
  3464 04:0B7C: 69 04 00     	adc	#L150+4
  3465 04:0B7F: 1B           	tcs
  3466 04:0B80: 98           	tya
  3467 04:0B81: 6B           	rtl
  3468                        ;}
  3469                        	.line	425
  3470                        	.endblock	425
  3471             00000000   L150	equ	0
  3472             00000001   L151	equ	1
  3473 04:0B82:              	ends
  3474                        	efunc
  3475                        	.endfunc	425,1,0
  3476                        	.line	425
  3477                        ;
  3478                        ;VOID k_user_ReleaseWindowDrawingContext(HDC hDC)
  3479                        ;{
  3480                        	.line	427
  3481                        	.line	428
  3482                        	WINMAN
  3483                        	xdef	~~k_user_ReleaseWindowDrawingContext
  3484                        	func
  3485                        	.function	428
  3486                        ~~k_user_ReleaseWindowDrawingContext:
  3487                        	longa	on
  3488                        	longi	on
  3489 04:0B82: 3B           	tsc
  3490 04:0B83: 38           	sec
  3491 04:0B84: E9 00 00     	sbc	#L154
  3492 04:0B87: 1B           	tcs
  3493 04:0B88: 0B           	phd
  3494 04:0B89: 5B           	tcd
  3495             00000004   hDC_0	set	4
  3496                        	.block	428
  3497                        ;
  3498                        ;}
  3499                        	.sym	hDC,4,129,6,32
  3500                        	.line	430
  3501                        L157:
  3502 04:0B8A: A5 02        	lda	<L154+2
  3503 04:0B8C: 85 06        	sta	<L154+2+4
  3504 04:0B8E: A5 01        	lda	<L154+1
  3505 04:0B90: 85 05        	sta	<L154+1+4
  3506 04:0B92: 2B           	pld
  3507 04:0B93: 3B           	tsc
  3508 04:0B94: 18           	clc
  3509 04:0B95: 69 04 00     	adc	#L154+4
  3510 04:0B98: 1B           	tcs
  3511 04:0B99: 6B           	rtl
  3512                        	.endblock	430
  3513             00000000   L154	equ	0
  3514             00000001   L155	equ	1
  3515 04:0B9A:              	ends
  3516                        	efunc
  3517                        	.endfunc	430,1,0
  3518                        	.line	430
  Wed Nov 18 2020  8:26                                                Page 68


  3519                        ;
  3520                        ;
  3521                        ;VOID k_user_SelectFontIntoContext(HDC hDC,HFONT h
                    Font)
  3522                        ;{
  3523                        	.line	433
  3524                        	.line	434
  3525                        	WINMAN
  3526                        	xdef	~~k_user_SelectFontIntoContext
  3527                        	func
  3528                        	.function	434
  3529                        ~~k_user_SelectFontIntoContext:
  3530                        	longa	on
  3531                        	longi	on
  3532 04:0B9A: 3B           	tsc
  3533 04:0B9B: 38           	sec
  3534 04:0B9C: E9 00 00     	sbc	#L158
  3535 04:0B9F: 1B           	tcs
  3536 04:0BA0: 0B           	phd
  3537 04:0BA1: 5B           	tcd
  3538             00000004   hDC_0	set	4
  3539             00000008   hFont_0	set	8
  3540                        	.block	434
  3541                        ;
  3542                        ;}
  3543                        	.sym	hDC,4,129,6,32
  3544                        	.sym	hFont,8,129,6,32
  3545                        	.line	436
  3546                        L161:
  3547 04:0BA2: A5 02        	lda	<L158+2
  3548 04:0BA4: 85 0A        	sta	<L158+2+8
  3549 04:0BA6: A5 01        	lda	<L158+1
  3550 04:0BA8: 85 09        	sta	<L158+1+8
  3551 04:0BAA: 2B           	pld
  3552 04:0BAB: 3B           	tsc
  3553 04:0BAC: 18           	clc
  3554 04:0BAD: 69 08 00     	adc	#L158+8
  3555 04:0BB0: 1B           	tcs
  3556 04:0BB1: 6B           	rtl
  3557                        	.endblock	436
  3558             00000000   L158	equ	0
  3559             00000001   L159	equ	1
  3560 04:0BB2:              	ends
  3561                        	efunc
  3562                        	.endfunc	436,1,0
  3563                        	.line	436
  3564                        ;
  3565                        ;VOID k_user_SelectColorIntoContext(HDC hDC,HCOLOR
                     hFont)
  3566                        ;{
  3567                        	.line	438
  3568                        	.line	439
  3569                        	WINMAN
  3570                        	xdef	~~k_user_SelectColorIntoContext
  3571                        	func
  3572                        	.function	439
  3573                        ~~k_user_SelectColorIntoContext:
  3574                        	longa	on
  Wed Nov 18 2020  8:26                                                Page 69


  3575                        	longi	on
  3576 04:0BB2: 3B           	tsc
  3577 04:0BB3: 38           	sec
  3578 04:0BB4: E9 00 00     	sbc	#L162
  3579 04:0BB7: 1B           	tcs
  3580 04:0BB8: 0B           	phd
  3581 04:0BB9: 5B           	tcd
  3582             00000004   hDC_0	set	4
  3583             00000008   hFont_0	set	8
  3584                        	.block	439
  3585                        ;
  3586                        ;}
  3587                        	.sym	hDC,4,129,6,32
  3588                        	.sym	hFont,8,129,6,32
  3589                        	.line	441
  3590                        L165:
  3591 04:0BBA: A5 02        	lda	<L162+2
  3592 04:0BBC: 85 0A        	sta	<L162+2+8
  3593 04:0BBE: A5 01        	lda	<L162+1
  3594 04:0BC0: 85 09        	sta	<L162+1+8
  3595 04:0BC2: 2B           	pld
  3596 04:0BC3: 3B           	tsc
  3597 04:0BC4: 18           	clc
  3598 04:0BC5: 69 08 00     	adc	#L162+8
  3599 04:0BC8: 1B           	tcs
  3600 04:0BC9: 6B           	rtl
  3601                        	.endblock	441
  3602             00000000   L162	equ	0
  3603             00000001   L163	equ	1
  3604 04:0BCA:              	ends
  3605                        	efunc
  3606                        	.endfunc	441,1,0
  3607                        	.line	441
  3608                        ;
  3609                        ;UINT k_user_DrawText(HDC hDC,LPCSTR text,PRECT lo
                    cInOUt)
  3610                        ;{
  3611                        	.line	443
  3612                        	.line	444
  3613                        	WINMAN
  3614                        	xdef	~~k_user_DrawText
  3615                        	func
  3616                        	.function	444
  3617                        ~~k_user_DrawText:
  3618                        	longa	on
  3619                        	longi	on
  3620 04:0BCA: 3B           	tsc
  3621 04:0BCB: 38           	sec
  3622 04:0BCC: E9 00 00     	sbc	#L166
  3623 04:0BCF: 1B           	tcs
  3624 04:0BD0: 0B           	phd
  3625 04:0BD1: 5B           	tcd
  3626             00000004   hDC_0	set	4
  3627             00000008   text_0	set	8
  3628             0000000C   locInOUt_0	set	12
  3629                        	.block	444
  3630                        ;	return 0;
  3631                        	.sym	hDC,4,129,6,32
  Wed Nov 18 2020  8:26                                                Page 70


  3632                        	.sym	text,8,142,6,32
  3633                        	.sym	locInOUt,12,138,6,32,22
  3634                        	.line	445
  3635 04:0BD2: A9 00 00     	lda	#$0
  3636                        L169:
  3637 04:0BD5: A8           	tay
  3638 04:0BD6: A5 02        	lda	<L166+2
  3639 04:0BD8: 85 0E        	sta	<L166+2+12
  3640 04:0BDA: A5 01        	lda	<L166+1
  3641 04:0BDC: 85 0D        	sta	<L166+1+12
  3642 04:0BDE: 2B           	pld
  3643 04:0BDF: 3B           	tsc
  3644 04:0BE0: 18           	clc
  3645 04:0BE1: 69 0C 00     	adc	#L166+12
  3646 04:0BE4: 1B           	tcs
  3647 04:0BE5: 98           	tya
  3648 04:0BE6: 6B           	rtl
  3649                        ;}
  3650                        	.line	446
  3651                        	.endblock	446
  3652             00000000   L166	equ	0
  3653             00000001   L167	equ	1
  3654 04:0BE7:              	ends
  3655                        	efunc
  3656                        	.endfunc	446,1,0
  3657                        	.line	446
  3658                        ;
  3659                        ;UINT k_user_DrawWindowTextToPoint(HWND hWnd,LPCST
                    R text,UINT color,PRECT rectInOUt)
  3660                        ;{
  3661                        	.line	448
  3662                        	.line	449
  3663                        	WINMAN
  3664                        	xdef	~~k_user_DrawWindowTextToPoint
  3665                        	func
  3666                        	.function	449
  3667                        ~~k_user_DrawWindowTextToPoint:
  3668                        	longa	on
  3669                        	longi	on
  3670 04:0BE7: 3B           	tsc
  3671 04:0BE8: 38           	sec
  3672 04:0BE9: E9 04 00     	sbc	#L170
  3673 04:0BEC: 1B           	tcs
  3674 04:0BED: 0B           	phd
  3675 04:0BEE: 5B           	tcd
  3676             00000004   hWnd_0	set	4
  3677             00000008   text_0	set	8
  3678             0000000C   color_0	set	12
  3679             0000000E   rectInOUt_0	set	14
  3680                        	.block	449
  3681                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  3682                        ;
  3683                        ;	if(pWin)
  3684             00000000   pWin_1	set	0
  3685                        	.sym	pWin,0,138,1,32,24
  3686                        	.sym	hWnd,4,129,6,32
  3687                        	.sym	text,8,142,6,32
  3688                        	.sym	color,12,16,6,16
  Wed Nov 18 2020  8:26                                                Page 71


  3689                        	.sym	rectInOUt,14,138,6,32,22
  3690 04:0BEF: D4 0A        	pei	<L170+hWnd_0+2
  3691 04:0BF1: D4 08        	pei	<L170+hWnd_0
  3692 04:0BF3: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  3693 04:0BF7: 85 01        	sta	<L171+pWin_1
  3694 04:0BF9: 86 03        	stx	<L171+pWin_1+2
  3695                        	.line	452
  3696                        ;	{
  3697 04:0BFB: A5 01        	lda	<L171+pWin_1
  3698 04:0BFD: 05 03        	ora	<L171+pWin_1+2
  3699 04:0BFF: D0 03        	bne	L173
  3700 04:0C01: 82 25 00     	brl	L10027
  3701                        L173:
  3702                        	.line	453
  3703                        ;		k_draw_text_point_with_font(text,Bm437AT
                    I8x16,pWin->clientRect.x + rectInOUt->x,pWin->clientRect.y +
                     rectInOUt->y,color);
  3704                        	.line	454
  3705 04:0C04: D4 10        	pei	<L170+color_0
  3706 04:0C06: 18           	clc
  3707 04:0C07: A0 1A 00     	ldy	#$1a
  3708 04:0C0A: B7 01        	lda	[<L171+pWin_1],Y
  3709 04:0C0C: A0 02 00     	ldy	#$2
  3710 04:0C0F: 77 12        	adc	[<L170+rectInOUt_0],Y
  3711 04:0C11: 48           	pha
  3712 04:0C12: 18           	clc
  3713 04:0C13: A0 18 00     	ldy	#$18
  3714 04:0C16: B7 01        	lda	[<L171+pWin_1],Y
  3715 04:0C18: 67 12        	adc	[<L170+rectInOUt_0]
  3716 04:0C1A: 48           	pha
  3717 04:0C1B: F4 xx xx     	pea	#^~~Bm437ATI8x16
  3718 04:0C1E: F4 xx xx     	pea	#<~~Bm437ATI8x16
  3719 04:0C21: D4 0E        	pei	<L170+text_0+2
  3720 04:0C23: D4 0C        	pei	<L170+text_0
  3721 04:0C25: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  3722                        ;	}
  3723                        	.line	455
  3724                        ;
  3725                        ;	return 0;
  3726                        L10027:
  3727                        	.line	457
  3728 04:0C29: A9 00 00     	lda	#$0
  3729                        L174:
  3730 04:0C2C: A8           	tay
  3731 04:0C2D: A5 06        	lda	<L170+2
  3732 04:0C2F: 85 14        	sta	<L170+2+14
  3733 04:0C31: A5 05        	lda	<L170+1
  3734 04:0C33: 85 13        	sta	<L170+1+14
  3735 04:0C35: 2B           	pld
  3736 04:0C36: 3B           	tsc
  3737 04:0C37: 18           	clc
  3738 04:0C38: 69 12 00     	adc	#L170+14
  3739 04:0C3B: 1B           	tcs
  3740 04:0C3C: 98           	tya
  3741 04:0C3D: 6B           	rtl
  3742                        ;}
  3743                        	.line	458
  3744                        	.endblock	458
  Wed Nov 18 2020  8:26                                                Page 72


  3745             00000004   L170	equ	4
  3746             00000001   L171	equ	1
  3747 04:0C3E:              	ends
  3748                        	efunc
  3749                        	.endfunc	458,1,4
  3750                        	.line	458
  3751                        ;
  3752                        ;UINT k_user_DrawWindowTextToPointWithFont(HWND hW
                    nd,LPCSTR text,UINT color,PRECT rectInOUt,LPCSTR charSet)
  3753                        ;{
  3754                        	.line	460
  3755                        	.line	461
  3756                        	WINMAN
  3757                        	xdef	~~k_user_DrawWindowTextToPointWithFont
  3758                        	func
  3759                        	.function	461
  3760                        ~~k_user_DrawWindowTextToPointWithFont:
  3761                        	longa	on
  3762                        	longi	on
  3763 04:0C3E: 3B           	tsc
  3764 04:0C3F: 38           	sec
  3765 04:0C40: E9 06 00     	sbc	#L175
  3766 04:0C43: 1B           	tcs
  3767 04:0C44: 0B           	phd
  3768 04:0C45: 5B           	tcd
  3769             00000004   hWnd_0	set	4
  3770             00000008   text_0	set	8
  3771             0000000C   color_0	set	12
  3772             0000000E   rectInOUt_0	set	14
  3773             00000012   charSet_0	set	18
  3774                        	.block	461
  3775                        ;	UINT x = 0;
  3776                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  3777                        ;
  3778                        ;	if(pWin)
  3779             00000000   x_1	set	0
  3780             00000002   pWin_1	set	2
  3781                        	.sym	x,0,16,1,16
  3782                        	.sym	pWin,2,138,1,32,24
  3783                        	.sym	hWnd,4,129,6,32
  3784                        	.sym	text,8,142,6,32
  3785                        	.sym	color,12,16,6,16
  3786                        	.sym	rectInOUt,14,138,6,32,22
  3787                        	.sym	charSet,18,142,6,32
  3788 04:0C46: 64 01        	stz	<L176+x_1
  3789 04:0C48: D4 0C        	pei	<L175+hWnd_0+2
  3790 04:0C4A: D4 0A        	pei	<L175+hWnd_0
  3791 04:0C4C: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  3792 04:0C50: 85 03        	sta	<L176+pWin_1
  3793 04:0C52: 86 05        	stx	<L176+pWin_1+2
  3794                        	.line	465
  3795                        ;	{
  3796 04:0C54: A5 03        	lda	<L176+pWin_1
  3797 04:0C56: 05 05        	ora	<L176+pWin_1+2
  3798 04:0C58: D0 03        	bne	L178
  3799 04:0C5A: 82 25 00     	brl	L10028
  3800                        L178:
  3801                        	.line	466
  Wed Nov 18 2020  8:26                                                Page 73


  3802                        ;		//if(pWin->clientRect.y + rectInOUt->y >
                     pWin->win_height)
  3803                        ;		//	return 0;
  3804                        ;
  3805                        ;		x = k_draw_text_point_with_font(text,cha
                    rSet,pWin->clientRect.x + rectInOUt->x,pWin->clientRect.y + 
                    rectInOUt->y,color);
  3806                        	.line	470
  3807 04:0C5D: D4 12        	pei	<L175+color_0
  3808 04:0C5F: 18           	clc
  3809 04:0C60: A0 1A 00     	ldy	#$1a
  3810 04:0C63: B7 03        	lda	[<L176+pWin_1],Y
  3811 04:0C65: A0 02 00     	ldy	#$2
  3812 04:0C68: 77 14        	adc	[<L175+rectInOUt_0],Y
  3813 04:0C6A: 48           	pha
  3814 04:0C6B: 18           	clc
  3815 04:0C6C: A0 18 00     	ldy	#$18
  3816 04:0C6F: B7 03        	lda	[<L176+pWin_1],Y
  3817 04:0C71: 67 14        	adc	[<L175+rectInOUt_0]
  3818 04:0C73: 48           	pha
  3819 04:0C74: D4 1A        	pei	<L175+charSet_0+2
  3820 04:0C76: D4 18        	pei	<L175+charSet_0
  3821 04:0C78: D4 10        	pei	<L175+text_0+2
  3822 04:0C7A: D4 0E        	pei	<L175+text_0
  3823 04:0C7C: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  3824 04:0C80: 85 01        	sta	<L176+x_1
  3825                        ;	}
  3826                        	.line	471
  3827                        ;
  3828                        ;	return x;
  3829                        L10028:
  3830                        	.line	473
  3831 04:0C82: A5 01        	lda	<L176+x_1
  3832                        L179:
  3833 04:0C84: A8           	tay
  3834 04:0C85: A5 08        	lda	<L175+2
  3835 04:0C87: 85 1A        	sta	<L175+2+18
  3836 04:0C89: A5 07        	lda	<L175+1
  3837 04:0C8B: 85 19        	sta	<L175+1+18
  3838 04:0C8D: 2B           	pld
  3839 04:0C8E: 3B           	tsc
  3840 04:0C8F: 18           	clc
  3841 04:0C90: 69 18 00     	adc	#L175+18
  3842 04:0C93: 1B           	tcs
  3843 04:0C94: 98           	tya
  3844 04:0C95: 6B           	rtl
  3845                        ;}
  3846                        	.line	474
  3847                        	.endblock	474
  3848             00000006   L175	equ	6
  3849             00000001   L176	equ	1
  3850 04:0C96:              	ends
  3851                        	efunc
  3852                        	.endfunc	474,1,6
  3853                        	.line	474
  3854                        ;
  3855                        ;
  3856                        ;PRECT k_user_FillClientRect(HWND hWnd,UINT color)
  Wed Nov 18 2020  8:26                                                Page 74


  3857                        ;{
  3858                        	.line	477
  3859                        	.line	478
  3860                        	WINMAN
  3861                        	xdef	~~k_user_FillClientRect
  3862                        	func
  3863                        	.function	478
  3864                        ~~k_user_FillClientRect:
  3865                        	longa	on
  3866                        	longi	on
  3867 04:0C96: 3B           	tsc
  3868 04:0C97: 38           	sec
  3869 04:0C98: E9 0C 00     	sbc	#L180
  3870 04:0C9B: 1B           	tcs
  3871 04:0C9C: 0B           	phd
  3872 04:0C9D: 5B           	tcd
  3873             00000004   hWnd_0	set	4
  3874             00000008   color_0	set	8
  3875                        	.block	478
  3876                        ;	PRECT prect = NULL;
  3877                        ;
  3878                        ;	if(hWnd)
  3879             00000000   prect_1	set	0
  3880                        	.sym	prect,0,138,1,32,22
  3881                        	.sym	hWnd,4,129,6,32
  3882                        	.sym	color,8,16,6,16
  3883 04:0C9E: 64 09        	stz	<L181+prect_1
  3884 04:0CA0: 64 0B        	stz	<L181+prect_1+2
  3885                        	.line	481
  3886                        ;	{
  3887 04:0CA2: A5 10        	lda	<L180+hWnd_0
  3888 04:0CA4: 05 12        	ora	<L180+hWnd_0+2
  3889 04:0CA6: D0 03        	bne	L183
  3890 04:0CA8: 82 54 00     	brl	L10029
  3891                        L183:
  3892                        	.line	482
  3893                        ;		prect = &(k_getWindowFromHandle(hWnd)->c
                    lientRect);
  3894                        	.line	483
  3895 04:0CAB: D4 12        	pei	<L180+hWnd_0+2
  3896 04:0CAD: D4 10        	pei	<L180+hWnd_0
  3897 04:0CAF: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  3898 04:0CB3: 85 01        	sta	<R0
  3899 04:0CB5: 86 03        	stx	<R0+2
  3900 04:0CB7: 18           	clc
  3901 04:0CB8: A9 18 00     	lda	#$18
  3902 04:0CBB: 65 01        	adc	<R0
  3903 04:0CBD: 85 09        	sta	<L181+prect_1
  3904 04:0CBF: A9 00 00     	lda	#$0
  3905 04:0CC2: 65 03        	adc	<R0+2
  3906 04:0CC4: 85 0B        	sta	<L181+prect_1+2
  3907                        ;		k_vdma_fill_rect(prect->x,prect->y,
  3908                        	.line	484
  3909                        ;						 prect->
                    width,prect->height,
  3910                        ;						 color);
  3911 04:0CC6: D4 14        	pei	<L180+color_0
  3912 04:0CC8: A0 06 00     	ldy	#$6
  Wed Nov 18 2020  8:26                                                Page 75


  3913 04:0CCB: B7 09        	lda	[<L181+prect_1],Y
  3914 04:0CCD: 48           	pha
  3915 04:0CCE: A0 04 00     	ldy	#$4
  3916 04:0CD1: B7 09        	lda	[<L181+prect_1],Y
  3917 04:0CD3: 48           	pha
  3918 04:0CD4: A0 00 00     	ldy	#$0
  3919 04:0CD7: 5A           	phy
  3920 04:0CD8: A0 02 00     	ldy	#$2
  3921 04:0CDB: B7 09        	lda	[<L181+prect_1],Y
  3922 04:0CDD: 7A           	ply
  3923 04:0CDE: 2A           	rol	A
  3924 04:0CDF: 6A           	ror	A
  3925 04:0CE0: 10 01        	bpl	L184
  3926 04:0CE2: 88           	dey
  3927                        L184:
  3928 04:0CE3: 85 01        	sta	<R0
  3929 04:0CE5: 84 03        	sty	<R0+2
  3930 04:0CE7: D4 03        	pei	<R0+2
  3931 04:0CE9: D4 01        	pei	<R0
  3932 04:0CEB: A0 00 00     	ldy	#$0
  3933 04:0CEE: A7 09        	lda	[<L181+prect_1]
  3934 04:0CF0: 10 01        	bpl	L185
  3935 04:0CF2: 88           	dey
  3936                        L185:
  3937 04:0CF3: 85 05        	sta	<R1
  3938 04:0CF5: 84 07        	sty	<R1+2
  3939 04:0CF7: D4 07        	pei	<R1+2
  3940 04:0CF9: D4 05        	pei	<R1
  3941 04:0CFB: 22 xx xx xx  	jsl	~~k_vdma_fill_rect
  3942                        ;	}
  3943                        	.line	487
  3944                        ;
  3945                        ;
  3946                        ;	return prect;
  3947                        L10029:
  3948                        	.line	490
  3949 04:0CFF: A6 0B        	ldx	<L181+prect_1+2
  3950 04:0D01: A5 09        	lda	<L181+prect_1
  3951                        L186:
  3952 04:0D03: A8           	tay
  3953 04:0D04: A5 0E        	lda	<L180+2
  3954 04:0D06: 85 14        	sta	<L180+2+6
  3955 04:0D08: A5 0D        	lda	<L180+1
  3956 04:0D0A: 85 13        	sta	<L180+1+6
  3957 04:0D0C: 2B           	pld
  3958 04:0D0D: 3B           	tsc
  3959 04:0D0E: 18           	clc
  3960 04:0D0F: 69 12 00     	adc	#L180+6
  3961 04:0D12: 1B           	tcs
  3962 04:0D13: 98           	tya
  3963 04:0D14: 6B           	rtl
  3964                        ;}
  3965                        	.line	491
  3966                        	.endblock	491
  3967             0000000C   L180	equ	12
  3968             00000009   L181	equ	9
  3969 04:0D15:              	ends
  3970                        	efunc
  Wed Nov 18 2020  8:26                                                Page 76


  3971                        	.endfunc	491,9,12
  3972                        	.line	491
  3973                        ;
  3974                        ;HANDLE k_user_RegisterWindowClass(PWNDCLASS pTemp
                    late)
  3975                        ;{
  3976                        	.line	493
  3977                        	.line	494
  3978                        	WINMAN
  3979                        	xdef	~~k_user_RegisterWindowClass
  3980                        	func
  3981                        	.function	494
  3982                        ~~k_user_RegisterWindowClass:
  3983                        	longa	on
  3984                        	longi	on
  3985 04:0D15: 3B           	tsc
  3986 04:0D16: 38           	sec
  3987 04:0D17: E9 00 00     	sbc	#L187
  3988 04:0D1A: 1B           	tcs
  3989 04:0D1B: 0B           	phd
  3990 04:0D1C: 5B           	tcd
  3991             00000004   pTemplate_0	set	4
  3992                        	.block	494
  3993                        ;	return NULL;
  3994                        	.sym	pTemplate,4,138,6,32,23
  3995                        	.line	495
  3996 04:0D1D: A9 00 00     	lda	#$0
  3997 04:0D20: AA           	tax
  3998 04:0D21: A9 00 00     	lda	#$0
  3999                        L190:
  4000 04:0D24: A8           	tay
  4001 04:0D25: A5 02        	lda	<L187+2
  4002 04:0D27: 85 06        	sta	<L187+2+4
  4003 04:0D29: A5 01        	lda	<L187+1
  4004 04:0D2B: 85 05        	sta	<L187+1+4
  4005 04:0D2D: 2B           	pld
  4006 04:0D2E: 3B           	tsc
  4007 04:0D2F: 18           	clc
  4008 04:0D30: 69 04 00     	adc	#L187+4
  4009 04:0D33: 1B           	tcs
  4010 04:0D34: 98           	tya
  4011 04:0D35: 6B           	rtl
  4012                        ;}
  4013                        	.line	496
  4014                        	.endblock	496
  4015             00000000   L187	equ	0
  4016             00000001   L188	equ	1
  4017 04:0D36:              	ends
  4018                        	efunc
  4019                        	.endfunc	496,1,0
  4020                        	.line	496
  4021                        ;
  4022                        ;
  4023                        ;PWINDOW	k_user_LoadDialog(LPCSTR    pWindowName,
  4024                        ;						  LPCSTR
                    	pDlgClassName,
  4025                        ;   						
                      INT       x,
  Wed Nov 18 2020  8:26                                                Page 77


  4026                        ;						  INT   
                        y,
  4027                        ;						  INT   
                        nWidth,
  4028                        ;						  INT   
                        nHeight,
  4029                        ;						  HWND  
                        hWndParent)
  4030                        ;{
  4031                        	.line	499
  4032                        	.line	506
  4033                        	WINMAN
  4034                        	xdef	~~k_user_LoadDialog
  4035                        	func
  4036                        	.function	506
  4037                        ~~k_user_LoadDialog:
  4038                        	longa	on
  4039                        	longi	on
  4040 04:0D36: 3B           	tsc
  4041 04:0D37: 38           	sec
  4042 04:0D38: E9 04 00     	sbc	#L191
  4043 04:0D3B: 1B           	tcs
  4044 04:0D3C: 0B           	phd
  4045 04:0D3D: 5B           	tcd
  4046             00000004   pWindowName_0	set	4
  4047             00000008   pDlgClassName_0	set	8
  4048             0000000C   x_0	set	12
  4049             0000000E   y_0	set	14
  4050             00000010   nWidth_0	set	16
  4051             00000012   nHeight_0	set	18
  4052             00000014   hWndParent_0	set	20
  4053                        	.block	506
  4054                        ;	return k_user_CreateWindow(FXWS_DLGFRAME | FXWS_
                    VISIBLE,
  4055                        	.sym	pWindowName,4,142,6,32
  4056                        	.sym	pDlgClassName,8,142,6,32
  4057                        	.sym	x,12,5,6,16
  4058                        	.sym	y,14,5,6,16
  4059                        	.sym	nWidth,16,5,6,16
  4060                        	.sym	nHeight,18,5,6,16
  4061                        	.sym	hWndParent,20,129,6,32
  4062                        	.line	507
  4063                        ;							
                       pDlgClassName,
  4064                        ;							
                       pWindowName,
  4065                        ;							
                       x,y,
  4066                        ;							
                       nWidth,nHeight,
  4067                        ;							
                       hWndParent,
  4068                        ;							
                       NULL,
  4069                        ;							
                       NULL);
  4070 04:0D3E: F4 00 00     	pea	#^$0
  4071 04:0D41: F4 00 00     	pea	#<$0
  Wed Nov 18 2020  8:26                                                Page 78


  4072 04:0D44: F4 00 00     	pea	#^$0
  4073 04:0D47: F4 00 00     	pea	#<$0
  4074 04:0D4A: D4 1A        	pei	<L191+hWndParent_0+2
  4075 04:0D4C: D4 18        	pei	<L191+hWndParent_0
  4076 04:0D4E: D4 16        	pei	<L191+nHeight_0
  4077 04:0D50: D4 14        	pei	<L191+nWidth_0
  4078 04:0D52: D4 12        	pei	<L191+y_0
  4079 04:0D54: D4 10        	pei	<L191+x_0
  4080 04:0D56: D4 0A        	pei	<L191+pWindowName_0+2
  4081 04:0D58: D4 08        	pei	<L191+pWindowName_0
  4082 04:0D5A: D4 0E        	pei	<L191+pDlgClassName_0+2
  4083 04:0D5C: D4 0C        	pei	<L191+pDlgClassName_0
  4084 04:0D5E: F4 04 00     	pea	#^$40001
  4085 04:0D61: F4 01 00     	pea	#<$40001
  4086 04:0D64: 22 DB 0D 04  	jsl	~~k_user_CreateWindow
  4087 04:0D68: 85 01        	sta	<R0
  4088 04:0D6A: 86 03        	stx	<R0+2
  4089 04:0D6C: A6 03        	ldx	<R0+2
  4090 04:0D6E: A5 01        	lda	<R0
  4091                        L194:
  4092 04:0D70: A8           	tay
  4093 04:0D71: A5 06        	lda	<L191+2
  4094 04:0D73: 85 1A        	sta	<L191+2+20
  4095 04:0D75: A5 05        	lda	<L191+1
  4096 04:0D77: 85 19        	sta	<L191+1+20
  4097 04:0D79: 2B           	pld
  4098 04:0D7A: 3B           	tsc
  4099 04:0D7B: 18           	clc
  4100 04:0D7C: 69 18 00     	adc	#L191+20
  4101 04:0D7F: 1B           	tcs
  4102 04:0D80: 98           	tya
  4103 04:0D81: 6B           	rtl
  4104                        ;
  4105                        ;}
  4106                        	.line	516
  4107                        	.endblock	516
  4108             00000004   L191	equ	4
  4109             00000005   L192	equ	5
  4110 04:0D82:              	ends
  4111                        	efunc
  4112                        	.endfunc	516,5,4
  4113                        	.line	516
  4114                        ;
  4115                        ;BOOL k_user_CloseWindow(HWND hWnd)
  4116                        ;{
  4117                        	.line	518
  4118                        	.line	519
  4119                        	WINMAN
  4120                        	xdef	~~k_user_CloseWindow
  4121                        	func
  4122                        	.function	519
  4123                        ~~k_user_CloseWindow:
  4124                        	longa	on
  4125                        	longi	on
  4126 04:0D82: 3B           	tsc
  4127 04:0D83: 38           	sec
  4128 04:0D84: E9 04 00     	sbc	#L195
  4129 04:0D87: 1B           	tcs
  Wed Nov 18 2020  8:26                                                Page 79


  4130 04:0D88: 0B           	phd
  4131 04:0D89: 5B           	tcd
  4132             00000004   hWnd_0	set	4
  4133                        	.block	519
  4134                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  4135                        ;
  4136                        ;	if(pWin)
  4137             00000000   pWin_1	set	0
  4138                        	.sym	pWin,0,138,1,32,24
  4139                        	.sym	hWnd,4,129,6,32
  4140 04:0D8A: D4 0A        	pei	<L195+hWnd_0+2
  4141 04:0D8C: D4 08        	pei	<L195+hWnd_0
  4142 04:0D8E: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  4143 04:0D92: 85 01        	sta	<L196+pWin_1
  4144 04:0D94: 86 03        	stx	<L196+pWin_1+2
  4145                        	.line	522
  4146                        ;	{
  4147 04:0D96: A5 01        	lda	<L196+pWin_1
  4148 04:0D98: 05 03        	ora	<L196+pWin_1+2
  4149 04:0D9A: D0 03        	bne	L198
  4150 04:0D9C: 82 36 00     	brl	L10030
  4151                        L198:
  4152                        	.line	523
  4153                        ;		if(!pWin->isClosed)
  4154                        	.line	524
  4155                        ;		{
  4156 04:0D9F: A0 A5 00     	ldy	#$a5
  4157 04:0DA2: B7 01        	lda	[<L196+pWin_1],Y
  4158 04:0DA4: 29 FF 00     	and	#$ff
  4159 04:0DA7: F0 03        	beq	L199
  4160 04:0DA9: 82 14 00     	brl	L10031
  4161                        L199:
  4162                        	.line	525
  4163                        ;			k_send_window_message(hWnd,FX_WI
                    NDOW_CLOSE,NULL,0);
  4164                        	.line	526
  4165 04:0DAC: F4 00 00     	pea	#<$0
  4166 04:0DAF: F4 00 00     	pea	#^$0
  4167 04:0DB2: F4 00 00     	pea	#<$0
  4168 04:0DB5: F4 FF FB     	pea	#<$fbff
  4169 04:0DB8: D4 0A        	pei	<L195+hWnd_0+2
  4170 04:0DBA: D4 08        	pei	<L195+hWnd_0
  4171 04:0DBC: 22 xx xx xx  	jsl	~~k_send_window_message
  4172                        ;		}
  4173                        	.line	527
  4174                        ;		return TRUE;
  4175                        L10031:
  4176                        	.line	528
  4177 04:0DC0: A9 01 00     	lda	#$1
  4178                        L200:
  4179 04:0DC3: A8           	tay
  4180 04:0DC4: A5 06        	lda	<L195+2
  4181 04:0DC6: 85 0A        	sta	<L195+2+4
  4182 04:0DC8: A5 05        	lda	<L195+1
  4183 04:0DCA: 85 09        	sta	<L195+1+4
  4184 04:0DCC: 2B           	pld
  4185 04:0DCD: 3B           	tsc
  4186 04:0DCE: 18           	clc
  Wed Nov 18 2020  8:26                                                Page 80


  4187 04:0DCF: 69 08 00     	adc	#L195+4
  4188 04:0DD2: 1B           	tcs
  4189 04:0DD3: 98           	tya
  4190 04:0DD4: 6B           	rtl
  4191                        ;	}
  4192                        	.line	529
  4193                        ;
  4194                        ;	return FALSE;
  4195                        L10030:
  4196                        	.line	531
  4197 04:0DD5: A9 00 00     	lda	#$0
  4198 04:0DD8: 82 E8 FF     	brl	L200
  4199                        ;}
  4200                        	.line	532
  4201                        	.endblock	532
  4202             00000004   L195	equ	4
  4203             00000001   L196	equ	1
  4204 04:0DDB:              	ends
  4205                        	efunc
  4206                        	.endfunc	532,1,4
  4207                        	.line	532
  4208                        ;
  4209                        ;PWINDOW	k_user_CreateWindow(ULONG     style,
  4210                        ;						    LPCS
                    TR    pClassName,
  4211                        ;							
                    LPCSTR    pWindowName,
  4212                        ;							
                    INT       x,
  4213                        ;							
                    INT       y,
  4214                        ;							
                    INT       nWidth,
  4215                        ;							
                    INT       nHeight,
  4216                        ;							
                    HWND      hWndParent,
  4217                        ;							
                    HMENU     hMenu,
  4218                        ;							
                    HINSTANCE hInstance)
  4219                        ;{
  4220                        	.line	534
  4221                        	.line	544
  4222                        	WINMAN
  4223                        	xdef	~~k_user_CreateWindow
  4224                        	func
  4225                        	.function	544
  4226                        ~~k_user_CreateWindow:
  4227                        	longa	on
  4228                        	longi	on
  4229 04:0DDB: 3B           	tsc
  4230 04:0DDC: 38           	sec
  4231 04:0DDD: E9 30 00     	sbc	#L201
  4232 04:0DE0: 1B           	tcs
  4233 04:0DE1: 0B           	phd
  4234 04:0DE2: 5B           	tcd
  4235             00000004   style_0	set	4
  Wed Nov 18 2020  8:26                                                Page 81


  4236             00000008   pClassName_0	set	8
  4237             0000000C   pWindowName_0	set	12
  4238             00000010   x_0	set	16
  4239             00000012   y_0	set	18
  4240             00000014   nWidth_0	set	20
  4241             00000016   nHeight_0	set	22
  4242             00000018   hWndParent_0	set	24
  4243             0000001C   hMenu_0	set	28
  4244             00000020   hInstance_0	set	32
  4245                        	.block	544
  4246                        ;
  4247                        ;	PFXNODE   found = NULL;
  4248                        ;	PWINDOW   pWin = NULL;
  4249                        ;	PWINDOW   pParent = NULL;
  4250                        ;	PWNDCLASS wndClass = NULL;
  4251                        ;
  4252                        ;	UCHAR localBuffer[16];
  4253                        ;
  4254                        ;	PFXPROCESS p = k_exec_get_current_process();
  4255                        ;
  4256                        ;	k_debug_strings("k_user_CreateWindow:",(LPCHAR)p
                    WindowName);
  4257             00000000   found_1	set	0
  4258             00000004   pWin_1	set	4
  4259             00000008   pParent_1	set	8
  4260             0000000C   wndClass_1	set	12
  4261             00000010   localBuffer_1	set	16
  4262             00000020   p_1	set	32
  4263                        	.sym	found,0,138,1,32,2
  4264                        	.sym	pWin,4,138,1,32,24
  4265                        	.sym	pParent,8,138,1,32,24
  4266                        	.sym	wndClass,12,138,1,32,23
  4267                        	.sym	localBuffer,16,110,1,0,16
  4268                        	.sym	p,32,138,1,32,17
  4269                        	.sym	style,4,18,6,32
  4270                        	.sym	pClassName,8,142,6,32
  4271                        	.sym	pWindowName,12,142,6,32
  4272                        	.sym	x,16,5,6,16
  4273                        	.sym	y,18,5,6,16
  4274                        	.sym	nWidth,20,5,6,16
  4275                        	.sym	nHeight,22,5,6,16
  4276                        	.sym	hWndParent,24,129,6,32
  4277                        	.sym	hMenu,28,129,6,32
  4278                        	.sym	hInstance,32,129,6,32
  4279 04:0DE3: 64 09        	stz	<L202+found_1
  4280 04:0DE5: 64 0B        	stz	<L202+found_1+2
  4281 04:0DE7: 64 0D        	stz	<L202+pWin_1
  4282 04:0DE9: 64 0F        	stz	<L202+pWin_1+2
  4283 04:0DEB: 64 11        	stz	<L202+pParent_1
  4284 04:0DED: 64 13        	stz	<L202+pParent_1+2
  4285 04:0DEF: 64 15        	stz	<L202+wndClass_1
  4286 04:0DF1: 64 17        	stz	<L202+wndClass_1+2
  4287 04:0DF3: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  4288 04:0DF7: 85 29        	sta	<L202+p_1
  4289 04:0DF9: 86 2B        	stx	<L202+p_1+2
  4290                        	.line	555
  4291 04:0DFB: D4 3E        	pei	<L201+pWindowName_0+2
  4292 04:0DFD: D4 3C        	pei	<L201+pWindowName_0
  Wed Nov 18 2020  8:26                                                Page 82


  4293 04:0DFF: F4 xx xx     	pea	#^L90
  4294 04:0E02: F4 xx xx     	pea	#<L90
  4295 04:0E05: 22 xx xx xx  	jsl	~~k_debug_strings
  4296                        ;
  4297                        ;	if(pClassName && pWindowName)
  4298                        	.line	557
  4299                        ;	{
  4300 04:0E09: A5 38        	lda	<L201+pClassName_0
  4301 04:0E0B: 05 3A        	ora	<L201+pClassName_0+2
  4302 04:0E0D: D0 03        	bne	L204
  4303 04:0E0F: 82 DD 03     	brl	L10032
  4304                        L204:
  4305 04:0E12: A5 3C        	lda	<L201+pWindowName_0
  4306 04:0E14: 05 3E        	ora	<L201+pWindowName_0+2
  4307 04:0E16: D0 03        	bne	L205
  4308 04:0E18: 82 D4 03     	brl	L10032
  4309                        L205:
  4310                        	.line	558
  4311                        ;		//pWindowName = strupr((LPCHAR)pWindowNa
                    me); // temp fix for font def issue
  4312                        ;
  4313                        ;		found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  4314                        	.line	561
  4315 04:0E1B: D4 3A        	pei	<L201+pClassName_0+2
  4316 04:0E1D: D4 38        	pei	<L201+pClassName_0
  4317 04:0E1F: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  4318 04:0E22: 48           	pha
  4319 04:0E23: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  4320 04:0E26: 48           	pha
  4321 04:0E27: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4322 04:0E2B: 85 09        	sta	<L202+found_1
  4323 04:0E2D: 86 0B        	stx	<L202+found_1+2
  4324                        ;		if(found && found->data)
  4325                        	.line	562
  4326                        ;		{
  4327 04:0E2F: A5 09        	lda	<L202+found_1
  4328 04:0E31: 05 0B        	ora	<L202+found_1+2
  4329 04:0E33: D0 03        	bne	L206
  4330 04:0E35: 82 B7 03     	brl	L10033
  4331                        L206:
  4332 04:0E38: A0 02 00     	ldy	#$2
  4333 04:0E3B: B7 09        	lda	[<L202+found_1],Y
  4334 04:0E3D: A0 04 00     	ldy	#$4
  4335 04:0E40: 17 09        	ora	[<L202+found_1],Y
  4336 04:0E42: D0 03        	bne	L207
  4337 04:0E44: 82 A8 03     	brl	L10033
  4338                        L207:
  4339                        	.line	563
  4340                        ;			wndClass = (PWNDCLASS)found->dat
                    a;
  4341                        	.line	564
  4342 04:0E47: A0 02 00     	ldy	#$2
  4343 04:0E4A: B7 09        	lda	[<L202+found_1],Y
  4344 04:0E4C: 85 15        	sta	<L202+wndClass_1
  4345 04:0E4E: A0 04 00     	ldy	#$4
  4346 04:0E51: B7 09        	lda	[<L202+found_1],Y
  4347 04:0E53: 85 17        	sta	<L202+wndClass_1+2
  Wed Nov 18 2020  8:26                                                Page 83


  4348                        ;
  4349                        ;			//k_debug_strings("k_user_Create
                    Window:Found WndClass:",(LPVOID)wndClass->lpszClassName);
  4350                        ;
  4351                        ;			pWin = k_mem_allocate_heap(sizeo
                    f(WINDOW));
  4352                        	.line	568
  4353 04:0E55: F4 A6 00     	pea	#<$a6
  4354 04:0E58: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  4355 04:0E5C: 85 0D        	sta	<L202+pWin_1
  4356 04:0E5E: 86 0F        	stx	<L202+pWin_1+2
  4357                        ;			if(pWin)
  4358                        	.line	569
  4359                        ;			{
  4360 04:0E60: A5 0D        	lda	<L202+pWin_1
  4361 04:0E62: 05 0F        	ora	<L202+pWin_1+2
  4362 04:0E64: D0 03        	bne	L208
  4363 04:0E66: 82 86 03     	brl	L10034
  4364                        L208:
  4365                        	.line	570
  4366                        ;				memset(pWin,0,sizeof(WIN
                    DOW));
  4367                        	.line	571
  4368 04:0E69: F4 A6 00     	pea	#<$a6
  4369 04:0E6C: F4 00 00     	pea	#<$0
  4370 04:0E6F: D4 0F        	pei	<L202+pWin_1+2
  4371 04:0E71: D4 0D        	pei	<L202+pWin_1
  4372 04:0E73: 22 xx xx xx  	jsl	~~memset
  4373                        ;				pWin->cbSize = sizeof(WI
                    NDOW);
  4374                        	.line	572
  4375 04:0E77: A9 A6 00     	lda	#$a6
  4376 04:0E7A: 87 0D        	sta	[<L202+pWin_1]
  4377                        ;
  4378                        ;				if(p)
  4379                        	.line	574
  4380                        ;				{
  4381 04:0E7C: A5 29        	lda	<L202+p_1
  4382 04:0E7E: 05 2B        	ora	<L202+p_1+2
  4383 04:0E80: D0 03        	bne	L209
  4384 04:0E82: 82 17 00     	brl	L10035
  4385                        L209:
  4386                        	.line	575
  4387                        ;					pWin->procid = p
                    ->procId;
  4388                        	.line	576
  4389 04:0E85: A0 02 00     	ldy	#$2
  4390 04:0E88: B7 29        	lda	[<L202+p_1],Y
  4391 04:0E8A: A0 78 00     	ldy	#$78
  4392 04:0E8D: 97 0D        	sta	[<L202+pWin_1],Y
  4393 04:0E8F: A0 04 00     	ldy	#$4
  4394 04:0E92: B7 29        	lda	[<L202+p_1],Y
  4395 04:0E94: A0 7A 00     	ldy	#$7a
  4396 04:0E97: 97 0D        	sta	[<L202+pWin_1],Y
  4397                        ;				}
  4398                        	.line	577
  4399                        ;				else
  4400 04:0E99: 82 29 00     	brl	L10036
  Wed Nov 18 2020  8:26                                                Page 84


  4401                        L10035:
  4402                        ;				{
  4403                        	.line	579
  4404                        ;					if(hWndParent)
  4405                        	.line	580
  4406                        ;					{
  4407 04:0E9C: A5 48        	lda	<L201+hWndParent_0
  4408 04:0E9E: 05 4A        	ora	<L201+hWndParent_0+2
  4409 04:0EA0: D0 03        	bne	L210
  4410 04:0EA2: 82 20 00     	brl	L10037
  4411                        L210:
  4412                        	.line	581
  4413                        ;						pWin->pr
                    ocid = k_getWindowFromHandle(hWndParent)->procid;
  4414                        	.line	582
  4415 04:0EA5: D4 4A        	pei	<L201+hWndParent_0+2
  4416 04:0EA7: D4 48        	pei	<L201+hWndParent_0
  4417 04:0EA9: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  4418 04:0EAD: 85 01        	sta	<R0
  4419 04:0EAF: 86 03        	stx	<R0+2
  4420 04:0EB1: A0 78 00     	ldy	#$78
  4421 04:0EB4: B7 01        	lda	[<R0],Y
  4422 04:0EB6: A0 78 00     	ldy	#$78
  4423 04:0EB9: 97 0D        	sta	[<L202+pWin_1],Y
  4424 04:0EBB: A0 7A 00     	ldy	#$7a
  4425 04:0EBE: B7 01        	lda	[<R0],Y
  4426 04:0EC0: A0 7A 00     	ldy	#$7a
  4427 04:0EC3: 97 0D        	sta	[<L202+pWin_1],Y
  4428                        ;					}
  4429                        	.line	583
  4430                        ;				}
  4431                        L10037:
  4432                        	.line	584
  4433                        L10036:
  4434                        ;
  4435                        ;				k_debug_strings("k_user_
                    CreateWindow:",(LPCHAR)pWindowName);
  4436                        	.line	586
  4437 04:0EC5: D4 3E        	pei	<L201+pWindowName_0+2
  4438 04:0EC7: D4 3C        	pei	<L201+pWindowName_0
  4439 04:0EC9: F4 xx xx     	pea	#^L90+21
  4440 04:0ECC: F4 xx xx     	pea	#<L90+21
  4441 04:0ECF: 22 xx xx xx  	jsl	~~k_debug_strings
  4442                        ;				k_debug_long("Process Id
                    :",(ULONG)pWin->procid);
  4443                        	.line	587
  4444 04:0ED3: A0 7A 00     	ldy	#$7a
  4445 04:0ED6: B7 0D        	lda	[<L202+pWin_1],Y
  4446 04:0ED8: 48           	pha
  4447 04:0ED9: A0 78 00     	ldy	#$78
  4448 04:0EDC: B7 0D        	lda	[<L202+pWin_1],Y
  4449 04:0EDE: 48           	pha
  4450 04:0EDF: F4 xx xx     	pea	#^L90+42
  4451 04:0EE2: F4 xx xx     	pea	#<L90+42
  4452 04:0EE5: 22 xx xx xx  	jsl	~~k_debug_long
  4453                        ;
  4454                        ;				pWin->style = style;
  4455                        	.line	589
  Wed Nov 18 2020  8:26                                                Page 85


  4456 04:0EE9: A5 34        	lda	<L201+style_0
  4457 04:0EEB: A0 02 00     	ldy	#$2
  4458 04:0EEE: 97 0D        	sta	[<L202+pWin_1],Y
  4459 04:0EF0: A5 36        	lda	<L201+style_0+2
  4460 04:0EF2: A0 04 00     	ldy	#$4
  4461 04:0EF5: 97 0D        	sta	[<L202+pWin_1],Y
  4462                        ;				pWin->pParentWindow = hW
                    ndParent;
  4463                        	.line	590
  4464 04:0EF7: A5 48        	lda	<L201+hWndParent_0
  4465 04:0EF9: A0 80 00     	ldy	#$80
  4466 04:0EFC: 97 0D        	sta	[<L202+pWin_1],Y
  4467 04:0EFE: A5 4A        	lda	<L201+hWndParent_0+2
  4468 04:0F00: A0 82 00     	ldy	#$82
  4469 04:0F03: 97 0D        	sta	[<L202+pWin_1],Y
  4470                        ;				pWin->pWndClass = wndCla
                    ss;
  4471                        	.line	591
  4472 04:0F05: A5 15        	lda	<L202+wndClass_1
  4473 04:0F07: A0 7C 00     	ldy	#$7c
  4474 04:0F0A: 97 0D        	sta	[<L202+pWin_1],Y
  4475 04:0F0C: A5 17        	lda	<L202+wndClass_1+2
  4476 04:0F0E: A0 7E 00     	ldy	#$7e
  4477 04:0F11: 97 0D        	sta	[<L202+pWin_1],Y
  4478                        ;				strcpy(pWin->win_title,p
                    WindowName);
  4479                        	.line	592
  4480 04:0F13: D4 3E        	pei	<L201+pWindowName_0+2
  4481 04:0F15: D4 3C        	pei	<L201+pWindowName_0
  4482 04:0F17: 18           	clc
  4483 04:0F18: A9 24 00     	lda	#$24
  4484 04:0F1B: 65 0D        	adc	<L202+pWin_1
  4485 04:0F1D: 85 01        	sta	<R0
  4486 04:0F1F: A9 00 00     	lda	#$0
  4487 04:0F22: 65 0F        	adc	<L202+pWin_1+2
  4488 04:0F24: 85 03        	sta	<R0+2
  4489 04:0F26: D4 03        	pei	<R0+2
  4490 04:0F28: D4 01        	pei	<R0
  4491 04:0F2A: 22 xx xx xx  	jsl	~~strcpy
  4492                        ;				strcpy(pWin->win_class_n
                    ame,pClassName);
  4493                        	.line	593
  4494 04:0F2E: D4 3A        	pei	<L201+pClassName_0+2
  4495 04:0F30: D4 38        	pei	<L201+pClassName_0
  4496 04:0F32: 18           	clc
  4497 04:0F33: A9 56 00     	lda	#$56
  4498 04:0F36: 65 0D        	adc	<L202+pWin_1
  4499 04:0F38: 85 01        	sta	<R0
  4500 04:0F3A: A9 00 00     	lda	#$0
  4501 04:0F3D: 65 0F        	adc	<L202+pWin_1+2
  4502 04:0F3F: 85 03        	sta	<R0+2
  4503 04:0F41: D4 03        	pei	<R0+2
  4504 04:0F43: D4 01        	pei	<R0
  4505 04:0F45: 22 xx xx xx  	jsl	~~strcpy
  4506                        ;
  4507                        ;
  4508                        ;				pWin->win_x 		
                    = x;
  Wed Nov 18 2020  8:26                                                Page 86


  4509                        	.line	596
  4510 04:0F49: A5 40        	lda	<L201+x_0
  4511 04:0F4B: A0 08 00     	ldy	#$8
  4512 04:0F4E: 97 0D        	sta	[<L202+pWin_1],Y
  4513                        ;				pWin->win_y 		
                    = y;
  4514                        	.line	597
  4515 04:0F50: A5 42        	lda	<L201+y_0
  4516 04:0F52: A0 0A 00     	ldy	#$a
  4517 04:0F55: 97 0D        	sta	[<L202+pWin_1],Y
  4518                        ;				pWin->win_width 	
                    = nWidth;
  4519                        	.line	598
  4520 04:0F57: A5 44        	lda	<L201+nWidth_0
  4521 04:0F59: A0 0C 00     	ldy	#$c
  4522 04:0F5C: 97 0D        	sta	[<L202+pWin_1],Y
  4523                        ;				pWin->win_height	
                    = nHeight;
  4524                        	.line	599
  4525 04:0F5E: A5 46        	lda	<L201+nHeight_0
  4526 04:0F60: A0 0E 00     	ldy	#$e
  4527 04:0F63: 97 0D        	sta	[<L202+pWin_1],Y
  4528                        ;
  4529                        ;				if(hWndParent)
  4530                        	.line	601
  4531                        ;				{
  4532 04:0F65: A5 48        	lda	<L201+hWndParent_0
  4533 04:0F67: 05 4A        	ora	<L201+hWndParent_0+2
  4534 04:0F69: D0 03        	bne	L211
  4535 04:0F6B: 82 3E 00     	brl	L10038
  4536                        L211:
  4537                        	.line	602
  4538                        ;					PWINDOW pParent 
                    = k_getWindowFromHandle(hWndParent);
  4539                        ;					pWin->win_x += p
                    Parent->win_x;
  4540                        	.block	604
  4541             00000024   pParent_2	set	36
  4542                        	.sym	pParent,36,138,1,32,24
  4543 04:0F6E: D4 4A        	pei	<L201+hWndParent_0+2
  4544 04:0F70: D4 48        	pei	<L201+hWndParent_0
  4545 04:0F72: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  4546 04:0F76: 85 2D        	sta	<L202+pParent_2
  4547 04:0F78: 86 2F        	stx	<L202+pParent_2+2
  4548                        	.line	604
  4549 04:0F7A: 18           	clc
  4550 04:0F7B: A9 08 00     	lda	#$8
  4551 04:0F7E: 65 0D        	adc	<L202+pWin_1
  4552 04:0F80: 85 01        	sta	<R0
  4553 04:0F82: A9 00 00     	lda	#$0
  4554 04:0F85: 65 0F        	adc	<L202+pWin_1+2
  4555 04:0F87: 85 03        	sta	<R0+2
  4556 04:0F89: 18           	clc
  4557 04:0F8A: A7 01        	lda	[<R0]
  4558 04:0F8C: A0 08 00     	ldy	#$8
  4559 04:0F8F: 77 2D        	adc	[<L202+pParent_2],Y
  4560 04:0F91: 87 01        	sta	[<R0]
  4561                        ;					pWin->win_y += p
  Wed Nov 18 2020  8:26                                                Page 87


                    Parent->win_y;
  4562                        	.line	605
  4563 04:0F93: 18           	clc
  4564 04:0F94: A9 0A 00     	lda	#$a
  4565 04:0F97: 65 0D        	adc	<L202+pWin_1
  4566 04:0F99: 85 01        	sta	<R0
  4567 04:0F9B: A9 00 00     	lda	#$0
  4568 04:0F9E: 65 0F        	adc	<L202+pWin_1+2
  4569 04:0FA0: 85 03        	sta	<R0+2
  4570 04:0FA2: 18           	clc
  4571 04:0FA3: A7 01        	lda	[<R0]
  4572 04:0FA5: A0 0A 00     	ldy	#$a
  4573 04:0FA8: 77 2D        	adc	[<L202+pParent_2],Y
  4574 04:0FAA: 87 01        	sta	[<R0]
  4575                        ;				}
  4576                        	.endblock	606
  4577                        	.line	606
  4578                        ;
  4579                        ;				pWin->hMenu = hMenu;
  4580                        L10038:
  4581                        	.line	608
  4582 04:0FAC: A5 4C        	lda	<L201+hMenu_0
  4583 04:0FAE: A0 84 00     	ldy	#$84
  4584 04:0FB1: 97 0D        	sta	[<L202+pWin_1],Y
  4585 04:0FB3: A5 4E        	lda	<L201+hMenu_0+2
  4586 04:0FB5: A0 86 00     	ldy	#$86
  4587 04:0FB8: 97 0D        	sta	[<L202+pWin_1],Y
  4588                        ;				pWin->pChildWindows = NU
                    LL;
  4589                        	.line	609
  4590 04:0FBA: A9 00 00     	lda	#$0
  4591 04:0FBD: A0 88 00     	ldy	#$88
  4592 04:0FC0: 97 0D        	sta	[<L202+pWin_1],Y
  4593 04:0FC2: A9 00 00     	lda	#$0
  4594 04:0FC5: A0 8A 00     	ldy	#$8a
  4595 04:0FC8: 97 0D        	sta	[<L202+pWin_1],Y
  4596                        ;				pWin->pChildHitList = NU
                    LL;
  4597                        	.line	610
  4598 04:0FCA: A9 00 00     	lda	#$0
  4599 04:0FCD: A0 8C 00     	ldy	#$8c
  4600 04:0FD0: 97 0D        	sta	[<L202+pWin_1],Y
  4601 04:0FD2: A9 00 00     	lda	#$0
  4602 04:0FD5: A0 8E 00     	ldy	#$8e
  4603 04:0FD8: 97 0D        	sta	[<L202+pWin_1],Y
  4604                        ;				pWin->isVisible 	
                    = ((style & FXWS_VISIBLE) == FXWS_VISIBLE);
  4605                        	.line	611
  4606 04:0FDA: 64 01        	stz	<R0
  4607 04:0FDC: A5 34        	lda	<L201+style_0
  4608 04:0FDE: 29 01 00     	and	#<$1
  4609 04:0FE1: 85 05        	sta	<R1
  4610 04:0FE3: 64 07        	stz	<R1+2
  4611 04:0FE5: A5 05        	lda	<R1
  4612 04:0FE7: C9 01 00     	cmp	#<$1
  4613 04:0FEA: D0 05        	bne	L214
  4614 04:0FEC: A5 07        	lda	<R1+2
  4615 04:0FEE: C9 00 00     	cmp	#^$1
  Wed Nov 18 2020  8:26                                                Page 88


  4616                        L214:
  4617 04:0FF1: F0 03        	beq	L215
  4618 04:0FF3: 82 02 00     	brl	L213
  4619                        L215:
  4620 04:0FF6: E6 01        	inc	<R0
  4621                        L213:
  4622 04:0FF8: E2 20        	sep	#$20
  4623                        	longa	off
  4624 04:0FFA: A5 01        	lda	<R0
  4625 04:0FFC: A0 90 00     	ldy	#$90
  4626 04:0FFF: 97 0D        	sta	[<L202+pWin_1],Y
  4627 04:1001: C2 20        	rep	#$20
  4628                        	longa	on
  4629                        ;
  4630                        ;				//k_debug_long("k_user_C
                    reateWindow:sytle:",style);
  4631                        ;				//k_debug_long("k_user_C
                    reateWindow:FXWS_VISIBLE:", FXWS_VISIBLE);
  4632                        ;				//k_debug_long("k_user_C
                    reateWindow:style & FXWS_VISIBLE:",style & FXWS_VISIBLE);
  4633                        ;				//k_debug_integer("k_use
                    r_CreateWindow:isVisible:",pWin->isVisible);
  4634                        ;
  4635                        ;
  4636                        ;				pWin->clickable = k_mem_
                    allocate_heap(sizeof(CLICKABLE));
  4637                        	.line	619
  4638 04:1003: F4 0B 00     	pea	#<$b
  4639 04:1006: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  4640 04:100A: 85 01        	sta	<R0
  4641 04:100C: 86 03        	stx	<R0+2
  4642 04:100E: A5 01        	lda	<R0
  4643 04:1010: A0 20 00     	ldy	#$20
  4644 04:1013: 97 0D        	sta	[<L202+pWin_1],Y
  4645 04:1015: A5 03        	lda	<R0+2
  4646 04:1017: A0 22 00     	ldy	#$22
  4647 04:101A: 97 0D        	sta	[<L202+pWin_1],Y
  4648                        ;				if(pWin->clickable)
  4649                        	.line	620
  4650                        ;				{
  4651 04:101C: A0 20 00     	ldy	#$20
  4652 04:101F: B7 0D        	lda	[<L202+pWin_1],Y
  4653 04:1021: A0 22 00     	ldy	#$22
  4654 04:1024: 17 0D        	ora	[<L202+pWin_1],Y
  4655 04:1026: D0 03        	bne	L216
  4656 04:1028: 82 73 00     	brl	L10039
  4657                        L216:
  4658                        	.line	621
  4659                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.x 		= pWin->win_x;
  4660                        	.line	622
  4661 04:102B: A0 20 00     	ldy	#$20
  4662 04:102E: B7 0D        	lda	[<L202+pWin_1],Y
  4663 04:1030: 85 01        	sta	<R0
  4664 04:1032: A0 22 00     	ldy	#$22
  4665 04:1035: B7 0D        	lda	[<L202+pWin_1],Y
  4666 04:1037: 85 03        	sta	<R0+2
  4667 04:1039: A0 08 00     	ldy	#$8
  Wed Nov 18 2020  8:26                                                Page 89


  4668 04:103C: B7 0D        	lda	[<L202+pWin_1],Y
  4669 04:103E: 87 01        	sta	[<R0]
  4670                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.y 		= pWin->win_y;
  4671                        	.line	623
  4672 04:1040: A0 20 00     	ldy	#$20
  4673 04:1043: B7 0D        	lda	[<L202+pWin_1],Y
  4674 04:1045: 85 01        	sta	<R0
  4675 04:1047: A0 22 00     	ldy	#$22
  4676 04:104A: B7 0D        	lda	[<L202+pWin_1],Y
  4677 04:104C: 85 03        	sta	<R0+2
  4678 04:104E: A0 0A 00     	ldy	#$a
  4679 04:1051: B7 0D        	lda	[<L202+pWin_1],Y
  4680 04:1053: A0 02 00     	ldy	#$2
  4681 04:1056: 97 01        	sta	[<R0],Y
  4682                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.height 	= pWin->win_height;
  4683                        	.line	624
  4684 04:1058: A0 20 00     	ldy	#$20
  4685 04:105B: B7 0D        	lda	[<L202+pWin_1],Y
  4686 04:105D: 85 01        	sta	<R0
  4687 04:105F: A0 22 00     	ldy	#$22
  4688 04:1062: B7 0D        	lda	[<L202+pWin_1],Y
  4689 04:1064: 85 03        	sta	<R0+2
  4690 04:1066: A0 0E 00     	ldy	#$e
  4691 04:1069: B7 0D        	lda	[<L202+pWin_1],Y
  4692 04:106B: A0 06 00     	ldy	#$6
  4693 04:106E: 97 01        	sta	[<R0],Y
  4694                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.width 	= pWin->win_width;
  4695                        	.line	625
  4696 04:1070: A0 20 00     	ldy	#$20
  4697 04:1073: B7 0D        	lda	[<L202+pWin_1],Y
  4698 04:1075: 85 01        	sta	<R0
  4699 04:1077: A0 22 00     	ldy	#$22
  4700 04:107A: B7 0D        	lda	[<L202+pWin_1],Y
  4701 04:107C: 85 03        	sta	<R0+2
  4702 04:107E: A0 0C 00     	ldy	#$c
  4703 04:1081: B7 0D        	lda	[<L202+pWin_1],Y
  4704 04:1083: A0 04 00     	ldy	#$4
  4705 04:1086: 97 01        	sta	[<R0],Y
  4706                        ;					((PCLICKABLE)pWi
                    n->clickable)->z 			= 10;
  4707                        	.line	626
  4708 04:1088: A0 20 00     	ldy	#$20
  4709 04:108B: B7 0D        	lda	[<L202+pWin_1],Y
  4710 04:108D: 85 01        	sta	<R0
  4711 04:108F: A0 22 00     	ldy	#$22
  4712 04:1092: B7 0D        	lda	[<L202+pWin_1],Y
  4713 04:1094: 85 03        	sta	<R0+2
  4714 04:1096: A9 0A 00     	lda	#$a
  4715 04:1099: A0 08 00     	ldy	#$8
  4716 04:109C: 97 01        	sta	[<R0],Y
  4717                        ;				}
  4718                        	.line	627
  4719                        ;
  4720                        ;				pWin->clientRect.x 	
                    	= pWin->wndRect.x		= pWin->win_x;
  Wed Nov 18 2020  8:26                                                Page 90


  4721                        L10039:
  4722                        	.line	629
  4723 04:109E: A0 08 00     	ldy	#$8
  4724 04:10A1: B7 0D        	lda	[<L202+pWin_1],Y
  4725 04:10A3: A0 10 00     	ldy	#$10
  4726 04:10A6: 97 0D        	sta	[<L202+pWin_1],Y
  4727 04:10A8: A0 08 00     	ldy	#$8
  4728 04:10AB: B7 0D        	lda	[<L202+pWin_1],Y
  4729 04:10AD: A0 18 00     	ldy	#$18
  4730 04:10B0: 97 0D        	sta	[<L202+pWin_1],Y
  4731                        ;				pWin->clientRect.y 	
                    	= pWin->wndRect.y		= pWin->win_y;
  4732                        	.line	630
  4733 04:10B2: A0 0A 00     	ldy	#$a
  4734 04:10B5: B7 0D        	lda	[<L202+pWin_1],Y
  4735 04:10B7: A0 12 00     	ldy	#$12
  4736 04:10BA: 97 0D        	sta	[<L202+pWin_1],Y
  4737 04:10BC: A0 0A 00     	ldy	#$a
  4738 04:10BF: B7 0D        	lda	[<L202+pWin_1],Y
  4739 04:10C1: A0 1A 00     	ldy	#$1a
  4740 04:10C4: 97 0D        	sta	[<L202+pWin_1],Y
  4741                        ;				pWin->clientRect.width 	
                    = pWin->wndRect.width	= pWin->win_width;
  4742                        	.line	631
  4743 04:10C6: A0 0C 00     	ldy	#$c
  4744 04:10C9: B7 0D        	lda	[<L202+pWin_1],Y
  4745 04:10CB: A0 14 00     	ldy	#$14
  4746 04:10CE: 97 0D        	sta	[<L202+pWin_1],Y
  4747 04:10D0: A0 0C 00     	ldy	#$c
  4748 04:10D3: B7 0D        	lda	[<L202+pWin_1],Y
  4749 04:10D5: A0 1C 00     	ldy	#$1c
  4750 04:10D8: 97 0D        	sta	[<L202+pWin_1],Y
  4751                        ;				pWin->clientRect.height 
                    = pWin->wndRect.height 	= pWin->win_height;
  4752                        	.line	632
  4753 04:10DA: A0 0E 00     	ldy	#$e
  4754 04:10DD: B7 0D        	lda	[<L202+pWin_1],Y
  4755 04:10DF: A0 16 00     	ldy	#$16
  4756 04:10E2: 97 0D        	sta	[<L202+pWin_1],Y
  4757 04:10E4: A0 0E 00     	ldy	#$e
  4758 04:10E7: B7 0D        	lda	[<L202+pWin_1],Y
  4759 04:10E9: A0 1E 00     	ldy	#$1e
  4760 04:10EC: 97 0D        	sta	[<L202+pWin_1],Y
  4761                        ;
  4762                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(((PCLICKABLE)pWin->clickable)->area));
  4763                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(pWin->clientRect));
  4764                        ;				/*
  4765                        ;				k_debug_rect("WndRect:",
                    &pWin->wndRect);
  4766                        ;				k_debug_rect("ClientRect
                    :",&pWin->clientRect);
  4767                        ;				k_debug_rect("ClassicRec
                    t:",(PRECT)&pWin->win_x);
  4768                        ;				*/
  4769                        ;				//strcpy(pWin->win_title
                    ,(LPCSTR)k_longtodec((ULONG)pWin,localBuffer));
  Wed Nov 18 2020  8:26                                                Page 91


  4770                        ;
  4771                        ;				//k_nodelist_addtolist(_
                    k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(LPCSTR)
                    k_longtodec((ULONG)pWin,localBuffer),pWin);
  4772                        ;
  4773                        ;				//if(hWndParent == k_use
                    r_getDesktopWindow())
  4774                        ;				//	k_nodelist_naddt
                    olist_tohead(_k_windowManager_WindowObjectList,NL_TYPE_WINDO
                    W_OBJ,(ULONG)pWin,pWin);
  4775                        ;				//else
  4776                        ;					k_nodelist_naddt
                    olist(_k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(
                    ULONG)pWin,pWin);
  4777                        	.line	648
  4778 04:10EE: D4 0F        	pei	<L202+pWin_1+2
  4779 04:10F0: D4 0D        	pei	<L202+pWin_1
  4780 04:10F2: D4 0F        	pei	<L202+pWin_1+2
  4781 04:10F4: D4 0D        	pei	<L202+pWin_1
  4782 04:10F6: F4 02 00     	pea	#<$2
  4783 04:10F9: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  4784 04:10FC: 48           	pha
  4785 04:10FD: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  4786 04:1100: 48           	pha
  4787 04:1101: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  4788                        ;
  4789                        ;				//k_debug_nodelist(_k_wi
                    ndowManager_WindowObjectList->listhead->next);
  4790                        ;
  4791                        ;				/*
  4792                        ;				if(pWin->isVisible)
  4793                        ;					k_vdraw_ui_windo
                    w(style,
  4794                        ;							
                    		  pWin->win_x ,pWin->win_y,
  4795                        ;							
                    		  pWin->win_height,pWin->win_width,
  4796                        ;							
                    		  pWin->win_title,
  4797                        ;							
                    		  k_getUIGadgetColor(), k_getUIMenuColor());
  4798                        ;				*/
  4799                        ;
  4800                        ;				if(hWndParent)
  4801                        	.line	661
  4802                        ;				{
  4803 04:1105: A5 48        	lda	<L201+hWndParent_0
  4804 04:1107: 05 4A        	ora	<L201+hWndParent_0+2
  4805 04:1109: D0 03        	bne	L217
  4806 04:110B: 82 79 00     	brl	L10040
  4807                        L217:
  4808                        	.line	662
  4809                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  4810                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),pWin,k_update_hover_loc
                    ation);
  Wed Nov 18 2020  8:26                                                Page 92


  4811                        	.line	664
  4812 04:110E: F4 04 00     	pea	#^~~k_update_hover_location
  4813 04:1111: F4 D2 31     	pea	#<~~k_update_hover_location
  4814 04:1114: D4 0F        	pei	<L202+pWin_1+2
  4815 04:1116: D4 0D        	pei	<L202+pWin_1
  4816 04:1118: D4 4A        	pei	<L201+hWndParent_0+2
  4817 04:111A: D4 48        	pei	<L201+hWndParent_0
  4818 04:111C: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  4819 04:1120: 85 01        	sta	<R0
  4820 04:1122: 86 03        	stx	<R0+2
  4821 04:1124: DA           	phx
  4822 04:1125: 48           	pha
  4823 04:1126: 22 D6 30 04  	jsl	~~k_add_child_window
  4824                        ;
  4825                        ;					if(hWndParent ==
                     k_user_getDesktopWindow())
  4826                        	.line	666
  4827                        ;					{
  4828 04:112A: 22 6A 05 04  	jsl	~~k_user_getDesktopWindow
  4829 04:112E: 85 01        	sta	<R0
  4830 04:1130: 86 03        	stx	<R0+2
  4831 04:1132: A5 01        	lda	<R0
  4832 04:1134: C5 48        	cmp	<L201+hWndParent_0
  4833 04:1136: D0 04        	bne	L218
  4834 04:1138: A5 03        	lda	<R0+2
  4835 04:113A: C5 4A        	cmp	<L201+hWndParent_0+2
  4836                        L218:
  4837 04:113C: F0 03        	beq	L219
  4838 04:113E: 82 43 00     	brl	L10041
  4839                        L219:
  4840                        	.line	667
  4841                        ;						//k_poin
                    t_hit_resetdepth_nodeslist(_k_windowManager_ObjectHitList,0)
                    ;
  4842                        ;						k_point_
                    hit_resetdepth_nodeslist(k_getWindowFromHandle(hWndParent)->
                    pChildHitList,0);
  4843                        	.line	669
  4844 04:1141: F4 00 00     	pea	#<$0
  4845 04:1144: D4 4A        	pei	<L201+hWndParent_0+2
  4846 04:1146: D4 48        	pei	<L201+hWndParent_0
  4847 04:1148: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  4848 04:114C: 85 01        	sta	<R0
  4849 04:114E: 86 03        	stx	<R0+2
  4850 04:1150: A0 8E 00     	ldy	#$8e
  4851 04:1153: B7 01        	lda	[<R0],Y
  4852 04:1155: 48           	pha
  4853 04:1156: A0 8C 00     	ldy	#$8c
  4854 04:1159: B7 01        	lda	[<R0],Y
  4855 04:115B: 48           	pha
  4856 04:115C: 22 44 3C 04  	jsl	~~k_point_hit_resetdepth_nodeslist
  4857                        ;						((PCLICK
                    ABLE)pWin->clickable)->z = 10;
  4858                        	.line	670
  4859 04:1160: A0 20 00     	ldy	#$20
  4860 04:1163: B7 0D        	lda	[<L202+pWin_1],Y
  4861 04:1165: 85 01        	sta	<R0
  4862 04:1167: A0 22 00     	ldy	#$22
  Wed Nov 18 2020  8:26                                                Page 93


  4863 04:116A: B7 0D        	lda	[<L202+pWin_1],Y
  4864 04:116C: 85 03        	sta	<R0+2
  4865 04:116E: A9 0A 00     	lda	#$a
  4866 04:1171: A0 08 00     	ldy	#$8
  4867 04:1174: 97 01        	sta	[<R0],Y
  4868                        ;						k_attach
                    _mouse_detection(pWin,k_update_hover_location);
  4869                        	.line	671
  4870 04:1176: F4 04 00     	pea	#^~~k_update_hover_location
  4871 04:1179: F4 D2 31     	pea	#<~~k_update_hover_location
  4872 04:117C: D4 0F        	pei	<L202+pWin_1+2
  4873 04:117E: D4 0D        	pei	<L202+pWin_1
  4874 04:1180: 22 A4 33 04  	jsl	~~k_attach_mouse_detection
  4875                        ;					}
  4876                        	.line	672
  4877                        ;
  4878                        ;				}
  4879                        L10041:
  4880                        	.line	674
  4881                        ;				else
  4882 04:1184: 82 0E 00     	brl	L10042
  4883                        L10040:
  4884                        ;				{
  4885                        	.line	676
  4886                        ;					k_attach_mouse_d
                    etection(pWin,k_update_hover_location);
  4887                        	.line	677
  4888 04:1187: F4 04 00     	pea	#^~~k_update_hover_location
  4889 04:118A: F4 D2 31     	pea	#<~~k_update_hover_location
  4890 04:118D: D4 0F        	pei	<L202+pWin_1+2
  4891 04:118F: D4 0D        	pei	<L202+pWin_1
  4892 04:1191: 22 A4 33 04  	jsl	~~k_attach_mouse_detection
  4893                        ;				}
  4894                        	.line	678
  4895                        L10042:
  4896                        ;
  4897                        ;				/*
  4898                        ;				if(hWndParent)
  4899                        ;				{
  4900                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  4901                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),pWin,k_update_hover_loc
                    ation);
  4902                        ;				}
  4903                        ;
  4904                        ;				k_attach_mouse_detection
                    (pWin,k_update_hover_location);
  4905                        ;				*/
  4906                        ;
  4907                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_CREATE_WINDOW,NULL,0);
  4908                        	.line	690
  4909 04:1195: F4 00 00     	pea	#<$0
  4910 04:1198: F4 00 00     	pea	#^$0
  4911 04:119B: F4 00 00     	pea	#<$0
  4912 04:119E: F4 03 FF     	pea	#<$ff03
  Wed Nov 18 2020  8:26                                                Page 94


  4913 04:11A1: D4 0F        	pei	<L202+pWin_1+2
  4914 04:11A3: D4 0D        	pei	<L202+pWin_1
  4915 04:11A5: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  4916 04:11A9: 85 01        	sta	<R0
  4917 04:11AB: 86 03        	stx	<R0+2
  4918 04:11AD: DA           	phx
  4919 04:11AE: 48           	pha
  4920 04:11AF: 22 xx xx xx  	jsl	~~k_send_window_message
  4921                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_DRAW_NONCLIENT,NULL,0);
  4922                        	.line	691
  4923 04:11B3: F4 00 00     	pea	#<$0
  4924 04:11B6: F4 00 00     	pea	#^$0
  4925 04:11B9: F4 00 00     	pea	#<$0
  4926 04:11BC: F4 01 FB     	pea	#<$fb01
  4927 04:11BF: D4 0F        	pei	<L202+pWin_1+2
  4928 04:11C1: D4 0D        	pei	<L202+pWin_1
  4929 04:11C3: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  4930 04:11C7: 85 01        	sta	<R0
  4931 04:11C9: 86 03        	stx	<R0+2
  4932 04:11CB: DA           	phx
  4933 04:11CC: 48           	pha
  4934 04:11CD: 22 xx xx xx  	jsl	~~k_send_window_message
  4935                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_DRAW_WINDOW,NULL,0);
  4936                        	.line	692
  4937 04:11D1: F4 00 00     	pea	#<$0
  4938 04:11D4: F4 00 00     	pea	#^$0
  4939 04:11D7: F4 00 00     	pea	#<$0
  4940 04:11DA: F4 00 FB     	pea	#<$fb00
  4941 04:11DD: D4 0F        	pei	<L202+pWin_1+2
  4942 04:11DF: D4 0D        	pei	<L202+pWin_1
  4943 04:11E1: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  4944 04:11E5: 85 01        	sta	<R0
  4945 04:11E7: 86 03        	stx	<R0+2
  4946 04:11E9: DA           	phx
  4947 04:11EA: 48           	pha
  4948 04:11EB: 22 xx xx xx  	jsl	~~k_send_window_message
  4949                        ;
  4950                        ;
  4951                        ;			}
  4952                        	.line	695
  4953                        ;		}
  4954                        L10034:
  4955                        	.line	696
  4956                        ;	}
  4957                        L10033:
  4958                        	.line	697
  4959                        ;	return pWin;
  4960                        L10032:
  4961                        	.line	698
  4962 04:11EF: A6 0F        	ldx	<L202+pWin_1+2
  4963 04:11F1: A5 0D        	lda	<L202+pWin_1
  4964                        L220:
  4965 04:11F3: A8           	tay
  4966 04:11F4: A5 32        	lda	<L201+2
  4967 04:11F6: 85 52        	sta	<L201+2+32
  4968 04:11F8: A5 31        	lda	<L201+1
  Wed Nov 18 2020  8:26                                                Page 95


  4969 04:11FA: 85 51        	sta	<L201+1+32
  4970 04:11FC: 2B           	pld
  4971 04:11FD: 3B           	tsc
  4972 04:11FE: 18           	clc
  4973 04:11FF: 69 50 00     	adc	#L201+32
  4974 04:1202: 1B           	tcs
  4975 04:1203: 98           	tya
  4976 04:1204: 6B           	rtl
  4977                        ;}
  4978                        	.line	699
  4979                        	.endblock	699
  4980             00000030   L201	equ	48
  4981             00000009   L202	equ	9
  4982 04:1205:              	ends
  4983                        	efunc
  4984                        	.endfunc	699,9,48
  4985                        	.line	699
  4986                        	data
  4987                        L90:
  4988 00:026D: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$57,$69
       00:0271: 65 72 5F 43 
       00:0275: 72 65 61 74 
       00:0279: 65 57 69 
  4989 00:027C: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$43,$72
       00:0280: 3A 00 6B 5F 
       00:0284: 75 73 65 72 
       00:0288: 5F 43 72 
  4990 00:028B: 65 61 74 65  	db	$65,$61,$74,$65,$57,$69,$6E,$64,$6F,$77,
                    $3A,$00,$50,$72,$6F
       00:028F: 57 69 6E 64 
       00:0293: 6F 77 3A 00 
       00:0297: 50 72 6F 
  4991 00:029A: 63 65 73 73  	db	$63,$65,$73,$73,$20,$49,$64,$3A,$00
       00:029E: 20 49 64 3A 
       00:02A2: 00 
  4992 00:02A3:              	ends
  4993                        ;
  4994                        ;
  4995                        ;PWINDOWEX k_user_CreateWindowEx(ULONG     style,
  4996                        ;						        
                    LPCSTR    pClassName,
  4997                        ;						 	
                        LPCSTR    pWindowName,
  4998                        ;							
                        INT       x,
  4999                        ;							
                        INT       y,
  5000                        ;						 	
                        INT       nWidth,
  5001                        ;							
                        INT       nHeight,
  5002                        ;							
                        HWND      hWndParent,
  5003                        ;							
                        HMENU     hMenu,
  5004                        ;							
  Wed Nov 18 2020  8:26                                                Page 96


                        HINSTANCE hInstance)
  5005                        ;{
  5006                        	.line	702
  5007                        	.line	712
  5008                        	WINMAN
  5009                        	xdef	~~k_user_CreateWindowEx
  5010                        	func
  5011                        	.function	712
  5012                        ~~k_user_CreateWindowEx:
  5013                        	longa	on
  5014                        	longi	on
  5015 04:1205: 3B           	tsc
  5016 04:1206: 38           	sec
  5017 04:1207: E9 14 00     	sbc	#L222
  5018 04:120A: 1B           	tcs
  5019 04:120B: 0B           	phd
  5020 04:120C: 5B           	tcd
  5021             00000004   style_0	set	4
  5022             00000008   pClassName_0	set	8
  5023             0000000C   pWindowName_0	set	12
  5024             00000010   x_0	set	16
  5025             00000012   y_0	set	18
  5026             00000014   nWidth_0	set	20
  5027             00000016   nHeight_0	set	22
  5028             00000018   hWndParent_0	set	24
  5029             0000001C   hMenu_0	set	28
  5030             00000020   hInstance_0	set	32
  5031                        	.block	712
  5032                        ;
  5033                        ;	PFXNODE   	found = NULL;
  5034                        ;	PWINDOWEX   pWin = NULL;
  5035                        ;	PWINDOWEX   pParent = NULL;
  5036                        ;	PWNDCLASS 	wndClass = NULL;
  5037                        ;
  5038                        ;	k_debug_strings("k_user_CreateWindowEx:",(LPCHAR
                    )pWindowName);
  5039             00000000   found_1	set	0
  5040             00000004   pWin_1	set	4
  5041             00000008   pParent_1	set	8
  5042             0000000C   wndClass_1	set	12
  5043                        	.sym	found,0,138,1,32,2
  5044                        	.sym	pWin,4,138,1,32,25
  5045                        	.sym	pParent,8,138,1,32,25
  5046                        	.sym	wndClass,12,138,1,32,23
  5047                        	.sym	style,4,18,6,32
  5048                        	.sym	pClassName,8,142,6,32
  5049                        	.sym	pWindowName,12,142,6,32
  5050                        	.sym	x,16,5,6,16
  5051                        	.sym	y,18,5,6,16
  5052                        	.sym	nWidth,20,5,6,16
  5053                        	.sym	nHeight,22,5,6,16
  5054                        	.sym	hWndParent,24,129,6,32
  5055                        	.sym	hMenu,28,129,6,32
  5056                        	.sym	hInstance,32,129,6,32
  5057 04:120D: 64 05        	stz	<L223+found_1
  5058 04:120F: 64 07        	stz	<L223+found_1+2
  5059 04:1211: 64 09        	stz	<L223+pWin_1
  5060 04:1213: 64 0B        	stz	<L223+pWin_1+2
  Wed Nov 18 2020  8:26                                                Page 97


  5061 04:1215: 64 0D        	stz	<L223+pParent_1
  5062 04:1217: 64 0F        	stz	<L223+pParent_1+2
  5063 04:1219: 64 11        	stz	<L223+wndClass_1
  5064 04:121B: 64 13        	stz	<L223+wndClass_1+2
  5065                        	.line	719
  5066 04:121D: D4 22        	pei	<L222+pWindowName_0+2
  5067 04:121F: D4 20        	pei	<L222+pWindowName_0
  5068 04:1221: F4 xx xx     	pea	#^L221
  5069 04:1224: F4 xx xx     	pea	#<L221
  5070 04:1227: 22 xx xx xx  	jsl	~~k_debug_strings
  5071                        ;
  5072                        ;	if(pClassName && pWindowName)
  5073                        	.line	721
  5074                        ;	{
  5075 04:122B: A5 1C        	lda	<L222+pClassName_0
  5076 04:122D: 05 1E        	ora	<L222+pClassName_0+2
  5077 04:122F: D0 03        	bne	L225
  5078 04:1231: 82 21 01     	brl	L10043
  5079                        L225:
  5080 04:1234: A5 20        	lda	<L222+pWindowName_0
  5081 04:1236: 05 22        	ora	<L222+pWindowName_0+2
  5082 04:1238: D0 03        	bne	L226
  5083 04:123A: 82 18 01     	brl	L10043
  5084                        L226:
  5085                        	.line	722
  5086                        ;		//pWindowName = strupr((LPCHAR)pWindowNa
                    me); // temp fix for font def issue
  5087                        ;
  5088                        ;		found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  5089                        	.line	725
  5090 04:123D: D4 1E        	pei	<L222+pClassName_0+2
  5091 04:123F: D4 1C        	pei	<L222+pClassName_0
  5092 04:1241: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  5093 04:1244: 48           	pha
  5094 04:1245: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  5095 04:1248: 48           	pha
  5096 04:1249: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  5097 04:124D: 85 05        	sta	<L223+found_1
  5098 04:124F: 86 07        	stx	<L223+found_1+2
  5099                        ;		if(found && found->data)
  5100                        	.line	726
  5101                        ;		{
  5102 04:1251: A5 05        	lda	<L223+found_1
  5103 04:1253: 05 07        	ora	<L223+found_1+2
  5104 04:1255: D0 03        	bne	L227
  5105 04:1257: 82 FB 00     	brl	L10044
  5106                        L227:
  5107 04:125A: A0 02 00     	ldy	#$2
  5108 04:125D: B7 05        	lda	[<L223+found_1],Y
  5109 04:125F: A0 04 00     	ldy	#$4
  5110 04:1262: 17 05        	ora	[<L223+found_1],Y
  5111 04:1264: D0 03        	bne	L228
  5112 04:1266: 82 EC 00     	brl	L10044
  5113                        L228:
  5114                        	.line	727
  5115                        ;			wndClass = (PWNDCLASS)found->dat
                    a;
  Wed Nov 18 2020  8:26                                                Page 98


  5116                        	.line	728
  5117 04:1269: A0 02 00     	ldy	#$2
  5118 04:126C: B7 05        	lda	[<L223+found_1],Y
  5119 04:126E: 85 11        	sta	<L223+wndClass_1
  5120 04:1270: A0 04 00     	ldy	#$4
  5121 04:1273: B7 05        	lda	[<L223+found_1],Y
  5122 04:1275: 85 13        	sta	<L223+wndClass_1+2
  5123                        ;
  5124                        ;			//k_debug_strings("k_user_Create
                    Window:Found WndClass:",(LPVOID)wndClass->lpszClassName);
  5125                        ;
  5126                        ;			pWin = k_mem_allocate_heap(sizeo
                    f(WINDOW));
  5127                        	.line	732
  5128 04:1277: F4 A6 00     	pea	#<$a6
  5129 04:127A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5130 04:127E: 85 09        	sta	<L223+pWin_1
  5131 04:1280: 86 0B        	stx	<L223+pWin_1+2
  5132                        ;			if(pWin)
  5133                        	.line	733
  5134                        ;			{
  5135 04:1282: A5 09        	lda	<L223+pWin_1
  5136 04:1284: 05 0B        	ora	<L223+pWin_1+2
  5137 04:1286: D0 03        	bne	L229
  5138 04:1288: 82 CA 00     	brl	L10045
  5139                        L229:
  5140                        	.line	734
  5141                        ;				memset(pWin,0,sizeof(WIN
                    DOWEX));
  5142                        	.line	735
  5143 04:128B: F4 A2 00     	pea	#<$a2
  5144 04:128E: F4 00 00     	pea	#<$0
  5145 04:1291: D4 0B        	pei	<L223+pWin_1+2
  5146 04:1293: D4 09        	pei	<L223+pWin_1
  5147 04:1295: 22 xx xx xx  	jsl	~~memset
  5148                        ;				pWin->cbSize = sizeof(WI
                    NDOWEX);
  5149                        	.line	736
  5150 04:1299: A9 A2 00     	lda	#$a2
  5151 04:129C: 87 09        	sta	[<L223+pWin_1]
  5152                        ;				pWin->style = style;
  5153                        	.line	737
  5154 04:129E: A5 18        	lda	<L222+style_0
  5155 04:12A0: A0 02 00     	ldy	#$2
  5156 04:12A3: 97 09        	sta	[<L223+pWin_1],Y
  5157 04:12A5: A5 1A        	lda	<L222+style_0+2
  5158 04:12A7: A0 04 00     	ldy	#$4
  5159 04:12AA: 97 09        	sta	[<L223+pWin_1],Y
  5160                        ;				pWin->pParentWindow = hW
                    ndParent;
  5161                        	.line	738
  5162 04:12AC: A5 2C        	lda	<L222+hWndParent_0
  5163 04:12AE: A0 60 00     	ldy	#$60
  5164 04:12B1: 97 09        	sta	[<L223+pWin_1],Y
  5165 04:12B3: A5 2E        	lda	<L222+hWndParent_0+2
  5166 04:12B5: A0 62 00     	ldy	#$62
  5167 04:12B8: 97 09        	sta	[<L223+pWin_1],Y
  5168                        ;				pWin->pWndClass = wndCla
  Wed Nov 18 2020  8:26                                                Page 99


                    ss;
  5169                        	.line	739
  5170 04:12BA: A5 11        	lda	<L223+wndClass_1
  5171 04:12BC: A0 5C 00     	ldy	#$5c
  5172 04:12BF: 97 09        	sta	[<L223+pWin_1],Y
  5173 04:12C1: A5 13        	lda	<L223+wndClass_1+2
  5174 04:12C3: A0 5E 00     	ldy	#$5e
  5175 04:12C6: 97 09        	sta	[<L223+pWin_1],Y
  5176                        ;				/*
  5177                        ;				strcpy(pWin->win_title,p
                    WindowName);
  5178                        ;
  5179                        ;				pWin->win_x 		
                    = x;
  5180                        ;				pWin->win_y 		
                    = y;
  5181                        ;				pWin->win_width 	
                    = nWidth;
  5182                        ;				pWin->win_height	
                    = nHeight;
  5183                        ;
  5184                        ;				pWin->hMenu = hMenu;
  5185                        ;				pWin->pChildWindows = NU
                    LL;
  5186                        ;				pWin->pChildHitList = NU
                    LL;
  5187                        ;				pWin->isVisible 	
                    = ((style & FXWS_VISIBLE) == FXWS_VISIBLE);
  5188                        ;
  5189                        ;				//k_debug_long("k_user_C
                    reateWindow:sytle:",style);
  5190                        ;				//k_debug_long("k_user_C
                    reateWindow:FXWS_VISIBLE:", FXWS_VISIBLE);
  5191                        ;				//k_debug_long("k_user_C
                    reateWindow:style & FXWS_VISIBLE:",style & FXWS_VISIBLE);
  5192                        ;				//k_debug_integer("k_use
                    r_CreateWindow:isVisible:",pWin->isVisible);
  5193                        ;
  5194                        ;
  5195                        ;				pWin->clickable = k_mem_
                    allocate_heap(sizeof(CLICKABLE));
  5196                        ;				if(pWin->clickable)
  5197                        ;				{
  5198                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.x 		= pWin->win_x;
  5199                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.y 		= pWin->win_y;
  5200                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.height 	= pWin->win_height;
  5201                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.width 	= pWin->win_width;
  5202                        ;				}
  5203                        ;
  5204                        ;				pWin->clientRect.x 	
                    	= pWin->wndRect.x		= pWin->win_x;
  5205                        ;				pWin->clientRect.y 	
                    	= pWin->wndRect.y		= pWin->win_y;
  5206                        ;				pWin->clientRect.width 	
  Wed Nov 18 2020  8:26                                                Page 100


                    = pWin->wndRect.width	= pWin->win_width;
  5207                        ;				pWin->clientRect.height 
                    = pWin->wndRect.height 	= pWin->win_height;
  5208                        ;
  5209                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(((PCLICKABLE)pWin->clickable)->area));
  5210                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(pWin->clientRect));
  5211                        ;
  5212                        ;				k_debug_rect("WndRect:",
                    &pWin->wndRect);
  5213                        ;				k_debug_rect("ClientRect
                    :",&pWin->clientRect);
  5214                        ;				k_debug_rect("ClassicRec
                    t:",(PRECT)&pWin->win_x);
  5215                        ;
  5216                        ;				//strcpy(pWin->win_title
                    ,(LPCSTR)k_longtodec((ULONG)pWin,localBuffer));
  5217                        ;
  5218                        ;				//k_nodelist_addtolist(_
                    k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(LPCSTR)
                    k_longtodec((ULONG)pWin,localBuffer),pWin);
  5219                        ;				k_nodelist_naddtolist(_k
                    _windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(ULONG)pW
                    in,pWin);
  5220                        ;				//k_debug_nodelist(_k_wi
                    ndowManager_WindowObjectList->listhead->next);
  5221                        ;				*/
  5222                        ;
  5223                        ;
  5224                        ;				if(hWndParent)
  5225                        	.line	788
  5226                        ;				{
  5227 04:12C8: A5 2C        	lda	<L222+hWndParent_0
  5228 04:12CA: 05 2E        	ora	<L222+hWndParent_0+2
  5229 04:12CC: D0 03        	bne	L230
  5230 04:12CE: 82 1C 00     	brl	L10046
  5231                        L230:
  5232                        	.line	789
  5233                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  5234                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),(PWINDOW)pWin,k_update_
                    hover_location);
  5235                        	.line	791
  5236 04:12D1: F4 04 00     	pea	#^~~k_update_hover_location
  5237 04:12D4: F4 D2 31     	pea	#<~~k_update_hover_location
  5238 04:12D7: D4 0B        	pei	<L223+pWin_1+2
  5239 04:12D9: D4 09        	pei	<L223+pWin_1
  5240 04:12DB: D4 2E        	pei	<L222+hWndParent_0+2
  5241 04:12DD: D4 2C        	pei	<L222+hWndParent_0
  5242 04:12DF: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  5243 04:12E3: 85 01        	sta	<R0
  5244 04:12E5: 86 03        	stx	<R0+2
  5245 04:12E7: DA           	phx
  5246 04:12E8: 48           	pha
  5247 04:12E9: 22 D6 30 04  	jsl	~~k_add_child_window
  Wed Nov 18 2020  8:26                                                Page 101


  5248                        ;				}
  5249                        	.line	792
  5250                        ;
  5251                        ;				k_attach_mouse_detection
                    ((PWINDOW)pWin,k_update_hover_location);
  5252                        L10046:
  5253                        	.line	794
  5254 04:12ED: F4 04 00     	pea	#^~~k_update_hover_location
  5255 04:12F0: F4 D2 31     	pea	#<~~k_update_hover_location
  5256 04:12F3: D4 0B        	pei	<L223+pWin_1+2
  5257 04:12F5: D4 09        	pei	<L223+pWin_1
  5258 04:12F7: 22 A4 33 04  	jsl	~~k_attach_mouse_detection
  5259                        ;
  5260                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_CREATE_WINDOW,NULL,0);
  5261                        	.line	796
  5262 04:12FB: F4 00 00     	pea	#<$0
  5263 04:12FE: F4 00 00     	pea	#^$0
  5264 04:1301: F4 00 00     	pea	#<$0
  5265 04:1304: F4 03 FF     	pea	#<$ff03
  5266 04:1307: D4 0B        	pei	<L223+pWin_1+2
  5267 04:1309: D4 09        	pei	<L223+pWin_1
  5268 04:130B: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  5269 04:130F: 85 01        	sta	<R0
  5270 04:1311: 86 03        	stx	<R0+2
  5271 04:1313: DA           	phx
  5272 04:1314: 48           	pha
  5273 04:1315: 22 xx xx xx  	jsl	~~k_send_window_message
  5274                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_DRAW_NONCLIENT,NULL,0)
                    ;
  5275                        	.line	797
  5276 04:1319: F4 00 00     	pea	#<$0
  5277 04:131C: F4 00 00     	pea	#^$0
  5278 04:131F: F4 00 00     	pea	#<$0
  5279 04:1322: F4 01 FB     	pea	#<$fb01
  5280 04:1325: D4 0B        	pei	<L223+pWin_1+2
  5281 04:1327: D4 09        	pei	<L223+pWin_1
  5282 04:1329: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  5283 04:132D: 85 01        	sta	<R0
  5284 04:132F: 86 03        	stx	<R0+2
  5285 04:1331: DA           	phx
  5286 04:1332: 48           	pha
  5287 04:1333: 22 xx xx xx  	jsl	~~k_send_window_message
  5288                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_DRAW_WINDOW,NULL,0);
  5289                        	.line	798
  5290 04:1337: F4 00 00     	pea	#<$0
  5291 04:133A: F4 00 00     	pea	#^$0
  5292 04:133D: F4 00 00     	pea	#<$0
  5293 04:1340: F4 00 FB     	pea	#<$fb00
  5294 04:1343: D4 0B        	pei	<L223+pWin_1+2
  5295 04:1345: D4 09        	pei	<L223+pWin_1
  5296 04:1347: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  5297 04:134B: 85 01        	sta	<R0
  5298 04:134D: 86 03        	stx	<R0+2
  5299 04:134F: DA           	phx
  5300 04:1350: 48           	pha
  Wed Nov 18 2020  8:26                                                Page 102


  5301 04:1351: 22 xx xx xx  	jsl	~~k_send_window_message
  5302                        ;
  5303                        ;
  5304                        ;			}
  5305                        	.line	801
  5306                        ;		}
  5307                        L10045:
  5308                        	.line	802
  5309                        ;	}
  5310                        L10044:
  5311                        	.line	803
  5312                        ;	return pWin;
  5313                        L10043:
  5314                        	.line	804
  5315 04:1355: A6 0B        	ldx	<L223+pWin_1+2
  5316 04:1357: A5 09        	lda	<L223+pWin_1
  5317                        L231:
  5318 04:1359: A8           	tay
  5319 04:135A: A5 16        	lda	<L222+2
  5320 04:135C: 85 36        	sta	<L222+2+32
  5321 04:135E: A5 15        	lda	<L222+1
  5322 04:1360: 85 35        	sta	<L222+1+32
  5323 04:1362: 2B           	pld
  5324 04:1363: 3B           	tsc
  5325 04:1364: 18           	clc
  5326 04:1365: 69 34 00     	adc	#L222+32
  5327 04:1368: 1B           	tcs
  5328 04:1369: 98           	tya
  5329 04:136A: 6B           	rtl
  5330                        ;}
  5331                        	.line	805
  5332                        	.endblock	805
  5333             00000014   L222	equ	20
  5334             00000005   L223	equ	5
  5335 04:136B:              	ends
  5336                        	efunc
  5337                        	.endfunc	805,5,20
  5338                        	.line	805
  5339                        	data
  5340                        L221:
  5341 00:02A3: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$57,$69
       00:02A7: 65 72 5F 43 
       00:02AB: 72 65 61 74 
       00:02AF: 65 57 69 
  5342 00:02B2: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$45,$78,$3A,$00
       00:02B6: 45 78 3A 00 
  5343 00:02BA:              	ends
  5344                        ;
  5345                        ;
  5346                        ;LPVOID	k_user_SetWindowData(HWND hWnd,UINT inde
                    x,LPVOID data)
  5347                        ;{
  5348                        	.line	808
  5349                        	.line	809
  5350                        	WINMAN
  5351                        	xdef	~~k_user_SetWindowData
  5352                        	func
  Wed Nov 18 2020  8:26                                                Page 103


  5353                        	.function	809
  5354                        ~~k_user_SetWindowData:
  5355                        	longa	on
  5356                        	longi	on
  5357 04:136B: 3B           	tsc
  5358 04:136C: 38           	sec
  5359 04:136D: E9 14 00     	sbc	#L233
  5360 04:1370: 1B           	tcs
  5361 04:1371: 0B           	phd
  5362 04:1372: 5B           	tcd
  5363             00000004   hWnd_0	set	4
  5364             00000008   index_0	set	8
  5365             0000000A   data_0	set	10
  5366                        	.block	809
  5367                        ;	LPVOID old = NULL;
  5368                        ;
  5369                        ;	if(hWnd)
  5370             00000000   old_1	set	0
  5371                        	.sym	old,0,129,1,32
  5372                        	.sym	hWnd,4,129,6,32
  5373                        	.sym	index,8,16,6,16
  5374                        	.sym	data,10,129,6,32
  5375 04:1373: 64 11        	stz	<L234+old_1
  5376 04:1375: 64 13        	stz	<L234+old_1+2
  5377                        	.line	812
  5378                        ;	{
  5379 04:1377: A5 18        	lda	<L233+hWnd_0
  5380 04:1379: 05 1A        	ora	<L233+hWnd_0+2
  5381 04:137B: D0 03        	bne	L236
  5382 04:137D: 82 6A 00     	brl	L10047
  5383                        L236:
  5384                        	.line	813
  5385                        ;		if(index > 0 && index < 4)
  5386                        	.line	814
  5387                        ;		{
  5388 04:1380: A9 00 00     	lda	#$0
  5389 04:1383: C5 1C        	cmp	<L233+index_0
  5390 04:1385: 90 03        	bcc	L237
  5391 04:1387: 82 60 00     	brl	L10048
  5392                        L237:
  5393 04:138A: A5 1C        	lda	<L233+index_0
  5394 04:138C: C9 04 00     	cmp	#<$4
  5395 04:138F: 90 03        	bcc	L238
  5396 04:1391: 82 56 00     	brl	L10048
  5397                        L238:
  5398                        	.line	815
  5399                        ;			old = k_user_GetWindowData(hWnd,
                    index);
  5400                        	.line	816
  5401 04:1394: D4 1C        	pei	<L233+index_0
  5402 04:1396: D4 1A        	pei	<L233+hWnd_0+2
  5403 04:1398: D4 18        	pei	<L233+hWnd_0
  5404 04:139A: 22 00 14 04  	jsl	~~k_user_GetWindowData
  5405 04:139E: 85 11        	sta	<L234+old_1
  5406 04:13A0: 86 13        	stx	<L234+old_1+2
  5407                        ;			k_getWindowFromHandle(hWnd)->cli
                    entData[index] = data;
  5408                        	.line	817
  Wed Nov 18 2020  8:26                                                Page 104


  5409 04:13A2: D4 1A        	pei	<L233+hWnd_0+2
  5410 04:13A4: D4 18        	pei	<L233+hWnd_0
  5411 04:13A6: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  5412 04:13AA: 85 01        	sta	<R0
  5413 04:13AC: 86 03        	stx	<R0+2
  5414 04:13AE: A5 1C        	lda	<L233+index_0
  5415 04:13B0: 85 09        	sta	<R2
  5416 04:13B2: 64 0B        	stz	<R2+2
  5417 04:13B4: D4 0B        	pei	<R2+2
  5418 04:13B6: D4 09        	pei	<R2
  5419 04:13B8: A9 02 00     	lda	#$2
  5420                        	xref	~~~lasl
  5421 04:13BB: 22 xx xx xx  	jsl	~~~lasl
  5422 04:13BF: 85 05        	sta	<R1
  5423 04:13C1: 86 07        	stx	<R1+2
  5424 04:13C3: 18           	clc
  5425 04:13C4: A9 95 00     	lda	#$95
  5426 04:13C7: 65 01        	adc	<R0
  5427 04:13C9: 85 0D        	sta	<R3
  5428 04:13CB: A9 00 00     	lda	#$0
  5429 04:13CE: 65 03        	adc	<R0+2
  5430 04:13D0: 85 0F        	sta	<R3+2
  5431 04:13D2: 18           	clc
  5432 04:13D3: A5 0D        	lda	<R3
  5433 04:13D5: 65 05        	adc	<R1
  5434 04:13D7: 85 01        	sta	<R0
  5435 04:13D9: A5 0F        	lda	<R3+2
  5436 04:13DB: 65 07        	adc	<R1+2
  5437 04:13DD: 85 03        	sta	<R0+2
  5438 04:13DF: A5 1E        	lda	<L233+data_0
  5439 04:13E1: 87 01        	sta	[<R0]
  5440 04:13E3: A5 20        	lda	<L233+data_0+2
  5441 04:13E5: A0 02 00     	ldy	#$2
  5442 04:13E8: 97 01        	sta	[<R0],Y
  5443                        ;		}
  5444                        	.line	818
  5445                        ;	}
  5446                        L10048:
  5447                        	.line	819
  5448                        ;	return old;
  5449                        L10047:
  5450                        	.line	820
  5451 04:13EA: A6 13        	ldx	<L234+old_1+2
  5452 04:13EC: A5 11        	lda	<L234+old_1
  5453                        L239:
  5454 04:13EE: A8           	tay
  5455 04:13EF: A5 16        	lda	<L233+2
  5456 04:13F1: 85 20        	sta	<L233+2+10
  5457 04:13F3: A5 15        	lda	<L233+1
  5458 04:13F5: 85 1F        	sta	<L233+1+10
  5459 04:13F7: 2B           	pld
  5460 04:13F8: 3B           	tsc
  5461 04:13F9: 18           	clc
  5462 04:13FA: 69 1E 00     	adc	#L233+10
  5463 04:13FD: 1B           	tcs
  5464 04:13FE: 98           	tya
  5465 04:13FF: 6B           	rtl
  5466                        ;}
  Wed Nov 18 2020  8:26                                                Page 105


  5467                        	.line	821
  5468                        	.endblock	821
  5469             00000014   L233	equ	20
  5470             00000011   L234	equ	17
  5471 04:1400:              	ends
  5472                        	efunc
  5473                        	.endfunc	821,17,20
  5474                        	.line	821
  5475                        ;
  5476                        ;LPVOID	k_user_GetWindowData(HWND hWnd,UINT inde
                    x)
  5477                        ;{
  5478                        	.line	823
  5479                        	.line	824
  5480                        	WINMAN
  5481                        	xdef	~~k_user_GetWindowData
  5482                        	func
  5483                        	.function	824
  5484                        ~~k_user_GetWindowData:
  5485                        	longa	on
  5486                        	longi	on
  5487 04:1400: 3B           	tsc
  5488 04:1401: 38           	sec
  5489 04:1402: E9 14 00     	sbc	#L240
  5490 04:1405: 1B           	tcs
  5491 04:1406: 0B           	phd
  5492 04:1407: 5B           	tcd
  5493             00000004   hWnd_0	set	4
  5494             00000008   index_0	set	8
  5495                        	.block	824
  5496                        ;	LPVOID data = NULL;
  5497                        ;
  5498                        ;	if(hWnd)
  5499             00000000   data_1	set	0
  5500                        	.sym	data,0,129,1,32
  5501                        	.sym	hWnd,4,129,6,32
  5502                        	.sym	index,8,16,6,16
  5503 04:1408: 64 11        	stz	<L241+data_1
  5504 04:140A: 64 13        	stz	<L241+data_1+2
  5505                        	.line	827
  5506                        ;	{
  5507 04:140C: A5 18        	lda	<L240+hWnd_0
  5508 04:140E: 05 1A        	ora	<L240+hWnd_0+2
  5509 04:1410: D0 03        	bne	L243
  5510 04:1412: 82 5C 00     	brl	L10049
  5511                        L243:
  5512                        	.line	828
  5513                        ;		if(index > 0 && index < 4)
  5514                        	.line	829
  5515                        ;		{
  5516 04:1415: A9 00 00     	lda	#$0
  5517 04:1418: C5 1C        	cmp	<L240+index_0
  5518 04:141A: 90 03        	bcc	L244
  5519 04:141C: 82 52 00     	brl	L10050
  5520                        L244:
  5521 04:141F: A5 1C        	lda	<L240+index_0
  5522 04:1421: C9 04 00     	cmp	#<$4
  5523 04:1424: 90 03        	bcc	L245
  Wed Nov 18 2020  8:26                                                Page 106


  5524 04:1426: 82 48 00     	brl	L10050
  5525                        L245:
  5526                        	.line	830
  5527                        ;			data = k_getWindowFromHandle(hWn
                    d)->clientData[index];
  5528                        	.line	831
  5529 04:1429: D4 1A        	pei	<L240+hWnd_0+2
  5530 04:142B: D4 18        	pei	<L240+hWnd_0
  5531 04:142D: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  5532 04:1431: 85 01        	sta	<R0
  5533 04:1433: 86 03        	stx	<R0+2
  5534 04:1435: A5 1C        	lda	<L240+index_0
  5535 04:1437: 85 09        	sta	<R2
  5536 04:1439: 64 0B        	stz	<R2+2
  5537 04:143B: D4 0B        	pei	<R2+2
  5538 04:143D: D4 09        	pei	<R2
  5539 04:143F: A9 02 00     	lda	#$2
  5540                        	xref	~~~lasl
  5541 04:1442: 22 xx xx xx  	jsl	~~~lasl
  5542 04:1446: 85 05        	sta	<R1
  5543 04:1448: 86 07        	stx	<R1+2
  5544 04:144A: 18           	clc
  5545 04:144B: A9 95 00     	lda	#$95
  5546 04:144E: 65 01        	adc	<R0
  5547 04:1450: 85 0D        	sta	<R3
  5548 04:1452: A9 00 00     	lda	#$0
  5549 04:1455: 65 03        	adc	<R0+2
  5550 04:1457: 85 0F        	sta	<R3+2
  5551 04:1459: 18           	clc
  5552 04:145A: A5 0D        	lda	<R3
  5553 04:145C: 65 05        	adc	<R1
  5554 04:145E: 85 01        	sta	<R0
  5555 04:1460: A5 0F        	lda	<R3+2
  5556 04:1462: 65 07        	adc	<R1+2
  5557 04:1464: 85 03        	sta	<R0+2
  5558 04:1466: A7 01        	lda	[<R0]
  5559 04:1468: 85 11        	sta	<L241+data_1
  5560 04:146A: A0 02 00     	ldy	#$2
  5561 04:146D: B7 01        	lda	[<R0],Y
  5562 04:146F: 85 13        	sta	<L241+data_1+2
  5563                        ;		}
  5564                        	.line	832
  5565                        ;	}
  5566                        L10050:
  5567                        	.line	833
  5568                        ;
  5569                        ;	return data;
  5570                        L10049:
  5571                        	.line	835
  5572 04:1471: A6 13        	ldx	<L241+data_1+2
  5573 04:1473: A5 11        	lda	<L241+data_1
  5574                        L246:
  5575 04:1475: A8           	tay
  5576 04:1476: A5 16        	lda	<L240+2
  5577 04:1478: 85 1C        	sta	<L240+2+6
  5578 04:147A: A5 15        	lda	<L240+1
  5579 04:147C: 85 1B        	sta	<L240+1+6
  5580 04:147E: 2B           	pld
  Wed Nov 18 2020  8:26                                                Page 107


  5581 04:147F: 3B           	tsc
  5582 04:1480: 18           	clc
  5583 04:1481: 69 1A 00     	adc	#L240+6
  5584 04:1484: 1B           	tcs
  5585 04:1485: 98           	tya
  5586 04:1486: 6B           	rtl
  5587                        ;}
  5588                        	.line	836
  5589                        	.endblock	836
  5590             00000014   L240	equ	20
  5591             00000011   L241	equ	17
  5592 04:1487:              	ends
  5593                        	efunc
  5594                        	.endfunc	836,17,20
  5595                        	.line	836
  5596                        ;
  5597                        ;void k_user_SetRect(PRECT prect,int x,int y,int w
                    idth,int height)
  5598                        ;{
  5599                        	.line	838
  5600                        	.line	839
  5601                        	WINMAN
  5602                        	xdef	~~k_user_SetRect
  5603                        	func
  5604                        	.function	839
  5605                        ~~k_user_SetRect:
  5606                        	longa	on
  5607                        	longi	on
  5608 04:1487: 3B           	tsc
  5609 04:1488: 38           	sec
  5610 04:1489: E9 00 00     	sbc	#L247
  5611 04:148C: 1B           	tcs
  5612 04:148D: 0B           	phd
  5613 04:148E: 5B           	tcd
  5614             00000004   prect_0	set	4
  5615             00000008   x_0	set	8
  5616             0000000A   y_0	set	10
  5617             0000000C   width_0	set	12
  5618             0000000E   height_0	set	14
  5619                        	.block	839
  5620                        ;	if(prect)
  5621                        	.sym	prect,4,138,6,32,22
  5622                        	.sym	x,8,5,6,16
  5623                        	.sym	y,10,5,6,16
  5624                        	.sym	width,12,5,6,16
  5625                        	.sym	height,14,5,6,16
  5626                        	.line	840
  5627                        ;	{
  5628 04:148F: A5 04        	lda	<L247+prect_0
  5629 04:1491: 05 06        	ora	<L247+prect_0+2
  5630 04:1493: D0 03        	bne	L250
  5631 04:1495: 82 19 00     	brl	L10051
  5632                        L250:
  5633                        	.line	841
  5634                        ;		prect->x = x;
  5635                        	.line	842
  5636 04:1498: A5 08        	lda	<L247+x_0
  5637 04:149A: 87 04        	sta	[<L247+prect_0]
  Wed Nov 18 2020  8:26                                                Page 108


  5638                        ;		prect->y = y;
  5639                        	.line	843
  5640 04:149C: A5 0A        	lda	<L247+y_0
  5641 04:149E: A0 02 00     	ldy	#$2
  5642 04:14A1: 97 04        	sta	[<L247+prect_0],Y
  5643                        ;		prect->width = width;
  5644                        	.line	844
  5645 04:14A3: A5 0C        	lda	<L247+width_0
  5646 04:14A5: A0 04 00     	ldy	#$4
  5647 04:14A8: 97 04        	sta	[<L247+prect_0],Y
  5648                        ;		prect->height = height;
  5649                        	.line	845
  5650 04:14AA: A5 0E        	lda	<L247+height_0
  5651 04:14AC: A0 06 00     	ldy	#$6
  5652 04:14AF: 97 04        	sta	[<L247+prect_0],Y
  5653                        ;	}
  5654                        	.line	846
  5655                        ;}
  5656                        L10051:
  5657                        	.line	847
  5658                        L251:
  5659 04:14B1: A5 02        	lda	<L247+2
  5660 04:14B3: 85 0E        	sta	<L247+2+12
  5661 04:14B5: A5 01        	lda	<L247+1
  5662 04:14B7: 85 0D        	sta	<L247+1+12
  5663 04:14B9: 2B           	pld
  5664 04:14BA: 3B           	tsc
  5665 04:14BB: 18           	clc
  5666 04:14BC: 69 0C 00     	adc	#L247+12
  5667 04:14BF: 1B           	tcs
  5668 04:14C0: 6B           	rtl
  5669                        	.endblock	847
  5670             00000000   L247	equ	0
  5671             00000001   L248	equ	1
  5672 04:14C1:              	ends
  5673                        	efunc
  5674                        	.endfunc	847,1,0
  5675                        	.line	847
  5676                        ;
  5677                        ;void k_user_ClearRect(PRECT prect)
  5678                        ;{
  5679                        	.line	849
  5680                        	.line	850
  5681                        	WINMAN
  5682                        	xdef	~~k_user_ClearRect
  5683                        	func
  5684                        	.function	850
  5685                        ~~k_user_ClearRect:
  5686                        	longa	on
  5687                        	longi	on
  5688 04:14C1: 3B           	tsc
  5689 04:14C2: 38           	sec
  5690 04:14C3: E9 00 00     	sbc	#L252
  5691 04:14C6: 1B           	tcs
  5692 04:14C7: 0B           	phd
  5693 04:14C8: 5B           	tcd
  5694             00000004   prect_0	set	4
  5695                        	.block	850
  Wed Nov 18 2020  8:26                                                Page 109


  5696                        ;	if(prect)
  5697                        	.sym	prect,4,138,6,32,22
  5698                        	.line	851
  5699                        ;	{
  5700 04:14C9: A5 04        	lda	<L252+prect_0
  5701 04:14CB: 05 06        	ora	<L252+prect_0+2
  5702 04:14CD: D0 03        	bne	L255
  5703 04:14CF: 82 1D 00     	brl	L10052
  5704                        L255:
  5705                        	.line	852
  5706                        ;		prect->x 	  = 0;
  5707                        	.line	853
  5708 04:14D2: A9 00 00     	lda	#$0
  5709 04:14D5: 87 04        	sta	[<L252+prect_0]
  5710                        ;		prect->y 	  = 0;
  5711                        	.line	854
  5712 04:14D7: A9 00 00     	lda	#$0
  5713 04:14DA: A0 02 00     	ldy	#$2
  5714 04:14DD: 97 04        	sta	[<L252+prect_0],Y
  5715                        ;		prect->width  = 0;
  5716                        	.line	855
  5717 04:14DF: A9 00 00     	lda	#$0
  5718 04:14E2: A0 04 00     	ldy	#$4
  5719 04:14E5: 97 04        	sta	[<L252+prect_0],Y
  5720                        ;		prect->height = 0;
  5721                        	.line	856
  5722 04:14E7: A9 00 00     	lda	#$0
  5723 04:14EA: A0 06 00     	ldy	#$6
  5724 04:14ED: 97 04        	sta	[<L252+prect_0],Y
  5725                        ;	}
  5726                        	.line	857
  5727                        ;}
  5728                        L10052:
  5729                        	.line	858
  5730                        L256:
  5731 04:14EF: A5 02        	lda	<L252+2
  5732 04:14F1: 85 06        	sta	<L252+2+4
  5733 04:14F3: A5 01        	lda	<L252+1
  5734 04:14F5: 85 05        	sta	<L252+1+4
  5735 04:14F7: 2B           	pld
  5736 04:14F8: 3B           	tsc
  5737 04:14F9: 18           	clc
  5738 04:14FA: 69 04 00     	adc	#L252+4
  5739 04:14FD: 1B           	tcs
  5740 04:14FE: 6B           	rtl
  5741                        	.endblock	858
  5742             00000000   L252	equ	0
  5743             00000001   L253	equ	1
  5744 04:14FF:              	ends
  5745                        	efunc
  5746                        	.endfunc	858,1,0
  5747                        	.line	858
  5748                        ;
  5749                        ;
  5750                        ;void k_user_CopyRect(PRECT prectSrc,PRECT prectDe
                    st)
  5751                        ;{
  5752                        	.line	861
  Wed Nov 18 2020  8:26                                                Page 110


  5753                        	.line	862
  5754                        	WINMAN
  5755                        	xdef	~~k_user_CopyRect
  5756                        	func
  5757                        	.function	862
  5758                        ~~k_user_CopyRect:
  5759                        	longa	on
  5760                        	longi	on
  5761 04:14FF: 3B           	tsc
  5762 04:1500: 38           	sec
  5763 04:1501: E9 00 00     	sbc	#L257
  5764 04:1504: 1B           	tcs
  5765 04:1505: 0B           	phd
  5766 04:1506: 5B           	tcd
  5767             00000004   prectSrc_0	set	4
  5768             00000008   prectDest_0	set	8
  5769                        	.block	862
  5770                        ;	if(prectSrc && prectDest)
  5771                        	.sym	prectSrc,4,138,6,32,22
  5772                        	.sym	prectDest,8,138,6,32,22
  5773                        	.line	863
  5774                        ;	{
  5775 04:1507: A5 04        	lda	<L257+prectSrc_0
  5776 04:1509: 05 06        	ora	<L257+prectSrc_0+2
  5777 04:150B: D0 03        	bne	L260
  5778 04:150D: 82 2B 00     	brl	L10053
  5779                        L260:
  5780 04:1510: A5 08        	lda	<L257+prectDest_0
  5781 04:1512: 05 0A        	ora	<L257+prectDest_0+2
  5782 04:1514: D0 03        	bne	L261
  5783 04:1516: 82 22 00     	brl	L10053
  5784                        L261:
  5785                        	.line	864
  5786                        ;		prectSrc->x 	= prectDest->x;
  5787                        	.line	865
  5788 04:1519: A7 08        	lda	[<L257+prectDest_0]
  5789 04:151B: 87 04        	sta	[<L257+prectSrc_0]
  5790                        ;		prectSrc->y 	= prectDest->y;
  5791                        	.line	866
  5792 04:151D: A0 02 00     	ldy	#$2
  5793 04:1520: B7 08        	lda	[<L257+prectDest_0],Y
  5794 04:1522: A0 02 00     	ldy	#$2
  5795 04:1525: 97 04        	sta	[<L257+prectSrc_0],Y
  5796                        ;		prectSrc->width = prectDest->width;
  5797                        	.line	867
  5798 04:1527: A0 04 00     	ldy	#$4
  5799 04:152A: B7 08        	lda	[<L257+prectDest_0],Y
  5800 04:152C: A0 04 00     	ldy	#$4
  5801 04:152F: 97 04        	sta	[<L257+prectSrc_0],Y
  5802                        ;		prectSrc->height= prectDest->height;
  5803                        	.line	868
  5804 04:1531: A0 06 00     	ldy	#$6
  5805 04:1534: B7 08        	lda	[<L257+prectDest_0],Y
  5806 04:1536: A0 06 00     	ldy	#$6
  5807 04:1539: 97 04        	sta	[<L257+prectSrc_0],Y
  5808                        ;	}
  5809                        	.line	869
  5810                        ;}
  Wed Nov 18 2020  8:26                                                Page 111


  5811                        L10053:
  5812                        	.line	870
  5813                        L262:
  5814 04:153B: A5 02        	lda	<L257+2
  5815 04:153D: 85 0A        	sta	<L257+2+8
  5816 04:153F: A5 01        	lda	<L257+1
  5817 04:1541: 85 09        	sta	<L257+1+8
  5818 04:1543: 2B           	pld
  5819 04:1544: 3B           	tsc
  5820 04:1545: 18           	clc
  5821 04:1546: 69 08 00     	adc	#L257+8
  5822 04:1549: 1B           	tcs
  5823 04:154A: 6B           	rtl
  5824                        	.endblock	870
  5825             00000000   L257	equ	0
  5826             00000001   L258	equ	1
  5827 04:154B:              	ends
  5828                        	efunc
  5829                        	.endfunc	870,1,0
  5830                        	.line	870
  5831                        ;
  5832                        ;
  5833                        ;HMENU k_user_CreateMenuResource()
  5834                        ;{
  5835                        	.line	873
  5836                        	.line	874
  5837                        	WINMAN
  5838                        	xdef	~~k_user_CreateMenuResource
  5839                        	func
  5840                        	.function	874
  5841                        ~~k_user_CreateMenuResource:
  5842                        	longa	on
  5843                        	longi	on
  5844 04:154B: 3B           	tsc
  5845 04:154C: 38           	sec
  5846 04:154D: E9 04 00     	sbc	#L263
  5847 04:1550: 1B           	tcs
  5848 04:1551: 0B           	phd
  5849 04:1552: 5B           	tcd
  5850                        	.block	874
  5851                        ;	PMENU pMenu = NULL;
  5852                        ;
  5853                        ;	//k_debug_strings("k_user_CreateMenuResource:","
                    Enter");
  5854                        ;
  5855                        ;	pMenu = k_mem_allocate_heap(sizeof(MENU));
  5856             00000000   pMenu_1	set	0
  5857                        	.sym	pMenu,0,138,1,32,29
  5858 04:1553: 64 01        	stz	<L264+pMenu_1
  5859 04:1555: 64 03        	stz	<L264+pMenu_1+2
  5860                        	.line	879
  5861 04:1557: F4 1F 00     	pea	#<$1f
  5862 04:155A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5863 04:155E: 85 01        	sta	<L264+pMenu_1
  5864 04:1560: 86 03        	stx	<L264+pMenu_1+2
  5865                        ;	memset(pMenu,0,sizeof(MENU));
  5866                        	.line	880
  5867 04:1562: F4 1F 00     	pea	#<$1f
  Wed Nov 18 2020  8:26                                                Page 112


  5868 04:1565: F4 00 00     	pea	#<$0
  5869 04:1568: D4 03        	pei	<L264+pMenu_1+2
  5870 04:156A: D4 01        	pei	<L264+pMenu_1
  5871 04:156C: 22 xx xx xx  	jsl	~~memset
  5872                        ;
  5873                        ;	pMenu->pCaption = NULL;//k_string_copy_string("@
                    root");
  5874                        	.line	882
  5875 04:1570: A9 00 00     	lda	#$0
  5876 04:1573: A0 0F 00     	ldy	#$f
  5877 04:1576: 97 01        	sta	[<L264+pMenu_1],Y
  5878 04:1578: A9 00 00     	lda	#$0
  5879 04:157B: A0 11 00     	ldy	#$11
  5880 04:157E: 97 01        	sta	[<L264+pMenu_1],Y
  5881                        ;	pMenu->width    = 0;
  5882                        	.line	883
  5883 04:1580: A9 00 00     	lda	#$0
  5884 04:1583: A0 04 00     	ldy	#$4
  5885 04:1586: 97 01        	sta	[<L264+pMenu_1],Y
  5886                        ;	pMenu->height   = 0;
  5887                        	.line	884
  5888 04:1588: A9 00 00     	lda	#$0
  5889 04:158B: A0 06 00     	ldy	#$6
  5890 04:158E: 97 01        	sta	[<L264+pMenu_1],Y
  5891                        ;	pMenu->subMenus = NULL;
  5892                        	.line	885
  5893 04:1590: A9 00 00     	lda	#$0
  5894 04:1593: A0 13 00     	ldy	#$13
  5895 04:1596: 97 01        	sta	[<L264+pMenu_1],Y
  5896 04:1598: A9 00 00     	lda	#$0
  5897 04:159B: A0 15 00     	ldy	#$15
  5898 04:159E: 97 01        	sta	[<L264+pMenu_1],Y
  5899                        ;
  5900                        ;	//k_debug_strings("k_user_CreateMenuResource:","
                    Exit");
  5901                        ;
  5902                        ;	return (HMENU)pMenu;
  5903                        	.line	889
  5904 04:15A0: A6 03        	ldx	<L264+pMenu_1+2
  5905 04:15A2: A5 01        	lda	<L264+pMenu_1
  5906                        L266:
  5907 04:15A4: A8           	tay
  5908 04:15A5: 2B           	pld
  5909 04:15A6: 3B           	tsc
  5910 04:15A7: 18           	clc
  5911 04:15A8: 69 04 00     	adc	#L263
  5912 04:15AB: 1B           	tcs
  5913 04:15AC: 98           	tya
  5914 04:15AD: 6B           	rtl
  5915                        ;}
  5916                        	.line	890
  5917                        	.endblock	890
  5918             00000004   L263	equ	4
  5919             00000001   L264	equ	1
  5920 04:15AE:              	ends
  5921                        	efunc
  5922                        	.endfunc	890,1,4
  5923                        	.line	890
  Wed Nov 18 2020  8:26                                                Page 113


  5924                        ;
  5925                        ;HMENU k_user_AddMenuItem(HMENU hMenu,LPCSTR menuC
                    aption,UINT menuId)
  5926                        ;{
  5927                        	.line	892
  5928                        	.line	893
  5929                        	WINMAN
  5930                        	xdef	~~k_user_AddMenuItem
  5931                        	func
  5932                        	.function	893
  5933                        ~~k_user_AddMenuItem:
  5934                        	longa	on
  5935                        	longi	on
  5936 04:15AE: 3B           	tsc
  5937 04:15AF: 38           	sec
  5938 04:15B0: E9 0C 00     	sbc	#L267
  5939 04:15B3: 1B           	tcs
  5940 04:15B4: 0B           	phd
  5941 04:15B5: 5B           	tcd
  5942             00000004   hMenu_0	set	4
  5943             00000008   menuCaption_0	set	8
  5944             0000000C   menuId_0	set	12
  5945                        	.block	893
  5946                        ;	PMENU pMenu = NULL;
  5947                        ;	PMENU pRoot = (PMENU)hMenu;
  5948                        ;
  5949                        ;	//k_debug_strings("k_user_AddMenuItem:","Enter")
                    ;
  5950                        ;
  5951                        ;	if(pRoot)
  5952             00000000   pMenu_1	set	0
  5953             00000004   pRoot_1	set	4
  5954                        	.sym	pMenu,0,138,1,32,29
  5955                        	.sym	pRoot,4,138,1,32,29
  5956                        	.sym	hMenu,4,129,6,32
  5957                        	.sym	menuCaption,8,142,6,32
  5958                        	.sym	menuId,12,16,6,16
  5959 04:15B6: 64 05        	stz	<L268+pMenu_1
  5960 04:15B8: 64 07        	stz	<L268+pMenu_1+2
  5961 04:15BA: A5 10        	lda	<L267+hMenu_0
  5962 04:15BC: 85 09        	sta	<L268+pRoot_1
  5963 04:15BE: A5 12        	lda	<L267+hMenu_0+2
  5964 04:15C0: 85 0B        	sta	<L268+pRoot_1+2
  5965                        	.line	899
  5966                        ;	{
  5967 04:15C2: A5 09        	lda	<L268+pRoot_1
  5968 04:15C4: 05 0B        	ora	<L268+pRoot_1+2
  5969 04:15C6: D0 03        	bne	L270
  5970 04:15C8: 82 BA 00     	brl	L10054
  5971                        L270:
  5972                        	.line	900
  5973                        ;
  5974                        ;		pMenu = k_mem_allocate_heap(sizeof(MENU)
                    );
  5975                        	.line	902
  5976 04:15CB: F4 1F 00     	pea	#<$1f
  5977 04:15CE: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5978 04:15D2: 85 05        	sta	<L268+pMenu_1
  Wed Nov 18 2020  8:26                                                Page 114


  5979 04:15D4: 86 07        	stx	<L268+pMenu_1+2
  5980                        ;		memset(pMenu,0,sizeof(MENU));
  5981                        	.line	903
  5982 04:15D6: F4 1F 00     	pea	#<$1f
  5983 04:15D9: F4 00 00     	pea	#<$0
  5984 04:15DC: D4 07        	pei	<L268+pMenu_1+2
  5985 04:15DE: D4 05        	pei	<L268+pMenu_1
  5986 04:15E0: 22 xx xx xx  	jsl	~~memset
  5987                        ;		pMenu->itemId = menuId;
  5988                        	.line	904
  5989 04:15E4: A5 18        	lda	<L267+menuId_0
  5990 04:15E6: A0 0D 00     	ldy	#$d
  5991 04:15E9: 97 05        	sta	[<L268+pMenu_1],Y
  5992                        ;		pMenu->pCaption = k_string_copy_string(m
                    enuCaption);
  5993                        	.line	905
  5994 04:15EB: D4 16        	pei	<L267+menuCaption_0+2
  5995 04:15ED: D4 14        	pei	<L267+menuCaption_0
  5996 04:15EF: 22 xx xx xx  	jsl	~~k_string_copy_string
  5997 04:15F3: 85 01        	sta	<R0
  5998 04:15F5: 86 03        	stx	<R0+2
  5999 04:15F7: A5 01        	lda	<R0
  6000 04:15F9: A0 0F 00     	ldy	#$f
  6001 04:15FC: 97 05        	sta	[<L268+pMenu_1],Y
  6002 04:15FE: A5 03        	lda	<R0+2
  6003 04:1600: A0 11 00     	ldy	#$11
  6004 04:1603: 97 05        	sta	[<L268+pMenu_1],Y
  6005                        ;		pMenu->cx 	  = 0;
  6006                        	.line	906
  6007 04:1605: A9 00 00     	lda	#$0
  6008 04:1608: 87 05        	sta	[<L268+pMenu_1]
  6009                        ;		pMenu->cy	  = 0;
  6010                        	.line	907
  6011 04:160A: A9 00 00     	lda	#$0
  6012 04:160D: A0 02 00     	ldy	#$2
  6013 04:1610: 97 05        	sta	[<L268+pMenu_1],Y
  6014                        ;		pMenu->width  = 0;
  6015                        	.line	908
  6016 04:1612: A9 00 00     	lda	#$0
  6017 04:1615: A0 04 00     	ldy	#$4
  6018 04:1618: 97 05        	sta	[<L268+pMenu_1],Y
  6019                        ;		pMenu->height = 0;
  6020                        	.line	909
  6021 04:161A: A9 00 00     	lda	#$0
  6022 04:161D: A0 06 00     	ldy	#$6
  6023 04:1620: 97 05        	sta	[<L268+pMenu_1],Y
  6024                        ;
  6025                        ;		if(!pRoot->subMenus)
  6026                        	.line	911
  6027                        ;		{
  6028 04:1622: A0 13 00     	ldy	#$13
  6029 04:1625: B7 09        	lda	[<L268+pRoot_1],Y
  6030 04:1627: A0 15 00     	ldy	#$15
  6031 04:162A: 17 09        	ora	[<L268+pRoot_1],Y
  6032 04:162C: F0 03        	beq	L271
  6033 04:162E: 82 22 00     	brl	L10055
  6034                        L271:
  6035                        	.line	912
  Wed Nov 18 2020  8:26                                                Page 115


  6036                        ;			pRoot->subMenus = k_nodelist_all
                    ocate_list("_menu_sub_item_list" ,k_deallocate_menu_resource
                    );
  6037                        	.line	913
  6038 04:1631: F4 04 00     	pea	#^~~k_deallocate_menu_resource
  6039 04:1634: F4 44 01     	pea	#<~~k_deallocate_menu_resource
  6040 04:1637: F4 xx xx     	pea	#^L232
  6041 04:163A: F4 xx xx     	pea	#<L232
  6042 04:163D: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  6043 04:1641: 85 01        	sta	<R0
  6044 04:1643: 86 03        	stx	<R0+2
  6045 04:1645: A5 01        	lda	<R0
  6046 04:1647: A0 13 00     	ldy	#$13
  6047 04:164A: 97 09        	sta	[<L268+pRoot_1],Y
  6048 04:164C: A5 03        	lda	<R0+2
  6049 04:164E: A0 15 00     	ldy	#$15
  6050 04:1651: 97 09        	sta	[<L268+pRoot_1],Y
  6051                        ;		}
  6052                        	.line	914
  6053                        ;
  6054                        ;		if(pRoot->subMenus)
  6055                        L10055:
  6056                        	.line	916
  6057                        ;		{
  6058 04:1653: A0 13 00     	ldy	#$13
  6059 04:1656: B7 09        	lda	[<L268+pRoot_1],Y
  6060 04:1658: A0 15 00     	ldy	#$15
  6061 04:165B: 17 09        	ora	[<L268+pRoot_1],Y
  6062 04:165D: D0 03        	bne	L272
  6063 04:165F: 82 23 00     	brl	L10056
  6064                        L272:
  6065                        	.line	917
  6066                        ;			k_nodelist_addtolist(pRoot->subM
                    enus,NL_TYPE_WINDOW_MENU,pMenu->pCaption,pMenu);
  6067                        	.line	918
  6068 04:1662: D4 07        	pei	<L268+pMenu_1+2
  6069 04:1664: D4 05        	pei	<L268+pMenu_1
  6070 04:1666: A0 11 00     	ldy	#$11
  6071 04:1669: B7 05        	lda	[<L268+pMenu_1],Y
  6072 04:166B: 48           	pha
  6073 04:166C: A0 0F 00     	ldy	#$f
  6074 04:166F: B7 05        	lda	[<L268+pMenu_1],Y
  6075 04:1671: 48           	pha
  6076 04:1672: F4 03 00     	pea	#<$3
  6077 04:1675: A0 15 00     	ldy	#$15
  6078 04:1678: B7 09        	lda	[<L268+pRoot_1],Y
  6079 04:167A: 48           	pha
  6080 04:167B: A0 13 00     	ldy	#$13
  6081 04:167E: B7 09        	lda	[<L268+pRoot_1],Y
  6082 04:1680: 48           	pha
  6083 04:1681: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  6084                        ;		}
  6085                        	.line	919
  6086                        ;
  6087                        ;	}
  6088                        L10056:
  6089                        	.line	921
  6090                        ;
  Wed Nov 18 2020  8:26                                                Page 116


  6091                        ;	//k_debug_strings("k_user_AddMenuItem:","Exit");
  6092                        ;
  6093                        ;	return pMenu;
  6094                        L10054:
  6095                        	.line	925
  6096 04:1685: A6 07        	ldx	<L268+pMenu_1+2
  6097 04:1687: A5 05        	lda	<L268+pMenu_1
  6098                        L273:
  6099 04:1689: A8           	tay
  6100 04:168A: A5 0E        	lda	<L267+2
  6101 04:168C: 85 18        	sta	<L267+2+10
  6102 04:168E: A5 0D        	lda	<L267+1
  6103 04:1690: 85 17        	sta	<L267+1+10
  6104 04:1692: 2B           	pld
  6105 04:1693: 3B           	tsc
  6106 04:1694: 18           	clc
  6107 04:1695: 69 16 00     	adc	#L267+10
  6108 04:1698: 1B           	tcs
  6109 04:1699: 98           	tya
  6110 04:169A: 6B           	rtl
  6111                        ;}
  6112                        	.line	926
  6113                        	.endblock	926
  6114             0000000C   L267	equ	12
  6115             00000005   L268	equ	5
  6116 04:169B:              	ends
  6117                        	efunc
  6118                        	.endfunc	926,5,12
  6119                        	.line	926
  6120                        	data
  6121                        L232:
  6122 00:02BA: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$5F,$73,$75,$62,$5F,
                    $69,$74,$65,$6D,$5F
       00:02BE: 75 5F 73 75 
       00:02C2: 62 5F 69 74 
       00:02C6: 65 6D 5F 
  6123 00:02C9: 6C 69 73 74  	db	$6C,$69,$73,$74,$00
       00:02CD: 00 
  6124 00:02CE:              	ends
  6125                        ;
  6126                        ;PWINDOW	k_user_CreateMenu(HWND      hWndParent,
  6127                        ;						  HMENU 
                        hMenu,
  6128                        ;						  HINSTA
                    NCE hInstance)
  6129                        ;{
  6130                        	.line	928
  6131                        	.line	931
  6132                        	WINMAN
  6133                        	xdef	~~k_user_CreateMenu
  6134                        	func
  6135                        	.function	931
  6136                        ~~k_user_CreateMenu:
  6137                        	longa	on
  6138                        	longi	on
  6139 04:169B: 3B           	tsc
  6140 04:169C: 38           	sec
  6141 04:169D: E9 38 00     	sbc	#L275
  Wed Nov 18 2020  8:26                                                Page 117


  6142 04:16A0: 1B           	tcs
  6143 04:16A1: 0B           	phd
  6144 04:16A2: 5B           	tcd
  6145             00000004   hWndParent_0	set	4
  6146             00000008   hMenu_0	set	8
  6147             0000000C   hInstance_0	set	12
  6148                        	.block	931
  6149                        ;
  6150                        ;	PFXNODE   found = NULL;
  6151                        ;	PFXNODE   new = NULL;
  6152                        ;	PWINDOW   pWin = NULL;
  6153                        ;	PWNDCLASS wndClass = NULL;
  6154                        ;	PWINDOW   pParent = NULL;
  6155                        ;	CHAR localBuffer[32];
  6156                        ;
  6157                        ;	//k_debug_pointer("k_user_CreateMenu:Parent hWnd
                    :",hWndParent);
  6158                        ;	//k_debug_pointer("k_user_CreateMenu:DesktopWind
                    ow:",k_user_getDesktopWindow());
  6159                        ;
  6160                        ;
  6161                        ;
  6162                        ;
  6163                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _WindowClassList,"menuWindowClass");
  6164             00000000   found_1	set	0
  6165             00000004   new_1	set	4
  6166             00000008   pWin_1	set	8
  6167             0000000C   wndClass_1	set	12
  6168             00000010   pParent_1	set	16
  6169             00000014   localBuffer_1	set	20
  6170                        	.sym	found,0,138,1,32,2
  6171                        	.sym	new,4,138,1,32,2
  6172                        	.sym	pWin,8,138,1,32,24
  6173                        	.sym	wndClass,12,138,1,32,23
  6174                        	.sym	pParent,16,138,1,32,24
  6175                        	.sym	localBuffer,20,110,1,0,32
  6176                        	.sym	hWndParent,4,129,6,32
  6177                        	.sym	hMenu,8,129,6,32
  6178                        	.sym	hInstance,12,129,6,32
  6179 04:16A3: 64 05        	stz	<L276+found_1
  6180 04:16A5: 64 07        	stz	<L276+found_1+2
  6181 04:16A7: 64 09        	stz	<L276+new_1
  6182 04:16A9: 64 0B        	stz	<L276+new_1+2
  6183 04:16AB: 64 0D        	stz	<L276+pWin_1
  6184 04:16AD: 64 0F        	stz	<L276+pWin_1+2
  6185 04:16AF: 64 11        	stz	<L276+wndClass_1
  6186 04:16B1: 64 13        	stz	<L276+wndClass_1+2
  6187 04:16B3: 64 15        	stz	<L276+pParent_1
  6188 04:16B5: 64 17        	stz	<L276+pParent_1+2
  6189                        	.line	946
  6190 04:16B7: F4 xx xx     	pea	#^L274
  6191 04:16BA: F4 xx xx     	pea	#<L274
  6192 04:16BD: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  6193 04:16C0: 48           	pha
  6194 04:16C1: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  6195 04:16C4: 48           	pha
  6196 04:16C5: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  Wed Nov 18 2020  8:26                                                Page 118


  6197 04:16C9: 85 05        	sta	<L276+found_1
  6198 04:16CB: 86 07        	stx	<L276+found_1+2
  6199                        ;	if(found && found->data)
  6200                        	.line	947
  6201                        ;	{
  6202 04:16CD: A5 05        	lda	<L276+found_1
  6203 04:16CF: 05 07        	ora	<L276+found_1+2
  6204 04:16D1: D0 03        	bne	L278
  6205 04:16D3: 82 5C 02     	brl	L10057
  6206                        L278:
  6207 04:16D6: A0 02 00     	ldy	#$2
  6208 04:16D9: B7 05        	lda	[<L276+found_1],Y
  6209 04:16DB: A0 04 00     	ldy	#$4
  6210 04:16DE: 17 05        	ora	[<L276+found_1],Y
  6211 04:16E0: D0 03        	bne	L279
  6212 04:16E2: 82 4D 02     	brl	L10057
  6213                        L279:
  6214                        	.line	948
  6215                        ;		wndClass = (PWNDCLASS)found->data;
  6216                        	.line	949
  6217 04:16E5: A0 02 00     	ldy	#$2
  6218 04:16E8: B7 05        	lda	[<L276+found_1],Y
  6219 04:16EA: 85 11        	sta	<L276+wndClass_1
  6220 04:16EC: A0 04 00     	ldy	#$4
  6221 04:16EF: B7 05        	lda	[<L276+found_1],Y
  6222 04:16F1: 85 13        	sta	<L276+wndClass_1+2
  6223                        ;
  6224                        ;		//k_debug_strings("k_user_CreateMenu:Fou
                    nd WndClass:",(LPVOID)wndClass->lpszClassName);
  6225                        ;
  6226                        ;		pWin = k_mem_allocate_heap(sizeof(WINDOW
                    ));
  6227                        	.line	953
  6228 04:16F3: F4 A6 00     	pea	#<$a6
  6229 04:16F6: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6230 04:16FA: 85 0D        	sta	<L276+pWin_1
  6231 04:16FC: 86 0F        	stx	<L276+pWin_1+2
  6232                        ;		if(pWin)
  6233                        	.line	954
  6234                        ;		{
  6235 04:16FE: A5 0D        	lda	<L276+pWin_1
  6236 04:1700: 05 0F        	ora	<L276+pWin_1+2
  6237 04:1702: D0 03        	bne	L280
  6238 04:1704: 82 2B 02     	brl	L10058
  6239                        L280:
  6240                        	.line	955
  6241                        ;			pParent = k_getWindowFromHandle(
                    hWndParent);
  6242                        	.line	956
  6243 04:1707: D4 3E        	pei	<L275+hWndParent_0+2
  6244 04:1709: D4 3C        	pei	<L275+hWndParent_0
  6245 04:170B: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  6246 04:170F: 85 15        	sta	<L276+pParent_1
  6247 04:1711: 86 17        	stx	<L276+pParent_1+2
  6248                        ;
  6249                        ;			memset(pWin,0,sizeof(WINDOW));
  6250                        	.line	958
  6251 04:1713: F4 A6 00     	pea	#<$a6
  Wed Nov 18 2020  8:26                                                Page 119


  6252 04:1716: F4 00 00     	pea	#<$0
  6253 04:1719: D4 0F        	pei	<L276+pWin_1+2
  6254 04:171B: D4 0D        	pei	<L276+pWin_1
  6255 04:171D: 22 xx xx xx  	jsl	~~memset
  6256                        ;			pWin->cbSize = sizeof(WINDOW);
  6257                        	.line	959
  6258 04:1721: A9 A6 00     	lda	#$a6
  6259 04:1724: 87 0D        	sta	[<L276+pWin_1]
  6260                        ;
  6261                        ;			if(k_exec_get_current_process())
  6262                        	.line	961
  6263                        ;			{
  6264 04:1726: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  6265 04:172A: 85 01        	sta	<R0
  6266 04:172C: 86 03        	stx	<R0+2
  6267 04:172E: A5 01        	lda	<R0
  6268 04:1730: 05 03        	ora	<R0+2
  6269 04:1732: D0 03        	bne	L281
  6270 04:1734: 82 1F 00     	brl	L10059
  6271                        L281:
  6272                        	.line	962
  6273                        ;				pWin->procid = k_exec_ge
                    t_current_process()->procId;
  6274                        	.line	963
  6275 04:1737: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  6276 04:173B: 85 01        	sta	<R0
  6277 04:173D: 86 03        	stx	<R0+2
  6278 04:173F: A0 02 00     	ldy	#$2
  6279 04:1742: B7 01        	lda	[<R0],Y
  6280 04:1744: A0 78 00     	ldy	#$78
  6281 04:1747: 97 0D        	sta	[<L276+pWin_1],Y
  6282 04:1749: A0 04 00     	ldy	#$4
  6283 04:174C: B7 01        	lda	[<R0],Y
  6284 04:174E: A0 7A 00     	ldy	#$7a
  6285 04:1751: 97 0D        	sta	[<L276+pWin_1],Y
  6286                        ;			}
  6287                        	.line	964
  6288                        ;			else
  6289 04:1753: 82 29 00     	brl	L10060
  6290                        L10059:
  6291                        ;			{
  6292                        	.line	966
  6293                        ;				if(hWndParent)
  6294                        	.line	967
  6295                        ;					pWin->procid = k
                    _getWindowFromHandle(hWndParent)->procid;
  6296 04:1756: A5 3C        	lda	<L275+hWndParent_0
  6297 04:1758: 05 3E        	ora	<L275+hWndParent_0+2
  6298 04:175A: D0 03        	bne	L282
  6299 04:175C: 82 20 00     	brl	L10061
  6300                        L282:
  6301                        	.line	968
  6302 04:175F: D4 3E        	pei	<L275+hWndParent_0+2
  6303 04:1761: D4 3C        	pei	<L275+hWndParent_0
  6304 04:1763: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  6305 04:1767: 85 01        	sta	<R0
  6306 04:1769: 86 03        	stx	<R0+2
  6307 04:176B: A0 78 00     	ldy	#$78
  Wed Nov 18 2020  8:26                                                Page 120


  6308 04:176E: B7 01        	lda	[<R0],Y
  6309 04:1770: A0 78 00     	ldy	#$78
  6310 04:1773: 97 0D        	sta	[<L276+pWin_1],Y
  6311 04:1775: A0 7A 00     	ldy	#$7a
  6312 04:1778: B7 01        	lda	[<R0],Y
  6313 04:177A: A0 7A 00     	ldy	#$7a
  6314 04:177D: 97 0D        	sta	[<L276+pWin_1],Y
  6315                        ;			}
  6316                        L10061:
  6317                        	.line	969
  6318                        L10060:
  6319                        ;
  6320                        ;			k_debug_string("k_user_CreateMen
                    u\r\n");
  6321                        	.line	971
  6322 04:177F: F4 xx xx     	pea	#^L274+16
  6323 04:1782: F4 xx xx     	pea	#<L274+16
  6324 04:1785: 22 xx xx xx  	jsl	~~k_debug_string
  6325                        ;			k_debug_long("Process Id:",(ULON
                    G)pWin->procid);
  6326                        	.line	972
  6327 04:1789: A0 7A 00     	ldy	#$7a
  6328 04:178C: B7 0D        	lda	[<L276+pWin_1],Y
  6329 04:178E: 48           	pha
  6330 04:178F: A0 78 00     	ldy	#$78
  6331 04:1792: B7 0D        	lda	[<L276+pWin_1],Y
  6332 04:1794: 48           	pha
  6333 04:1795: F4 xx xx     	pea	#^L274+36
  6334 04:1798: F4 xx xx     	pea	#<L274+36
  6335 04:179B: 22 xx xx xx  	jsl	~~k_debug_long
  6336                        ;
  6337                        ;			pWin->pParentWindow = hWndParent
                    ;
  6338                        	.line	974
  6339 04:179F: A5 3C        	lda	<L275+hWndParent_0
  6340 04:17A1: A0 80 00     	ldy	#$80
  6341 04:17A4: 97 0D        	sta	[<L276+pWin_1],Y
  6342 04:17A6: A5 3E        	lda	<L275+hWndParent_0+2
  6343 04:17A8: A0 82 00     	ldy	#$82
  6344 04:17AB: 97 0D        	sta	[<L276+pWin_1],Y
  6345                        ;			pWin->pWndClass 	= wndCla
                    ss;
  6346                        	.line	975
  6347 04:17AD: A5 11        	lda	<L276+wndClass_1
  6348 04:17AF: A0 7C 00     	ldy	#$7c
  6349 04:17B2: 97 0D        	sta	[<L276+pWin_1],Y
  6350 04:17B4: A5 13        	lda	<L276+wndClass_1+2
  6351 04:17B6: A0 7E 00     	ldy	#$7e
  6352 04:17B9: 97 0D        	sta	[<L276+pWin_1],Y
  6353                        ;			//strcpy(pWin->win_title,(LPCSTR
                    )k_longtodec((ULONG)pWin,localBuffer));
  6354                        ;			strcpy(pWin->win_title,"#menubar
                    ");
  6355                        	.line	977
  6356 04:17BB: F4 xx xx     	pea	#^L274+48
  6357 04:17BE: F4 xx xx     	pea	#<L274+48
  6358 04:17C1: 18           	clc
  6359 04:17C2: A9 24 00     	lda	#$24
  Wed Nov 18 2020  8:26                                                Page 121


  6360 04:17C5: 65 0D        	adc	<L276+pWin_1
  6361 04:17C7: 85 01        	sta	<R0
  6362 04:17C9: A9 00 00     	lda	#$0
  6363 04:17CC: 65 0F        	adc	<L276+pWin_1+2
  6364 04:17CE: 85 03        	sta	<R0+2
  6365 04:17D0: D4 03        	pei	<R0+2
  6366 04:17D2: D4 01        	pei	<R0
  6367 04:17D4: 22 xx xx xx  	jsl	~~strcpy
  6368                        ;			pWin->win_x		 = 0;
  6369                        	.line	978
  6370 04:17D8: A9 00 00     	lda	#$0
  6371 04:17DB: A0 08 00     	ldy	#$8
  6372 04:17DE: 97 0D        	sta	[<L276+pWin_1],Y
  6373                        ;			pWin->win_y 	 = 0;
  6374                        	.line	979
  6375 04:17E0: A9 00 00     	lda	#$0
  6376 04:17E3: A0 0A 00     	ldy	#$a
  6377 04:17E6: 97 0D        	sta	[<L276+pWin_1],Y
  6378                        ;			pWin->win_width  = k_user_getSys
                    temMetric(SM_CXMENUSIZE);
  6379                        	.line	980
  6380 04:17E8: F4 36 00     	pea	#<$36
  6381 04:17EB: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  6382 04:17EF: A0 0C 00     	ldy	#$c
  6383 04:17F2: 97 0D        	sta	[<L276+pWin_1],Y
  6384                        ;			pWin->win_height = k_user_getSys
                    temMetric(SM_CYMENUSIZE);
  6385                        	.line	981
  6386 04:17F4: F4 37 00     	pea	#<$37
  6387 04:17F7: 22 29 41 04  	jsl	~~k_user_getSystemMetric
  6388 04:17FB: A0 0E 00     	ldy	#$e
  6389 04:17FE: 97 0D        	sta	[<L276+pWin_1],Y
  6390                        ;			pWin->hMenu 	 = hMenu;
  6391                        	.line	982
  6392 04:1800: A5 40        	lda	<L275+hMenu_0
  6393 04:1802: A0 84 00     	ldy	#$84
  6394 04:1805: 97 0D        	sta	[<L276+pWin_1],Y
  6395 04:1807: A5 42        	lda	<L275+hMenu_0+2
  6396 04:1809: A0 86 00     	ldy	#$86
  6397 04:180C: 97 0D        	sta	[<L276+pWin_1],Y
  6398                        ;			pWin->clickable  = k_mem_allocat
                    e_heap(sizeof(CLICKABLE));
  6399                        	.line	983
  6400 04:180E: F4 0B 00     	pea	#<$b
  6401 04:1811: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6402 04:1815: 85 01        	sta	<R0
  6403 04:1817: 86 03        	stx	<R0+2
  6404 04:1819: A5 01        	lda	<R0
  6405 04:181B: A0 20 00     	ldy	#$20
  6406 04:181E: 97 0D        	sta	[<L276+pWin_1],Y
  6407 04:1820: A5 03        	lda	<R0+2
  6408 04:1822: A0 22 00     	ldy	#$22
  6409 04:1825: 97 0D        	sta	[<L276+pWin_1],Y
  6410                        ;			if(pWin->clickable)
  6411                        	.line	984
  6412                        ;			{
  6413 04:1827: A0 20 00     	ldy	#$20
  6414 04:182A: B7 0D        	lda	[<L276+pWin_1],Y
  Wed Nov 18 2020  8:26                                                Page 122


  6415 04:182C: A0 22 00     	ldy	#$22
  6416 04:182F: 17 0D        	ora	[<L276+pWin_1],Y
  6417 04:1831: D0 03        	bne	L283
  6418 04:1833: 82 5D 00     	brl	L10062
  6419                        L283:
  6420                        	.line	985
  6421                        ;				((PCLICKABLE)pWin->click
                    able)->area.x 		= pWin->win_x;
  6422                        	.line	986
  6423 04:1836: A0 20 00     	ldy	#$20
  6424 04:1839: B7 0D        	lda	[<L276+pWin_1],Y
  6425 04:183B: 85 01        	sta	<R0
  6426 04:183D: A0 22 00     	ldy	#$22
  6427 04:1840: B7 0D        	lda	[<L276+pWin_1],Y
  6428 04:1842: 85 03        	sta	<R0+2
  6429 04:1844: A0 08 00     	ldy	#$8
  6430 04:1847: B7 0D        	lda	[<L276+pWin_1],Y
  6431 04:1849: 87 01        	sta	[<R0]
  6432                        ;				((PCLICKABLE)pWin->click
                    able)->area.y 		= pWin->win_y;
  6433                        	.line	987
  6434 04:184B: A0 20 00     	ldy	#$20
  6435 04:184E: B7 0D        	lda	[<L276+pWin_1],Y
  6436 04:1850: 85 01        	sta	<R0
  6437 04:1852: A0 22 00     	ldy	#$22
  6438 04:1855: B7 0D        	lda	[<L276+pWin_1],Y
  6439 04:1857: 85 03        	sta	<R0+2
  6440 04:1859: A0 0A 00     	ldy	#$a
  6441 04:185C: B7 0D        	lda	[<L276+pWin_1],Y
  6442 04:185E: A0 02 00     	ldy	#$2
  6443 04:1861: 97 01        	sta	[<R0],Y
  6444                        ;				((PCLICKABLE)pWin->click
                    able)->area.height 	= pWin->win_height;
  6445                        	.line	988
  6446 04:1863: A0 20 00     	ldy	#$20
  6447 04:1866: B7 0D        	lda	[<L276+pWin_1],Y
  6448 04:1868: 85 01        	sta	<R0
  6449 04:186A: A0 22 00     	ldy	#$22
  6450 04:186D: B7 0D        	lda	[<L276+pWin_1],Y
  6451 04:186F: 85 03        	sta	<R0+2
  6452 04:1871: A0 0E 00     	ldy	#$e
  6453 04:1874: B7 0D        	lda	[<L276+pWin_1],Y
  6454 04:1876: A0 06 00     	ldy	#$6
  6455 04:1879: 97 01        	sta	[<R0],Y
  6456                        ;				((PCLICKABLE)pWin->click
                    able)->area.width 	= pWin->win_width;
  6457                        	.line	989
  6458 04:187B: A0 20 00     	ldy	#$20
  6459 04:187E: B7 0D        	lda	[<L276+pWin_1],Y
  6460 04:1880: 85 01        	sta	<R0
  6461 04:1882: A0 22 00     	ldy	#$22
  6462 04:1885: B7 0D        	lda	[<L276+pWin_1],Y
  6463 04:1887: 85 03        	sta	<R0+2
  6464 04:1889: A0 0C 00     	ldy	#$c
  6465 04:188C: B7 0D        	lda	[<L276+pWin_1],Y
  6466 04:188E: A0 04 00     	ldy	#$4
  6467 04:1891: 97 01        	sta	[<R0],Y
  6468                        ;			}
  Wed Nov 18 2020  8:26                                                Page 123


  6469                        	.line	990
  6470                        ;
  6471                        ;			k_debug_strings("k_user_CreateMe
                    nu:F","After clickable");
  6472                        L10062:
  6473                        	.line	992
  6474 04:1893: F4 xx xx     	pea	#^L274+77
  6475 04:1896: F4 xx xx     	pea	#<L274+77
  6476 04:1899: F4 xx xx     	pea	#^L274+57
  6477 04:189C: F4 xx xx     	pea	#<L274+57
  6478 04:189F: 22 xx xx xx  	jsl	~~k_debug_strings
  6479                        ;
  6480                        ;			((PMENU)hMenu)->cx 		
                    = pWin->win_x;
  6481                        	.line	994
  6482 04:18A3: A0 08 00     	ldy	#$8
  6483 04:18A6: B7 0D        	lda	[<L276+pWin_1],Y
  6484 04:18A8: 87 40        	sta	[<L275+hMenu_0]
  6485                        ;			((PMENU)hMenu)->cy 		
                    = pWin->win_y;
  6486                        	.line	995
  6487 04:18AA: A0 0A 00     	ldy	#$a
  6488 04:18AD: B7 0D        	lda	[<L276+pWin_1],Y
  6489 04:18AF: A0 02 00     	ldy	#$2
  6490 04:18B2: 97 40        	sta	[<L275+hMenu_0],Y
  6491                        ;			((PMENU)hMenu)->height 	= pWin->
                    win_height;
  6492                        	.line	996
  6493 04:18B4: A0 0E 00     	ldy	#$e
  6494 04:18B7: B7 0D        	lda	[<L276+pWin_1],Y
  6495 04:18B9: A0 06 00     	ldy	#$6
  6496 04:18BC: 97 40        	sta	[<L275+hMenu_0],Y
  6497                        ;			((PMENU)hMenu)->width 	= pWin->
                    win_width;
  6498                        	.line	997
  6499 04:18BE: A0 0C 00     	ldy	#$c
  6500 04:18C1: B7 0D        	lda	[<L276+pWin_1],Y
  6501 04:18C3: A0 04 00     	ldy	#$4
  6502 04:18C6: 97 40        	sta	[<L275+hMenu_0],Y
  6503                        ;
  6504                        ;
  6505                        ;			if(pParent)
  6506                        	.line	1000
  6507                        ;				pWin->isVisible = pParen
                    t->isVisible;
  6508 04:18C8: A5 15        	lda	<L276+pParent_1
  6509 04:18CA: 05 17        	ora	<L276+pParent_1+2
  6510 04:18CC: D0 03        	bne	L284
  6511 04:18CE: 82 0E 00     	brl	L10063
  6512                        L284:
  6513                        	.line	1001
  6514 04:18D1: E2 20        	sep	#$20
  6515                        	longa	off
  6516 04:18D3: A0 90 00     	ldy	#$90
  6517 04:18D6: B7 15        	lda	[<L276+pParent_1],Y
  6518 04:18D8: A0 90 00     	ldy	#$90
  6519 04:18DB: 97 0D        	sta	[<L276+pWin_1],Y
  6520 04:18DD: C2 20        	rep	#$20
  Wed Nov 18 2020  8:26                                                Page 124


  6521                        	longa	on
  6522                        ;
  6523                        ;
  6524                        ;			k_add_child_window(pParent,pWin,
                    k_update_hover_location);//k_menuHitDetected);
  6525                        L10063:
  6526                        	.line	1004
  6527 04:18DF: F4 04 00     	pea	#^~~k_update_hover_location
  6528 04:18E2: F4 D2 31     	pea	#<~~k_update_hover_location
  6529 04:18E5: D4 0F        	pei	<L276+pWin_1+2
  6530 04:18E7: D4 0D        	pei	<L276+pWin_1
  6531 04:18E9: D4 17        	pei	<L276+pParent_1+2
  6532 04:18EB: D4 15        	pei	<L276+pParent_1
  6533 04:18ED: 22 D6 30 04  	jsl	~~k_add_child_window
  6534                        ;
  6535                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_add_child_window");
  6536                        ;
  6537                        ;			k_nodelist_naddtolist(_k_windowM
                    anager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(ULONG)k_getHandl
                    eFromWindow(pWin),pWin);
  6538                        	.line	1008
  6539 04:18F1: D4 0F        	pei	<L276+pWin_1+2
  6540 04:18F3: D4 0D        	pei	<L276+pWin_1
  6541 04:18F5: D4 0F        	pei	<L276+pWin_1+2
  6542 04:18F7: D4 0D        	pei	<L276+pWin_1
  6543 04:18F9: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  6544 04:18FD: 85 01        	sta	<R0
  6545 04:18FF: 86 03        	stx	<R0+2
  6546 04:1901: D4 03        	pei	<R0+2
  6547 04:1903: D4 01        	pei	<R0
  6548 04:1905: F4 02 00     	pea	#<$2
  6549 04:1908: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  6550 04:190B: 48           	pha
  6551 04:190C: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  6552 04:190F: 48           	pha
  6553 04:1910: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  6554                        ;
  6555                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_nodelist_addtolist");
  6556                        ;
  6557                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pWin),FX_CREATE_WINDOW,NULL,0);
  6558                        	.line	1012
  6559 04:1914: F4 00 00     	pea	#<$0
  6560 04:1917: F4 00 00     	pea	#^$0
  6561 04:191A: F4 00 00     	pea	#<$0
  6562 04:191D: F4 03 FF     	pea	#<$ff03
  6563 04:1920: D4 0F        	pei	<L276+pWin_1+2
  6564 04:1922: D4 0D        	pei	<L276+pWin_1
  6565 04:1924: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  6566 04:1928: 85 01        	sta	<R0
  6567 04:192A: 86 03        	stx	<R0+2
  6568 04:192C: DA           	phx
  6569 04:192D: 48           	pha
  6570 04:192E: 22 xx xx xx  	jsl	~~k_send_window_message
  6571                        ;
  6572                        ;			//k_debug_strings("k_user_Create
  Wed Nov 18 2020  8:26                                                Page 125


                    Menu:F","After k_send_window_message");
  6573                        ;		}
  6574                        	.line	1015
  6575                        ;	}
  6576                        L10058:
  6577                        	.line	1016
  6578                        ;	return pWin;
  6579                        L10057:
  6580                        	.line	1017
  6581 04:1932: A6 0F        	ldx	<L276+pWin_1+2
  6582 04:1934: A5 0D        	lda	<L276+pWin_1
  6583                        L285:
  6584 04:1936: A8           	tay
  6585 04:1937: A5 3A        	lda	<L275+2
  6586 04:1939: 85 46        	sta	<L275+2+12
  6587 04:193B: A5 39        	lda	<L275+1
  6588 04:193D: 85 45        	sta	<L275+1+12
  6589 04:193F: 2B           	pld
  6590 04:1940: 3B           	tsc
  6591 04:1941: 18           	clc
  6592 04:1942: 69 44 00     	adc	#L275+12
  6593 04:1945: 1B           	tcs
  6594 04:1946: 98           	tya
  6595 04:1947: 6B           	rtl
  6596                        ;}
  6597                        	.line	1018
  6598                        	.endblock	1018
  6599             00000038   L275	equ	56
  6600             00000005   L276	equ	5
  6601 04:1948:              	ends
  6602                        	efunc
  6603                        	.endfunc	1018,5,56
  6604                        	.line	1018
  6605                        	data
  6606                        L274:
  6607 00:02CE: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:02D2: 57 69 6E 64 
       00:02D6: 6F 77 43 6C 
       00:02DA: 61 73 73 
  6608 00:02DD: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$4D
       00:02E1: 73 65 72 5F 
       00:02E5: 43 72 65 61 
       00:02E9: 74 65 4D 
  6609 00:02EC: 65 6E 75 0D  	db	$65,$6E,$75,$0D,$0A,$00,$50,$72,$6F,$63,
                    $65,$73,$73,$20,$49
       00:02F0: 0A 00 50 72 
       00:02F4: 6F 63 65 73 
       00:02F8: 73 20 49 
  6610 00:02FB: 64 3A 00 23  	db	$64,$3A,$00,$23,$6D,$65,$6E,$75,$62,$61,
                    $72,$00,$6B,$5F,$75
       00:02FF: 6D 65 6E 75 
       00:0303: 62 61 72 00 
       00:0307: 6B 5F 75 
  6611 00:030A: 73 65 72 5F  	db	$73,$65,$72,$5F,$43,$72,$65,$61,$74,$65,
                    $4D,$65,$6E,$75,$3A
       00:030E: 43 72 65 61 
  Wed Nov 18 2020  8:26                                                Page 126


       00:0312: 74 65 4D 65 
       00:0316: 6E 75 3A 
  6612 00:0319: 46 00 41 66  	db	$46,$00,$41,$66,$74,$65,$72,$20,$63,$6C,
                    $69,$63,$6B,$61,$62
       00:031D: 74 65 72 20 
       00:0321: 63 6C 69 63 
       00:0325: 6B 61 62 
  6613 00:0328: 6C 65 00     	db	$6C,$65,$00
  6614 00:032B:              	ends
  6615                        ;
  6616                        ;BOOL menuWindowProc(PFXOSMESSAGE pMsg)
  6617                        ;{
  6618                        	.line	1020
  6619                        	.line	1021
  6620                        	WINMAN
  6621                        	xdef	~~menuWindowProc
  6622                        	func
  6623                        	.function	1021
  6624                        ~~menuWindowProc:
  6625                        	longa	on
  6626                        	longi	on
  6627 04:1948: 3B           	tsc
  6628 04:1949: 38           	sec
  6629 04:194A: E9 38 00     	sbc	#L287
  6630 04:194D: 1B           	tcs
  6631 04:194E: 0B           	phd
  6632 04:194F: 5B           	tcd
  6633             00000004   pMsg_0	set	4
  6634                        	.block	1021
  6635                        ;	HWND hWnd = NULL;
  6636                        ;	PWINDOW pWin = NULL;
  6637                        ;	PFXPROCESS p = NULL;
  6638                        ;	PFXSTRING  fxstr = NULL;
  6639                        ;	LPCHAR title = NULL;
  6640                        ;	UCHAR localBuffer[16];
  6641                        ;	PFXNODE node = NULL;
  6642                        ;	RECT rect;
  6643                        ;	if(pMsg!=NULL)
  6644             00000000   hWnd_1	set	0
  6645             00000004   pWin_1	set	4
  6646             00000008   p_1	set	8
  6647             0000000C   fxstr_1	set	12
  6648             00000010   title_1	set	16
  6649             00000014   localBuffer_1	set	20
  6650             00000024   node_1	set	36
  6651             00000028   rect_1	set	40
  6652                        	.sym	hWnd,0,129,1,32
  6653                        	.sym	pWin,4,138,1,32,24
  6654                        	.sym	p,8,138,1,32,17
  6655                        	.sym	fxstr,12,138,1,32,48
  6656                        	.sym	title,16,142,1,32
  6657                        	.sym	localBuffer,20,110,1,0,16
  6658                        	.sym	node,36,138,1,32,2
  6659                        	.sym	rect,40,10,1,64,22
  6660                        	.sym	pMsg,4,138,6,32,13
  6661 04:1950: 64 09        	stz	<L288+hWnd_1
  6662 04:1952: 64 0B        	stz	<L288+hWnd_1+2
  6663 04:1954: 64 0D        	stz	<L288+pWin_1
  Wed Nov 18 2020  8:26                                                Page 127


  6664 04:1956: 64 0F        	stz	<L288+pWin_1+2
  6665 04:1958: 64 11        	stz	<L288+p_1
  6666 04:195A: 64 13        	stz	<L288+p_1+2
  6667 04:195C: 64 15        	stz	<L288+fxstr_1
  6668 04:195E: 64 17        	stz	<L288+fxstr_1+2
  6669 04:1960: 64 19        	stz	<L288+title_1
  6670 04:1962: 64 1B        	stz	<L288+title_1+2
  6671 04:1964: 64 2D        	stz	<L288+node_1
  6672 04:1966: 64 2F        	stz	<L288+node_1+2
  6673                        	.line	1030
  6674                        ;	{
  6675 04:1968: A5 3C        	lda	<L287+pMsg_0
  6676 04:196A: 05 3E        	ora	<L287+pMsg_0+2
  6677 04:196C: D0 03        	bne	L290
  6678 04:196E: 82 A4 02     	brl	L10064
  6679                        L290:
  6680                        	.line	1031
  6681                        ;		p = k_exec_get_current_process();
  6682                        	.line	1032
  6683 04:1971: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  6684 04:1975: 85 11        	sta	<L288+p_1
  6685 04:1977: 86 13        	stx	<L288+p_1+2
  6686                        ;
  6687                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  6688                        	.line	1034
  6689 04:1979: A0 0C 00     	ldy	#$c
  6690 04:197C: B7 3C        	lda	[<L287+pMsg_0],Y
  6691 04:197E: 48           	pha
  6692 04:197F: A0 0A 00     	ldy	#$a
  6693 04:1982: B7 3C        	lda	[<L287+pMsg_0],Y
  6694 04:1984: 48           	pha
  6695 04:1985: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  6696 04:1989: 85 0D        	sta	<L288+pWin_1
  6697 04:198B: 86 0F        	stx	<L288+pWin_1+2
  6698                        ;
  6699                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  6700                        ;
  6701                        ;		switch(pMsg->type)
  6702                        	.line	1038
  6703 04:198D: A0 08 00     	ldy	#$8
  6704 04:1990: B7 3C        	lda	[<L287+pMsg_0],Y
  6705 04:1992: 82 60 02     	brl	L10065
  6706                        ;		{
  6707                        	.line	1039
  6708                        ;		case FX_CREATE_WINDOW:
  6709                        	.line	1040
  6710                        L10067:
  6711                        ;			k_debug_string("menuWindowProc::
                    FX_CREATE_WINDOW\r\n");
  6712                        	.line	1041
  6713 04:1995: F4 xx xx     	pea	#^L286
  6714 04:1998: F4 xx xx     	pea	#<L286
  6715 04:199B: 22 xx xx xx  	jsl	~~k_debug_string
  6716                        ;			//k_debug_long("menuWindowProc::
                    heap:",umm_free_heap_size());
  6717                        ;			//k_debug_integer("menuWindowPro
  Wed Nov 18 2020  8:26                                                Page 128


                    c::MessageId:",pMsg->type);
  6718                        ;
  6719                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(MENUANCHOR));
  6720                        	.line	1045
  6721 04:199F: F4 12 00     	pea	#<$12
  6722 04:19A2: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6723 04:19A6: 85 01        	sta	<R0
  6724 04:19A8: 86 03        	stx	<R0+2
  6725 04:19AA: A5 01        	lda	<R0
  6726 04:19AC: A0 91 00     	ldy	#$91
  6727 04:19AF: 97 0D        	sta	[<L288+pWin_1],Y
  6728 04:19B1: A5 03        	lda	<R0+2
  6729 04:19B3: A0 93 00     	ldy	#$93
  6730 04:19B6: 97 0D        	sta	[<L288+pWin_1],Y
  6731                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutX = 3 * FONTW;
  6732                        	.line	1046
  6733 04:19B8: A0 91 00     	ldy	#$91
  6734 04:19BB: B7 0D        	lda	[<L288+pWin_1],Y
  6735 04:19BD: 85 01        	sta	<R0
  6736 04:19BF: A0 93 00     	ldy	#$93
  6737 04:19C2: B7 0D        	lda	[<L288+pWin_1],Y
  6738 04:19C4: 85 03        	sta	<R0+2
  6739 04:19C6: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  6740 04:19CA: 85 05        	sta	<R1
  6741 04:19CC: A5 05        	lda	<R1
  6742 04:19CE: 0A           	asl	A
  6743 04:19CF: 65 05        	adc	<R1
  6744 04:19D1: A0 04 00     	ldy	#$4
  6745 04:19D4: 97 01        	sta	[<R0],Y
  6746                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutY = 2;
  6747                        	.line	1047
  6748 04:19D6: A0 91 00     	ldy	#$91
  6749 04:19D9: B7 0D        	lda	[<L288+pWin_1],Y
  6750 04:19DB: 85 01        	sta	<R0
  6751 04:19DD: A0 93 00     	ldy	#$93
  6752 04:19E0: B7 0D        	lda	[<L288+pWin_1],Y
  6753 04:19E2: 85 03        	sta	<R0+2
  6754 04:19E4: A9 02 00     	lda	#$2
  6755 04:19E7: A0 06 00     	ldy	#$6
  6756 04:19EA: 97 01        	sta	[<R0],Y
  6757                        ;
  6758                        ;			//k_debug_pointer("menuWindowPro
                    c::pWin->hMenu:",pWin->hMenu);
  6759                        ;			if(pWin->hMenu)
  6760                        	.line	1050
  6761                        ;			{
  6762 04:19EC: A0 84 00     	ldy	#$84
  6763 04:19EF: B7 0D        	lda	[<L288+pWin_1],Y
  6764 04:19F1: A0 86 00     	ldy	#$86
  6765 04:19F4: 17 0D        	ora	[<L288+pWin_1],Y
  6766 04:19F6: D0 03        	bne	L291
  6767 04:19F8: 82 EF 00     	brl	L10068
  6768                        L291:
  6769                        	.line	1051
  6770                        ;
  Wed Nov 18 2020  8:26                                                Page 129


  6771                        ;				/*
  6772                        ;				title = k_string_replace
                    (CONST_WB_MENU_TITLE,"%s1", k_strip_padding(k_longtodec(k_ge
                    tZeroPage()->availableMemoryK,localBuffer)) );
  6773                        ;				((PMENU)pWin->hMenu)->pC
                    aption = k_string_replace(title,"%s2",k_strip_padding(k_long
                    todec(k_getZeroPage()->availableHeapMemoryK,localBuffer)) );
  6774                        ;
  6775                        ;				k_debug_strings("menuWin
                    dowProc::FX_CREATE_WINDOW:title:",(LPCHAR)((PMENU)pWin->hMen
                    u)->pCaption);
  6776                        ;
  6777                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  6778                        ;							
                        pWin->win_width,
  6779                        ;							
                    	pWin->win_height,
  6780                        ;							
                    	((PMENU)pWin->hMenu)->pCaption,
  6781                        ;							
                    	15,3);
  6782                        ;
  6783                        ;				*/
  6784                        ;				k_nodelist_foreach_type(
                    ((PMENU)pWin->hMenu)->subMenus,
  6785                        	.line	1066
  6786                        ;							
                    			NL_TYPE_WINDOW_MENU,
  6787                        ;							
                    			pMsg->hwnd,
  6788                        ;							
                    			k_iterate_menus);
  6789 04:19FB: F4 04 00     	pea	#^~~k_iterate_menus
  6790 04:19FE: F4 2A 1C     	pea	#<~~k_iterate_menus
  6791 04:1A01: A0 0C 00     	ldy	#$c
  6792 04:1A04: B7 3C        	lda	[<L287+pMsg_0],Y
  6793 04:1A06: 48           	pha
  6794 04:1A07: A0 0A 00     	ldy	#$a
  6795 04:1A0A: B7 3C        	lda	[<L287+pMsg_0],Y
  6796 04:1A0C: 48           	pha
  6797 04:1A0D: F4 03 00     	pea	#<$3
  6798 04:1A10: A0 84 00     	ldy	#$84
  6799 04:1A13: B7 0D        	lda	[<L288+pWin_1],Y
  6800 04:1A15: 85 01        	sta	<R0
  6801 04:1A17: A0 86 00     	ldy	#$86
  6802 04:1A1A: B7 0D        	lda	[<L288+pWin_1],Y
  6803 04:1A1C: 85 03        	sta	<R0+2
  6804 04:1A1E: A0 15 00     	ldy	#$15
  6805 04:1A21: B7 01        	lda	[<R0],Y
  6806 04:1A23: 48           	pha
  6807 04:1A24: A0 13 00     	ldy	#$13
  6808 04:1A27: B7 01        	lda	[<R0],Y
  6809 04:1A29: 48           	pha
  6810 04:1A2A: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
  6811                        ;
  6812                        ;
  6813                        ;				if(((PMENU)pWin->hMenu)-
  Wed Nov 18 2020  8:26                                                Page 130


                    >subMenus)
  6814                        	.line	1072
  6815                        ;				{
  6816 04:1A2E: A0 84 00     	ldy	#$84
  6817 04:1A31: B7 0D        	lda	[<L288+pWin_1],Y
  6818 04:1A33: 85 01        	sta	<R0
  6819 04:1A35: A0 86 00     	ldy	#$86
  6820 04:1A38: B7 0D        	lda	[<L288+pWin_1],Y
  6821 04:1A3A: 85 03        	sta	<R0+2
  6822 04:1A3C: A0 13 00     	ldy	#$13
  6823 04:1A3F: B7 01        	lda	[<R0],Y
  6824 04:1A41: A0 15 00     	ldy	#$15
  6825 04:1A44: 17 01        	ora	[<R0],Y
  6826 04:1A46: D0 03        	bne	L292
  6827 04:1A48: 82 9F 00     	brl	L10069
  6828                        L292:
  6829                        	.line	1073
  6830                        ;					k_vdraw_ui_menu(
                    pWin->win_x,pWin->win_y,
  6831                        	.line	1074
  6832                        ;							
                    		pWin->win_width,
  6833                        ;							
                    		pWin->win_height,
  6834                        ;							
                    		NULL, //"", //((PFXSTRING)((PMENU)pWin->hMenu)->
                    subMenus->listData)->buffer,
  6835                        ;							
                    		k_getUIGadgetColor(),
  6836                        ;							
                    		k_getUIMenuColor());
  6837 04:1A4B: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  6838 04:1A4F: 48           	pha
  6839 04:1A50: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  6840 04:1A54: 48           	pha
  6841 04:1A55: F4 00 00     	pea	#^$0
  6842 04:1A58: F4 00 00     	pea	#<$0
  6843 04:1A5B: A0 0E 00     	ldy	#$e
  6844 04:1A5E: B7 0D        	lda	[<L288+pWin_1],Y
  6845 04:1A60: 48           	pha
  6846 04:1A61: A0 0C 00     	ldy	#$c
  6847 04:1A64: B7 0D        	lda	[<L288+pWin_1],Y
  6848 04:1A66: 48           	pha
  6849 04:1A67: A0 0A 00     	ldy	#$a
  6850 04:1A6A: B7 0D        	lda	[<L288+pWin_1],Y
  6851 04:1A6C: 48           	pha
  6852 04:1A6D: A0 08 00     	ldy	#$8
  6853 04:1A70: B7 0D        	lda	[<L288+pWin_1],Y
  6854 04:1A72: 48           	pha
  6855 04:1A73: 22 xx xx xx  	jsl	~~k_vdraw_ui_menu
  6856                        ;
  6857                        ;					//k_put_wingadge
                    t_point(WINICON_TITLE_BCLOSE,pWin->win_x + 2,pWin->win_y + 2
                     ,k_getUIGadgetColor());
  6858                        ;
  6859                        ;					k_draw_text_poin
                    t_with_font("\x80\x81",(LPCSTR)k_user_getFontClass("AMIGO8x8
                    "),pWin->win_x + 2,pWin->win_y + 2,k_getUIGadgetColor());
  Wed Nov 18 2020  8:26                                                Page 131


  6860                        	.line	1083
  6861 04:1A77: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  6862 04:1A7B: 48           	pha
  6863 04:1A7C: 18           	clc
  6864 04:1A7D: A9 02 00     	lda	#$2
  6865 04:1A80: A0 0A 00     	ldy	#$a
  6866 04:1A83: 77 0D        	adc	[<L288+pWin_1],Y
  6867 04:1A85: 48           	pha
  6868 04:1A86: 18           	clc
  6869 04:1A87: A9 02 00     	lda	#$2
  6870 04:1A8A: A0 08 00     	ldy	#$8
  6871 04:1A8D: 77 0D        	adc	[<L288+pWin_1],Y
  6872 04:1A8F: 48           	pha
  6873 04:1A90: F4 xx xx     	pea	#^L286+38
  6874 04:1A93: F4 xx xx     	pea	#<L286+38
  6875 04:1A96: 22 9A 09 04  	jsl	~~k_user_getFontClass
  6876 04:1A9A: 85 01        	sta	<R0
  6877 04:1A9C: 86 03        	stx	<R0+2
  6878 04:1A9E: DA           	phx
  6879 04:1A9F: 48           	pha
  6880 04:1AA0: F4 xx xx     	pea	#^L286+35
  6881 04:1AA3: F4 xx xx     	pea	#<L286+35
  6882 04:1AA6: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  6883                        ;
  6884                        ;					if(pWin->hMenu &
                    & ((PMENU)pWin->hMenu)->subMenus)
  6885                        	.line	1085
  6886                        ;					{
  6887 04:1AAA: A0 84 00     	ldy	#$84
  6888 04:1AAD: B7 0D        	lda	[<L288+pWin_1],Y
  6889 04:1AAF: A0 86 00     	ldy	#$86
  6890 04:1AB2: 17 0D        	ora	[<L288+pWin_1],Y
  6891 04:1AB4: D0 03        	bne	L293
  6892 04:1AB6: 82 31 00     	brl	L10070
  6893                        L293:
  6894 04:1AB9: A0 84 00     	ldy	#$84
  6895 04:1ABC: B7 0D        	lda	[<L288+pWin_1],Y
  6896 04:1ABE: 85 01        	sta	<R0
  6897 04:1AC0: A0 86 00     	ldy	#$86
  6898 04:1AC3: B7 0D        	lda	[<L288+pWin_1],Y
  6899 04:1AC5: 85 03        	sta	<R0+2
  6900 04:1AC7: A0 13 00     	ldy	#$13
  6901 04:1ACA: B7 01        	lda	[<R0],Y
  6902 04:1ACC: A0 15 00     	ldy	#$15
  6903 04:1ACF: 17 01        	ora	[<R0],Y
  6904 04:1AD1: D0 03        	bne	L294
  6905 04:1AD3: 82 14 00     	brl	L10070
  6906                        L294:
  6907                        	.line	1086
  6908                        ;						//((PMEN
                    U)pWin->hMenu)->hWndOwner = pWin->pParentWindow; // temp for
                     a test
  6909                        ;						//k_debu
                    g_strings("menuWindowProc::FX_MOUSE_ENTER:hWndOwner:title:",
                     k_getWindowFromHandle(pWin->pParentWindow)->win_title );
  6910                        ;
  6911                        ;
  6912                        ;						_k_user_
  Wed Nov 18 2020  8:26                                                Page 132


                    send_child_message(pWin,FX_SHOW_WINDOW,NULL,0);
  6913                        	.line	1091
  6914 04:1AD6: F4 00 00     	pea	#<$0
  6915 04:1AD9: F4 00 00     	pea	#^$0
  6916 04:1ADC: F4 00 00     	pea	#<$0
  6917 04:1ADF: F4 05 FB     	pea	#<$fb05
  6918 04:1AE2: D4 0F        	pei	<L288+pWin_1+2
  6919 04:1AE4: D4 0D        	pei	<L288+pWin_1
  6920 04:1AE6: 22 16 43 04  	jsl	~~_k_user_send_child_message
  6921                        ;
  6922                        ;						//fxstr 
                    = k_fxstring_init(128);
  6923                        ;
  6924                        ;						//k_debu
                    g_strings("menuWindowProc::FX_CREATE_WINDOW:fxstr:",fxstr->b
                    uffer);
  6925                        ;						//((PMEN
                    U)pWin->hMenu)->subMenus->listData = fxstr;
  6926                        ;						//k_debu
                    g_strings("menuWindowProc::FX_CREATE_WINDOW:title:",title);
  6927                        ;					}
  6928                        	.line	1098
  6929                        ;
  6930                        ;
  6931                        ;				}
  6932                        L10070:
  6933                        	.line	1101
  6934                        ;
  6935                        ;
  6936                        ;
  6937                        ;				//k_draw_menu(pWin->hMen
                    u,15,3);
  6938                        ;
  6939                        ;			}
  6940                        L10069:
  6941                        	.line	1107
  6942                        ;			//k_debug_string("menuWindowProc
                    ::FX_CREATE_WINDOW:k_vdraw_ui_menu\r\n");
  6943                        ;			break;
  6944                        L10068:
  6945                        	.line	1109
  6946 04:1AEA: 82 28 01     	brl	L10066
  6947                        ;		case FX_REDRAW_WINDOW:
  6948                        	.line	1110
  6949                        L10071:
  6950                        ;			k_debug_string("menuWindowProc::
                    FX_REDRAW_WINDOW\r\n");
  6951                        	.line	1111
  6952 04:1AED: F4 xx xx     	pea	#^L286+47
  6953 04:1AF0: F4 xx xx     	pea	#<L286+47
  6954 04:1AF3: 22 xx xx xx  	jsl	~~k_debug_string
  6955                        ;			break;
  6956                        	.line	1112
  6957 04:1AF7: 82 1B 01     	brl	L10066
  6958                        ;		case FX_PROCESS_TIMER:
  6959                        	.line	1113
  6960                        L10072:
  6961                        ;			//k_debug_string("menuWindowProc
  Wed Nov 18 2020  8:26                                                Page 133


                    ::FX_PROCESS_TIMER\r\n");
  6962                        ;
  6963                        ;			hWnd = k_user_findWindow("#menub
                    ar");
  6964                        	.line	1116
  6965 04:1AFA: F4 xx xx     	pea	#^L286+82
  6966 04:1AFD: F4 xx xx     	pea	#<L286+82
  6967 04:1B00: 22 0D 05 04  	jsl	~~k_user_findWindow
  6968 04:1B04: 85 09        	sta	<L288+hWnd_1
  6969 04:1B06: 86 0B        	stx	<L288+hWnd_1+2
  6970                        ;			rect.x = k_getWindowFromHandle(h
                    Wnd)->win_width - (15 * FONTW);
  6971                        	.line	1117
  6972 04:1B08: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  6973 04:1B0C: 85 01        	sta	<R0
  6974 04:1B0E: A5 01        	lda	<R0
  6975 04:1B10: A2 0F 00     	ldx	#<$f
  6976                        	xref	~~~mul
  6977 04:1B13: 22 xx xx xx  	jsl	~~~mul
  6978 04:1B17: 85 01        	sta	<R0
  6979 04:1B19: D4 0B        	pei	<L288+hWnd_1+2
  6980 04:1B1B: D4 09        	pei	<L288+hWnd_1
  6981 04:1B1D: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  6982 04:1B21: 85 05        	sta	<R1
  6983 04:1B23: 86 07        	stx	<R1+2
  6984 04:1B25: 38           	sec
  6985 04:1B26: A0 0C 00     	ldy	#$c
  6986 04:1B29: B7 05        	lda	[<R1],Y
  6987 04:1B2B: E5 01        	sbc	<R0
  6988 04:1B2D: 85 31        	sta	<L288+rect_1
  6989                        ;			rect.y = 2;
  6990                        	.line	1118
  6991 04:1B2F: A9 02 00     	lda	#$2
  6992 04:1B32: 85 33        	sta	<L288+rect_1+2
  6993                        ;			k_user_DrawWindowTextToPointWith
                    Font(hWnd,"\xAF\xAF\xAF\xAF\xAF\xAF\xAF\xAF",k_getUIMenuColo
                    r(),&rect,(LPCSTR)k_user_getFontClass("FXOS8x8"));
  6994                        	.line	1119
  6995 04:1B34: F4 xx xx     	pea	#^L286+100
  6996 04:1B37: F4 xx xx     	pea	#<L286+100
  6997 04:1B3A: 22 9A 09 04  	jsl	~~k_user_getFontClass
  6998 04:1B3E: 85 01        	sta	<R0
  6999 04:1B40: 86 03        	stx	<R0+2
  7000 04:1B42: DA           	phx
  7001 04:1B43: 48           	pha
  7002 04:1B44: F4 00 00     	pea	#0
  7003 04:1B47: 18           	clc
  7004 04:1B48: 7B           	tdc
  7005 04:1B49: 69 31 00     	adc	#<L288+rect_1
  7006 04:1B4C: 48           	pha
  7007 04:1B4D: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  7008 04:1B51: 48           	pha
  7009 04:1B52: F4 xx xx     	pea	#^L286+91
  7010 04:1B55: F4 xx xx     	pea	#<L286+91
  7011 04:1B58: D4 0B        	pei	<L288+hWnd_1+2
  7012 04:1B5A: D4 09        	pei	<L288+hWnd_1
  7013 04:1B5C: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  7014                        ;			rect.x = k_getWindowFromHandle(h
  Wed Nov 18 2020  8:26                                                Page 134


                    Wnd)->win_width - (15 * FONTW);
  7015                        	.line	1120
  7016 04:1B60: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7017 04:1B64: 85 01        	sta	<R0
  7018 04:1B66: A5 01        	lda	<R0
  7019 04:1B68: A2 0F 00     	ldx	#<$f
  7020                        	xref	~~~mul
  7021 04:1B6B: 22 xx xx xx  	jsl	~~~mul
  7022 04:1B6F: 85 01        	sta	<R0
  7023 04:1B71: D4 0B        	pei	<L288+hWnd_1+2
  7024 04:1B73: D4 09        	pei	<L288+hWnd_1
  7025 04:1B75: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  7026 04:1B79: 85 05        	sta	<R1
  7027 04:1B7B: 86 07        	stx	<R1+2
  7028 04:1B7D: 38           	sec
  7029 04:1B7E: A0 0C 00     	ldy	#$c
  7030 04:1B81: B7 05        	lda	[<R1],Y
  7031 04:1B83: E5 01        	sbc	<R0
  7032 04:1B85: 85 31        	sta	<L288+rect_1
  7033                        ;			rect.y = 2;
  7034                        	.line	1121
  7035 04:1B87: A9 02 00     	lda	#$2
  7036 04:1B8A: 85 33        	sta	<L288+rect_1+2
  7037                        ;			k_user_DrawWindowTextToPointWith
                    Font(hWnd,k_get_localtime_string(localBuffer),k_getUIGadgetC
                    olor(),&rect,(LPCSTR)k_user_getFontClass("TINYTYPE8x8"));
  7038                        	.line	1122
  7039 04:1B8C: F4 xx xx     	pea	#^L286+108
  7040 04:1B8F: F4 xx xx     	pea	#<L286+108
  7041 04:1B92: 22 9A 09 04  	jsl	~~k_user_getFontClass
  7042 04:1B96: 85 01        	sta	<R0
  7043 04:1B98: 86 03        	stx	<R0+2
  7044 04:1B9A: DA           	phx
  7045 04:1B9B: 48           	pha
  7046 04:1B9C: F4 00 00     	pea	#0
  7047 04:1B9F: 18           	clc
  7048 04:1BA0: 7B           	tdc
  7049 04:1BA1: 69 31 00     	adc	#<L288+rect_1
  7050 04:1BA4: 48           	pha
  7051 04:1BA5: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  7052 04:1BA9: 48           	pha
  7053 04:1BAA: F4 00 00     	pea	#0
  7054 04:1BAD: 18           	clc
  7055 04:1BAE: 7B           	tdc
  7056 04:1BAF: 69 1D 00     	adc	#<L288+localBuffer_1
  7057 04:1BB2: 48           	pha
  7058 04:1BB3: 22 xx xx xx  	jsl	~~k_get_localtime_string
  7059 04:1BB7: 85 05        	sta	<R1
  7060 04:1BB9: 86 07        	stx	<R1+2
  7061 04:1BBB: DA           	phx
  7062 04:1BBC: 48           	pha
  7063 04:1BBD: D4 0B        	pei	<L288+hWnd_1+2
  7064 04:1BBF: D4 09        	pei	<L288+hWnd_1
  7065 04:1BC1: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  7066                        ;
  7067                        ;			break;
  7068                        	.line	1124
  7069 04:1BC5: 82 4D 00     	brl	L10066
  Wed Nov 18 2020  8:26                                                Page 135


  7070                        ;		case FX_LBUTTON_DOWN:
  7071                        	.line	1125
  7072                        L10073:
  7073                        ;			if(pMsg->type!=FX_PROCESS)
  7074                        	.line	1126
  7075                        ;			{
  7076 04:1BC8: A0 08 00     	ldy	#$8
  7077 04:1BCB: B7 3C        	lda	[<L287+pMsg_0],Y
  7078 04:1BCD: C9 00 FF     	cmp	#<$ff00
  7079 04:1BD0: D0 03        	bne	L295
  7080 04:1BD2: 82 00 00     	brl	L10074
  7081                        L295:
  7082                        	.line	1127
  7083                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
  7084                        ;				//k_debug_integer("menuW
                    indowProc::FX_LBUTTON_DOWN:X:", *((INT*)&pMsg->data[1])  );
  7085                        ;				//k_debug_integer("menuW
                    indowProc::FX_LBUTTON_DOWN:Y:", *((INT*)&pMsg->data[3])  );
  7086                        ;
  7087                        ;				//k_debug_pointer("menuW
                    indowProc::pChildHitList:",pWin->pChildHitList);
  7088                        ;
  7089                        ;				//if(pWin->pChildHitList
                    )
  7090                        ;				//	k_debug_nodelist
                    _with_data( pWin->pChildHitList->listhead, debug_window_node
                     );
  7091                        ;
  7092                        ;
  7093                        ;				//k_shadow_bitblt(0,0, 6
                    40, 480, 1,1);
  7094                        ;
  7095                        ;			}
  7096                        	.line	1140
  7097                        ;			break;
  7098                        L10074:
  7099                        	.line	1141
  7100 04:1BD5: 82 3D 00     	brl	L10066
  7101                        ;
  7102                        ;		case FX_MOUSE_ENTER:
  7103                        	.line	1143
  7104                        L10075:
  7105                        ;			k_debug_string("menuWindowProc::
                    FX_MOUSE_ENTER\r\n");
  7106                        	.line	1144
  7107 04:1BD8: F4 xx xx     	pea	#^L286+120
  7108 04:1BDB: F4 xx xx     	pea	#<L286+120
  7109 04:1BDE: 22 xx xx xx  	jsl	~~k_debug_string
  7110                        ;
  7111                        ;			/*
  7112                        ;			if(((PMENU)pWin->hMenu)->subMenu
                    s)
  7113                        ;			{
  7114                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  7115                        ;							
                    	pWin->win_width,
  Wed Nov 18 2020  8:26                                                Page 136


  7116                        ;							
                    	pWin->win_height,
  7117                        ;							
                    	"", //((PFXSTRING)((PMENU)pWin->hMenu)->subMenus->listDa
                    ta)->buffer,
  7118                        ;							
                    	4,3);
  7119                        ;
  7120                        ;
  7121                        ;				if(pWin->hMenu && ((PMEN
                    U)pWin->hMenu)->subMenus)
  7122                        ;				{
  7123                        ;					//((PMENU)pWin->
                    hMenu)->hWndOwner = pWin->pParentWindow; // temp for a test
  7124                        ;					//k_debug_string
                    s("menuWindowProc::FX_MOUSE_ENTER:hWndOwner:title:", k_getWi
                    ndowFromHandle(pWin->pParentWindow)->win_title );
  7125                        ;
  7126                        ;
  7127                        ;					_k_user_send_chi
                    ld_message(pWin,FX_SHOW_WINDOW,NULL,0);
  7128                        ;
  7129                        ;					//fxstr = k_fxst
                    ring_init(128);
  7130                        ;
  7131                        ;					//k_debug_string
                    s("menuWindowProc::FX_CREATE_WINDOW:fxstr:",fxstr->buffer);
  7132                        ;					//((PMENU)pWin->
                    hMenu)->subMenus->listData = fxstr;
  7133                        ;					//k_debug_string
                    s("menuWindowProc::FX_CREATE_WINDOW:title:",title);
  7134                        ;				}
  7135                        ;
  7136                        ;
  7137                        ;			}
  7138                        ;			*/
  7139                        ;			break;
  7140                        	.line	1174
  7141 04:1BE2: 82 30 00     	brl	L10066
  7142                        ;		case FX_MOUSE_EXIT:
  7143                        	.line	1175
  7144                        L10076:
  7145                        ;			k_debug_string("menuWindowProc::
                    FX_MOUSE_EXIT\r\n");
  7146                        	.line	1176
  7147 04:1BE5: F4 xx xx     	pea	#^L286+153
  7148 04:1BE8: F4 xx xx     	pea	#<L286+153
  7149 04:1BEB: 22 xx xx xx  	jsl	~~k_debug_string
  7150                        ;			/*
  7151                        ;			k_debug_strings("menuWindowProc:
                    :FX_MOUSE_EXIT:title:",(LPCHAR)((PMENU)pWin->hMenu)->pCaptio
                    n);
  7152                        ;
  7153                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutX = 2 + FONTW;
  7154                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutY = 2 + FONTW;
  7155                        ;
  Wed Nov 18 2020  8:26                                                Page 137


  7156                        ;			if(((PMENU)pWin->hMenu)->pCaptio
                    n)
  7157                        ;			{
  7158                        ;				_k_user_send_child_messa
                    ge(pWin,FX_HIDE_WINDOW,NULL,0);
  7159                        ;
  7160                        ;				k_mem_deallocate_heap((L
                    PVOID)((PMENU)pWin->hMenu)->pCaption);
  7161                        ;
  7162                        ;				title = k_string_replace
                    (CONST_WB_MENU_TITLE,"%s1", k_strip_padding(k_longtodec(k_ge
                    tZeroPage()->availableHeapMemoryK,localBuffer)) );
  7163                        ;				((PMENU)pWin->hMenu)->pC
                    aption = k_string_replace(title,"%s2", k_strip_padding(k_lon
                    gtodec(k_getZeroPage()->availableHeapMemoryK,localBuffer)));
  7164                        ;
  7165                        ;
  7166                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  7167                        ;							
                    	pWin->win_width,
  7168                        ;							
                    	pWin->win_height,
  7169                        ;							
                    	((PMENU)pWin->hMenu)->pCaption,
  7170                        ;							
                    	15,3);
  7171                        ;
  7172                        ;				k_mem_deallocate_heap(ti
                    tle);
  7173                        ;
  7174                        ;			}
  7175                        ;			*/
  7176                        ;			break;
  7177                        	.line	1203
  7178 04:1BEF: 82 23 00     	brl	L10066
  7179                        ;
  7180                        ;		default:
  7181                        	.line	1205
  7182                        L10077:
  7183                        ;			break;
  7184                        	.line	1206
  7185 04:1BF2: 82 20 00     	brl	L10066
  7186                        ;		}
  7187                        	.line	1207
  7188                        L10065:
  7189                        	xref	~~~swt
  7190 04:1BF5: 22 xx xx xx  	jsl	~~~swt
  7191 04:1BF9: 06 00        	dw	6
  7192 04:1BFB: 01 0F        	dw	3841
  7193 04:1BFD: D7 1B        	dw	L10075-1
  7194 04:1BFF: 02 0F        	dw	3842
  7195 04:1C01: E4 1B        	dw	L10076-1
  7196 04:1C03: 04 0F        	dw	3844
  7197 04:1C05: C7 1B        	dw	L10073-1
  7198 04:1C07: 07 FB        	dw	64263
  7199 04:1C09: EC 1A        	dw	L10071-1
  7200 04:1C0B: 03 FF        	dw	65283
  Wed Nov 18 2020  8:26                                                Page 138


  7201 04:1C0D: 94 19        	dw	L10067-1
  7202 04:1C0F: F1 FF        	dw	65521
  7203 04:1C11: F9 1A        	dw	L10072-1
  7204 04:1C13: F1 1B        	dw	L10077-1
  7205                        L10066:
  7206                        ;	}
  7207                        	.line	1208
  7208                        ;
  7209                        ;	return TRUE;
  7210                        L10064:
  7211                        	.line	1210
  7212 04:1C15: A9 01 00     	lda	#$1
  7213                        L296:
  7214 04:1C18: A8           	tay
  7215 04:1C19: A5 3A        	lda	<L287+2
  7216 04:1C1B: 85 3E        	sta	<L287+2+4
  7217 04:1C1D: A5 39        	lda	<L287+1
  7218 04:1C1F: 85 3D        	sta	<L287+1+4
  7219 04:1C21: 2B           	pld
  7220 04:1C22: 3B           	tsc
  7221 04:1C23: 18           	clc
  7222 04:1C24: 69 3C 00     	adc	#L287+4
  7223 04:1C27: 1B           	tcs
  7224 04:1C28: 98           	tya
  7225 04:1C29: 6B           	rtl
  7226                        ;}
  7227                        	.line	1211
  7228                        	.endblock	1211
  7229             00000038   L287	equ	56
  7230             00000009   L288	equ	9
  7231 04:1C2A:              	ends
  7232                        	efunc
  7233                        	.endfunc	1211,9,56
  7234                        	.line	1211
  7235                        	data
  7236                        L286:
  7237 00:032B: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:032F: 57 69 6E 64 
       00:0333: 6F 77 50 72 
       00:0337: 6F 63 3A 
  7238 00:033A: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$43,$52,$45,$41,$54,$45,
                    $5F,$57,$49,$4E,$44
       00:033E: 43 52 45 41 
       00:0342: 54 45 5F 57 
       00:0346: 49 4E 44 
  7239 00:0349: 4F 57 0D 0A  	db	$4F,$57,$0D,$0A,$00,$FFFFFF80,$FFFFFF81,
                    $00,$41,$4D,$49,$47,$4F,$38,$78
       00:034D: 00 80 81 00 
       00:0351: 41 4D 49 47 
       00:0355: 4F 38 78 
  7240 00:0358: 38 00 6D 65  	db	$38,$00,$6D,$65,$6E,$75,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:035C: 6E 75 57 69 
       00:0360: 6E 64 6F 77 
       00:0364: 50 72 6F 
  7241 00:0367: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$52,$45,$44,$52,
                    $41,$57,$5F,$57,$49
  Wed Nov 18 2020  8:26                                                Page 139


       00:036B: 58 5F 52 45 
       00:036F: 44 52 41 57 
       00:0373: 5F 57 49 
  7242 00:0376: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$23,$6D,$65,
                    $6E,$75,$62,$61,$72
       00:037A: 0D 0A 00 23 
       00:037E: 6D 65 6E 75 
       00:0382: 62 61 72 
  7243 00:0385: 00 AF AF AF  	db	$00,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$FFFFF
                    FAF,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$00,$46,$58,$4F,
                    $53,$38
       00:0389: AF AF AF AF 
       00:038D: AF 00 46 58 
       00:0391: 4F 53 38 
  7244 00:0394: 78 38 00 54  	db	$78,$38,$00,$54,$49,$4E,$59,$54,$59,$50,
                    $45,$38,$78,$38,$00
       00:0398: 49 4E 59 54 
       00:039C: 59 50 45 38 
       00:03A0: 78 38 00 
  7245 00:03A3: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:03A7: 57 69 6E 64 
       00:03AB: 6F 77 50 72 
       00:03AF: 6F 63 3A 
  7246 00:03B2: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,
                    $45,$4E,$54,$45,$52
       00:03B6: 4D 4F 55 53 
       00:03BA: 45 5F 45 4E 
       00:03BE: 54 45 52 
  7247 00:03C1: 0D 0A 00 6D  	db	$0D,$0A,$00,$6D,$65,$6E,$75,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:03C5: 65 6E 75 57 
       00:03C9: 69 6E 64 6F 
       00:03CD: 77 50 72 
  7248 00:03D0: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4D,$4F,$55,
                    $53,$45,$5F,$45,$58
       00:03D4: 46 58 5F 4D 
       00:03D8: 4F 55 53 45 
       00:03DC: 5F 45 58 
  7249 00:03DF: 49 54 0D 0A  	db	$49,$54,$0D,$0A,$00
       00:03E3: 00 
  7250 00:03E4:              	ends
  7251                        ;
  7252                        ;void k_iterate_menus(LPVOID ctx,LPVOID data)
  7253                        ;{
  7254                        	.line	1213
  7255                        	.line	1214
  7256                        	WINMAN
  7257                        	xdef	~~k_iterate_menus
  7258                        	func
  7259                        	.function	1214
  7260                        ~~k_iterate_menus:
  7261                        	longa	on
  7262                        	longi	on
  7263 04:1C2A: 3B           	tsc
  7264 04:1C2B: 38           	sec
  7265 04:1C2C: E9 18 00     	sbc	#L298
  7266 04:1C2F: 1B           	tcs
  Wed Nov 18 2020  8:26                                                Page 140


  7267 04:1C30: 0B           	phd
  7268 04:1C31: 5B           	tcd
  7269             00000004   ctx_0	set	4
  7270             00000008   data_0	set	8
  7271                        	.block	1214
  7272                        ;	PWINDOW     pWin = NULL;
  7273                        ;	PMENUANCHOR pMenuAnchor = NULL;
  7274                        ;	PFXSTRING   fxstr = NULL;
  7275                        ;	if(data)
  7276             00000000   pWin_1	set	0
  7277             00000004   pMenuAnchor_1	set	4
  7278             00000008   fxstr_1	set	8
  7279                        	.sym	pWin,0,138,1,32,24
  7280                        	.sym	pMenuAnchor,4,138,1,32,36
  7281                        	.sym	fxstr,8,138,1,32,48
  7282                        	.sym	ctx,4,129,6,32
  7283                        	.sym	data,8,129,6,32
  7284 04:1C32: 64 0D        	stz	<L299+pWin_1
  7285 04:1C34: 64 0F        	stz	<L299+pWin_1+2
  7286 04:1C36: 64 11        	stz	<L299+pMenuAnchor_1
  7287 04:1C38: 64 13        	stz	<L299+pMenuAnchor_1+2
  7288 04:1C3A: 64 15        	stz	<L299+fxstr_1
  7289 04:1C3C: 64 17        	stz	<L299+fxstr_1+2
  7290                        	.line	1218
  7291                        ;	{
  7292 04:1C3E: A5 20        	lda	<L298+data_0
  7293 04:1C40: 05 22        	ora	<L298+data_0+2
  7294 04:1C42: D0 03        	bne	L301
  7295 04:1C44: 82 E7 00     	brl	L10078
  7296                        L301:
  7297                        	.line	1219
  7298                        ;		k_debug_strings("k_iterate_menus:",(LPCH
                    AR)((PMENU)data)->pCaption) ;
  7299                        	.line	1220
  7300 04:1C47: A0 11 00     	ldy	#$11
  7301 04:1C4A: B7 20        	lda	[<L298+data_0],Y
  7302 04:1C4C: 48           	pha
  7303 04:1C4D: A0 0F 00     	ldy	#$f
  7304 04:1C50: B7 20        	lda	[<L298+data_0],Y
  7305 04:1C52: 48           	pha
  7306 04:1C53: F4 xx xx     	pea	#^L297
  7307 04:1C56: F4 xx xx     	pea	#<L297
  7308 04:1C59: 22 xx xx xx  	jsl	~~k_debug_strings
  7309                        ;
  7310                        ;		if(ctx)
  7311                        	.line	1222
  7312                        ;		{
  7313 04:1C5D: A5 1C        	lda	<L298+ctx_0
  7314 04:1C5F: 05 1E        	ora	<L298+ctx_0+2
  7315 04:1C61: D0 03        	bne	L302
  7316 04:1C63: 82 C8 00     	brl	L10079
  7317                        L302:
  7318                        	.line	1223
  7319                        ;			//fxstr = (PFXSTRING)ctx;
  7320                        ;			//k_fxstring_add(fxstr,(LPCHAR)(
                    (PMENU)data)->pCaption);
  7321                        ;			//k_fxstring_add(fxstr,"  ");
  7322                        ;			pWin = (PWINDOW)ctx;
  Wed Nov 18 2020  8:26                                                Page 141


  7323                        	.line	1227
  7324 04:1C66: A5 1C        	lda	<L298+ctx_0
  7325 04:1C68: 85 0D        	sta	<L299+pWin_1
  7326 04:1C6A: A5 1E        	lda	<L298+ctx_0+2
  7327 04:1C6C: 85 0F        	sta	<L299+pWin_1+2
  7328                        ;			pMenuAnchor = (PMENUANCHOR)pWin-
                    >windowData;
  7329                        	.line	1228
  7330 04:1C6E: A0 91 00     	ldy	#$91
  7331 04:1C71: B7 0D        	lda	[<L299+pWin_1],Y
  7332 04:1C73: 85 11        	sta	<L299+pMenuAnchor_1
  7333 04:1C75: A0 93 00     	ldy	#$93
  7334 04:1C78: B7 0D        	lda	[<L299+pWin_1],Y
  7335 04:1C7A: 85 13        	sta	<L299+pMenuAnchor_1+2
  7336                        ;
  7337                        ;
  7338                        ;			pWin = k_user_CreateMenuAnchor(k
                    _getHandleFromWindow(pWin),
  7339                        	.line	1231
  7340                        ;					                
                    ((PMENU)data)->pCaption,
  7341                        ;							
                    		(PMENU)data,
  7342                        ;							
                    		pMenuAnchor->renderLayoutX,
  7343                        ;							
                    		pMenuAnchor->renderLayoutY,
  7344                        ;							
                    		(strlen(((PMENU)data)->pCaption)*FONTW) + (FONTW
                    /2),
  7345                        ;							
                    		FONTH + (FONTW/4));
  7346 04:1C7C: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7347 04:1C80: 85 05        	sta	<R1
  7348 04:1C82: A5 05        	lda	<R1
  7349 04:1C84: 4A           	lsr	A
  7350 04:1C85: 4A           	lsr	A
  7351 04:1C86: 85 01        	sta	<R0
  7352 04:1C88: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  7353 04:1C8C: 85 05        	sta	<R1
  7354 04:1C8E: 18           	clc
  7355 04:1C8F: A5 05        	lda	<R1
  7356 04:1C91: 65 01        	adc	<R0
  7357 04:1C93: 48           	pha
  7358 04:1C94: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7359 04:1C98: 85 05        	sta	<R1
  7360 04:1C9A: A5 05        	lda	<R1
  7361 04:1C9C: 4A           	lsr	A
  7362 04:1C9D: 85 01        	sta	<R0
  7363 04:1C9F: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7364 04:1CA3: 85 05        	sta	<R1
  7365 04:1CA5: A0 11 00     	ldy	#$11
  7366 04:1CA8: B7 20        	lda	[<L298+data_0],Y
  7367 04:1CAA: 48           	pha
  7368 04:1CAB: A0 0F 00     	ldy	#$f
  7369 04:1CAE: B7 20        	lda	[<L298+data_0],Y
  7370 04:1CB0: 48           	pha
  7371 04:1CB1: 22 xx xx xx  	jsl	~~strlen
  Wed Nov 18 2020  8:26                                                Page 142


  7372 04:1CB5: 85 09        	sta	<R2
  7373 04:1CB7: A5 09        	lda	<R2
  7374 04:1CB9: A6 05        	ldx	<R1
  7375                        	xref	~~~mul
  7376 04:1CBB: 22 xx xx xx  	jsl	~~~mul
  7377 04:1CBF: 85 05        	sta	<R1
  7378 04:1CC1: 18           	clc
  7379 04:1CC2: A5 05        	lda	<R1
  7380 04:1CC4: 65 01        	adc	<R0
  7381 04:1CC6: 48           	pha
  7382 04:1CC7: A0 06 00     	ldy	#$6
  7383 04:1CCA: B7 11        	lda	[<L299+pMenuAnchor_1],Y
  7384 04:1CCC: 48           	pha
  7385 04:1CCD: A0 04 00     	ldy	#$4
  7386 04:1CD0: B7 11        	lda	[<L299+pMenuAnchor_1],Y
  7387 04:1CD2: 48           	pha
  7388 04:1CD3: D4 22        	pei	<L298+data_0+2
  7389 04:1CD5: D4 20        	pei	<L298+data_0
  7390 04:1CD7: A0 11 00     	ldy	#$11
  7391 04:1CDA: B7 20        	lda	[<L298+data_0],Y
  7392 04:1CDC: 48           	pha
  7393 04:1CDD: A0 0F 00     	ldy	#$f
  7394 04:1CE0: B7 20        	lda	[<L298+data_0],Y
  7395 04:1CE2: 48           	pha
  7396 04:1CE3: D4 0F        	pei	<L299+pWin_1+2
  7397 04:1CE5: D4 0D        	pei	<L299+pWin_1
  7398 04:1CE7: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  7399 04:1CEB: 85 01        	sta	<R0
  7400 04:1CED: 86 03        	stx	<R0+2
  7401 04:1CEF: DA           	phx
  7402 04:1CF0: 48           	pha
  7403 04:1CF1: 22 2E 1E 04  	jsl	~~k_user_CreateMenuAnchor
  7404 04:1CF5: 85 0D        	sta	<L299+pWin_1
  7405 04:1CF7: 86 0F        	stx	<L299+pWin_1+2
  7406                        ;
  7407                        ;			//pMenuAnchor->renderLayoutX+=(s
                    trlen(((PMENU)data)->pCaption)*FONTW + (FONTW/2));
  7408                        ;			pMenuAnchor->renderLayoutX+=pWin
                    ->win_width;
  7409                        	.line	1240
  7410 04:1CF9: 18           	clc
  7411 04:1CFA: A9 04 00     	lda	#$4
  7412 04:1CFD: 65 11        	adc	<L299+pMenuAnchor_1
  7413 04:1CFF: 85 01        	sta	<R0
  7414 04:1D01: A9 00 00     	lda	#$0
  7415 04:1D04: 65 13        	adc	<L299+pMenuAnchor_1+2
  7416 04:1D06: 85 03        	sta	<R0+2
  7417 04:1D08: 18           	clc
  7418 04:1D09: A7 01        	lda	[<R0]
  7419 04:1D0B: A0 0C 00     	ldy	#$c
  7420 04:1D0E: 77 0D        	adc	[<L299+pWin_1],Y
  7421 04:1D10: 87 01        	sta	[<R0]
  7422                        ;			pMenuAnchor->renderLayoutX+=(1*F
                    ONTW);
  7423                        	.line	1241
  7424 04:1D12: 18           	clc
  7425 04:1D13: A9 04 00     	lda	#$4
  7426 04:1D16: 65 11        	adc	<L299+pMenuAnchor_1
  Wed Nov 18 2020  8:26                                                Page 143


  7427 04:1D18: 85 01        	sta	<R0
  7428 04:1D1A: A9 00 00     	lda	#$0
  7429 04:1D1D: 65 13        	adc	<L299+pMenuAnchor_1+2
  7430 04:1D1F: 85 03        	sta	<R0+2
  7431 04:1D21: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7432 04:1D25: 85 05        	sta	<R1
  7433 04:1D27: 18           	clc
  7434 04:1D28: A5 05        	lda	<R1
  7435 04:1D2A: 67 01        	adc	[<R0]
  7436 04:1D2C: 87 01        	sta	[<R0]
  7437                        ;
  7438                        ;
  7439                        ;
  7440                        ;		}
  7441                        	.line	1245
  7442                        ;
  7443                        ;	}
  7444                        L10079:
  7445                        	.line	1247
  7446                        ;}
  7447                        L10078:
  7448                        	.line	1248
  7449                        L303:
  7450 04:1D2E: A5 1A        	lda	<L298+2
  7451 04:1D30: 85 22        	sta	<L298+2+8
  7452 04:1D32: A5 19        	lda	<L298+1
  7453 04:1D34: 85 21        	sta	<L298+1+8
  7454 04:1D36: 2B           	pld
  7455 04:1D37: 3B           	tsc
  7456 04:1D38: 18           	clc
  7457 04:1D39: 69 20 00     	adc	#L298+8
  7458 04:1D3C: 1B           	tcs
  7459 04:1D3D: 6B           	rtl
  7460                        	.endblock	1248
  7461             00000018   L298	equ	24
  7462             0000000D   L299	equ	13
  7463 04:1D3E:              	ends
  7464                        	efunc
  7465                        	.endfunc	1248,13,24
  7466                        	.line	1248
  7467                        	data
  7468                        L297:
  7469 00:03E4: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $6D,$65,$6E,$75,$73
       00:03E8: 65 72 61 74 
       00:03EC: 65 5F 6D 65 
       00:03F0: 6E 75 73 
  7470 00:03F3: 3A 00        	db	$3A,$00
  7471 00:03F5:              	ends
  7472                        ;
  7473                        ;void k_iterate_dropdown_menu_captions(LPVOID ctx,
                    LPVOID data)
  7474                        ;{
  7475                        	.line	1250
  7476                        	.line	1251
  7477                        	WINMAN
  7478                        	xdef	~~k_iterate_dropdown_menu_captions
  7479                        	func
  Wed Nov 18 2020  8:26                                                Page 144


  7480                        	.function	1251
  7481                        ~~k_iterate_dropdown_menu_captions:
  7482                        	longa	on
  7483                        	longi	on
  7484 04:1D3E: 3B           	tsc
  7485 04:1D3F: 38           	sec
  7486 04:1D40: E9 22 00     	sbc	#L305
  7487 04:1D43: 1B           	tcs
  7488 04:1D44: 0B           	phd
  7489 04:1D45: 5B           	tcd
  7490             00000004   ctx_0	set	4
  7491             00000008   data_0	set	8
  7492                        	.block	1251
  7493                        ;	PWINDOW     pWin = NULL;
  7494                        ;	PWINDOW     pItem = NULL;
  7495                        ;	PMENUANCHOR pMenuAnchor = NULL;
  7496                        ;	LPCSTR FAR*	captions;
  7497                        ;	LPCSTR 		caption;
  7498                        ;	UINT		i = 0;
  7499                        ;
  7500                        ;	if(data)
  7501             00000000   pWin_1	set	0
  7502             00000004   pItem_1	set	4
  7503             00000008   pMenuAnchor_1	set	8
  7504             0000000C   captions_1	set	12
  7505             00000010   caption_1	set	16
  7506             00000014   i_1	set	20
  7507                        	.sym	pWin,0,138,1,32,24
  7508                        	.sym	pItem,4,138,1,32,24
  7509                        	.sym	pMenuAnchor,8,138,1,32,36
  7510                        	.sym	captions,12,1166,1,32
  7511                        	.sym	caption,16,142,1,32
  7512                        	.sym	i,20,16,1,16
  7513                        	.sym	ctx,4,129,6,32
  7514                        	.sym	data,8,129,6,32
  7515 04:1D46: 64 0D        	stz	<L306+pWin_1
  7516 04:1D48: 64 0F        	stz	<L306+pWin_1+2
  7517 04:1D4A: 64 11        	stz	<L306+pItem_1
  7518 04:1D4C: 64 13        	stz	<L306+pItem_1+2
  7519 04:1D4E: 64 15        	stz	<L306+pMenuAnchor_1
  7520 04:1D50: 64 17        	stz	<L306+pMenuAnchor_1+2
  7521 04:1D52: 64 21        	stz	<L306+i_1
  7522                        	.line	1259
  7523                        ;	{
  7524 04:1D54: A5 2A        	lda	<L305+data_0
  7525 04:1D56: 05 2C        	ora	<L305+data_0+2
  7526 04:1D58: D0 03        	bne	L308
  7527 04:1D5A: 82 C1 00     	brl	L10080
  7528                        L308:
  7529                        	.line	1260
  7530                        ;		k_debug_strings("k_iterate_dropdown_menu
                    s:",(LPCHAR)((PMENU)data)->pCaption) ;
  7531                        	.line	1261
  7532 04:1D5D: A0 11 00     	ldy	#$11
  7533 04:1D60: B7 2A        	lda	[<L305+data_0],Y
  7534 04:1D62: 48           	pha
  7535 04:1D63: A0 0F 00     	ldy	#$f
  7536 04:1D66: B7 2A        	lda	[<L305+data_0],Y
  Wed Nov 18 2020  8:26                                                Page 145


  7537 04:1D68: 48           	pha
  7538 04:1D69: F4 xx xx     	pea	#^L304
  7539 04:1D6C: F4 xx xx     	pea	#<L304
  7540 04:1D6F: 22 xx xx xx  	jsl	~~k_debug_strings
  7541                        ;
  7542                        ;		if(ctx)
  7543                        	.line	1263
  7544                        ;		{
  7545 04:1D73: A5 26        	lda	<L305+ctx_0
  7546 04:1D75: 05 28        	ora	<L305+ctx_0+2
  7547 04:1D77: D0 03        	bne	L309
  7548 04:1D79: 82 A2 00     	brl	L10081
  7549                        L309:
  7550                        	.line	1264
  7551                        ;			captions = (LPCSTR FAR*)ctx;
  7552                        	.line	1265
  7553 04:1D7C: A5 26        	lda	<L305+ctx_0
  7554 04:1D7E: 85 19        	sta	<L306+captions_1
  7555 04:1D80: A5 28        	lda	<L305+ctx_0+2
  7556 04:1D82: 85 1B        	sta	<L306+captions_1+2
  7557                        ;
  7558                        ;			while(captions[i])
  7559                        	.line	1267
  7560                        L10082:
  7561 04:1D84: A5 21        	lda	<L306+i_1
  7562 04:1D86: 85 05        	sta	<R1
  7563 04:1D88: 64 07        	stz	<R1+2
  7564 04:1D8A: D4 07        	pei	<R1+2
  7565 04:1D8C: D4 05        	pei	<R1
  7566 04:1D8E: A9 02 00     	lda	#$2
  7567                        	xref	~~~lasl
  7568 04:1D91: 22 xx xx xx  	jsl	~~~lasl
  7569 04:1D95: 85 01        	sta	<R0
  7570 04:1D97: 86 03        	stx	<R0+2
  7571 04:1D99: 18           	clc
  7572 04:1D9A: A5 19        	lda	<L306+captions_1
  7573 04:1D9C: 65 01        	adc	<R0
  7574 04:1D9E: 85 09        	sta	<R2
  7575 04:1DA0: A5 1B        	lda	<L306+captions_1+2
  7576 04:1DA2: 65 03        	adc	<R0+2
  7577 04:1DA4: 85 0B        	sta	<R2+2
  7578 04:1DA6: A7 09        	lda	[<R2]
  7579 04:1DA8: A0 02 00     	ldy	#$2
  7580 04:1DAB: 17 09        	ora	[<R2],Y
  7581 04:1DAD: D0 03        	bne	L310
  7582 04:1DAF: 82 05 00     	brl	L10083
  7583                        L310:
  7584                        ;			{
  7585                        	.line	1268
  7586                        ;				i++;
  7587                        	.line	1269
  7588 04:1DB2: E6 21        	inc	<L306+i_1
  7589                        ;			}
  7590                        	.line	1270
  7591 04:1DB4: 82 CD FF     	brl	L10082
  7592                        L10083:
  7593                        ;
  7594                        ;			captions[i] = (LPCSTR)((PMENU)da
  Wed Nov 18 2020  8:26                                                Page 146


                    ta)->pCaption;
  7595                        	.line	1272
  7596 04:1DB7: A5 21        	lda	<L306+i_1
  7597 04:1DB9: 85 05        	sta	<R1
  7598 04:1DBB: 64 07        	stz	<R1+2
  7599 04:1DBD: D4 07        	pei	<R1+2
  7600 04:1DBF: D4 05        	pei	<R1
  7601 04:1DC1: A9 02 00     	lda	#$2
  7602                        	xref	~~~lasl
  7603 04:1DC4: 22 xx xx xx  	jsl	~~~lasl
  7604 04:1DC8: 85 01        	sta	<R0
  7605 04:1DCA: 86 03        	stx	<R0+2
  7606 04:1DCC: 18           	clc
  7607 04:1DCD: A5 19        	lda	<L306+captions_1
  7608 04:1DCF: 65 01        	adc	<R0
  7609 04:1DD1: 85 09        	sta	<R2
  7610 04:1DD3: A5 1B        	lda	<L306+captions_1+2
  7611 04:1DD5: 65 03        	adc	<R0+2
  7612 04:1DD7: 85 0B        	sta	<R2+2
  7613 04:1DD9: A0 0F 00     	ldy	#$f
  7614 04:1DDC: B7 2A        	lda	[<L305+data_0],Y
  7615 04:1DDE: 87 09        	sta	[<R2]
  7616 04:1DE0: A0 11 00     	ldy	#$11
  7617 04:1DE3: B7 2A        	lda	[<L305+data_0],Y
  7618 04:1DE5: A0 02 00     	ldy	#$2
  7619 04:1DE8: 97 09        	sta	[<R2],Y
  7620                        ;			captions[i+1] = NULL;
  7621                        	.line	1273
  7622 04:1DEA: A5 21        	lda	<L306+i_1
  7623 04:1DEC: 1A           	ina
  7624 04:1DED: 85 05        	sta	<R1
  7625 04:1DEF: A5 05        	lda	<R1
  7626 04:1DF1: 85 05        	sta	<R1
  7627 04:1DF3: 64 07        	stz	<R1+2
  7628 04:1DF5: D4 07        	pei	<R1+2
  7629 04:1DF7: D4 05        	pei	<R1
  7630 04:1DF9: A9 02 00     	lda	#$2
  7631                        	xref	~~~lasl
  7632 04:1DFC: 22 xx xx xx  	jsl	~~~lasl
  7633 04:1E00: 85 01        	sta	<R0
  7634 04:1E02: 86 03        	stx	<R0+2
  7635 04:1E04: 18           	clc
  7636 04:1E05: A5 19        	lda	<L306+captions_1
  7637 04:1E07: 65 01        	adc	<R0
  7638 04:1E09: 85 09        	sta	<R2
  7639 04:1E0B: A5 1B        	lda	<L306+captions_1+2
  7640 04:1E0D: 65 03        	adc	<R0+2
  7641 04:1E0F: 85 0B        	sta	<R2+2
  7642 04:1E11: A9 00 00     	lda	#$0
  7643 04:1E14: 87 09        	sta	[<R2]
  7644 04:1E16: A9 00 00     	lda	#$0
  7645 04:1E19: A0 02 00     	ldy	#$2
  7646 04:1E1C: 97 09        	sta	[<R2],Y
  7647                        ;		}
  7648                        	.line	1274
  7649                        ;
  7650                        ;	}
  7651                        L10081:
  Wed Nov 18 2020  8:26                                                Page 147


  7652                        	.line	1276
  7653                        ;}
  7654                        L10080:
  7655                        	.line	1277
  7656                        L311:
  7657 04:1E1E: A5 24        	lda	<L305+2
  7658 04:1E20: 85 2C        	sta	<L305+2+8
  7659 04:1E22: A5 23        	lda	<L305+1
  7660 04:1E24: 85 2B        	sta	<L305+1+8
  7661 04:1E26: 2B           	pld
  7662 04:1E27: 3B           	tsc
  7663 04:1E28: 18           	clc
  7664 04:1E29: 69 2A 00     	adc	#L305+8
  7665 04:1E2C: 1B           	tcs
  7666 04:1E2D: 6B           	rtl
  7667                        	.endblock	1277
  7668             00000022   L305	equ	34
  7669             0000000D   L306	equ	13
  7670 04:1E2E:              	ends
  7671                        	efunc
  7672                        	.endfunc	1277,13,34
  7673                        	.line	1277
  7674                        	data
  7675                        L304:
  7676 00:03F5: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $64,$72,$6F,$70,$64
       00:03F9: 65 72 61 74 
       00:03FD: 65 5F 64 72 
       00:0401: 6F 70 64 
  7677 00:0404: 6F 77 6E 5F  	db	$6F,$77,$6E,$5F,$6D,$65,$6E,$75,$73,$3A,
                    $00
       00:0408: 6D 65 6E 75 
       00:040C: 73 3A 00 
  7678 00:040F:              	ends
  7679                        ;
  7680                        ;
  7681                        ;PWINDOW	k_user_CreateMenuAnchor(HWND hWndParent,
                    LPCSTR caption,HMENU hMenu,int x,int y,int width,int height)
  7682                        ;{
  7683                        	.line	1280
  7684                        	.line	1281
  7685                        	WINMAN
  7686                        	xdef	~~k_user_CreateMenuAnchor
  7687                        	func
  7688                        	.function	1281
  7689                        ~~k_user_CreateMenuAnchor:
  7690                        	longa	on
  7691                        	longi	on
  7692 04:1E2E: 3B           	tsc
  7693 04:1E2F: 38           	sec
  7694 04:1E30: E9 0C 00     	sbc	#L313
  7695 04:1E33: 1B           	tcs
  7696 04:1E34: 0B           	phd
  7697 04:1E35: 5B           	tcd
  7698             00000004   hWndParent_0	set	4
  7699             00000008   caption_0	set	8
  7700             0000000C   hMenu_0	set	12
  7701             00000010   x_0	set	16
  Wed Nov 18 2020  8:26                                                Page 148


  7702             00000012   y_0	set	18
  7703             00000014   width_0	set	20
  7704             00000016   height_0	set	22
  7705                        	.block	1281
  7706                        ;	PWINDOW pWin = NULL;
  7707                        ;
  7708                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","En
                    ter");
  7709                        ;
  7710                        ;	pWin = k_user_CreateWindow(FXWS_VISIBLE,
  7711             00000000   pWin_1	set	0
  7712                        	.sym	pWin,0,138,1,32,24
  7713                        	.sym	hWndParent,4,129,6,32
  7714                        	.sym	caption,8,142,6,32
  7715                        	.sym	hMenu,12,129,6,32
  7716                        	.sym	x,16,5,6,16
  7717                        	.sym	y,18,5,6,16
  7718                        	.sym	width,20,5,6,16
  7719                        	.sym	height,22,5,6,16
  7720 04:1E36: 64 09        	stz	<L314+pWin_1
  7721 04:1E38: 64 0B        	stz	<L314+pWin_1+2
  7722                        	.line	1286
  7723                        ;							
                       "menuAnchorWindowClass",
  7724                        ;							
                        caption,
  7725                        ;							
                    	x,y,
  7726                        ;							
                    	width,height,
  7727                        ;							
                    	hWndParent,
  7728                        ;							
                    	hMenu,
  7729                        ;							
                    	NULL);
  7730 04:1E3A: F4 00 00     	pea	#^$0
  7731 04:1E3D: F4 00 00     	pea	#<$0
  7732 04:1E40: D4 1A        	pei	<L313+hMenu_0+2
  7733 04:1E42: D4 18        	pei	<L313+hMenu_0
  7734 04:1E44: D4 12        	pei	<L313+hWndParent_0+2
  7735 04:1E46: D4 10        	pei	<L313+hWndParent_0
  7736 04:1E48: D4 22        	pei	<L313+height_0
  7737 04:1E4A: D4 20        	pei	<L313+width_0
  7738 04:1E4C: D4 1E        	pei	<L313+y_0
  7739 04:1E4E: D4 1C        	pei	<L313+x_0
  7740 04:1E50: D4 16        	pei	<L313+caption_0+2
  7741 04:1E52: D4 14        	pei	<L313+caption_0
  7742 04:1E54: F4 xx xx     	pea	#^L312
  7743 04:1E57: F4 xx xx     	pea	#<L312
  7744 04:1E5A: F4 00 00     	pea	#^$1
  7745 04:1E5D: F4 01 00     	pea	#<$1
  7746 04:1E60: 22 DB 0D 04  	jsl	~~k_user_CreateWindow
  7747 04:1E64: 85 09        	sta	<L314+pWin_1
  7748 04:1E66: 86 0B        	stx	<L314+pWin_1+2
  7749                        ;	if(pWin)
  7750                        	.line	1294
  7751                        ;	{
  Wed Nov 18 2020  8:26                                                Page 149


  7752 04:1E68: A5 09        	lda	<L314+pWin_1
  7753 04:1E6A: 05 0B        	ora	<L314+pWin_1+2
  7754 04:1E6C: D0 03        	bne	L316
  7755 04:1E6E: 82 4F 00     	brl	L10084
  7756                        L316:
  7757                        	.line	1295
  7758                        ;
  7759                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);
  7760                        ;
  7761                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
  7762                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
  7763                        	.line	1300
  7764 04:1E71: F4 00 00     	pea	#<$0
  7765 04:1E74: F4 00 00     	pea	#^$0
  7766 04:1E77: F4 00 00     	pea	#<$0
  7767 04:1E7A: F4 03 FF     	pea	#<$ff03
  7768 04:1E7D: D4 0B        	pei	<L314+pWin_1+2
  7769 04:1E7F: D4 09        	pei	<L314+pWin_1
  7770 04:1E81: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  7771 04:1E85: 85 01        	sta	<R0
  7772 04:1E87: 86 03        	stx	<R0+2
  7773 04:1E89: DA           	phx
  7774 04:1E8A: 48           	pha
  7775 04:1E8B: 22 xx xx xx  	jsl	~~k_send_window_message
  7776                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_command_message");
  7777                        ;		k_send_command_message(k_getHandleFromWi
                    ndow(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_str
                    ing_copy_string(caption),0L);
  7778                        	.line	1302
  7779 04:1E8F: F4 00 00     	pea	#^$0
  7780 04:1E92: F4 00 00     	pea	#<$0
  7781 04:1E95: D4 16        	pei	<L313+caption_0+2
  7782 04:1E97: D4 14        	pei	<L313+caption_0
  7783 04:1E99: 22 xx xx xx  	jsl	~~k_string_copy_string
  7784 04:1E9D: 85 01        	sta	<R0
  7785 04:1E9F: 86 03        	stx	<R0+2
  7786 04:1EA1: D4 03        	pei	<R0+2
  7787 04:1EA3: D4 01        	pei	<R0
  7788 04:1EA5: F4 00 00     	pea	#<$0
  7789 04:1EA8: F4 01 00     	pea	#<$1
  7790 04:1EAB: F4 00 FA     	pea	#<$fa00
  7791 04:1EAE: D4 0B        	pei	<L314+pWin_1+2
  7792 04:1EB0: D4 09        	pei	<L314+pWin_1
  7793 04:1EB2: 22 29 09 04  	jsl	~~k_getHandleFromWindow
  7794 04:1EB6: 85 05        	sta	<R1
  7795 04:1EB8: 86 07        	stx	<R1+2
  7796 04:1EBA: DA           	phx
  7797 04:1EBB: 48           	pha
  7798 04:1EBC: 22 xx xx xx  	jsl	~~k_send_command_message
  7799                        ;
  7800                        ;	}
  7801                        	.line	1304
  7802                        ;
  7803                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","Ex
  Wed Nov 18 2020  8:26                                                Page 150


                    it");
  7804                        ;
  7805                        ;	return pWin;
  7806                        L10084:
  7807                        	.line	1308
  7808 04:1EC0: A6 0B        	ldx	<L314+pWin_1+2
  7809 04:1EC2: A5 09        	lda	<L314+pWin_1
  7810                        L317:
  7811 04:1EC4: A8           	tay
  7812 04:1EC5: A5 0E        	lda	<L313+2
  7813 04:1EC7: 85 22        	sta	<L313+2+20
  7814 04:1EC9: A5 0D        	lda	<L313+1
  7815 04:1ECB: 85 21        	sta	<L313+1+20
  7816 04:1ECD: 2B           	pld
  7817 04:1ECE: 3B           	tsc
  7818 04:1ECF: 18           	clc
  7819 04:1ED0: 69 20 00     	adc	#L313+20
  7820 04:1ED3: 1B           	tcs
  7821 04:1ED4: 98           	tya
  7822 04:1ED5: 6B           	rtl
  7823                        ;}
  7824                        	.line	1309
  7825                        	.endblock	1309
  7826             0000000C   L313	equ	12
  7827             00000009   L314	equ	9
  7828 04:1ED6:              	ends
  7829                        	efunc
  7830                        	.endfunc	1309,9,12
  7831                        	.line	1309
  7832                        	data
  7833                        L312:
  7834 00:040F: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,
                    $57,$69,$6E,$64,$6F
       00:0413: 41 6E 63 68 
       00:0417: 6F 72 57 69 
       00:041B: 6E 64 6F 
  7835 00:041E: 77 43 6C 61  	db	$77,$43,$6C,$61,$73,$73,$00
       00:0422: 73 73 00 
  7836 00:0425:              	ends
  7837                        ;
  7838                        ;BOOL menuAnchorWindowProc(PFXOSMESSAGE pMsg)
  7839                        ;{
  7840                        	.line	1311
  7841                        	.line	1312
  7842                        	WINMAN
  7843                        	xdef	~~menuAnchorWindowProc
  7844                        	func
  7845                        	.function	1312
  7846                        ~~menuAnchorWindowProc:
  7847                        	longa	on
  7848                        	longi	on
  7849 04:1ED6: 3B           	tsc
  7850 04:1ED7: 38           	sec
  7851 04:1ED8: E9 16 00     	sbc	#L319
  7852 04:1EDB: 1B           	tcs
  7853 04:1EDC: 0B           	phd
  7854 04:1EDD: 5B           	tcd
  7855             00000004   pMsg_0	set	4
  Wed Nov 18 2020  8:26                                                Page 151


  7856                        	.block	1312
  7857                        ;	PFXPROCESS p = NULL;
  7858                        ;	PWINDOW	   pWin = NULL;
  7859                        ;	PMENUANCHOR	   pMenuAnchor = NULL;
  7860                        ;
  7861                        ;	UINT	   size = 0;
  7862                        ;
  7863                        ;	if(pMsg!=NULL)
  7864             00000000   p_1	set	0
  7865             00000004   pWin_1	set	4
  7866             00000008   pMenuAnchor_1	set	8
  7867             0000000C   size_1	set	12
  7868                        	.sym	p,0,138,1,32,17
  7869                        	.sym	pWin,4,138,1,32,24
  7870                        	.sym	pMenuAnchor,8,138,1,32,36
  7871                        	.sym	size,12,16,1,16
  7872                        	.sym	pMsg,4,138,6,32,13
  7873 04:1EDE: 64 09        	stz	<L320+p_1
  7874 04:1EE0: 64 0B        	stz	<L320+p_1+2
  7875 04:1EE2: 64 0D        	stz	<L320+pWin_1
  7876 04:1EE4: 64 0F        	stz	<L320+pWin_1+2
  7877 04:1EE6: 64 11        	stz	<L320+pMenuAnchor_1
  7878 04:1EE8: 64 13        	stz	<L320+pMenuAnchor_1+2
  7879 04:1EEA: 64 15        	stz	<L320+size_1
  7880                        	.line	1319
  7881                        ;	{
  7882 04:1EEC: A5 1A        	lda	<L319+pMsg_0
  7883 04:1EEE: 05 1C        	ora	<L319+pMsg_0+2
  7884 04:1EF0: D0 03        	bne	L322
  7885 04:1EF2: 82 82 02     	brl	L10085
  7886                        L322:
  7887                        	.line	1320
  7888                        ;		p = k_exec_get_current_process();
  7889                        	.line	1321
  7890 04:1EF5: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  7891 04:1EF9: 85 09        	sta	<L320+p_1
  7892 04:1EFB: 86 0B        	stx	<L320+p_1+2
  7893                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  7894                        	.line	1322
  7895 04:1EFD: A0 0C 00     	ldy	#$c
  7896 04:1F00: B7 1A        	lda	[<L319+pMsg_0],Y
  7897 04:1F02: 48           	pha
  7898 04:1F03: A0 0A 00     	ldy	#$a
  7899 04:1F06: B7 1A        	lda	[<L319+pMsg_0],Y
  7900 04:1F08: 48           	pha
  7901 04:1F09: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  7902 04:1F0D: 85 0D        	sta	<L320+pWin_1
  7903 04:1F0F: 86 0F        	stx	<L320+pWin_1+2
  7904                        ;		pMenuAnchor = (PMENUANCHOR)pWin->windowD
                    ata;
  7905                        	.line	1323
  7906 04:1F11: A0 91 00     	ldy	#$91
  7907 04:1F14: B7 0D        	lda	[<L320+pWin_1],Y
  7908 04:1F16: 85 11        	sta	<L320+pMenuAnchor_1
  7909 04:1F18: A0 93 00     	ldy	#$93
  7910 04:1F1B: B7 0D        	lda	[<L320+pWin_1],Y
  7911 04:1F1D: 85 13        	sta	<L320+pMenuAnchor_1+2
  Wed Nov 18 2020  8:26                                                Page 152


  7912                        ;		//pButton = ((PBUTTON)pWin->windowData);
  7913                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  7914                        ;
  7915                        ;		switch(pMsg->type)
  7916                        	.line	1327
  7917 04:1F1F: A0 08 00     	ldy	#$8
  7918 04:1F22: B7 1A        	lda	[<L319+pMsg_0],Y
  7919 04:1F24: 82 20 02     	brl	L10086
  7920                        ;		{
  7921                        	.line	1328
  7922                        ;		case FX_CREATE_WINDOW:
  7923                        	.line	1329
  7924                        L10088:
  7925                        ;			//k_debug_long("menuAnchorWindow
                    Proc::ProcessId:",p->procId);
  7926                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_CREATE_WINDOW\r\n");
  7927                        	.line	1331
  7928 04:1F27: F4 xx xx     	pea	#^L318
  7929 04:1F2A: F4 xx xx     	pea	#<L318
  7930 04:1F2D: 22 xx xx xx  	jsl	~~k_debug_string
  7931                        ;
  7932                        ;			//pWin->windowData = k_mem_alloc
                    ate_heap(sizeof(BUTTON));
  7933                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(MENUANCHOR));
  7934                        	.line	1334
  7935 04:1F31: F4 12 00     	pea	#<$12
  7936 04:1F34: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7937 04:1F38: 85 01        	sta	<R0
  7938 04:1F3A: 86 03        	stx	<R0+2
  7939 04:1F3C: A5 01        	lda	<R0
  7940 04:1F3E: A0 91 00     	ldy	#$91
  7941 04:1F41: 97 0D        	sta	[<L320+pWin_1],Y
  7942 04:1F43: A5 03        	lda	<R0+2
  7943 04:1F45: A0 93 00     	ldy	#$93
  7944 04:1F48: 97 0D        	sta	[<L320+pWin_1],Y
  7945                        ;			(pMenuAnchor)->renderLayoutX = p
                    Win->win_x + FONTW;
  7946                        	.line	1335
  7947 04:1F4A: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  7948 04:1F4E: 85 01        	sta	<R0
  7949 04:1F50: 18           	clc
  7950 04:1F51: A5 01        	lda	<R0
  7951 04:1F53: A0 08 00     	ldy	#$8
  7952 04:1F56: 77 0D        	adc	[<L320+pWin_1],Y
  7953 04:1F58: A0 04 00     	ldy	#$4
  7954 04:1F5B: 97 11        	sta	[<L320+pMenuAnchor_1],Y
  7955                        ;			(pMenuAnchor)->renderLayoutY = p
                    Win->win_y + FONTH;
  7956                        	.line	1336
  7957 04:1F5D: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  7958 04:1F61: 85 01        	sta	<R0
  7959 04:1F63: 18           	clc
  7960 04:1F64: A5 01        	lda	<R0
  7961 04:1F66: A0 0A 00     	ldy	#$a
  7962 04:1F69: 77 0D        	adc	[<L320+pWin_1],Y
  Wed Nov 18 2020  8:26                                                Page 153


  7963 04:1F6B: A0 06 00     	ldy	#$6
  7964 04:1F6E: 97 11        	sta	[<L320+pMenuAnchor_1],Y
  7965                        ;
  7966                        ;			break;
  7967                        	.line	1338
  7968 04:1F70: 82 04 02     	brl	L10087
  7969                        ;		case FX_REDRAW_WINDOW:
  7970                        	.line	1339
  7971                        L10089:
  7972                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_REDRAW_WINDOW\r\n");
  7973                        	.line	1340
  7974 04:1F73: F4 xx xx     	pea	#^L318+41
  7975 04:1F76: F4 xx xx     	pea	#<L318+41
  7976 04:1F79: 22 xx xx xx  	jsl	~~k_debug_string
  7977                        ;			break;
  7978                        	.line	1341
  7979 04:1F7D: 82 F7 01     	brl	L10087
  7980                        ;
  7981                        ;		case FX_HIDE_WINDOW:
  7982                        	.line	1343
  7983                        L10090:
  7984                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_HIDE_WINDOW\r\n");
  7985                        	.line	1344
  7986 04:1F80: F4 xx xx     	pea	#^L318+82
  7987 04:1F83: F4 xx xx     	pea	#<L318+82
  7988 04:1F86: 22 xx xx xx  	jsl	~~k_debug_string
  7989                        ;
  7990                        ;			pWin->isVisible = FALSE;
  7991                        	.line	1346
  7992 04:1F8A: E2 20        	sep	#$20
  7993                        	longa	off
  7994 04:1F8C: A9 00        	lda	#$0
  7995 04:1F8E: A0 90 00     	ldy	#$90
  7996 04:1F91: 97 0D        	sta	[<L320+pWin_1],Y
  7997 04:1F93: C2 20        	rep	#$20
  7998                        	longa	on
  7999                        ;
  8000                        ;			break;
  8001                        	.line	1348
  8002 04:1F95: 82 DF 01     	brl	L10087
  8003                        ;		case FX_SHOW_WINDOW:
  8004                        	.line	1349
  8005                        L10091:
  8006                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_SHOW_WINDOW\r\n");
  8007                        	.line	1350
  8008 04:1F98: F4 xx xx     	pea	#^L318+121
  8009 04:1F9B: F4 xx xx     	pea	#<L318+121
  8010 04:1F9E: 22 xx xx xx  	jsl	~~k_debug_string
  8011                        ;
  8012                        ;			pWin->isVisible = TRUE;
  8013                        	.line	1352
  8014 04:1FA2: E2 20        	sep	#$20
  8015                        	longa	off
  8016 04:1FA4: A9 01        	lda	#$1
  8017 04:1FA6: A0 90 00     	ldy	#$90
  Wed Nov 18 2020  8:26                                                Page 154


  8018 04:1FA9: 97 0D        	sta	[<L320+pWin_1],Y
  8019 04:1FAB: C2 20        	rep	#$20
  8020                        	longa	on
  8021                        ;			k_func_drawAnchorText(pWin,k_get
                    UIGadgetColor(),k_getUIMenuColor());
  8022                        	.line	1353
  8023 04:1FAD: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8024 04:1FB1: 48           	pha
  8025 04:1FB2: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8026 04:1FB6: 48           	pha
  8027 04:1FB7: D4 0F        	pei	<L320+pWin_1+2
  8028 04:1FB9: D4 0D        	pei	<L320+pWin_1
  8029 04:1FBB: 22 8C 21 04  	jsl	~~k_func_drawAnchorText
  8030                        ;
  8031                        ;			break;
  8032                        	.line	1355
  8033 04:1FBF: 82 B5 01     	brl	L10087
  8034                        ;		case FX_DRAW_WINDOW:
  8035                        	.line	1356
  8036                        L10092:
  8037                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_DRAW_WINDOW\r\n");
  8038                        	.line	1357
  8039 04:1FC2: F4 xx xx     	pea	#^L318+160
  8040 04:1FC5: F4 xx xx     	pea	#<L318+160
  8041 04:1FC8: 22 xx xx xx  	jsl	~~k_debug_string
  8042                        ;			if(pWin->isVisible)
  8043                        	.line	1358
  8044                        ;			{
  8045 04:1FCC: A0 90 00     	ldy	#$90
  8046 04:1FCF: B7 0D        	lda	[<L320+pWin_1],Y
  8047 04:1FD1: 29 FF 00     	and	#$ff
  8048 04:1FD4: D0 03        	bne	L323
  8049 04:1FD6: 82 12 00     	brl	L10093
  8050                        L323:
  8051                        	.line	1359
  8052                        ;				k_func_drawAnchorText(pW
                    in,k_getUIGadgetColor(),k_getUIMenuColor());
  8053                        	.line	1360
  8054 04:1FD9: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8055 04:1FDD: 48           	pha
  8056 04:1FDE: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8057 04:1FE2: 48           	pha
  8058 04:1FE3: D4 0F        	pei	<L320+pWin_1+2
  8059 04:1FE5: D4 0D        	pei	<L320+pWin_1
  8060 04:1FE7: 22 8C 21 04  	jsl	~~k_func_drawAnchorText
  8061                        ;			}
  8062                        	.line	1361
  8063                        ;
  8064                        ;			break;
  8065                        L10093:
  8066                        	.line	1363
  8067 04:1FEB: 82 89 01     	brl	L10087
  8068                        ;		case FX_LBUTTON_DOWN:
  8069                        	.line	1364
  8070                        L10094:
  8071                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_LBUTTON_DOWN\r\n");
  Wed Nov 18 2020  8:26                                                Page 155


  8072                        	.line	1365
  8073 04:1FEE: F4 xx xx     	pea	#^L318+199
  8074 04:1FF1: F4 xx xx     	pea	#<L318+199
  8075 04:1FF4: 22 xx xx xx  	jsl	~~k_debug_string
  8076                        ;
  8077                        ;
  8078                        ;			if(pMenuAnchor->droppedWindow &&
                     !pMenuAnchor->droppedWindow->isClosed)
  8079                        	.line	1368
  8080                        ;			{
  8081 04:1FF8: A0 0E 00     	ldy	#$e
  8082 04:1FFB: B7 11        	lda	[<L320+pMenuAnchor_1],Y
  8083 04:1FFD: A0 10 00     	ldy	#$10
  8084 04:2000: 17 11        	ora	[<L320+pMenuAnchor_1],Y
  8085 04:2002: D0 03        	bne	L324
  8086 04:2004: 82 28 00     	brl	L10095
  8087                        L324:
  8088 04:2007: A0 0E 00     	ldy	#$e
  8089 04:200A: B7 11        	lda	[<L320+pMenuAnchor_1],Y
  8090 04:200C: 85 01        	sta	<R0
  8091 04:200E: A0 10 00     	ldy	#$10
  8092 04:2011: B7 11        	lda	[<L320+pMenuAnchor_1],Y
  8093 04:2013: 85 03        	sta	<R0+2
  8094 04:2015: A0 A5 00     	ldy	#$a5
  8095 04:2018: B7 01        	lda	[<R0],Y
  8096 04:201A: 29 FF 00     	and	#$ff
  8097 04:201D: F0 03        	beq	L325
  8098 04:201F: 82 0D 00     	brl	L10095
  8099                        L325:
  8100                        	.line	1369
  8101                        ;
  8102                        ;				k_debug_string("menuAnch
                    orWindowProc::WINDOW STILL DROPPED\r\n");
  8103                        	.line	1371
  8104 04:2022: F4 xx xx     	pea	#^L318+239
  8105 04:2025: F4 xx xx     	pea	#<L318+239
  8106 04:2028: 22 xx xx xx  	jsl	~~k_debug_string
  8107                        ;			}
  8108                        	.line	1372
  8109                        ;			else
  8110 04:202C: 82 5E 00     	brl	L10096
  8111                        L10095:
  8112                        ;			{
  8113                        	.line	1374
  8114                        ;				pMenuAnchor->droppedWind
                    ow =
  8115                        	.line	1375
  8116                        ;				k_user_CreateMenuDropDow
                    n(k_user_getDesktopWindow(),
  8117                        ;							
                    			  ((PMENU)pWin->hMenu)->pCaption,
  8118                        ;							
                    			  (PMENU)pWin->hMenu,
  8119                        ;							
                    			  pWin->win_x,
  8120                        ;							
                    			  pWin->win_y + pWin->win_height,
  8121                        ;							
  Wed Nov 18 2020  8:26                                                Page 156


                    			  -1,-1);
  8122 04:202F: F4 FF FF     	pea	#<$ffffffff
  8123 04:2032: F4 FF FF     	pea	#<$ffffffff
  8124 04:2035: 18           	clc
  8125 04:2036: A0 0A 00     	ldy	#$a
  8126 04:2039: B7 0D        	lda	[<L320+pWin_1],Y
  8127 04:203B: A0 0E 00     	ldy	#$e
  8128 04:203E: 77 0D        	adc	[<L320+pWin_1],Y
  8129 04:2040: 48           	pha
  8130 04:2041: A0 08 00     	ldy	#$8
  8131 04:2044: B7 0D        	lda	[<L320+pWin_1],Y
  8132 04:2046: 48           	pha
  8133 04:2047: A0 86 00     	ldy	#$86
  8134 04:204A: B7 0D        	lda	[<L320+pWin_1],Y
  8135 04:204C: 48           	pha
  8136 04:204D: A0 84 00     	ldy	#$84
  8137 04:2050: B7 0D        	lda	[<L320+pWin_1],Y
  8138 04:2052: 48           	pha
  8139 04:2053: A0 84 00     	ldy	#$84
  8140 04:2056: B7 0D        	lda	[<L320+pWin_1],Y
  8141 04:2058: 85 01        	sta	<R0
  8142 04:205A: A0 86 00     	ldy	#$86
  8143 04:205D: B7 0D        	lda	[<L320+pWin_1],Y
  8144 04:205F: 85 03        	sta	<R0+2
  8145 04:2061: A0 11 00     	ldy	#$11
  8146 04:2064: B7 01        	lda	[<R0],Y
  8147 04:2066: 48           	pha
  8148 04:2067: A0 0F 00     	ldy	#$f
  8149 04:206A: B7 01        	lda	[<R0],Y
  8150 04:206C: 48           	pha
  8151 04:206D: 22 6A 05 04  	jsl	~~k_user_getDesktopWindow
  8152 04:2071: 85 01        	sta	<R0
  8153 04:2073: 86 03        	stx	<R0+2
  8154 04:2075: DA           	phx
  8155 04:2076: 48           	pha
  8156 04:2077: 22 9B 24 04  	jsl	~~k_user_CreateMenuDropDown
  8157 04:207B: 85 05        	sta	<R1
  8158 04:207D: 86 07        	stx	<R1+2
  8159 04:207F: A5 05        	lda	<R1
  8160 04:2081: A0 0E 00     	ldy	#$e
  8161 04:2084: 97 11        	sta	[<L320+pMenuAnchor_1],Y
  8162 04:2086: A5 07        	lda	<R1+2
  8163 04:2088: A0 10 00     	ldy	#$10
  8164 04:208B: 97 11        	sta	[<L320+pMenuAnchor_1],Y
  8165                        ;			}
  8166                        	.line	1382
  8167                        L10096:
  8168                        ;			break;
  8169                        	.line	1383
  8170 04:208D: 82 E7 00     	brl	L10087
  8171                        ;		case FX_LBUTTON_UP:
  8172                        	.line	1384
  8173                        L10097:
  8174                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_LBUTTON_UP\r\n");
  8175                        	.line	1385
  8176 04:2090: F4 xx xx     	pea	#^L318+284
  8177 04:2093: F4 xx xx     	pea	#<L318+284
  Wed Nov 18 2020  8:26                                                Page 157


  8178 04:2096: 22 xx xx xx  	jsl	~~k_debug_string
  8179                        ;			break;
  8180                        	.line	1386
  8181 04:209A: 82 DA 00     	brl	L10087
  8182                        ;		case FX_MOUSE_ENTER:
  8183                        	.line	1387
  8184                        L10098:
  8185                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_MOUSE_ENTER\r\n");
  8186                        	.line	1388
  8187 04:209D: F4 xx xx     	pea	#^L318+322
  8188 04:20A0: F4 xx xx     	pea	#<L318+322
  8189 04:20A3: 22 xx xx xx  	jsl	~~k_debug_string
  8190                        ;			k_func_drawAnchorText(pWin,k_get
                    UIMenuColor(),k_getUIGadgetColor());
  8191                        	.line	1389
  8192 04:20A7: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8193 04:20AB: 48           	pha
  8194 04:20AC: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8195 04:20B0: 48           	pha
  8196 04:20B1: D4 0F        	pei	<L320+pWin_1+2
  8197 04:20B3: D4 0D        	pei	<L320+pWin_1
  8198 04:20B5: 22 8C 21 04  	jsl	~~k_func_drawAnchorText
  8199                        ;
  8200                        ;			break;
  8201                        	.line	1391
  8202 04:20B9: 82 BB 00     	brl	L10087
  8203                        ;		case FX_MOUSE_EXIT:
  8204                        	.line	1392
  8205                        L10099:
  8206                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_MOUSE_EXIT\r\n");
  8207                        	.line	1393
  8208 04:20BC: F4 xx xx     	pea	#^L318+361
  8209 04:20BF: F4 xx xx     	pea	#<L318+361
  8210 04:20C2: 22 xx xx xx  	jsl	~~k_debug_string
  8211                        ;			k_func_drawAnchorText(pWin,k_get
                    UIGadgetColor(),k_getUIMenuColor());
  8212                        	.line	1394
  8213 04:20C6: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8214 04:20CA: 48           	pha
  8215 04:20CB: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8216 04:20CF: 48           	pha
  8217 04:20D0: D4 0F        	pei	<L320+pWin_1+2
  8218 04:20D2: D4 0D        	pei	<L320+pWin_1
  8219 04:20D4: 22 8C 21 04  	jsl	~~k_func_drawAnchorText
  8220                        ;			break;
  8221                        	.line	1395
  8222 04:20D8: 82 9C 00     	brl	L10087
  8223                        ;		case FX_CONTROL_COMMAND:
  8224                        	.line	1396
  8225                        L10100:
  8226                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_CONTROL_COMMAND\r\n");
  8227                        	.line	1397
  8228 04:20DB: F4 xx xx     	pea	#^L318+399
  8229 04:20DE: F4 xx xx     	pea	#<L318+399
  8230 04:20E1: 22 xx xx xx  	jsl	~~k_debug_string
  Wed Nov 18 2020  8:26                                                Page 158


  8231                        ;
  8232                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_CMD_CAPTION )
  8233                        	.line	1399
  8234                        ;			{
  8235 04:20E5: A0 16 00     	ldy	#$16
  8236 04:20E8: B7 1A        	lda	[<L319+pMsg_0],Y
  8237 04:20EA: C9 01 00     	cmp	#<$1
  8238 04:20ED: F0 03        	beq	L326
  8239 04:20EF: 82 4F 00     	brl	L10101
  8240                        L326:
  8241                        	.line	1400
  8242                        ;				pMenuAnchor->pCaption = 
                    (LPCHAR)((PFXCMDMESSAGE)pMsg)->parameter1;
  8243                        	.line	1401
  8244 04:20F2: A0 1A 00     	ldy	#$1a
  8245 04:20F5: B7 1A        	lda	[<L319+pMsg_0],Y
  8246 04:20F7: 87 11        	sta	[<L320+pMenuAnchor_1]
  8247 04:20F9: A0 1C 00     	ldy	#$1c
  8248 04:20FC: B7 1A        	lda	[<L319+pMsg_0],Y
  8249 04:20FE: A0 02 00     	ldy	#$2
  8250 04:2101: 97 11        	sta	[<L320+pMenuAnchor_1],Y
  8251                        ;
  8252                        ;				if(pMenuAnchor->pCaption
                     && pWin->isVisible)
  8253                        	.line	1403
  8254                        ;				{
  8255 04:2103: A7 11        	lda	[<L320+pMenuAnchor_1]
  8256 04:2105: A0 02 00     	ldy	#$2
  8257 04:2108: 17 11        	ora	[<L320+pMenuAnchor_1],Y
  8258 04:210A: D0 03        	bne	L327
  8259 04:210C: 82 32 00     	brl	L10102
  8260                        L327:
  8261 04:210F: A0 90 00     	ldy	#$90
  8262 04:2112: B7 0D        	lda	[<L320+pWin_1],Y
  8263 04:2114: 29 FF 00     	and	#$ff
  8264 04:2117: D0 03        	bne	L328
  8265 04:2119: 82 25 00     	brl	L10102
  8266                        L328:
  8267                        	.line	1404
  8268                        ;					k_debug_strings(
                    "menuAnchorWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pMenuAncho
                    r->pCaption );
  8269                        	.line	1405
  8270 04:211C: A0 02 00     	ldy	#$2
  8271 04:211F: B7 11        	lda	[<L320+pMenuAnchor_1],Y
  8272 04:2121: 48           	pha
  8273 04:2122: A7 11        	lda	[<L320+pMenuAnchor_1]
  8274 04:2124: 48           	pha
  8275 04:2125: F4 xx xx     	pea	#^L318+442
  8276 04:2128: F4 xx xx     	pea	#<L318+442
  8277 04:212B: 22 xx xx xx  	jsl	~~k_debug_strings
  8278                        ;					k_func_drawAncho
                    rText(pWin,k_getUIGadgetColor(),k_getUIMenuColor());
  8279                        	.line	1406
  8280 04:212F: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8281 04:2133: 48           	pha
  8282 04:2134: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  Wed Nov 18 2020  8:26                                                Page 159


  8283 04:2138: 48           	pha
  8284 04:2139: D4 0F        	pei	<L320+pWin_1+2
  8285 04:213B: D4 0D        	pei	<L320+pWin_1
  8286 04:213D: 22 8C 21 04  	jsl	~~k_func_drawAnchorText
  8287                        ;				}
  8288                        	.line	1407
  8289                        ;			}
  8290                        L10102:
  8291                        	.line	1408
  8292                        ;
  8293                        ;			break;
  8294                        L10101:
  8295                        	.line	1410
  8296 04:2141: 82 33 00     	brl	L10087
  8297                        ;		default:
  8298                        	.line	1411
  8299                        L10103:
  8300                        ;			break;
  8301                        	.line	1412
  8302 04:2144: 82 30 00     	brl	L10087
  8303                        ;		}
  8304                        	.line	1413
  8305                        L10086:
  8306                        	xref	~~~swt
  8307 04:2147: 22 xx xx xx  	jsl	~~~swt
  8308 04:214B: 0A 00        	dw	10
  8309 04:214D: 01 0F        	dw	3841
  8310 04:214F: 9C 20        	dw	L10098-1
  8311 04:2151: 02 0F        	dw	3842
  8312 04:2153: BB 20        	dw	L10099-1
  8313 04:2155: 04 0F        	dw	3844
  8314 04:2157: ED 1F        	dw	L10094-1
  8315 04:2159: 06 0F        	dw	3846
  8316 04:215B: 8F 20        	dw	L10097-1
  8317 04:215D: 00 FA        	dw	64000
  8318 04:215F: DA 20        	dw	L10100-1
  8319 04:2161: 00 FB        	dw	64256
  8320 04:2163: C1 1F        	dw	L10092-1
  8321 04:2165: 05 FB        	dw	64261
  8322 04:2167: 97 1F        	dw	L10091-1
  8323 04:2169: 06 FB        	dw	64262
  8324 04:216B: 7F 1F        	dw	L10090-1
  8325 04:216D: 07 FB        	dw	64263
  8326 04:216F: 72 1F        	dw	L10089-1
  8327 04:2171: 03 FF        	dw	65283
  8328 04:2173: 26 1F        	dw	L10088-1
  8329 04:2175: 43 21        	dw	L10103-1
  8330                        L10087:
  8331                        ;	}
  8332                        	.line	1414
  8333                        ;
  8334                        ;	return TRUE;
  8335                        L10085:
  8336                        	.line	1416
  8337 04:2177: A9 01 00     	lda	#$1
  8338                        L329:
  8339 04:217A: A8           	tay
  8340 04:217B: A5 18        	lda	<L319+2
  Wed Nov 18 2020  8:26                                                Page 160


  8341 04:217D: 85 1C        	sta	<L319+2+4
  8342 04:217F: A5 17        	lda	<L319+1
  8343 04:2181: 85 1B        	sta	<L319+1+4
  8344 04:2183: 2B           	pld
  8345 04:2184: 3B           	tsc
  8346 04:2185: 18           	clc
  8347 04:2186: 69 1A 00     	adc	#L319+4
  8348 04:2189: 1B           	tcs
  8349 04:218A: 98           	tya
  8350 04:218B: 6B           	rtl
  8351                        ;
  8352                        ;}
  8353                        	.line	1418
  8354                        	.endblock	1418
  8355             00000016   L319	equ	22
  8356             00000009   L320	equ	9
  8357 04:218C:              	ends
  8358                        	efunc
  8359                        	.endfunc	1418,9,22
  8360                        	.line	1418
  8361                        	data
  8362                        L318:
  8363 00:0425: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,
                    $57,$69,$6E,$64,$6F
       00:0429: 41 6E 63 68 
       00:042D: 6F 72 57 69 
       00:0431: 6E 64 6F 
  8364 00:0434: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $43,$52,$45,$41,$54
       00:0438: 63 3A 3A 46 
       00:043C: 58 5F 43 52 
       00:0440: 45 41 54 
  8365 00:0443: 45 5F 57 49  	db	$45,$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,
                    $00,$6D,$65,$6E,$75
       00:0447: 4E 44 4F 57 
       00:044B: 0D 0A 00 6D 
       00:044F: 65 6E 75 
  8366 00:0452: 41 6E 63 68  	db	$41,$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0456: 6F 72 57 69 
       00:045A: 6E 64 6F 77 
       00:045E: 50 72 6F 
  8367 00:0461: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$52,$45,$44,$52,
                    $41,$57,$5F,$57,$49
       00:0465: 58 5F 52 45 
       00:0469: 44 52 41 57 
       00:046D: 5F 57 49 
  8368 00:0470: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:0474: 0D 0A 00 6D 
       00:0478: 65 6E 75 41 
       00:047C: 6E 63 68 
  8369 00:047F: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0483: 6E 64 6F 77 
       00:0487: 50 72 6F 63 
       00:048B: 3A 3A 46 
  8370 00:048E: 58 5F 48 49  	db	$58,$5F,$48,$49,$44,$45,$5F,$57,$49,$4E,
  Wed Nov 18 2020  8:26                                                Page 161


                    $44,$4F,$57,$0D,$0A
       00:0492: 44 45 5F 57 
       00:0496: 49 4E 44 4F 
       00:049A: 57 0D 0A 
  8371 00:049D: 00 6D 65 6E  	db	$00,$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,
                    $72,$57,$69,$6E,$64
       00:04A1: 75 41 6E 63 
       00:04A5: 68 6F 72 57 
       00:04A9: 69 6E 64 
  8372 00:04AC: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$53,$48,$4F,$57
       00:04B0: 6F 63 3A 3A 
       00:04B4: 46 58 5F 53 
       00:04B8: 48 4F 57 
  8373 00:04BB: 5F 57 49 4E  	db	$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,$00,
                    $6D,$65,$6E,$75,$41
       00:04BF: 44 4F 57 0D 
       00:04C3: 0A 00 6D 65 
       00:04C7: 6E 75 41 
  8374 00:04CA: 6E 63 68 6F  	db	$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:04CE: 72 57 69 6E 
       00:04D2: 64 6F 77 50 
       00:04D6: 72 6F 63 
  8375 00:04D9: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,$5F,
                    $57,$49,$4E,$44,$4F
       00:04DD: 5F 44 52 41 
       00:04E1: 57 5F 57 49 
       00:04E5: 4E 44 4F 
  8376 00:04E8: 57 0D 0A 00  	db	$57,$0D,$0A,$00,$6D,$65,$6E,$75,$41,$6E,
                    $63,$68,$6F,$72,$57
       00:04EC: 6D 65 6E 75 
       00:04F0: 41 6E 63 68 
       00:04F4: 6F 72 57 
  8377 00:04F7: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4C
       00:04FB: 77 50 72 6F 
       00:04FF: 63 3A 3A 46 
       00:0503: 58 5F 4C 
  8378 00:0506: 42 55 54 54  	db	$42,$55,$54,$54,$4F,$4E,$5F,$44,$4F,$57,
                    $4E,$0D,$0A,$00,$6D
       00:050A: 4F 4E 5F 44 
       00:050E: 4F 57 4E 0D 
       00:0512: 0A 00 6D 
  8379 00:0515: 65 6E 75 41  	db	$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:0519: 6E 63 68 6F 
       00:051D: 72 57 69 6E 
       00:0521: 64 6F 77 
  8380 00:0524: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$57,$49,$4E,$44,
                    $4F,$57,$20,$53,$54
       00:0528: 3A 3A 57 49 
       00:052C: 4E 44 4F 57 
       00:0530: 20 53 54 
  8381 00:0533: 49 4C 4C 20  	db	$49,$4C,$4C,$20,$44,$52,$4F,$50,$50,$45,
                    $44,$0D,$0A,$00,$6D
       00:0537: 44 52 4F 50 
       00:053B: 50 45 44 0D 
  Wed Nov 18 2020  8:26                                                Page 162


       00:053F: 0A 00 6D 
  8382 00:0542: 65 6E 75 41  	db	$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:0546: 6E 63 68 6F 
       00:054A: 72 57 69 6E 
       00:054E: 64 6F 77 
  8383 00:0551: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,
                    $42,$55,$54,$54,$4F
       00:0555: 3A 3A 46 58 
       00:0559: 5F 4C 42 55 
       00:055D: 54 54 4F 
  8384 00:0560: 4E 5F 55 50  	db	$4E,$5F,$55,$50,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:0564: 0D 0A 00 6D 
       00:0568: 65 6E 75 41 
       00:056C: 6E 63 68 
  8385 00:056F: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0573: 6E 64 6F 77 
       00:0577: 50 72 6F 63 
       00:057B: 3A 3A 46 
  8386 00:057E: 58 5F 4D 4F  	db	$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,$4E,
                    $54,$45,$52,$0D,$0A
       00:0582: 55 53 45 5F 
       00:0586: 45 4E 54 45 
       00:058A: 52 0D 0A 
  8387 00:058D: 00 6D 65 6E  	db	$00,$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,
                    $72,$57,$69,$6E,$64
       00:0591: 75 41 6E 63 
       00:0595: 68 6F 72 57 
       00:0599: 69 6E 64 
  8388 00:059C: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$4D,$4F,$55,$53
       00:05A0: 6F 63 3A 3A 
       00:05A4: 46 58 5F 4D 
       00:05A8: 4F 55 53 
  8389 00:05AB: 45 5F 45 58  	db	$45,$5F,$45,$58,$49,$54,$0D,$0A,$00,$6D,
                    $65,$6E,$75,$41,$6E
       00:05AF: 49 54 0D 0A 
       00:05B3: 00 6D 65 6E 
       00:05B7: 75 41 6E 
  8390 00:05BA: 63 68 6F 72  	db	$63,$68,$6F,$72,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:05BE: 57 69 6E 64 
       00:05C2: 6F 77 50 72 
       00:05C6: 6F 63 3A 
  8391 00:05C9: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$43,$4F,$4E,$54,$52,$4F,
                    $4C,$5F,$43,$4F,$4D
       00:05CD: 43 4F 4E 54 
       00:05D1: 52 4F 4C 5F 
       00:05D5: 43 4F 4D 
  8392 00:05D8: 4D 41 4E 44  	db	$4D,$41,$4E,$44,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:05DC: 0D 0A 00 6D 
       00:05E0: 65 6E 75 41 
       00:05E4: 6E 63 68 
  8393 00:05E7: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$43
  Wed Nov 18 2020  8:26                                                Page 163


       00:05EB: 6E 64 6F 77 
       00:05EF: 50 72 6F 63 
       00:05F3: 3A 3A 43 
  8394 00:05F6: 54 4C 5F 43  	db	$54,$4C,$5F,$43,$4D,$44,$5F,$43,$41,$50,
                    $54,$49,$4F,$4E,$3A
       00:05FA: 4D 44 5F 43 
       00:05FE: 41 50 54 49 
       00:0602: 4F 4E 3A 
  8395 00:0605: 00           	db	$00
  8396 00:0606:              	ends
  8397                        ;
  8398                        ;void k_func_drawAnchorText(PWINDOW pWin,UINT font
                    Color,UINT menuColor)
  8399                        ;{
  8400                        	.line	1420
  8401                        	.line	1421
  8402                        	WINMAN
  8403                        	xdef	~~k_func_drawAnchorText
  8404                        	func
  8405                        	.function	1421
  8406                        ~~k_func_drawAnchorText:
  8407                        	longa	on
  8408                        	longi	on
  8409 04:218C: 3B           	tsc
  8410 04:218D: 38           	sec
  8411 04:218E: E9 0C 00     	sbc	#L331
  8412 04:2191: 1B           	tcs
  8413 04:2192: 0B           	phd
  8414 04:2193: 5B           	tcd
  8415             00000004   pWin_0	set	4
  8416             00000008   fontColor_0	set	8
  8417             0000000A   menuColor_0	set	10
  8418                        	.block	1421
  8419                        ;	k_vdma_fill_rect(pWin->win_x ,
  8420                        	.sym	pWin,4,138,6,32,24
  8421                        	.sym	fontColor,8,16,6,16
  8422                        	.sym	menuColor,10,16,6,16
  8423                        	.line	1422
  8424                        ;					 pWin->win_y,
  8425                        ;					 pWin->win_width
                    ,
  8426                        ;					 pWin->win_heigh
                    t,
  8427                        ;					 menuColor);
  8428 04:2194: D4 16        	pei	<L331+menuColor_0
  8429 04:2196: A0 0E 00     	ldy	#$e
  8430 04:2199: B7 10        	lda	[<L331+pWin_0],Y
  8431 04:219B: 48           	pha
  8432 04:219C: A0 0C 00     	ldy	#$c
  8433 04:219F: B7 10        	lda	[<L331+pWin_0],Y
  8434 04:21A1: 48           	pha
  8435 04:21A2: A0 00 00     	ldy	#$0
  8436 04:21A5: 5A           	phy
  8437 04:21A6: A0 0A 00     	ldy	#$a
  8438 04:21A9: B7 10        	lda	[<L331+pWin_0],Y
  8439 04:21AB: 7A           	ply
  8440 04:21AC: 2A           	rol	A
  8441 04:21AD: 6A           	ror	A
  Wed Nov 18 2020  8:26                                                Page 164


  8442 04:21AE: 10 01        	bpl	L334
  8443 04:21B0: 88           	dey
  8444                        L334:
  8445 04:21B1: 85 01        	sta	<R0
  8446 04:21B3: 84 03        	sty	<R0+2
  8447 04:21B5: D4 03        	pei	<R0+2
  8448 04:21B7: D4 01        	pei	<R0
  8449 04:21B9: A0 00 00     	ldy	#$0
  8450 04:21BC: 5A           	phy
  8451 04:21BD: A0 08 00     	ldy	#$8
  8452 04:21C0: B7 10        	lda	[<L331+pWin_0],Y
  8453 04:21C2: 7A           	ply
  8454 04:21C3: 2A           	rol	A
  8455 04:21C4: 6A           	ror	A
  8456 04:21C5: 10 01        	bpl	L335
  8457 04:21C7: 88           	dey
  8458                        L335:
  8459 04:21C8: 85 05        	sta	<R1
  8460 04:21CA: 84 07        	sty	<R1+2
  8461 04:21CC: D4 07        	pei	<R1+2
  8462 04:21CE: D4 05        	pei	<R1
  8463 04:21D0: 22 xx xx xx  	jsl	~~k_vdma_fill_rect
  8464                        ;
  8465                        ;	k_draw_text_point(((PMENUANCHOR)pWin->windowData
                    )->pCaption,
  8466                        	.line	1428
  8467                        ;	          	  	  //pWin->win_x + (pWin-
                    >win_width/2)  - (((PMENUANCHOR)pWin->windowData)->captionPi
                    xelWidth/2) - 2,
  8468                        ;					  //Win->win_y +
                     (pWin->win_height/2) - (FONTH/2)     ,
  8469                        ;					  pWin->win_x + 
                    (pWin->win_width/2) - (strlen(((PMENUANCHOR)pWin->windowData
                    )->pCaption) * FONTW/2)  ,
  8470                        ;					  pWin->win_y + 
                    (pWin->win_height/2) - (FONTH/2),
  8471                        ;					  fontColor) ;
  8472 04:21D4: D4 14        	pei	<L331+fontColor_0
  8473 04:21D6: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  8474 04:21DA: 85 05        	sta	<R1
  8475 04:21DC: A5 05        	lda	<R1
  8476 04:21DE: 4A           	lsr	A
  8477 04:21DF: 85 01        	sta	<R0
  8478 04:21E1: A0 0E 00     	ldy	#$e
  8479 04:21E4: B7 10        	lda	[<L331+pWin_0],Y
  8480 04:21E6: A2 02 00     	ldx	#<$2
  8481                        	xref	~~~div
  8482 04:21E9: 22 xx xx xx  	jsl	~~~div
  8483 04:21ED: 85 05        	sta	<R1
  8484 04:21EF: 18           	clc
  8485 04:21F0: A5 05        	lda	<R1
  8486 04:21F2: A0 0A 00     	ldy	#$a
  8487 04:21F5: 77 10        	adc	[<L331+pWin_0],Y
  8488 04:21F7: 85 09        	sta	<R2
  8489 04:21F9: 38           	sec
  8490 04:21FA: A5 09        	lda	<R2
  8491 04:21FC: E5 01        	sbc	<R0
  8492 04:21FE: 48           	pha
  Wed Nov 18 2020  8:26                                                Page 165


  8493 04:21FF: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8494 04:2203: 85 05        	sta	<R1
  8495 04:2205: A0 91 00     	ldy	#$91
  8496 04:2208: B7 10        	lda	[<L331+pWin_0],Y
  8497 04:220A: 85 09        	sta	<R2
  8498 04:220C: A0 93 00     	ldy	#$93
  8499 04:220F: B7 10        	lda	[<L331+pWin_0],Y
  8500 04:2211: 85 0B        	sta	<R2+2
  8501 04:2213: A0 02 00     	ldy	#$2
  8502 04:2216: B7 09        	lda	[<R2],Y
  8503 04:2218: 48           	pha
  8504 04:2219: A7 09        	lda	[<R2]
  8505 04:221B: 48           	pha
  8506 04:221C: 22 xx xx xx  	jsl	~~strlen
  8507 04:2220: 85 09        	sta	<R2
  8508 04:2222: A5 09        	lda	<R2
  8509 04:2224: A6 05        	ldx	<R1
  8510                        	xref	~~~mul
  8511 04:2226: 22 xx xx xx  	jsl	~~~mul
  8512 04:222A: 85 05        	sta	<R1
  8513 04:222C: A5 05        	lda	<R1
  8514 04:222E: 4A           	lsr	A
  8515 04:222F: 85 01        	sta	<R0
  8516 04:2231: A0 0C 00     	ldy	#$c
  8517 04:2234: B7 10        	lda	[<L331+pWin_0],Y
  8518 04:2236: A2 02 00     	ldx	#<$2
  8519                        	xref	~~~div
  8520 04:2239: 22 xx xx xx  	jsl	~~~div
  8521 04:223D: 85 05        	sta	<R1
  8522 04:223F: 18           	clc
  8523 04:2240: A5 05        	lda	<R1
  8524 04:2242: A0 08 00     	ldy	#$8
  8525 04:2245: 77 10        	adc	[<L331+pWin_0],Y
  8526 04:2247: 85 09        	sta	<R2
  8527 04:2249: 38           	sec
  8528 04:224A: A5 09        	lda	<R2
  8529 04:224C: E5 01        	sbc	<R0
  8530 04:224E: 48           	pha
  8531 04:224F: A0 91 00     	ldy	#$91
  8532 04:2252: B7 10        	lda	[<L331+pWin_0],Y
  8533 04:2254: 85 01        	sta	<R0
  8534 04:2256: A0 93 00     	ldy	#$93
  8535 04:2259: B7 10        	lda	[<L331+pWin_0],Y
  8536 04:225B: 85 03        	sta	<R0+2
  8537 04:225D: A0 02 00     	ldy	#$2
  8538 04:2260: B7 01        	lda	[<R0],Y
  8539 04:2262: 48           	pha
  8540 04:2263: A7 01        	lda	[<R0]
  8541 04:2265: 48           	pha
  8542 04:2266: 22 xx xx xx  	jsl	~~k_draw_text_point
  8543                        ;
  8544                        ;}
  8545                        	.line	1435
  8546                        L336:
  8547 04:226A: A5 0E        	lda	<L331+2
  8548 04:226C: 85 16        	sta	<L331+2+8
  8549 04:226E: A5 0D        	lda	<L331+1
  8550 04:2270: 85 15        	sta	<L331+1+8
  Wed Nov 18 2020  8:26                                                Page 166


  8551 04:2272: 2B           	pld
  8552 04:2273: 3B           	tsc
  8553 04:2274: 18           	clc
  8554 04:2275: 69 14 00     	adc	#L331+8
  8555 04:2278: 1B           	tcs
  8556 04:2279: 6B           	rtl
  8557                        	.endblock	1435
  8558             0000000C   L331	equ	12
  8559             0000000D   L332	equ	13
  8560 04:227A:              	ends
  8561                        	efunc
  8562                        	.endfunc	1435,13,12
  8563                        	.line	1435
  8564                        ;
  8565                        ;
  8566                        ;void k_size_dropdown_menus(LPVOID ctx,LPVOID data
                    )
  8567                        ;{
  8568                        	.line	1438
  8569                        	.line	1439
  8570                        	WINMAN
  8571                        	xdef	~~k_size_dropdown_menus
  8572                        	func
  8573                        	.function	1439
  8574                        ~~k_size_dropdown_menus:
  8575                        	longa	on
  8576                        	longi	on
  8577 04:227A: 3B           	tsc
  8578 04:227B: 38           	sec
  8579 04:227C: E9 20 00     	sbc	#L337
  8580 04:227F: 1B           	tcs
  8581 04:2280: 0B           	phd
  8582 04:2281: 5B           	tcd
  8583             00000004   ctx_0	set	4
  8584             00000008   data_0	set	8
  8585                        	.block	1439
  8586                        ;	int i = 0;
  8587                        ;	//PRECT prect = ctx;
  8588                        ;	PWINDOW pMenuItem = NULL;
  8589                        ;	PMENUDROPDOWNDATA pmdd = (PMENUDROPDOWNDATA)ctx;
  8590                        ;	PMENU pMenu = (PMENU)data;
  8591                        ;	UINT  size = 0;
  8592                        ;
  8593                        ;	//k_debug_strings("k_size_dropdown_menus:","Ente
                    r");
  8594                        ;
  8595                        ;	if(pMenu->pCaption)
  8596             00000000   i_1	set	0
  8597             00000002   pMenuItem_1	set	2
  8598             00000006   pmdd_1	set	6
  8599             0000000A   pMenu_1	set	10
  8600             0000000E   size_1	set	14
  8601                        	.sym	i,0,5,1,16
  8602                        	.sym	pMenuItem,2,138,1,32,24
  8603                        	.sym	pmdd,6,138,1,32,31
  8604                        	.sym	pMenu,10,138,1,32,29
  8605                        	.sym	size,14,16,1,16
  8606                        	.sym	ctx,4,129,6,32
  Wed Nov 18 2020  8:26                                                Page 167


  8607                        	.sym	data,8,129,6,32
  8608 04:2282: 64 11        	stz	<L338+i_1
  8609 04:2284: 64 13        	stz	<L338+pMenuItem_1
  8610 04:2286: 64 15        	stz	<L338+pMenuItem_1+2
  8611 04:2288: A5 24        	lda	<L337+ctx_0
  8612 04:228A: 85 17        	sta	<L338+pmdd_1
  8613 04:228C: A5 26        	lda	<L337+ctx_0+2
  8614 04:228E: 85 19        	sta	<L338+pmdd_1+2
  8615 04:2290: A5 28        	lda	<L337+data_0
  8616 04:2292: 85 1B        	sta	<L338+pMenu_1
  8617 04:2294: A5 2A        	lda	<L337+data_0+2
  8618 04:2296: 85 1D        	sta	<L338+pMenu_1+2
  8619 04:2298: 64 1F        	stz	<L338+size_1
  8620                        	.line	1449
  8621                        ;	{
  8622 04:229A: A0 0F 00     	ldy	#$f
  8623 04:229D: B7 1B        	lda	[<L338+pMenu_1],Y
  8624 04:229F: A0 11 00     	ldy	#$11
  8625 04:22A2: 17 1B        	ora	[<L338+pMenu_1],Y
  8626 04:22A4: D0 03        	bne	L340
  8627 04:22A6: 82 E2 01     	brl	L10104
  8628                        L340:
  8629                        	.line	1450
  8630                        ;		//k_debug_integer("k_size_dropdown_menus
                    :height:",pmdd->rect.height);
  8631                        ;		k_debug_strings("k_size_dropdown_menus:"
                    ,(LPCHAR)pMenu->pCaption);
  8632                        	.line	1452
  8633 04:22A9: A0 11 00     	ldy	#$11
  8634 04:22AC: B7 1B        	lda	[<L338+pMenu_1],Y
  8635 04:22AE: 48           	pha
  8636 04:22AF: A0 0F 00     	ldy	#$f
  8637 04:22B2: B7 1B        	lda	[<L338+pMenu_1],Y
  8638 04:22B4: 48           	pha
  8639 04:22B5: F4 xx xx     	pea	#^L330
  8640 04:22B8: F4 xx xx     	pea	#<L330
  8641 04:22BB: 22 xx xx xx  	jsl	~~k_debug_strings
  8642                        ;		while(pmdd->captions[i])
  8643                        	.line	1453
  8644                        L10105:
  8645 04:22BF: A0 00 00     	ldy	#$0
  8646 04:22C2: A5 11        	lda	<L338+i_1
  8647 04:22C4: 10 01        	bpl	L341
  8648 04:22C6: 88           	dey
  8649                        L341:
  8650 04:22C7: 85 05        	sta	<R1
  8651 04:22C9: 84 07        	sty	<R1+2
  8652 04:22CB: D4 07        	pei	<R1+2
  8653 04:22CD: D4 05        	pei	<R1
  8654 04:22CF: A9 02 00     	lda	#$2
  8655                        	xref	~~~lasl
  8656 04:22D2: 22 xx xx xx  	jsl	~~~lasl
  8657 04:22D6: 85 01        	sta	<R0
  8658 04:22D8: 86 03        	stx	<R0+2
  8659 04:22DA: 18           	clc
  8660 04:22DB: A9 0C 00     	lda	#$c
  8661 04:22DE: 65 17        	adc	<L338+pmdd_1
  8662 04:22E0: 85 09        	sta	<R2
  Wed Nov 18 2020  8:26                                                Page 168


  8663 04:22E2: A9 00 00     	lda	#$0
  8664 04:22E5: 65 19        	adc	<L338+pmdd_1+2
  8665 04:22E7: 85 0B        	sta	<R2+2
  8666 04:22E9: 18           	clc
  8667 04:22EA: A5 09        	lda	<R2
  8668 04:22EC: 65 01        	adc	<R0
  8669 04:22EE: 85 0D        	sta	<R3
  8670 04:22F0: A5 0B        	lda	<R2+2
  8671 04:22F2: 65 03        	adc	<R0+2
  8672 04:22F4: 85 0F        	sta	<R3+2
  8673 04:22F6: A7 0D        	lda	[<R3]
  8674 04:22F8: A0 02 00     	ldy	#$2
  8675 04:22FB: 17 0D        	ora	[<R3],Y
  8676 04:22FD: D0 03        	bne	L342
  8677 04:22FF: 82 05 00     	brl	L10106
  8678                        L342:
  8679                        ;		{
  8680                        	.line	1454
  8681                        ;			i++;
  8682                        	.line	1455
  8683 04:2302: E6 11        	inc	<L338+i_1
  8684                        ;		}
  8685                        	.line	1456
  8686 04:2304: 82 B8 FF     	brl	L10105
  8687                        L10106:
  8688                        ;		pmdd->ids[i] = pMenu->itemId;
  8689                        	.line	1457
  8690 04:2307: A0 00 00     	ldy	#$0
  8691 04:230A: A5 11        	lda	<L338+i_1
  8692 04:230C: 10 01        	bpl	L343
  8693 04:230E: 88           	dey
  8694                        L343:
  8695 04:230F: 85 05        	sta	<R1
  8696 04:2311: 84 07        	sty	<R1+2
  8697 04:2313: D4 07        	pei	<R1+2
  8698 04:2315: D4 05        	pei	<R1
  8699 04:2317: A9 01 00     	lda	#$1
  8700                        	xref	~~~lasl
  8701 04:231A: 22 xx xx xx  	jsl	~~~lasl
  8702 04:231E: 85 01        	sta	<R0
  8703 04:2320: 86 03        	stx	<R0+2
  8704 04:2322: 18           	clc
  8705 04:2323: A9 6C 00     	lda	#$6c
  8706 04:2326: 65 17        	adc	<L338+pmdd_1
  8707 04:2328: 85 09        	sta	<R2
  8708 04:232A: A9 00 00     	lda	#$0
  8709 04:232D: 65 19        	adc	<L338+pmdd_1+2
  8710 04:232F: 85 0B        	sta	<R2+2
  8711 04:2331: 18           	clc
  8712 04:2332: A5 09        	lda	<R2
  8713 04:2334: 65 01        	adc	<R0
  8714 04:2336: 85 0D        	sta	<R3
  8715 04:2338: A5 0B        	lda	<R2+2
  8716 04:233A: 65 03        	adc	<R0+2
  8717 04:233C: 85 0F        	sta	<R3+2
  8718 04:233E: A0 0D 00     	ldy	#$d
  8719 04:2341: B7 1B        	lda	[<L338+pMenu_1],Y
  8720 04:2343: 87 0D        	sta	[<R3]
  Wed Nov 18 2020  8:26                                                Page 169


  8721                        ;		//k_debug_integer("k_size_dropdown_menus
                    :id:",pmdd->ids[i]);
  8722                        ;
  8723                        ;		pmdd->captions[i] = (LPCSTR)((PMENU)data
                    )->pCaption;
  8724                        	.line	1460
  8725 04:2345: A0 00 00     	ldy	#$0
  8726 04:2348: A5 11        	lda	<L338+i_1
  8727 04:234A: 10 01        	bpl	L344
  8728 04:234C: 88           	dey
  8729                        L344:
  8730 04:234D: 85 05        	sta	<R1
  8731 04:234F: 84 07        	sty	<R1+2
  8732 04:2351: D4 07        	pei	<R1+2
  8733 04:2353: D4 05        	pei	<R1
  8734 04:2355: A9 02 00     	lda	#$2
  8735                        	xref	~~~lasl
  8736 04:2358: 22 xx xx xx  	jsl	~~~lasl
  8737 04:235C: 85 01        	sta	<R0
  8738 04:235E: 86 03        	stx	<R0+2
  8739 04:2360: 18           	clc
  8740 04:2361: A9 0C 00     	lda	#$c
  8741 04:2364: 65 17        	adc	<L338+pmdd_1
  8742 04:2366: 85 09        	sta	<R2
  8743 04:2368: A9 00 00     	lda	#$0
  8744 04:236B: 65 19        	adc	<L338+pmdd_1+2
  8745 04:236D: 85 0B        	sta	<R2+2
  8746 04:236F: 18           	clc
  8747 04:2370: A5 09        	lda	<R2
  8748 04:2372: 65 01        	adc	<R0
  8749 04:2374: 85 0D        	sta	<R3
  8750 04:2376: A5 0B        	lda	<R2+2
  8751 04:2378: 65 03        	adc	<R0+2
  8752 04:237A: 85 0F        	sta	<R3+2
  8753 04:237C: A0 0F 00     	ldy	#$f
  8754 04:237F: B7 28        	lda	[<L337+data_0],Y
  8755 04:2381: 87 0D        	sta	[<R3]
  8756 04:2383: A0 11 00     	ldy	#$11
  8757 04:2386: B7 28        	lda	[<L337+data_0],Y
  8758 04:2388: A0 02 00     	ldy	#$2
  8759 04:238B: 97 0D        	sta	[<R3],Y
  8760                        ;		k_debug_strings("k_size_dropdown_menus:"
                    ,(LPCHAR)pmdd->captions[i]);
  8761                        	.line	1461
  8762 04:238D: A0 00 00     	ldy	#$0
  8763 04:2390: A5 11        	lda	<L338+i_1
  8764 04:2392: 10 01        	bpl	L345
  8765 04:2394: 88           	dey
  8766                        L345:
  8767 04:2395: 85 05        	sta	<R1
  8768 04:2397: 84 07        	sty	<R1+2
  8769 04:2399: D4 07        	pei	<R1+2
  8770 04:239B: D4 05        	pei	<R1
  8771 04:239D: A9 02 00     	lda	#$2
  8772                        	xref	~~~lasl
  8773 04:23A0: 22 xx xx xx  	jsl	~~~lasl
  8774 04:23A4: 85 01        	sta	<R0
  8775 04:23A6: 86 03        	stx	<R0+2
  Wed Nov 18 2020  8:26                                                Page 170


  8776 04:23A8: 18           	clc
  8777 04:23A9: A9 0C 00     	lda	#$c
  8778 04:23AC: 65 17        	adc	<L338+pmdd_1
  8779 04:23AE: 85 09        	sta	<R2
  8780 04:23B0: A9 00 00     	lda	#$0
  8781 04:23B3: 65 19        	adc	<L338+pmdd_1+2
  8782 04:23B5: 85 0B        	sta	<R2+2
  8783 04:23B7: 18           	clc
  8784 04:23B8: A5 09        	lda	<R2
  8785 04:23BA: 65 01        	adc	<R0
  8786 04:23BC: 85 0D        	sta	<R3
  8787 04:23BE: A5 0B        	lda	<R2+2
  8788 04:23C0: 65 03        	adc	<R0+2
  8789 04:23C2: 85 0F        	sta	<R3+2
  8790 04:23C4: A0 02 00     	ldy	#$2
  8791 04:23C7: B7 0D        	lda	[<R3],Y
  8792 04:23C9: 48           	pha
  8793 04:23CA: A7 0D        	lda	[<R3]
  8794 04:23CC: 48           	pha
  8795 04:23CD: F4 xx xx     	pea	#^L330+23
  8796 04:23D0: F4 xx xx     	pea	#<L330+23
  8797 04:23D3: 22 xx xx xx  	jsl	~~k_debug_strings
  8798                        ;
  8799                        ;
  8800                        ;		pmdd->captions[i+1] = NULL;
  8801                        	.line	1464
  8802 04:23D7: A5 11        	lda	<L338+i_1
  8803 04:23D9: 1A           	ina
  8804 04:23DA: 85 05        	sta	<R1
  8805 04:23DC: A0 00 00     	ldy	#$0
  8806 04:23DF: A5 05        	lda	<R1
  8807 04:23E1: 10 01        	bpl	L346
  8808 04:23E3: 88           	dey
  8809                        L346:
  8810 04:23E4: 85 05        	sta	<R1
  8811 04:23E6: 84 07        	sty	<R1+2
  8812 04:23E8: D4 07        	pei	<R1+2
  8813 04:23EA: D4 05        	pei	<R1
  8814 04:23EC: A9 02 00     	lda	#$2
  8815                        	xref	~~~lasl
  8816 04:23EF: 22 xx xx xx  	jsl	~~~lasl
  8817 04:23F3: 85 01        	sta	<R0
  8818 04:23F5: 86 03        	stx	<R0+2
  8819 04:23F7: 18           	clc
  8820 04:23F8: A9 0C 00     	lda	#$c
  8821 04:23FB: 65 17        	adc	<L338+pmdd_1
  8822 04:23FD: 85 09        	sta	<R2
  8823 04:23FF: A9 00 00     	lda	#$0
  8824 04:2402: 65 19        	adc	<L338+pmdd_1+2
  8825 04:2404: 85 0B        	sta	<R2+2
  8826 04:2406: 18           	clc
  8827 04:2407: A5 09        	lda	<R2
  8828 04:2409: 65 01        	adc	<R0
  8829 04:240B: 85 0D        	sta	<R3
  8830 04:240D: A5 0B        	lda	<R2+2
  8831 04:240F: 65 03        	adc	<R0+2
  8832 04:2411: 85 0F        	sta	<R3+2
  8833 04:2413: A9 00 00     	lda	#$0
  Wed Nov 18 2020  8:26                                                Page 171


  8834 04:2416: 87 0D        	sta	[<R3]
  8835 04:2418: A9 00 00     	lda	#$0
  8836 04:241B: A0 02 00     	ldy	#$2
  8837 04:241E: 97 0D        	sta	[<R3],Y
  8838                        ;
  8839                        ;
  8840                        ;		size = (strlen(pMenu->pCaption) + 2)* FO
                    NTW;
  8841                        	.line	1467
  8842 04:2420: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8843 04:2424: 85 01        	sta	<R0
  8844 04:2426: A0 11 00     	ldy	#$11
  8845 04:2429: B7 1B        	lda	[<L338+pMenu_1],Y
  8846 04:242B: 48           	pha
  8847 04:242C: A0 0F 00     	ldy	#$f
  8848 04:242F: B7 1B        	lda	[<L338+pMenu_1],Y
  8849 04:2431: 48           	pha
  8850 04:2432: 22 xx xx xx  	jsl	~~strlen
  8851 04:2436: 85 05        	sta	<R1
  8852 04:2438: 18           	clc
  8853 04:2439: A9 02 00     	lda	#$2
  8854 04:243C: 65 05        	adc	<R1
  8855 04:243E: 85 09        	sta	<R2
  8856 04:2440: A5 09        	lda	<R2
  8857 04:2442: A6 01        	ldx	<R0
  8858                        	xref	~~~mul
  8859 04:2444: 22 xx xx xx  	jsl	~~~mul
  8860 04:2448: 85 1F        	sta	<L338+size_1
  8861                        ;		//k_debug_integer("k_size_dropdown_menus
                    :size:",size);
  8862                        ;
  8863                        ;
  8864                        ;
  8865                        ;		if(size > pmdd->rect.width)
  8866                        	.line	1472
  8867                        ;			pmdd->rect.width = size;
  8868 04:244A: A0 08 00     	ldy	#$8
  8869 04:244D: B7 17        	lda	[<L338+pmdd_1],Y
  8870 04:244F: C5 1F        	cmp	<L338+size_1
  8871 04:2451: 90 03        	bcc	L347
  8872 04:2453: 82 07 00     	brl	L10107
  8873                        L347:
  8874                        	.line	1473
  8875 04:2456: A5 1F        	lda	<L338+size_1
  8876 04:2458: A0 08 00     	ldy	#$8
  8877 04:245B: 97 17        	sta	[<L338+pmdd_1],Y
  8878                        ;		pmdd->rect.height+=(FONTH + FONTH/2);
  8879                        L10107:
  8880                        	.line	1474
  8881 04:245D: 18           	clc
  8882 04:245E: A9 0A 00     	lda	#$a
  8883 04:2461: 65 17        	adc	<L338+pmdd_1
  8884 04:2463: 85 01        	sta	<R0
  8885 04:2465: A9 00 00     	lda	#$0
  8886 04:2468: 65 19        	adc	<L338+pmdd_1+2
  8887 04:246A: 85 03        	sta	<R0+2
  8888 04:246C: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  8889 04:2470: 85 05        	sta	<R1
  Wed Nov 18 2020  8:26                                                Page 172


  8890 04:2472: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  8891 04:2476: 85 0D        	sta	<R3
  8892 04:2478: A5 0D        	lda	<R3
  8893 04:247A: 4A           	lsr	A
  8894 04:247B: 85 09        	sta	<R2
  8895 04:247D: 18           	clc
  8896 04:247E: A5 09        	lda	<R2
  8897 04:2480: 65 05        	adc	<R1
  8898 04:2482: 85 0D        	sta	<R3
  8899 04:2484: 18           	clc
  8900 04:2485: A5 0D        	lda	<R3
  8901 04:2487: 67 01        	adc	[<R0]
  8902 04:2489: 87 01        	sta	[<R0]
  8903                        ;	}
  8904                        	.line	1475
  8905                        ;}
  8906                        L10104:
  8907                        	.line	1476
  8908                        L348:
  8909 04:248B: A5 22        	lda	<L337+2
  8910 04:248D: 85 2A        	sta	<L337+2+8
  8911 04:248F: A5 21        	lda	<L337+1
  8912 04:2491: 85 29        	sta	<L337+1+8
  8913 04:2493: 2B           	pld
  8914 04:2494: 3B           	tsc
  8915 04:2495: 18           	clc
  8916 04:2496: 69 28 00     	adc	#L337+8
  8917 04:2499: 1B           	tcs
  8918 04:249A: 6B           	rtl
  8919                        	.endblock	1476
  8920             00000020   L337	equ	32
  8921             00000011   L338	equ	17
  8922 04:249B:              	ends
  8923                        	efunc
  8924                        	.endfunc	1476,17,32
  8925                        	.line	1476
  8926                        	data
  8927                        L330:
  8928 00:0606: 6B 5F 73 69  	db	$6B,$5F,$73,$69,$7A,$65,$5F,$64,$72,$6F,
                    $70,$64,$6F,$77,$6E
       00:060A: 7A 65 5F 64 
       00:060E: 72 6F 70 64 
       00:0612: 6F 77 6E 
  8929 00:0615: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$73,$3A,$00,$6B,$5F,
                    $73,$69,$7A,$65,$5F
       00:0619: 75 73 3A 00 
       00:061D: 6B 5F 73 69 
       00:0621: 7A 65 5F 
  8930 00:0624: 64 72 6F 70  	db	$64,$72,$6F,$70,$64,$6F,$77,$6E,$5F,$6D,
                    $65,$6E,$75,$73,$3A
       00:0628: 64 6F 77 6E 
       00:062C: 5F 6D 65 6E 
       00:0630: 75 73 3A 
  8931 00:0633: 00           	db	$00
  8932 00:0634:              	ends
  8933                        ;
  8934                        ;
  8935                        ;
  Wed Nov 18 2020  8:26                                                Page 173


  8936                        ;
  8937                        ;PWINDOW	k_user_CreateMenuDropDown(HWND hWndParen
                    t,LPCSTR caption,HMENU hMenu,int x,int y,int width,int heigh
                    t)
  8938                        ;{
  8939                        	.line	1481
  8940                        	.line	1482
  8941                        	WINMAN
  8942                        	xdef	~~k_user_CreateMenuDropDown
  8943                        	func
  8944                        	.function	1482
  8945                        ~~k_user_CreateMenuDropDown:
  8946                        	longa	on
  8947                        	longi	on
  8948 04:249B: 3B           	tsc
  8949 04:249C: 38           	sec
  8950 04:249D: E9 26 00     	sbc	#L350
  8951 04:24A0: 1B           	tcs
  8952 04:24A1: 0B           	phd
  8953 04:24A2: 5B           	tcd
  8954             00000004   hWndParent_0	set	4
  8955             00000008   caption_0	set	8
  8956             0000000C   hMenu_0	set	12
  8957             00000010   x_0	set	16
  8958             00000012   y_0	set	18
  8959             00000014   width_0	set	20
  8960             00000016   height_0	set	22
  8961                        	.block	1482
  8962                        ;	PWINDOW pWin  = NULL;
  8963                        ;	PMENU   pMenu = NULL;
  8964                        ;	PMENUDROPDOWNDATA pddmData = NULL;
  8965                        ;	RECT rect;
  8966                        ;	int i;
  8967                        ;	k_debug_strings("k_user_CreateMenuDropDown:","En
                    ter");
  8968             00000000   pWin_1	set	0
  8969             00000004   pMenu_1	set	4
  8970             00000008   pddmData_1	set	8
  8971             0000000C   rect_1	set	12
  8972             00000014   i_1	set	20
  8973                        	.sym	pWin,0,138,1,32,24
  8974                        	.sym	pMenu,4,138,1,32,29
  8975                        	.sym	pddmData,8,138,1,32,31
  8976                        	.sym	rect,12,10,1,64,22
  8977                        	.sym	i,20,5,1,16
  8978                        	.sym	hWndParent,4,129,6,32
  8979                        	.sym	caption,8,142,6,32
  8980                        	.sym	hMenu,12,129,6,32
  8981                        	.sym	x,16,5,6,16
  8982                        	.sym	y,18,5,6,16
  8983                        	.sym	width,20,5,6,16
  8984                        	.sym	height,22,5,6,16
  8985 04:24A3: 64 11        	stz	<L351+pWin_1
  8986 04:24A5: 64 13        	stz	<L351+pWin_1+2
  8987 04:24A7: 64 15        	stz	<L351+pMenu_1
  8988 04:24A9: 64 17        	stz	<L351+pMenu_1+2
  8989 04:24AB: 64 19        	stz	<L351+pddmData_1
  8990 04:24AD: 64 1B        	stz	<L351+pddmData_1+2
  Wed Nov 18 2020  8:26                                                Page 174


  8991                        	.line	1488
  8992 04:24AF: F4 xx xx     	pea	#^L349+27
  8993 04:24B2: F4 xx xx     	pea	#<L349+27
  8994 04:24B5: F4 xx xx     	pea	#^L349
  8995 04:24B8: F4 xx xx     	pea	#<L349
  8996 04:24BB: 22 xx xx xx  	jsl	~~k_debug_strings
  8997                        ;
  8998                        ;
  8999                        ;	if(hMenu)
  9000                        	.line	1491
  9001                        ;	{
  9002 04:24BF: A5 32        	lda	<L350+hMenu_0
  9003 04:24C1: 05 34        	ora	<L350+hMenu_0+2
  9004 04:24C3: D0 03        	bne	L353
  9005 04:24C5: 82 5E 01     	brl	L10108
  9006                        L353:
  9007                        	.line	1492
  9008                        ;		rect.x = 0;
  9009                        	.line	1493
  9010 04:24C8: 64 1D        	stz	<L351+rect_1
  9011                        ;		rect.y = 0;
  9012                        	.line	1494
  9013 04:24CA: 64 1F        	stz	<L351+rect_1+2
  9014                        ;		rect.height = 0;
  9015                        	.line	1495
  9016 04:24CC: 64 23        	stz	<L351+rect_1+6
  9017                        ;		rect.width = 0;
  9018                        	.line	1496
  9019 04:24CE: 64 21        	stz	<L351+rect_1+4
  9020                        ;		pMenu = (PMENU)hMenu;
  9021                        	.line	1497
  9022 04:24D0: A5 32        	lda	<L350+hMenu_0
  9023 04:24D2: 85 15        	sta	<L351+pMenu_1
  9024 04:24D4: A5 34        	lda	<L350+hMenu_0+2
  9025 04:24D6: 85 17        	sta	<L351+pMenu_1+2
  9026                        ;
  9027                        ;		pddmData = (PMENUDROPDOWNDATA)k_mem_allo
                    cate_heap(sizeof(MENUDROPDOWNDATA));
  9028                        	.line	1499
  9029 04:24D8: F4 A6 01     	pea	#<$1a6
  9030 04:24DB: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9031 04:24DF: 85 19        	sta	<L351+pddmData_1
  9032 04:24E1: 86 1B        	stx	<L351+pddmData_1+2
  9033                        ;
  9034                        ;		if(pddmData)
  9035                        	.line	1501
  9036                        ;		{
  9037 04:24E3: A5 19        	lda	<L351+pddmData_1
  9038 04:24E5: 05 1B        	ora	<L351+pddmData_1+2
  9039 04:24E7: D0 03        	bne	L354
  9040 04:24E9: 82 3A 01     	brl	L10109
  9041                        L354:
  9042                        	.line	1502
  9043                        ;			memset(pddmData,0,sizeof(MENUDRO
                    PDOWNDATA));
  9044                        	.line	1503
  9045 04:24EC: F4 A6 01     	pea	#<$1a6
  9046 04:24EF: F4 00 00     	pea	#<$0
  Wed Nov 18 2020  8:26                                                Page 175


  9047 04:24F2: D4 1B        	pei	<L351+pddmData_1+2
  9048 04:24F4: D4 19        	pei	<L351+pddmData_1
  9049 04:24F6: 22 xx xx xx  	jsl	~~memset
  9050                        ;
  9051                        ;			k_debug_pointer("k_user_CreateMe
                    nuDropDown:pMenu:",pMenu);
  9052                        	.line	1505
  9053 04:24FA: D4 17        	pei	<L351+pMenu_1+2
  9054 04:24FC: D4 15        	pei	<L351+pMenu_1
  9055 04:24FE: F4 xx xx     	pea	#^L349+33
  9056 04:2501: F4 xx xx     	pea	#<L349+33
  9057 04:2504: 22 xx xx xx  	jsl	~~k_debug_pointer
  9058                        ;
  9059                        ;			k_nodelist_foreach_type(pMenu->s
                    ubMenus,
  9060                        	.line	1507
  9061                        ;							
                    		NL_TYPE_WINDOW_MENU,
  9062                        ;							
                    		pddmData,
  9063                        ;							
                    		k_size_dropdown_menus);
  9064 04:2508: F4 04 00     	pea	#^~~k_size_dropdown_menus
  9065 04:250B: F4 7A 22     	pea	#<~~k_size_dropdown_menus
  9066 04:250E: D4 1B        	pei	<L351+pddmData_1+2
  9067 04:2510: D4 19        	pei	<L351+pddmData_1
  9068 04:2512: F4 03 00     	pea	#<$3
  9069 04:2515: A0 15 00     	ldy	#$15
  9070 04:2518: B7 15        	lda	[<L351+pMenu_1],Y
  9071 04:251A: 48           	pha
  9072 04:251B: A0 13 00     	ldy	#$13
  9073 04:251E: B7 15        	lda	[<L351+pMenu_1],Y
  9074 04:2520: 48           	pha
  9075 04:2521: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
  9076                        ;
  9077                        ;
  9078                        ;			pWin = k_user_CreateWindow(FXWS_
                    VISIBLE | FXWS_BORDER,
  9079                        	.line	1513
  9080                        ;							
                    		   "menuDropDownWindowClass",
  9081                        ;							
                    			caption,
  9082                        ;							
                    			x,y,
  9083                        ;							
                    			pddmData->rect.width,
  9084                        ;							
                    			pddmData->rect.height,
  9085                        ;							
                    			hWndParent,//k_user_getDesktopWindow(),
  9086                        ;							
                    			(HMENU)hMenu,
  9087                        ;							
                    			NULL);
  9088 04:2525: F4 00 00     	pea	#^$0
  9089 04:2528: F4 00 00     	pea	#<$0
  9090 04:252B: D4 34        	pei	<L350+hMenu_0+2
  Wed Nov 18 2020  8:26                                                Page 176


  9091 04:252D: D4 32        	pei	<L350+hMenu_0
  9092 04:252F: D4 2C        	pei	<L350+hWndParent_0+2
  9093 04:2531: D4 2A        	pei	<L350+hWndParent_0
  9094 04:2533: A0 0A 00     	ldy	#$a
  9095 04:2536: B7 19        	lda	[<L351+pddmData_1],Y
  9096 04:2538: 48           	pha
  9097 04:2539: A0 08 00     	ldy	#$8
  9098 04:253C: B7 19        	lda	[<L351+pddmData_1],Y
  9099 04:253E: 48           	pha
  9100 04:253F: D4 38        	pei	<L350+y_0
  9101 04:2541: D4 36        	pei	<L350+x_0
  9102 04:2543: D4 30        	pei	<L350+caption_0+2
  9103 04:2545: D4 2E        	pei	<L350+caption_0
  9104 04:2547: F4 xx xx     	pea	#^L349+66
  9105 04:254A: F4 xx xx     	pea	#<L349+66
  9106 04:254D: F4 01 00     	pea	#^$10001
  9107 04:2550: F4 01 00     	pea	#<$10001
  9108 04:2553: 22 DB 0D 04  	jsl	~~k_user_CreateWindow
  9109 04:2557: 85 11        	sta	<L351+pWin_1
  9110 04:2559: 86 13        	stx	<L351+pWin_1+2
  9111                        ;
  9112                        ;			//k_debug_pointer("k_user_Create
                    MenuDropDown:pWin:",pWin);
  9113                        ;			if(pWin)
  9114                        	.line	1524
  9115                        ;			{
  9116 04:255B: A5 11        	lda	<L351+pWin_1
  9117 04:255D: 05 13        	ora	<L351+pWin_1+2
  9118 04:255F: D0 03        	bne	L355
  9119 04:2561: 82 C2 00     	brl	L10110
  9120                        L355:
  9121                        	.line	1525
  9122                        ;				pWin->windowData = pddmD
                    ata;
  9123                        	.line	1526
  9124 04:2564: A5 19        	lda	<L351+pddmData_1
  9125 04:2566: A0 91 00     	ldy	#$91
  9126 04:2569: 97 11        	sta	[<L351+pWin_1],Y
  9127 04:256B: A5 1B        	lda	<L351+pddmData_1+2
  9128 04:256D: A0 93 00     	ldy	#$93
  9129 04:2570: 97 11        	sta	[<L351+pWin_1],Y
  9130                        ;
  9131                        ;				pddmData->pParent = pWin
                    ;
  9132                        	.line	1528
  9133 04:2572: A5 11        	lda	<L351+pWin_1
  9134 04:2574: 87 19        	sta	[<L351+pddmData_1]
  9135 04:2576: A5 13        	lda	<L351+pWin_1+2
  9136 04:2578: A0 02 00     	ldy	#$2
  9137 04:257B: 97 19        	sta	[<L351+pddmData_1],Y
  9138                        ;				pddmData->selected = -1;
  9139                        	.line	1529
  9140 04:257D: A9 FF FF     	lda	#$ffff
  9141 04:2580: A0 A4 01     	ldy	#$1a4
  9142 04:2583: 97 19        	sta	[<L351+pddmData_1],Y
  9143                        ;
  9144                        ;				/*
  9145                        ;
  Wed Nov 18 2020  8:26                                                Page 177


  9146                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::win_x:", pWin->win_x);
  9147                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::win_y:", pWin->win_y);
  9148                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::rect.width:", pddmData->rect.width);
  9149                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::rect.height:", pddmData->rect.height);
  9150                        ;
  9151                        ;
  9152                        ;				k_debug_pointer("k_user_
                    CreateMenuDropDown:pWin:",pWin);
  9153                        ;				k_debug_pointer("k_user_
                    CreateMenuDropDown:ParentWin:",k_getWindowFromHandle(hWndPar
                    ent));
  9154                        ;				*/
  9155                        ;				for(i=0;i<24;i++)
  9156                        	.line	1542
  9157 04:2585: 64 25        	stz	<L351+i_1
  9158                        L10113:
  9159                        ;				{
  9160                        	.line	1543
  9161                        ;					if(pddmData->cap
                    tions[i])
  9162                        	.line	1544
  9163                        ;						k_debug_
                    strings("k_user_CreateMenuDropDown[pddmData]::caption:", (LP
                    STR)pddmData->captions[i]);
  9164 04:2587: A0 00 00     	ldy	#$0
  9165 04:258A: A5 25        	lda	<L351+i_1
  9166 04:258C: 10 01        	bpl	L356
  9167 04:258E: 88           	dey
  9168                        L356:
  9169 04:258F: 85 05        	sta	<R1
  9170 04:2591: 84 07        	sty	<R1+2
  9171 04:2593: D4 07        	pei	<R1+2
  9172 04:2595: D4 05        	pei	<R1
  9173 04:2597: A9 02 00     	lda	#$2
  9174                        	xref	~~~lasl
  9175 04:259A: 22 xx xx xx  	jsl	~~~lasl
  9176 04:259E: 85 01        	sta	<R0
  9177 04:25A0: 86 03        	stx	<R0+2
  9178 04:25A2: 18           	clc
  9179 04:25A3: A9 0C 00     	lda	#$c
  9180 04:25A6: 65 19        	adc	<L351+pddmData_1
  9181 04:25A8: 85 09        	sta	<R2
  9182 04:25AA: A9 00 00     	lda	#$0
  9183 04:25AD: 65 1B        	adc	<L351+pddmData_1+2
  9184 04:25AF: 85 0B        	sta	<R2+2
  9185 04:25B1: 18           	clc
  9186 04:25B2: A5 09        	lda	<R2
  9187 04:25B4: 65 01        	adc	<R0
  9188 04:25B6: 85 0D        	sta	<R3
  9189 04:25B8: A5 0B        	lda	<R2+2
  9190 04:25BA: 65 03        	adc	<R0+2
  9191 04:25BC: 85 0F        	sta	<R3+2
  9192 04:25BE: A7 0D        	lda	[<R3]
  9193 04:25C0: A0 02 00     	ldy	#$2
  Wed Nov 18 2020  8:26                                                Page 178


  9194 04:25C3: 17 0D        	ora	[<R3],Y
  9195 04:25C5: D0 03        	bne	L357
  9196 04:25C7: 82 4A 00     	brl	L10114
  9197                        L357:
  9198                        	.line	1545
  9199 04:25CA: A0 00 00     	ldy	#$0
  9200 04:25CD: A5 25        	lda	<L351+i_1
  9201 04:25CF: 10 01        	bpl	L358
  9202 04:25D1: 88           	dey
  9203                        L358:
  9204 04:25D2: 85 05        	sta	<R1
  9205 04:25D4: 84 07        	sty	<R1+2
  9206 04:25D6: D4 07        	pei	<R1+2
  9207 04:25D8: D4 05        	pei	<R1
  9208 04:25DA: A9 02 00     	lda	#$2
  9209                        	xref	~~~lasl
  9210 04:25DD: 22 xx xx xx  	jsl	~~~lasl
  9211 04:25E1: 85 01        	sta	<R0
  9212 04:25E3: 86 03        	stx	<R0+2
  9213 04:25E5: 18           	clc
  9214 04:25E6: A9 0C 00     	lda	#$c
  9215 04:25E9: 65 19        	adc	<L351+pddmData_1
  9216 04:25EB: 85 09        	sta	<R2
  9217 04:25ED: A9 00 00     	lda	#$0
  9218 04:25F0: 65 1B        	adc	<L351+pddmData_1+2
  9219 04:25F2: 85 0B        	sta	<R2+2
  9220 04:25F4: 18           	clc
  9221 04:25F5: A5 09        	lda	<R2
  9222 04:25F7: 65 01        	adc	<R0
  9223 04:25F9: 85 0D        	sta	<R3
  9224 04:25FB: A5 0B        	lda	<R2+2
  9225 04:25FD: 65 03        	adc	<R0+2
  9226 04:25FF: 85 0F        	sta	<R3+2
  9227 04:2601: A0 02 00     	ldy	#$2
  9228 04:2604: B7 0D        	lda	[<R3],Y
  9229 04:2606: 48           	pha
  9230 04:2607: A7 0D        	lda	[<R3]
  9231 04:2609: 48           	pha
  9232 04:260A: F4 xx xx     	pea	#^L349+90
  9233 04:260D: F4 xx xx     	pea	#<L349+90
  9234 04:2610: 22 xx xx xx  	jsl	~~k_debug_strings
  9235                        ;				}
  9236                        L10114:
  9237                        	.line	1546
  9238                        L10111:
  9239 04:2614: E6 25        	inc	<L351+i_1
  9240 04:2616: 38           	sec
  9241 04:2617: A5 25        	lda	<L351+i_1
  9242 04:2619: E9 18 00     	sbc	#<$18
  9243 04:261C: 70 03        	bvs	L359
  9244 04:261E: 49 00 80     	eor	#$8000
  9245                        L359:
  9246 04:2621: 30 03        	bmi	L360
  9247 04:2623: 82 61 FF     	brl	L10113
  9248                        L360:
  9249                        L10112:
  9250                        ;			}
  9251                        	.line	1547
  Wed Nov 18 2020  8:26                                                Page 179


  9252                        ;		}
  9253                        L10110:
  9254                        	.line	1548
  9255                        ;	}
  9256                        L10109:
  9257                        	.line	1549
  9258                        ;
  9259                        ;	k_debug_strings("k_user_CreateMenuDropDown:","Ex
                    it");
  9260                        L10108:
  9261                        	.line	1551
  9262 04:2626: F4 xx xx     	pea	#^L349+163
  9263 04:2629: F4 xx xx     	pea	#<L349+163
  9264 04:262C: F4 xx xx     	pea	#^L349+136
  9265 04:262F: F4 xx xx     	pea	#<L349+136
  9266 04:2632: 22 xx xx xx  	jsl	~~k_debug_strings
  9267                        ;
  9268                        ;	return pWin;
  9269                        	.line	1553
  9270 04:2636: A6 13        	ldx	<L351+pWin_1+2
  9271 04:2638: A5 11        	lda	<L351+pWin_1
  9272                        L361:
  9273 04:263A: A8           	tay
  9274 04:263B: A5 28        	lda	<L350+2
  9275 04:263D: 85 3C        	sta	<L350+2+20
  9276 04:263F: A5 27        	lda	<L350+1
  9277 04:2641: 85 3B        	sta	<L350+1+20
  9278 04:2643: 2B           	pld
  9279 04:2644: 3B           	tsc
  9280 04:2645: 18           	clc
  9281 04:2646: 69 3A 00     	adc	#L350+20
  9282 04:2649: 1B           	tcs
  9283 04:264A: 98           	tya
  9284 04:264B: 6B           	rtl
  9285                        ;}
  9286                        	.line	1554
  9287                        	.endblock	1554
  9288             00000026   L350	equ	38
  9289             00000011   L351	equ	17
  9290 04:264C:              	ends
  9291                        	efunc
  9292                        	.endfunc	1554,17,38
  9293                        	.line	1554
  9294                        	data
  9295                        L349:
  9296 00:0634: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$4D,$65
       00:0638: 65 72 5F 43 
       00:063C: 72 65 61 74 
       00:0640: 65 4D 65 
  9297 00:0643: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $3A,$00,$45,$6E,$74
       00:0647: 6F 70 44 6F 
       00:064B: 77 6E 3A 00 
       00:064F: 45 6E 74 
  9298 00:0652: 65 72 00 6B  	db	$65,$72,$00,$6B,$5F,$75,$73,$65,$72,$5F,
                    $43,$72,$65,$61,$74
       00:0656: 5F 75 73 65 
  Wed Nov 18 2020  8:26                                                Page 180


       00:065A: 72 5F 43 72 
       00:065E: 65 61 74 
  9299 00:0661: 65 4D 65 6E  	db	$65,$4D,$65,$6E,$75,$44,$72,$6F,$70,$44,
                    $6F,$77,$6E,$3A,$70
       00:0665: 75 44 72 6F 
       00:0669: 70 44 6F 77 
       00:066D: 6E 3A 70 
  9300 00:0670: 4D 65 6E 75  	db	$4D,$65,$6E,$75,$3A,$00,$6D,$65,$6E,$75,
                    $44,$72,$6F,$70,$44
       00:0674: 3A 00 6D 65 
       00:0678: 6E 75 44 72 
       00:067C: 6F 70 44 
  9301 00:067F: 6F 77 6E 57  	db	$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,$43,
                    $6C,$61,$73,$73,$00
       00:0683: 69 6E 64 6F 
       00:0687: 77 43 6C 61 
       00:068B: 73 73 00 
  9302 00:068E: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$4D,$65
       00:0692: 65 72 5F 43 
       00:0696: 72 65 61 74 
       00:069A: 65 4D 65 
  9303 00:069D: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $5B,$70,$64,$64,$6D
       00:06A1: 6F 70 44 6F 
       00:06A5: 77 6E 5B 70 
       00:06A9: 64 64 6D 
  9304 00:06AC: 44 61 74 61  	db	$44,$61,$74,$61,$5D,$3A,$3A,$63,$61,$70,
                    $74,$69,$6F,$6E,$3A
       00:06B0: 5D 3A 3A 63 
       00:06B4: 61 70 74 69 
       00:06B8: 6F 6E 3A 
  9305 00:06BB: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$4D
       00:06BF: 73 65 72 5F 
       00:06C3: 43 72 65 61 
       00:06C7: 74 65 4D 
  9306 00:06CA: 65 6E 75 44  	db	$65,$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,
                    $6E,$3A,$00,$45,$78
       00:06CE: 72 6F 70 44 
       00:06D2: 6F 77 6E 3A 
       00:06D6: 00 45 78 
  9307 00:06D9: 69 74 00     	db	$69,$74,$00
  9308 00:06DC:              	ends
  9309                        ;
  9310                        ;
  9311                        ;BOOL menuDropDownWindowProc(PFXOSMESSAGE pMsg)
  9312                        ;{
  9313                        	.line	1557
  9314                        	.line	1558
  9315                        	WINMAN
  9316                        	xdef	~~menuDropDownWindowProc
  9317                        	func
  9318                        	.function	1558
  9319                        ~~menuDropDownWindowProc:
  9320                        	longa	on
  9321                        	longi	on
  9322 04:264C: 3B           	tsc
  Wed Nov 18 2020  8:26                                                Page 181


  9323 04:264D: 38           	sec
  9324 04:264E: E9 92 00     	sbc	#L363
  9325 04:2651: 1B           	tcs
  9326 04:2652: 0B           	phd
  9327 04:2653: 5B           	tcd
  9328             00000004   pMsg_0	set	4
  9329                        	.block	1558
  9330                        ;	PFXPROCESS p = NULL;
  9331                        ;	PWINDOW	   pWin = NULL;
  9332                        ;	PBUTTON	   pButton = NULL;
  9333                        ;	//LPCSTR	   captions[] = {"About FX/OS...
                    ",NULL};
  9334                        ;	LPCSTR	   captions[25];
  9335                        ;	UINT	   size = 0;
  9336                        ;	UINT	   cy = 0;
  9337                        ;	PMENU	   pMenu = NULL;
  9338                        ;	PMENUDROPDOWNDATA pddmData = NULL;
  9339                        ;	int i;
  9340                        ;
  9341                        ;	if(pMsg!=NULL)
  9342             00000000   p_1	set	0
  9343             00000004   pWin_1	set	4
  9344             00000008   pButton_1	set	8
  9345             0000000C   captions_1	set	12
  9346             00000070   size_1	set	112
  9347             00000072   cy_1	set	114
  9348             00000074   pMenu_1	set	116
  9349             00000078   pddmData_1	set	120
  9350             0000007C   i_1	set	124
  9351                        	.sym	p,0,138,1,32,17
  9352                        	.sym	pWin,4,138,1,32,24
  9353                        	.sym	pButton,8,138,1,32,32
  9354                        	.sym	captions,12,1134,1,32,25
  9355                        	.sym	size,112,16,1,16
  9356                        	.sym	cy,114,16,1,16
  9357                        	.sym	pMenu,116,138,1,32,29
  9358                        	.sym	pddmData,120,138,1,32,31
  9359                        	.sym	i,124,5,1,16
  9360                        	.sym	pMsg,4,138,6,32,13
  9361 04:2654: 64 15        	stz	<L364+p_1
  9362 04:2656: 64 17        	stz	<L364+p_1+2
  9363 04:2658: 64 19        	stz	<L364+pWin_1
  9364 04:265A: 64 1B        	stz	<L364+pWin_1+2
  9365 04:265C: 64 1D        	stz	<L364+pButton_1
  9366 04:265E: 64 1F        	stz	<L364+pButton_1+2
  9367 04:2660: 64 85        	stz	<L364+size_1
  9368 04:2662: 64 87        	stz	<L364+cy_1
  9369 04:2664: 64 89        	stz	<L364+pMenu_1
  9370 04:2666: 64 8B        	stz	<L364+pMenu_1+2
  9371 04:2668: 64 8D        	stz	<L364+pddmData_1
  9372 04:266A: 64 8F        	stz	<L364+pddmData_1+2
  9373                        	.line	1570
  9374                        ;	{
  9375 04:266C: A5 96        	lda	<L363+pMsg_0
  9376 04:266E: 05 98        	ora	<L363+pMsg_0+2
  9377 04:2670: D0 03        	bne	L366
  9378 04:2672: 82 9D 03     	brl	L10115
  9379                        L366:
  Wed Nov 18 2020  8:26                                                Page 182


  9380                        	.line	1571
  9381                        ;		p = k_exec_get_current_process();
  9382                        	.line	1572
  9383 04:2675: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  9384 04:2679: 85 15        	sta	<L364+p_1
  9385 04:267B: 86 17        	stx	<L364+p_1+2
  9386                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  9387                        	.line	1573
  9388 04:267D: A0 0C 00     	ldy	#$c
  9389 04:2680: B7 96        	lda	[<L363+pMsg_0],Y
  9390 04:2682: 48           	pha
  9391 04:2683: A0 0A 00     	ldy	#$a
  9392 04:2686: B7 96        	lda	[<L363+pMsg_0],Y
  9393 04:2688: 48           	pha
  9394 04:2689: 22 47 09 04  	jsl	~~k_getWindowFromHandle
  9395 04:268D: 85 19        	sta	<L364+pWin_1
  9396 04:268F: 86 1B        	stx	<L364+pWin_1+2
  9397                        ;		//pButton = ((PBUTTON)pWin->windowData);
  9398                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  9399                        ;
  9400                        ;		switch(pMsg->type)
  9401                        	.line	1577
  9402 04:2691: A0 08 00     	ldy	#$8
  9403 04:2694: B7 96        	lda	[<L363+pMsg_0],Y
  9404 04:2696: 82 55 03     	brl	L10116
  9405                        ;		{
  9406                        	.line	1578
  9407                        ;		case FX_CREATE_WINDOW:
  9408                        	.line	1579
  9409                        L10118:
  9410                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
  9411                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_CREATE_WINDOW\r\n");
  9412                        	.line	1581
  9413 04:2699: F4 xx xx     	pea	#^L362
  9414 04:269C: F4 xx xx     	pea	#<L362
  9415 04:269F: 22 xx xx xx  	jsl	~~k_debug_string
  9416                        ;
  9417                        ;			pWin->isVisible = TRUE;
  9418                        	.line	1583
  9419 04:26A3: E2 20        	sep	#$20
  9420                        	longa	off
  9421 04:26A5: A9 01        	lda	#$1
  9422 04:26A7: A0 90 00     	ldy	#$90
  9423 04:26AA: 97 19        	sta	[<L364+pWin_1],Y
  9424 04:26AC: C2 20        	rep	#$20
  9425                        	longa	on
  9426                        ;
  9427                        ;			/*
  9428                        ;			k_scratch_save_bitblt(pWin->win_
                    x,
  9429                        ;							
                    	  pWin->win_y,
  9430                        ;							
                    	  pWin->win_width,
  Wed Nov 18 2020  8:26                                                Page 183


  9431                        ;							
                    	  pWin->win_height, 0, 0);
  9432                        ;			*/
  9433                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
  9434                        	.line	1591
  9435 04:26AE: A0 91 00     	ldy	#$91
  9436 04:26B1: B7 19        	lda	[<L364+pWin_1],Y
  9437 04:26B3: 85 8D        	sta	<L364+pddmData_1
  9438 04:26B5: A0 93 00     	ldy	#$93
  9439 04:26B8: B7 19        	lda	[<L364+pWin_1],Y
  9440 04:26BA: 85 8F        	sta	<L364+pddmData_1+2
  9441                        ;			for(i=0;i<24;i++)
  9442                        	.line	1592
  9443 04:26BC: 64 91        	stz	<L364+i_1
  9444                        L10121:
  9445                        ;			{
  9446                        	.line	1593
  9447                        ;				if(pddmData->captions[i]
                    )
  9448                        	.line	1594
  9449                        ;					k_debug_strings(
                    "menuDropDownWindowProc[pddmData]::caption:", (LPSTR)pddmDat
                    a->captions[i]);
  9450 04:26BE: A0 00 00     	ldy	#$0
  9451 04:26C1: A5 91        	lda	<L364+i_1
  9452 04:26C3: 10 01        	bpl	L367
  9453 04:26C5: 88           	dey
  9454                        L367:
  9455 04:26C6: 85 05        	sta	<R1
  9456 04:26C8: 84 07        	sty	<R1+2
  9457 04:26CA: D4 07        	pei	<R1+2
  9458 04:26CC: D4 05        	pei	<R1
  9459 04:26CE: A9 02 00     	lda	#$2
  9460                        	xref	~~~lasl
  9461 04:26D1: 22 xx xx xx  	jsl	~~~lasl
  9462 04:26D5: 85 01        	sta	<R0
  9463 04:26D7: 86 03        	stx	<R0+2
  9464 04:26D9: 18           	clc
  9465 04:26DA: A9 0C 00     	lda	#$c
  9466 04:26DD: 65 8D        	adc	<L364+pddmData_1
  9467 04:26DF: 85 09        	sta	<R2
  9468 04:26E1: A9 00 00     	lda	#$0
  9469 04:26E4: 65 8F        	adc	<L364+pddmData_1+2
  9470 04:26E6: 85 0B        	sta	<R2+2
  9471 04:26E8: 18           	clc
  9472 04:26E9: A5 09        	lda	<R2
  9473 04:26EB: 65 01        	adc	<R0
  9474 04:26ED: 85 0D        	sta	<R3
  9475 04:26EF: A5 0B        	lda	<R2+2
  9476 04:26F1: 65 03        	adc	<R0+2
  9477 04:26F3: 85 0F        	sta	<R3+2
  9478 04:26F5: A7 0D        	lda	[<R3]
  9479 04:26F7: A0 02 00     	ldy	#$2
  9480 04:26FA: 17 0D        	ora	[<R3],Y
  9481 04:26FC: D0 03        	bne	L368
  9482 04:26FE: 82 4A 00     	brl	L10122
  9483                        L368:
  Wed Nov 18 2020  8:26                                                Page 184


  9484                        	.line	1595
  9485 04:2701: A0 00 00     	ldy	#$0
  9486 04:2704: A5 91        	lda	<L364+i_1
  9487 04:2706: 10 01        	bpl	L369
  9488 04:2708: 88           	dey
  9489                        L369:
  9490 04:2709: 85 05        	sta	<R1
  9491 04:270B: 84 07        	sty	<R1+2
  9492 04:270D: D4 07        	pei	<R1+2
  9493 04:270F: D4 05        	pei	<R1
  9494 04:2711: A9 02 00     	lda	#$2
  9495                        	xref	~~~lasl
  9496 04:2714: 22 xx xx xx  	jsl	~~~lasl
  9497 04:2718: 85 01        	sta	<R0
  9498 04:271A: 86 03        	stx	<R0+2
  9499 04:271C: 18           	clc
  9500 04:271D: A9 0C 00     	lda	#$c
  9501 04:2720: 65 8D        	adc	<L364+pddmData_1
  9502 04:2722: 85 09        	sta	<R2
  9503 04:2724: A9 00 00     	lda	#$0
  9504 04:2727: 65 8F        	adc	<L364+pddmData_1+2
  9505 04:2729: 85 0B        	sta	<R2+2
  9506 04:272B: 18           	clc
  9507 04:272C: A5 09        	lda	<R2
  9508 04:272E: 65 01        	adc	<R0
  9509 04:2730: 85 0D        	sta	<R3
  9510 04:2732: A5 0B        	lda	<R2+2
  9511 04:2734: 65 03        	adc	<R0+2
  9512 04:2736: 85 0F        	sta	<R3+2
  9513 04:2738: A0 02 00     	ldy	#$2
  9514 04:273B: B7 0D        	lda	[<R3],Y
  9515 04:273D: 48           	pha
  9516 04:273E: A7 0D        	lda	[<R3]
  9517 04:2740: 48           	pha
  9518 04:2741: F4 xx xx     	pea	#^L362+43
  9519 04:2744: F4 xx xx     	pea	#<L362+43
  9520 04:2747: 22 xx xx xx  	jsl	~~k_debug_strings
  9521                        ;			}
  9522                        L10122:
  9523                        	.line	1596
  9524                        L10119:
  9525 04:274B: E6 91        	inc	<L364+i_1
  9526 04:274D: 38           	sec
  9527 04:274E: A5 91        	lda	<L364+i_1
  9528 04:2750: E9 18 00     	sbc	#<$18
  9529 04:2753: 70 03        	bvs	L370
  9530 04:2755: 49 00 80     	eor	#$8000
  9531                        L370:
  9532 04:2758: 30 03        	bmi	L371
  9533 04:275A: 82 61 FF     	brl	L10121
  9534                        L371:
  9535                        L10120:
  9536                        ;			break;
  9537                        	.line	1597
  9538 04:275D: 82 B2 02     	brl	L10117
  9539                        ;		case FX_DRAW_WINDOW:
  9540                        	.line	1598
  9541                        L10123:
  Wed Nov 18 2020  8:26                                                Page 185


  9542                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_DRAW_WINDOW\r\n");
  9543                        	.line	1599
  9544 04:2760: F4 xx xx     	pea	#^L362+86
  9545 04:2763: F4 xx xx     	pea	#<L362+86
  9546 04:2766: 22 xx xx xx  	jsl	~~k_debug_string
  9547                        ;
  9548                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
  9549                        	.line	1601
  9550 04:276A: A0 91 00     	ldy	#$91
  9551 04:276D: B7 19        	lda	[<L364+pWin_1],Y
  9552 04:276F: 85 8D        	sta	<L364+pddmData_1
  9553 04:2771: A0 93 00     	ldy	#$93
  9554 04:2774: B7 19        	lda	[<L364+pWin_1],Y
  9555 04:2776: 85 8F        	sta	<L364+pddmData_1+2
  9556                        ;			if(pddmData)
  9557                        	.line	1602
  9558                        ;			{
  9559 04:2778: A5 8D        	lda	<L364+pddmData_1
  9560 04:277A: 05 8F        	ora	<L364+pddmData_1+2
  9561 04:277C: D0 03        	bne	L372
  9562 04:277E: 82 43 00     	brl	L10124
  9563                        L372:
  9564                        	.line	1603
  9565                        ;				k_create_context_menu_in
                    _window(pWin,
  9566                        	.line	1604
  9567                        ;						        
                                  -1,
  9568                        ;							
                    				  -1,
  9569                        ;						        
                                  pWin->win_x,
  9570                        ;							
                    				  pWin->win_y,
  9571                        ;							
                    				  pWin->win_width,
  9572                        ;							
                    				  pWin->win_height,
  9573                        ;							
                    				  pddmData->captions,
  9574                        ;							
                    				  k_getUIGadgetColor(),
  9575                        ;							
                    				  k_getUIMenuColor());
  9576 04:2781: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9577 04:2785: 48           	pha
  9578 04:2786: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9579 04:278A: 48           	pha
  9580 04:278B: 18           	clc
  9581 04:278C: A9 0C 00     	lda	#$c
  9582 04:278F: 65 8D        	adc	<L364+pddmData_1
  9583 04:2791: 85 01        	sta	<R0
  9584 04:2793: A9 00 00     	lda	#$0
  9585 04:2796: 65 8F        	adc	<L364+pddmData_1+2
  9586 04:2798: 85 03        	sta	<R0+2
  9587 04:279A: D4 03        	pei	<R0+2
  Wed Nov 18 2020  8:26                                                Page 186


  9588 04:279C: D4 01        	pei	<R0
  9589 04:279E: A0 0E 00     	ldy	#$e
  9590 04:27A1: B7 19        	lda	[<L364+pWin_1],Y
  9591 04:27A3: 48           	pha
  9592 04:27A4: A0 0C 00     	ldy	#$c
  9593 04:27A7: B7 19        	lda	[<L364+pWin_1],Y
  9594 04:27A9: 48           	pha
  9595 04:27AA: A0 0A 00     	ldy	#$a
  9596 04:27AD: B7 19        	lda	[<L364+pWin_1],Y
  9597 04:27AF: 48           	pha
  9598 04:27B0: A0 08 00     	ldy	#$8
  9599 04:27B3: B7 19        	lda	[<L364+pWin_1],Y
  9600 04:27B5: 48           	pha
  9601 04:27B6: F4 FF FF     	pea	#<$ffffffff
  9602 04:27B9: F4 FF FF     	pea	#<$ffffffff
  9603 04:27BC: D4 1B        	pei	<L364+pWin_1+2
  9604 04:27BE: D4 19        	pei	<L364+pWin_1
  9605 04:27C0: 22 xx xx xx  	jsl	~~k_create_context_menu_in_window
  9606                        ;
  9607                        ;			}
  9608                        	.line	1615
  9609                        ;
  9610                        ;			break;
  9611                        L10124:
  9612                        	.line	1617
  9613 04:27C4: 82 4B 02     	brl	L10117
  9614                        ;		case FX_LBUTTON_DOWN:
  9615                        	.line	1618
  9616                        L10125:
  9617                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_LBUTTON_DOWN\r\n");
  9618                        	.line	1619
  9619 04:27C7: F4 xx xx     	pea	#^L362+127
  9620 04:27CA: F4 xx xx     	pea	#<L362+127
  9621 04:27CD: 22 xx xx xx  	jsl	~~k_debug_string
  9622                        ;
  9623                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
  9624                        	.line	1621
  9625 04:27D1: A0 91 00     	ldy	#$91
  9626 04:27D4: B7 19        	lda	[<L364+pWin_1],Y
  9627 04:27D6: 85 8D        	sta	<L364+pddmData_1
  9628 04:27D8: A0 93 00     	ldy	#$93
  9629 04:27DB: B7 19        	lda	[<L364+pWin_1],Y
  9630 04:27DD: 85 8F        	sta	<L364+pddmData_1+2
  9631                        ;			if(pddmData->selected!=-1)
  9632                        	.line	1622
  9633                        ;			{
  9634 04:27DF: A0 A4 01     	ldy	#$1a4
  9635 04:27E2: B7 8D        	lda	[<L364+pddmData_1],Y
  9636 04:27E4: C9 FF FF     	cmp	#<$ffffffff
  9637 04:27E7: D0 03        	bne	L373
  9638 04:27E9: 82 F3 00     	brl	L10126
  9639                        L373:
  9640                        	.line	1623
  9641                        ;				k_scratch_restore_bitblt
                    (0,0,
  9642                        	.line	1624
  Wed Nov 18 2020  8:26                                                Page 187


  9643                        ;							
                    			 pWin->win_width,
  9644                        ;							
                    			 pWin->win_height,
  9645                        ;							
                    			 pWin->win_x,
  9646                        ;							
                    			 pWin->win_y);
  9647 04:27EC: A0 0A 00     	ldy	#$a
  9648 04:27EF: B7 19        	lda	[<L364+pWin_1],Y
  9649 04:27F1: 48           	pha
  9650 04:27F2: A0 08 00     	ldy	#$8
  9651 04:27F5: B7 19        	lda	[<L364+pWin_1],Y
  9652 04:27F7: 48           	pha
  9653 04:27F8: A0 0E 00     	ldy	#$e
  9654 04:27FB: B7 19        	lda	[<L364+pWin_1],Y
  9655 04:27FD: 48           	pha
  9656 04:27FE: A0 0C 00     	ldy	#$c
  9657 04:2801: B7 19        	lda	[<L364+pWin_1],Y
  9658 04:2803: 48           	pha
  9659 04:2804: F4 00 00     	pea	#<$0
  9660 04:2807: F4 00 00     	pea	#<$0
  9661 04:280A: 22 xx xx xx  	jsl	~~k_scratch_restore_bitblt
  9662                        ;
  9663                        ;				pWin->isVisible = FALSE;
  9664                        	.line	1630
  9665 04:280E: E2 20        	sep	#$20
  9666                        	longa	off
  9667 04:2810: A9 00        	lda	#$0
  9668 04:2812: A0 90 00     	ldy	#$90
  9669 04:2815: 97 19        	sta	[<L364+pWin_1],Y
  9670 04:2817: C2 20        	rep	#$20
  9671                        	longa	on
  9672                        ;
  9673                        ;				k_debug_integer("k_size_
                    dropdown_menus:id:",pddmData->selected);
  9674                        	.line	1632
  9675 04:2819: A0 A4 01     	ldy	#$1a4
  9676 04:281C: B7 8D        	lda	[<L364+pddmData_1],Y
  9677 04:281E: 48           	pha
  9678 04:281F: F4 xx xx     	pea	#^L362+169
  9679 04:2822: F4 xx xx     	pea	#<L362+169
  9680 04:2825: 22 xx xx xx  	jsl	~~k_debug_integer
  9681                        ;				k_debug_integer("k_size_
                    dropdown_menus:id:",pddmData->ids[pddmData->selected]);
  9682                        	.line	1633
  9683 04:2829: A0 A4 01     	ldy	#$1a4
  9684 04:282C: B7 8D        	lda	[<L364+pddmData_1],Y
  9685 04:282E: 85 05        	sta	<R1
  9686 04:2830: 64 07        	stz	<R1+2
  9687 04:2832: D4 07        	pei	<R1+2
  9688 04:2834: D4 05        	pei	<R1
  9689 04:2836: A9 01 00     	lda	#$1
  9690                        	xref	~~~lasl
  9691 04:2839: 22 xx xx xx  	jsl	~~~lasl
  9692 04:283D: 85 01        	sta	<R0
  9693 04:283F: 86 03        	stx	<R0+2
  9694 04:2841: 18           	clc
  Wed Nov 18 2020  8:26                                                Page 188


  9695 04:2842: A9 6C 00     	lda	#$6c
  9696 04:2845: 65 8D        	adc	<L364+pddmData_1
  9697 04:2847: 85 09        	sta	<R2
  9698 04:2849: A9 00 00     	lda	#$0
  9699 04:284C: 65 8F        	adc	<L364+pddmData_1+2
  9700 04:284E: 85 0B        	sta	<R2+2
  9701 04:2850: 18           	clc
  9702 04:2851: A5 09        	lda	<R2
  9703 04:2853: 65 01        	adc	<R0
  9704 04:2855: 85 0D        	sta	<R3
  9705 04:2857: A5 0B        	lda	<R2+2
  9706 04:2859: 65 03        	adc	<R0+2
  9707 04:285B: 85 0F        	sta	<R3+2
  9708 04:285D: A7 0D        	lda	[<R3]
  9709 04:285F: 48           	pha
  9710 04:2860: F4 xx xx     	pea	#^L362+195
  9711 04:2863: F4 xx xx     	pea	#<L362+195
  9712 04:2866: 22 xx xx xx  	jsl	~~k_debug_integer
  9713                        ;
  9714                        ;				k_send_command_message(p
                    Win->pParentWindow,
  9715                        	.line	1635
  9716                        ;						 	
                     	 	   FX_MENU_COMMAND,
  9717                        ;							
                    		   CTL_MENU_SELECTED,
  9718                        ;							
                    		   pddmData->ids[pddmData->selected],
  9719                        ;							
                    		   pddmData->selected,
  9720                        ;							
                    		   0L);
  9721 04:286A: F4 00 00     	pea	#^$0
  9722 04:286D: F4 00 00     	pea	#<$0
  9723 04:2870: A0 A4 01     	ldy	#$1a4
  9724 04:2873: B7 8D        	lda	[<L364+pddmData_1],Y
  9725 04:2875: 85 01        	sta	<R0
  9726 04:2877: 64 03        	stz	<R0+2
  9727 04:2879: D4 03        	pei	<R0+2
  9728 04:287B: D4 01        	pei	<R0
  9729 04:287D: A0 A4 01     	ldy	#$1a4
  9730 04:2880: B7 8D        	lda	[<L364+pddmData_1],Y
  9731 04:2882: 85 09        	sta	<R2
  9732 04:2884: 64 0B        	stz	<R2+2
  9733 04:2886: D4 0B        	pei	<R2+2
  9734 04:2888: D4 09        	pei	<R2
  9735 04:288A: A9 01 00     	lda	#$1
  9736                        	xref	~~~lasl
  9737 04:288D: 22 xx xx xx  	jsl	~~~lasl
  9738 04:2891: 85 05        	sta	<R1
  9739 04:2893: 86 07        	stx	<R1+2
  9740 04:2895: 18           	clc
  9741 04:2896: A9 6C 00     	lda	#$6c
  9742 04:2899: 65 8D        	adc	<L364+pddmData_1
  9743 04:289B: 85 0D        	sta	<R3
  9744 04:289D: A9 00 00     	lda	#$0
  9745 04:28A0: 65 8F        	adc	<L364+pddmData_1+2
  9746 04:28A2: 85 0F        	sta	<R3+2
  Wed Nov 18 2020  8:26                                                Page 189


  9747 04:28A4: 18           	clc
  9748 04:28A5: A5 0D        	lda	<R3
  9749 04:28A7: 65 05        	adc	<R1
  9750 04:28A9: 85 11        	sta	<17
  9751 04:28AB: A5 0F        	lda	<R3+2
  9752 04:28AD: 65 07        	adc	<R1+2
  9753 04:28AF: 85 13        	sta	<17+2
  9754 04:28B1: A7 11        	lda	[<17]
  9755 04:28B3: 48           	pha
  9756 04:28B4: F4 01 00     	pea	#<$1
  9757 04:28B7: F4 01 FA     	pea	#<$fa01
  9758 04:28BA: A0 82 00     	ldy	#$82
  9759 04:28BD: B7 19        	lda	[<L364+pWin_1],Y
  9760 04:28BF: 48           	pha
  9761 04:28C0: A0 80 00     	ldy	#$80
  9762 04:28C3: B7 19        	lda	[<L364+pWin_1],Y
  9763 04:28C5: 48           	pha
  9764 04:28C6: 22 xx xx xx  	jsl	~~k_send_command_message
  9765                        ;
  9766                        ;				return FALSE;
  9767                        	.line	1642
  9768 04:28CA: A9 00 00     	lda	#$0
  9769                        L374:
  9770 04:28CD: A8           	tay
  9771 04:28CE: A5 94        	lda	<L363+2
  9772 04:28D0: 85 98        	sta	<L363+2+4
  9773 04:28D2: A5 93        	lda	<L363+1
  9774 04:28D4: 85 97        	sta	<L363+1+4
  9775 04:28D6: 2B           	pld
  9776 04:28D7: 3B           	tsc
  9777 04:28D8: 18           	clc
  9778 04:28D9: 69 96 00     	adc	#L363+4
  9779 04:28DC: 1B           	tcs
  9780 04:28DD: 98           	tya
  9781 04:28DE: 6B           	rtl
  9782                        ;			}
  9783                        	.line	1643
  9784                        ;
  9785                        ;			break;
  9786                        L10126:
  9787                        	.line	1645
  9788 04:28DF: 82 30 01     	brl	L10117
  9789                        ;
  9790                        ;		case FX_LBUTTON_UP:
  9791                        	.line	1647
  9792                        L10127:
  9793                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_LBUTTON_UP\r\n");
  9794                        	.line	1648
  9795 04:28E2: F4 xx xx     	pea	#^L362+221
  9796 04:28E5: F4 xx xx     	pea	#<L362+221
  9797 04:28E8: 22 xx xx xx  	jsl	~~k_debug_string
  9798                        ;			break;
  9799                        	.line	1649
  9800 04:28EC: 82 23 01     	brl	L10117
  9801                        ;		case FX_MOUSE_ENTER:
  9802                        	.line	1650
  9803                        L10128:
  Wed Nov 18 2020  8:26                                                Page 190


  9804                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_MOUSE_ENTER\r\n");
  9805                        	.line	1651
  9806 04:28EF: F4 xx xx     	pea	#^L362+261
  9807 04:28F2: F4 xx xx     	pea	#<L362+261
  9808 04:28F5: 22 xx xx xx  	jsl	~~k_debug_string
  9809                        ;
  9810                        ;			break;
  9811                        	.line	1653
  9812 04:28F9: 82 16 01     	brl	L10117
  9813                        ;		case FX_MOUSE_MOVE:
  9814                        	.line	1654
  9815                        L10129:
  9816                        ;
  9817                        ;			cy = *((INT*)&pMsg->data[3]) - p
                    Win->win_y;
  9818                        	.line	1656
  9819 04:28FC: 38           	sec
  9820 04:28FD: A0 19 00     	ldy	#$19
  9821 04:2900: B7 96        	lda	[<L363+pMsg_0],Y
  9822 04:2902: A0 0A 00     	ldy	#$a
  9823 04:2905: F7 19        	sbc	[<L364+pWin_1],Y
  9824 04:2907: 85 87        	sta	<L364+cy_1
  9825                        ;
  9826                        ;			if(cy > 4 &&  cy < (pWin->win_y+
                    pWin->win_height))
  9827                        	.line	1658
  9828                        ;			{
  9829 04:2909: A9 04 00     	lda	#$4
  9830 04:290C: C5 87        	cmp	<L364+cy_1
  9831 04:290E: 90 03        	bcc	L375
  9832 04:2910: 82 98 00     	brl	L10130
  9833                        L375:
  9834 04:2913: 18           	clc
  9835 04:2914: A0 0A 00     	ldy	#$a
  9836 04:2917: B7 19        	lda	[<L364+pWin_1],Y
  9837 04:2919: A0 0E 00     	ldy	#$e
  9838 04:291C: 77 19        	adc	[<L364+pWin_1],Y
  9839 04:291E: 85 01        	sta	<R0
  9840 04:2920: A5 87        	lda	<L364+cy_1
  9841 04:2922: C5 01        	cmp	<R0
  9842 04:2924: 90 03        	bcc	L376
  9843 04:2926: 82 82 00     	brl	L10130
  9844                        L376:
  9845                        	.line	1659
  9846                        ;				size = (INT)((cy - 4)/10
                    );
  9847                        	.line	1660
  9848 04:2929: 18           	clc
  9849 04:292A: A9 FC FF     	lda	#$fffc
  9850 04:292D: 65 87        	adc	<L364+cy_1
  9851 04:292F: 85 01        	sta	<R0
  9852 04:2931: A5 01        	lda	<R0
  9853 04:2933: A2 0A 00     	ldx	#<$a
  9854                        	xref	~~~udv
  9855 04:2936: 22 xx xx xx  	jsl	~~~udv
  9856 04:293A: 85 85        	sta	<L364+size_1
  9857                        ;
  Wed Nov 18 2020  8:26                                                Page 191


  9858                        ;				pddmData = (PMENUDROPDOW
                    NDATA)pWin->windowData;
  9859                        	.line	1662
  9860 04:293C: A0 91 00     	ldy	#$91
  9861 04:293F: B7 19        	lda	[<L364+pWin_1],Y
  9862 04:2941: 85 8D        	sta	<L364+pddmData_1
  9863 04:2943: A0 93 00     	ldy	#$93
  9864 04:2946: B7 19        	lda	[<L364+pWin_1],Y
  9865 04:2948: 85 8F        	sta	<L364+pddmData_1+2
  9866                        ;				if(pddmData)
  9867                        	.line	1663
  9868                        ;				{
  9869 04:294A: A5 8D        	lda	<L364+pddmData_1
  9870 04:294C: 05 8F        	ora	<L364+pddmData_1+2
  9871 04:294E: D0 03        	bne	L377
  9872 04:2950: 82 58 00     	brl	L10131
  9873                        L377:
  9874                        	.line	1664
  9875                        ;					if(pddmData->sel
                    ected!=size)
  9876                        	.line	1665
  9877                        ;					{
  9878 04:2953: A0 A4 01     	ldy	#$1a4
  9879 04:2956: B7 8D        	lda	[<L364+pddmData_1],Y
  9880 04:2958: C5 85        	cmp	<L364+size_1
  9881 04:295A: D0 03        	bne	L378
  9882 04:295C: 82 4C 00     	brl	L10132
  9883                        L378:
  9884                        	.line	1666
  9885                        ;						k_create
                    _context_menu_in_window(pWin,
  9886                        	.line	1667
  9887                        ;							
                    						    size,
  9888                        ;							
                    							pddmData
                    ->selected,
  9889                        ;							
                    						    pWin->win_x,
  9890                        ;							
                    						    pWin->win_y,
  9891                        ;							
                    						    pWin->win_wi
                    dth,
  9892                        ;							
                    						    pWin->win_he
                    ight,
  9893                        ;							
                    						    pddmData->ca
                    ptions,
  9894                        ;							
                    						    k_getUIGadge
                    tColor(),
  9895                        ;							
                    						    k_getUIMenuC
                    olor());
  9896 04:295F: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9897 04:2963: 48           	pha
  Wed Nov 18 2020  8:26                                                Page 192


  9898 04:2964: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  9899 04:2968: 48           	pha
  9900 04:2969: 18           	clc
  9901 04:296A: A9 0C 00     	lda	#$c
  9902 04:296D: 65 8D        	adc	<L364+pddmData_1
  9903 04:296F: 85 01        	sta	<R0
  9904 04:2971: A9 00 00     	lda	#$0
  9905 04:2974: 65 8F        	adc	<L364+pddmData_1+2
  9906 04:2976: 85 03        	sta	<R0+2
  9907 04:2978: D4 03        	pei	<R0+2
  9908 04:297A: D4 01        	pei	<R0
  9909 04:297C: A0 0E 00     	ldy	#$e
  9910 04:297F: B7 19        	lda	[<L364+pWin_1],Y
  9911 04:2981: 48           	pha
  9912 04:2982: A0 0C 00     	ldy	#$c
  9913 04:2985: B7 19        	lda	[<L364+pWin_1],Y
  9914 04:2987: 48           	pha
  9915 04:2988: A0 0A 00     	ldy	#$a
  9916 04:298B: B7 19        	lda	[<L364+pWin_1],Y
  9917 04:298D: 48           	pha
  9918 04:298E: A0 08 00     	ldy	#$8
  9919 04:2991: B7 19        	lda	[<L364+pWin_1],Y
  9920 04:2993: 48           	pha
  9921 04:2994: A0 A4 01     	ldy	#$1a4
  9922 04:2997: B7 8D        	lda	[<L364+pddmData_1],Y
  9923 04:2999: 48           	pha
  9924 04:299A: D4 85        	pei	<L364+size_1
  9925 04:299C: D4 1B        	pei	<L364+pWin_1+2
  9926 04:299E: D4 19        	pei	<L364+pWin_1
  9927 04:29A0: 22 xx xx xx  	jsl	~~k_create_context_menu_in_window
  9928                        ;						pddmData
                    ->selected = size;
  9929                        	.line	1677
  9930 04:29A4: A5 85        	lda	<L364+size_1
  9931 04:29A6: A0 A4 01     	ldy	#$1a4
  9932 04:29A9: 97 8D        	sta	[<L364+pddmData_1],Y
  9933                        ;					}
  9934                        	.line	1678
  9935                        ;				}
  9936                        L10132:
  9937                        	.line	1679
  9938                        ;			}
  9939                        L10131:
  9940                        	.line	1680
  9941                        ;
  9942                        ;
  9943                        ;			break;
  9944                        L10130:
  9945                        	.line	1683
  9946 04:29AB: 82 64 00     	brl	L10117
  9947                        ;
  9948                        ;		case FX_MOUSE_EXIT:
  9949                        	.line	1685
  9950                        L10133:
  9951                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_MOUSE_EXIT\r\n");
  9952                        	.line	1686
  9953 04:29AE: F4 xx xx     	pea	#^L362+302
  Wed Nov 18 2020  8:26                                                Page 193


  9954 04:29B1: F4 xx xx     	pea	#<L362+302
  9955 04:29B4: 22 xx xx xx  	jsl	~~k_debug_string
  9956                        ;
  9957                        ;			k_scratch_restore_bitblt(0,0,
  9958                        	.line	1688
  9959                        ;							
                    		 pWin->win_width,
  9960                        ;							
                    		 pWin->win_height,
  9961                        ;							
                    		 pWin->win_x,
  9962                        ;							
                    		 pWin->win_y);
  9963 04:29B8: A0 0A 00     	ldy	#$a
  9964 04:29BB: B7 19        	lda	[<L364+pWin_1],Y
  9965 04:29BD: 48           	pha
  9966 04:29BE: A0 08 00     	ldy	#$8
  9967 04:29C1: B7 19        	lda	[<L364+pWin_1],Y
  9968 04:29C3: 48           	pha
  9969 04:29C4: A0 0E 00     	ldy	#$e
  9970 04:29C7: B7 19        	lda	[<L364+pWin_1],Y
  9971 04:29C9: 48           	pha
  9972 04:29CA: A0 0C 00     	ldy	#$c
  9973 04:29CD: B7 19        	lda	[<L364+pWin_1],Y
  9974 04:29CF: 48           	pha
  9975 04:29D0: F4 00 00     	pea	#<$0
  9976 04:29D3: F4 00 00     	pea	#<$0
  9977 04:29D6: 22 xx xx xx  	jsl	~~k_scratch_restore_bitblt
  9978                        ;
  9979                        ;			pWin->isVisible = FALSE;
  9980                        	.line	1694
  9981 04:29DA: E2 20        	sep	#$20
  9982                        	longa	off
  9983 04:29DC: A9 00        	lda	#$0
  9984 04:29DE: A0 90 00     	ldy	#$90
  9985 04:29E1: 97 19        	sta	[<L364+pWin_1],Y
  9986 04:29E3: C2 20        	rep	#$20
  9987                        	longa	on
  9988                        ;
  9989                        ;			return FALSE;
  9990                        	.line	1696
  9991 04:29E5: A9 00 00     	lda	#$0
  9992 04:29E8: 82 E2 FE     	brl	L374
  9993                        ;
  9994                        ;			break;
  9995                        	.line	1698
  9996                        ;		default:
  9997                        	.line	1699
  9998                        L10134:
  9999                        ;			//DefWindowProc(pMsg);
 10000                        ;			break;
 10001                        	.line	1701
 10002 04:29EB: 82 24 00     	brl	L10117
 10003                        ;		}
 10004                        	.line	1702
 10005                        L10116:
 10006                        	xref	~~~swt
 10007 04:29EE: 22 xx xx xx  	jsl	~~~swt
  Wed Nov 18 2020  8:26                                                Page 194


 10008 04:29F2: 07 00        	dw	7
 10009 04:29F4: 01 0F        	dw	3841
 10010 04:29F6: EE 28        	dw	L10128-1
 10011 04:29F8: 02 0F        	dw	3842
 10012 04:29FA: AD 29        	dw	L10133-1
 10013 04:29FC: 03 0F        	dw	3843
 10014 04:29FE: FB 28        	dw	L10129-1
 10015 04:2A00: 04 0F        	dw	3844
 10016 04:2A02: C6 27        	dw	L10125-1
 10017 04:2A04: 06 0F        	dw	3846
 10018 04:2A06: E1 28        	dw	L10127-1
 10019 04:2A08: 00 FB        	dw	64256
 10020 04:2A0A: 5F 27        	dw	L10123-1
 10021 04:2A0C: 03 FF        	dw	65283
 10022 04:2A0E: 98 26        	dw	L10118-1
 10023 04:2A10: EA 29        	dw	L10134-1
 10024                        L10117:
 10025                        ;	}
 10026                        	.line	1703
 10027                        ;
 10028                        ;	return TRUE;
 10029                        L10115:
 10030                        	.line	1705
 10031 04:2A12: A9 01 00     	lda	#$1
 10032 04:2A15: 82 B5 FE     	brl	L374
 10033                        ;
 10034                        ;}
 10035                        	.line	1707
 10036                        	.endblock	1707
 10037             00000092   L363	equ	146
 10038             00000015   L364	equ	21
 10039 04:2A18:              	ends
 10040                        	efunc
 10041                        	.endfunc	1707,21,146
 10042                        	.line	1707
 10043                        	data
 10044                        L362:
 10045 00:06DC: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$44,$72,$6F,$70,$44,$6F,
                    $77,$6E,$57,$69,$6E
       00:06E0: 44 72 6F 70 
       00:06E4: 44 6F 77 6E 
       00:06E8: 57 69 6E 
 10046 00:06EB: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$43,$52,$45
       00:06EF: 72 6F 63 3A 
       00:06F3: 3A 46 58 5F 
       00:06F7: 43 52 45 
 10047 00:06FA: 41 54 45 5F  	db	$41,$54,$45,$5F,$57,$49,$4E,$44,$4F,$57,
                    $0D,$0A,$00,$6D,$65
       00:06FE: 57 49 4E 44 
       00:0702: 4F 57 0D 0A 
       00:0706: 00 6D 65 
 10048 00:0709: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $57,$69,$6E,$64,$6F
       00:070D: 6F 70 44 6F 
       00:0711: 77 6E 57 69 
       00:0715: 6E 64 6F 
 10049 00:0718: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$5B,$70,$64,$64,$6D,
  Wed Nov 18 2020  8:26                                                Page 195


                    $44,$61,$74,$61,$5D
       00:071C: 63 5B 70 64 
       00:0720: 64 6D 44 61 
       00:0724: 74 61 5D 
 10050 00:0727: 3A 3A 63 61  	db	$3A,$3A,$63,$61,$70,$74,$69,$6F,$6E,$3A,
                    $00,$6D,$65,$6E,$75
       00:072B: 70 74 69 6F 
       00:072F: 6E 3A 00 6D 
       00:0733: 65 6E 75 
 10051 00:0736: 44 72 6F 70  	db	$44,$72,$6F,$70,$44,$6F,$77,$6E,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:073A: 44 6F 77 6E 
       00:073E: 57 69 6E 64 
       00:0742: 6F 77 50 
 10052 00:0745: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$44,$52,
                    $41,$57,$5F,$57,$49
       00:0749: 3A 46 58 5F 
       00:074D: 44 52 41 57 
       00:0751: 5F 57 49 
 10053 00:0754: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$44,$72,$6F,$70
       00:0758: 0D 0A 00 6D 
       00:075C: 65 6E 75 44 
       00:0760: 72 6F 70 
 10054 00:0763: 44 6F 77 6E  	db	$44,$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:0767: 57 69 6E 64 
       00:076B: 6F 77 50 72 
       00:076F: 6F 63 3A 
 10055 00:0772: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4C,$42,$55,$54,$54,$4F,
                    $4E,$5F,$44,$4F,$57
       00:0776: 4C 42 55 54 
       00:077A: 54 4F 4E 5F 
       00:077E: 44 4F 57 
 10056 00:0781: 4E 0D 0A 00  	db	$4E,$0D,$0A,$00,$6B,$5F,$73,$69,$7A,$65,
                    $5F,$64,$72,$6F,$70
       00:0785: 6B 5F 73 69 
       00:0789: 7A 65 5F 64 
       00:078D: 72 6F 70 
 10057 00:0790: 64 6F 77 6E  	db	$64,$6F,$77,$6E,$5F,$6D,$65,$6E,$75,$73,
                    $3A,$69,$64,$3A,$00
       00:0794: 5F 6D 65 6E 
       00:0798: 75 73 3A 69 
       00:079C: 64 3A 00 
 10058 00:079F: 6B 5F 73 69  	db	$6B,$5F,$73,$69,$7A,$65,$5F,$64,$72,$6F,
                    $70,$64,$6F,$77,$6E
       00:07A3: 7A 65 5F 64 
       00:07A7: 72 6F 70 64 
       00:07AB: 6F 77 6E 
 10059 00:07AE: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$73,$3A,$69,$64,$3A,
                    $00,$6D,$65,$6E,$75
       00:07B2: 75 73 3A 69 
       00:07B6: 64 3A 00 6D 
       00:07BA: 65 6E 75 
 10060 00:07BD: 44 72 6F 70  	db	$44,$72,$6F,$70,$44,$6F,$77,$6E,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:07C1: 44 6F 77 6E 
       00:07C5: 57 69 6E 64 
  Wed Nov 18 2020  8:26                                                Page 196


       00:07C9: 6F 77 50 
 10061 00:07CC: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:07D0: 3A 46 58 5F 
       00:07D4: 4C 42 55 54 
       00:07D8: 54 4F 4E 
 10062 00:07DB: 5F 55 50 0D  	db	$5F,$55,$50,$0D,$0A,$00,$6D,$65,$6E,$75,
                    $44,$72,$6F,$70,$44
       00:07DF: 0A 00 6D 65 
       00:07E3: 6E 75 44 72 
       00:07E7: 6F 70 44 
 10063 00:07EA: 6F 77 6E 57  	db	$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:07EE: 69 6E 64 6F 
       00:07F2: 77 50 72 6F 
       00:07F6: 63 3A 3A 
 10064 00:07F9: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $4E,$54,$45,$52,$0D
       00:07FD: 4F 55 53 45 
       00:0801: 5F 45 4E 54 
       00:0805: 45 52 0D 
 10065 00:0808: 0A 00 6D 65  	db	$0A,$00,$6D,$65,$6E,$75,$44,$72,$6F,$70,
                    $44,$6F,$77,$6E,$57
       00:080C: 6E 75 44 72 
       00:0810: 6F 70 44 6F 
       00:0814: 77 6E 57 
 10066 00:0817: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4D
       00:081B: 77 50 72 6F 
       00:081F: 63 3A 3A 46 
       00:0823: 58 5F 4D 
 10067 00:0826: 4F 55 53 45  	db	$4F,$55,$53,$45,$5F,$45,$58,$49,$54,$0D,
                    $0A,$00
       00:082A: 5F 45 58 49 
       00:082E: 54 0D 0A 00 
 10068 00:0832:              	ends
 10069                        ;
 10070                        ;/*
 10071                        ;PWINDOW	k_user_CreateMenuDropItem(HWND hWndParen
                    t,LPCSTR caption,HMENU hMenu,int x,int y,int width,int heigh
                    t)
 10072                        ;{
 10073                        ;	PWINDOW pWin = NULL;
 10074                        ;
 10075                        ;	k_debug_strings("k_user_CreateMenuDropItem:","En
                    ter");
 10076                        ;
 10077                        ;	pWin = k_user_CreateWindow(0,
 10078                        ;							
                       "menuItemWindowClass",
 10079                        ;							
                        caption,
 10080                        ;							
                    	x,y,
 10081                        ;							
                    	width,height,
 10082                        ;							
                    	hWndParent,
  Wed Nov 18 2020  8:26                                                Page 197


 10083                        ;							
                    	hMenu,
 10084                        ;							
                    	NULL);
 10085                        ;	if(pWin)
 10086                        ;	{
 10087                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);
 10088                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
 10089                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
 10090                        ;		//k_send_command_message(k_getHandleFrom
                    Window(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_s
                    tring_copy_string(caption),0L);
 10091                        ;	}
 10092                        ;
 10093                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","Ex
                    it");
 10094                        ;
 10095                        ;	return pWin;
 10096                        ;}
 10097                        ;
 10098                        ;BOOL menuItemWindowProc(PFXOSMESSAGE pMsg)
 10099                        ;{
 10100                        ;	PFXPROCESS p = NULL;
 10101                        ;	PWINDOW	   pWin = NULL;
 10102                        ;	PBUTTON	   pButton = NULL;
 10103                        ;	//LPCSTR	   captions[] = {"About FX/OS...
                    ",NULL};
 10104                        ;	LPCSTR	   captions[25];
 10105                        ;	UINT	   size = 0;
 10106                        ;	PMENU	   pMenu = NULL;
 10107                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 10108                        ;
 10109                        ;	if(pMsg!=NULL)
 10110                        ;	{
 10111                        ;		p = k_exec_get_current_process();
 10112                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 10113                        ;		//pButton = ((PBUTTON)pWin->windowData);
 10114                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 10115                        ;
 10116                        ;		switch(pMsg->type)
 10117                        ;		{
 10118                        ;		case FX_CREATE_WINDOW:
 10119                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 10120                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_CREATE_WINDOW:",pWin->win_title);
 10121                        ;			break;
 10122                        ;		case FX_MOUSE_ENTER:
 10123                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 10124                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_MOUSE_ENTER:",pWin->win_title);
 10125                        ;
  Wed Nov 18 2020  8:26                                                Page 198


 10126                        ;			//k_vdma_fill_rect(pWin->win_x,p
                    Win->win_y,pWin->win_width,pWin->win_height,k_getUIGadgetCol
                    or());
 10127                        ;			//k_draw_text_point(pWin->win_ti
                    tle,pWin->win_x,pWin->win_y,k_getUIMenuColor());
 10128                        ;
 10129                        ;
 10130                        ;			break;
 10131                        ;		case FX_MOUSE_EXIT:
 10132                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 10133                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_MOUSE_EXIT:",pWin->win_title);
 10134                        ;
 10135                        ;			//k_vdma_fill_rect(pWin->win_x,p
                    Win->win_y,pWin->win_width,pWin->win_height,k_getUIMenuColor
                    ());
 10136                        ;			//k_draw_text_point(pWin->win_ti
                    tle,pWin->win_x,pWin->win_y,k_getUIGadgetColor());
 10137                        ;			break;
 10138                        ;		case FX_DRAW_WINDOW:
 10139                        ;
 10140                        ;			break;
 10141                        ;		case FX_CONTROL_COMMAND:
 10142                        ;			break;
 10143                        ;
 10144                        ;		default:
 10145                        ;			break;
 10146                        ;		}
 10147                        ;	}
 10148                        ;	return TRUE;
 10149                        ;}
 10150                        ;*/
 10151                        ;
 10152                        ;
 10153                        ;PWINDOW	k_user_CreateButton(HWND hWndParent,LPCS
                    TR caption,UINT buttonId,int x,int y,int width,int height)
 10154                        ;{
 10155                        	.line	1792
 10156                        	.line	1793
 10157                        	WINMAN
 10158                        	xdef	~~k_user_CreateButton
 10159                        	func
 10160                        	.function	1793
 10161                        ~~k_user_CreateButton:
 10162                        	longa	on
 10163                        	longi	on
 10164 04:2A18: 3B           	tsc
 10165 04:2A19: 38           	sec
 10166 04:2A1A: E9 14 00     	sbc	#L380
 10167 04:2A1D: 1B           	tcs
 10168 04:2A1E: 0B           	phd
 10169 04:2A1F: 5B           	tcd
 10170             00000004   hWndParent_0	set	4
 10171             00000008   caption_0	set	8
 10172             0000000C   buttonId_0	set	12
 10173             0000000E   x_0	set	14
 10174             00000010   y_0	set	16
  Wed Nov 18 2020  8:26                                                Page 199


 10175             00000012   width_0	set	18
 10176             00000014   height_0	set	20
 10177                        	.block	1793
 10178                        ;	PWINDOW pWin = NULL;
 10179                        ;	PWINDOW pParent = NULL;
 10180                        ;
 10181                        ;	//k_debug_strings("k_user_CreateButton:","Enter"
                    );
 10182                        ;
 10183                        ;	if(width < 0)
 10184             00000000   pWin_1	set	0
 10185             00000004   pParent_1	set	4
 10186                        	.sym	pWin,0,138,1,32,24
 10187                        	.sym	pParent,4,138,1,32,24
 10188                        	.sym	hWndParent,4,129,6,32
 10189                        	.sym	caption,8,142,6,32
 10190                        	.sym	buttonId,12,16,6,16
 10191                        	.sym	x,14,5,6,16
 10192                        	.sym	y,16,5,6,16
 10193                        	.sym	width,18,5,6,16
 10194                        	.sym	height,20,5,6,16
 10195 04:2A20: 64 0D        	stz	<L381+pWin_1
 10196 04:2A22: 64 0F        	stz	<L381+pWin_1+2
 10197 04:2A24: 64 11        	stz	<L381+pParent_1
 10198 04:2A26: 64 13        	stz	<L381+pParent_1+2
 10199                        	.line	1799
 10200                        ;		width = (FONTW * strlen(caption)) + (2 *
                     FONTW);
 10201 04:2A28: A5 26        	lda	<L380+width_0
 10202 04:2A2A: 30 03        	bmi	L383
 10203 04:2A2C: 82 2C 00     	brl	L10135
 10204                        L383:
 10205                        	.line	1800
 10206 04:2A2F: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10207 04:2A33: 85 05        	sta	<R1
 10208 04:2A35: A5 05        	lda	<R1
 10209 04:2A37: 0A           	asl	A
 10210 04:2A38: 85 01        	sta	<R0
 10211 04:2A3A: D4 1E        	pei	<L380+caption_0+2
 10212 04:2A3C: D4 1C        	pei	<L380+caption_0
 10213 04:2A3E: 22 xx xx xx  	jsl	~~strlen
 10214 04:2A42: 85 05        	sta	<R1
 10215 04:2A44: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10216 04:2A48: 85 09        	sta	<R2
 10217 04:2A4A: A5 09        	lda	<R2
 10218 04:2A4C: A6 05        	ldx	<R1
 10219                        	xref	~~~mul
 10220 04:2A4E: 22 xx xx xx  	jsl	~~~mul
 10221 04:2A52: 85 05        	sta	<R1
 10222 04:2A54: 18           	clc
 10223 04:2A55: A5 05        	lda	<R1
 10224 04:2A57: 65 01        	adc	<R0
 10225 04:2A59: 85 26        	sta	<L380+width_0
 10226                        ;	if(height < 0)
 10227                        L10135:
 10228                        	.line	1801
 10229                        ;		height = FONTH * 3;
 10230 04:2A5B: A5 28        	lda	<L380+height_0
  Wed Nov 18 2020  8:26                                                Page 200


 10231 04:2A5D: 30 03        	bmi	L384
 10232 04:2A5F: 82 0D 00     	brl	L10136
 10233                        L384:
 10234                        	.line	1802
 10235 04:2A62: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 10236 04:2A66: 85 01        	sta	<R0
 10237 04:2A68: A5 01        	lda	<R0
 10238 04:2A6A: 0A           	asl	A
 10239 04:2A6B: 65 01        	adc	<R0
 10240 04:2A6D: 85 28        	sta	<L380+height_0
 10241                        ;
 10242                        ;
 10243                        ;	k_debug_integer("k_user_CreateButton:cx:",x);
 10244                        L10136:
 10245                        	.line	1805
 10246 04:2A6F: D4 22        	pei	<L380+x_0
 10247 04:2A71: F4 xx xx     	pea	#^L379
 10248 04:2A74: F4 xx xx     	pea	#<L379
 10249 04:2A77: 22 xx xx xx  	jsl	~~k_debug_integer
 10250                        ;	k_debug_integer("k_user_CreateButton:cy:",y);
 10251                        	.line	1806
 10252 04:2A7B: D4 24        	pei	<L380+y_0
 10253 04:2A7D: F4 xx xx     	pea	#^L379+24
 10254 04:2A80: F4 xx xx     	pea	#<L379+24
 10255 04:2A83: 22 xx xx xx  	jsl	~~k_debug_integer
 10256                        ;	k_debug_integer("k_user_CreateButton:width:",wid
                    th);
 10257                        	.line	1807
 10258 04:2A87: D4 26        	pei	<L380+width_0
 10259 04:2A89: F4 xx xx     	pea	#^L379+48
 10260 04:2A8C: F4 xx xx     	pea	#<L379+48
 10261 04:2A8F: 22 xx xx xx  	jsl	~~k_debug_integer
 10262                        ;	k_debug_integer("k_user_CreateButton:height:",he
                    ight);
 10263                        	.line	1808
 10264 04:2A93: D4 28        	pei	<L380+height_0
 10265 04:2A95: F4 xx xx     	pea	#^L379+75
 10266 04:2A98: F4 xx xx     	pea	#<L379+75
 10267 04:2A9B: 22 xx xx xx  	jsl	~~k_debug_integer
 10268                        ;
 10269                        ;	pWin = k_user_CreateWindow(FXWS_BORDER | FXWS_VI
                    SIBLE,
 10270                        	.line	1810
 10271                        ;							
                       "buttonWindowClass",
 10272                        ;							
                    	caption,
 10273                        ;							
                    	x,y,
 10274                        ;							
                    	width,height,
 10275                        ;							
                    	hWndParent,
 10276                        ;							
                    	(HMENU)buttonId,
 10277                        ;							
                    	NULL);
 10278 04:2A9F: F4 00 00     	pea	#^$0
  Wed Nov 18 2020  8:26                                                Page 201


 10279 04:2AA2: F4 00 00     	pea	#<$0
 10280 04:2AA5: A0 00 00     	ldy	#$0
 10281 04:2AA8: A5 20        	lda	<L380+buttonId_0
 10282 04:2AAA: 10 01        	bpl	L385
 10283 04:2AAC: 88           	dey
 10284                        L385:
 10285 04:2AAD: 85 01        	sta	<R0
 10286 04:2AAF: 84 03        	sty	<R0+2
 10287 04:2AB1: D4 03        	pei	<R0+2
 10288 04:2AB3: D4 01        	pei	<R0
 10289 04:2AB5: D4 1A        	pei	<L380+hWndParent_0+2
 10290 04:2AB7: D4 18        	pei	<L380+hWndParent_0
 10291 04:2AB9: D4 28        	pei	<L380+height_0
 10292 04:2ABB: D4 26        	pei	<L380+width_0
 10293 04:2ABD: D4 24        	pei	<L380+y_0
 10294 04:2ABF: D4 22        	pei	<L380+x_0
 10295 04:2AC1: D4 1E        	pei	<L380+caption_0+2
 10296 04:2AC3: D4 1C        	pei	<L380+caption_0
 10297 04:2AC5: F4 xx xx     	pea	#^L379+103
 10298 04:2AC8: F4 xx xx     	pea	#<L379+103
 10299 04:2ACB: F4 01 00     	pea	#^$10001
 10300 04:2ACE: F4 01 00     	pea	#<$10001
 10301 04:2AD1: 22 DB 0D 04  	jsl	~~k_user_CreateWindow
 10302 04:2AD5: 85 0D        	sta	<L381+pWin_1
 10303 04:2AD7: 86 0F        	stx	<L381+pWin_1+2
 10304                        ;
 10305                        ;	k_debug_integer("k_user_CreateButtonA:cx:",pWin-
                    >win_x);
 10306                        	.line	1819
 10307 04:2AD9: A0 08 00     	ldy	#$8
 10308 04:2ADC: B7 0D        	lda	[<L381+pWin_1],Y
 10309 04:2ADE: 48           	pha
 10310 04:2ADF: F4 xx xx     	pea	#^L379+121
 10311 04:2AE2: F4 xx xx     	pea	#<L379+121
 10312 04:2AE5: 22 xx xx xx  	jsl	~~k_debug_integer
 10313                        ;	k_debug_integer("k_user_CreateButtonA:cy:",pWin-
                    >win_y);
 10314                        	.line	1820
 10315 04:2AE9: A0 0A 00     	ldy	#$a
 10316 04:2AEC: B7 0D        	lda	[<L381+pWin_1],Y
 10317 04:2AEE: 48           	pha
 10318 04:2AEF: F4 xx xx     	pea	#^L379+146
 10319 04:2AF2: F4 xx xx     	pea	#<L379+146
 10320 04:2AF5: 22 xx xx xx  	jsl	~~k_debug_integer
 10321                        ;	k_debug_integer("k_user_CreateButtonA:width:",pW
                    in->win_width);
 10322                        	.line	1821
 10323 04:2AF9: A0 0C 00     	ldy	#$c
 10324 04:2AFC: B7 0D        	lda	[<L381+pWin_1],Y
 10325 04:2AFE: 48           	pha
 10326 04:2AFF: F4 xx xx     	pea	#^L379+171
 10327 04:2B02: F4 xx xx     	pea	#<L379+171
 10328 04:2B05: 22 xx xx xx  	jsl	~~k_debug_integer
 10329                        ;	k_debug_integer("k_user_CreateButtonA:height:",p
                    Win->win_height);
 10330                        	.line	1822
 10331 04:2B09: A0 0E 00     	ldy	#$e
 10332 04:2B0C: B7 0D        	lda	[<L381+pWin_1],Y
  Wed Nov 18 2020  8:26                                                Page 202


 10333 04:2B0E: 48           	pha
 10334 04:2B0F: F4 xx xx     	pea	#^L379+199
 10335 04:2B12: F4 xx xx     	pea	#<L379+199
 10336 04:2B15: 22 xx xx xx  	jsl	~~k_debug_integer
 10337                        ;
 10338                        ;
 10339                        ;	if(pWin)
 10340                        	.line	1825
 10341                        ;	{
 10342 04:2B19: A5 0D        	lda	<L381+pWin_1
 10343 04:2B1B: 05 0F        	ora	<L381+pWin_1+2
 10344 04:2B1D: D0 03        	bne	L386
 10345 04:2B1F: 82 4F 00     	brl	L10137
 10346                        L386:
 10347                        	.line	1826
 10348                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);//k_buttonHitDe
                    tected);
 10349                        ;
 10350                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
 10351                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
 10352                        	.line	1830
 10353 04:2B22: F4 00 00     	pea	#<$0
 10354 04:2B25: F4 00 00     	pea	#^$0
 10355 04:2B28: F4 00 00     	pea	#<$0
 10356 04:2B2B: F4 03 FF     	pea	#<$ff03
 10357 04:2B2E: D4 0F        	pei	<L381+pWin_1+2
 10358 04:2B30: D4 0D        	pei	<L381+pWin_1
 10359 04:2B32: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 10360 04:2B36: 85 01        	sta	<R0
 10361 04:2B38: 86 03        	stx	<R0+2
 10362 04:2B3A: DA           	phx
 10363 04:2B3B: 48           	pha
 10364 04:2B3C: 22 xx xx xx  	jsl	~~k_send_window_message
 10365                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_command_message");
 10366                        ;		k_send_command_message(k_getHandleFromWi
                    ndow(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_str
                    ing_copy_string(caption),0L);
 10367                        	.line	1832
 10368 04:2B40: F4 00 00     	pea	#^$0
 10369 04:2B43: F4 00 00     	pea	#<$0
 10370 04:2B46: D4 1E        	pei	<L380+caption_0+2
 10371 04:2B48: D4 1C        	pei	<L380+caption_0
 10372 04:2B4A: 22 xx xx xx  	jsl	~~k_string_copy_string
 10373 04:2B4E: 85 01        	sta	<R0
 10374 04:2B50: 86 03        	stx	<R0+2
 10375 04:2B52: D4 03        	pei	<R0+2
 10376 04:2B54: D4 01        	pei	<R0
 10377 04:2B56: F4 00 00     	pea	#<$0
 10378 04:2B59: F4 01 00     	pea	#<$1
 10379 04:2B5C: F4 00 FA     	pea	#<$fa00
 10380 04:2B5F: D4 0F        	pei	<L381+pWin_1+2
 10381 04:2B61: D4 0D        	pei	<L381+pWin_1
 10382 04:2B63: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 10383 04:2B67: 85 05        	sta	<R1
  Wed Nov 18 2020  8:26                                                Page 203


 10384 04:2B69: 86 07        	stx	<R1+2
 10385 04:2B6B: DA           	phx
 10386 04:2B6C: 48           	pha
 10387 04:2B6D: 22 xx xx xx  	jsl	~~k_send_command_message
 10388                        ;
 10389                        ;	}
 10390                        	.line	1834
 10391                        ;
 10392                        ;	//k_debug_strings("k_user_CreateButton:","Exit")
                    ;
 10393                        ;
 10394                        ;	return pWin;
 10395                        L10137:
 10396                        	.line	1838
 10397 04:2B71: A6 0F        	ldx	<L381+pWin_1+2
 10398 04:2B73: A5 0D        	lda	<L381+pWin_1
 10399                        L387:
 10400 04:2B75: A8           	tay
 10401 04:2B76: A5 16        	lda	<L380+2
 10402 04:2B78: 85 28        	sta	<L380+2+18
 10403 04:2B7A: A5 15        	lda	<L380+1
 10404 04:2B7C: 85 27        	sta	<L380+1+18
 10405 04:2B7E: 2B           	pld
 10406 04:2B7F: 3B           	tsc
 10407 04:2B80: 18           	clc
 10408 04:2B81: 69 26 00     	adc	#L380+18
 10409 04:2B84: 1B           	tcs
 10410 04:2B85: 98           	tya
 10411 04:2B86: 6B           	rtl
 10412                        ;}
 10413                        	.line	1839
 10414                        	.endblock	1839
 10415             00000014   L380	equ	20
 10416             0000000D   L381	equ	13
 10417 04:2B87:              	ends
 10418                        	efunc
 10419                        	.endfunc	1839,13,20
 10420                        	.line	1839
 10421                        	data
 10422                        L379:
 10423 00:0832: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$42,$75
       00:0836: 65 72 5F 43 
       00:083A: 72 65 61 74 
       00:083E: 65 42 75 
 10424 00:0841: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$3A,$63,$78,$3A,$00,$6B,
                    $5F,$75,$73,$65,$72
       00:0845: 3A 63 78 3A 
       00:0849: 00 6B 5F 75 
       00:084D: 73 65 72 
 10425 00:0850: 5F 43 72 65  	db	$5F,$43,$72,$65,$61,$74,$65,$42,$75,$74,
                    $74,$6F,$6E,$3A,$63
       00:0854: 61 74 65 42 
       00:0858: 75 74 74 6F 
       00:085C: 6E 3A 63 
 10426 00:085F: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,
                    $43,$72,$65,$61,$74
       00:0863: 5F 75 73 65 
  Wed Nov 18 2020  8:26                                                Page 204


       00:0867: 72 5F 43 72 
       00:086B: 65 61 74 
 10427 00:086E: 65 42 75 74  	db	$65,$42,$75,$74,$74,$6F,$6E,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0872: 74 6F 6E 3A 
       00:0876: 77 69 64 74 
       00:087A: 68 3A 00 
 10428 00:087D: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$42,$75
       00:0881: 65 72 5F 43 
       00:0885: 72 65 61 74 
       00:0889: 65 42 75 
 10429 00:088C: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$3A,$68,$65,$69,$67,$68,
                    $74,$3A,$00,$62,$75
       00:0890: 3A 68 65 69 
       00:0894: 67 68 74 3A 
       00:0898: 00 62 75 
 10430 00:089B: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:089F: 57 69 6E 64 
       00:08A3: 6F 77 43 6C 
       00:08A7: 61 73 73 
 10431 00:08AA: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$42
       00:08AE: 73 65 72 5F 
       00:08B2: 43 72 65 61 
       00:08B6: 74 65 42 
 10432 00:08B9: 75 74 74 6F  	db	$75,$74,$74,$6F,$6E,$41,$3A,$63,$78,$3A,
                    $00,$6B,$5F,$75,$73
       00:08BD: 6E 41 3A 63 
       00:08C1: 78 3A 00 6B 
       00:08C5: 5F 75 73 
 10433 00:08C8: 65 72 5F 43  	db	$65,$72,$5F,$43,$72,$65,$61,$74,$65,$42,
                    $75,$74,$74,$6F,$6E
       00:08CC: 72 65 61 74 
       00:08D0: 65 42 75 74 
       00:08D4: 74 6F 6E 
 10434 00:08D7: 41 3A 63 79  	db	$41,$3A,$63,$79,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$43,$72
       00:08DB: 3A 00 6B 5F 
       00:08DF: 75 73 65 72 
       00:08E3: 5F 43 72 
 10435 00:08E6: 65 61 74 65  	db	$65,$61,$74,$65,$42,$75,$74,$74,$6F,$6E,
                    $41,$3A,$77,$69,$64
       00:08EA: 42 75 74 74 
       00:08EE: 6F 6E 41 3A 
       00:08F2: 77 69 64 
 10436 00:08F5: 74 68 3A 00  	db	$74,$68,$3A,$00,$6B,$5F,$75,$73,$65,$72,
                    $5F,$43,$72,$65,$61
       00:08F9: 6B 5F 75 73 
       00:08FD: 65 72 5F 43 
       00:0901: 72 65 61 
 10437 00:0904: 74 65 42 75  	db	$74,$65,$42,$75,$74,$74,$6F,$6E,$41,$3A,
                    $68,$65,$69,$67,$68
       00:0908: 74 74 6F 6E 
       00:090C: 41 3A 68 65 
       00:0910: 69 67 68 
 10438 00:0913: 74 3A 00     	db	$74,$3A,$00
  Wed Nov 18 2020  8:26                                                Page 205


 10439 00:0916:              	ends
 10440                        ;
 10441                        ;BOOL buttonWindowProc(PFXOSMESSAGE pMsg)
 10442                        ;{
 10443                        	.line	1841
 10444                        	.line	1842
 10445                        	WINMAN
 10446                        	xdef	~~buttonWindowProc
 10447                        	func
 10448                        	.function	1842
 10449                        ~~buttonWindowProc:
 10450                        	longa	on
 10451                        	longi	on
 10452 04:2B87: 3B           	tsc
 10453 04:2B88: 38           	sec
 10454 04:2B89: E9 1A 00     	sbc	#L389
 10455 04:2B8C: 1B           	tcs
 10456 04:2B8D: 0B           	phd
 10457 04:2B8E: 5B           	tcd
 10458             00000004   pMsg_0	set	4
 10459                        	.block	1842
 10460                        ;	PFXPROCESS p = NULL;
 10461                        ;	PWINDOW	   pWin = NULL;
 10462                        ;	PBUTTON	   pButton = NULL;
 10463                        ;	UINT	   size = 0;
 10464                        ;
 10465                        ;	if(pMsg!=NULL)
 10466             00000000   p_1	set	0
 10467             00000004   pWin_1	set	4
 10468             00000008   pButton_1	set	8
 10469             0000000C   size_1	set	12
 10470                        	.sym	p,0,138,1,32,17
 10471                        	.sym	pWin,4,138,1,32,24
 10472                        	.sym	pButton,8,138,1,32,32
 10473                        	.sym	size,12,16,1,16
 10474                        	.sym	pMsg,4,138,6,32,13
 10475 04:2B8F: 64 0D        	stz	<L390+p_1
 10476 04:2B91: 64 0F        	stz	<L390+p_1+2
 10477 04:2B93: 64 11        	stz	<L390+pWin_1
 10478 04:2B95: 64 13        	stz	<L390+pWin_1+2
 10479 04:2B97: 64 15        	stz	<L390+pButton_1
 10480 04:2B99: 64 17        	stz	<L390+pButton_1+2
 10481 04:2B9B: 64 19        	stz	<L390+size_1
 10482                        	.line	1848
 10483                        ;	{
 10484 04:2B9D: A5 1E        	lda	<L389+pMsg_0
 10485 04:2B9F: 05 20        	ora	<L389+pMsg_0+2
 10486 04:2BA1: D0 03        	bne	L392
 10487 04:2BA3: 82 1B 05     	brl	L10138
 10488                        L392:
 10489                        	.line	1849
 10490                        ;		p = k_exec_get_current_process();
 10491                        	.line	1850
 10492 04:2BA6: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 10493 04:2BAA: 85 0D        	sta	<L390+p_1
 10494 04:2BAC: 86 0F        	stx	<L390+p_1+2
 10495                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  Wed Nov 18 2020  8:26                                                Page 206


 10496                        	.line	1851
 10497 04:2BAE: A0 0C 00     	ldy	#$c
 10498 04:2BB1: B7 1E        	lda	[<L389+pMsg_0],Y
 10499 04:2BB3: 48           	pha
 10500 04:2BB4: A0 0A 00     	ldy	#$a
 10501 04:2BB7: B7 1E        	lda	[<L389+pMsg_0],Y
 10502 04:2BB9: 48           	pha
 10503 04:2BBA: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 10504 04:2BBE: 85 11        	sta	<L390+pWin_1
 10505 04:2BC0: 86 13        	stx	<L390+pWin_1+2
 10506                        ;		pButton = ((PBUTTON)pWin->windowData);
 10507                        	.line	1852
 10508 04:2BC2: A0 91 00     	ldy	#$91
 10509 04:2BC5: B7 11        	lda	[<L390+pWin_1],Y
 10510 04:2BC7: 85 15        	sta	<L390+pButton_1
 10511 04:2BC9: A0 93 00     	ldy	#$93
 10512 04:2BCC: B7 11        	lda	[<L390+pWin_1],Y
 10513 04:2BCE: 85 17        	sta	<L390+pButton_1+2
 10514                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 10515                        ;
 10516                        ;		switch(pMsg->type)
 10517                        	.line	1855
 10518 04:2BD0: A0 08 00     	ldy	#$8
 10519 04:2BD3: B7 1E        	lda	[<L389+pMsg_0],Y
 10520 04:2BD5: 82 C1 04     	brl	L10139
 10521                        ;		{
 10522                        	.line	1856
 10523                        ;		case FX_CREATE_WINDOW:
 10524                        	.line	1857
 10525                        L10141:
 10526                        ;			//k_debug_long("buttonWindowProc
                    ::ProcessId:",p->procId);
 10527                        ;			//k_debug_string("buttonWindowPr
                    oc::FX_CREATE_WINDOW\r\n");
 10528                        ;
 10529                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(BUTTON));
 10530                        	.line	1861
 10531 04:2BD8: F4 0A 00     	pea	#<$a
 10532 04:2BDB: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 10533 04:2BDF: 85 01        	sta	<R0
 10534 04:2BE1: 86 03        	stx	<R0+2
 10535 04:2BE3: A5 01        	lda	<R0
 10536 04:2BE5: A0 91 00     	ldy	#$91
 10537 04:2BE8: 97 11        	sta	[<L390+pWin_1],Y
 10538 04:2BEA: A5 03        	lda	<R0+2
 10539 04:2BEC: A0 93 00     	ldy	#$93
 10540 04:2BEF: 97 11        	sta	[<L390+pWin_1],Y
 10541                        ;
 10542                        ;
 10543                        ;			k_vdraw_ui_window(pWin,
 10544                        	.line	1864
 10545                        ;							
                      FXWS_BORDER | FXWS_VISIBLE,
 10546                        ;							
                      pWin->win_x ,pWin->win_y,
 10547                        ;							
  Wed Nov 18 2020  8:26                                                Page 207


                      pWin->win_height,pWin->win_width,
 10548                        ;							
                      pWin->win_title,
 10549                        ;							
                      k_getUIGadgetColor(), k_getUIMenuColor());
 10550 04:2BF1: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10551 04:2BF5: 48           	pha
 10552 04:2BF6: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10553 04:2BFA: 48           	pha
 10554 04:2BFB: 18           	clc
 10555 04:2BFC: A9 24 00     	lda	#$24
 10556 04:2BFF: 65 11        	adc	<L390+pWin_1
 10557 04:2C01: 85 01        	sta	<R0
 10558 04:2C03: A9 00 00     	lda	#$0
 10559 04:2C06: 65 13        	adc	<L390+pWin_1+2
 10560 04:2C08: 85 03        	sta	<R0+2
 10561 04:2C0A: D4 03        	pei	<R0+2
 10562 04:2C0C: D4 01        	pei	<R0
 10563 04:2C0E: A0 0C 00     	ldy	#$c
 10564 04:2C11: B7 11        	lda	[<L390+pWin_1],Y
 10565 04:2C13: 48           	pha
 10566 04:2C14: A0 0E 00     	ldy	#$e
 10567 04:2C17: B7 11        	lda	[<L390+pWin_1],Y
 10568 04:2C19: 48           	pha
 10569 04:2C1A: A0 0A 00     	ldy	#$a
 10570 04:2C1D: B7 11        	lda	[<L390+pWin_1],Y
 10571 04:2C1F: 48           	pha
 10572 04:2C20: A0 08 00     	ldy	#$8
 10573 04:2C23: B7 11        	lda	[<L390+pWin_1],Y
 10574 04:2C25: 48           	pha
 10575 04:2C26: F4 01 00     	pea	#^$10001
 10576 04:2C29: F4 01 00     	pea	#<$10001
 10577 04:2C2C: D4 13        	pei	<L390+pWin_1+2
 10578 04:2C2E: D4 11        	pei	<L390+pWin_1
 10579 04:2C30: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 10580                        ;
 10581                        ;
 10582                        ;			break;
 10583                        	.line	1872
 10584 04:2C34: 82 8A 04     	brl	L10140
 10585                        ;		case FX_DRAW_WINDOW:
 10586                        	.line	1873
 10587                        L10142:
 10588                        ;			k_debug_pointer("buttonWindowPro
                    c::FX_DRAW_WINDOW:",pButton);
 10589                        	.line	1874
 10590 04:2C37: D4 17        	pei	<L390+pButton_1+2
 10591 04:2C39: D4 15        	pei	<L390+pButton_1
 10592 04:2C3B: F4 xx xx     	pea	#^L388
 10593 04:2C3E: F4 xx xx     	pea	#<L388
 10594 04:2C41: 22 xx xx xx  	jsl	~~k_debug_pointer
 10595                        ;			if(pButton)
 10596                        	.line	1875
 10597                        ;			{
 10598 04:2C45: A5 15        	lda	<L390+pButton_1
 10599 04:2C47: 05 17        	ora	<L390+pButton_1+2
 10600 04:2C49: D0 03        	bne	L393
 10601 04:2C4B: 82 B6 00     	brl	L10143
  Wed Nov 18 2020  8:26                                                Page 208


 10602                        L393:
 10603                        	.line	1876
 10604                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 10605                        	.line	1877
 10606                        ;							
                    	  pWin->win_x ,pWin->win_y,
 10607                        ;							
                    	  pWin->win_height,pWin->win_width,
 10608                        ;							
                    	  pWin->win_title,
 10609                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 10610 04:2C4E: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10611 04:2C52: 48           	pha
 10612 04:2C53: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10613 04:2C57: 48           	pha
 10614 04:2C58: 18           	clc
 10615 04:2C59: A9 24 00     	lda	#$24
 10616 04:2C5C: 65 11        	adc	<L390+pWin_1
 10617 04:2C5E: 85 01        	sta	<R0
 10618 04:2C60: A9 00 00     	lda	#$0
 10619 04:2C63: 65 13        	adc	<L390+pWin_1+2
 10620 04:2C65: 85 03        	sta	<R0+2
 10621 04:2C67: D4 03        	pei	<R0+2
 10622 04:2C69: D4 01        	pei	<R0
 10623 04:2C6B: A0 0C 00     	ldy	#$c
 10624 04:2C6E: B7 11        	lda	[<L390+pWin_1],Y
 10625 04:2C70: 48           	pha
 10626 04:2C71: A0 0E 00     	ldy	#$e
 10627 04:2C74: B7 11        	lda	[<L390+pWin_1],Y
 10628 04:2C76: 48           	pha
 10629 04:2C77: A0 0A 00     	ldy	#$a
 10630 04:2C7A: B7 11        	lda	[<L390+pWin_1],Y
 10631 04:2C7C: 48           	pha
 10632 04:2C7D: A0 08 00     	ldy	#$8
 10633 04:2C80: B7 11        	lda	[<L390+pWin_1],Y
 10634 04:2C82: 48           	pha
 10635 04:2C83: F4 01 00     	pea	#^$10001
 10636 04:2C86: F4 01 00     	pea	#<$10001
 10637 04:2C89: D4 13        	pei	<L390+pWin_1+2
 10638 04:2C8B: D4 11        	pei	<L390+pWin_1
 10639 04:2C8D: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 10640                        ;
 10641                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 10642                        	.line	1883
 10643 04:2C91: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10644 04:2C95: 85 01        	sta	<R0
 10645 04:2C97: A0 02 00     	ldy	#$2
 10646 04:2C9A: B7 15        	lda	[<L390+pButton_1],Y
 10647 04:2C9C: 48           	pha
 10648 04:2C9D: A7 15        	lda	[<L390+pButton_1]
 10649 04:2C9F: 48           	pha
 10650 04:2CA0: 22 xx xx xx  	jsl	~~strlen
 10651 04:2CA4: 85 05        	sta	<R1
 10652 04:2CA6: A5 05        	lda	<R1
 10653 04:2CA8: A6 01        	ldx	<R0
  Wed Nov 18 2020  8:26                                                Page 209


 10654                        	xref	~~~mul
 10655 04:2CAA: 22 xx xx xx  	jsl	~~~mul
 10656 04:2CAE: 85 19        	sta	<L390+size_1
 10657                        ;				k_draw_text_point(pButto
                    n->pCaption,
 10658                        	.line	1884
 10659                        ;							
                    	  pWin->win_x + (pWin->win_width/2)  - (size/2),
 10660                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4),k_getUIGadget
                    Color());
 10661 04:2CB0: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10662 04:2CB4: 48           	pha
 10663 04:2CB5: A0 0E 00     	ldy	#$e
 10664 04:2CB8: B7 11        	lda	[<L390+pWin_1],Y
 10665 04:2CBA: A2 02 00     	ldx	#<$2
 10666                        	xref	~~~div
 10667 04:2CBD: 22 xx xx xx  	jsl	~~~div
 10668 04:2CC1: 85 01        	sta	<R0
 10669 04:2CC3: 18           	clc
 10670 04:2CC4: A5 01        	lda	<R0
 10671 04:2CC6: A0 0A 00     	ldy	#$a
 10672 04:2CC9: 77 11        	adc	[<L390+pWin_1],Y
 10673 04:2CCB: 85 05        	sta	<R1
 10674 04:2CCD: 18           	clc
 10675 04:2CCE: A9 FC FF     	lda	#$fffc
 10676 04:2CD1: 65 05        	adc	<R1
 10677 04:2CD3: 48           	pha
 10678 04:2CD4: A5 19        	lda	<L390+size_1
 10679 04:2CD6: 4A           	lsr	A
 10680 04:2CD7: 85 01        	sta	<R0
 10681 04:2CD9: A0 0C 00     	ldy	#$c
 10682 04:2CDC: B7 11        	lda	[<L390+pWin_1],Y
 10683 04:2CDE: A2 02 00     	ldx	#<$2
 10684                        	xref	~~~div
 10685 04:2CE1: 22 xx xx xx  	jsl	~~~div
 10686 04:2CE5: 85 05        	sta	<R1
 10687 04:2CE7: 18           	clc
 10688 04:2CE8: A5 05        	lda	<R1
 10689 04:2CEA: A0 08 00     	ldy	#$8
 10690 04:2CED: 77 11        	adc	[<L390+pWin_1],Y
 10691 04:2CEF: 85 09        	sta	<R2
 10692 04:2CF1: 38           	sec
 10693 04:2CF2: A5 09        	lda	<R2
 10694 04:2CF4: E5 01        	sbc	<R0
 10695 04:2CF6: 48           	pha
 10696 04:2CF7: A0 02 00     	ldy	#$2
 10697 04:2CFA: B7 15        	lda	[<L390+pButton_1],Y
 10698 04:2CFC: 48           	pha
 10699 04:2CFD: A7 15        	lda	[<L390+pButton_1]
 10700 04:2CFF: 48           	pha
 10701 04:2D00: 22 xx xx xx  	jsl	~~k_draw_text_point
 10702                        ;			}
 10703                        	.line	1887
 10704                        ;			break;
 10705                        L10143:
 10706                        	.line	1888
 10707 04:2D04: 82 BA 03     	brl	L10140
  Wed Nov 18 2020  8:26                                                Page 210


 10708                        ;		case FX_REDRAW_WINDOW:
 10709                        	.line	1889
 10710                        L10144:
 10711                        ;			k_debug_string("buttonWindowProc
                    ::FX_REDRAW_WINDOW\r\n");
 10712                        	.line	1890
 10713 04:2D07: F4 xx xx     	pea	#^L388+34
 10714 04:2D0A: F4 xx xx     	pea	#<L388+34
 10715 04:2D0D: 22 xx xx xx  	jsl	~~k_debug_string
 10716                        ;			break;
 10717                        	.line	1891
 10718 04:2D11: 82 AD 03     	brl	L10140
 10719                        ;
 10720                        ;		case FX_LBUTTON_DOWN:
 10721                        	.line	1893
 10722                        L10145:
 10723                        ;			k_debug_string("buttonWindowProc
                    ::FX_LBUTTON_DOWN\r\n");
 10724                        	.line	1894
 10725 04:2D14: F4 xx xx     	pea	#^L388+71
 10726 04:2D17: F4 xx xx     	pea	#<L388+71
 10727 04:2D1A: 22 xx xx xx  	jsl	~~k_debug_string
 10728                        ;
 10729                        ;
 10730                        ;			if(pButton->pCaption)
 10731                        	.line	1897
 10732                        ;			{
 10733 04:2D1E: A7 15        	lda	[<L390+pButton_1]
 10734 04:2D20: A0 02 00     	ldy	#$2
 10735 04:2D23: 17 15        	ora	[<L390+pButton_1],Y
 10736 04:2D25: D0 03        	bne	L394
 10737 04:2D27: 82 B8 01     	brl	L10146
 10738                        L394:
 10739                        	.line	1898
 10740                        ;				//k_debug_strings("butto
                    nWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCaption );
 10741                        ;
 10742                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 10743                        	.line	1901
 10744                        ;							
                    	  pWin->win_x ,pWin->win_y,
 10745                        ;							
                    	  pWin->win_height,pWin->win_width,
 10746                        ;							
                    	  pWin->win_title,
 10747                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 10748 04:2D2A: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10749 04:2D2E: 48           	pha
 10750 04:2D2F: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10751 04:2D33: 48           	pha
 10752 04:2D34: 18           	clc
 10753 04:2D35: A9 24 00     	lda	#$24
 10754 04:2D38: 65 11        	adc	<L390+pWin_1
 10755 04:2D3A: 85 01        	sta	<R0
 10756 04:2D3C: A9 00 00     	lda	#$0
 10757 04:2D3F: 65 13        	adc	<L390+pWin_1+2
  Wed Nov 18 2020  8:26                                                Page 211


 10758 04:2D41: 85 03        	sta	<R0+2
 10759 04:2D43: D4 03        	pei	<R0+2
 10760 04:2D45: D4 01        	pei	<R0
 10761 04:2D47: A0 0C 00     	ldy	#$c
 10762 04:2D4A: B7 11        	lda	[<L390+pWin_1],Y
 10763 04:2D4C: 48           	pha
 10764 04:2D4D: A0 0E 00     	ldy	#$e
 10765 04:2D50: B7 11        	lda	[<L390+pWin_1],Y
 10766 04:2D52: 48           	pha
 10767 04:2D53: A0 0A 00     	ldy	#$a
 10768 04:2D56: B7 11        	lda	[<L390+pWin_1],Y
 10769 04:2D58: 48           	pha
 10770 04:2D59: A0 08 00     	ldy	#$8
 10771 04:2D5C: B7 11        	lda	[<L390+pWin_1],Y
 10772 04:2D5E: 48           	pha
 10773 04:2D5F: F4 01 00     	pea	#^$10001
 10774 04:2D62: F4 01 00     	pea	#<$10001
 10775 04:2D65: D4 13        	pei	<L390+pWin_1+2
 10776 04:2D67: D4 11        	pei	<L390+pWin_1
 10777 04:2D69: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 10778                        ;
 10779                        ;				/*
 10780                        ;				k_draw_line(pWin->win_x 
                    + 1 ,pWin->win_y + 1,
 10781                        ;						    pWin
                    ->win_x + 1,
 10782                        ;							
                    pWin->win_y + pWin->win_height - 1 , 0);
 10783                        ;
 10784                        ;				k_draw_line(pWin->win_x 
                    + 1 ,pWin->win_y + pWin->win_height - 1,
 10785                        ;						    pWin
                    ->win_x + pWin->win_width - 1,pWin->win_y + pWin->win_height
                     - 1 , 0);
 10786                        ;
 10787                        ;				*/
 10788                        ;
 10789                        ;				k_draw_line(pWin->win_x 
                    + 1 ,
 10790                        	.line	1917
 10791                        ;							
                    pWin->win_y + 1,
 10792                        ;						    pWin
                    ->win_x + pWin->win_width - 1,
 10793                        ;							
                    pWin->win_y + 1,
 10794                        ;							
                    0);
 10795 04:2D6D: F4 00 00     	pea	#<$0
 10796 04:2D70: A0 0A 00     	ldy	#$a
 10797 04:2D73: B7 11        	lda	[<L390+pWin_1],Y
 10798 04:2D75: 1A           	ina
 10799 04:2D76: 48           	pha
 10800 04:2D77: 18           	clc
 10801 04:2D78: A0 08 00     	ldy	#$8
 10802 04:2D7B: B7 11        	lda	[<L390+pWin_1],Y
 10803 04:2D7D: A0 0C 00     	ldy	#$c
 10804 04:2D80: 77 11        	adc	[<L390+pWin_1],Y
  Wed Nov 18 2020  8:26                                                Page 212


 10805 04:2D82: 85 01        	sta	<R0
 10806 04:2D84: 18           	clc
 10807 04:2D85: A9 FF FF     	lda	#$ffff
 10808 04:2D88: 65 01        	adc	<R0
 10809 04:2D8A: 48           	pha
 10810 04:2D8B: A0 0A 00     	ldy	#$a
 10811 04:2D8E: B7 11        	lda	[<L390+pWin_1],Y
 10812 04:2D90: 1A           	ina
 10813 04:2D91: 48           	pha
 10814 04:2D92: A0 08 00     	ldy	#$8
 10815 04:2D95: B7 11        	lda	[<L390+pWin_1],Y
 10816 04:2D97: 1A           	ina
 10817 04:2D98: 48           	pha
 10818 04:2D99: 22 xx xx xx  	jsl	~~k_draw_line
 10819                        ;
 10820                        ;				k_draw_line(pWin->win_x 
                    + 1 ,
 10821                        	.line	1923
 10822                        ;							
                    pWin->win_y + 2,
 10823                        ;						    pWin
                    ->win_x + pWin->win_width - 1,
 10824                        ;							
                    pWin->win_y + 2,
 10825                        ;							
                    0);
 10826 04:2D9D: F4 00 00     	pea	#<$0
 10827 04:2DA0: 18           	clc
 10828 04:2DA1: A9 02 00     	lda	#$2
 10829 04:2DA4: A0 0A 00     	ldy	#$a
 10830 04:2DA7: 77 11        	adc	[<L390+pWin_1],Y
 10831 04:2DA9: 48           	pha
 10832 04:2DAA: 18           	clc
 10833 04:2DAB: A0 08 00     	ldy	#$8
 10834 04:2DAE: B7 11        	lda	[<L390+pWin_1],Y
 10835 04:2DB0: A0 0C 00     	ldy	#$c
 10836 04:2DB3: 77 11        	adc	[<L390+pWin_1],Y
 10837 04:2DB5: 85 01        	sta	<R0
 10838 04:2DB7: 18           	clc
 10839 04:2DB8: A9 FF FF     	lda	#$ffff
 10840 04:2DBB: 65 01        	adc	<R0
 10841 04:2DBD: 48           	pha
 10842 04:2DBE: 18           	clc
 10843 04:2DBF: A9 02 00     	lda	#$2
 10844 04:2DC2: A0 0A 00     	ldy	#$a
 10845 04:2DC5: 77 11        	adc	[<L390+pWin_1],Y
 10846 04:2DC7: 48           	pha
 10847 04:2DC8: A0 08 00     	ldy	#$8
 10848 04:2DCB: B7 11        	lda	[<L390+pWin_1],Y
 10849 04:2DCD: 1A           	ina
 10850 04:2DCE: 48           	pha
 10851 04:2DCF: 22 xx xx xx  	jsl	~~k_draw_line
 10852                        ;
 10853                        ;
 10854                        ;				k_draw_line(pWin->win_x 
                    + pWin->win_width  - 1,
 10855                        	.line	1930
 10856                        ;							
  Wed Nov 18 2020  8:26                                                Page 213


                    pWin->win_y + 1 ,
 10857                        ;						    pWin
                    ->win_x + pWin->win_width  - 1,
 10858                        ;							
                    pWin->win_y + pWin->win_height - 1,
 10859                        ;							
                    0);
 10860 04:2DD3: F4 00 00     	pea	#<$0
 10861 04:2DD6: 18           	clc
 10862 04:2DD7: A0 0A 00     	ldy	#$a
 10863 04:2DDA: B7 11        	lda	[<L390+pWin_1],Y
 10864 04:2DDC: A0 0E 00     	ldy	#$e
 10865 04:2DDF: 77 11        	adc	[<L390+pWin_1],Y
 10866 04:2DE1: 85 01        	sta	<R0
 10867 04:2DE3: 18           	clc
 10868 04:2DE4: A9 FF FF     	lda	#$ffff
 10869 04:2DE7: 65 01        	adc	<R0
 10870 04:2DE9: 48           	pha
 10871 04:2DEA: 18           	clc
 10872 04:2DEB: A0 08 00     	ldy	#$8
 10873 04:2DEE: B7 11        	lda	[<L390+pWin_1],Y
 10874 04:2DF0: A0 0C 00     	ldy	#$c
 10875 04:2DF3: 77 11        	adc	[<L390+pWin_1],Y
 10876 04:2DF5: 85 01        	sta	<R0
 10877 04:2DF7: 18           	clc
 10878 04:2DF8: A9 FF FF     	lda	#$ffff
 10879 04:2DFB: 65 01        	adc	<R0
 10880 04:2DFD: 48           	pha
 10881 04:2DFE: A0 0A 00     	ldy	#$a
 10882 04:2E01: B7 11        	lda	[<L390+pWin_1],Y
 10883 04:2E03: 1A           	ina
 10884 04:2E04: 48           	pha
 10885 04:2E05: 18           	clc
 10886 04:2E06: A0 08 00     	ldy	#$8
 10887 04:2E09: B7 11        	lda	[<L390+pWin_1],Y
 10888 04:2E0B: A0 0C 00     	ldy	#$c
 10889 04:2E0E: 77 11        	adc	[<L390+pWin_1],Y
 10890 04:2E10: 85 01        	sta	<R0
 10891 04:2E12: 18           	clc
 10892 04:2E13: A9 FF FF     	lda	#$ffff
 10893 04:2E16: 65 01        	adc	<R0
 10894 04:2E18: 48           	pha
 10895 04:2E19: 22 xx xx xx  	jsl	~~k_draw_line
 10896                        ;
 10897                        ;				k_draw_line(pWin->win_x 
                    + pWin->win_width  - 2,
 10898                        	.line	1936
 10899                        ;							
                    pWin->win_y + 1,
 10900                        ;						    pWin
                    ->win_x + pWin->win_width  - 2,
 10901                        ;							
                    pWin->win_y + pWin->win_height - 1,
 10902                        ;							
                    0);
 10903 04:2E1D: F4 00 00     	pea	#<$0
 10904 04:2E20: 18           	clc
 10905 04:2E21: A0 0A 00     	ldy	#$a
  Wed Nov 18 2020  8:26                                                Page 214


 10906 04:2E24: B7 11        	lda	[<L390+pWin_1],Y
 10907 04:2E26: A0 0E 00     	ldy	#$e
 10908 04:2E29: 77 11        	adc	[<L390+pWin_1],Y
 10909 04:2E2B: 85 01        	sta	<R0
 10910 04:2E2D: 18           	clc
 10911 04:2E2E: A9 FF FF     	lda	#$ffff
 10912 04:2E31: 65 01        	adc	<R0
 10913 04:2E33: 48           	pha
 10914 04:2E34: 18           	clc
 10915 04:2E35: A0 08 00     	ldy	#$8
 10916 04:2E38: B7 11        	lda	[<L390+pWin_1],Y
 10917 04:2E3A: A0 0C 00     	ldy	#$c
 10918 04:2E3D: 77 11        	adc	[<L390+pWin_1],Y
 10919 04:2E3F: 85 01        	sta	<R0
 10920 04:2E41: 18           	clc
 10921 04:2E42: A9 FE FF     	lda	#$fffe
 10922 04:2E45: 65 01        	adc	<R0
 10923 04:2E47: 48           	pha
 10924 04:2E48: A0 0A 00     	ldy	#$a
 10925 04:2E4B: B7 11        	lda	[<L390+pWin_1],Y
 10926 04:2E4D: 1A           	ina
 10927 04:2E4E: 48           	pha
 10928 04:2E4F: 18           	clc
 10929 04:2E50: A0 08 00     	ldy	#$8
 10930 04:2E53: B7 11        	lda	[<L390+pWin_1],Y
 10931 04:2E55: A0 0C 00     	ldy	#$c
 10932 04:2E58: 77 11        	adc	[<L390+pWin_1],Y
 10933 04:2E5A: 85 01        	sta	<R0
 10934 04:2E5C: 18           	clc
 10935 04:2E5D: A9 FE FF     	lda	#$fffe
 10936 04:2E60: 65 01        	adc	<R0
 10937 04:2E62: 48           	pha
 10938 04:2E63: 22 xx xx xx  	jsl	~~k_draw_line
 10939                        ;
 10940                        ;
 10941                        ;
 10942                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 10943                        	.line	1944
 10944 04:2E67: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10945 04:2E6B: 85 01        	sta	<R0
 10946 04:2E6D: A0 02 00     	ldy	#$2
 10947 04:2E70: B7 15        	lda	[<L390+pButton_1],Y
 10948 04:2E72: 48           	pha
 10949 04:2E73: A7 15        	lda	[<L390+pButton_1]
 10950 04:2E75: 48           	pha
 10951 04:2E76: 22 xx xx xx  	jsl	~~strlen
 10952 04:2E7A: 85 05        	sta	<R1
 10953 04:2E7C: A5 05        	lda	<R1
 10954 04:2E7E: A6 01        	ldx	<R0
 10955                        	xref	~~~mul
 10956 04:2E80: 22 xx xx xx  	jsl	~~~mul
 10957 04:2E84: 85 19        	sta	<L390+size_1
 10958                        ;				k_draw_text_point(pButto
                    n->pCaption,
 10959                        	.line	1945
 10960                        ;						        
                      pWin->win_x + (pWin->win_width/2)  - (size/2) - 2,
  Wed Nov 18 2020  8:26                                                Page 215


 10961                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4) + 2     , k_g
                    etUIGadgetColor()) ;
 10962 04:2E86: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10963 04:2E8A: 48           	pha
 10964 04:2E8B: A0 0E 00     	ldy	#$e
 10965 04:2E8E: B7 11        	lda	[<L390+pWin_1],Y
 10966 04:2E90: A2 02 00     	ldx	#<$2
 10967                        	xref	~~~div
 10968 04:2E93: 22 xx xx xx  	jsl	~~~div
 10969 04:2E97: 85 01        	sta	<R0
 10970 04:2E99: 18           	clc
 10971 04:2E9A: A5 01        	lda	<R0
 10972 04:2E9C: A0 0A 00     	ldy	#$a
 10973 04:2E9F: 77 11        	adc	[<L390+pWin_1],Y
 10974 04:2EA1: 85 05        	sta	<R1
 10975 04:2EA3: 18           	clc
 10976 04:2EA4: A9 FE FF     	lda	#$fffe
 10977 04:2EA7: 65 05        	adc	<R1
 10978 04:2EA9: 48           	pha
 10979 04:2EAA: A5 19        	lda	<L390+size_1
 10980 04:2EAC: 4A           	lsr	A
 10981 04:2EAD: 85 01        	sta	<R0
 10982 04:2EAF: A0 0C 00     	ldy	#$c
 10983 04:2EB2: B7 11        	lda	[<L390+pWin_1],Y
 10984 04:2EB4: A2 02 00     	ldx	#<$2
 10985                        	xref	~~~div
 10986 04:2EB7: 22 xx xx xx  	jsl	~~~div
 10987 04:2EBB: 85 05        	sta	<R1
 10988 04:2EBD: 18           	clc
 10989 04:2EBE: A5 05        	lda	<R1
 10990 04:2EC0: A0 08 00     	ldy	#$8
 10991 04:2EC3: 77 11        	adc	[<L390+pWin_1],Y
 10992 04:2EC5: 85 09        	sta	<R2
 10993 04:2EC7: 38           	sec
 10994 04:2EC8: A5 09        	lda	<R2
 10995 04:2ECA: E5 01        	sbc	<R0
 10996 04:2ECC: 85 05        	sta	<R1
 10997 04:2ECE: 18           	clc
 10998 04:2ECF: A9 FE FF     	lda	#$fffe
 10999 04:2ED2: 65 05        	adc	<R1
 11000 04:2ED4: 48           	pha
 11001 04:2ED5: A0 02 00     	ldy	#$2
 11002 04:2ED8: B7 15        	lda	[<L390+pButton_1],Y
 11003 04:2EDA: 48           	pha
 11004 04:2EDB: A7 15        	lda	[<L390+pButton_1]
 11005 04:2EDD: 48           	pha
 11006 04:2EDE: 22 xx xx xx  	jsl	~~k_draw_text_point
 11007                        ;			}
 11008                        	.line	1948
 11009                        ;
 11010                        ;
 11011                        ;			break;
 11012                        L10146:
 11013                        	.line	1951
 11014 04:2EE2: 82 DC 01     	brl	L10140
 11015                        ;
 11016                        ;		case FX_LBUTTON_UP:
  Wed Nov 18 2020  8:26                                                Page 216


 11017                        	.line	1953
 11018                        L10147:
 11019                        ;			k_debug_string("buttonWindowProc
                    ::FX_LBUTTON_UP\r\n");
 11020                        	.line	1954
 11021 04:2EE5: F4 xx xx     	pea	#^L388+107
 11022 04:2EE8: F4 xx xx     	pea	#<L388+107
 11023 04:2EEB: 22 xx xx xx  	jsl	~~k_debug_string
 11024                        ;			if(pButton->pCaption)
 11025                        	.line	1955
 11026                        ;			{
 11027 04:2EEF: A7 15        	lda	[<L390+pButton_1]
 11028 04:2EF1: A0 02 00     	ldy	#$2
 11029 04:2EF4: 17 15        	ora	[<L390+pButton_1],Y
 11030 04:2EF6: D0 03        	bne	L395
 11031 04:2EF8: 82 B6 00     	brl	L10148
 11032                        L395:
 11033                        	.line	1956
 11034                        ;				//k_debug_strings("butto
                    nWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCaption );
 11035                        ;
 11036                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 11037                        	.line	1959
 11038                        ;							
                    	  pWin->win_x ,pWin->win_y,
 11039                        ;							
                    	  pWin->win_height,pWin->win_width,
 11040                        ;							
                    	  pWin->win_title,
 11041                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 11042 04:2EFB: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 11043 04:2EFF: 48           	pha
 11044 04:2F00: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 11045 04:2F04: 48           	pha
 11046 04:2F05: 18           	clc
 11047 04:2F06: A9 24 00     	lda	#$24
 11048 04:2F09: 65 11        	adc	<L390+pWin_1
 11049 04:2F0B: 85 01        	sta	<R0
 11050 04:2F0D: A9 00 00     	lda	#$0
 11051 04:2F10: 65 13        	adc	<L390+pWin_1+2
 11052 04:2F12: 85 03        	sta	<R0+2
 11053 04:2F14: D4 03        	pei	<R0+2
 11054 04:2F16: D4 01        	pei	<R0
 11055 04:2F18: A0 0C 00     	ldy	#$c
 11056 04:2F1B: B7 11        	lda	[<L390+pWin_1],Y
 11057 04:2F1D: 48           	pha
 11058 04:2F1E: A0 0E 00     	ldy	#$e
 11059 04:2F21: B7 11        	lda	[<L390+pWin_1],Y
 11060 04:2F23: 48           	pha
 11061 04:2F24: A0 0A 00     	ldy	#$a
 11062 04:2F27: B7 11        	lda	[<L390+pWin_1],Y
 11063 04:2F29: 48           	pha
 11064 04:2F2A: A0 08 00     	ldy	#$8
 11065 04:2F2D: B7 11        	lda	[<L390+pWin_1],Y
 11066 04:2F2F: 48           	pha
 11067 04:2F30: F4 01 00     	pea	#^$10001
  Wed Nov 18 2020  8:26                                                Page 217


 11068 04:2F33: F4 01 00     	pea	#<$10001
 11069 04:2F36: D4 13        	pei	<L390+pWin_1+2
 11070 04:2F38: D4 11        	pei	<L390+pWin_1
 11071 04:2F3A: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 11072                        ;
 11073                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 11074                        	.line	1965
 11075 04:2F3E: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 11076 04:2F42: 85 01        	sta	<R0
 11077 04:2F44: A0 02 00     	ldy	#$2
 11078 04:2F47: B7 15        	lda	[<L390+pButton_1],Y
 11079 04:2F49: 48           	pha
 11080 04:2F4A: A7 15        	lda	[<L390+pButton_1]
 11081 04:2F4C: 48           	pha
 11082 04:2F4D: 22 xx xx xx  	jsl	~~strlen
 11083 04:2F51: 85 05        	sta	<R1
 11084 04:2F53: A5 05        	lda	<R1
 11085 04:2F55: A6 01        	ldx	<R0
 11086                        	xref	~~~mul
 11087 04:2F57: 22 xx xx xx  	jsl	~~~mul
 11088 04:2F5B: 85 19        	sta	<L390+size_1
 11089                        ;				k_draw_text_point(pButto
                    n->pCaption,
 11090                        	.line	1966
 11091                        ;						        
                      pWin->win_x + (pWin->win_width/2)  - (size/2),
 11092                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4),k_getUIGadget
                    Color());
 11093 04:2F5D: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 11094 04:2F61: 48           	pha
 11095 04:2F62: A0 0E 00     	ldy	#$e
 11096 04:2F65: B7 11        	lda	[<L390+pWin_1],Y
 11097 04:2F67: A2 02 00     	ldx	#<$2
 11098                        	xref	~~~div
 11099 04:2F6A: 22 xx xx xx  	jsl	~~~div
 11100 04:2F6E: 85 01        	sta	<R0
 11101 04:2F70: 18           	clc
 11102 04:2F71: A5 01        	lda	<R0
 11103 04:2F73: A0 0A 00     	ldy	#$a
 11104 04:2F76: 77 11        	adc	[<L390+pWin_1],Y
 11105 04:2F78: 85 05        	sta	<R1
 11106 04:2F7A: 18           	clc
 11107 04:2F7B: A9 FC FF     	lda	#$fffc
 11108 04:2F7E: 65 05        	adc	<R1
 11109 04:2F80: 48           	pha
 11110 04:2F81: A5 19        	lda	<L390+size_1
 11111 04:2F83: 4A           	lsr	A
 11112 04:2F84: 85 01        	sta	<R0
 11113 04:2F86: A0 0C 00     	ldy	#$c
 11114 04:2F89: B7 11        	lda	[<L390+pWin_1],Y
 11115 04:2F8B: A2 02 00     	ldx	#<$2
 11116                        	xref	~~~div
 11117 04:2F8E: 22 xx xx xx  	jsl	~~~div
 11118 04:2F92: 85 05        	sta	<R1
 11119 04:2F94: 18           	clc
 11120 04:2F95: A5 05        	lda	<R1
  Wed Nov 18 2020  8:26                                                Page 218


 11121 04:2F97: A0 08 00     	ldy	#$8
 11122 04:2F9A: 77 11        	adc	[<L390+pWin_1],Y
 11123 04:2F9C: 85 09        	sta	<R2
 11124 04:2F9E: 38           	sec
 11125 04:2F9F: A5 09        	lda	<R2
 11126 04:2FA1: E5 01        	sbc	<R0
 11127 04:2FA3: 48           	pha
 11128 04:2FA4: A0 02 00     	ldy	#$2
 11129 04:2FA7: B7 15        	lda	[<L390+pButton_1],Y
 11130 04:2FA9: 48           	pha
 11131 04:2FAA: A7 15        	lda	[<L390+pButton_1]
 11132 04:2FAC: 48           	pha
 11133 04:2FAD: 22 xx xx xx  	jsl	~~k_draw_text_point
 11134                        ;			}
 11135                        	.line	1969
 11136                        ;
 11137                        ;			//k_send_command_message(pWin->p
                    ParentWindow,FX_CONTROL_COMMAND,LOWORD((ULONG)pWin->hMenu),0
                    ,0L,0L);
 11138                        ;
 11139                        ;			k_send_command_message(pWin->pPa
                    rentWindow,FX_CONTROL_COMMAND,CTL_BUTTON_SELECTED,LOWORD((UL
                    ONG)pWin->hMenu),0L,0L);
 11140                        L10148:
 11141                        	.line	1973
 11142 04:2FB1: F4 00 00     	pea	#^$0
 11143 04:2FB4: F4 00 00     	pea	#<$0
 11144 04:2FB7: F4 00 00     	pea	#^$0
 11145 04:2FBA: F4 00 00     	pea	#<$0
 11146 04:2FBD: A0 84 00     	ldy	#$84
 11147 04:2FC0: B7 11        	lda	[<L390+pWin_1],Y
 11148 04:2FC2: 48           	pha
 11149 04:2FC3: F4 02 00     	pea	#<$2
 11150 04:2FC6: F4 00 FA     	pea	#<$fa00
 11151 04:2FC9: A0 82 00     	ldy	#$82
 11152 04:2FCC: B7 11        	lda	[<L390+pWin_1],Y
 11153 04:2FCE: 48           	pha
 11154 04:2FCF: A0 80 00     	ldy	#$80
 11155 04:2FD2: B7 11        	lda	[<L390+pWin_1],Y
 11156 04:2FD4: 48           	pha
 11157 04:2FD5: 22 xx xx xx  	jsl	~~k_send_command_message
 11158                        ;
 11159                        ;			break;
 11160                        	.line	1975
 11161 04:2FD9: 82 E5 00     	brl	L10140
 11162                        ;		case FX_MOUSE_ENTER:
 11163                        	.line	1976
 11164                        L10149:
 11165                        ;			k_debug_string("buttonWindowProc
                    ::FX_MOUSE_ENTER\r\n");
 11166                        	.line	1977
 11167 04:2FDC: F4 xx xx     	pea	#^L388+141
 11168 04:2FDF: F4 xx xx     	pea	#<L388+141
 11169 04:2FE2: 22 xx xx xx  	jsl	~~k_debug_string
 11170                        ;
 11171                        ;			break;
 11172                        	.line	1979
 11173 04:2FE6: 82 D8 00     	brl	L10140
  Wed Nov 18 2020  8:26                                                Page 219


 11174                        ;		case FX_MOUSE_EXIT:
 11175                        	.line	1980
 11176                        L10150:
 11177                        ;			k_debug_string("buttonWindowProc
                    ::FX_MOUSE_EXIT\r\n");
 11178                        	.line	1981
 11179 04:2FE9: F4 xx xx     	pea	#^L388+176
 11180 04:2FEC: F4 xx xx     	pea	#<L388+176
 11181 04:2FEF: 22 xx xx xx  	jsl	~~k_debug_string
 11182                        ;
 11183                        ;			break;
 11184                        	.line	1983
 11185 04:2FF3: 82 CB 00     	brl	L10140
 11186                        ;
 11187                        ;		case FX_CONTROL_COMMAND:
 11188                        	.line	1985
 11189                        L10151:
 11190                        ;			//k_debug_string("buttonWindowPr
                    oc::FX_CONTROL_COMMAND\r\n");
 11191                        ;
 11192                        ;
 11193                        ;
 11194                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_CMD_CAPTION )
 11195                        	.line	1990
 11196                        ;			{
 11197 04:2FF6: A0 16 00     	ldy	#$16
 11198 04:2FF9: B7 1E        	lda	[<L389+pMsg_0],Y
 11199 04:2FFB: C9 01 00     	cmp	#<$1
 11200 04:2FFE: F0 03        	beq	L396
 11201 04:3000: 82 90 00     	brl	L10152
 11202                        L396:
 11203                        	.line	1991
 11204                        ;				pButton->pCaption = (LPC
                    HAR)((PFXCMDMESSAGE)pMsg)->parameter1;
 11205                        	.line	1992
 11206 04:3003: A0 1A 00     	ldy	#$1a
 11207 04:3006: B7 1E        	lda	[<L389+pMsg_0],Y
 11208 04:3008: 87 15        	sta	[<L390+pButton_1]
 11209 04:300A: A0 1C 00     	ldy	#$1c
 11210 04:300D: B7 1E        	lda	[<L389+pMsg_0],Y
 11211 04:300F: A0 02 00     	ldy	#$2
 11212 04:3012: 97 15        	sta	[<L390+pButton_1],Y
 11213                        ;
 11214                        ;				if(pButton->pCaption)
 11215                        	.line	1994
 11216                        ;				{
 11217 04:3014: A7 15        	lda	[<L390+pButton_1]
 11218 04:3016: A0 02 00     	ldy	#$2
 11219 04:3019: 17 15        	ora	[<L390+pButton_1],Y
 11220 04:301B: D0 03        	bne	L397
 11221 04:301D: 82 73 00     	brl	L10153
 11222                        L397:
 11223                        	.line	1995
 11224                        ;					//k_debug_string
                    s("buttonWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCa
                    ption );
 11225                        ;
  Wed Nov 18 2020  8:26                                                Page 220


 11226                        ;					size = strlen(pB
                    utton->pCaption) * FONTW;
 11227                        	.line	1998
 11228 04:3020: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 11229 04:3024: 85 01        	sta	<R0
 11230 04:3026: A0 02 00     	ldy	#$2
 11231 04:3029: B7 15        	lda	[<L390+pButton_1],Y
 11232 04:302B: 48           	pha
 11233 04:302C: A7 15        	lda	[<L390+pButton_1]
 11234 04:302E: 48           	pha
 11235 04:302F: 22 xx xx xx  	jsl	~~strlen
 11236 04:3033: 85 05        	sta	<R1
 11237 04:3035: A5 05        	lda	<R1
 11238 04:3037: A6 01        	ldx	<R0
 11239                        	xref	~~~mul
 11240 04:3039: 22 xx xx xx  	jsl	~~~mul
 11241 04:303D: 85 19        	sta	<L390+size_1
 11242                        ;					k_draw_text_poin
                    t(pButton->pCaption,
 11243                        	.line	1999
 11244                        ;							
                              pWin->win_x + (pWin->win_width/2)  - (size/2),
 11245                        ;							
                    		  pWin->win_y + (pWin->win_height/2) - (4),k_get
                    UIGadgetColor());
 11246 04:303F: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 11247 04:3043: 48           	pha
 11248 04:3044: A0 0E 00     	ldy	#$e
 11249 04:3047: B7 11        	lda	[<L390+pWin_1],Y
 11250 04:3049: A2 02 00     	ldx	#<$2
 11251                        	xref	~~~div
 11252 04:304C: 22 xx xx xx  	jsl	~~~div
 11253 04:3050: 85 01        	sta	<R0
 11254 04:3052: 18           	clc
 11255 04:3053: A5 01        	lda	<R0
 11256 04:3055: A0 0A 00     	ldy	#$a
 11257 04:3058: 77 11        	adc	[<L390+pWin_1],Y
 11258 04:305A: 85 05        	sta	<R1
 11259 04:305C: 18           	clc
 11260 04:305D: A9 FC FF     	lda	#$fffc
 11261 04:3060: 65 05        	adc	<R1
 11262 04:3062: 48           	pha
 11263 04:3063: A5 19        	lda	<L390+size_1
 11264 04:3065: 4A           	lsr	A
 11265 04:3066: 85 01        	sta	<R0
 11266 04:3068: A0 0C 00     	ldy	#$c
 11267 04:306B: B7 11        	lda	[<L390+pWin_1],Y
 11268 04:306D: A2 02 00     	ldx	#<$2
 11269                        	xref	~~~div
 11270 04:3070: 22 xx xx xx  	jsl	~~~div
 11271 04:3074: 85 05        	sta	<R1
 11272 04:3076: 18           	clc
 11273 04:3077: A5 05        	lda	<R1
 11274 04:3079: A0 08 00     	ldy	#$8
 11275 04:307C: 77 11        	adc	[<L390+pWin_1],Y
 11276 04:307E: 85 09        	sta	<R2
 11277 04:3080: 38           	sec
 11278 04:3081: A5 09        	lda	<R2
  Wed Nov 18 2020  8:26                                                Page 221


 11279 04:3083: E5 01        	sbc	<R0
 11280 04:3085: 48           	pha
 11281 04:3086: A0 02 00     	ldy	#$2
 11282 04:3089: B7 15        	lda	[<L390+pButton_1],Y
 11283 04:308B: 48           	pha
 11284 04:308C: A7 15        	lda	[<L390+pButton_1]
 11285 04:308E: 48           	pha
 11286 04:308F: 22 xx xx xx  	jsl	~~k_draw_text_point
 11287                        ;				}
 11288                        	.line	2002
 11289                        ;			}
 11290                        L10153:
 11291                        	.line	2003
 11292                        ;
 11293                        ;			break;
 11294                        L10152:
 11295                        	.line	2005
 11296 04:3093: 82 2B 00     	brl	L10140
 11297                        ;		default:
 11298                        	.line	2006
 11299                        L10154:
 11300                        ;			break;
 11301                        	.line	2007
 11302 04:3096: 82 28 00     	brl	L10140
 11303                        ;		}
 11304                        	.line	2008
 11305                        L10139:
 11306                        	xref	~~~swt
 11307 04:3099: 22 xx xx xx  	jsl	~~~swt
 11308 04:309D: 08 00        	dw	8
 11309 04:309F: 01 0F        	dw	3841
 11310 04:30A1: DB 2F        	dw	L10149-1
 11311 04:30A3: 02 0F        	dw	3842
 11312 04:30A5: E8 2F        	dw	L10150-1
 11313 04:30A7: 04 0F        	dw	3844
 11314 04:30A9: 13 2D        	dw	L10145-1
 11315 04:30AB: 06 0F        	dw	3846
 11316 04:30AD: E4 2E        	dw	L10147-1
 11317 04:30AF: 00 FA        	dw	64000
 11318 04:30B1: F5 2F        	dw	L10151-1
 11319 04:30B3: 00 FB        	dw	64256
 11320 04:30B5: 36 2C        	dw	L10142-1
 11321 04:30B7: 07 FB        	dw	64263
 11322 04:30B9: 06 2D        	dw	L10144-1
 11323 04:30BB: 03 FF        	dw	65283
 11324 04:30BD: D7 2B        	dw	L10141-1
 11325 04:30BF: 95 30        	dw	L10154-1
 11326                        L10140:
 11327                        ;	}
 11328                        	.line	2009
 11329                        ;
 11330                        ;	return TRUE;
 11331                        L10138:
 11332                        	.line	2011
 11333 04:30C1: A9 01 00     	lda	#$1
 11334                        L398:
 11335 04:30C4: A8           	tay
 11336 04:30C5: A5 1C        	lda	<L389+2
  Wed Nov 18 2020  8:26                                                Page 222


 11337 04:30C7: 85 20        	sta	<L389+2+4
 11338 04:30C9: A5 1B        	lda	<L389+1
 11339 04:30CB: 85 1F        	sta	<L389+1+4
 11340 04:30CD: 2B           	pld
 11341 04:30CE: 3B           	tsc
 11342 04:30CF: 18           	clc
 11343 04:30D0: 69 1E 00     	adc	#L389+4
 11344 04:30D3: 1B           	tcs
 11345 04:30D4: 98           	tya
 11346 04:30D5: 6B           	rtl
 11347                        ;
 11348                        ;}
 11349                        	.line	2013
 11350                        	.endblock	2013
 11351             0000001A   L389	equ	26
 11352             0000000D   L390	equ	13
 11353 04:30D6:              	ends
 11354                        	efunc
 11355                        	.endfunc	2013,13,26
 11356                        	.line	2013
 11357                        	data
 11358                        L388:
 11359 00:0916: 62 75 74 74  	db	$62,$75,$74,$74,$6F,$6E,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:091A: 6F 6E 57 69 
       00:091E: 6E 64 6F 77 
       00:0922: 50 72 6F 
 11360 00:0925: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,
                    $5F,$57,$49,$4E,$44
       00:0929: 58 5F 44 52 
       00:092D: 41 57 5F 57 
       00:0931: 49 4E 44 
 11361 00:0934: 4F 57 3A 00  	db	$4F,$57,$3A,$00,$62,$75,$74,$74,$6F,$6E,
                    $57,$69,$6E,$64,$6F
       00:0938: 62 75 74 74 
       00:093C: 6F 6E 57 69 
       00:0940: 6E 64 6F 
 11362 00:0943: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $52,$45,$44,$52,$41
       00:0947: 63 3A 3A 46 
       00:094B: 58 5F 52 45 
       00:094F: 44 52 41 
 11363 00:0952: 57 5F 57 49  	db	$57,$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,
                    $00,$62,$75,$74,$74
       00:0956: 4E 44 4F 57 
       00:095A: 0D 0A 00 62 
       00:095E: 75 74 74 
 11364 00:0961: 6F 6E 57 69  	db	$6F,$6E,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0965: 6E 64 6F 77 
       00:0969: 50 72 6F 63 
       00:096D: 3A 3A 46 
 11365 00:0970: 58 5F 4C 42  	db	$58,$5F,$4C,$42,$55,$54,$54,$4F,$4E,$5F,
                    $44,$4F,$57,$4E,$0D
       00:0974: 55 54 54 4F 
       00:0978: 4E 5F 44 4F 
       00:097C: 57 4E 0D 
 11366 00:097F: 0A 00 62 75  	db	$0A,$00,$62,$75,$74,$74,$6F,$6E,$57,$69,
  Wed Nov 18 2020  8:26                                                Page 223


                    $6E,$64,$6F,$77,$50
       00:0983: 74 74 6F 6E 
       00:0987: 57 69 6E 64 
       00:098B: 6F 77 50 
 11367 00:098E: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:0992: 3A 46 58 5F 
       00:0996: 4C 42 55 54 
       00:099A: 54 4F 4E 
 11368 00:099D: 5F 55 50 0D  	db	$5F,$55,$50,$0D,$0A,$00,$62,$75,$74,$74,
                    $6F,$6E,$57,$69,$6E
       00:09A1: 0A 00 62 75 
       00:09A5: 74 74 6F 6E 
       00:09A9: 57 69 6E 
 11369 00:09AC: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$4D,$4F,$55
       00:09B0: 72 6F 63 3A 
       00:09B4: 3A 46 58 5F 
       00:09B8: 4D 4F 55 
 11370 00:09BB: 53 45 5F 45  	db	$53,$45,$5F,$45,$4E,$54,$45,$52,$0D,$0A,
                    $00,$62,$75,$74,$74
       00:09BF: 4E 54 45 52 
       00:09C3: 0D 0A 00 62 
       00:09C7: 75 74 74 
 11371 00:09CA: 6F 6E 57 69  	db	$6F,$6E,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:09CE: 6E 64 6F 77 
       00:09D2: 50 72 6F 63 
       00:09D6: 3A 3A 46 
 11372 00:09D9: 58 5F 4D 4F  	db	$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,$58,
                    $49,$54,$0D,$0A,$00
       00:09DD: 55 53 45 5F 
       00:09E1: 45 58 49 54 
       00:09E5: 0D 0A 00 
 11373 00:09E8:              	ends
 11374                        ;
 11375                        ;
 11376                        ;
 11377                        ;
 11378                        ;BOOL k_add_child_window(PWINDOW pParent,PWINDOW p
                    Child,OBJECTCLICKED objclickCallback)
 11379                        ;{
 11380                        	.line	2018
 11381                        	.line	2019
 11382                        	WINMAN
 11383                        	xdef	~~k_add_child_window
 11384                        	func
 11385                        	.function	2019
 11386                        ~~k_add_child_window:
 11387                        	longa	on
 11388                        	longi	on
 11389 04:30D6: 3B           	tsc
 11390 04:30D7: 38           	sec
 11391 04:30D8: E9 09 00     	sbc	#L400
 11392 04:30DB: 1B           	tcs
 11393 04:30DC: 0B           	phd
 11394 04:30DD: 5B           	tcd
 11395             00000004   pParent_0	set	4
  Wed Nov 18 2020  8:26                                                Page 224


 11396             00000008   pChild_0	set	8
 11397             0000000C   objclickCallback_0	set	12
 11398                        	.block	2019
 11399                        ;	BOOL bRet = FALSE;
 11400                        ;
 11401                        ;	PFXNODE new = NULL;
 11402                        ;
 11403                        ;	if(pParent && pChild)
 11404             00000000   bRet_1	set	0
 11405             00000001   new_1	set	1
 11406                        	.sym	bRet,0,14,1,8
 11407                        	.sym	new,1,138,1,32,2
 11408                        	.sym	pParent,4,138,6,32,24
 11409                        	.sym	pChild,8,138,6,32,24
 11410                        	.sym	objclickCallback,12,641,6,32
 11411 04:30DE: E2 20        	sep	#$20
 11412                        	longa	off
 11413 04:30E0: 64 05        	stz	<L401+bRet_1
 11414 04:30E2: C2 20        	rep	#$20
 11415                        	longa	on
 11416 04:30E4: 64 06        	stz	<L401+new_1
 11417 04:30E6: 64 08        	stz	<L401+new_1+2
 11418                        	.line	2024
 11419                        ;	{
 11420 04:30E8: A5 0D        	lda	<L400+pParent_0
 11421 04:30EA: 05 0F        	ora	<L400+pParent_0+2
 11422 04:30EC: D0 03        	bne	L403
 11423 04:30EE: 82 CA 00     	brl	L10155
 11424                        L403:
 11425 04:30F1: A5 11        	lda	<L400+pChild_0
 11426 04:30F3: 05 13        	ora	<L400+pChild_0+2
 11427 04:30F5: D0 03        	bne	L404
 11428 04:30F7: 82 C1 00     	brl	L10155
 11429                        L404:
 11430                        	.line	2025
 11431                        ;		new = k_nodelist_ncreate(NL_TYPE_WINDOW_
                    OBJ,(ULONG)k_getHandleFromWindow(pChild),pChild,NULL,NULL);
 11432                        	.line	2026
 11433 04:30FA: F4 00 00     	pea	#^$0
 11434 04:30FD: F4 00 00     	pea	#<$0
 11435 04:3100: F4 00 00     	pea	#^$0
 11436 04:3103: F4 00 00     	pea	#<$0
 11437 04:3106: D4 13        	pei	<L400+pChild_0+2
 11438 04:3108: D4 11        	pei	<L400+pChild_0
 11439 04:310A: D4 13        	pei	<L400+pChild_0+2
 11440 04:310C: D4 11        	pei	<L400+pChild_0
 11441 04:310E: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 11442 04:3112: 85 01        	sta	<R0
 11443 04:3114: 86 03        	stx	<R0+2
 11444 04:3116: D4 03        	pei	<R0+2
 11445 04:3118: D4 01        	pei	<R0
 11446 04:311A: F4 02 00     	pea	#<$2
 11447 04:311D: 22 xx xx xx  	jsl	~~k_nodelist_ncreate
 11448 04:3121: 85 06        	sta	<L401+new_1
 11449 04:3123: 86 08        	stx	<L401+new_1+2
 11450                        ;		//k_debug_strings("Created Child node:",
                    pChild->win_title);
 11451                        ;
  Wed Nov 18 2020  8:26                                                Page 225


 11452                        ;		if(!pParent->pChildWindows)
 11453                        	.line	2029
 11454                        ;		{
 11455 04:3125: A0 88 00     	ldy	#$88
 11456 04:3128: B7 0D        	lda	[<L400+pParent_0],Y
 11457 04:312A: A0 8A 00     	ldy	#$8a
 11458 04:312D: 17 0D        	ora	[<L400+pParent_0],Y
 11459 04:312F: F0 03        	beq	L405
 11460 04:3131: 82 22 00     	brl	L10156
 11461                        L405:
 11462                        	.line	2030
 11463                        ;			pParent->pChildWindows = k_nodel
                    ist_allocate_list("_child_window_class_list" ,k_deallocate_w
                    indow_object);
 11464                        	.line	2031
 11465 04:3134: F4 04 00     	pea	#^~~k_deallocate_window_object
 11466 04:3137: F4 18 00     	pea	#<~~k_deallocate_window_object
 11467 04:313A: F4 xx xx     	pea	#^L399
 11468 04:313D: F4 xx xx     	pea	#<L399
 11469 04:3140: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
 11470 04:3144: 85 01        	sta	<R0
 11471 04:3146: 86 03        	stx	<R0+2
 11472 04:3148: A5 01        	lda	<R0
 11473 04:314A: A0 88 00     	ldy	#$88
 11474 04:314D: 97 0D        	sta	[<L400+pParent_0],Y
 11475 04:314F: A5 03        	lda	<R0+2
 11476 04:3151: A0 8A 00     	ldy	#$8a
 11477 04:3154: 97 0D        	sta	[<L400+pParent_0],Y
 11478                        ;			//k_debug_pointer("k_add_child_w
                    indow:pChildWindows created:",pParent->pChildWindows);
 11479                        ;		}
 11480                        	.line	2033
 11481                        ;
 11482                        ;		if(!pParent->pChildHitList)
 11483                        L10156:
 11484                        	.line	2035
 11485                        ;		{
 11486 04:3156: A0 8C 00     	ldy	#$8c
 11487 04:3159: B7 0D        	lda	[<L400+pParent_0],Y
 11488 04:315B: A0 8E 00     	ldy	#$8e
 11489 04:315E: 17 0D        	ora	[<L400+pParent_0],Y
 11490 04:3160: F0 03        	beq	L406
 11491 04:3162: 82 22 00     	brl	L10157
 11492                        L406:
 11493                        	.line	2036
 11494                        ;			pParent->pChildHitList = k_nodel
                    ist_allocate_list("_child_hit_list" ,k_deallocate_hit_class)
                    ;
 11495                        	.line	2037
 11496 04:3165: F4 04 00     	pea	#^~~k_deallocate_hit_class
 11497 04:3168: F4 13 01     	pea	#<~~k_deallocate_hit_class
 11498 04:316B: F4 xx xx     	pea	#^L399+25
 11499 04:316E: F4 xx xx     	pea	#<L399+25
 11500 04:3171: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
 11501 04:3175: 85 01        	sta	<R0
 11502 04:3177: 86 03        	stx	<R0+2
 11503 04:3179: A5 01        	lda	<R0
 11504 04:317B: A0 8C 00     	ldy	#$8c
  Wed Nov 18 2020  8:26                                                Page 226


 11505 04:317E: 97 0D        	sta	[<L400+pParent_0],Y
 11506 04:3180: A5 03        	lda	<R0+2
 11507 04:3182: A0 8E 00     	ldy	#$8e
 11508 04:3185: 97 0D        	sta	[<L400+pParent_0],Y
 11509                        ;			//k_debug_pointer("k_add_child_w
                    indow:pChildHitList created:",pParent->pChildHitList);
 11510                        ;		}
 11511                        	.line	2039
 11512                        ;
 11513                        ;		//k_debug_pointer("k_add_child_window:pC
                    hildWindows:",pParent->pChildWindows);
 11514                        ;		//k_debug_pointer("k_add_child_window:pC
                    hildHitList:",pParent->pChildHitList);
 11515                        ;
 11516                        ;		k_nodelist_addnodetolist(pParent->pChild
                    Windows,new);
 11517                        L10157:
 11518                        	.line	2044
 11519 04:3187: D4 08        	pei	<L401+new_1+2
 11520 04:3189: D4 06        	pei	<L401+new_1
 11521 04:318B: A0 8A 00     	ldy	#$8a
 11522 04:318E: B7 0D        	lda	[<L400+pParent_0],Y
 11523 04:3190: 48           	pha
 11524 04:3191: A0 88 00     	ldy	#$88
 11525 04:3194: B7 0D        	lda	[<L400+pParent_0],Y
 11526 04:3196: 48           	pha
 11527 04:3197: 22 xx xx xx  	jsl	~~k_nodelist_addnodetolist
 11528                        ;
 11529                        ;		//k_debug_strings("Node List for:",pPare
                    nt->win_title);
 11530                        ;		//k_debug_nodelist(pParent->pChildWindow
                    s->listhead->next);
 11531                        ;		k_attach_mouse_detection_local(pParent->
                    pChildHitList,pChild,objclickCallback);
 11532                        	.line	2048
 11533 04:319B: D4 17        	pei	<L400+objclickCallback_0+2
 11534 04:319D: D4 15        	pei	<L400+objclickCallback_0
 11535 04:319F: D4 13        	pei	<L400+pChild_0+2
 11536 04:31A1: D4 11        	pei	<L400+pChild_0
 11537 04:31A3: A0 8E 00     	ldy	#$8e
 11538 04:31A6: B7 0D        	lda	[<L400+pParent_0],Y
 11539 04:31A8: 48           	pha
 11540 04:31A9: A0 8C 00     	ldy	#$8c
 11541 04:31AC: B7 0D        	lda	[<L400+pParent_0],Y
 11542 04:31AE: 48           	pha
 11543 04:31AF: 22 4C 34 04  	jsl	~~k_attach_mouse_detection_local
 11544                        ;
 11545                        ;		bRet = TRUE;
 11546                        	.line	2050
 11547 04:31B3: E2 20        	sep	#$20
 11548                        	longa	off
 11549 04:31B5: A9 01        	lda	#$1
 11550 04:31B7: 85 05        	sta	<L401+bRet_1
 11551 04:31B9: C2 20        	rep	#$20
 11552                        	longa	on
 11553                        ;	}
 11554                        	.line	2051
 11555                        ;
  Wed Nov 18 2020  8:26                                                Page 227


 11556                        ;	return bRet;
 11557                        L10155:
 11558                        	.line	2053
 11559 04:31BB: A5 05        	lda	<L401+bRet_1
 11560 04:31BD: 29 FF 00     	and	#$ff
 11561                        L407:
 11562 04:31C0: A8           	tay
 11563 04:31C1: A5 0B        	lda	<L400+2
 11564 04:31C3: 85 17        	sta	<L400+2+12
 11565 04:31C5: A5 0A        	lda	<L400+1
 11566 04:31C7: 85 16        	sta	<L400+1+12
 11567 04:31C9: 2B           	pld
 11568 04:31CA: 3B           	tsc
 11569 04:31CB: 18           	clc
 11570 04:31CC: 69 15 00     	adc	#L400+12
 11571 04:31CF: 1B           	tcs
 11572 04:31D0: 98           	tya
 11573 04:31D1: 6B           	rtl
 11574                        ;}
 11575                        	.line	2054
 11576                        	.endblock	2054
 11577             00000009   L400	equ	9
 11578             00000005   L401	equ	5
 11579 04:31D2:              	ends
 11580                        	efunc
 11581                        	.endfunc	2054,5,9
 11582                        	.line	2054
 11583                        	data
 11584                        L399:
 11585 00:09E8: 5F 63 68 69  	db	$5F,$63,$68,$69,$6C,$64,$5F,$77,$69,$6E,
                    $64,$6F,$77,$5F,$63
       00:09EC: 6C 64 5F 77 
       00:09F0: 69 6E 64 6F 
       00:09F4: 77 5F 63 
 11586 00:09F7: 6C 61 73 73  	db	$6C,$61,$73,$73,$5F,$6C,$69,$73,$74,$00,
                    $5F,$63,$68,$69,$6C
       00:09FB: 5F 6C 69 73 
       00:09FF: 74 00 5F 63 
       00:0A03: 68 69 6C 
 11587 00:0A06: 64 5F 68 69  	db	$64,$5F,$68,$69,$74,$5F,$6C,$69,$73,$74,
                    $00
       00:0A0A: 74 5F 6C 69 
       00:0A0E: 73 74 00 
 11588 00:0A11:              	ends
 11589                        ;
 11590                        ;void k_update_hover_location(PWINDOW pWin)
 11591                        ;{
 11592                        	.line	2056
 11593                        	.line	2057
 11594                        	WINMAN
 11595                        	xdef	~~k_update_hover_location
 11596                        	func
 11597                        	.function	2057
 11598                        ~~k_update_hover_location:
 11599                        	longa	on
 11600                        	longi	on
 11601 04:31D2: 3B           	tsc
 11602 04:31D3: 38           	sec
  Wed Nov 18 2020  8:26                                                Page 228


 11603 04:31D4: E9 08 00     	sbc	#L409
 11604 04:31D7: 1B           	tcs
 11605 04:31D8: 0B           	phd
 11606 04:31D9: 5B           	tcd
 11607             00000004   pWin_0	set	4
 11608                        	.block	2057
 11609                        ;	PWINDOW pOld = NULL;
 11610                        ;
 11611                        ;	//k_debug_strings("k_update_hover_location::pWin
                    :",pWin->win_title);
 11612                        ;
 11613                        ;	//k_debug_strings("k_menuHitDetected::pWin:",pWi
                    n->win_title);
 11614                        ;
 11615                        ;	if(_k_windowManager_WindowObjectList->listData!=
                    pWin)
 11616             00000000   pOld_1	set	0
 11617                        	.sym	pOld,0,138,1,32,24
 11618                        	.sym	pWin,4,138,6,32,24
 11619 04:31DA: 64 05        	stz	<L410+pOld_1
 11620 04:31DC: 64 07        	stz	<L410+pOld_1+2
 11621                        	.line	2064
 11622                        ;	{
 11623 04:31DE: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 11624 04:31E1: 85 01        	sta	<R0
 11625 04:31E3: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 11626 04:31E6: 85 03        	sta	<R0+2
 11627 04:31E8: A0 04 00     	ldy	#$4
 11628 04:31EB: B7 01        	lda	[<R0],Y
 11629 04:31ED: C5 0C        	cmp	<L409+pWin_0
 11630 04:31EF: D0 07        	bne	L412
 11631 04:31F1: A0 06 00     	ldy	#$6
 11632 04:31F4: B7 01        	lda	[<R0],Y
 11633 04:31F6: C5 0E        	cmp	<L409+pWin_0+2
 11634                        L412:
 11635 04:31F8: D0 03        	bne	L413
 11636 04:31FA: 82 8E 00     	brl	L10158
 11637                        L413:
 11638                        	.line	2065
 11639                        ;		if(_k_windowManager_WindowObjectList->li
                    stData != NULL)
 11640                        	.line	2066
 11641                        ;		{
 11642 04:31FD: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 11643 04:3200: 85 01        	sta	<R0
 11644 04:3202: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 11645 04:3205: 85 03        	sta	<R0+2
 11646 04:3207: A0 04 00     	ldy	#$4
 11647 04:320A: B7 01        	lda	[<R0],Y
 11648 04:320C: A0 06 00     	ldy	#$6
 11649 04:320F: 17 01        	ora	[<R0],Y
 11650 04:3211: D0 03        	bne	L414
 11651 04:3213: 82 18 00     	brl	L10159
 11652                        L414:
 11653                        	.line	2067
 11654                        ;			pOld = _k_windowManager_WindowOb
                    jectList->listData;
 11655                        	.line	2068
  Wed Nov 18 2020  8:26                                                Page 229


 11656 04:3216: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 11657 04:3219: 85 01        	sta	<R0
 11658 04:321B: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 11659 04:321E: 85 03        	sta	<R0+2
 11660 04:3220: A0 04 00     	ldy	#$4
 11661 04:3223: B7 01        	lda	[<R0],Y
 11662 04:3225: 85 05        	sta	<L410+pOld_1
 11663 04:3227: A0 06 00     	ldy	#$6
 11664 04:322A: B7 01        	lda	[<R0],Y
 11665 04:322C: 85 07        	sta	<L410+pOld_1+2
 11666                        ;			//k_debug_strings("k_Detected::p
                    Old:",pOld->win_title);
 11667                        ;			/*
 11668                        ;			k_vdraw_ui_window(FXWS_OVERLAPPE
                    D,
 11669                        ;							
                      pWin->win_x ,pWin->win_y,
 11670                        ;							
                      pWin->win_height,pWin->win_width,
 11671                        ;							
                      (LPCHAR)pWin->win_title,
 11672                        ;							
                      15, 3);*/
 11673                        ;		}
 11674                        	.line	2076
 11675                        ;		_k_windowManager_WindowObjectList->listD
                    ata=pWin;
 11676                        L10159:
 11677                        	.line	2077
 11678 04:322E: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 11679 04:3231: 85 01        	sta	<R0
 11680 04:3233: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 11681 04:3236: 85 03        	sta	<R0+2
 11682 04:3238: A5 0C        	lda	<L409+pWin_0
 11683 04:323A: A0 04 00     	ldy	#$4
 11684 04:323D: 97 01        	sta	[<R0],Y
 11685 04:323F: A5 0E        	lda	<L409+pWin_0+2
 11686 04:3241: A0 06 00     	ldy	#$6
 11687 04:3244: 97 01        	sta	[<R0],Y
 11688                        ;
 11689                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_MOUSE_ENTER,NULL,0);
 11690                        	.line	2079
 11691 04:3246: F4 00 00     	pea	#<$0
 11692 04:3249: F4 00 00     	pea	#^$0
 11693 04:324C: F4 00 00     	pea	#<$0
 11694 04:324F: F4 01 0F     	pea	#<$f01
 11695 04:3252: D4 0E        	pei	<L409+pWin_0+2
 11696 04:3254: D4 0C        	pei	<L409+pWin_0
 11697 04:3256: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 11698 04:325A: 85 01        	sta	<R0
 11699 04:325C: 86 03        	stx	<R0+2
 11700 04:325E: DA           	phx
 11701 04:325F: 48           	pha
 11702 04:3260: 22 xx xx xx  	jsl	~~k_send_window_message
 11703                        ;		if(pOld)
 11704                        	.line	2080
 11705                        ;		{
  Wed Nov 18 2020  8:26                                                Page 230


 11706 04:3264: A5 05        	lda	<L410+pOld_1
 11707 04:3266: 05 07        	ora	<L410+pOld_1+2
 11708 04:3268: D0 03        	bne	L415
 11709 04:326A: 82 1E 00     	brl	L10160
 11710                        L415:
 11711                        	.line	2081
 11712                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pOld),FX_MOUSE_EXIT,NULL,0);
 11713                        	.line	2082
 11714 04:326D: F4 00 00     	pea	#<$0
 11715 04:3270: F4 00 00     	pea	#^$0
 11716 04:3273: F4 00 00     	pea	#<$0
 11717 04:3276: F4 02 0F     	pea	#<$f02
 11718 04:3279: D4 07        	pei	<L410+pOld_1+2
 11719 04:327B: D4 05        	pei	<L410+pOld_1
 11720 04:327D: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 11721 04:3281: 85 01        	sta	<R0
 11722 04:3283: 86 03        	stx	<R0+2
 11723 04:3285: DA           	phx
 11724 04:3286: 48           	pha
 11725 04:3287: 22 xx xx xx  	jsl	~~k_send_window_message
 11726                        ;		}
 11727                        	.line	2083
 11728                        ;		//k_send_window_message(k_getHandleFromW
                    indow(pWin),FX_MOUSE_ENTER,NULL,0);
 11729                        ;	}
 11730                        L10160:
 11731                        	.line	2085
 11732                        ;
 11733                        ;}
 11734                        L10158:
 11735                        	.line	2087
 11736                        L416:
 11737 04:328B: A5 0A        	lda	<L409+2
 11738 04:328D: 85 0E        	sta	<L409+2+4
 11739 04:328F: A5 09        	lda	<L409+1
 11740 04:3291: 85 0D        	sta	<L409+1+4
 11741 04:3293: 2B           	pld
 11742 04:3294: 3B           	tsc
 11743 04:3295: 18           	clc
 11744 04:3296: 69 0C 00     	adc	#L409+4
 11745 04:3299: 1B           	tcs
 11746 04:329A: 6B           	rtl
 11747                        	.endblock	2087
 11748             00000008   L409	equ	8
 11749             00000005   L410	equ	5
 11750 04:329B:              	ends
 11751                        	efunc
 11752                        	.endfunc	2087,5,8
 11753                        	.line	2087
 11754                        ;
 11755                        ;HWND k_user_getFocusWindow()
 11756                        ;{
 11757                        	.line	2089
 11758                        	.line	2090
 11759                        	WINMAN
 11760                        	xdef	~~k_user_getFocusWindow
 11761                        	func
  Wed Nov 18 2020  8:26                                                Page 231


 11762                        	.function	2090
 11763                        ~~k_user_getFocusWindow:
 11764                        	longa	on
 11765                        	longi	on
 11766 04:329B: 3B           	tsc
 11767 04:329C: 38           	sec
 11768 04:329D: E9 04 00     	sbc	#L417
 11769 04:32A0: 1B           	tcs
 11770 04:32A1: 0B           	phd
 11771 04:32A2: 5B           	tcd
 11772                        	.block	2090
 11773                        ;	return k_getHandleFromWindow((PWINDOW) _k_window
                    Manager_WindowObjectList->listData);
 11774                        	.line	2091
 11775 04:32A3: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 11776 04:32A6: 85 01        	sta	<R0
 11777 04:32A8: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 11778 04:32AB: 85 03        	sta	<R0+2
 11779 04:32AD: A0 06 00     	ldy	#$6
 11780 04:32B0: B7 01        	lda	[<R0],Y
 11781 04:32B2: 48           	pha
 11782 04:32B3: A0 04 00     	ldy	#$4
 11783 04:32B6: B7 01        	lda	[<R0],Y
 11784 04:32B8: 48           	pha
 11785 04:32B9: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 11786 04:32BD: 85 01        	sta	<R0
 11787 04:32BF: 86 03        	stx	<R0+2
 11788 04:32C1: A6 03        	ldx	<R0+2
 11789 04:32C3: A5 01        	lda	<R0
 11790                        L420:
 11791 04:32C5: A8           	tay
 11792 04:32C6: 2B           	pld
 11793 04:32C7: 3B           	tsc
 11794 04:32C8: 18           	clc
 11795 04:32C9: 69 04 00     	adc	#L417
 11796 04:32CC: 1B           	tcs
 11797 04:32CD: 98           	tya
 11798 04:32CE: 6B           	rtl
 11799                        ;}
 11800                        	.line	2092
 11801                        	.endblock	2092
 11802             00000004   L417	equ	4
 11803             00000005   L418	equ	5
 11804 04:32CF:              	ends
 11805                        	efunc
 11806                        	.endfunc	2092,5,4
 11807                        	.line	2092
 11808                        ;
 11809                        ;BOOL find_child_window(LPVOID ctx,LPVOID data)
 11810                        ;{
 11811                        	.line	2094
 11812                        	.line	2095
 11813                        	WINMAN
 11814                        	xdef	~~find_child_window
 11815                        	func
 11816                        	.function	2095
 11817                        ~~find_child_window:
 11818                        	longa	on
  Wed Nov 18 2020  8:26                                                Page 232


 11819                        	longi	on
 11820 04:32CF: 3B           	tsc
 11821 04:32D0: 38           	sec
 11822 04:32D1: E9 08 00     	sbc	#L421
 11823 04:32D4: 1B           	tcs
 11824 04:32D5: 0B           	phd
 11825 04:32D6: 5B           	tcd
 11826             00000004   ctx_0	set	4
 11827             00000008   data_0	set	8
 11828                        	.block	2095
 11829                        ;	PWINDOW pChild = (PWINDOW)ctx;
 11830                        ;
 11831                        ;	if(ctx && data)
 11832             00000000   pChild_1	set	0
 11833                        	.sym	pChild,0,138,1,32,24
 11834                        	.sym	ctx,4,129,6,32
 11835                        	.sym	data,8,129,6,32
 11836 04:32D7: A5 0C        	lda	<L421+ctx_0
 11837 04:32D9: 85 05        	sta	<L422+pChild_1
 11838 04:32DB: A5 0E        	lda	<L421+ctx_0+2
 11839 04:32DD: 85 07        	sta	<L422+pChild_1+2
 11840                        	.line	2098
 11841                        ;	{
 11842 04:32DF: A5 0C        	lda	<L421+ctx_0
 11843 04:32E1: 05 0E        	ora	<L421+ctx_0+2
 11844 04:32E3: D0 03        	bne	L424
 11845 04:32E5: 82 33 00     	brl	L10161
 11846                        L424:
 11847 04:32E8: A5 10        	lda	<L421+data_0
 11848 04:32EA: 05 12        	ora	<L421+data_0+2
 11849 04:32EC: D0 03        	bne	L425
 11850 04:32EE: 82 2A 00     	brl	L10161
 11851                        L425:
 11852                        	.line	2099
 11853                        ;		return (pChild == data);
 11854                        	.line	2100
 11855 04:32F1: 64 01        	stz	<R0
 11856 04:32F3: A5 05        	lda	<L422+pChild_1
 11857 04:32F5: C5 10        	cmp	<L421+data_0
 11858 04:32F7: D0 04        	bne	L427
 11859 04:32F9: A5 07        	lda	<L422+pChild_1+2
 11860 04:32FB: C5 12        	cmp	<L421+data_0+2
 11861                        L427:
 11862 04:32FD: F0 03        	beq	L428
 11863 04:32FF: 82 02 00     	brl	L426
 11864                        L428:
 11865 04:3302: E6 01        	inc	<R0
 11866                        L426:
 11867 04:3304: A5 01        	lda	<R0
 11868 04:3306: 29 FF 00     	and	#$ff
 11869                        L429:
 11870 04:3309: A8           	tay
 11871 04:330A: A5 0A        	lda	<L421+2
 11872 04:330C: 85 12        	sta	<L421+2+8
 11873 04:330E: A5 09        	lda	<L421+1
 11874 04:3310: 85 11        	sta	<L421+1+8
 11875 04:3312: 2B           	pld
 11876 04:3313: 3B           	tsc
  Wed Nov 18 2020  8:26                                                Page 233


 11877 04:3314: 18           	clc
 11878 04:3315: 69 10 00     	adc	#L421+8
 11879 04:3318: 1B           	tcs
 11880 04:3319: 98           	tya
 11881 04:331A: 6B           	rtl
 11882                        ;	}
 11883                        	.line	2101
 11884                        ;
 11885                        ;	return FALSE;
 11886                        L10161:
 11887                        	.line	2103
 11888 04:331B: A9 00 00     	lda	#$0
 11889 04:331E: 82 E8 FF     	brl	L429
 11890                        ;}
 11891                        	.line	2104
 11892                        	.endblock	2104
 11893             00000008   L421	equ	8
 11894             00000005   L422	equ	5
 11895 04:3321:              	ends
 11896                        	efunc
 11897                        	.endfunc	2104,5,8
 11898                        	.line	2104
 11899                        ;
 11900                        ;BOOL k_user_IsChildWindow(HWND hWndParent,HWND hW
                    ndChild)
 11901                        ;{
 11902                        	.line	2106
 11903                        	.line	2107
 11904                        	WINMAN
 11905                        	xdef	~~k_user_IsChildWindow
 11906                        	func
 11907                        	.function	2107
 11908                        ~~k_user_IsChildWindow:
 11909                        	longa	on
 11910                        	longi	on
 11911 04:3321: 3B           	tsc
 11912 04:3322: 38           	sec
 11913 04:3323: E9 09 00     	sbc	#L430
 11914 04:3326: 1B           	tcs
 11915 04:3327: 0B           	phd
 11916 04:3328: 5B           	tcd
 11917             00000004   hWndParent_0	set	4
 11918             00000008   hWndChild_0	set	8
 11919                        	.block	2107
 11920                        ;	BOOL bRet = FALSE;
 11921                        ;
 11922                        ;	PWINDOW pWin = NULL;
 11923                        ;
 11924                        ;	if(hWndParent && hWndChild)
 11925             00000000   bRet_1	set	0
 11926             00000001   pWin_1	set	1
 11927                        	.sym	bRet,0,14,1,8
 11928                        	.sym	pWin,1,138,1,32,24
 11929                        	.sym	hWndParent,4,129,6,32
 11930                        	.sym	hWndChild,8,129,6,32
 11931 04:3329: E2 20        	sep	#$20
 11932                        	longa	off
 11933 04:332B: 64 05        	stz	<L431+bRet_1
  Wed Nov 18 2020  8:26                                                Page 234


 11934 04:332D: C2 20        	rep	#$20
 11935                        	longa	on
 11936 04:332F: 64 06        	stz	<L431+pWin_1
 11937 04:3331: 64 08        	stz	<L431+pWin_1+2
 11938                        	.line	2112
 11939                        ;	{
 11940 04:3333: A5 0D        	lda	<L430+hWndParent_0
 11941 04:3335: 05 0F        	ora	<L430+hWndParent_0+2
 11942 04:3337: D0 03        	bne	L433
 11943 04:3339: 82 51 00     	brl	L10162
 11944                        L433:
 11945 04:333C: A5 11        	lda	<L430+hWndChild_0
 11946 04:333E: 05 13        	ora	<L430+hWndChild_0+2
 11947 04:3340: D0 03        	bne	L434
 11948 04:3342: 82 48 00     	brl	L10162
 11949                        L434:
 11950                        	.line	2113
 11951                        ;		pWin = k_getWindowFromHandle(hWndParent)
                    ;
 11952                        	.line	2114
 11953 04:3345: D4 0F        	pei	<L430+hWndParent_0+2
 11954 04:3347: D4 0D        	pei	<L430+hWndParent_0
 11955 04:3349: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 11956 04:334D: 85 06        	sta	<L431+pWin_1
 11957 04:334F: 86 08        	stx	<L431+pWin_1+2
 11958                        ;		if(pWin && pWin->pChildWindows)
 11959                        	.line	2115
 11960                        ;		{
 11961 04:3351: A5 06        	lda	<L431+pWin_1
 11962 04:3353: 05 08        	ora	<L431+pWin_1+2
 11963 04:3355: D0 03        	bne	L435
 11964 04:3357: 82 33 00     	brl	L10163
 11965                        L435:
 11966 04:335A: A0 88 00     	ldy	#$88
 11967 04:335D: B7 06        	lda	[<L431+pWin_1],Y
 11968 04:335F: A0 8A 00     	ldy	#$8a
 11969 04:3362: 17 06        	ora	[<L431+pWin_1],Y
 11970 04:3364: D0 03        	bne	L436
 11971 04:3366: 82 24 00     	brl	L10163
 11972                        L436:
 11973                        	.line	2116
 11974                        ;			k_nodelist_foreach_until_listdat
                    a(pWin->pChildWindows,k_getWindowFromHandle(hWndChild),find_
                    child_window);
 11975                        	.line	2117
 11976 04:3369: F4 04 00     	pea	#^~~find_child_window
 11977 04:336C: F4 CF 32     	pea	#<~~find_child_window
 11978 04:336F: D4 13        	pei	<L430+hWndChild_0+2
 11979 04:3371: D4 11        	pei	<L430+hWndChild_0
 11980 04:3373: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 11981 04:3377: 85 01        	sta	<R0
 11982 04:3379: 86 03        	stx	<R0+2
 11983 04:337B: DA           	phx
 11984 04:337C: 48           	pha
 11985 04:337D: A0 8A 00     	ldy	#$8a
 11986 04:3380: B7 06        	lda	[<L431+pWin_1],Y
 11987 04:3382: 48           	pha
 11988 04:3383: A0 88 00     	ldy	#$88
  Wed Nov 18 2020  8:26                                                Page 235


 11989 04:3386: B7 06        	lda	[<L431+pWin_1],Y
 11990 04:3388: 48           	pha
 11991 04:3389: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
 11992                        ;		}
 11993                        	.line	2118
 11994                        ;	}
 11995                        L10163:
 11996                        	.line	2119
 11997                        ;
 11998                        ;	return bRet;
 11999                        L10162:
 12000                        	.line	2121
 12001 04:338D: A5 05        	lda	<L431+bRet_1
 12002 04:338F: 29 FF 00     	and	#$ff
 12003                        L437:
 12004 04:3392: A8           	tay
 12005 04:3393: A5 0B        	lda	<L430+2
 12006 04:3395: 85 13        	sta	<L430+2+8
 12007 04:3397: A5 0A        	lda	<L430+1
 12008 04:3399: 85 12        	sta	<L430+1+8
 12009 04:339B: 2B           	pld
 12010 04:339C: 3B           	tsc
 12011 04:339D: 18           	clc
 12012 04:339E: 69 11 00     	adc	#L430+8
 12013 04:33A1: 1B           	tcs
 12014 04:33A2: 98           	tya
 12015 04:33A3: 6B           	rtl
 12016                        ;}
 12017                        	.line	2122
 12018                        	.endblock	2122
 12019             00000009   L430	equ	9
 12020             00000005   L431	equ	5
 12021 04:33A4:              	ends
 12022                        	efunc
 12023                        	.endfunc	2122,5,9
 12024                        	.line	2122
 12025                        ;
 12026                        ;/*
 12027                        ;void k_buttonHitDetected(PWINDOW pWin)
 12028                        ;{
 12029                        ;	k_update_hover_location(pWin);
 12030                        ;}
 12031                        ;
 12032                        ;void k_menuHitDetected(PWINDOW pWin)
 12033                        ;{
 12034                        ;	k_update_hover_location(pWin);
 12035                        ;}
 12036                        ;
 12037                        ;
 12038                        ;void k_windowHitDetected(PWINDOW pWin)
 12039                        ;{
 12040                        ;	k_update_hover_location(pWin);
 12041                        ;}
 12042                        ;*/
 12043                        ;int k_attach_mouse_detection(PWINDOW pWin,OBJECTC
                    LICKED objclickCallback)
 12044                        ;{
 12045                        	.line	2141
  Wed Nov 18 2020  8:26                                                Page 236


 12046                        	.line	2142
 12047                        	WINMAN
 12048                        	xdef	~~k_attach_mouse_detection
 12049                        	func
 12050                        	.function	2142
 12051                        ~~k_attach_mouse_detection:
 12052                        	longa	on
 12053                        	longi	on
 12054 04:33A4: 3B           	tsc
 12055 04:33A5: 38           	sec
 12056 04:33A6: E9 06 00     	sbc	#L438
 12057 04:33A9: 1B           	tcs
 12058 04:33AA: 0B           	phd
 12059 04:33AB: 5B           	tcd
 12060             00000004   pWin_0	set	4
 12061             00000008   objclickCallback_0	set	8
 12062                        	.block	2142
 12063                        ;	PCLICKDETECTED pcd = NULL;
 12064                        ;
 12065                        ;	int retCode = 0;
 12066                        ;
 12067                        ;	if(pWin)
 12068             00000000   pcd_1	set	0
 12069             00000004   retCode_1	set	4
 12070                        	.sym	pcd,0,138,1,32,59
 12071                        	.sym	retCode,4,5,1,16
 12072                        	.sym	pWin,4,138,6,32,24
 12073                        	.sym	objclickCallback,8,641,6,32
 12074 04:33AC: 64 01        	stz	<L439+pcd_1
 12075 04:33AE: 64 03        	stz	<L439+pcd_1+2
 12076 04:33B0: 64 05        	stz	<L439+retCode_1
 12077                        	.line	2147
 12078                        ;	{
 12079 04:33B2: A5 0A        	lda	<L438+pWin_0
 12080 04:33B4: 05 0C        	ora	<L438+pWin_0+2
 12081 04:33B6: D0 03        	bne	L441
 12082 04:33B8: 82 35 00     	brl	L10164
 12083                        L441:
 12084                        	.line	2148
 12085                        ;		pcd = k_mem_allocate_heap(sizeof(CLICKDE
                    TECTED));
 12086                        	.line	2149
 12087 04:33BB: F4 08 00     	pea	#<$8
 12088 04:33BE: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 12089 04:33C2: 85 01        	sta	<L439+pcd_1
 12090 04:33C4: 86 03        	stx	<L439+pcd_1+2
 12091                        ;		if(pcd)
 12092                        	.line	2150
 12093                        ;		{
 12094 04:33C6: A5 01        	lda	<L439+pcd_1
 12095 04:33C8: 05 03        	ora	<L439+pcd_1+2
 12096 04:33CA: D0 03        	bne	L442
 12097 04:33CC: 82 21 00     	brl	L10165
 12098                        L442:
 12099                        	.line	2151
 12100                        ;			pcd->window  = pWin;
 12101                        	.line	2152
 12102 04:33CF: A5 0A        	lda	<L438+pWin_0
  Wed Nov 18 2020  8:26                                                Page 237


 12103 04:33D1: 87 01        	sta	[<L439+pcd_1]
 12104 04:33D3: A5 0C        	lda	<L438+pWin_0+2
 12105 04:33D5: A0 02 00     	ldy	#$2
 12106 04:33D8: 97 01        	sta	[<L439+pcd_1],Y
 12107                        ;			pcd->handler = objclickCallback;
 12108                        	.line	2153
 12109 04:33DA: A5 0E        	lda	<L438+objclickCallback_0
 12110 04:33DC: A0 04 00     	ldy	#$4
 12111 04:33DF: 97 01        	sta	[<L439+pcd_1],Y
 12112 04:33E1: A5 10        	lda	<L438+objclickCallback_0+2
 12113 04:33E3: A0 06 00     	ldy	#$6
 12114 04:33E6: 97 01        	sta	[<L439+pcd_1],Y
 12115                        ;			k_add_object_hit_node(pcd);
 12116                        	.line	2154
 12117 04:33E8: D4 03        	pei	<L439+pcd_1+2
 12118 04:33EA: D4 01        	pei	<L439+pcd_1
 12119 04:33EC: 22 04 34 04  	jsl	~~k_add_object_hit_node
 12120                        ;		}
 12121                        	.line	2155
 12122                        ;	}
 12123                        L10165:
 12124                        	.line	2156
 12125                        ;
 12126                        ;	return retCode;
 12127                        L10164:
 12128                        	.line	2158
 12129 04:33F0: A5 05        	lda	<L439+retCode_1
 12130                        L443:
 12131 04:33F2: A8           	tay
 12132 04:33F3: A5 08        	lda	<L438+2
 12133 04:33F5: 85 10        	sta	<L438+2+8
 12134 04:33F7: A5 07        	lda	<L438+1
 12135 04:33F9: 85 0F        	sta	<L438+1+8
 12136 04:33FB: 2B           	pld
 12137 04:33FC: 3B           	tsc
 12138 04:33FD: 18           	clc
 12139 04:33FE: 69 0E 00     	adc	#L438+8
 12140 04:3401: 1B           	tcs
 12141 04:3402: 98           	tya
 12142 04:3403: 6B           	rtl
 12143                        ;}
 12144                        	.line	2159
 12145                        	.endblock	2159
 12146             00000006   L438	equ	6
 12147             00000001   L439	equ	1
 12148 04:3404:              	ends
 12149                        	efunc
 12150                        	.endfunc	2159,1,6
 12151                        	.line	2159
 12152                        ;
 12153                        ;void k_add_object_hit_node(PCLICKDETECTED pcd)
 12154                        ;{
 12155                        	.line	2161
 12156                        	.line	2162
 12157                        	WINMAN
 12158                        	xdef	~~k_add_object_hit_node
 12159                        	func
 12160                        	.function	2162
  Wed Nov 18 2020  8:26                                                Page 238


 12161                        ~~k_add_object_hit_node:
 12162                        	longa	on
 12163                        	longi	on
 12164 04:3404: 3B           	tsc
 12165 04:3405: 38           	sec
 12166 04:3406: E9 08 00     	sbc	#L444
 12167 04:3409: 1B           	tcs
 12168 04:340A: 0B           	phd
 12169 04:340B: 5B           	tcd
 12170             00000004   pcd_0	set	4
 12171                        	.block	2162
 12172                        ;	PFXNODE new = NULL;
 12173                        ;	//k_debug_pointer("k_add_object_hit_node:",pcd);
 12174                        ;
 12175                        ;	new = k_nodelist_naddtolist_tohead(_k_windowMana
                    ger_ObjectHitList,1,(ULONG)k_getHandleFromWindow(pcd->window
                    ),pcd);
 12176             00000000   new_1	set	0
 12177                        	.sym	new,0,138,1,32,2
 12178                        	.sym	pcd,4,138,6,32,59
 12179 04:340C: 64 05        	stz	<L445+new_1
 12180 04:340E: 64 07        	stz	<L445+new_1+2
 12181                        	.line	2166
 12182 04:3410: D4 0E        	pei	<L444+pcd_0+2
 12183 04:3412: D4 0C        	pei	<L444+pcd_0
 12184 04:3414: A0 02 00     	ldy	#$2
 12185 04:3417: B7 0C        	lda	[<L444+pcd_0],Y
 12186 04:3419: 48           	pha
 12187 04:341A: A7 0C        	lda	[<L444+pcd_0]
 12188 04:341C: 48           	pha
 12189 04:341D: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 12190 04:3421: 85 01        	sta	<R0
 12191 04:3423: 86 03        	stx	<R0+2
 12192 04:3425: D4 03        	pei	<R0+2
 12193 04:3427: D4 01        	pei	<R0
 12194 04:3429: F4 01 00     	pea	#<$1
 12195 04:342C: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
 12196 04:342F: 48           	pha
 12197 04:3430: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
 12198 04:3433: 48           	pha
 12199 04:3434: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist_tohead
 12200 04:3438: 85 05        	sta	<L445+new_1
 12201 04:343A: 86 07        	stx	<L445+new_1+2
 12202                        ;	/*
 12203                        ;	if(pcd->window->pParentWindow == k_user_getDeskt
                    opWindow())
 12204                        ;	{
 12205                        ;
 12206                        ;		k_debug_strings("*** k_add_object_hit_no
                    de to HEAD:",pcd->window->win_title);
 12207                        ;		k_debug_pointer("***                    
                        WINDOW:",pcd->window);
 12208                        ;
 12209                        ;		k_debug_nodelist(_k_windowManager_Object
                    HitList->listhead->next);
 12210                        ;		k_debug_nodelist(((PWINDOW)pcd->window->
                    pParentWindow)->pChildHitList->listhead->next);
 12211                        ;
  Wed Nov 18 2020  8:26                                                Page 239


 12212                        ;
 12213                        ;		_k_windowManager_ObjectHitList->listData
                     = new;
 12214                        ;
 12215                        ;	}
 12216                        ;	*/
 12217                        ;
 12218                        ;}
 12219                        	.line	2183
 12220                        L447:
 12221 04:343C: A5 0A        	lda	<L444+2
 12222 04:343E: 85 0E        	sta	<L444+2+4
 12223 04:3440: A5 09        	lda	<L444+1
 12224 04:3442: 85 0D        	sta	<L444+1+4
 12225 04:3444: 2B           	pld
 12226 04:3445: 3B           	tsc
 12227 04:3446: 18           	clc
 12228 04:3447: 69 0C 00     	adc	#L444+4
 12229 04:344A: 1B           	tcs
 12230 04:344B: 6B           	rtl
 12231                        	.endblock	2183
 12232             00000008   L444	equ	8
 12233             00000005   L445	equ	5
 12234 04:344C:              	ends
 12235                        	efunc
 12236                        	.endfunc	2183,5,8
 12237                        	.line	2183
 12238                        ;
 12239                        ;int k_attach_mouse_detection_local(PFXNODELIST li
                    st,PWINDOW pWin,OBJECTCLICKED objclickCallback)
 12240                        ;{
 12241                        	.line	2185
 12242                        	.line	2186
 12243                        	WINMAN
 12244                        	xdef	~~k_attach_mouse_detection_local
 12245                        	func
 12246                        	.function	2186
 12247                        ~~k_attach_mouse_detection_local:
 12248                        	longa	on
 12249                        	longi	on
 12250 04:344C: 3B           	tsc
 12251 04:344D: 38           	sec
 12252 04:344E: E9 06 00     	sbc	#L448
 12253 04:3451: 1B           	tcs
 12254 04:3452: 0B           	phd
 12255 04:3453: 5B           	tcd
 12256             00000004   list_0	set	4
 12257             00000008   pWin_0	set	8
 12258             0000000C   objclickCallback_0	set	12
 12259                        	.block	2186
 12260                        ;	PCLICKDETECTED pcd = NULL;
 12261                        ;
 12262                        ;	int retCode = 0;
 12263                        ;
 12264                        ;	//k_debug_pointer("k_attach_mouse_detection_loca
                    l:",pWin);
 12265                        ;
 12266                        ;	if(pWin)
  Wed Nov 18 2020  8:26                                                Page 240


 12267             00000000   pcd_1	set	0
 12268             00000004   retCode_1	set	4
 12269                        	.sym	pcd,0,138,1,32,59
 12270                        	.sym	retCode,4,5,1,16
 12271                        	.sym	list,4,138,6,32,3
 12272                        	.sym	pWin,8,138,6,32,24
 12273                        	.sym	objclickCallback,12,641,6,32
 12274 04:3454: 64 01        	stz	<L449+pcd_1
 12275 04:3456: 64 03        	stz	<L449+pcd_1+2
 12276 04:3458: 64 05        	stz	<L449+retCode_1
 12277                        	.line	2193
 12278                        ;	{
 12279 04:345A: A5 0E        	lda	<L448+pWin_0
 12280 04:345C: 05 10        	ora	<L448+pWin_0+2
 12281 04:345E: D0 03        	bne	L451
 12282 04:3460: 82 39 00     	brl	L10166
 12283                        L451:
 12284                        	.line	2194
 12285                        ;		pcd = k_mem_allocate_heap(sizeof(CLICKDE
                    TECTED));
 12286                        	.line	2195
 12287 04:3463: F4 08 00     	pea	#<$8
 12288 04:3466: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 12289 04:346A: 85 01        	sta	<L449+pcd_1
 12290 04:346C: 86 03        	stx	<L449+pcd_1+2
 12291                        ;		if(pcd)
 12292                        	.line	2196
 12293                        ;		{
 12294 04:346E: A5 01        	lda	<L449+pcd_1
 12295 04:3470: 05 03        	ora	<L449+pcd_1+2
 12296 04:3472: D0 03        	bne	L452
 12297 04:3474: 82 25 00     	brl	L10167
 12298                        L452:
 12299                        	.line	2197
 12300                        ;			pcd->window  = pWin;
 12301                        	.line	2198
 12302 04:3477: A5 0E        	lda	<L448+pWin_0
 12303 04:3479: 87 01        	sta	[<L449+pcd_1]
 12304 04:347B: A5 10        	lda	<L448+pWin_0+2
 12305 04:347D: A0 02 00     	ldy	#$2
 12306 04:3480: 97 01        	sta	[<L449+pcd_1],Y
 12307                        ;			pcd->handler = objclickCallback;
 12308                        	.line	2199
 12309 04:3482: A5 12        	lda	<L448+objclickCallback_0
 12310 04:3484: A0 04 00     	ldy	#$4
 12311 04:3487: 97 01        	sta	[<L449+pcd_1],Y
 12312 04:3489: A5 14        	lda	<L448+objclickCallback_0+2
 12313 04:348B: A0 06 00     	ldy	#$6
 12314 04:348E: 97 01        	sta	[<L449+pcd_1],Y
 12315                        ;			k_add_object_hit_node_local(list
                    ,pcd);
 12316                        	.line	2200
 12317 04:3490: D4 03        	pei	<L449+pcd_1+2
 12318 04:3492: D4 01        	pei	<L449+pcd_1
 12319 04:3494: D4 0C        	pei	<L448+list_0+2
 12320 04:3496: D4 0A        	pei	<L448+list_0
 12321 04:3498: 22 B0 34 04  	jsl	~~k_add_object_hit_node_local
 12322                        ;		}
  Wed Nov 18 2020  8:26                                                Page 241


 12323                        	.line	2201
 12324                        ;	}
 12325                        L10167:
 12326                        	.line	2202
 12327                        ;
 12328                        ;	return retCode;
 12329                        L10166:
 12330                        	.line	2204
 12331 04:349C: A5 05        	lda	<L449+retCode_1
 12332                        L453:
 12333 04:349E: A8           	tay
 12334 04:349F: A5 08        	lda	<L448+2
 12335 04:34A1: 85 14        	sta	<L448+2+12
 12336 04:34A3: A5 07        	lda	<L448+1
 12337 04:34A5: 85 13        	sta	<L448+1+12
 12338 04:34A7: 2B           	pld
 12339 04:34A8: 3B           	tsc
 12340 04:34A9: 18           	clc
 12341 04:34AA: 69 12 00     	adc	#L448+12
 12342 04:34AD: 1B           	tcs
 12343 04:34AE: 98           	tya
 12344 04:34AF: 6B           	rtl
 12345                        ;}
 12346                        	.line	2205
 12347                        	.endblock	2205
 12348             00000006   L448	equ	6
 12349             00000001   L449	equ	1
 12350 04:34B0:              	ends
 12351                        	efunc
 12352                        	.endfunc	2205,1,6
 12353                        	.line	2205
 12354                        ;
 12355                        ;
 12356                        ;void k_add_object_hit_node_local(PFXNODELIST list
                    ,PCLICKDETECTED pcd)
 12357                        ;{
 12358                        	.line	2208
 12359                        	.line	2209
 12360                        	WINMAN
 12361                        	xdef	~~k_add_object_hit_node_local
 12362                        	func
 12363                        	.function	2209
 12364                        ~~k_add_object_hit_node_local:
 12365                        	longa	on
 12366                        	longi	on
 12367 04:34B0: 3B           	tsc
 12368 04:34B1: 38           	sec
 12369 04:34B2: E9 04 00     	sbc	#L454
 12370 04:34B5: 1B           	tcs
 12371 04:34B6: 0B           	phd
 12372 04:34B7: 5B           	tcd
 12373             00000004   list_0	set	4
 12374             00000008   pcd_0	set	8
 12375                        	.block	2209
 12376                        ;	//k_debug_pointer("k_add_object_hit_node_local:"
                    ,pcd);
 12377                        ;	//k_nodelist_naddtolist(list,1,pcd->window->win_
                    title,pcd);
  Wed Nov 18 2020  8:26                                                Page 242


 12378                        ;
 12379                        ;	//if(pcd->window->pParentWindow == k_user_getDes
                    ktopWindow())
 12380                        ;	//	k_nodelist_naddtolist_tohead(list,1,(ULO
                    NG)k_getHandleFromWindow(pcd->window),pcd);
 12381                        ;	//else
 12382                        ;		k_nodelist_naddtolist(list,1,(ULONG)k_ge
                    tHandleFromWindow(pcd->window),pcd);
 12383                        	.sym	list,4,138,6,32,3
 12384                        	.sym	pcd,8,138,6,32,59
 12385                        	.line	2216
 12386 04:34B8: D4 0E        	pei	<L454+pcd_0+2
 12387 04:34BA: D4 0C        	pei	<L454+pcd_0
 12388 04:34BC: A0 02 00     	ldy	#$2
 12389 04:34BF: B7 0C        	lda	[<L454+pcd_0],Y
 12390 04:34C1: 48           	pha
 12391 04:34C2: A7 0C        	lda	[<L454+pcd_0]
 12392 04:34C4: 48           	pha
 12393 04:34C5: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 12394 04:34C9: 85 01        	sta	<R0
 12395 04:34CB: 86 03        	stx	<R0+2
 12396 04:34CD: D4 03        	pei	<R0+2
 12397 04:34CF: D4 01        	pei	<R0
 12398 04:34D1: F4 01 00     	pea	#<$1
 12399 04:34D4: D4 0A        	pei	<L454+list_0+2
 12400 04:34D6: D4 08        	pei	<L454+list_0
 12401 04:34D8: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
 12402                        ;
 12403                        ;
 12404                        ;}
 12405                        	.line	2219
 12406                        L457:
 12407 04:34DC: A5 06        	lda	<L454+2
 12408 04:34DE: 85 0E        	sta	<L454+2+8
 12409 04:34E0: A5 05        	lda	<L454+1
 12410 04:34E2: 85 0D        	sta	<L454+1+8
 12411 04:34E4: 2B           	pld
 12412 04:34E5: 3B           	tsc
 12413 04:34E6: 18           	clc
 12414 04:34E7: 69 0C 00     	adc	#L454+8
 12415 04:34EA: 1B           	tcs
 12416 04:34EB: 6B           	rtl
 12417                        	.endblock	2219
 12418             00000004   L454	equ	4
 12419             00000005   L455	equ	5
 12420 04:34EC:              	ends
 12421                        	efunc
 12422                        	.endfunc	2219,5,4
 12423                        	.line	2219
 12424                        ;
 12425                        ;/*
 12426                        ;PFXNODE k_point_in_nodeslist(int x,int y)
 12427                        ;{
 12428                        ;	PFXNODE found = NULL;
 12429                        ;	LPCHAR ctx = "";
 12430                        ;	PFXNODE ptr = NULL;
 12431                        ;
 12432                        ;	RECT r;
  Wed Nov 18 2020  8:26                                                Page 243


 12433                        ;	int i = 0;
 12434                        ;	int index = -1;
 12435                        ;
 12436                        ;	//k_debug_string("k_point_in_nodes\r\n");
 12437                        ;
 12438                        ;	if(_k_windowManager_ObjectHitList!=NULL)
 12439                        ;	{
 12440                        ;		r = ((PCLICKABLE)((PCLICKDETECTED)((PFXN
                    ODE)_k_windowManager_ObjectHitList->listData)->data)->window
                    ->clickable)->area;
 12441                        ;		if(x >=r.x && x<(r.x+r.width))
 12442                        ;		{
 12443                        ;			if(y >=r.y && y<(r.y+r.height))
 12444                        ;			{
 12445                        ;				//k_debug_pointer("CURRE
                    NT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->listData)
                    ;
 12446                        ;				return (PFXNODE)_k_windo
                    wManager_ObjectHitList->listData;
 12447                        ;			}
 12448                        ;		}
 12449                        ;
 12450                        ;
 12451                        ;		ptr = k_nodelist_getfirstnode(_k_windowM
                    anager_ObjectHitList);
 12452                        ;		while(ptr!=NULL)
 12453                        ;		{
 12454                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 12455                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 12456                        ;			if(x >=r.x && x<(r.x+r.width))
 12457                        ;			{
 12458                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 12459                        ;				{
 12460                        ;					found = ptr;
 12461                        ;					_k_windowManager
                    _ObjectHitList->listData = found;
 12462                        ;					break;
 12463                        ;				}
 12464                        ;			}
 12465                        ;			ptr = ptr->next;
 12466                        ;		}
 12467                        ;	}
 12468                        ;
 12469                        ;	return found;
 12470                        ;}
 12471                        ;*/
 12472                        ;PFXNODE k_point_in_nodeslist(int x,int y)
 12473                        ;{
 12474                        	.line	2268
 12475                        	.line	2269
 12476                        	WINMAN
 12477                        	xdef	~~k_point_in_nodeslist
 12478                        	func
 12479                        	.function	2269
 12480                        ~~k_point_in_nodeslist:
  Wed Nov 18 2020  8:26                                                Page 244


 12481                        	longa	on
 12482                        	longi	on
 12483 04:34EC: 3B           	tsc
 12484 04:34ED: 38           	sec
 12485 04:34EE: E9 04 00     	sbc	#L458
 12486 04:34F1: 1B           	tcs
 12487 04:34F2: 0B           	phd
 12488 04:34F3: 5B           	tcd
 12489             00000004   x_0	set	4
 12490             00000006   y_0	set	6
 12491                        	.block	2269
 12492                        ;	return k_point_in_any_nodeslist(_k_windowManager
                    _ObjectHitList,x,y);
 12493                        	.sym	x,4,5,6,16
 12494                        	.sym	y,6,5,6,16
 12495                        	.line	2270
 12496 04:34F4: D4 0A        	pei	<L458+y_0
 12497 04:34F6: D4 08        	pei	<L458+x_0
 12498 04:34F8: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
 12499 04:34FB: 48           	pha
 12500 04:34FC: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
 12501 04:34FF: 48           	pha
 12502 04:3500: 22 1E 35 04  	jsl	~~k_point_in_any_nodeslist
 12503 04:3504: 85 01        	sta	<R0
 12504 04:3506: 86 03        	stx	<R0+2
 12505 04:3508: A6 03        	ldx	<R0+2
 12506 04:350A: A5 01        	lda	<R0
 12507                        L461:
 12508 04:350C: A8           	tay
 12509 04:350D: A5 06        	lda	<L458+2
 12510 04:350F: 85 0A        	sta	<L458+2+4
 12511 04:3511: A5 05        	lda	<L458+1
 12512 04:3513: 85 09        	sta	<L458+1+4
 12513 04:3515: 2B           	pld
 12514 04:3516: 3B           	tsc
 12515 04:3517: 18           	clc
 12516 04:3518: 69 08 00     	adc	#L458+4
 12517 04:351B: 1B           	tcs
 12518 04:351C: 98           	tya
 12519 04:351D: 6B           	rtl
 12520                        ;}
 12521                        	.line	2271
 12522                        	.endblock	2271
 12523             00000004   L458	equ	4
 12524             00000005   L459	equ	5
 12525 04:351E:              	ends
 12526                        	efunc
 12527                        	.endfunc	2271,5,4
 12528                        	.line	2271
 12529                        ;
 12530                        ;PFXNODE k_point_in_any_nodeslist(PFXNODELIST hitL
                    ist,int x,int y)
 12531                        ;{
 12532                        	.line	2273
 12533                        	.line	2274
 12534                        	WINMAN
 12535                        	xdef	~~k_point_in_any_nodeslist
 12536                        	func
  Wed Nov 18 2020  8:26                                                Page 245


 12537                        	.function	2274
 12538                        ~~k_point_in_any_nodeslist:
 12539                        	longa	on
 12540                        	longi	on
 12541 04:351E: 3B           	tsc
 12542 04:351F: 38           	sec
 12543 04:3520: E9 20 00     	sbc	#L462
 12544 04:3523: 1B           	tcs
 12545 04:3524: 0B           	phd
 12546 04:3525: 5B           	tcd
 12547             00000004   hitList_0	set	4
 12548             00000008   x_0	set	8
 12549             0000000A   y_0	set	10
 12550                        	.block	2274
 12551                        ;	PFXNODE found = NULL;
 12552                        ;	LPCHAR ctx = "";
 12553                        ;	PFXNODE ptr = NULL;
 12554                        ;
 12555                        ;	RECT r;
 12556                        ;	int i = 0;
 12557                        ;	int index = -1;
 12558                        ;
 12559                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",hi
                    tList);
 12560                        ;
 12561                        ;	if(hitList!=NULL)
 12562             00000000   found_1	set	0
 12563             00000004   ctx_1	set	4
 12564             00000008   ptr_1	set	8
 12565             0000000C   r_1	set	12
 12566             00000014   i_1	set	20
 12567             00000016   index_1	set	22
 12568                        	.sym	found,0,138,1,32,2
 12569                        	.sym	ctx,4,142,1,32
 12570                        	.sym	ptr,8,138,1,32,2
 12571                        	.sym	r,12,10,1,64,22
 12572                        	.sym	i,20,5,1,16
 12573                        	.sym	index,22,5,1,16
 12574                        	.sym	hitList,4,138,6,32,3
 12575                        	.sym	x,8,5,6,16
 12576                        	.sym	y,10,5,6,16
 12577 04:3526: 64 09        	stz	<L463+found_1
 12578 04:3528: 64 0B        	stz	<L463+found_1+2
 12579 04:352A: A9 xx xx     	lda	#<L408
 12580 04:352D: 85 0D        	sta	<L463+ctx_1
 12581 04:352F: A9 xx xx     	lda	#^L408
 12582 04:3532: 85 0F        	sta	<L463+ctx_1+2
 12583 04:3534: 64 11        	stz	<L463+ptr_1
 12584 04:3536: 64 13        	stz	<L463+ptr_1+2
 12585 04:3538: 64 1D        	stz	<L463+i_1
 12586 04:353A: A9 FF FF     	lda	#$ffff
 12587 04:353D: 85 1F        	sta	<L463+index_1
 12588                        	.line	2285
 12589                        ;	{
 12590 04:353F: A5 24        	lda	<L462+hitList_0
 12591 04:3541: 05 26        	ora	<L462+hitList_0+2
 12592 04:3543: D0 03        	bne	L465
 12593 04:3545: 82 07 04     	brl	L10168
  Wed Nov 18 2020  8:26                                                Page 246


 12594                        L465:
 12595                        	.line	2286
 12596                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:data:",((PFXNODE)hitList->listData)->data);
 12597                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:window:",((PCLICKDETECTED)((PFXNODE)hitList->listData)->
                    data)->window);
 12598                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:clickable:",((PCLICKDETECTED)((PFXNODE)hitList->listData
                    )->data)->window->clickable);
 12599                        ;
 12600                        ;		if(hitList->listData && ((PFXNODE)hitLis
                    t->listData)->data && ((PCLICKDETECTED)((PFXNODE)hitList->li
                    stData)->data)->window && ((PCLICKDETECTED)((PFXNODE)hitList
                    ->listData)->data)->window->clickable)
 12601                        	.line	2291
 12602                        ;		{
 12603 04:3548: A0 04 00     	ldy	#$4
 12604 04:354B: B7 24        	lda	[<L462+hitList_0],Y
 12605 04:354D: A0 06 00     	ldy	#$6
 12606 04:3550: 17 24        	ora	[<L462+hitList_0],Y
 12607 04:3552: D0 03        	bne	L466
 12608 04:3554: 82 7B 01     	brl	L10169
 12609                        L466:
 12610 04:3557: A0 04 00     	ldy	#$4
 12611 04:355A: B7 24        	lda	[<L462+hitList_0],Y
 12612 04:355C: 85 01        	sta	<R0
 12613 04:355E: A0 06 00     	ldy	#$6
 12614 04:3561: B7 24        	lda	[<L462+hitList_0],Y
 12615 04:3563: 85 03        	sta	<R0+2
 12616 04:3565: A0 02 00     	ldy	#$2
 12617 04:3568: B7 01        	lda	[<R0],Y
 12618 04:356A: A0 04 00     	ldy	#$4
 12619 04:356D: 17 01        	ora	[<R0],Y
 12620 04:356F: D0 03        	bne	L467
 12621 04:3571: 82 5E 01     	brl	L10169
 12622                        L467:
 12623 04:3574: A0 04 00     	ldy	#$4
 12624 04:3577: B7 24        	lda	[<L462+hitList_0],Y
 12625 04:3579: 85 01        	sta	<R0
 12626 04:357B: A0 06 00     	ldy	#$6
 12627 04:357E: B7 24        	lda	[<L462+hitList_0],Y
 12628 04:3580: 85 03        	sta	<R0+2
 12629 04:3582: A0 02 00     	ldy	#$2
 12630 04:3585: B7 01        	lda	[<R0],Y
 12631 04:3587: 85 05        	sta	<R1
 12632 04:3589: A0 04 00     	ldy	#$4
 12633 04:358C: B7 01        	lda	[<R0],Y
 12634 04:358E: 85 07        	sta	<R1+2
 12635 04:3590: A7 05        	lda	[<R1]
 12636 04:3592: A0 02 00     	ldy	#$2
 12637 04:3595: 17 05        	ora	[<R1],Y
 12638 04:3597: D0 03        	bne	L468
 12639 04:3599: 82 36 01     	brl	L10169
 12640                        L468:
 12641 04:359C: A0 04 00     	ldy	#$4
 12642 04:359F: B7 24        	lda	[<L462+hitList_0],Y
 12643 04:35A1: 85 01        	sta	<R0
  Wed Nov 18 2020  8:26                                                Page 247


 12644 04:35A3: A0 06 00     	ldy	#$6
 12645 04:35A6: B7 24        	lda	[<L462+hitList_0],Y
 12646 04:35A8: 85 03        	sta	<R0+2
 12647 04:35AA: A0 02 00     	ldy	#$2
 12648 04:35AD: B7 01        	lda	[<R0],Y
 12649 04:35AF: 85 05        	sta	<R1
 12650 04:35B1: A0 04 00     	ldy	#$4
 12651 04:35B4: B7 01        	lda	[<R0],Y
 12652 04:35B6: 85 07        	sta	<R1+2
 12653 04:35B8: A7 05        	lda	[<R1]
 12654 04:35BA: 85 01        	sta	<R0
 12655 04:35BC: A0 02 00     	ldy	#$2
 12656 04:35BF: B7 05        	lda	[<R1],Y
 12657 04:35C1: 85 03        	sta	<R0+2
 12658 04:35C3: A0 20 00     	ldy	#$20
 12659 04:35C6: B7 01        	lda	[<R0],Y
 12660 04:35C8: A0 22 00     	ldy	#$22
 12661 04:35CB: 17 01        	ora	[<R0],Y
 12662 04:35CD: D0 03        	bne	L469
 12663 04:35CF: 82 00 01     	brl	L10169
 12664                        L469:
 12665                        	.line	2292
 12666                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)((PFXNODE)hitList->listData)->data)->window->clickable)->a
                    rea;
 12667                        	.line	2293
 12668 04:35D2: A0 04 00     	ldy	#$4
 12669 04:35D5: B7 24        	lda	[<L462+hitList_0],Y
 12670 04:35D7: 85 01        	sta	<R0
 12671 04:35D9: A0 06 00     	ldy	#$6
 12672 04:35DC: B7 24        	lda	[<L462+hitList_0],Y
 12673 04:35DE: 85 03        	sta	<R0+2
 12674 04:35E0: A0 02 00     	ldy	#$2
 12675 04:35E3: B7 01        	lda	[<R0],Y
 12676 04:35E5: 85 05        	sta	<R1
 12677 04:35E7: A0 04 00     	ldy	#$4
 12678 04:35EA: B7 01        	lda	[<R0],Y
 12679 04:35EC: 85 07        	sta	<R1+2
 12680 04:35EE: A7 05        	lda	[<R1]
 12681 04:35F0: 85 01        	sta	<R0
 12682 04:35F2: A0 02 00     	ldy	#$2
 12683 04:35F5: B7 05        	lda	[<R1],Y
 12684 04:35F7: 85 03        	sta	<R0+2
 12685 04:35F9: A0 22 00     	ldy	#$22
 12686 04:35FC: B7 01        	lda	[<R0],Y
 12687 04:35FE: 48           	pha
 12688 04:35FF: A0 20 00     	ldy	#$20
 12689 04:3602: B7 01        	lda	[<R0],Y
 12690 04:3604: 48           	pha
 12691 04:3605: 18           	clc
 12692 04:3606: 7B           	tdc
 12693 04:3607: 69 15 00     	adc	#<L463+r_1
 12694 04:360A: 85 01        	sta	<R0
 12695 04:360C: A9 00 00     	lda	#$0
 12696 04:360F: 85 03        	sta	<R0+2
 12697 04:3611: D4 03        	pei	<R0+2
 12698 04:3613: D4 01        	pei	<R0
 12699 04:3615: A9 08 00     	lda	#$8
  Wed Nov 18 2020  8:26                                                Page 248


 12700                        	xref	~~~fmov
 12701 04:3618: 22 xx xx xx  	jsl	~~~fmov
 12702                        ;			if(x >=r.x && x<(r.x+r.width))
 12703                        	.line	2294
 12704                        ;			{
 12705 04:361C: 38           	sec
 12706 04:361D: A5 28        	lda	<L462+x_0
 12707 04:361F: E5 15        	sbc	<L463+r_1
 12708 04:3621: 70 03        	bvs	L470
 12709 04:3623: 49 00 80     	eor	#$8000
 12710                        L470:
 12711 04:3626: 30 03        	bmi	L471
 12712 04:3628: 82 A7 00     	brl	L10170
 12713                        L471:
 12714 04:362B: 18           	clc
 12715 04:362C: A5 15        	lda	<L463+r_1
 12716 04:362E: 65 19        	adc	<L463+r_1+4
 12717 04:3630: 85 01        	sta	<R0
 12718 04:3632: 38           	sec
 12719 04:3633: A5 28        	lda	<L462+x_0
 12720 04:3635: E5 01        	sbc	<R0
 12721 04:3637: 70 03        	bvs	L472
 12722 04:3639: 49 00 80     	eor	#$8000
 12723                        L472:
 12724 04:363C: 10 03        	bpl	L473
 12725 04:363E: 82 91 00     	brl	L10170
 12726                        L473:
 12727                        	.line	2295
 12728                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 12729                        	.line	2296
 12730                        ;				{
 12731 04:3641: 38           	sec
 12732 04:3642: A5 2A        	lda	<L462+y_0
 12733 04:3644: E5 17        	sbc	<L463+r_1+2
 12734 04:3646: 70 03        	bvs	L474
 12735 04:3648: 49 00 80     	eor	#$8000
 12736                        L474:
 12737 04:364B: 30 03        	bmi	L475
 12738 04:364D: 82 82 00     	brl	L10171
 12739                        L475:
 12740 04:3650: 18           	clc
 12741 04:3651: A5 17        	lda	<L463+r_1+2
 12742 04:3653: 65 1B        	adc	<L463+r_1+6
 12743 04:3655: 85 01        	sta	<R0
 12744 04:3657: 38           	sec
 12745 04:3658: A5 2A        	lda	<L462+y_0
 12746 04:365A: E5 01        	sbc	<R0
 12747 04:365C: 70 03        	bvs	L476
 12748 04:365E: 49 00 80     	eor	#$8000
 12749                        L476:
 12750 04:3661: 10 03        	bpl	L477
 12751 04:3663: 82 6C 00     	brl	L10171
 12752                        L477:
 12753                        	.line	2297
 12754                        ;					//k_debug_pointe
                    r("CURRENT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->l
                    istData);
  Wed Nov 18 2020  8:26                                                Page 249


 12755                        ;					found = k_point_
                    in_any_nodeslist(  ((PCLICKDETECTED)((PFXNODE)hitList->listD
                    ata)->data)->window->pChildHitList,x,y);
 12756                        	.line	2299
 12757 04:3666: D4 2A        	pei	<L462+y_0
 12758 04:3668: D4 28        	pei	<L462+x_0
 12759 04:366A: A0 04 00     	ldy	#$4
 12760 04:366D: B7 24        	lda	[<L462+hitList_0],Y
 12761 04:366F: 85 01        	sta	<R0
 12762 04:3671: A0 06 00     	ldy	#$6
 12763 04:3674: B7 24        	lda	[<L462+hitList_0],Y
 12764 04:3676: 85 03        	sta	<R0+2
 12765 04:3678: A0 02 00     	ldy	#$2
 12766 04:367B: B7 01        	lda	[<R0],Y
 12767 04:367D: 85 05        	sta	<R1
 12768 04:367F: A0 04 00     	ldy	#$4
 12769 04:3682: B7 01        	lda	[<R0],Y
 12770 04:3684: 85 07        	sta	<R1+2
 12771 04:3686: A7 05        	lda	[<R1]
 12772 04:3688: 85 01        	sta	<R0
 12773 04:368A: A0 02 00     	ldy	#$2
 12774 04:368D: B7 05        	lda	[<R1],Y
 12775 04:368F: 85 03        	sta	<R0+2
 12776 04:3691: A0 8E 00     	ldy	#$8e
 12777 04:3694: B7 01        	lda	[<R0],Y
 12778 04:3696: 48           	pha
 12779 04:3697: A0 8C 00     	ldy	#$8c
 12780 04:369A: B7 01        	lda	[<R0],Y
 12781 04:369C: 48           	pha
 12782 04:369D: 22 1E 35 04  	jsl	~~k_point_in_any_nodeslist
 12783 04:36A1: 85 09        	sta	<L463+found_1
 12784 04:36A3: 86 0B        	stx	<L463+found_1+2
 12785                        ;					if(found)
 12786                        	.line	2300
 12787                        ;						return f
                    ound;
 12788 04:36A5: A5 09        	lda	<L463+found_1
 12789 04:36A7: 05 0B        	ora	<L463+found_1+2
 12790 04:36A9: D0 03        	bne	L478
 12791 04:36AB: 82 16 00     	brl	L10172
 12792                        L478:
 12793                        	.line	2301
 12794 04:36AE: A6 0B        	ldx	<L463+found_1+2
 12795 04:36B0: A5 09        	lda	<L463+found_1
 12796                        L479:
 12797 04:36B2: A8           	tay
 12798 04:36B3: A5 22        	lda	<L462+2
 12799 04:36B5: 85 2A        	sta	<L462+2+8
 12800 04:36B7: A5 21        	lda	<L462+1
 12801 04:36B9: 85 29        	sta	<L462+1+8
 12802 04:36BB: 2B           	pld
 12803 04:36BC: 3B           	tsc
 12804 04:36BD: 18           	clc
 12805 04:36BE: 69 28 00     	adc	#L462+8
 12806 04:36C1: 1B           	tcs
 12807 04:36C2: 98           	tya
 12808 04:36C3: 6B           	rtl
 12809                        ;
  Wed Nov 18 2020  8:26                                                Page 250


 12810                        ;					return (PFXNODE)
                    hitList->listData;
 12811                        L10172:
 12812                        	.line	2303
 12813 04:36C4: A0 06 00     	ldy	#$6
 12814 04:36C7: B7 24        	lda	[<L462+hitList_0],Y
 12815 04:36C9: AA           	tax
 12816 04:36CA: A0 04 00     	ldy	#$4
 12817 04:36CD: B7 24        	lda	[<L462+hitList_0],Y
 12818 04:36CF: 82 E0 FF     	brl	L479
 12819                        ;				}
 12820                        	.line	2304
 12821                        ;			}
 12822                        L10171:
 12823                        	.line	2305
 12824                        ;		}
 12825                        L10170:
 12826                        	.line	2306
 12827                        ;
 12828                        ;		ptr = k_nodelist_getfirstnode(hitList);
 12829                        L10169:
 12830                        	.line	2308
 12831 04:36D2: D4 26        	pei	<L462+hitList_0+2
 12832 04:36D4: D4 24        	pei	<L462+hitList_0
 12833 04:36D6: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 12834 04:36DA: 85 11        	sta	<L463+ptr_1
 12835 04:36DC: 86 13        	stx	<L463+ptr_1+2
 12836                        ;		while(ptr!=NULL)
 12837                        	.line	2309
 12838                        L10173:
 12839 04:36DE: A5 11        	lda	<L463+ptr_1
 12840 04:36E0: 05 13        	ora	<L463+ptr_1+2
 12841 04:36E2: D0 03        	bne	L480
 12842 04:36E4: 82 68 02     	brl	L10174
 12843                        L480:
 12844                        ;		{
 12845                        	.line	2310
 12846                        ;			//k_debug_pointer("FOUND HIT CHE
                    CK ITEM:",ptr);
 12847                        ;			found = k_point_in_any_nodeslist
                    (NULL,x,y); //k_point_in_any_nodeslist(((PCLICKDETECTED)ptr-
                    >data)->window->pChildHitList,x,y);
 12848                        	.line	2312
 12849 04:36E7: D4 2A        	pei	<L462+y_0
 12850 04:36E9: D4 28        	pei	<L462+x_0
 12851 04:36EB: F4 00 00     	pea	#^$0
 12852 04:36EE: F4 00 00     	pea	#<$0
 12853 04:36F1: 22 1E 35 04  	jsl	~~k_point_in_any_nodeslist
 12854 04:36F5: 85 09        	sta	<L463+found_1
 12855 04:36F7: 86 0B        	stx	<L463+found_1+2
 12856                        ;			if(!found)
 12857                        	.line	2313
 12858                        ;			{
 12859 04:36F9: A5 09        	lda	<L463+found_1
 12860 04:36FB: 05 0B        	ora	<L463+found_1+2
 12861 04:36FD: F0 03        	beq	L481
 12862 04:36FF: 82 4A 02     	brl	L10175
 12863                        L481:
  Wed Nov 18 2020  8:26                                                Page 251


 12864                        	.line	2314
 12865                        ;				r = ((PCLICKABLE)((PCLIC
                    KDETECTED)ptr->data)->window->clickable)->area;
 12866                        	.line	2315
 12867 04:3702: A0 02 00     	ldy	#$2
 12868 04:3705: B7 11        	lda	[<L463+ptr_1],Y
 12869 04:3707: 85 01        	sta	<R0
 12870 04:3709: A0 04 00     	ldy	#$4
 12871 04:370C: B7 11        	lda	[<L463+ptr_1],Y
 12872 04:370E: 85 03        	sta	<R0+2
 12873 04:3710: A7 01        	lda	[<R0]
 12874 04:3712: 85 05        	sta	<R1
 12875 04:3714: A0 02 00     	ldy	#$2
 12876 04:3717: B7 01        	lda	[<R0],Y
 12877 04:3719: 85 07        	sta	<R1+2
 12878 04:371B: A0 22 00     	ldy	#$22
 12879 04:371E: B7 05        	lda	[<R1],Y
 12880 04:3720: 48           	pha
 12881 04:3721: A0 20 00     	ldy	#$20
 12882 04:3724: B7 05        	lda	[<R1],Y
 12883 04:3726: 48           	pha
 12884 04:3727: 18           	clc
 12885 04:3728: 7B           	tdc
 12886 04:3729: 69 15 00     	adc	#<L463+r_1
 12887 04:372C: 85 01        	sta	<R0
 12888 04:372E: A9 00 00     	lda	#$0
 12889 04:3731: 85 03        	sta	<R0+2
 12890 04:3733: D4 03        	pei	<R0+2
 12891 04:3735: D4 01        	pei	<R0
 12892 04:3737: A9 08 00     	lda	#$8
 12893                        	xref	~~~fmov
 12894 04:373A: 22 xx xx xx  	jsl	~~~fmov
 12895                        ;				if(x >=r.x && x<(r.x+r.w
                    idth))
 12896                        	.line	2316
 12897                        ;				{
 12898 04:373E: 38           	sec
 12899 04:373F: A5 28        	lda	<L462+x_0
 12900 04:3741: E5 15        	sbc	<L463+r_1
 12901 04:3743: 70 03        	bvs	L482
 12902 04:3745: 49 00 80     	eor	#$8000
 12903                        L482:
 12904 04:3748: 30 03        	bmi	L483
 12905 04:374A: 82 8E 00     	brl	L10176
 12906                        L483:
 12907 04:374D: 18           	clc
 12908 04:374E: A5 15        	lda	<L463+r_1
 12909 04:3750: 65 19        	adc	<L463+r_1+4
 12910 04:3752: 85 01        	sta	<R0
 12911 04:3754: 38           	sec
 12912 04:3755: A5 28        	lda	<L462+x_0
 12913 04:3757: E5 01        	sbc	<R0
 12914 04:3759: 70 03        	bvs	L484
 12915 04:375B: 49 00 80     	eor	#$8000
 12916                        L484:
 12917 04:375E: 10 03        	bpl	L485
 12918 04:3760: 82 78 00     	brl	L10176
 12919                        L485:
  Wed Nov 18 2020  8:26                                                Page 252


 12920                        	.line	2317
 12921                        ;					if(y >=r.y && y<
                    (r.y+r.height))
 12922                        	.line	2318
 12923                        ;					{
 12924 04:3763: 38           	sec
 12925 04:3764: A5 2A        	lda	<L462+y_0
 12926 04:3766: E5 17        	sbc	<L463+r_1+2
 12927 04:3768: 70 03        	bvs	L486
 12928 04:376A: 49 00 80     	eor	#$8000
 12929                        L486:
 12930 04:376D: 30 03        	bmi	L487
 12931 04:376F: 82 69 00     	brl	L10177
 12932                        L487:
 12933 04:3772: 18           	clc
 12934 04:3773: A5 17        	lda	<L463+r_1+2
 12935 04:3775: 65 1B        	adc	<L463+r_1+6
 12936 04:3777: 85 01        	sta	<R0
 12937 04:3779: 38           	sec
 12938 04:377A: A5 2A        	lda	<L462+y_0
 12939 04:377C: E5 01        	sbc	<R0
 12940 04:377E: 70 03        	bvs	L488
 12941 04:3780: 49 00 80     	eor	#$8000
 12942                        L488:
 12943 04:3783: 10 03        	bpl	L489
 12944 04:3785: 82 53 00     	brl	L10177
 12945                        L489:
 12946                        	.line	2319
 12947                        ;						//found 
                    = ptr;
 12948                        ;
 12949                        ;						found = 
                     k_point_in_any_nodeslist( ((PCLICKDETECTED)ptr->data)->wind
                    ow->pChildHitList   ,x,y); // k_point_in_any_nodeslist(((PCL
                    ICKDETECTED)ptr->data)->window->pChildHitList,x,y);
 12950                        	.line	2322
 12951 04:3788: D4 2A        	pei	<L462+y_0
 12952 04:378A: D4 28        	pei	<L462+x_0
 12953 04:378C: A0 02 00     	ldy	#$2
 12954 04:378F: B7 11        	lda	[<L463+ptr_1],Y
 12955 04:3791: 85 01        	sta	<R0
 12956 04:3793: A0 04 00     	ldy	#$4
 12957 04:3796: B7 11        	lda	[<L463+ptr_1],Y
 12958 04:3798: 85 03        	sta	<R0+2
 12959 04:379A: A7 01        	lda	[<R0]
 12960 04:379C: 85 05        	sta	<R1
 12961 04:379E: A0 02 00     	ldy	#$2
 12962 04:37A1: B7 01        	lda	[<R0],Y
 12963 04:37A3: 85 07        	sta	<R1+2
 12964 04:37A5: A0 8E 00     	ldy	#$8e
 12965 04:37A8: B7 05        	lda	[<R1],Y
 12966 04:37AA: 48           	pha
 12967 04:37AB: A0 8C 00     	ldy	#$8c
 12968 04:37AE: B7 05        	lda	[<R1],Y
 12969 04:37B0: 48           	pha
 12970 04:37B1: 22 1E 35 04  	jsl	~~k_point_in_any_nodeslist
 12971 04:37B5: 85 09        	sta	<L463+found_1
 12972 04:37B7: 86 0B        	stx	<L463+found_1+2
  Wed Nov 18 2020  8:26                                                Page 253


 12973                        ;						if(!foun
                    d)
 12974                        	.line	2323
 12975                        ;						{
 12976 04:37B9: A5 09        	lda	<L463+found_1
 12977 04:37BB: 05 0B        	ora	<L463+found_1+2
 12978 04:37BD: F0 03        	beq	L490
 12979 04:37BF: 82 08 00     	brl	L10178
 12980                        L490:
 12981                        	.line	2324
 12982                        ;							
                    found = ptr;
 12983                        	.line	2325
 12984 04:37C2: A5 11        	lda	<L463+ptr_1
 12985 04:37C4: 85 09        	sta	<L463+found_1
 12986 04:37C6: A5 13        	lda	<L463+ptr_1+2
 12987 04:37C8: 85 0B        	sta	<L463+found_1+2
 12988                        ;						}
 12989                        	.line	2326
 12990                        ;
 12991                        ;						hitList-
                    >listData = found;
 12992                        L10178:
 12993                        	.line	2328
 12994 04:37CA: A5 09        	lda	<L463+found_1
 12995 04:37CC: A0 04 00     	ldy	#$4
 12996 04:37CF: 97 24        	sta	[<L462+hitList_0],Y
 12997 04:37D1: A5 0B        	lda	<L463+found_1+2
 12998 04:37D3: A0 06 00     	ldy	#$6
 12999 04:37D6: 97 24        	sta	[<L462+hitList_0],Y
 13000                        ;						break;
 13001                        	.line	2329
 13002 04:37D8: 82 74 01     	brl	L10174
 13003                        ;					}
 13004                        	.line	2330
 13005                        ;				}
 13006                        L10177:
 13007                        	.line	2331
 13008                        ;				ptr = ptr->next;
 13009                        L10176:
 13010                        	.line	2332
 13011 04:37DB: A0 0A 00     	ldy	#$a
 13012 04:37DE: B7 11        	lda	[<L463+ptr_1],Y
 13013 04:37E0: 85 01        	sta	<R0
 13014 04:37E2: A0 0C 00     	ldy	#$c
 13015 04:37E5: B7 11        	lda	[<L463+ptr_1],Y
 13016 04:37E7: 85 03        	sta	<R0+2
 13017 04:37E9: A5 01        	lda	<R0
 13018 04:37EB: 85 11        	sta	<L463+ptr_1
 13019 04:37ED: A5 03        	lda	<R0+2
 13020 04:37EF: 85 13        	sta	<L463+ptr_1+2
 13021                        ;
 13022                        ;				if(ptr)
 13023                        	.line	2334
 13024                        ;				{
 13025 04:37F1: A5 11        	lda	<L463+ptr_1
 13026 04:37F3: 05 13        	ora	<L463+ptr_1+2
 13027 04:37F5: D0 03        	bne	L491
  Wed Nov 18 2020  8:26                                                Page 254


 13028 04:37F7: 82 52 01     	brl	L10179
 13029                        L491:
 13030                        	.line	2335
 13031                        ;					if(((PCLICKDETEC
                    TED)ptr->data)->window && ((PCLICKDETECTED)ptr->data)->windo
                    w->isClosed)
 13032                        	.line	2336
 13033                        ;					{
 13034 04:37FA: A0 02 00     	ldy	#$2
 13035 04:37FD: B7 11        	lda	[<L463+ptr_1],Y
 13036 04:37FF: 85 01        	sta	<R0
 13037 04:3801: A0 04 00     	ldy	#$4
 13038 04:3804: B7 11        	lda	[<L463+ptr_1],Y
 13039 04:3806: 85 03        	sta	<R0+2
 13040 04:3808: A7 01        	lda	[<R0]
 13041 04:380A: A0 02 00     	ldy	#$2
 13042 04:380D: 17 01        	ora	[<R0],Y
 13043 04:380F: D0 03        	bne	L492
 13044 04:3811: 82 38 01     	brl	L10180
 13045                        L492:
 13046 04:3814: A0 02 00     	ldy	#$2
 13047 04:3817: B7 11        	lda	[<L463+ptr_1],Y
 13048 04:3819: 85 01        	sta	<R0
 13049 04:381B: A0 04 00     	ldy	#$4
 13050 04:381E: B7 11        	lda	[<L463+ptr_1],Y
 13051 04:3820: 85 03        	sta	<R0+2
 13052 04:3822: A7 01        	lda	[<R0]
 13053 04:3824: 85 05        	sta	<R1
 13054 04:3826: A0 02 00     	ldy	#$2
 13055 04:3829: B7 01        	lda	[<R0],Y
 13056 04:382B: 85 07        	sta	<R1+2
 13057 04:382D: A0 A5 00     	ldy	#$a5
 13058 04:3830: B7 05        	lda	[<R1],Y
 13059 04:3832: 29 FF 00     	and	#$ff
 13060 04:3835: D0 03        	bne	L493
 13061 04:3837: 82 12 01     	brl	L10180
 13062                        L493:
 13063                        	.line	2337
 13064                        ;						((PCLICK
                    DETECTED)ptr->data)->window->win_title[31] = 0;
 13065                        	.line	2338
 13066 04:383A: A0 02 00     	ldy	#$2
 13067 04:383D: B7 11        	lda	[<L463+ptr_1],Y
 13068 04:383F: 85 01        	sta	<R0
 13069 04:3841: A0 04 00     	ldy	#$4
 13070 04:3844: B7 11        	lda	[<L463+ptr_1],Y
 13071 04:3846: 85 03        	sta	<R0+2
 13072 04:3848: A7 01        	lda	[<R0]
 13073 04:384A: 85 05        	sta	<R1
 13074 04:384C: A0 02 00     	ldy	#$2
 13075 04:384F: B7 01        	lda	[<R0],Y
 13076 04:3851: 85 07        	sta	<R1+2
 13077 04:3853: E2 20        	sep	#$20
 13078                        	longa	off
 13079 04:3855: A9 00        	lda	#$0
 13080 04:3857: A0 43 00     	ldy	#$43
 13081 04:385A: 97 05        	sta	[<R1],Y
 13082 04:385C: C2 20        	rep	#$20
  Wed Nov 18 2020  8:26                                                Page 255


 13083                        	longa	on
 13084                        ;
 13085                        ;						if(((PCL
                    ICKDETECTED)ptr->data)->window->win_title)
 13086                        	.line	2340
 13087                        ;							
                    k_debug_strings("k_point_in_any_nodeslist::removing closed w
                    indow:",((PCLICKDETECTED)ptr->data)->window->win_title);
 13088 04:385E: A0 02 00     	ldy	#$2
 13089 04:3861: B7 11        	lda	[<L463+ptr_1],Y
 13090 04:3863: 85 01        	sta	<R0
 13091 04:3865: A0 04 00     	ldy	#$4
 13092 04:3868: B7 11        	lda	[<L463+ptr_1],Y
 13093 04:386A: 85 03        	sta	<R0+2
 13094 04:386C: 18           	clc
 13095 04:386D: A9 24 00     	lda	#$24
 13096 04:3870: 67 01        	adc	[<R0]
 13097 04:3872: 85 05        	sta	<R1
 13098 04:3874: A9 00 00     	lda	#$0
 13099 04:3877: A0 02 00     	ldy	#$2
 13100 04:387A: 77 01        	adc	[<R0],Y
 13101 04:387C: 85 07        	sta	<R1+2
 13102 04:387E: A5 05        	lda	<R1
 13103 04:3880: 05 07        	ora	<R1+2
 13104 04:3882: D0 03        	bne	L494
 13105 04:3884: 82 31 00     	brl	L10181
 13106                        L494:
 13107                        	.line	2341
 13108 04:3887: A0 02 00     	ldy	#$2
 13109 04:388A: B7 11        	lda	[<L463+ptr_1],Y
 13110 04:388C: 85 01        	sta	<R0
 13111 04:388E: A0 04 00     	ldy	#$4
 13112 04:3891: B7 11        	lda	[<L463+ptr_1],Y
 13113 04:3893: 85 03        	sta	<R0+2
 13114 04:3895: 18           	clc
 13115 04:3896: A9 24 00     	lda	#$24
 13116 04:3899: 67 01        	adc	[<R0]
 13117 04:389B: 85 05        	sta	<R1
 13118 04:389D: A9 00 00     	lda	#$0
 13119 04:38A0: A0 02 00     	ldy	#$2
 13120 04:38A3: 77 01        	adc	[<R0],Y
 13121 04:38A5: 85 07        	sta	<R1+2
 13122 04:38A7: D4 07        	pei	<R1+2
 13123 04:38A9: D4 05        	pei	<R1
 13124 04:38AB: F4 xx xx     	pea	#^L408+1
 13125 04:38AE: F4 xx xx     	pea	#<L408+1
 13126 04:38B1: 22 xx xx xx  	jsl	~~k_debug_strings
 13127                        ;						else
 13128 04:38B5: 82 10 00     	brl	L10182
 13129                        L10181:
 13130                        ;							
                    k_debug_strings("k_point_in_any_nodeslist::removing closed w
                    indow:","NO NAME");
 13131                        	.line	2343
 13132 04:38B8: F4 xx xx     	pea	#^L408+101
 13133 04:38BB: F4 xx xx     	pea	#<L408+101
 13134 04:38BE: F4 xx xx     	pea	#^L408+51
 13135 04:38C1: F4 xx xx     	pea	#<L408+51
  Wed Nov 18 2020  8:26                                                Page 256


 13136 04:38C4: 22 xx xx xx  	jsl	~~k_debug_strings
 13137                        L10182:
 13138                        ;
 13139                        ;						found = 
                    ptr->next;
 13140                        	.line	2345
 13141 04:38C8: A0 0A 00     	ldy	#$a
 13142 04:38CB: B7 11        	lda	[<L463+ptr_1],Y
 13143 04:38CD: 85 09        	sta	<L463+found_1
 13144 04:38CF: A0 0C 00     	ldy	#$c
 13145 04:38D2: B7 11        	lda	[<L463+ptr_1],Y
 13146 04:38D4: 85 0B        	sta	<L463+found_1+2
 13147                        ;
 13148                        ;						if(ptr->
                    last)
 13149                        	.line	2347
 13150                        ;							
                    ptr->last->next = ptr->next;
 13151 04:38D6: A0 06 00     	ldy	#$6
 13152 04:38D9: B7 11        	lda	[<L463+ptr_1],Y
 13153 04:38DB: A0 08 00     	ldy	#$8
 13154 04:38DE: 17 11        	ora	[<L463+ptr_1],Y
 13155 04:38E0: D0 03        	bne	L495
 13156 04:38E2: 82 22 00     	brl	L10183
 13157                        L495:
 13158                        	.line	2348
 13159 04:38E5: A0 06 00     	ldy	#$6
 13160 04:38E8: B7 11        	lda	[<L463+ptr_1],Y
 13161 04:38EA: 85 01        	sta	<R0
 13162 04:38EC: A0 08 00     	ldy	#$8
 13163 04:38EF: B7 11        	lda	[<L463+ptr_1],Y
 13164 04:38F1: 85 03        	sta	<R0+2
 13165 04:38F3: A0 0A 00     	ldy	#$a
 13166 04:38F6: B7 11        	lda	[<L463+ptr_1],Y
 13167 04:38F8: A0 0A 00     	ldy	#$a
 13168 04:38FB: 97 01        	sta	[<R0],Y
 13169 04:38FD: A0 0C 00     	ldy	#$c
 13170 04:3900: B7 11        	lda	[<L463+ptr_1],Y
 13171 04:3902: A0 0C 00     	ldy	#$c
 13172 04:3905: 97 01        	sta	[<R0],Y
 13173                        ;						if(ptr->
                    next)
 13174                        L10183:
 13175                        	.line	2349
 13176                        ;							
                    ptr->next->last = ptr->last;
 13177 04:3907: A0 0A 00     	ldy	#$a
 13178 04:390A: B7 11        	lda	[<L463+ptr_1],Y
 13179 04:390C: A0 0C 00     	ldy	#$c
 13180 04:390F: 17 11        	ora	[<L463+ptr_1],Y
 13181 04:3911: D0 03        	bne	L496
 13182 04:3913: 82 22 00     	brl	L10184
 13183                        L496:
 13184                        	.line	2350
 13185 04:3916: A0 0A 00     	ldy	#$a
 13186 04:3919: B7 11        	lda	[<L463+ptr_1],Y
 13187 04:391B: 85 01        	sta	<R0
 13188 04:391D: A0 0C 00     	ldy	#$c
  Wed Nov 18 2020  8:26                                                Page 257


 13189 04:3920: B7 11        	lda	[<L463+ptr_1],Y
 13190 04:3922: 85 03        	sta	<R0+2
 13191 04:3924: A0 06 00     	ldy	#$6
 13192 04:3927: B7 11        	lda	[<L463+ptr_1],Y
 13193 04:3929: A0 06 00     	ldy	#$6
 13194 04:392C: 97 01        	sta	[<R0],Y
 13195 04:392E: A0 08 00     	ldy	#$8
 13196 04:3931: B7 11        	lda	[<L463+ptr_1],Y
 13197 04:3933: A0 08 00     	ldy	#$8
 13198 04:3936: 97 01        	sta	[<R0],Y
 13199                        ;
 13200                        ;						//k_mem_
                    deallocate_heap(ptr->data);
 13201                        ;						k_mem_de
                    allocate_heap(ptr);
 13202                        L10184:
 13203                        	.line	2353
 13204 04:3938: D4 13        	pei	<L463+ptr_1+2
 13205 04:393A: D4 11        	pei	<L463+ptr_1
 13206 04:393C: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 13207                        ;
 13208                        ;						ptr = fo
                    und;
 13209                        	.line	2355
 13210 04:3940: A5 09        	lda	<L463+found_1
 13211 04:3942: 85 11        	sta	<L463+ptr_1
 13212 04:3944: A5 0B        	lda	<L463+found_1+2
 13213 04:3946: 85 13        	sta	<L463+ptr_1+2
 13214                        ;						found = 
                    NULL;
 13215                        	.line	2356
 13216 04:3948: 64 09        	stz	<L463+found_1
 13217 04:394A: 64 0B        	stz	<L463+found_1+2
 13218                        ;					}
 13219                        	.line	2357
 13220                        ;				}
 13221                        L10180:
 13222                        	.line	2358
 13223                        ;			}
 13224                        L10179:
 13225                        	.line	2359
 13226                        ;		}
 13227                        L10175:
 13228                        	.line	2360
 13229 04:394C: 82 8F FD     	brl	L10173
 13230                        L10174:
 13231                        ;	}
 13232                        	.line	2361
 13233                        ;
 13234                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",fo
                    und);
 13235                        ;
 13236                        ;	return found;
 13237                        L10168:
 13238                        	.line	2365
 13239 04:394F: A6 0B        	ldx	<L463+found_1+2
 13240 04:3951: A5 09        	lda	<L463+found_1
 13241 04:3953: 82 5C FD     	brl	L479
  Wed Nov 18 2020  8:26                                                Page 258


 13242                        ;}
 13243                        	.line	2366
 13244                        	.endblock	2366
 13245             00000020   L462	equ	32
 13246             00000009   L463	equ	9
 13247 04:3956:              	ends
 13248                        	efunc
 13249                        	.endfunc	2366,9,32
 13250                        	.line	2366
 13251                        	data
 13252                        L408:
 13253 00:0A11: 00 6B 5F 70  	db	$00,$6B,$5F,$70,$6F,$69,$6E,$74,$5F,$69,
                    $6E,$5F,$61,$6E,$79
       00:0A15: 6F 69 6E 74 
       00:0A19: 5F 69 6E 5F 
       00:0A1D: 61 6E 79 
 13254 00:0A20: 5F 6E 6F 64  	db	$5F,$6E,$6F,$64,$65,$73,$6C,$69,$73,$74,
                    $3A,$3A,$72,$65,$6D
       00:0A24: 65 73 6C 69 
       00:0A28: 73 74 3A 3A 
       00:0A2C: 72 65 6D 
 13255 00:0A2F: 6F 76 69 6E  	db	$6F,$76,$69,$6E,$67,$20,$63,$6C,$6F,$73,
                    $65,$64,$20,$77,$69
       00:0A33: 67 20 63 6C 
       00:0A37: 6F 73 65 64 
       00:0A3B: 20 77 69 
 13256 00:0A3E: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$00,$6B,$5F,$70,$6F,
                    $69,$6E,$74,$5F,$69
       00:0A42: 3A 00 6B 5F 
       00:0A46: 70 6F 69 6E 
       00:0A4A: 74 5F 69 
 13257 00:0A4D: 6E 5F 61 6E  	db	$6E,$5F,$61,$6E,$79,$5F,$6E,$6F,$64,$65,
                    $73,$6C,$69,$73,$74
       00:0A51: 79 5F 6E 6F 
       00:0A55: 64 65 73 6C 
       00:0A59: 69 73 74 
 13258 00:0A5C: 3A 3A 72 65  	db	$3A,$3A,$72,$65,$6D,$6F,$76,$69,$6E,$67,
                    $20,$63,$6C,$6F,$73
       00:0A60: 6D 6F 76 69 
       00:0A64: 6E 67 20 63 
       00:0A68: 6C 6F 73 
 13259 00:0A6B: 65 64 20 77  	db	$65,$64,$20,$77,$69,$6E,$64,$6F,$77,$3A,
                    $00,$4E,$4F,$20,$4E
       00:0A6F: 69 6E 64 6F 
       00:0A73: 77 3A 00 4E 
       00:0A77: 4F 20 4E 
 13260 00:0A7A: 41 4D 45 00  	db	$41,$4D,$45,$00
 13261 00:0A7E:              	ends
 13262                        ;
 13263                        ;
 13264                        ;PFXNODE k_point_in_depth_nodeslist(PFXNODELIST hi
                    tList,int x,int y)
 13265                        ;{
 13266                        	.line	2369
 13267                        	.line	2370
 13268                        	WINMAN
 13269                        	xdef	~~k_point_in_depth_nodeslist
 13270                        	func
  Wed Nov 18 2020  8:26                                                Page 259


 13271                        	.function	2370
 13272                        ~~k_point_in_depth_nodeslist:
 13273                        	longa	on
 13274                        	longi	on
 13275 04:3956: 3B           	tsc
 13276 04:3957: 38           	sec
 13277 04:3958: E9 20 00     	sbc	#L498
 13278 04:395B: 1B           	tcs
 13279 04:395C: 0B           	phd
 13280 04:395D: 5B           	tcd
 13281             00000004   hitList_0	set	4
 13282             00000008   x_0	set	8
 13283             0000000A   y_0	set	10
 13284                        	.block	2370
 13285                        ;	PFXNODE found = NULL;
 13286                        ;	LPCHAR ctx = "";
 13287                        ;	PFXNODE ptr = NULL;
 13288                        ;
 13289                        ;	RECT r;
 13290                        ;	int i = 0;
 13291                        ;	int index = -1;
 13292                        ;
 13293                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",hi
                    tList);
 13294                        ;
 13295                        ;	if(hitList!=NULL)
 13296             00000000   found_1	set	0
 13297             00000004   ctx_1	set	4
 13298             00000008   ptr_1	set	8
 13299             0000000C   r_1	set	12
 13300             00000014   i_1	set	20
 13301             00000016   index_1	set	22
 13302                        	.sym	found,0,138,1,32,2
 13303                        	.sym	ctx,4,142,1,32
 13304                        	.sym	ptr,8,138,1,32,2
 13305                        	.sym	r,12,10,1,64,22
 13306                        	.sym	i,20,5,1,16
 13307                        	.sym	index,22,5,1,16
 13308                        	.sym	hitList,4,138,6,32,3
 13309                        	.sym	x,8,5,6,16
 13310                        	.sym	y,10,5,6,16
 13311 04:395E: 64 09        	stz	<L499+found_1
 13312 04:3960: 64 0B        	stz	<L499+found_1+2
 13313 04:3962: A9 xx xx     	lda	#<L497
 13314 04:3965: 85 0D        	sta	<L499+ctx_1
 13315 04:3967: A9 xx xx     	lda	#^L497
 13316 04:396A: 85 0F        	sta	<L499+ctx_1+2
 13317 04:396C: 64 11        	stz	<L499+ptr_1
 13318 04:396E: 64 13        	stz	<L499+ptr_1+2
 13319 04:3970: 64 1D        	stz	<L499+i_1
 13320 04:3972: A9 FF FF     	lda	#$ffff
 13321 04:3975: 85 1F        	sta	<L499+index_1
 13322                        	.line	2381
 13323                        ;	{
 13324 04:3977: A5 24        	lda	<L498+hitList_0
 13325 04:3979: 05 26        	ora	<L498+hitList_0+2
 13326 04:397B: D0 03        	bne	L501
 13327 04:397D: 82 BD 02     	brl	L10185
  Wed Nov 18 2020  8:26                                                Page 260


 13328                        L501:
 13329                        	.line	2382
 13330                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:data:",((PFXNODE)hitList->listData)->data);
 13331                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:window:",((PCLICKDETECTED)((PFXNODE)hitList->listData)->
                    data)->window);
 13332                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:clickable:",((PCLICKDETECTED)((PFXNODE)hitList->listData
                    )->data)->window->clickable);
 13333                        ;
 13334                        ;		if(hitList->listData && ((PFXNODE)hitLis
                    t->listData)->data && ((PCLICKDETECTED)((PFXNODE)hitList->li
                    stData)->data)->window && ((PCLICKDETECTED)((PFXNODE)hitList
                    ->listData)->data)->window->clickable)
 13335                        	.line	2387
 13336                        ;		{
 13337 04:3980: A0 04 00     	ldy	#$4
 13338 04:3983: B7 24        	lda	[<L498+hitList_0],Y
 13339 04:3985: A0 06 00     	ldy	#$6
 13340 04:3988: 17 24        	ora	[<L498+hitList_0],Y
 13341 04:398A: D0 03        	bne	L502
 13342 04:398C: 82 65 01     	brl	L10186
 13343                        L502:
 13344 04:398F: A0 04 00     	ldy	#$4
 13345 04:3992: B7 24        	lda	[<L498+hitList_0],Y
 13346 04:3994: 85 01        	sta	<R0
 13347 04:3996: A0 06 00     	ldy	#$6
 13348 04:3999: B7 24        	lda	[<L498+hitList_0],Y
 13349 04:399B: 85 03        	sta	<R0+2
 13350 04:399D: A0 02 00     	ldy	#$2
 13351 04:39A0: B7 01        	lda	[<R0],Y
 13352 04:39A2: A0 04 00     	ldy	#$4
 13353 04:39A5: 17 01        	ora	[<R0],Y
 13354 04:39A7: D0 03        	bne	L503
 13355 04:39A9: 82 48 01     	brl	L10186
 13356                        L503:
 13357 04:39AC: A0 04 00     	ldy	#$4
 13358 04:39AF: B7 24        	lda	[<L498+hitList_0],Y
 13359 04:39B1: 85 01        	sta	<R0
 13360 04:39B3: A0 06 00     	ldy	#$6
 13361 04:39B6: B7 24        	lda	[<L498+hitList_0],Y
 13362 04:39B8: 85 03        	sta	<R0+2
 13363 04:39BA: A0 02 00     	ldy	#$2
 13364 04:39BD: B7 01        	lda	[<R0],Y
 13365 04:39BF: 85 05        	sta	<R1
 13366 04:39C1: A0 04 00     	ldy	#$4
 13367 04:39C4: B7 01        	lda	[<R0],Y
 13368 04:39C6: 85 07        	sta	<R1+2
 13369 04:39C8: A7 05        	lda	[<R1]
 13370 04:39CA: A0 02 00     	ldy	#$2
 13371 04:39CD: 17 05        	ora	[<R1],Y
 13372 04:39CF: D0 03        	bne	L504
 13373 04:39D1: 82 20 01     	brl	L10186
 13374                        L504:
 13375 04:39D4: A0 04 00     	ldy	#$4
 13376 04:39D7: B7 24        	lda	[<L498+hitList_0],Y
 13377 04:39D9: 85 01        	sta	<R0
  Wed Nov 18 2020  8:26                                                Page 261


 13378 04:39DB: A0 06 00     	ldy	#$6
 13379 04:39DE: B7 24        	lda	[<L498+hitList_0],Y
 13380 04:39E0: 85 03        	sta	<R0+2
 13381 04:39E2: A0 02 00     	ldy	#$2
 13382 04:39E5: B7 01        	lda	[<R0],Y
 13383 04:39E7: 85 05        	sta	<R1
 13384 04:39E9: A0 04 00     	ldy	#$4
 13385 04:39EC: B7 01        	lda	[<R0],Y
 13386 04:39EE: 85 07        	sta	<R1+2
 13387 04:39F0: A7 05        	lda	[<R1]
 13388 04:39F2: 85 01        	sta	<R0
 13389 04:39F4: A0 02 00     	ldy	#$2
 13390 04:39F7: B7 05        	lda	[<R1],Y
 13391 04:39F9: 85 03        	sta	<R0+2
 13392 04:39FB: A0 20 00     	ldy	#$20
 13393 04:39FE: B7 01        	lda	[<R0],Y
 13394 04:3A00: A0 22 00     	ldy	#$22
 13395 04:3A03: 17 01        	ora	[<R0],Y
 13396 04:3A05: D0 03        	bne	L505
 13397 04:3A07: 82 EA 00     	brl	L10186
 13398                        L505:
 13399                        	.line	2388
 13400                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)((PFXNODE)hitList->listData)->data)->window->clickable)->a
                    rea;
 13401                        	.line	2389
 13402 04:3A0A: A0 04 00     	ldy	#$4
 13403 04:3A0D: B7 24        	lda	[<L498+hitList_0],Y
 13404 04:3A0F: 85 01        	sta	<R0
 13405 04:3A11: A0 06 00     	ldy	#$6
 13406 04:3A14: B7 24        	lda	[<L498+hitList_0],Y
 13407 04:3A16: 85 03        	sta	<R0+2
 13408 04:3A18: A0 02 00     	ldy	#$2
 13409 04:3A1B: B7 01        	lda	[<R0],Y
 13410 04:3A1D: 85 05        	sta	<R1
 13411 04:3A1F: A0 04 00     	ldy	#$4
 13412 04:3A22: B7 01        	lda	[<R0],Y
 13413 04:3A24: 85 07        	sta	<R1+2
 13414 04:3A26: A7 05        	lda	[<R1]
 13415 04:3A28: 85 01        	sta	<R0
 13416 04:3A2A: A0 02 00     	ldy	#$2
 13417 04:3A2D: B7 05        	lda	[<R1],Y
 13418 04:3A2F: 85 03        	sta	<R0+2
 13419 04:3A31: A0 22 00     	ldy	#$22
 13420 04:3A34: B7 01        	lda	[<R0],Y
 13421 04:3A36: 48           	pha
 13422 04:3A37: A0 20 00     	ldy	#$20
 13423 04:3A3A: B7 01        	lda	[<R0],Y
 13424 04:3A3C: 48           	pha
 13425 04:3A3D: 18           	clc
 13426 04:3A3E: 7B           	tdc
 13427 04:3A3F: 69 15 00     	adc	#<L499+r_1
 13428 04:3A42: 85 01        	sta	<R0
 13429 04:3A44: A9 00 00     	lda	#$0
 13430 04:3A47: 85 03        	sta	<R0+2
 13431 04:3A49: D4 03        	pei	<R0+2
 13432 04:3A4B: D4 01        	pei	<R0
 13433 04:3A4D: A9 08 00     	lda	#$8
  Wed Nov 18 2020  8:26                                                Page 262


 13434                        	xref	~~~fmov
 13435 04:3A50: 22 xx xx xx  	jsl	~~~fmov
 13436                        ;			if(x >=r.x && x<(r.x+r.width))
 13437                        	.line	2390
 13438                        ;			{
 13439 04:3A54: 38           	sec
 13440 04:3A55: A5 28        	lda	<L498+x_0
 13441 04:3A57: E5 15        	sbc	<L499+r_1
 13442 04:3A59: 70 03        	bvs	L506
 13443 04:3A5B: 49 00 80     	eor	#$8000
 13444                        L506:
 13445 04:3A5E: 30 03        	bmi	L507
 13446 04:3A60: 82 91 00     	brl	L10187
 13447                        L507:
 13448 04:3A63: 18           	clc
 13449 04:3A64: A5 15        	lda	<L499+r_1
 13450 04:3A66: 65 19        	adc	<L499+r_1+4
 13451 04:3A68: 85 01        	sta	<R0
 13452 04:3A6A: 38           	sec
 13453 04:3A6B: A5 28        	lda	<L498+x_0
 13454 04:3A6D: E5 01        	sbc	<R0
 13455 04:3A6F: 70 03        	bvs	L508
 13456 04:3A71: 49 00 80     	eor	#$8000
 13457                        L508:
 13458 04:3A74: 10 03        	bpl	L509
 13459 04:3A76: 82 7B 00     	brl	L10187
 13460                        L509:
 13461                        	.line	2391
 13462                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 13463                        	.line	2392
 13464                        ;				{
 13465 04:3A79: 38           	sec
 13466 04:3A7A: A5 2A        	lda	<L498+y_0
 13467 04:3A7C: E5 17        	sbc	<L499+r_1+2
 13468 04:3A7E: 70 03        	bvs	L510
 13469 04:3A80: 49 00 80     	eor	#$8000
 13470                        L510:
 13471 04:3A83: 30 03        	bmi	L511
 13472 04:3A85: 82 6C 00     	brl	L10188
 13473                        L511:
 13474 04:3A88: 18           	clc
 13475 04:3A89: A5 17        	lda	<L499+r_1+2
 13476 04:3A8B: 65 1B        	adc	<L499+r_1+6
 13477 04:3A8D: 85 01        	sta	<R0
 13478 04:3A8F: 38           	sec
 13479 04:3A90: A5 2A        	lda	<L498+y_0
 13480 04:3A92: E5 01        	sbc	<R0
 13481 04:3A94: 70 03        	bvs	L512
 13482 04:3A96: 49 00 80     	eor	#$8000
 13483                        L512:
 13484 04:3A99: 10 03        	bpl	L513
 13485 04:3A9B: 82 56 00     	brl	L10188
 13486                        L513:
 13487                        	.line	2393
 13488                        ;					//k_debug_pointe
                    r("CURRENT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->l
                    istData);
  Wed Nov 18 2020  8:26                                                Page 263


 13489                        ;					found = k_point_
                    in_depth_nodeslist(  ((PCLICKDETECTED)((PFXNODE)hitList->lis
                    tData)->data)->window->pChildHitList,x,y);
 13490                        	.line	2395
 13491 04:3A9E: D4 2A        	pei	<L498+y_0
 13492 04:3AA0: D4 28        	pei	<L498+x_0
 13493 04:3AA2: A0 04 00     	ldy	#$4
 13494 04:3AA5: B7 24        	lda	[<L498+hitList_0],Y
 13495 04:3AA7: 85 01        	sta	<R0
 13496 04:3AA9: A0 06 00     	ldy	#$6
 13497 04:3AAC: B7 24        	lda	[<L498+hitList_0],Y
 13498 04:3AAE: 85 03        	sta	<R0+2
 13499 04:3AB0: A0 02 00     	ldy	#$2
 13500 04:3AB3: B7 01        	lda	[<R0],Y
 13501 04:3AB5: 85 05        	sta	<R1
 13502 04:3AB7: A0 04 00     	ldy	#$4
 13503 04:3ABA: B7 01        	lda	[<R0],Y
 13504 04:3ABC: 85 07        	sta	<R1+2
 13505 04:3ABE: A7 05        	lda	[<R1]
 13506 04:3AC0: 85 01        	sta	<R0
 13507 04:3AC2: A0 02 00     	ldy	#$2
 13508 04:3AC5: B7 05        	lda	[<R1],Y
 13509 04:3AC7: 85 03        	sta	<R0+2
 13510 04:3AC9: A0 8E 00     	ldy	#$8e
 13511 04:3ACC: B7 01        	lda	[<R0],Y
 13512 04:3ACE: 48           	pha
 13513 04:3ACF: A0 8C 00     	ldy	#$8c
 13514 04:3AD2: B7 01        	lda	[<R0],Y
 13515 04:3AD4: 48           	pha
 13516 04:3AD5: 22 56 39 04  	jsl	~~k_point_in_depth_nodeslist
 13517 04:3AD9: 85 09        	sta	<L499+found_1
 13518 04:3ADB: 86 0B        	stx	<L499+found_1+2
 13519                        ;					if(!found)
 13520                        	.line	2396
 13521                        ;						found = 
                    (PFXNODE)hitList->listData;
 13522 04:3ADD: A5 09        	lda	<L499+found_1
 13523 04:3ADF: 05 0B        	ora	<L499+found_1+2
 13524 04:3AE1: F0 03        	beq	L514
 13525 04:3AE3: 82 0E 00     	brl	L10189
 13526                        L514:
 13527                        	.line	2397
 13528 04:3AE6: A0 04 00     	ldy	#$4
 13529 04:3AE9: B7 24        	lda	[<L498+hitList_0],Y
 13530 04:3AEB: 85 09        	sta	<L499+found_1
 13531 04:3AED: A0 06 00     	ldy	#$6
 13532 04:3AF0: B7 24        	lda	[<L498+hitList_0],Y
 13533 04:3AF2: 85 0B        	sta	<L499+found_1+2
 13534                        ;				}
 13535                        L10189:
 13536                        	.line	2398
 13537                        ;			}
 13538                        L10188:
 13539                        	.line	2399
 13540                        ;		}
 13541                        L10187:
 13542                        	.line	2400
 13543                        ;
  Wed Nov 18 2020  8:26                                                Page 264


 13544                        ;		if(found)
 13545                        L10186:
 13546                        	.line	2402
 13547                        ;			return found;
 13548 04:3AF4: A5 09        	lda	<L499+found_1
 13549 04:3AF6: 05 0B        	ora	<L499+found_1+2
 13550 04:3AF8: D0 03        	bne	L515
 13551 04:3AFA: 82 16 00     	brl	L10190
 13552                        L515:
 13553                        	.line	2403
 13554 04:3AFD: A6 0B        	ldx	<L499+found_1+2
 13555 04:3AFF: A5 09        	lda	<L499+found_1
 13556                        L516:
 13557 04:3B01: A8           	tay
 13558 04:3B02: A5 22        	lda	<L498+2
 13559 04:3B04: 85 2A        	sta	<L498+2+8
 13560 04:3B06: A5 21        	lda	<L498+1
 13561 04:3B08: 85 29        	sta	<L498+1+8
 13562 04:3B0A: 2B           	pld
 13563 04:3B0B: 3B           	tsc
 13564 04:3B0C: 18           	clc
 13565 04:3B0D: 69 28 00     	adc	#L498+8
 13566 04:3B10: 1B           	tcs
 13567 04:3B11: 98           	tya
 13568 04:3B12: 6B           	rtl
 13569                        ;
 13570                        ;		ptr = k_nodelist_getfirstnode(hitList);
 13571                        L10190:
 13572                        	.line	2405
 13573 04:3B13: D4 26        	pei	<L498+hitList_0+2
 13574 04:3B15: D4 24        	pei	<L498+hitList_0
 13575 04:3B17: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 13576 04:3B1B: 85 11        	sta	<L499+ptr_1
 13577 04:3B1D: 86 13        	stx	<L499+ptr_1+2
 13578                        ;		while(ptr!=NULL)
 13579                        	.line	2406
 13580                        L10191:
 13581 04:3B1F: A5 11        	lda	<L499+ptr_1
 13582 04:3B21: 05 13        	ora	<L499+ptr_1+2
 13583 04:3B23: D0 03        	bne	L517
 13584 04:3B25: 82 15 01     	brl	L10192
 13585                        L517:
 13586                        ;		{
 13587                        	.line	2407
 13588                        ;			//k_debug_pointer("FOUND HIT CHE
                    CK ITEM:",ptr);
 13589                        ;			found = k_point_in_any_nodeslist
                    (NULL,x,y); //k_point_in_any_nodeslist(((PCLICKDETECTED)ptr-
                    >data)->window->pChildHitList,x,y);
 13590                        	.line	2409
 13591 04:3B28: D4 2A        	pei	<L498+y_0
 13592 04:3B2A: D4 28        	pei	<L498+x_0
 13593 04:3B2C: F4 00 00     	pea	#^$0
 13594 04:3B2F: F4 00 00     	pea	#<$0
 13595 04:3B32: 22 1E 35 04  	jsl	~~k_point_in_any_nodeslist
 13596 04:3B36: 85 09        	sta	<L499+found_1
 13597 04:3B38: 86 0B        	stx	<L499+found_1+2
 13598                        ;			if(!found)
  Wed Nov 18 2020  8:26                                                Page 265


 13599                        	.line	2410
 13600                        ;			{
 13601 04:3B3A: A5 09        	lda	<L499+found_1
 13602 04:3B3C: 05 0B        	ora	<L499+found_1+2
 13603 04:3B3E: F0 03        	beq	L518
 13604 04:3B40: 82 F7 00     	brl	L10193
 13605                        L518:
 13606                        	.line	2411
 13607                        ;				r = ((PCLICKABLE)((PCLIC
                    KDETECTED)ptr->data)->window->clickable)->area;
 13608                        	.line	2412
 13609 04:3B43: A0 02 00     	ldy	#$2
 13610 04:3B46: B7 11        	lda	[<L499+ptr_1],Y
 13611 04:3B48: 85 01        	sta	<R0
 13612 04:3B4A: A0 04 00     	ldy	#$4
 13613 04:3B4D: B7 11        	lda	[<L499+ptr_1],Y
 13614 04:3B4F: 85 03        	sta	<R0+2
 13615 04:3B51: A7 01        	lda	[<R0]
 13616 04:3B53: 85 05        	sta	<R1
 13617 04:3B55: A0 02 00     	ldy	#$2
 13618 04:3B58: B7 01        	lda	[<R0],Y
 13619 04:3B5A: 85 07        	sta	<R1+2
 13620 04:3B5C: A0 22 00     	ldy	#$22
 13621 04:3B5F: B7 05        	lda	[<R1],Y
 13622 04:3B61: 48           	pha
 13623 04:3B62: A0 20 00     	ldy	#$20
 13624 04:3B65: B7 05        	lda	[<R1],Y
 13625 04:3B67: 48           	pha
 13626 04:3B68: 18           	clc
 13627 04:3B69: 7B           	tdc
 13628 04:3B6A: 69 15 00     	adc	#<L499+r_1
 13629 04:3B6D: 85 01        	sta	<R0
 13630 04:3B6F: A9 00 00     	lda	#$0
 13631 04:3B72: 85 03        	sta	<R0+2
 13632 04:3B74: D4 03        	pei	<R0+2
 13633 04:3B76: D4 01        	pei	<R0
 13634 04:3B78: A9 08 00     	lda	#$8
 13635                        	xref	~~~fmov
 13636 04:3B7B: 22 xx xx xx  	jsl	~~~fmov
 13637                        ;				if(x >=r.x && x<(r.x+r.w
                    idth))
 13638                        	.line	2413
 13639                        ;				{
 13640 04:3B7F: 38           	sec
 13641 04:3B80: A5 28        	lda	<L498+x_0
 13642 04:3B82: E5 15        	sbc	<L499+r_1
 13643 04:3B84: 70 03        	bvs	L519
 13644 04:3B86: 49 00 80     	eor	#$8000
 13645                        L519:
 13646 04:3B89: 30 03        	bmi	L520
 13647 04:3B8B: 82 8E 00     	brl	L10194
 13648                        L520:
 13649 04:3B8E: 18           	clc
 13650 04:3B8F: A5 15        	lda	<L499+r_1
 13651 04:3B91: 65 19        	adc	<L499+r_1+4
 13652 04:3B93: 85 01        	sta	<R0
 13653 04:3B95: 38           	sec
 13654 04:3B96: A5 28        	lda	<L498+x_0
  Wed Nov 18 2020  8:26                                                Page 266


 13655 04:3B98: E5 01        	sbc	<R0
 13656 04:3B9A: 70 03        	bvs	L521
 13657 04:3B9C: 49 00 80     	eor	#$8000
 13658                        L521:
 13659 04:3B9F: 10 03        	bpl	L522
 13660 04:3BA1: 82 78 00     	brl	L10194
 13661                        L522:
 13662                        	.line	2414
 13663                        ;					if(y >=r.y && y<
                    (r.y+r.height))
 13664                        	.line	2415
 13665                        ;					{
 13666 04:3BA4: 38           	sec
 13667 04:3BA5: A5 2A        	lda	<L498+y_0
 13668 04:3BA7: E5 17        	sbc	<L499+r_1+2
 13669 04:3BA9: 70 03        	bvs	L523
 13670 04:3BAB: 49 00 80     	eor	#$8000
 13671                        L523:
 13672 04:3BAE: 30 03        	bmi	L524
 13673 04:3BB0: 82 69 00     	brl	L10195
 13674                        L524:
 13675 04:3BB3: 18           	clc
 13676 04:3BB4: A5 17        	lda	<L499+r_1+2
 13677 04:3BB6: 65 1B        	adc	<L499+r_1+6
 13678 04:3BB8: 85 01        	sta	<R0
 13679 04:3BBA: 38           	sec
 13680 04:3BBB: A5 2A        	lda	<L498+y_0
 13681 04:3BBD: E5 01        	sbc	<R0
 13682 04:3BBF: 70 03        	bvs	L525
 13683 04:3BC1: 49 00 80     	eor	#$8000
 13684                        L525:
 13685 04:3BC4: 10 03        	bpl	L526
 13686 04:3BC6: 82 53 00     	brl	L10195
 13687                        L526:
 13688                        	.line	2416
 13689                        ;						//found 
                    = ptr;
 13690                        ;
 13691                        ;						found = 
                     k_point_in_depth_nodeslist( ((PCLICKDETECTED)ptr->data)->wi
                    ndow->pChildHitList   ,x,y); // k_point_in_any_nodeslist(((P
                    CLICKDETECTED)ptr->data)->window->pChildHitList,x,y);
 13692                        	.line	2419
 13693 04:3BC9: D4 2A        	pei	<L498+y_0
 13694 04:3BCB: D4 28        	pei	<L498+x_0
 13695 04:3BCD: A0 02 00     	ldy	#$2
 13696 04:3BD0: B7 11        	lda	[<L499+ptr_1],Y
 13697 04:3BD2: 85 01        	sta	<R0
 13698 04:3BD4: A0 04 00     	ldy	#$4
 13699 04:3BD7: B7 11        	lda	[<L499+ptr_1],Y
 13700 04:3BD9: 85 03        	sta	<R0+2
 13701 04:3BDB: A7 01        	lda	[<R0]
 13702 04:3BDD: 85 05        	sta	<R1
 13703 04:3BDF: A0 02 00     	ldy	#$2
 13704 04:3BE2: B7 01        	lda	[<R0],Y
 13705 04:3BE4: 85 07        	sta	<R1+2
 13706 04:3BE6: A0 8E 00     	ldy	#$8e
 13707 04:3BE9: B7 05        	lda	[<R1],Y
  Wed Nov 18 2020  8:26                                                Page 267


 13708 04:3BEB: 48           	pha
 13709 04:3BEC: A0 8C 00     	ldy	#$8c
 13710 04:3BEF: B7 05        	lda	[<R1],Y
 13711 04:3BF1: 48           	pha
 13712 04:3BF2: 22 56 39 04  	jsl	~~k_point_in_depth_nodeslist
 13713 04:3BF6: 85 09        	sta	<L499+found_1
 13714 04:3BF8: 86 0B        	stx	<L499+found_1+2
 13715                        ;						if(!foun
                    d)
 13716                        	.line	2420
 13717                        ;						{
 13718 04:3BFA: A5 09        	lda	<L499+found_1
 13719 04:3BFC: 05 0B        	ora	<L499+found_1+2
 13720 04:3BFE: F0 03        	beq	L527
 13721 04:3C00: 82 08 00     	brl	L10196
 13722                        L527:
 13723                        	.line	2421
 13724                        ;							
                    found = ptr;
 13725                        	.line	2422
 13726 04:3C03: A5 11        	lda	<L499+ptr_1
 13727 04:3C05: 85 09        	sta	<L499+found_1
 13728 04:3C07: A5 13        	lda	<L499+ptr_1+2
 13729 04:3C09: 85 0B        	sta	<L499+found_1+2
 13730                        ;						}
 13731                        	.line	2423
 13732                        ;
 13733                        ;						hitList-
                    >listData = found;
 13734                        L10196:
 13735                        	.line	2425
 13736 04:3C0B: A5 09        	lda	<L499+found_1
 13737 04:3C0D: A0 04 00     	ldy	#$4
 13738 04:3C10: 97 24        	sta	[<L498+hitList_0],Y
 13739 04:3C12: A5 0B        	lda	<L499+found_1+2
 13740 04:3C14: A0 06 00     	ldy	#$6
 13741 04:3C17: 97 24        	sta	[<L498+hitList_0],Y
 13742                        ;						break;
 13743                        	.line	2426
 13744 04:3C19: 82 21 00     	brl	L10192
 13745                        ;					}
 13746                        	.line	2427
 13747                        ;				}
 13748                        L10195:
 13749                        	.line	2428
 13750                        ;
 13751                        ;				// CLEANUP CLOSED CLOSED
                     WINDOWS
 13752                        ;				ptr = ptr->next;
 13753                        L10194:
 13754                        	.line	2431
 13755 04:3C1C: A0 0A 00     	ldy	#$a
 13756 04:3C1F: B7 11        	lda	[<L499+ptr_1],Y
 13757 04:3C21: 85 01        	sta	<R0
 13758 04:3C23: A0 0C 00     	ldy	#$c
 13759 04:3C26: B7 11        	lda	[<L499+ptr_1],Y
 13760 04:3C28: 85 03        	sta	<R0+2
 13761 04:3C2A: A5 01        	lda	<R0
  Wed Nov 18 2020  8:26                                                Page 268


 13762 04:3C2C: 85 11        	sta	<L499+ptr_1
 13763 04:3C2E: A5 03        	lda	<R0+2
 13764 04:3C30: 85 13        	sta	<L499+ptr_1+2
 13765                        ;
 13766                        ;				k_remove_closed_windows_
                    from_list(ptr);
 13767                        	.line	2433
 13768 04:3C32: D4 13        	pei	<L499+ptr_1+2
 13769 04:3C34: D4 11        	pei	<L499+ptr_1
 13770 04:3C36: 22 56 3E 04  	jsl	~~k_remove_closed_windows_from_list
 13771                        ;				/*
 13772                        ;				if(((PCLICKDETECTED)ptr-
                    >data)->window->isClosed)
 13773                        ;				{
 13774                        ;					((PCLICKDETECTED
                    )ptr->data)->window->win_title[31] = 0;
 13775                        ;					k_debug_strings(
                    "k_point_in_any_nodeslist::removing closed window:",((PCLICK
                    DETECTED)ptr->data)->window->win_title);
 13776                        ;
 13777                        ;					found = ptr->nex
                    t;
 13778                        ;
 13779                        ;					if(ptr->last)
 13780                        ;						ptr->las
                    t->next = ptr->next;
 13781                        ;					if(ptr->next)
 13782                        ;						ptr->nex
                    t->last = ptr->last;
 13783                        ;
 13784                        ;					//k_mem_dealloca
                    te_heap(ptr->data);
 13785                        ;					k_mem_deallocate
                    _heap(ptr);
 13786                        ;
 13787                        ;					ptr = found;
 13788                        ;					found = NULL;
 13789                        ;				}
 13790                        ;				*/
 13791                        ;			}
 13792                        	.line	2454
 13793                        ;		}
 13794                        L10193:
 13795                        	.line	2455
 13796 04:3C3A: 82 E2 FE     	brl	L10191
 13797                        L10192:
 13798                        ;	}
 13799                        	.line	2456
 13800                        ;
 13801                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",fo
                    und);
 13802                        ;
 13803                        ;	return found;
 13804                        L10185:
 13805                        	.line	2460
 13806 04:3C3D: A6 0B        	ldx	<L499+found_1+2
 13807 04:3C3F: A5 09        	lda	<L499+found_1
 13808 04:3C41: 82 BD FE     	brl	L516
  Wed Nov 18 2020  8:26                                                Page 269


 13809                        ;}
 13810                        	.line	2461
 13811                        	.endblock	2461
 13812             00000020   L498	equ	32
 13813             00000009   L499	equ	9
 13814 04:3C44:              	ends
 13815                        	efunc
 13816                        	.endfunc	2461,9,32
 13817                        	.line	2461
 13818                        	data
 13819                        L497:
 13820 00:0A7E: 00           	db	$00
 13821 00:0A7F:              	ends
 13822                        ;
 13823                        ;VOID k_point_hit_resetdepth_nodeslist(PFXNODELIST
                     hitList,int depth)
 13824                        ;{
 13825                        	.line	2463
 13826                        	.line	2464
 13827                        	WINMAN
 13828                        	xdef	~~k_point_hit_resetdepth_nodeslist
 13829                        	func
 13830                        	.function	2464
 13831                        ~~k_point_hit_resetdepth_nodeslist:
 13832                        	longa	on
 13833                        	longi	on
 13834 04:3C44: 3B           	tsc
 13835 04:3C45: 38           	sec
 13836 04:3C46: E9 10 00     	sbc	#L529
 13837 04:3C49: 1B           	tcs
 13838 04:3C4A: 0B           	phd
 13839 04:3C4B: 5B           	tcd
 13840             00000004   hitList_0	set	4
 13841             00000008   depth_0	set	8
 13842                        	.block	2464
 13843                        ;	PCLICKABLE c 	 = NULL;
 13844                        ;	PFXNODE    ptr   = NULL;
 13845                        ;
 13846                        ;	ptr = k_nodelist_getfirstnode(hitList);
 13847             00000000   c_1	set	0
 13848             00000004   ptr_1	set	4
 13849                        	.sym	c,0,138,1,32,28
 13850                        	.sym	ptr,4,138,1,32,2
 13851                        	.sym	hitList,4,138,6,32,3
 13852                        	.sym	depth,8,5,6,16
 13853 04:3C4C: 64 09        	stz	<L530+c_1
 13854 04:3C4E: 64 0B        	stz	<L530+c_1+2
 13855 04:3C50: 64 0D        	stz	<L530+ptr_1
 13856 04:3C52: 64 0F        	stz	<L530+ptr_1+2
 13857                        	.line	2468
 13858 04:3C54: D4 16        	pei	<L529+hitList_0+2
 13859 04:3C56: D4 14        	pei	<L529+hitList_0
 13860 04:3C58: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 13861 04:3C5C: 85 0D        	sta	<L530+ptr_1
 13862 04:3C5E: 86 0F        	stx	<L530+ptr_1+2
 13863                        ;	while(ptr!=NULL)
 13864                        	.line	2469
 13865                        L10197:
  Wed Nov 18 2020  8:26                                                Page 270


 13866 04:3C60: A5 0D        	lda	<L530+ptr_1
 13867 04:3C62: 05 0F        	ora	<L530+ptr_1+2
 13868 04:3C64: D0 03        	bne	L532
 13869 04:3C66: 82 47 00     	brl	L10198
 13870                        L532:
 13871                        ;	{
 13872                        	.line	2470
 13873                        ;		((PCLICKABLE)((PCLICKDETECTED)ptr->data)
                    ->window->clickable)->z = depth;
 13874                        	.line	2471
 13875 04:3C69: A0 02 00     	ldy	#$2
 13876 04:3C6C: B7 0D        	lda	[<L530+ptr_1],Y
 13877 04:3C6E: 85 01        	sta	<R0
 13878 04:3C70: A0 04 00     	ldy	#$4
 13879 04:3C73: B7 0D        	lda	[<L530+ptr_1],Y
 13880 04:3C75: 85 03        	sta	<R0+2
 13881 04:3C77: A7 01        	lda	[<R0]
 13882 04:3C79: 85 05        	sta	<R1
 13883 04:3C7B: A0 02 00     	ldy	#$2
 13884 04:3C7E: B7 01        	lda	[<R0],Y
 13885 04:3C80: 85 07        	sta	<R1+2
 13886 04:3C82: A0 20 00     	ldy	#$20
 13887 04:3C85: B7 05        	lda	[<R1],Y
 13888 04:3C87: 85 01        	sta	<R0
 13889 04:3C89: A0 22 00     	ldy	#$22
 13890 04:3C8C: B7 05        	lda	[<R1],Y
 13891 04:3C8E: 85 03        	sta	<R0+2
 13892 04:3C90: A5 18        	lda	<L529+depth_0
 13893 04:3C92: A0 08 00     	ldy	#$8
 13894 04:3C95: 97 01        	sta	[<R0],Y
 13895                        ;		ptr = ptr->next;
 13896                        	.line	2472
 13897 04:3C97: A0 0A 00     	ldy	#$a
 13898 04:3C9A: B7 0D        	lda	[<L530+ptr_1],Y
 13899 04:3C9C: 85 01        	sta	<R0
 13900 04:3C9E: A0 0C 00     	ldy	#$c
 13901 04:3CA1: B7 0D        	lda	[<L530+ptr_1],Y
 13902 04:3CA3: 85 03        	sta	<R0+2
 13903 04:3CA5: A5 01        	lda	<R0
 13904 04:3CA7: 85 0D        	sta	<L530+ptr_1
 13905 04:3CA9: A5 03        	lda	<R0+2
 13906 04:3CAB: 85 0F        	sta	<L530+ptr_1+2
 13907                        ;	}
 13908                        	.line	2473
 13909 04:3CAD: 82 B0 FF     	brl	L10197
 13910                        L10198:
 13911                        ;}
 13912                        	.line	2474
 13913                        L533:
 13914 04:3CB0: A5 12        	lda	<L529+2
 13915 04:3CB2: 85 18        	sta	<L529+2+6
 13916 04:3CB4: A5 11        	lda	<L529+1
 13917 04:3CB6: 85 17        	sta	<L529+1+6
 13918 04:3CB8: 2B           	pld
 13919 04:3CB9: 3B           	tsc
 13920 04:3CBA: 18           	clc
 13921 04:3CBB: 69 16 00     	adc	#L529+6
 13922 04:3CBE: 1B           	tcs
  Wed Nov 18 2020  8:26                                                Page 271


 13923 04:3CBF: 6B           	rtl
 13924                        	.endblock	2474
 13925             00000010   L529	equ	16
 13926             00000009   L530	equ	9
 13927 04:3CC0:              	ends
 13928                        	efunc
 13929                        	.endfunc	2474,9,16
 13930                        	.line	2474
 13931                        ;
 13932                        ;PFXNODE k_point_hit_scan(int x,int y)
 13933                        ;{
 13934                        	.line	2476
 13935                        	.line	2477
 13936                        	WINMAN
 13937                        	xdef	~~k_point_hit_scan
 13938                        	func
 13939                        	.function	2477
 13940                        ~~k_point_hit_scan:
 13941                        	longa	on
 13942                        	longi	on
 13943 04:3CC0: 3B           	tsc
 13944 04:3CC1: 38           	sec
 13945 04:3CC2: E9 04 00     	sbc	#L534
 13946 04:3CC5: 1B           	tcs
 13947 04:3CC6: 0B           	phd
 13948 04:3CC7: 5B           	tcd
 13949             00000004   x_0	set	4
 13950             00000006   y_0	set	6
 13951                        	.block	2477
 13952                        ;	//return k_point_hit_scan_nodeslist(_k_windowMan
                    ager_ObjectHitList,x,y);
 13953                        ;	return k_point_hit_scan_nodeslist(((PWINDOW)k_us
                    er_getDesktopWindow())->pChildHitList,x,y);
 13954                        	.sym	x,4,5,6,16
 13955                        	.sym	y,6,5,6,16
 13956                        	.line	2479
 13957 04:3CC8: D4 0A        	pei	<L534+y_0
 13958 04:3CCA: D4 08        	pei	<L534+x_0
 13959 04:3CCC: 22 6A 05 04  	jsl	~~k_user_getDesktopWindow
 13960 04:3CD0: 85 01        	sta	<R0
 13961 04:3CD2: 86 03        	stx	<R0+2
 13962 04:3CD4: A0 8E 00     	ldy	#$8e
 13963 04:3CD7: B7 01        	lda	[<R0],Y
 13964 04:3CD9: 48           	pha
 13965 04:3CDA: A0 8C 00     	ldy	#$8c
 13966 04:3CDD: B7 01        	lda	[<R0],Y
 13967 04:3CDF: 48           	pha
 13968 04:3CE0: 22 FE 3C 04  	jsl	~~k_point_hit_scan_nodeslist
 13969 04:3CE4: 85 01        	sta	<R0
 13970 04:3CE6: 86 03        	stx	<R0+2
 13971 04:3CE8: A6 03        	ldx	<R0+2
 13972 04:3CEA: A5 01        	lda	<R0
 13973                        L537:
 13974 04:3CEC: A8           	tay
 13975 04:3CED: A5 06        	lda	<L534+2
 13976 04:3CEF: 85 0A        	sta	<L534+2+4
 13977 04:3CF1: A5 05        	lda	<L534+1
 13978 04:3CF3: 85 09        	sta	<L534+1+4
  Wed Nov 18 2020  8:26                                                Page 272


 13979 04:3CF5: 2B           	pld
 13980 04:3CF6: 3B           	tsc
 13981 04:3CF7: 18           	clc
 13982 04:3CF8: 69 08 00     	adc	#L534+4
 13983 04:3CFB: 1B           	tcs
 13984 04:3CFC: 98           	tya
 13985 04:3CFD: 6B           	rtl
 13986                        ;
 13987                        ;}
 13988                        	.line	2481
 13989                        	.endblock	2481
 13990             00000004   L534	equ	4
 13991             00000005   L535	equ	5
 13992 04:3CFE:              	ends
 13993                        	efunc
 13994                        	.endfunc	2481,5,4
 13995                        	.line	2481
 13996                        ;
 13997                        ;PFXNODE k_point_hit_scan_nodeslist(PFXNODELIST hi
                    tList,int x,int y)
 13998                        ;{
 13999                        	.line	2483
 14000                        	.line	2484
 14001                        	WINMAN
 14002                        	xdef	~~k_point_hit_scan_nodeslist
 14003                        	func
 14004                        	.function	2484
 14005                        ~~k_point_hit_scan_nodeslist:
 14006                        	longa	on
 14007                        	longi	on
 14008 04:3CFE: 3B           	tsc
 14009 04:3CFF: 38           	sec
 14010 04:3D00: E9 20 00     	sbc	#L538
 14011 04:3D03: 1B           	tcs
 14012 04:3D04: 0B           	phd
 14013 04:3D05: 5B           	tcd
 14014             00000004   hitList_0	set	4
 14015             00000008   x_0	set	8
 14016             0000000A   y_0	set	10
 14017                        	.block	2484
 14018                        ;	RECT r;
 14019                        ;	PCLICKABLE c 	 = NULL;
 14020                        ;	PFXNODE    ptr   = NULL;
 14021                        ;	PCLICKABLE found = NULL;
 14022                        ;	PFXNODE    nodeFound = NULL;
 14023                        ;
 14024                        ;
 14025                        ;	ptr = k_nodelist_getfirstnode(hitList);
 14026             00000000   r_1	set	0
 14027             00000008   c_1	set	8
 14028             0000000C   ptr_1	set	12
 14029             00000010   found_1	set	16
 14030             00000014   nodeFound_1	set	20
 14031                        	.sym	r,0,10,1,64,22
 14032                        	.sym	c,8,138,1,32,28
 14033                        	.sym	ptr,12,138,1,32,2
 14034                        	.sym	found,16,138,1,32,28
 14035                        	.sym	nodeFound,20,138,1,32,2
  Wed Nov 18 2020  8:26                                                Page 273


 14036                        	.sym	hitList,4,138,6,32,3
 14037                        	.sym	x,8,5,6,16
 14038                        	.sym	y,10,5,6,16
 14039 04:3D06: 64 11        	stz	<L539+c_1
 14040 04:3D08: 64 13        	stz	<L539+c_1+2
 14041 04:3D0A: 64 15        	stz	<L539+ptr_1
 14042 04:3D0C: 64 17        	stz	<L539+ptr_1+2
 14043 04:3D0E: 64 19        	stz	<L539+found_1
 14044 04:3D10: 64 1B        	stz	<L539+found_1+2
 14045 04:3D12: 64 1D        	stz	<L539+nodeFound_1
 14046 04:3D14: 64 1F        	stz	<L539+nodeFound_1+2
 14047                        	.line	2492
 14048 04:3D16: D4 26        	pei	<L538+hitList_0+2
 14049 04:3D18: D4 24        	pei	<L538+hitList_0
 14050 04:3D1A: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 14051 04:3D1E: 85 15        	sta	<L539+ptr_1
 14052 04:3D20: 86 17        	stx	<L539+ptr_1+2
 14053                        ;	while(ptr!=NULL)
 14054                        	.line	2493
 14055                        L10199:
 14056 04:3D22: A5 15        	lda	<L539+ptr_1
 14057 04:3D24: 05 17        	ora	<L539+ptr_1+2
 14058 04:3D26: D0 03        	bne	L541
 14059 04:3D28: 82 0C 01     	brl	L10200
 14060                        L541:
 14061                        ;	{
 14062                        	.line	2494
 14063                        ;		//ptr = k_remove_closed_windows_from_lis
                    t(ptr);
 14064                        ;		if(!HITTOWND(ptr)->isClosed)
 14065                        	.line	2496
 14066                        ;		{
 14067 04:3D2B: A0 02 00     	ldy	#$2
 14068 04:3D2E: B7 15        	lda	[<L539+ptr_1],Y
 14069 04:3D30: 85 01        	sta	<R0
 14070 04:3D32: A0 04 00     	ldy	#$4
 14071 04:3D35: B7 15        	lda	[<L539+ptr_1],Y
 14072 04:3D37: 85 03        	sta	<R0+2
 14073 04:3D39: A7 01        	lda	[<R0]
 14074 04:3D3B: 85 05        	sta	<R1
 14075 04:3D3D: A0 02 00     	ldy	#$2
 14076 04:3D40: B7 01        	lda	[<R0],Y
 14077 04:3D42: 85 07        	sta	<R1+2
 14078 04:3D44: A0 A5 00     	ldy	#$a5
 14079 04:3D47: B7 05        	lda	[<R1],Y
 14080 04:3D49: 29 FF 00     	and	#$ff
 14081 04:3D4C: F0 03        	beq	L542
 14082 04:3D4E: 82 CD 00     	brl	L10201
 14083                        L542:
 14084                        	.line	2497
 14085                        ;			c = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable);
 14086                        	.line	2498
 14087 04:3D51: A0 02 00     	ldy	#$2
 14088 04:3D54: B7 15        	lda	[<L539+ptr_1],Y
 14089 04:3D56: 85 01        	sta	<R0
 14090 04:3D58: A0 04 00     	ldy	#$4
 14091 04:3D5B: B7 15        	lda	[<L539+ptr_1],Y
  Wed Nov 18 2020  8:26                                                Page 274


 14092 04:3D5D: 85 03        	sta	<R0+2
 14093 04:3D5F: A7 01        	lda	[<R0]
 14094 04:3D61: 85 05        	sta	<R1
 14095 04:3D63: A0 02 00     	ldy	#$2
 14096 04:3D66: B7 01        	lda	[<R0],Y
 14097 04:3D68: 85 07        	sta	<R1+2
 14098 04:3D6A: A0 20 00     	ldy	#$20
 14099 04:3D6D: B7 05        	lda	[<R1],Y
 14100 04:3D6F: 85 11        	sta	<L539+c_1
 14101 04:3D71: A0 22 00     	ldy	#$22
 14102 04:3D74: B7 05        	lda	[<R1],Y
 14103 04:3D76: 85 13        	sta	<L539+c_1+2
 14104                        ;
 14105                        ;			r = c->area;
 14106                        	.line	2500
 14107 04:3D78: D4 13        	pei	<L539+c_1+2
 14108 04:3D7A: D4 11        	pei	<L539+c_1
 14109 04:3D7C: 18           	clc
 14110 04:3D7D: 7B           	tdc
 14111 04:3D7E: 69 09 00     	adc	#<L539+r_1
 14112 04:3D81: 85 01        	sta	<R0
 14113 04:3D83: A9 00 00     	lda	#$0
 14114 04:3D86: 85 03        	sta	<R0+2
 14115 04:3D88: D4 03        	pei	<R0+2
 14116 04:3D8A: D4 01        	pei	<R0
 14117 04:3D8C: A9 08 00     	lda	#$8
 14118                        	xref	~~~fmov
 14119 04:3D8F: 22 xx xx xx  	jsl	~~~fmov
 14120                        ;			if(x >=r.x && x<(r.x+r.width))
 14121                        	.line	2501
 14122                        ;			{
 14123 04:3D93: 38           	sec
 14124 04:3D94: A5 28        	lda	<L538+x_0
 14125 04:3D96: E5 09        	sbc	<L539+r_1
 14126 04:3D98: 70 03        	bvs	L543
 14127 04:3D9A: 49 00 80     	eor	#$8000
 14128                        L543:
 14129 04:3D9D: 30 03        	bmi	L544
 14130 04:3D9F: 82 7C 00     	brl	L10202
 14131                        L544:
 14132 04:3DA2: 18           	clc
 14133 04:3DA3: A5 09        	lda	<L539+r_1
 14134 04:3DA5: 65 0D        	adc	<L539+r_1+4
 14135 04:3DA7: 85 01        	sta	<R0
 14136 04:3DA9: 38           	sec
 14137 04:3DAA: A5 28        	lda	<L538+x_0
 14138 04:3DAC: E5 01        	sbc	<R0
 14139 04:3DAE: 70 03        	bvs	L545
 14140 04:3DB0: 49 00 80     	eor	#$8000
 14141                        L545:
 14142 04:3DB3: 10 03        	bpl	L546
 14143 04:3DB5: 82 66 00     	brl	L10202
 14144                        L546:
 14145                        	.line	2502
 14146                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 14147                        	.line	2503
 14148                        ;				{
  Wed Nov 18 2020  8:26                                                Page 275


 14149 04:3DB8: 38           	sec
 14150 04:3DB9: A5 2A        	lda	<L538+y_0
 14151 04:3DBB: E5 0B        	sbc	<L539+r_1+2
 14152 04:3DBD: 70 03        	bvs	L547
 14153 04:3DBF: 49 00 80     	eor	#$8000
 14154                        L547:
 14155 04:3DC2: 30 03        	bmi	L548
 14156 04:3DC4: 82 57 00     	brl	L10203
 14157                        L548:
 14158 04:3DC7: 18           	clc
 14159 04:3DC8: A5 0B        	lda	<L539+r_1+2
 14160 04:3DCA: 65 0F        	adc	<L539+r_1+6
 14161 04:3DCC: 85 01        	sta	<R0
 14162 04:3DCE: 38           	sec
 14163 04:3DCF: A5 2A        	lda	<L538+y_0
 14164 04:3DD1: E5 01        	sbc	<R0
 14165 04:3DD3: 70 03        	bvs	L549
 14166 04:3DD5: 49 00 80     	eor	#$8000
 14167                        L549:
 14168 04:3DD8: 10 03        	bpl	L550
 14169 04:3DDA: 82 41 00     	brl	L10203
 14170                        L550:
 14171                        	.line	2504
 14172                        ;					if(!found)
 14173                        	.line	2505
 14174                        ;					{
 14175 04:3DDD: A5 19        	lda	<L539+found_1
 14176 04:3DDF: 05 1B        	ora	<L539+found_1+2
 14177 04:3DE1: F0 03        	beq	L551
 14178 04:3DE3: 82 13 00     	brl	L10204
 14179                        L551:
 14180                        	.line	2506
 14181                        ;						found = 
                    c;
 14182                        	.line	2507
 14183 04:3DE6: A5 11        	lda	<L539+c_1
 14184 04:3DE8: 85 19        	sta	<L539+found_1
 14185 04:3DEA: A5 13        	lda	<L539+c_1+2
 14186 04:3DEC: 85 1B        	sta	<L539+found_1+2
 14187                        ;						nodeFoun
                    d = ptr;
 14188                        	.line	2508
 14189 04:3DEE: A5 15        	lda	<L539+ptr_1
 14190 04:3DF0: 85 1D        	sta	<L539+nodeFound_1
 14191 04:3DF2: A5 17        	lda	<L539+ptr_1+2
 14192 04:3DF4: 85 1F        	sta	<L539+nodeFound_1+2
 14193                        ;					}
 14194                        	.line	2509
 14195                        ;					else
 14196 04:3DF6: 82 25 00     	brl	L10205
 14197                        L10204:
 14198                        ;					{
 14199                        	.line	2511
 14200                        ;						if(c->z 
                    > found->z)
 14201                        	.line	2512
 14202                        ;						{
 14203 04:3DF9: 38           	sec
  Wed Nov 18 2020  8:26                                                Page 276


 14204 04:3DFA: A0 08 00     	ldy	#$8
 14205 04:3DFD: B7 19        	lda	[<L539+found_1],Y
 14206 04:3DFF: A0 08 00     	ldy	#$8
 14207 04:3E02: F7 11        	sbc	[<L539+c_1],Y
 14208 04:3E04: 70 03        	bvs	L552
 14209 04:3E06: 49 00 80     	eor	#$8000
 14210                        L552:
 14211 04:3E09: 10 03        	bpl	L553
 14212 04:3E0B: 82 10 00     	brl	L10206
 14213                        L553:
 14214                        	.line	2513
 14215                        ;							
                    found = c;
 14216                        	.line	2514
 14217 04:3E0E: A5 11        	lda	<L539+c_1
 14218 04:3E10: 85 19        	sta	<L539+found_1
 14219 04:3E12: A5 13        	lda	<L539+c_1+2
 14220 04:3E14: 85 1B        	sta	<L539+found_1+2
 14221                        ;							
                    nodeFound = ptr;
 14222                        	.line	2515
 14223 04:3E16: A5 15        	lda	<L539+ptr_1
 14224 04:3E18: 85 1D        	sta	<L539+nodeFound_1
 14225 04:3E1A: A5 17        	lda	<L539+ptr_1+2
 14226 04:3E1C: 85 1F        	sta	<L539+nodeFound_1+2
 14227                        ;							
                    //k_debug_strings("k_point_hit_scan_nodeslist:","Found Highe
                    r");
 14228                        ;							
                    //debug_window_node(NULL,((PCLICKDETECTED)nodeFound->data)->
                    window);
 14229                        ;						}
 14230                        	.line	2518
 14231                        ;					}
 14232                        L10206:
 14233                        	.line	2519
 14234                        L10205:
 14235                        ;				}
 14236                        	.line	2520
 14237                        ;			}
 14238                        L10203:
 14239                        	.line	2521
 14240                        ;		}
 14241                        L10202:
 14242                        	.line	2522
 14243                        ;		// CLEANUP CLOSED CLOSED WINDOWS
 14244                        ;		ptr = ptr->next;
 14245                        L10201:
 14246                        	.line	2524
 14247 04:3E1E: A0 0A 00     	ldy	#$a
 14248 04:3E21: B7 15        	lda	[<L539+ptr_1],Y
 14249 04:3E23: 85 01        	sta	<R0
 14250 04:3E25: A0 0C 00     	ldy	#$c
 14251 04:3E28: B7 15        	lda	[<L539+ptr_1],Y
 14252 04:3E2A: 85 03        	sta	<R0+2
 14253 04:3E2C: A5 01        	lda	<R0
 14254 04:3E2E: 85 15        	sta	<L539+ptr_1
 14255 04:3E30: A5 03        	lda	<R0+2
  Wed Nov 18 2020  8:26                                                Page 277


 14256 04:3E32: 85 17        	sta	<L539+ptr_1+2
 14257                        ;	}
 14258                        	.line	2525
 14259 04:3E34: 82 EB FE     	brl	L10199
 14260                        L10200:
 14261                        ;
 14262                        ;	//k_debug_pointer("k_point_hit_scan_nodeslist:",
                    nodeFound);
 14263                        ;	if(nodeFound)
 14264                        	.line	2528
 14265                        ;	{
 14266 04:3E37: A5 1D        	lda	<L539+nodeFound_1
 14267 04:3E39: 05 1F        	ora	<L539+nodeFound_1+2
 14268 04:3E3B: D0 03        	bne	L554
 14269 04:3E3D: 82 00 00     	brl	L10207
 14270                        L554:
 14271                        	.line	2529
 14272                        ;		//k_debug_pointer("k_point_hit_scan_node
                    slist:window:",((PCLICKDETECTED)nodeFound->data)->window);
 14273                        ;		//k_debug_pointer("k_point_hit_scan_node
                    slist:inside:",((PCLICKDETECTED)nodeFound->data)->window->wi
                    n_title);
 14274                        ;
 14275                        ;		//debug_window_node(NULL,((PCLICKDETECTE
                    D)nodeFound->data)->window);
 14276                        ;	}
 14277                        	.line	2534
 14278                        ;
 14279                        ;	return nodeFound;
 14280                        L10207:
 14281                        	.line	2536
 14282 04:3E40: A6 1F        	ldx	<L539+nodeFound_1+2
 14283 04:3E42: A5 1D        	lda	<L539+nodeFound_1
 14284                        L555:
 14285 04:3E44: A8           	tay
 14286 04:3E45: A5 22        	lda	<L538+2
 14287 04:3E47: 85 2A        	sta	<L538+2+8
 14288 04:3E49: A5 21        	lda	<L538+1
 14289 04:3E4B: 85 29        	sta	<L538+1+8
 14290 04:3E4D: 2B           	pld
 14291 04:3E4E: 3B           	tsc
 14292 04:3E4F: 18           	clc
 14293 04:3E50: 69 28 00     	adc	#L538+8
 14294 04:3E53: 1B           	tcs
 14295 04:3E54: 98           	tya
 14296 04:3E55: 6B           	rtl
 14297                        ;}
 14298                        	.line	2537
 14299                        	.endblock	2537
 14300             00000020   L538	equ	32
 14301             00000009   L539	equ	9
 14302 04:3E56:              	ends
 14303                        	efunc
 14304                        	.endfunc	2537,9,32
 14305                        	.line	2537
 14306                        ;
 14307                        ;
 14308                        ;
  Wed Nov 18 2020  8:26                                                Page 278


 14309                        ;PFXNODE k_remove_closed_windows_from_list(PFXNODE
                     ptr)
 14310                        ;{
 14311                        	.line	2541
 14312                        	.line	2542
 14313                        	WINMAN
 14314                        	xdef	~~k_remove_closed_windows_from_list
 14315                        	func
 14316                        	.function	2542
 14317                        ~~k_remove_closed_windows_from_list:
 14318                        	longa	on
 14319                        	longi	on
 14320 04:3E56: 3B           	tsc
 14321 04:3E57: 38           	sec
 14322 04:3E58: E9 0C 00     	sbc	#L556
 14323 04:3E5B: 1B           	tcs
 14324 04:3E5C: 0B           	phd
 14325 04:3E5D: 5B           	tcd
 14326             00000004   ptr_0	set	4
 14327                        	.block	2542
 14328                        ;	PFXNODE tmp = ptr;
 14329                        ;
 14330                        ;	if(((PCLICKDETECTED)ptr->data)->window && ((PCLI
                    CKDETECTED)ptr->data)->window->isClosed)
 14331             00000000   tmp_1	set	0
 14332                        	.sym	tmp,0,138,1,32,2
 14333                        	.sym	ptr,4,138,6,32,2
 14334 04:3E5E: A5 10        	lda	<L556+ptr_0
 14335 04:3E60: 85 09        	sta	<L557+tmp_1
 14336 04:3E62: A5 12        	lda	<L556+ptr_0+2
 14337 04:3E64: 85 0B        	sta	<L557+tmp_1+2
 14338                        	.line	2545
 14339                        ;	{
 14340 04:3E66: A0 02 00     	ldy	#$2
 14341 04:3E69: B7 10        	lda	[<L556+ptr_0],Y
 14342 04:3E6B: 85 01        	sta	<R0
 14343 04:3E6D: A0 04 00     	ldy	#$4
 14344 04:3E70: B7 10        	lda	[<L556+ptr_0],Y
 14345 04:3E72: 85 03        	sta	<R0+2
 14346 04:3E74: A7 01        	lda	[<R0]
 14347 04:3E76: A0 02 00     	ldy	#$2
 14348 04:3E79: 17 01        	ora	[<R0],Y
 14349 04:3E7B: D0 03        	bne	L559
 14350 04:3E7D: 82 38 01     	brl	L10208
 14351                        L559:
 14352 04:3E80: A0 02 00     	ldy	#$2
 14353 04:3E83: B7 10        	lda	[<L556+ptr_0],Y
 14354 04:3E85: 85 01        	sta	<R0
 14355 04:3E87: A0 04 00     	ldy	#$4
 14356 04:3E8A: B7 10        	lda	[<L556+ptr_0],Y
 14357 04:3E8C: 85 03        	sta	<R0+2
 14358 04:3E8E: A7 01        	lda	[<R0]
 14359 04:3E90: 85 05        	sta	<R1
 14360 04:3E92: A0 02 00     	ldy	#$2
 14361 04:3E95: B7 01        	lda	[<R0],Y
 14362 04:3E97: 85 07        	sta	<R1+2
 14363 04:3E99: A0 A5 00     	ldy	#$a5
 14364 04:3E9C: B7 05        	lda	[<R1],Y
  Wed Nov 18 2020  8:26                                                Page 279


 14365 04:3E9E: 29 FF 00     	and	#$ff
 14366 04:3EA1: D0 03        	bne	L560
 14367 04:3EA3: 82 12 01     	brl	L10208
 14368                        L560:
 14369                        	.line	2546
 14370                        ;		((PCLICKDETECTED)ptr->data)->window->win
                    _title[31] = 0;
 14371                        	.line	2547
 14372 04:3EA6: A0 02 00     	ldy	#$2
 14373 04:3EA9: B7 10        	lda	[<L556+ptr_0],Y
 14374 04:3EAB: 85 01        	sta	<R0
 14375 04:3EAD: A0 04 00     	ldy	#$4
 14376 04:3EB0: B7 10        	lda	[<L556+ptr_0],Y
 14377 04:3EB2: 85 03        	sta	<R0+2
 14378 04:3EB4: A7 01        	lda	[<R0]
 14379 04:3EB6: 85 05        	sta	<R1
 14380 04:3EB8: A0 02 00     	ldy	#$2
 14381 04:3EBB: B7 01        	lda	[<R0],Y
 14382 04:3EBD: 85 07        	sta	<R1+2
 14383 04:3EBF: E2 20        	sep	#$20
 14384                        	longa	off
 14385 04:3EC1: A9 00        	lda	#$0
 14386 04:3EC3: A0 43 00     	ldy	#$43
 14387 04:3EC6: 97 05        	sta	[<R1],Y
 14388 04:3EC8: C2 20        	rep	#$20
 14389                        	longa	on
 14390                        ;
 14391                        ;
 14392                        ;		//k_debug_strings("k_point_in_any_nodesl
                    ist::removing closed window:",((PCLICKDETECTED)ptr->data)->w
                    indow->win_title);
 14393                        ;		if(((PCLICKDETECTED)ptr->data)->window->
                    win_title)
 14394                        	.line	2551
 14395                        ;			k_debug_strings("k_remove_closed
                    _windows_from_list::removing closed window:",((PCLICKDETECTE
                    D)ptr->data)->window->win_title);
 14396 04:3ECA: A0 02 00     	ldy	#$2
 14397 04:3ECD: B7 10        	lda	[<L556+ptr_0],Y
 14398 04:3ECF: 85 01        	sta	<R0
 14399 04:3ED1: A0 04 00     	ldy	#$4
 14400 04:3ED4: B7 10        	lda	[<L556+ptr_0],Y
 14401 04:3ED6: 85 03        	sta	<R0+2
 14402 04:3ED8: 18           	clc
 14403 04:3ED9: A9 24 00     	lda	#$24
 14404 04:3EDC: 67 01        	adc	[<R0]
 14405 04:3EDE: 85 05        	sta	<R1
 14406 04:3EE0: A9 00 00     	lda	#$0
 14407 04:3EE3: A0 02 00     	ldy	#$2
 14408 04:3EE6: 77 01        	adc	[<R0],Y
 14409 04:3EE8: 85 07        	sta	<R1+2
 14410 04:3EEA: A5 05        	lda	<R1
 14411 04:3EEC: 05 07        	ora	<R1+2
 14412 04:3EEE: D0 03        	bne	L561
 14413 04:3EF0: 82 31 00     	brl	L10209
 14414                        L561:
 14415                        	.line	2552
 14416 04:3EF3: A0 02 00     	ldy	#$2
  Wed Nov 18 2020  8:26                                                Page 280


 14417 04:3EF6: B7 10        	lda	[<L556+ptr_0],Y
 14418 04:3EF8: 85 01        	sta	<R0
 14419 04:3EFA: A0 04 00     	ldy	#$4
 14420 04:3EFD: B7 10        	lda	[<L556+ptr_0],Y
 14421 04:3EFF: 85 03        	sta	<R0+2
 14422 04:3F01: 18           	clc
 14423 04:3F02: A9 24 00     	lda	#$24
 14424 04:3F05: 67 01        	adc	[<R0]
 14425 04:3F07: 85 05        	sta	<R1
 14426 04:3F09: A9 00 00     	lda	#$0
 14427 04:3F0C: A0 02 00     	ldy	#$2
 14428 04:3F0F: 77 01        	adc	[<R0],Y
 14429 04:3F11: 85 07        	sta	<R1+2
 14430 04:3F13: D4 07        	pei	<R1+2
 14431 04:3F15: D4 05        	pei	<R1
 14432 04:3F17: F4 xx xx     	pea	#^L528
 14433 04:3F1A: F4 xx xx     	pea	#<L528
 14434 04:3F1D: 22 xx xx xx  	jsl	~~k_debug_strings
 14435                        ;		else
 14436 04:3F21: 82 10 00     	brl	L10210
 14437                        L10209:
 14438                        ;			k_debug_strings("k_remove_closed
                    _windows_from_list::removing closed window:","NO NAME");
 14439                        	.line	2554
 14440 04:3F24: F4 xx xx     	pea	#^L528+118
 14441 04:3F27: F4 xx xx     	pea	#<L528+118
 14442 04:3F2A: F4 xx xx     	pea	#^L528+59
 14443 04:3F2D: F4 xx xx     	pea	#<L528+59
 14444 04:3F30: 22 xx xx xx  	jsl	~~k_debug_strings
 14445                        L10210:
 14446                        ;
 14447                        ;
 14448                        ;
 14449                        ;		tmp = ptr->next;
 14450                        	.line	2558
 14451 04:3F34: A0 0A 00     	ldy	#$a
 14452 04:3F37: B7 10        	lda	[<L556+ptr_0],Y
 14453 04:3F39: 85 09        	sta	<L557+tmp_1
 14454 04:3F3B: A0 0C 00     	ldy	#$c
 14455 04:3F3E: B7 10        	lda	[<L556+ptr_0],Y
 14456 04:3F40: 85 0B        	sta	<L557+tmp_1+2
 14457                        ;
 14458                        ;		if(ptr->last)
 14459                        	.line	2560
 14460                        ;			ptr->last->next = ptr->next;
 14461 04:3F42: A0 06 00     	ldy	#$6
 14462 04:3F45: B7 10        	lda	[<L556+ptr_0],Y
 14463 04:3F47: A0 08 00     	ldy	#$8
 14464 04:3F4A: 17 10        	ora	[<L556+ptr_0],Y
 14465 04:3F4C: D0 03        	bne	L562
 14466 04:3F4E: 82 22 00     	brl	L10211
 14467                        L562:
 14468                        	.line	2561
 14469 04:3F51: A0 06 00     	ldy	#$6
 14470 04:3F54: B7 10        	lda	[<L556+ptr_0],Y
 14471 04:3F56: 85 01        	sta	<R0
 14472 04:3F58: A0 08 00     	ldy	#$8
 14473 04:3F5B: B7 10        	lda	[<L556+ptr_0],Y
  Wed Nov 18 2020  8:26                                                Page 281


 14474 04:3F5D: 85 03        	sta	<R0+2
 14475 04:3F5F: A0 0A 00     	ldy	#$a
 14476 04:3F62: B7 10        	lda	[<L556+ptr_0],Y
 14477 04:3F64: A0 0A 00     	ldy	#$a
 14478 04:3F67: 97 01        	sta	[<R0],Y
 14479 04:3F69: A0 0C 00     	ldy	#$c
 14480 04:3F6C: B7 10        	lda	[<L556+ptr_0],Y
 14481 04:3F6E: A0 0C 00     	ldy	#$c
 14482 04:3F71: 97 01        	sta	[<R0],Y
 14483                        ;		if(ptr->next)
 14484                        L10211:
 14485                        	.line	2562
 14486                        ;			ptr->next->last = ptr->last;
 14487 04:3F73: A0 0A 00     	ldy	#$a
 14488 04:3F76: B7 10        	lda	[<L556+ptr_0],Y
 14489 04:3F78: A0 0C 00     	ldy	#$c
 14490 04:3F7B: 17 10        	ora	[<L556+ptr_0],Y
 14491 04:3F7D: D0 03        	bne	L563
 14492 04:3F7F: 82 22 00     	brl	L10212
 14493                        L563:
 14494                        	.line	2563
 14495 04:3F82: A0 0A 00     	ldy	#$a
 14496 04:3F85: B7 10        	lda	[<L556+ptr_0],Y
 14497 04:3F87: 85 01        	sta	<R0
 14498 04:3F89: A0 0C 00     	ldy	#$c
 14499 04:3F8C: B7 10        	lda	[<L556+ptr_0],Y
 14500 04:3F8E: 85 03        	sta	<R0+2
 14501 04:3F90: A0 06 00     	ldy	#$6
 14502 04:3F93: B7 10        	lda	[<L556+ptr_0],Y
 14503 04:3F95: A0 06 00     	ldy	#$6
 14504 04:3F98: 97 01        	sta	[<R0],Y
 14505 04:3F9A: A0 08 00     	ldy	#$8
 14506 04:3F9D: B7 10        	lda	[<L556+ptr_0],Y
 14507 04:3F9F: A0 08 00     	ldy	#$8
 14508 04:3FA2: 97 01        	sta	[<R0],Y
 14509                        ;
 14510                        ;		//k_mem_deallocate_heap(ptr->data);
 14511                        ;		k_mem_deallocate_heap(ptr);
 14512                        L10212:
 14513                        	.line	2566
 14514 04:3FA4: D4 12        	pei	<L556+ptr_0+2
 14515 04:3FA6: D4 10        	pei	<L556+ptr_0
 14516 04:3FA8: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 14517                        ;
 14518                        ;		ptr = tmp;
 14519                        	.line	2568
 14520 04:3FAC: A5 09        	lda	<L557+tmp_1
 14521 04:3FAE: 85 10        	sta	<L556+ptr_0
 14522 04:3FB0: A5 0B        	lda	<L557+tmp_1+2
 14523 04:3FB2: 85 12        	sta	<L556+ptr_0+2
 14524                        ;		tmp = NULL;
 14525                        	.line	2569
 14526 04:3FB4: 64 09        	stz	<L557+tmp_1
 14527 04:3FB6: 64 0B        	stz	<L557+tmp_1+2
 14528                        ;	}
 14529                        	.line	2570
 14530                        ;
 14531                        ;	return ptr;
  Wed Nov 18 2020  8:26                                                Page 282


 14532                        L10208:
 14533                        	.line	2572
 14534 04:3FB8: A6 12        	ldx	<L556+ptr_0+2
 14535 04:3FBA: A5 10        	lda	<L556+ptr_0
 14536                        L564:
 14537 04:3FBC: A8           	tay
 14538 04:3FBD: A5 0E        	lda	<L556+2
 14539 04:3FBF: 85 12        	sta	<L556+2+4
 14540 04:3FC1: A5 0D        	lda	<L556+1
 14541 04:3FC3: 85 11        	sta	<L556+1+4
 14542 04:3FC5: 2B           	pld
 14543 04:3FC6: 3B           	tsc
 14544 04:3FC7: 18           	clc
 14545 04:3FC8: 69 10 00     	adc	#L556+4
 14546 04:3FCB: 1B           	tcs
 14547 04:3FCC: 98           	tya
 14548 04:3FCD: 6B           	rtl
 14549                        ;}
 14550                        	.line	2573
 14551                        	.endblock	2573
 14552             0000000C   L556	equ	12
 14553             00000009   L557	equ	9
 14554 04:3FCE:              	ends
 14555                        	efunc
 14556                        	.endfunc	2573,9,12
 14557                        	.line	2573
 14558                        	data
 14559                        L528:
 14560 00:0A7F: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6D,$6F,$76,$65,$5F,$63,
                    $6C,$6F,$73,$65,$64
       00:0A83: 6D 6F 76 65 
       00:0A87: 5F 63 6C 6F 
       00:0A8B: 73 65 64 
 14561 00:0A8E: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$73,$5F,$66,
                    $72,$6F,$6D,$5F,$6C
       00:0A92: 64 6F 77 73 
       00:0A96: 5F 66 72 6F 
       00:0A9A: 6D 5F 6C 
 14562 00:0A9D: 69 73 74 3A  	db	$69,$73,$74,$3A,$3A,$72,$65,$6D,$6F,$76,
                    $69,$6E,$67,$20,$63
       00:0AA1: 3A 72 65 6D 
       00:0AA5: 6F 76 69 6E 
       00:0AA9: 67 20 63 
 14563 00:0AAC: 6C 6F 73 65  	db	$6C,$6F,$73,$65,$64,$20,$77,$69,$6E,$64,
                    $6F,$77,$3A,$00,$6B
       00:0AB0: 64 20 77 69 
       00:0AB4: 6E 64 6F 77 
       00:0AB8: 3A 00 6B 
 14564 00:0ABB: 5F 72 65 6D  	db	$5F,$72,$65,$6D,$6F,$76,$65,$5F,$63,$6C,
                    $6F,$73,$65,$64,$5F
       00:0ABF: 6F 76 65 5F 
       00:0AC3: 63 6C 6F 73 
       00:0AC7: 65 64 5F 
 14565 00:0ACA: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$73,$5F,$66,$72,
                    $6F,$6D,$5F,$6C,$69
       00:0ACE: 6F 77 73 5F 
       00:0AD2: 66 72 6F 6D 
       00:0AD6: 5F 6C 69 
  Wed Nov 18 2020  8:26                                                Page 283


 14566 00:0AD9: 73 74 3A 3A  	db	$73,$74,$3A,$3A,$72,$65,$6D,$6F,$76,$69,
                    $6E,$67,$20,$63,$6C
       00:0ADD: 72 65 6D 6F 
       00:0AE1: 76 69 6E 67 
       00:0AE5: 20 63 6C 
 14567 00:0AE8: 6F 73 65 64  	db	$6F,$73,$65,$64,$20,$77,$69,$6E,$64,$6F,
                    $77,$3A,$00,$4E,$4F
       00:0AEC: 20 77 69 6E 
       00:0AF0: 64 6F 77 3A 
       00:0AF4: 00 4E 4F 
 14568 00:0AF7: 20 4E 41 4D  	db	$20,$4E,$41,$4D,$45,$00
       00:0AFB: 45 00 
 14569 00:0AFD:              	ends
 14570                        ;
 14571                        ;
 14572                        ;BOOL k_user_ShowWindow(HWND hWnd,UINT showFlag)
 14573                        ;{
 14574                        	.line	2576
 14575                        	.line	2577
 14576                        	WINMAN
 14577                        	xdef	~~k_user_ShowWindow
 14578                        	func
 14579                        	.function	2577
 14580                        ~~k_user_ShowWindow:
 14581                        	longa	on
 14582                        	longi	on
 14583 04:3FCE: 3B           	tsc
 14584 04:3FCF: 38           	sec
 14585 04:3FD0: E9 00 00     	sbc	#L566
 14586 04:3FD3: 1B           	tcs
 14587 04:3FD4: 0B           	phd
 14588 04:3FD5: 5B           	tcd
 14589             00000004   hWnd_0	set	4
 14590             00000008   showFlag_0	set	8
 14591                        	.block	2577
 14592                        ;	return FALSE;
 14593                        	.sym	hWnd,4,129,6,32
 14594                        	.sym	showFlag,8,16,6,16
 14595                        	.line	2578
 14596 04:3FD6: A9 00 00     	lda	#$0
 14597                        L569:
 14598 04:3FD9: A8           	tay
 14599 04:3FDA: A5 02        	lda	<L566+2
 14600 04:3FDC: 85 08        	sta	<L566+2+6
 14601 04:3FDE: A5 01        	lda	<L566+1
 14602 04:3FE0: 85 07        	sta	<L566+1+6
 14603 04:3FE2: 2B           	pld
 14604 04:3FE3: 3B           	tsc
 14605 04:3FE4: 18           	clc
 14606 04:3FE5: 69 06 00     	adc	#L566+6
 14607 04:3FE8: 1B           	tcs
 14608 04:3FE9: 98           	tya
 14609 04:3FEA: 6B           	rtl
 14610                        ;}
 14611                        	.line	2579
 14612                        	.endblock	2579
 14613             00000000   L566	equ	0
 14614             00000001   L567	equ	1
  Wed Nov 18 2020  8:26                                                Page 284


 14615 04:3FEB:              	ends
 14616                        	efunc
 14617                        	.endfunc	2579,1,0
 14618                        	.line	2579
 14619                        ;
 14620                        ;
 14621                        ;PPOINT k_user_ClientToGlobalCoordinates(HWND hWnd
                    ,PPOINT point)
 14622                        ;{
 14623                        	.line	2582
 14624                        	.line	2583
 14625                        	WINMAN
 14626                        	xdef	~~k_user_ClientToGlobalCoordinates
 14627                        	func
 14628                        	.function	2583
 14629                        ~~k_user_ClientToGlobalCoordinates:
 14630                        	longa	on
 14631                        	longi	on
 14632 04:3FEB: 3B           	tsc
 14633 04:3FEC: 38           	sec
 14634 04:3FED: E9 08 00     	sbc	#L570
 14635 04:3FF0: 1B           	tcs
 14636 04:3FF1: 0B           	phd
 14637 04:3FF2: 5B           	tcd
 14638             00000004   hWnd_0	set	4
 14639             00000008   point_0	set	8
 14640                        	.block	2583
 14641                        ;	PWINDOW pWin	 = k_getWindowFromHandle(hWnd);
 14642                        ;	PWINDOW pParent  = NULL;
 14643                        ;
 14644                        ;	if(pWin)
 14645             00000000   pWin_1	set	0
 14646             00000004   pParent_1	set	4
 14647                        	.sym	pWin,0,138,1,32,24
 14648                        	.sym	pParent,4,138,1,32,24
 14649                        	.sym	hWnd,4,129,6,32
 14650                        	.sym	point,8,138,6,32,21
 14651 04:3FF3: D4 0E        	pei	<L570+hWnd_0+2
 14652 04:3FF5: D4 0C        	pei	<L570+hWnd_0
 14653 04:3FF7: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 14654 04:3FFB: 85 01        	sta	<L571+pWin_1
 14655 04:3FFD: 86 03        	stx	<L571+pWin_1+2
 14656 04:3FFF: 64 05        	stz	<L571+pParent_1
 14657 04:4001: 64 07        	stz	<L571+pParent_1+2
 14658                        	.line	2587
 14659                        ;	{
 14660 04:4003: A5 01        	lda	<L571+pWin_1
 14661 04:4005: 05 03        	ora	<L571+pWin_1+2
 14662 04:4007: D0 03        	bne	L573
 14663 04:4009: 82 20 00     	brl	L10213
 14664                        L573:
 14665                        	.line	2588
 14666                        ;		pParent = k_getWindowFromHandle(pWin->pP
                    arentWindow);
 14667                        	.line	2589
 14668 04:400C: A0 82 00     	ldy	#$82
 14669 04:400F: B7 01        	lda	[<L571+pWin_1],Y
 14670 04:4011: 48           	pha
  Wed Nov 18 2020  8:26                                                Page 285


 14671 04:4012: A0 80 00     	ldy	#$80
 14672 04:4015: B7 01        	lda	[<L571+pWin_1],Y
 14673 04:4017: 48           	pha
 14674 04:4018: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 14675 04:401C: 85 05        	sta	<L571+pParent_1
 14676 04:401E: 86 07        	stx	<L571+pParent_1+2
 14677                        ;		if(pParent)
 14678                        	.line	2590
 14679                        ;		{
 14680 04:4020: A5 05        	lda	<L571+pParent_1
 14681 04:4022: 05 07        	ora	<L571+pParent_1+2
 14682 04:4024: D0 03        	bne	L574
 14683 04:4026: 82 03 00     	brl	L10214
 14684                        L574:
 14685                        	.line	2591
 14686                        ;		}
 14687                        	.line	2592
 14688                        ;		else
 14689 04:4029: 82 00 00     	brl	L10215
 14690                        L10214:
 14691                        ;		{
 14692                        	.line	2594
 14693                        ;
 14694                        ;		}
 14695                        	.line	2596
 14696                        L10215:
 14697                        ;	}
 14698                        	.line	2597
 14699                        ;
 14700                        ;
 14701                        ;	return point;
 14702                        L10213:
 14703                        	.line	2600
 14704 04:402C: A6 12        	ldx	<L570+point_0+2
 14705 04:402E: A5 10        	lda	<L570+point_0
 14706                        L575:
 14707 04:4030: A8           	tay
 14708 04:4031: A5 0A        	lda	<L570+2
 14709 04:4033: 85 12        	sta	<L570+2+8
 14710 04:4035: A5 09        	lda	<L570+1
 14711 04:4037: 85 11        	sta	<L570+1+8
 14712 04:4039: 2B           	pld
 14713 04:403A: 3B           	tsc
 14714 04:403B: 18           	clc
 14715 04:403C: 69 10 00     	adc	#L570+8
 14716 04:403F: 1B           	tcs
 14717 04:4040: 98           	tya
 14718 04:4041: 6B           	rtl
 14719                        ;}
 14720                        	.line	2601
 14721                        	.endblock	2601
 14722             00000008   L570	equ	8
 14723             00000001   L571	equ	1
 14724 04:4042:              	ends
 14725                        	efunc
 14726                        	.endfunc	2601,1,8
 14727                        	.line	2601
 14728                        ;
  Wed Nov 18 2020  8:26                                                Page 286


 14729                        ;
 14730                        ;PPOINT k_user_GlobalToClientCoordinates(HWND hWnd
                    ,PPOINT point)
 14731                        ;{
 14732                        	.line	2604
 14733                        	.line	2605
 14734                        	WINMAN
 14735                        	xdef	~~k_user_GlobalToClientCoordinates
 14736                        	func
 14737                        	.function	2605
 14738                        ~~k_user_GlobalToClientCoordinates:
 14739                        	longa	on
 14740                        	longi	on
 14741 04:4042: 3B           	tsc
 14742 04:4043: 38           	sec
 14743 04:4044: E9 08 00     	sbc	#L576
 14744 04:4047: 1B           	tcs
 14745 04:4048: 0B           	phd
 14746 04:4049: 5B           	tcd
 14747             00000004   hWnd_0	set	4
 14748             00000008   point_0	set	8
 14749                        	.block	2605
 14750                        ;	PWINDOW pWin	 = k_getWindowFromHandle(hWnd);
 14751                        ;	PWINDOW pParent  = NULL;
 14752                        ;
 14753                        ;	if(pWin)
 14754             00000000   pWin_1	set	0
 14755             00000004   pParent_1	set	4
 14756                        	.sym	pWin,0,138,1,32,24
 14757                        	.sym	pParent,4,138,1,32,24
 14758                        	.sym	hWnd,4,129,6,32
 14759                        	.sym	point,8,138,6,32,21
 14760 04:404A: D4 0E        	pei	<L576+hWnd_0+2
 14761 04:404C: D4 0C        	pei	<L576+hWnd_0
 14762 04:404E: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 14763 04:4052: 85 01        	sta	<L577+pWin_1
 14764 04:4054: 86 03        	stx	<L577+pWin_1+2
 14765 04:4056: 64 05        	stz	<L577+pParent_1
 14766 04:4058: 64 07        	stz	<L577+pParent_1+2
 14767                        	.line	2609
 14768                        ;	{
 14769 04:405A: A5 01        	lda	<L577+pWin_1
 14770 04:405C: 05 03        	ora	<L577+pWin_1+2
 14771 04:405E: D0 03        	bne	L579
 14772 04:4060: 82 20 00     	brl	L10216
 14773                        L579:
 14774                        	.line	2610
 14775                        ;		pParent = k_getWindowFromHandle(pWin->pP
                    arentWindow);
 14776                        	.line	2611
 14777 04:4063: A0 82 00     	ldy	#$82
 14778 04:4066: B7 01        	lda	[<L577+pWin_1],Y
 14779 04:4068: 48           	pha
 14780 04:4069: A0 80 00     	ldy	#$80
 14781 04:406C: B7 01        	lda	[<L577+pWin_1],Y
 14782 04:406E: 48           	pha
 14783 04:406F: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 14784 04:4073: 85 05        	sta	<L577+pParent_1
  Wed Nov 18 2020  8:26                                                Page 287


 14785 04:4075: 86 07        	stx	<L577+pParent_1+2
 14786                        ;		if(pParent)
 14787                        	.line	2612
 14788                        ;		{
 14789 04:4077: A5 05        	lda	<L577+pParent_1
 14790 04:4079: 05 07        	ora	<L577+pParent_1+2
 14791 04:407B: D0 03        	bne	L580
 14792 04:407D: 82 03 00     	brl	L10217
 14793                        L580:
 14794                        	.line	2613
 14795                        ;
 14796                        ;		}
 14797                        	.line	2615
 14798                        ;		else
 14799 04:4080: 82 00 00     	brl	L10218
 14800                        L10217:
 14801                        ;		{
 14802                        	.line	2617
 14803                        ;
 14804                        ;		}
 14805                        	.line	2619
 14806                        L10218:
 14807                        ;	}
 14808                        	.line	2620
 14809                        ;
 14810                        ;	return point;
 14811                        L10216:
 14812                        	.line	2622
 14813 04:4083: A6 12        	ldx	<L576+point_0+2
 14814 04:4085: A5 10        	lda	<L576+point_0
 14815                        L581:
 14816 04:4087: A8           	tay
 14817 04:4088: A5 0A        	lda	<L576+2
 14818 04:408A: 85 12        	sta	<L576+2+8
 14819 04:408C: A5 09        	lda	<L576+1
 14820 04:408E: 85 11        	sta	<L576+1+8
 14821 04:4090: 2B           	pld
 14822 04:4091: 3B           	tsc
 14823 04:4092: 18           	clc
 14824 04:4093: 69 10 00     	adc	#L576+8
 14825 04:4096: 1B           	tcs
 14826 04:4097: 98           	tya
 14827 04:4098: 6B           	rtl
 14828                        ;}
 14829                        	.line	2623
 14830                        	.endblock	2623
 14831             00000008   L576	equ	8
 14832             00000001   L577	equ	1
 14833 04:4099:              	ends
 14834                        	efunc
 14835                        	.endfunc	2623,1,8
 14836                        	.line	2623
 14837                        ;
 14838                        ;
 14839                        ;BOOL gadgetWindowProc(PFXOSMESSAGE pMsg)
 14840                        ;{
 14841                        	.line	2626
 14842                        	.line	2627
  Wed Nov 18 2020  8:26                                                Page 288


 14843                        	WINMAN
 14844                        	xdef	~~gadgetWindowProc
 14845                        	func
 14846                        	.function	2627
 14847                        ~~gadgetWindowProc:
 14848                        	longa	on
 14849                        	longi	on
 14850 04:4099: 3B           	tsc
 14851 04:409A: 38           	sec
 14852 04:409B: E9 04 00     	sbc	#L582
 14853 04:409E: 1B           	tcs
 14854 04:409F: 0B           	phd
 14855 04:40A0: 5B           	tcd
 14856             00000004   pMsg_0	set	4
 14857                        	.block	2627
 14858                        ;	PFXPROCESS p = NULL;
 14859                        ;
 14860                        ;	if(pMsg!=NULL)
 14861             00000000   p_1	set	0
 14862                        	.sym	p,0,138,1,32,17
 14863                        	.sym	pMsg,4,138,6,32,13
 14864 04:40A1: 64 01        	stz	<L583+p_1
 14865 04:40A3: 64 03        	stz	<L583+p_1+2
 14866                        	.line	2630
 14867                        ;	{
 14868 04:40A5: A5 08        	lda	<L582+pMsg_0
 14869 04:40A7: 05 0A        	ora	<L582+pMsg_0+2
 14870 04:40A9: D0 03        	bne	L585
 14871 04:40AB: 82 66 00     	brl	L10219
 14872                        L585:
 14873                        	.line	2631
 14874                        ;		p = k_exec_get_current_process();
 14875                        	.line	2632
 14876 04:40AE: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 14877 04:40B2: 85 01        	sta	<L583+p_1
 14878 04:40B4: 86 03        	stx	<L583+p_1+2
 14879                        ;
 14880                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 14881                        ;
 14882                        ;		switch(pMsg->type)
 14883                        	.line	2636
 14884 04:40B6: A0 08 00     	ldy	#$8
 14885 04:40B9: B7 08        	lda	[<L582+pMsg_0],Y
 14886 04:40BB: 82 46 00     	brl	L10220
 14887                        ;		{
 14888                        	.line	2637
 14889                        ;		case FX_CREATE_WINDOW:
 14890                        	.line	2638
 14891                        L10222:
 14892                        ;			k_debug_long("gadgetWindowProc::
                    ProcessId:",p->procId);
 14893                        	.line	2639
 14894 04:40BE: A0 04 00     	ldy	#$4
 14895 04:40C1: B7 01        	lda	[<L583+p_1],Y
 14896 04:40C3: 48           	pha
 14897 04:40C4: A0 02 00     	ldy	#$2
 14898 04:40C7: B7 01        	lda	[<L583+p_1],Y
  Wed Nov 18 2020  8:26                                                Page 289


 14899 04:40C9: 48           	pha
 14900 04:40CA: F4 xx xx     	pea	#^L565
 14901 04:40CD: F4 xx xx     	pea	#<L565
 14902 04:40D0: 22 xx xx xx  	jsl	~~k_debug_long
 14903                        ;			k_debug_integer("gadgetWindowPro
                    c::MessageId:",pMsg->type);
 14904                        	.line	2640
 14905 04:40D4: A0 08 00     	ldy	#$8
 14906 04:40D7: B7 08        	lda	[<L582+pMsg_0],Y
 14907 04:40D9: 48           	pha
 14908 04:40DA: F4 xx xx     	pea	#^L565+29
 14909 04:40DD: F4 xx xx     	pea	#<L565+29
 14910 04:40E0: 22 xx xx xx  	jsl	~~k_debug_integer
 14911                        ;			break;
 14912                        	.line	2641
 14913 04:40E4: 82 2D 00     	brl	L10221
 14914                        ;		case FX_LBUTTON_DOWN:
 14915                        	.line	2642
 14916                        L10223:
 14917                        ;			if(pMsg->type!=FX_PROCESS)
 14918                        	.line	2643
 14919                        ;			{
 14920 04:40E7: A0 08 00     	ldy	#$8
 14921 04:40EA: B7 08        	lda	[<L582+pMsg_0],Y
 14922 04:40EC: C9 00 FF     	cmp	#<$ff00
 14923 04:40EF: D0 03        	bne	L586
 14924 04:40F1: 82 0A 00     	brl	L10224
 14925                        L586:
 14926                        	.line	2644
 14927                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
 14928                        ;				k_debug_string("gadgetWi
                    ndowProc::FX_MBUTTON_DOWN\r\n");
 14929                        	.line	2646
 14930 04:40F4: F4 xx xx     	pea	#^L565+58
 14931 04:40F7: F4 xx xx     	pea	#<L565+58
 14932 04:40FA: 22 xx xx xx  	jsl	~~k_debug_string
 14933                        ;			}
 14934                        	.line	2647
 14935                        ;
 14936                        ;			break;
 14937                        L10224:
 14938                        	.line	2649
 14939 04:40FE: 82 13 00     	brl	L10221
 14940                        ;		default:
 14941                        	.line	2650
 14942                        L10225:
 14943                        ;			break;
 14944                        	.line	2651
 14945 04:4101: 82 10 00     	brl	L10221
 14946                        ;		}
 14947                        	.line	2652
 14948                        L10220:
 14949                        	xref	~~~swt
 14950 04:4104: 22 xx xx xx  	jsl	~~~swt
 14951 04:4108: 02 00        	dw	2
 14952 04:410A: 04 0F        	dw	3844
 14953 04:410C: E6 40        	dw	L10223-1
  Wed Nov 18 2020  8:26                                                Page 290


 14954 04:410E: 03 FF        	dw	65283
 14955 04:4110: BD 40        	dw	L10222-1
 14956 04:4112: 00 41        	dw	L10225-1
 14957                        L10221:
 14958                        ;	}
 14959                        	.line	2653
 14960                        ;
 14961                        ;	return TRUE;
 14962                        L10219:
 14963                        	.line	2655
 14964 04:4114: A9 01 00     	lda	#$1
 14965                        L587:
 14966 04:4117: A8           	tay
 14967 04:4118: A5 06        	lda	<L582+2
 14968 04:411A: 85 0A        	sta	<L582+2+4
 14969 04:411C: A5 05        	lda	<L582+1
 14970 04:411E: 85 09        	sta	<L582+1+4
 14971 04:4120: 2B           	pld
 14972 04:4121: 3B           	tsc
 14973 04:4122: 18           	clc
 14974 04:4123: 69 08 00     	adc	#L582+4
 14975 04:4126: 1B           	tcs
 14976 04:4127: 98           	tya
 14977 04:4128: 6B           	rtl
 14978                        ;}
 14979                        	.line	2656
 14980                        	.endblock	2656
 14981             00000004   L582	equ	4
 14982             00000001   L583	equ	1
 14983 04:4129:              	ends
 14984                        	efunc
 14985                        	.endfunc	2656,1,4
 14986                        	.line	2656
 14987                        	data
 14988                        L565:
 14989 00:0AFD: 67 61 64 67  	db	$67,$61,$64,$67,$65,$74,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0B01: 65 74 57 69 
       00:0B05: 6E 64 6F 77 
       00:0B09: 50 72 6F 
 14990 00:0B0C: 63 3A 3A 50  	db	$63,$3A,$3A,$50,$72,$6F,$63,$65,$73,$73,
                    $49,$64,$3A,$00,$67
       00:0B10: 72 6F 63 65 
       00:0B14: 73 73 49 64 
       00:0B18: 3A 00 67 
 14991 00:0B1B: 61 64 67 65  	db	$61,$64,$67,$65,$74,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:0B1F: 74 57 69 6E 
       00:0B23: 64 6F 77 50 
       00:0B27: 72 6F 63 
 14992 00:0B2A: 3A 3A 4D 65  	db	$3A,$3A,$4D,$65,$73,$73,$61,$67,$65,$49,
                    $64,$3A,$00,$67,$61
       00:0B2E: 73 73 61 67 
       00:0B32: 65 49 64 3A 
       00:0B36: 00 67 61 
 14993 00:0B39: 64 67 65 74  	db	$64,$67,$65,$74,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:0B3D: 57 69 6E 64 
  Wed Nov 18 2020  8:26                                                Page 291


       00:0B41: 6F 77 50 72 
       00:0B45: 6F 63 3A 
 14994 00:0B48: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4D,$42,$55,$54,$54,$4F,
                    $4E,$5F,$44,$4F,$57
       00:0B4C: 4D 42 55 54 
       00:0B50: 54 4F 4E 5F 
       00:0B54: 44 4F 57 
 14995 00:0B57: 4E 0D 0A 00  	db	$4E,$0D,$0A,$00
 14996 00:0B5B:              	ends
 14997                        ;
 14998                        ;int k_user_getSystemMetric(UINT flag)
 14999                        ;{
 15000                        	.line	2658
 15001                        	.line	2659
 15002                        	WINMAN
 15003                        	xdef	~~k_user_getSystemMetric
 15004                        	func
 15005                        	.function	2659
 15006                        ~~k_user_getSystemMetric:
 15007                        	longa	on
 15008                        	longi	on
 15009 04:4129: 3B           	tsc
 15010 04:412A: 38           	sec
 15011 04:412B: E9 0A 00     	sbc	#L589
 15012 04:412E: 1B           	tcs
 15013 04:412F: 0B           	phd
 15014 04:4130: 5B           	tcd
 15015             00000004   flag_0	set	4
 15016                        	.block	2659
 15017                        ;	FONTMETRIC fm;
 15018                        ;
 15019                        ;	int metric = -1;
 15020                        ;
 15021                        ;
 15022                        ;	switch(flag)
 15023             00000000   fm_1	set	0
 15024             00000004   metric_1	set	4
 15025                        	.sym	fm,0,10,1,32,26
 15026                        	.sym	metric,4,5,1,16
 15027                        	.sym	flag,4,16,6,16
 15028 04:4131: A9 FF FF     	lda	#$ffff
 15029 04:4134: 85 09        	sta	<L590+metric_1
 15030                        	.line	2665
 15031 04:4136: A5 0E        	lda	<L589+flag_0
 15032 04:4138: 82 86 00     	brl	L10226
 15033                        ;	{
 15034                        	.line	2666
 15035                        ;	case SM_CYMENUSIZE:
 15036                        	.line	2667
 15037                        L10228:
 15038                        ;		k_get_font_metrics(&fm);
 15039                        	.line	2668
 15040 04:413B: F4 00 00     	pea	#0
 15041 04:413E: 18           	clc
 15042 04:413F: 7B           	tdc
 15043 04:4140: 69 05 00     	adc	#<L590+fm_1
 15044 04:4143: 48           	pha
 15045 04:4144: 22 xx xx xx  	jsl	~~k_get_font_metrics
  Wed Nov 18 2020  8:26                                                Page 292


 15046                        ;
 15047                        ;		metric = fm.height + (int)(fm.width/2);
 15048                        	.line	2670
 15049 04:4148: A5 05        	lda	<L590+fm_1
 15050 04:414A: A2 02 00     	ldx	#<$2
 15051                        	xref	~~~div
 15052 04:414D: 22 xx xx xx  	jsl	~~~div
 15053 04:4151: 85 01        	sta	<R0
 15054 04:4153: 18           	clc
 15055 04:4154: A5 01        	lda	<R0
 15056 04:4156: 65 07        	adc	<L590+fm_1+2
 15057 04:4158: 85 09        	sta	<L590+metric_1
 15058                        ;
 15059                        ;		break;
 15060                        	.line	2672
 15061 04:415A: 82 9C 00     	brl	L10227
 15062                        ;	case SM_CXMENUSIZE:
 15063                        	.line	2673
 15064                        L10229:
 15065                        ;
 15066                        ;		metric = 640;
 15067                        	.line	2675
 15068 04:415D: A9 80 02     	lda	#$280
 15069 04:4160: 85 09        	sta	<L590+metric_1
 15070                        ;
 15071                        ;		break;
 15072                        	.line	2677
 15073 04:4162: 82 94 00     	brl	L10227
 15074                        ;	case SM_CXFULLSCREEN:
 15075                        	.line	2678
 15076                        L10230:
 15077                        ;		metric = 640;
 15078                        	.line	2679
 15079 04:4165: A9 80 02     	lda	#$280
 15080 04:4168: 85 09        	sta	<L590+metric_1
 15081                        ;		break;
 15082                        	.line	2680
 15083 04:416A: 82 8C 00     	brl	L10227
 15084                        ;	case SM_CYFULLSCREEN:
 15085                        	.line	2681
 15086                        L10231:
 15087                        ;		metric = 480;
 15088                        	.line	2682
 15089 04:416D: A9 E0 01     	lda	#$1e0
 15090 04:4170: 85 09        	sta	<L590+metric_1
 15091                        ;		break;
 15092                        	.line	2683
 15093 04:4172: 82 84 00     	brl	L10227
 15094                        ;	case SM_CXFRAME:
 15095                        	.line	2684
 15096                        L10232:
 15097                        ;		metric = 2;
 15098                        	.line	2685
 15099 04:4175: A9 02 00     	lda	#$2
 15100 04:4178: 85 09        	sta	<L590+metric_1
 15101                        ;		break;
 15102                        	.line	2686
 15103 04:417A: 82 7C 00     	brl	L10227
  Wed Nov 18 2020  8:26                                                Page 293


 15104                        ;	case SM_CYFRAME:
 15105                        	.line	2687
 15106                        L10233:
 15107                        ;		metric = 2;
 15108                        	.line	2688
 15109 04:417D: A9 02 00     	lda	#$2
 15110 04:4180: 85 09        	sta	<L590+metric_1
 15111                        ;		break;
 15112                        	.line	2689
 15113 04:4182: 82 74 00     	brl	L10227
 15114                        ;	case SM_CYDLGFRAME:
 15115                        	.line	2690
 15116                        L10234:
 15117                        ;		metric = 4;
 15118                        	.line	2691
 15119 04:4185: A9 04 00     	lda	#$4
 15120 04:4188: 85 09        	sta	<L590+metric_1
 15121                        ;		break;
 15122                        	.line	2692
 15123 04:418A: 82 6C 00     	brl	L10227
 15124                        ;	case SM_CXBORDER:
 15125                        	.line	2693
 15126                        L10235:
 15127                        ;		metric = 1;
 15128                        	.line	2694
 15129 04:418D: A9 01 00     	lda	#$1
 15130 04:4190: 85 09        	sta	<L590+metric_1
 15131                        ;		break;
 15132                        	.line	2695
 15133 04:4192: 82 64 00     	brl	L10227
 15134                        ;	case SM_CYBORDER:
 15135                        	.line	2696
 15136                        L10236:
 15137                        ;		metric = 1;
 15138                        	.line	2697
 15139 04:4195: A9 01 00     	lda	#$1
 15140 04:4198: 85 09        	sta	<L590+metric_1
 15141                        ;		break;
 15142                        	.line	2698
 15143 04:419A: 82 5C 00     	brl	L10227
 15144                        ;	case SM_CXVSCROLL:
 15145                        	.line	2699
 15146                        L10237:
 15147                        ;		metric = FONTH + 1;
 15148                        	.line	2700
 15149 04:419D: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 15150 04:41A1: 85 01        	sta	<R0
 15151 04:41A3: A5 01        	lda	<R0
 15152 04:41A5: 1A           	ina
 15153 04:41A6: 85 09        	sta	<L590+metric_1
 15154                        ;		break;
 15155                        	.line	2701
 15156 04:41A8: 82 4E 00     	brl	L10227
 15157                        ;	case SM_CYHSCROLL:
 15158                        	.line	2702
 15159                        L10238:
 15160                        ;		metric = FONTW + 1;
 15161                        	.line	2703
  Wed Nov 18 2020  8:26                                                Page 294


 15162 04:41AB: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 15163 04:41AF: 85 01        	sta	<R0
 15164 04:41B1: A5 01        	lda	<R0
 15165 04:41B3: 1A           	ina
 15166 04:41B4: 85 09        	sta	<L590+metric_1
 15167                        ;		break;
 15168                        	.line	2704
 15169 04:41B6: 82 40 00     	brl	L10227
 15170                        ;	case SM_CYSMCAPTION:
 15171                        	.line	2705
 15172                        L10239:
 15173                        ;		metric = 10;
 15174                        	.line	2706
 15175 04:41B9: A9 0A 00     	lda	#$a
 15176 04:41BC: 85 09        	sta	<L590+metric_1
 15177                        ;		break;
 15178                        	.line	2707
 15179 04:41BE: 82 38 00     	brl	L10227
 15180                        ;
 15181                        ;	}
 15182                        	.line	2709
 15183                        L10226:
 15184                        	xref	~~~swt
 15185 04:41C1: 22 xx xx xx  	jsl	~~~swt
 15186 04:41C5: 0C 00        	dw	12
 15187 04:41C7: 02 00        	dw	2
 15188 04:41C9: 9C 41        	dw	L10237-1
 15189 04:41CB: 03 00        	dw	3
 15190 04:41CD: AA 41        	dw	L10238-1
 15191 04:41CF: 05 00        	dw	5
 15192 04:41D1: 8C 41        	dw	L10235-1
 15193 04:41D3: 06 00        	dw	6
 15194 04:41D5: 94 41        	dw	L10236-1
 15195 04:41D7: 08 00        	dw	8
 15196 04:41D9: 84 41        	dw	L10234-1
 15197 04:41DB: 10 00        	dw	16
 15198 04:41DD: 64 41        	dw	L10230-1
 15199 04:41DF: 11 00        	dw	17
 15200 04:41E1: 6C 41        	dw	L10231-1
 15201 04:41E3: 20 00        	dw	32
 15202 04:41E5: 74 41        	dw	L10232-1
 15203 04:41E7: 21 00        	dw	33
 15204 04:41E9: 7C 41        	dw	L10233-1
 15205 04:41EB: 33 00        	dw	51
 15206 04:41ED: B8 41        	dw	L10239-1
 15207 04:41EF: 36 00        	dw	54
 15208 04:41F1: 5C 41        	dw	L10229-1
 15209 04:41F3: 37 00        	dw	55
 15210 04:41F5: 3A 41        	dw	L10228-1
 15211 04:41F7: F8 41        	dw	L10227-1
 15212                        L10227:
 15213                        ;
 15214                        ;	return metric;
 15215                        	.line	2711
 15216 04:41F9: A5 09        	lda	<L590+metric_1
 15217                        L592:
 15218 04:41FB: A8           	tay
 15219 04:41FC: A5 0C        	lda	<L589+2
  Wed Nov 18 2020  8:26                                                Page 295


 15220 04:41FE: 85 0E        	sta	<L589+2+2
 15221 04:4200: A5 0B        	lda	<L589+1
 15222 04:4202: 85 0D        	sta	<L589+1+2
 15223 04:4204: 2B           	pld
 15224 04:4205: 3B           	tsc
 15225 04:4206: 18           	clc
 15226 04:4207: 69 0C 00     	adc	#L589+2
 15227 04:420A: 1B           	tcs
 15228 04:420B: 98           	tya
 15229 04:420C: 6B           	rtl
 15230                        ;}
 15231                        	.line	2712
 15232                        	.endblock	2712
 15233             0000000A   L589	equ	10
 15234             00000005   L590	equ	5
 15235 04:420D:              	ends
 15236                        	efunc
 15237                        	.endfunc	2712,5,10
 15238                        	.line	2712
 15239                        ;
 15240                        ;void k_text_callback(PWINDOW textWindow)
 15241                        ;{
 15242                        	.line	2714
 15243                        	.line	2715
 15244                        	WINMAN
 15245                        	xdef	~~k_text_callback
 15246                        	func
 15247                        	.function	2715
 15248                        ~~k_text_callback:
 15249                        	longa	on
 15250                        	longi	on
 15251 04:420D: 3B           	tsc
 15252 04:420E: 38           	sec
 15253 04:420F: E9 04 00     	sbc	#L593
 15254 04:4212: 1B           	tcs
 15255 04:4213: 0B           	phd
 15256 04:4214: 5B           	tcd
 15257             00000004   textWindow_0	set	4
 15258                        	.block	2715
 15259                        ;	k_debug_message("k_text_callback:clicked:",textW
                    indow->win_class);
 15260                        	.sym	textWindow,4,138,6,32,24
 15261                        	.line	2716
 15262 04:4215: 18           	clc
 15263 04:4216: A9 46 00     	lda	#$46
 15264 04:4219: 65 08        	adc	<L593+textWindow_0
 15265 04:421B: 85 01        	sta	<R0
 15266 04:421D: A9 00 00     	lda	#$0
 15267 04:4220: 65 0A        	adc	<L593+textWindow_0+2
 15268 04:4222: 85 03        	sta	<R0+2
 15269 04:4224: D4 03        	pei	<R0+2
 15270 04:4226: D4 01        	pei	<R0
 15271 04:4228: F4 xx xx     	pea	#^L588
 15272 04:422B: F4 xx xx     	pea	#<L588
 15273 04:422E: 22 xx xx xx  	jsl	~~k_debug_message
 15274                        ;	//k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 15275                        ;	return;
 15276                        	.line	2718
  Wed Nov 18 2020  8:26                                                Page 296


 15277                        L596:
 15278 04:4232: A5 06        	lda	<L593+2
 15279 04:4234: 85 0A        	sta	<L593+2+4
 15280 04:4236: A5 05        	lda	<L593+1
 15281 04:4238: 85 09        	sta	<L593+1+4
 15282 04:423A: 2B           	pld
 15283 04:423B: 3B           	tsc
 15284 04:423C: 18           	clc
 15285 04:423D: 69 08 00     	adc	#L593+4
 15286 04:4240: 1B           	tcs
 15287 04:4241: 6B           	rtl
 15288                        ;}
 15289                        	.line	2719
 15290                        	.endblock	2719
 15291             00000004   L593	equ	4
 15292             00000005   L594	equ	5
 15293 04:4242:              	ends
 15294                        	efunc
 15295                        	.endfunc	2719,5,4
 15296                        	.line	2719
 15297                        	data
 15298                        L588:
 15299 00:0B5B: 6B 5F 74 65  	db	$6B,$5F,$74,$65,$78,$74,$5F,$63,$61,$6C,
                    $6C,$62,$61,$63,$6B
       00:0B5F: 78 74 5F 63 
       00:0B63: 61 6C 6C 62 
       00:0B67: 61 63 6B 
 15300 00:0B6A: 3A 63 6C 69  	db	$3A,$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0B6E: 63 6B 65 64 
       00:0B72: 3A 00 
 15301 00:0B74:              	ends
 15302                        ;
 15303                        ;
 15304                        ;int k_render_text(HWND pParent,LPCSTR clickableTe
                    xt,int cx,int cy,char color,OBJECTCLICKED callback)
 15305                        ;{
 15306                        	.line	2722
 15307                        	.line	2723
 15308                        	WINMAN
 15309                        	xdef	~~k_render_text
 15310                        	func
 15311                        	.function	2723
 15312                        ~~k_render_text:
 15313                        	longa	on
 15314                        	longi	on
 15315 04:4242: 3B           	tsc
 15316 04:4243: 38           	sec
 15317 04:4244: E9 0C 00     	sbc	#L598
 15318 04:4247: 1B           	tcs
 15319 04:4248: 0B           	phd
 15320 04:4249: 5B           	tcd
 15321             00000004   pParent_0	set	4
 15322             00000008   clickableText_0	set	8
 15323             0000000C   cx_0	set	12
 15324             0000000E   cy_0	set	14
 15325             00000010   color_0	set	16
 15326             00000012   callback_0	set	18
 15327                        	.block	2723
  Wed Nov 18 2020  8:26                                                Page 297


 15328                        ;	PCLICKDETECTED pcd = NULL;
 15329                        ;	int pos = 0;
 15330                        ;	int retCode = 0;
 15331                        ;
 15332                        ;	pos = k_draw_text_point(clickableText,cx,cy,colo
                    r);
 15333             00000000   pcd_1	set	0
 15334             00000004   pos_1	set	4
 15335             00000006   retCode_1	set	6
 15336                        	.sym	pcd,0,138,1,32,59
 15337                        	.sym	pos,4,5,1,16
 15338                        	.sym	retCode,6,5,1,16
 15339                        	.sym	pParent,4,129,6,32
 15340                        	.sym	clickableText,8,142,6,32
 15341                        	.sym	cx,12,5,6,16
 15342                        	.sym	cy,14,5,6,16
 15343                        	.sym	color,16,14,6,8
 15344                        	.sym	callback,18,641,6,32
 15345 04:424A: 64 05        	stz	<L599+pcd_1
 15346 04:424C: 64 07        	stz	<L599+pcd_1+2
 15347 04:424E: 64 09        	stz	<L599+pos_1
 15348 04:4250: 64 0B        	stz	<L599+retCode_1
 15349                        	.line	2728
 15350 04:4252: D4 1C        	pei	<L598+color_0
 15351 04:4254: D4 1A        	pei	<L598+cy_0
 15352 04:4256: D4 18        	pei	<L598+cx_0
 15353 04:4258: D4 16        	pei	<L598+clickableText_0+2
 15354 04:425A: D4 14        	pei	<L598+clickableText_0
 15355 04:425C: 22 xx xx xx  	jsl	~~k_draw_text_point
 15356 04:4260: 85 09        	sta	<L599+pos_1
 15357                        ;
 15358                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 15359                        	.line	2730
 15360 04:4262: F4 08 00     	pea	#<$8
 15361 04:4265: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 15362 04:4269: 85 05        	sta	<L599+pcd_1
 15363 04:426B: 86 07        	stx	<L599+pcd_1+2
 15364                        ;	if(pcd)
 15365                        	.line	2731
 15366                        ;	{
 15367 04:426D: A5 05        	lda	<L599+pcd_1
 15368 04:426F: 05 07        	ora	<L599+pcd_1+2
 15369 04:4271: D0 03        	bne	L601
 15370 04:4273: 82 8C 00     	brl	L10240
 15371                        L601:
 15372                        	.line	2732
 15373                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,pos - cx,"text","text",NULL);
 15374                        	.line	2733
 15375 04:4276: F4 00 00     	pea	#^$0
 15376 04:4279: F4 00 00     	pea	#<$0
 15377 04:427C: F4 xx xx     	pea	#^L597+5
 15378 04:427F: F4 xx xx     	pea	#<L597+5
 15379 04:4282: F4 xx xx     	pea	#^L597
 15380 04:4285: F4 xx xx     	pea	#<L597
 15381 04:4288: 38           	sec
 15382 04:4289: A5 09        	lda	<L599+pos_1
  Wed Nov 18 2020  8:26                                                Page 298


 15383 04:428B: E5 18        	sbc	<L598+cx_0
 15384 04:428D: 48           	pha
 15385 04:428E: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 15386 04:4292: 48           	pha
 15387 04:4293: D4 1A        	pei	<L598+cy_0
 15388 04:4295: D4 18        	pei	<L598+cx_0
 15389 04:4297: 22 xx xx xx  	jsl	~~k_create_ui_window_class
 15390 04:429B: 85 01        	sta	<R0
 15391 04:429D: 86 03        	stx	<R0+2
 15392 04:429F: A5 01        	lda	<R0
 15393 04:42A1: 87 05        	sta	[<L599+pcd_1]
 15394 04:42A3: A5 03        	lda	<R0+2
 15395 04:42A5: A0 02 00     	ldy	#$2
 15396 04:42A8: 97 05        	sta	[<L599+pcd_1],Y
 15397                        ;		pcd->handler = callback;
 15398                        	.line	2734
 15399 04:42AA: A5 1E        	lda	<L598+callback_0
 15400 04:42AC: A0 04 00     	ldy	#$4
 15401 04:42AF: 97 05        	sta	[<L599+pcd_1],Y
 15402 04:42B1: A5 20        	lda	<L598+callback_0+2
 15403 04:42B3: A0 06 00     	ldy	#$6
 15404 04:42B6: 97 05        	sta	[<L599+pcd_1],Y
 15405                        ;		//k_add_window_hit_node(pcd);
 15406                        ;
 15407                        ;		if(pParent)
 15408                        	.line	2737
 15409                        ;			k_attach_mouse_detection_local(k
                    _getWindowFromHandle(pParent)->pChildHitList,pcd->window ,k_
                    update_hover_location);
 15410 04:42B8: A5 10        	lda	<L598+pParent_0
 15411 04:42BA: 05 12        	ora	<L598+pParent_0+2
 15412 04:42BC: D0 03        	bne	L602
 15413 04:42BE: 82 2E 00     	brl	L10241
 15414                        L602:
 15415                        	.line	2738
 15416 04:42C1: F4 04 00     	pea	#^~~k_update_hover_location
 15417 04:42C4: F4 D2 31     	pea	#<~~k_update_hover_location
 15418 04:42C7: A0 02 00     	ldy	#$2
 15419 04:42CA: B7 05        	lda	[<L599+pcd_1],Y
 15420 04:42CC: 48           	pha
 15421 04:42CD: A7 05        	lda	[<L599+pcd_1]
 15422 04:42CF: 48           	pha
 15423 04:42D0: D4 12        	pei	<L598+pParent_0+2
 15424 04:42D2: D4 10        	pei	<L598+pParent_0
 15425 04:42D4: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 15426 04:42D8: 85 01        	sta	<R0
 15427 04:42DA: 86 03        	stx	<R0+2
 15428 04:42DC: A0 8E 00     	ldy	#$8e
 15429 04:42DF: B7 01        	lda	[<R0],Y
 15430 04:42E1: 48           	pha
 15431 04:42E2: A0 8C 00     	ldy	#$8c
 15432 04:42E5: B7 01        	lda	[<R0],Y
 15433 04:42E7: 48           	pha
 15434 04:42E8: 22 4C 34 04  	jsl	~~k_attach_mouse_detection_local
 15435                        ;		else
 15436 04:42EC: 82 13 00     	brl	L10242
 15437                        L10241:
 15438                        ;			k_attach_mouse_detection(pcd->wi
  Wed Nov 18 2020  8:26                                                Page 299


                    ndow,k_update_hover_location);
 15439                        	.line	2740
 15440 04:42EF: F4 04 00     	pea	#^~~k_update_hover_location
 15441 04:42F2: F4 D2 31     	pea	#<~~k_update_hover_location
 15442 04:42F5: A0 02 00     	ldy	#$2
 15443 04:42F8: B7 05        	lda	[<L599+pcd_1],Y
 15444 04:42FA: 48           	pha
 15445 04:42FB: A7 05        	lda	[<L599+pcd_1]
 15446 04:42FD: 48           	pha
 15447 04:42FE: 22 A4 33 04  	jsl	~~k_attach_mouse_detection
 15448                        L10242:
 15449                        ;	}
 15450                        	.line	2741
 15451                        ;
 15452                        ;	return retCode;
 15453                        L10240:
 15454                        	.line	2743
 15455 04:4302: A5 0B        	lda	<L599+retCode_1
 15456                        L603:
 15457 04:4304: A8           	tay
 15458 04:4305: A5 0E        	lda	<L598+2
 15459 04:4307: 85 20        	sta	<L598+2+18
 15460 04:4309: A5 0D        	lda	<L598+1
 15461 04:430B: 85 1F        	sta	<L598+1+18
 15462 04:430D: 2B           	pld
 15463 04:430E: 3B           	tsc
 15464 04:430F: 18           	clc
 15465 04:4310: 69 1E 00     	adc	#L598+18
 15466 04:4313: 1B           	tcs
 15467 04:4314: 98           	tya
 15468 04:4315: 6B           	rtl
 15469                        ;}
 15470                        	.line	2744
 15471                        	.endblock	2744
 15472             0000000C   L598	equ	12
 15473             00000005   L599	equ	5
 15474 04:4316:              	ends
 15475                        	efunc
 15476                        	.endfunc	2744,5,12
 15477                        	.line	2744
 15478                        	data
 15479                        L597:
 15480 00:0B74: 74 65 78 74  	db	$74,$65,$78,$74,$00,$74,$65,$78,$74,$00
       00:0B78: 00 74 65 78 
       00:0B7C: 74 00 
 15481 00:0B7E:              	ends
 15482                        ;
 15483                        ;BOOL _k_user_send_child_message(HWND hParentWindo
                    w,MSGTYPE type,LPVOID data,UINT size)
 15484                        ;{
 15485                        	.line	2746
 15486                        	.line	2747
 15487                        	WINMAN
 15488                        	xdef	~~_k_user_send_child_message
 15489                        	func
 15490                        	.function	2747
 15491                        ~~_k_user_send_child_message:
 15492                        	longa	on
  Wed Nov 18 2020  8:26                                                Page 300


 15493                        	longi	on
 15494 04:4316: 3B           	tsc
 15495 04:4317: 38           	sec
 15496 04:4318: E9 0C 00     	sbc	#L605
 15497 04:431B: 1B           	tcs
 15498 04:431C: 0B           	phd
 15499 04:431D: 5B           	tcd
 15500             00000004   hParentWindow_0	set	4
 15501             00000008   type_0	set	8
 15502             0000000A   data_0	set	10
 15503             0000000E   size_0	set	14
 15504                        	.block	2747
 15505                        ;
 15506                        ;	EACHCHILD_MSG 	msgData;
 15507                        ;	PWINDOW pWin = k_getWindowFromHandle(hParentWind
                    ow);
 15508                        ;
 15509                        ;	if(pWin)
 15510             00000000   msgData_1	set	0
 15511             00000008   pWin_1	set	8
 15512                        	.sym	msgData,0,10,1,64,61
 15513                        	.sym	pWin,8,138,1,32,24
 15514                        	.sym	hParentWindow,4,129,6,32
 15515                        	.sym	type,8,16,6,16
 15516                        	.sym	data,10,129,6,32
 15517                        	.sym	size,14,16,6,16
 15518 04:431E: D4 12        	pei	<L605+hParentWindow_0+2
 15519 04:4320: D4 10        	pei	<L605+hParentWindow_0
 15520 04:4322: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 15521 04:4326: 85 09        	sta	<L606+pWin_1
 15522 04:4328: 86 0B        	stx	<L606+pWin_1+2
 15523                        	.line	2752
 15524                        ;	{
 15525 04:432A: A5 09        	lda	<L606+pWin_1
 15526 04:432C: 05 0B        	ora	<L606+pWin_1+2
 15527 04:432E: D0 03        	bne	L608
 15528 04:4330: 82 2F 00     	brl	L10243
 15529                        L608:
 15530                        	.line	2753
 15531                        ;		msgData.msgType 	= type;
 15532                        	.line	2754
 15533 04:4333: A5 14        	lda	<L605+type_0
 15534 04:4335: 85 01        	sta	<L606+msgData_1
 15535                        ;		msgData.msgData 	= data;
 15536                        	.line	2755
 15537 04:4337: A5 16        	lda	<L605+data_0
 15538 04:4339: 85 03        	sta	<L606+msgData_1+2
 15539 04:433B: A5 18        	lda	<L605+data_0+2
 15540 04:433D: 85 05        	sta	<L606+msgData_1+4
 15541                        ;		msgData.dataSize 	= size;
 15542                        	.line	2756
 15543 04:433F: A5 1A        	lda	<L605+size_0
 15544 04:4341: 85 07        	sta	<L606+msgData_1+6
 15545                        ;
 15546                        ;		k_nodelist_foreach_listdata(pWin->pChild
                    Windows,
 15547                        	.line	2758
 15548                        ;							
  Wed Nov 18 2020  8:26                                                Page 301


                    		(LPVOID)&msgData,
 15549                        ;							
                    		k_iterate_children);
 15550 04:4343: F4 04 00     	pea	#^~~k_iterate_children
 15551 04:4346: F4 77 43     	pea	#<~~k_iterate_children
 15552 04:4349: F4 00 00     	pea	#0
 15553 04:434C: 18           	clc
 15554 04:434D: 7B           	tdc
 15555 04:434E: 69 01 00     	adc	#<L606+msgData_1
 15556 04:4351: 48           	pha
 15557 04:4352: A0 8A 00     	ldy	#$8a
 15558 04:4355: B7 09        	lda	[<L606+pWin_1],Y
 15559 04:4357: 48           	pha
 15560 04:4358: A0 88 00     	ldy	#$88
 15561 04:435B: B7 09        	lda	[<L606+pWin_1],Y
 15562 04:435D: 48           	pha
 15563 04:435E: 22 xx xx xx  	jsl	~~k_nodelist_foreach_listdata
 15564                        ;	}
 15565                        	.line	2761
 15566                        ;
 15567                        ;	return TRUE;
 15568                        L10243:
 15569                        	.line	2763
 15570 04:4362: A9 01 00     	lda	#$1
 15571                        L609:
 15572 04:4365: A8           	tay
 15573 04:4366: A5 0E        	lda	<L605+2
 15574 04:4368: 85 1A        	sta	<L605+2+12
 15575 04:436A: A5 0D        	lda	<L605+1
 15576 04:436C: 85 19        	sta	<L605+1+12
 15577 04:436E: 2B           	pld
 15578 04:436F: 3B           	tsc
 15579 04:4370: 18           	clc
 15580 04:4371: 69 18 00     	adc	#L605+12
 15581 04:4374: 1B           	tcs
 15582 04:4375: 98           	tya
 15583 04:4376: 6B           	rtl
 15584                        ;}
 15585                        	.line	2764
 15586                        	.endblock	2764
 15587             0000000C   L605	equ	12
 15588             00000001   L606	equ	1
 15589 04:4377:              	ends
 15590                        	efunc
 15591                        	.endfunc	2764,1,12
 15592                        	.line	2764
 15593                        ;
 15594                        ;
 15595                        ;void k_iterate_children(LPVOID ctx,LPVOID data)
 15596                        ;{
 15597                        	.line	2767
 15598                        	.line	2768
 15599                        	WINMAN
 15600                        	xdef	~~k_iterate_children
 15601                        	func
 15602                        	.function	2768
 15603                        ~~k_iterate_children:
 15604                        	longa	on
  Wed Nov 18 2020  8:26                                                Page 302


 15605                        	longi	on
 15606 04:4377: 3B           	tsc
 15607 04:4378: 38           	sec
 15608 04:4379: E9 0C 00     	sbc	#L610
 15609 04:437C: 1B           	tcs
 15610 04:437D: 0B           	phd
 15611 04:437E: 5B           	tcd
 15612             00000004   ctx_0	set	4
 15613             00000008   data_0	set	8
 15614                        	.block	2768
 15615                        ;	PWINDOW 		pWin   = ((PWINDOW)data)
                    ;
 15616                        ;	PEACHCHILD_MSG 	pChildMsg = (PEACHCHILD_MSG)ctx;
 15617                        ;
 15618                        ;	if(pWin && pChildMsg)
 15619             00000000   pWin_1	set	0
 15620             00000004   pChildMsg_1	set	4
 15621                        	.sym	pWin,0,138,1,32,24
 15622                        	.sym	pChildMsg,4,138,1,32,61
 15623                        	.sym	ctx,4,129,6,32
 15624                        	.sym	data,8,129,6,32
 15625 04:437F: A5 14        	lda	<L610+data_0
 15626 04:4381: 85 05        	sta	<L611+pWin_1
 15627 04:4383: A5 16        	lda	<L610+data_0+2
 15628 04:4385: 85 07        	sta	<L611+pWin_1+2
 15629 04:4387: A5 10        	lda	<L610+ctx_0
 15630 04:4389: 85 09        	sta	<L611+pChildMsg_1
 15631 04:438B: A5 12        	lda	<L610+ctx_0+2
 15632 04:438D: 85 0B        	sta	<L611+pChildMsg_1+2
 15633                        	.line	2772
 15634                        ;	{
 15635 04:438F: A5 05        	lda	<L611+pWin_1
 15636 04:4391: 05 07        	ora	<L611+pWin_1+2
 15637 04:4393: D0 03        	bne	L613
 15638 04:4395: 82 30 00     	brl	L10244
 15639                        L613:
 15640 04:4398: A5 09        	lda	<L611+pChildMsg_1
 15641 04:439A: 05 0B        	ora	<L611+pChildMsg_1+2
 15642 04:439C: D0 03        	bne	L614
 15643 04:439E: 82 27 00     	brl	L10244
 15644                        L614:
 15645                        	.line	2773
 15646                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),pChildMsg->msgType,pChildMsg->msgData,pChildMsg->d
                    ataSize);
 15647                        	.line	2774
 15648 04:43A1: A0 06 00     	ldy	#$6
 15649 04:43A4: B7 09        	lda	[<L611+pChildMsg_1],Y
 15650 04:43A6: 48           	pha
 15651 04:43A7: A0 04 00     	ldy	#$4
 15652 04:43AA: B7 09        	lda	[<L611+pChildMsg_1],Y
 15653 04:43AC: 48           	pha
 15654 04:43AD: A0 02 00     	ldy	#$2
 15655 04:43B0: B7 09        	lda	[<L611+pChildMsg_1],Y
 15656 04:43B2: 48           	pha
 15657 04:43B3: A7 09        	lda	[<L611+pChildMsg_1]
 15658 04:43B5: 48           	pha
 15659 04:43B6: D4 07        	pei	<L611+pWin_1+2
  Wed Nov 18 2020  8:26                                                Page 303


 15660 04:43B8: D4 05        	pei	<L611+pWin_1
 15661 04:43BA: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 15662 04:43BE: 85 01        	sta	<R0
 15663 04:43C0: 86 03        	stx	<R0+2
 15664 04:43C2: DA           	phx
 15665 04:43C3: 48           	pha
 15666 04:43C4: 22 xx xx xx  	jsl	~~k_send_window_message
 15667                        ;	}
 15668                        	.line	2775
 15669                        ;}
 15670                        L10244:
 15671                        	.line	2776
 15672                        L615:
 15673 04:43C8: A5 0E        	lda	<L610+2
 15674 04:43CA: 85 16        	sta	<L610+2+8
 15675 04:43CC: A5 0D        	lda	<L610+1
 15676 04:43CE: 85 15        	sta	<L610+1+8
 15677 04:43D0: 2B           	pld
 15678 04:43D1: 3B           	tsc
 15679 04:43D2: 18           	clc
 15680 04:43D3: 69 14 00     	adc	#L610+8
 15681 04:43D6: 1B           	tcs
 15682 04:43D7: 6B           	rtl
 15683                        	.endblock	2776
 15684             0000000C   L610	equ	12
 15685             00000005   L611	equ	5
 15686 04:43D8:              	ends
 15687                        	efunc
 15688                        	.endfunc	2776,5,12
 15689                        	.line	2776
 15690                        ;
 15691                        ;
 15692                        ;void debug_window_node(LPVOID ctx,LPVOID data)
 15693                        ;{
 15694                        	.line	2779
 15695                        	.line	2780
 15696                        	WINMAN
 15697                        	xdef	~~debug_window_node
 15698                        	func
 15699                        	.function	2780
 15700                        ~~debug_window_node:
 15701                        	longa	on
 15702                        	longi	on
 15703 04:43D8: 3B           	tsc
 15704 04:43D9: 38           	sec
 15705 04:43DA: E9 08 00     	sbc	#L616
 15706 04:43DD: 1B           	tcs
 15707 04:43DE: 0B           	phd
 15708 04:43DF: 5B           	tcd
 15709             00000004   ctx_0	set	4
 15710             00000008   data_0	set	8
 15711                        	.block	2780
 15712                        ;	PWINDOW pWin = (PWINDOW)data;
 15713                        ;	if(pWin)
 15714             00000000   pWin_1	set	0
 15715                        	.sym	pWin,0,138,1,32,24
 15716                        	.sym	ctx,4,129,6,32
 15717                        	.sym	data,8,129,6,32
  Wed Nov 18 2020  8:26                                                Page 304


 15718 04:43E0: A5 10        	lda	<L616+data_0
 15719 04:43E2: 85 05        	sta	<L617+pWin_1
 15720 04:43E4: A5 12        	lda	<L616+data_0+2
 15721 04:43E6: 85 07        	sta	<L617+pWin_1+2
 15722                        	.line	2782
 15723                        ;	{
 15724 04:43E8: A5 05        	lda	<L617+pWin_1
 15725 04:43EA: 05 07        	ora	<L617+pWin_1+2
 15726 04:43EC: D0 03        	bne	L619
 15727 04:43EE: 82 F4 00     	brl	L10245
 15728                        L619:
 15729                        	.line	2783
 15730                        ;		pWin->win_title[31] = 0;
 15731                        	.line	2784
 15732 04:43F1: E2 20        	sep	#$20
 15733                        	longa	off
 15734 04:43F3: A9 00        	lda	#$0
 15735 04:43F5: A0 43 00     	ldy	#$43
 15736 04:43F8: 97 05        	sta	[<L617+pWin_1],Y
 15737 04:43FA: C2 20        	rep	#$20
 15738                        	longa	on
 15739                        ;		pWin->win_class[15] = 0;
 15740                        	.line	2785
 15741 04:43FC: E2 20        	sep	#$20
 15742                        	longa	off
 15743 04:43FE: A9 00        	lda	#$0
 15744 04:4400: A0 55 00     	ldy	#$55
 15745 04:4403: 97 05        	sta	[<L617+pWin_1],Y
 15746 04:4405: C2 20        	rep	#$20
 15747                        	longa	on
 15748                        ;		k_debug_strings("      WINDOW TITLE:",pW
                    in->win_title);
 15749                        	.line	2786
 15750 04:4407: 18           	clc
 15751 04:4408: A9 24 00     	lda	#$24
 15752 04:440B: 65 05        	adc	<L617+pWin_1
 15753 04:440D: 85 01        	sta	<R0
 15754 04:440F: A9 00 00     	lda	#$0
 15755 04:4412: 65 07        	adc	<L617+pWin_1+2
 15756 04:4414: 85 03        	sta	<R0+2
 15757 04:4416: D4 03        	pei	<R0+2
 15758 04:4418: D4 01        	pei	<R0
 15759 04:441A: F4 xx xx     	pea	#^L604
 15760 04:441D: F4 xx xx     	pea	#<L604
 15761 04:4420: 22 xx xx xx  	jsl	~~k_debug_strings
 15762                        ;		k_debug_pointer("      WINDOW CLASS:",pW
                    in->win_class);
 15763                        	.line	2787
 15764 04:4424: 18           	clc
 15765 04:4425: A9 46 00     	lda	#$46
 15766 04:4428: 65 05        	adc	<L617+pWin_1
 15767 04:442A: 85 01        	sta	<R0
 15768 04:442C: A9 00 00     	lda	#$0
 15769 04:442F: 65 07        	adc	<L617+pWin_1+2
 15770 04:4431: 85 03        	sta	<R0+2
 15771 04:4433: D4 03        	pei	<R0+2
 15772 04:4435: D4 01        	pei	<R0
 15773 04:4437: F4 xx xx     	pea	#^L604+20
  Wed Nov 18 2020  8:26                                                Page 305


 15774 04:443A: F4 xx xx     	pea	#<L604+20
 15775 04:443D: 22 xx xx xx  	jsl	~~k_debug_pointer
 15776                        ;		k_debug_long   ("      WINDOW   PID:",pW
                    in->procid);
 15777                        	.line	2788
 15778 04:4441: A0 7A 00     	ldy	#$7a
 15779 04:4444: B7 05        	lda	[<L617+pWin_1],Y
 15780 04:4446: 48           	pha
 15781 04:4447: A0 78 00     	ldy	#$78
 15782 04:444A: B7 05        	lda	[<L617+pWin_1],Y
 15783 04:444C: 48           	pha
 15784 04:444D: F4 xx xx     	pea	#^L604+40
 15785 04:4450: F4 xx xx     	pea	#<L604+40
 15786 04:4453: 22 xx xx xx  	jsl	~~k_debug_long
 15787                        ;		k_debug_pointer("      WINDOW   PTR:",pW
                    in);
 15788                        	.line	2789
 15789 04:4457: D4 07        	pei	<L617+pWin_1+2
 15790 04:4459: D4 05        	pei	<L617+pWin_1
 15791 04:445B: F4 xx xx     	pea	#^L604+60
 15792 04:445E: F4 xx xx     	pea	#<L604+60
 15793 04:4461: 22 xx xx xx  	jsl	~~k_debug_pointer
 15794                        ;		k_debug_pointer("      WINDOW  PPTR:",pW
                    in->pParentWindow);
 15795                        	.line	2790
 15796 04:4465: A0 82 00     	ldy	#$82
 15797 04:4468: B7 05        	lda	[<L617+pWin_1],Y
 15798 04:446A: 48           	pha
 15799 04:446B: A0 80 00     	ldy	#$80
 15800 04:446E: B7 05        	lda	[<L617+pWin_1],Y
 15801 04:4470: 48           	pha
 15802 04:4471: F4 xx xx     	pea	#^L604+80
 15803 04:4474: F4 xx xx     	pea	#<L604+80
 15804 04:4477: 22 xx xx xx  	jsl	~~k_debug_pointer
 15805                        ;		k_debug_pointer("      WINDOW  CPTR:",pW
                    in->pChildWindows);
 15806                        	.line	2791
 15807 04:447B: A0 8A 00     	ldy	#$8a
 15808 04:447E: B7 05        	lda	[<L617+pWin_1],Y
 15809 04:4480: 48           	pha
 15810 04:4481: A0 88 00     	ldy	#$88
 15811 04:4484: B7 05        	lda	[<L617+pWin_1],Y
 15812 04:4486: 48           	pha
 15813 04:4487: F4 xx xx     	pea	#^L604+100
 15814 04:448A: F4 xx xx     	pea	#<L604+100
 15815 04:448D: 22 xx xx xx  	jsl	~~k_debug_pointer
 15816                        ;		k_debug_pointer("      WINDOW  HPTR:",pW
                    in->pChildHitList);
 15817                        	.line	2792
 15818 04:4491: A0 8E 00     	ldy	#$8e
 15819 04:4494: B7 05        	lda	[<L617+pWin_1],Y
 15820 04:4496: 48           	pha
 15821 04:4497: A0 8C 00     	ldy	#$8c
 15822 04:449A: B7 05        	lda	[<L617+pWin_1],Y
 15823 04:449C: 48           	pha
 15824 04:449D: F4 xx xx     	pea	#^L604+120
 15825 04:44A0: F4 xx xx     	pea	#<L604+120
 15826 04:44A3: 22 xx xx xx  	jsl	~~k_debug_pointer
  Wed Nov 18 2020  8:26                                                Page 306


 15827                        ;		k_debug_integer("      WINDOW     X:",pW
                    in->win_x);
 15828                        	.line	2793
 15829 04:44A7: A0 08 00     	ldy	#$8
 15830 04:44AA: B7 05        	lda	[<L617+pWin_1],Y
 15831 04:44AC: 48           	pha
 15832 04:44AD: F4 xx xx     	pea	#^L604+140
 15833 04:44B0: F4 xx xx     	pea	#<L604+140
 15834 04:44B3: 22 xx xx xx  	jsl	~~k_debug_integer
 15835                        ;		k_debug_integer("      WINDOW     Y:",pW
                    in->win_y);
 15836                        	.line	2794
 15837 04:44B7: A0 0A 00     	ldy	#$a
 15838 04:44BA: B7 05        	lda	[<L617+pWin_1],Y
 15839 04:44BC: 48           	pha
 15840 04:44BD: F4 xx xx     	pea	#^L604+160
 15841 04:44C0: F4 xx xx     	pea	#<L604+160
 15842 04:44C3: 22 xx xx xx  	jsl	~~k_debug_integer
 15843                        ;
 15844                        ;		k_debug_integer("      WINDOW     Z:",((
                    PCLICKABLE)pWin->clickable)->z);
 15845                        	.line	2796
 15846 04:44C7: A0 20 00     	ldy	#$20
 15847 04:44CA: B7 05        	lda	[<L617+pWin_1],Y
 15848 04:44CC: 85 01        	sta	<R0
 15849 04:44CE: A0 22 00     	ldy	#$22
 15850 04:44D1: B7 05        	lda	[<L617+pWin_1],Y
 15851 04:44D3: 85 03        	sta	<R0+2
 15852 04:44D5: A0 08 00     	ldy	#$8
 15853 04:44D8: B7 01        	lda	[<R0],Y
 15854 04:44DA: 48           	pha
 15855 04:44DB: F4 xx xx     	pea	#^L604+180
 15856 04:44DE: F4 xx xx     	pea	#<L604+180
 15857 04:44E1: 22 xx xx xx  	jsl	~~k_debug_integer
 15858                        ;	}
 15859                        	.line	2797
 15860                        ;}
 15861                        L10245:
 15862                        	.line	2798
 15863                        L620:
 15864 04:44E5: A5 0A        	lda	<L616+2
 15865 04:44E7: 85 12        	sta	<L616+2+8
 15866 04:44E9: A5 09        	lda	<L616+1
 15867 04:44EB: 85 11        	sta	<L616+1+8
 15868 04:44ED: 2B           	pld
 15869 04:44EE: 3B           	tsc
 15870 04:44EF: 18           	clc
 15871 04:44F0: 69 10 00     	adc	#L616+8
 15872 04:44F3: 1B           	tcs
 15873 04:44F4: 6B           	rtl
 15874                        	.endblock	2798
 15875             00000008   L616	equ	8
 15876             00000005   L617	equ	5
 15877 04:44F5:              	ends
 15878                        	efunc
 15879                        	.endfunc	2798,5,8
 15880                        	.line	2798
 15881                        	data
  Wed Nov 18 2020  8:26                                                Page 307


 15882                        L604:
 15883 00:0B7E: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$54,$49
       00:0B82: 20 20 57 49 
       00:0B86: 4E 44 4F 57 
       00:0B8A: 20 54 49 
 15884 00:0B8D: 54 4C 45 3A  	db	$54,$4C,$45,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0B91: 00 20 20 20 
       00:0B95: 20 20 20 57 
       00:0B99: 49 4E 44 
 15885 00:0B9C: 4F 57 20 43  	db	$4F,$57,$20,$43,$4C,$41,$53,$53,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0BA0: 4C 41 53 53 
       00:0BA4: 3A 00 20 20 
       00:0BA8: 20 20 20 
 15886 00:0BAB: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $50,$49,$44,$3A,$00
       00:0BAF: 44 4F 57 20 
       00:0BB3: 20 20 50 49 
       00:0BB7: 44 3A 00 
 15887 00:0BBA: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0BBE: 20 20 57 49 
       00:0BC2: 4E 44 4F 57 
       00:0BC6: 20 20 20 
 15888 00:0BC9: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0BCD: 00 20 20 20 
       00:0BD1: 20 20 20 57 
       00:0BD5: 49 4E 44 
 15889 00:0BD8: 4F 57 20 20  	db	$4F,$57,$20,$20,$50,$50,$54,$52,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0BDC: 50 50 54 52 
       00:0BE0: 3A 00 20 20 
       00:0BE4: 20 20 20 
 15890 00:0BE7: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$43,
                    $50,$54,$52,$3A,$00
       00:0BEB: 44 4F 57 20 
       00:0BEF: 20 43 50 54 
       00:0BF3: 52 3A 00 
 15891 00:0BF6: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$48
       00:0BFA: 20 20 57 49 
       00:0BFE: 4E 44 4F 57 
       00:0C02: 20 20 48 
 15892 00:0C05: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0C09: 00 20 20 20 
       00:0C0D: 20 20 20 57 
       00:0C11: 49 4E 44 
 15893 00:0C14: 4F 57 20 20  	db	$4F,$57,$20,$20,$20,$20,$20,$58,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0C18: 20 20 20 58 
       00:0C1C: 3A 00 20 20 
       00:0C20: 20 20 20 
 15894 00:0C23: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $20,$20,$59,$3A,$00
  Wed Nov 18 2020  8:26                                                Page 308


       00:0C27: 44 4F 57 20 
       00:0C2B: 20 20 20 20 
       00:0C2F: 59 3A 00 
 15895 00:0C32: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0C36: 20 20 57 49 
       00:0C3A: 4E 44 4F 57 
       00:0C3E: 20 20 20 
 15896 00:0C41: 20 20 5A 3A  	db	$20,$20,$5A,$3A,$00
       00:0C45: 00 
 15897 00:0C46:              	ends
 15898                        ;
 15899                        ;void debug_clickable_node(LPVOID ctx,LPVOID data)
 15900                        ;{
 15901                        	.line	2800
 15902                        	.line	2801
 15903                        	WINMAN
 15904                        	xdef	~~debug_clickable_node
 15905                        	func
 15906                        	.function	2801
 15907                        ~~debug_clickable_node:
 15908                        	longa	on
 15909                        	longi	on
 15910 04:44F5: 3B           	tsc
 15911 04:44F6: 38           	sec
 15912 04:44F7: E9 0C 00     	sbc	#L622
 15913 04:44FA: 1B           	tcs
 15914 04:44FB: 0B           	phd
 15915 04:44FC: 5B           	tcd
 15916             00000004   ctx_0	set	4
 15917             00000008   data_0	set	8
 15918                        	.block	2801
 15919                        ;	PCLICKDETECTED pclickable = ((PCLICKDETECTED)dat
                    a);
 15920                        ;	if(pclickable)
 15921             00000000   pclickable_1	set	0
 15922                        	.sym	pclickable,0,138,1,32,59
 15923                        	.sym	ctx,4,129,6,32
 15924                        	.sym	data,8,129,6,32
 15925 04:44FD: A5 14        	lda	<L622+data_0
 15926 04:44FF: 85 05        	sta	<L623+pclickable_1
 15927 04:4501: A5 16        	lda	<L622+data_0+2
 15928 04:4503: 85 07        	sta	<L623+pclickable_1+2
 15929                        	.line	2803
 15930                        ;	{
 15931 04:4505: A5 05        	lda	<L623+pclickable_1
 15932 04:4507: 05 07        	ora	<L623+pclickable_1+2
 15933 04:4509: D0 03        	bne	L625
 15934 04:450B: 82 08 01     	brl	L10246
 15935                        L625:
 15936                        	.line	2804
 15937                        ;		PWINDOW pWin = pclickable->window;
 15938                        ;		if(pWin)
 15939                        	.block	2806
 15940             00000004   pWin_2	set	4
 15941                        	.sym	pWin,4,138,1,32,24
 15942 04:450E: A7 05        	lda	[<L623+pclickable_1]
 15943 04:4510: 85 09        	sta	<L623+pWin_2
  Wed Nov 18 2020  8:26                                                Page 309


 15944 04:4512: A0 02 00     	ldy	#$2
 15945 04:4515: B7 05        	lda	[<L623+pclickable_1],Y
 15946 04:4517: 85 0B        	sta	<L623+pWin_2+2
 15947                        	.line	2806
 15948                        ;		{
 15949 04:4519: A5 09        	lda	<L623+pWin_2
 15950 04:451B: 05 0B        	ora	<L623+pWin_2+2
 15951 04:451D: D0 03        	bne	L627
 15952 04:451F: 82 F4 00     	brl	L10247
 15953                        L627:
 15954                        	.line	2807
 15955                        ;			pWin->win_title[31] = 0;
 15956                        	.line	2808
 15957 04:4522: E2 20        	sep	#$20
 15958                        	longa	off
 15959 04:4524: A9 00        	lda	#$0
 15960 04:4526: A0 43 00     	ldy	#$43
 15961 04:4529: 97 09        	sta	[<L623+pWin_2],Y
 15962 04:452B: C2 20        	rep	#$20
 15963                        	longa	on
 15964                        ;			pWin->win_class[15] = 0;
 15965                        	.line	2809
 15966 04:452D: E2 20        	sep	#$20
 15967                        	longa	off
 15968 04:452F: A9 00        	lda	#$0
 15969 04:4531: A0 55 00     	ldy	#$55
 15970 04:4534: 97 09        	sta	[<L623+pWin_2],Y
 15971 04:4536: C2 20        	rep	#$20
 15972                        	longa	on
 15973                        ;			k_debug_strings("      WINDOW TI
                    TLE:",pWin->win_title);
 15974                        	.line	2810
 15975 04:4538: 18           	clc
 15976 04:4539: A9 24 00     	lda	#$24
 15977 04:453C: 65 09        	adc	<L623+pWin_2
 15978 04:453E: 85 01        	sta	<R0
 15979 04:4540: A9 00 00     	lda	#$0
 15980 04:4543: 65 0B        	adc	<L623+pWin_2+2
 15981 04:4545: 85 03        	sta	<R0+2
 15982 04:4547: D4 03        	pei	<R0+2
 15983 04:4549: D4 01        	pei	<R0
 15984 04:454B: F4 xx xx     	pea	#^L621
 15985 04:454E: F4 xx xx     	pea	#<L621
 15986 04:4551: 22 xx xx xx  	jsl	~~k_debug_strings
 15987                        ;			k_debug_pointer("      WINDOW CL
                    ASS:",pWin->win_class);
 15988                        	.line	2811
 15989 04:4555: 18           	clc
 15990 04:4556: A9 46 00     	lda	#$46
 15991 04:4559: 65 09        	adc	<L623+pWin_2
 15992 04:455B: 85 01        	sta	<R0
 15993 04:455D: A9 00 00     	lda	#$0
 15994 04:4560: 65 0B        	adc	<L623+pWin_2+2
 15995 04:4562: 85 03        	sta	<R0+2
 15996 04:4564: D4 03        	pei	<R0+2
 15997 04:4566: D4 01        	pei	<R0
 15998 04:4568: F4 xx xx     	pea	#^L621+20
 15999 04:456B: F4 xx xx     	pea	#<L621+20
  Wed Nov 18 2020  8:26                                                Page 310


 16000 04:456E: 22 xx xx xx  	jsl	~~k_debug_pointer
 16001                        ;			k_debug_long   ("      WINDOW   
                    PID:",pWin->procid);
 16002                        	.line	2812
 16003 04:4572: A0 7A 00     	ldy	#$7a
 16004 04:4575: B7 09        	lda	[<L623+pWin_2],Y
 16005 04:4577: 48           	pha
 16006 04:4578: A0 78 00     	ldy	#$78
 16007 04:457B: B7 09        	lda	[<L623+pWin_2],Y
 16008 04:457D: 48           	pha
 16009 04:457E: F4 xx xx     	pea	#^L621+40
 16010 04:4581: F4 xx xx     	pea	#<L621+40
 16011 04:4584: 22 xx xx xx  	jsl	~~k_debug_long
 16012                        ;			k_debug_pointer("      WINDOW   
                    PTR:",pWin);
 16013                        	.line	2813
 16014 04:4588: D4 0B        	pei	<L623+pWin_2+2
 16015 04:458A: D4 09        	pei	<L623+pWin_2
 16016 04:458C: F4 xx xx     	pea	#^L621+60
 16017 04:458F: F4 xx xx     	pea	#<L621+60
 16018 04:4592: 22 xx xx xx  	jsl	~~k_debug_pointer
 16019                        ;			k_debug_pointer("      WINDOW  P
                    PTR:",pWin->pParentWindow);
 16020                        	.line	2814
 16021 04:4596: A0 82 00     	ldy	#$82
 16022 04:4599: B7 09        	lda	[<L623+pWin_2],Y
 16023 04:459B: 48           	pha
 16024 04:459C: A0 80 00     	ldy	#$80
 16025 04:459F: B7 09        	lda	[<L623+pWin_2],Y
 16026 04:45A1: 48           	pha
 16027 04:45A2: F4 xx xx     	pea	#^L621+80
 16028 04:45A5: F4 xx xx     	pea	#<L621+80
 16029 04:45A8: 22 xx xx xx  	jsl	~~k_debug_pointer
 16030                        ;			k_debug_pointer("      WINDOW  C
                    PTR:",pWin->pChildWindows);
 16031                        	.line	2815
 16032 04:45AC: A0 8A 00     	ldy	#$8a
 16033 04:45AF: B7 09        	lda	[<L623+pWin_2],Y
 16034 04:45B1: 48           	pha
 16035 04:45B2: A0 88 00     	ldy	#$88
 16036 04:45B5: B7 09        	lda	[<L623+pWin_2],Y
 16037 04:45B7: 48           	pha
 16038 04:45B8: F4 xx xx     	pea	#^L621+100
 16039 04:45BB: F4 xx xx     	pea	#<L621+100
 16040 04:45BE: 22 xx xx xx  	jsl	~~k_debug_pointer
 16041                        ;			k_debug_pointer("      WINDOW  H
                    PTR:",pWin->pChildHitList);
 16042                        	.line	2816
 16043 04:45C2: A0 8E 00     	ldy	#$8e
 16044 04:45C5: B7 09        	lda	[<L623+pWin_2],Y
 16045 04:45C7: 48           	pha
 16046 04:45C8: A0 8C 00     	ldy	#$8c
 16047 04:45CB: B7 09        	lda	[<L623+pWin_2],Y
 16048 04:45CD: 48           	pha
 16049 04:45CE: F4 xx xx     	pea	#^L621+120
 16050 04:45D1: F4 xx xx     	pea	#<L621+120
 16051 04:45D4: 22 xx xx xx  	jsl	~~k_debug_pointer
 16052                        ;			k_debug_integer("      WINDOW   
  Wed Nov 18 2020  8:26                                                Page 311


                      X:",pWin->win_x);
 16053                        	.line	2817
 16054 04:45D8: A0 08 00     	ldy	#$8
 16055 04:45DB: B7 09        	lda	[<L623+pWin_2],Y
 16056 04:45DD: 48           	pha
 16057 04:45DE: F4 xx xx     	pea	#^L621+140
 16058 04:45E1: F4 xx xx     	pea	#<L621+140
 16059 04:45E4: 22 xx xx xx  	jsl	~~k_debug_integer
 16060                        ;			k_debug_integer("      WINDOW   
                      Y:",pWin->win_y);
 16061                        	.line	2818
 16062 04:45E8: A0 0A 00     	ldy	#$a
 16063 04:45EB: B7 09        	lda	[<L623+pWin_2],Y
 16064 04:45ED: 48           	pha
 16065 04:45EE: F4 xx xx     	pea	#^L621+160
 16066 04:45F1: F4 xx xx     	pea	#<L621+160
 16067 04:45F4: 22 xx xx xx  	jsl	~~k_debug_integer
 16068                        ;			k_debug_integer("      WINDOW   
                      Z:",((PCLICKABLE)pWin->clickable)->z);
 16069                        	.line	2819
 16070 04:45F8: A0 20 00     	ldy	#$20
 16071 04:45FB: B7 09        	lda	[<L623+pWin_2],Y
 16072 04:45FD: 85 01        	sta	<R0
 16073 04:45FF: A0 22 00     	ldy	#$22
 16074 04:4602: B7 09        	lda	[<L623+pWin_2],Y
 16075 04:4604: 85 03        	sta	<R0+2
 16076 04:4606: A0 08 00     	ldy	#$8
 16077 04:4609: B7 01        	lda	[<R0],Y
 16078 04:460B: 48           	pha
 16079 04:460C: F4 xx xx     	pea	#^L621+180
 16080 04:460F: F4 xx xx     	pea	#<L621+180
 16081 04:4612: 22 xx xx xx  	jsl	~~k_debug_integer
 16082                        ;		}
 16083                        	.line	2820
 16084                        ;	}
 16085                        L10247:
 16086                        	.endblock	2821
 16087                        	.line	2821
 16088                        ;}
 16089                        L10246:
 16090                        	.line	2822
 16091                        L628:
 16092 04:4616: A5 0E        	lda	<L622+2
 16093 04:4618: 85 16        	sta	<L622+2+8
 16094 04:461A: A5 0D        	lda	<L622+1
 16095 04:461C: 85 15        	sta	<L622+1+8
 16096 04:461E: 2B           	pld
 16097 04:461F: 3B           	tsc
 16098 04:4620: 18           	clc
 16099 04:4621: 69 14 00     	adc	#L622+8
 16100 04:4624: 1B           	tcs
 16101 04:4625: 6B           	rtl
 16102                        	.endblock	2822
 16103             0000000C   L622	equ	12
 16104             00000005   L623	equ	5
 16105 04:4626:              	ends
 16106                        	efunc
 16107                        	.endfunc	2822,5,12
  Wed Nov 18 2020  8:26                                                Page 312


 16108                        	.line	2822
 16109                        	data
 16110                        L621:
 16111 00:0C46: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$54,$49
       00:0C4A: 20 20 57 49 
       00:0C4E: 4E 44 4F 57 
       00:0C52: 20 54 49 
 16112 00:0C55: 54 4C 45 3A  	db	$54,$4C,$45,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0C59: 00 20 20 20 
       00:0C5D: 20 20 20 57 
       00:0C61: 49 4E 44 
 16113 00:0C64: 4F 57 20 43  	db	$4F,$57,$20,$43,$4C,$41,$53,$53,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0C68: 4C 41 53 53 
       00:0C6C: 3A 00 20 20 
       00:0C70: 20 20 20 
 16114 00:0C73: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $50,$49,$44,$3A,$00
       00:0C77: 44 4F 57 20 
       00:0C7B: 20 20 50 49 
       00:0C7F: 44 3A 00 
 16115 00:0C82: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0C86: 20 20 57 49 
       00:0C8A: 4E 44 4F 57 
       00:0C8E: 20 20 20 
 16116 00:0C91: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0C95: 00 20 20 20 
       00:0C99: 20 20 20 57 
       00:0C9D: 49 4E 44 
 16117 00:0CA0: 4F 57 20 20  	db	$4F,$57,$20,$20,$50,$50,$54,$52,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0CA4: 50 50 54 52 
       00:0CA8: 3A 00 20 20 
       00:0CAC: 20 20 20 
 16118 00:0CAF: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$43,
                    $50,$54,$52,$3A,$00
       00:0CB3: 44 4F 57 20 
       00:0CB7: 20 43 50 54 
       00:0CBB: 52 3A 00 
 16119 00:0CBE: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$48
       00:0CC2: 20 20 57 49 
       00:0CC6: 4E 44 4F 57 
       00:0CCA: 20 20 48 
 16120 00:0CCD: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0CD1: 00 20 20 20 
       00:0CD5: 20 20 20 57 
       00:0CD9: 49 4E 44 
 16121 00:0CDC: 4F 57 20 20  	db	$4F,$57,$20,$20,$20,$20,$20,$58,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0CE0: 20 20 20 58 
       00:0CE4: 3A 00 20 20 
       00:0CE8: 20 20 20 
  Wed Nov 18 2020  8:26                                                Page 313


 16122 00:0CEB: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $20,$20,$59,$3A,$00
       00:0CEF: 44 4F 57 20 
       00:0CF3: 20 20 20 20 
       00:0CF7: 59 3A 00 
 16123 00:0CFA: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0CFE: 20 20 57 49 
       00:0D02: 4E 44 4F 57 
       00:0D06: 20 20 20 
 16124 00:0D09: 20 20 5A 3A  	db	$20,$20,$5A,$3A,$00
       00:0D0D: 00 
 16125 00:0D0E:              	ends
 16126                        ;
 16127                        ;BOOL DefWindowProc(PFXOSMESSAGE pMsg)
 16128                        ;{
 16129                        	.line	2824
 16130                        	.line	2825
 16131                        	WINMAN
 16132                        	xdef	~~DefWindowProc
 16133                        	func
 16134                        	.function	2825
 16135                        ~~DefWindowProc:
 16136                        	longa	on
 16137                        	longi	on
 16138 04:4626: 3B           	tsc
 16139 04:4627: 38           	sec
 16140 04:4628: E9 18 00     	sbc	#L630
 16141 04:462B: 1B           	tcs
 16142 04:462C: 0B           	phd
 16143 04:462D: 5B           	tcd
 16144             00000004   pMsg_0	set	4
 16145                        	.block	2825
 16146                        ;	PFXPROCESS p = NULL;
 16147                        ;	PWINDOW	   pWin = NULL;
 16148                        ;	PPOINT 	   ppoint = NULL;
 16149                        ;	RECT 	   clientRect;
 16150                        ;
 16151                        ;	if(pMsg)
 16152             00000000   p_1	set	0
 16153             00000004   pWin_1	set	4
 16154             00000008   ppoint_1	set	8
 16155             0000000C   clientRect_1	set	12
 16156                        	.sym	p,0,138,1,32,17
 16157                        	.sym	pWin,4,138,1,32,24
 16158                        	.sym	ppoint,8,138,1,32,21
 16159                        	.sym	clientRect,12,10,1,64,22
 16160                        	.sym	pMsg,4,138,6,32,13
 16161 04:462E: 64 05        	stz	<L631+p_1
 16162 04:4630: 64 07        	stz	<L631+p_1+2
 16163 04:4632: 64 09        	stz	<L631+pWin_1
 16164 04:4634: 64 0B        	stz	<L631+pWin_1+2
 16165 04:4636: 64 0D        	stz	<L631+ppoint_1
 16166 04:4638: 64 0F        	stz	<L631+ppoint_1+2
 16167                        	.line	2831
 16168                        ;	{
 16169 04:463A: A5 1C        	lda	<L630+pMsg_0
 16170 04:463C: 05 1E        	ora	<L630+pMsg_0+2
  Wed Nov 18 2020  8:26                                                Page 314


 16171 04:463E: D0 03        	bne	L633
 16172 04:4640: 82 E8 00     	brl	L10248
 16173                        L633:
 16174                        	.line	2832
 16175                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 16176                        	.line	2833
 16177 04:4643: A0 0C 00     	ldy	#$c
 16178 04:4646: B7 1C        	lda	[<L630+pMsg_0],Y
 16179 04:4648: 48           	pha
 16180 04:4649: A0 0A 00     	ldy	#$a
 16181 04:464C: B7 1C        	lda	[<L630+pMsg_0],Y
 16182 04:464E: 48           	pha
 16183 04:464F: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 16184 04:4653: 85 09        	sta	<L631+pWin_1
 16185 04:4655: 86 0B        	stx	<L631+pWin_1+2
 16186                        ;		//k_debug_integer(" *** DefWndProc::Type
                    :",pMsg->type);
 16187                        ;		if(pMsg!=NULL)
 16188                        	.line	2835
 16189                        ;		{
 16190 04:4657: A5 1C        	lda	<L630+pMsg_0
 16191 04:4659: 05 1E        	ora	<L630+pMsg_0+2
 16192 04:465B: D0 03        	bne	L634
 16193 04:465D: 82 CB 00     	brl	L10249
 16194                        L634:
 16195                        	.line	2836
 16196                        ;			p = k_exec_get_current_process()
                    ;
 16197                        	.line	2837
 16198 04:4660: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 16199 04:4664: 85 05        	sta	<L631+p_1
 16200 04:4666: 86 07        	stx	<L631+p_1+2
 16201                        ;			switch(pMsg->type)
 16202                        	.line	2838
 16203 04:4668: A0 08 00     	ldy	#$8
 16204 04:466B: B7 1C        	lda	[<L630+pMsg_0],Y
 16205 04:466D: 82 A7 00     	brl	L10250
 16206                        ;			{
 16207                        	.line	2839
 16208                        ;			case FX_LBUTTON_DOWN:
 16209                        	.line	2840
 16210                        L10252:
 16211                        ;				k_debug_strings("DefWind
                    owProc::FX_LBUTTON_DOWN",pWin->win_title);
 16212                        	.line	2841
 16213 04:4670: 18           	clc
 16214 04:4671: A9 24 00     	lda	#$24
 16215 04:4674: 65 09        	adc	<L631+pWin_1
 16216 04:4676: 85 01        	sta	<R0
 16217 04:4678: A9 00 00     	lda	#$0
 16218 04:467B: 65 0B        	adc	<L631+pWin_1+2
 16219 04:467D: 85 03        	sta	<R0+2
 16220 04:467F: D4 03        	pei	<R0+2
 16221 04:4681: D4 01        	pei	<R0
 16222 04:4683: F4 xx xx     	pea	#^L629
 16223 04:4686: F4 xx xx     	pea	#<L629
 16224 04:4689: 22 xx xx xx  	jsl	~~k_debug_strings
  Wed Nov 18 2020  8:26                                                Page 315


 16225                        ;				break;
 16226                        	.line	2842
 16227 04:468D: 82 9B 00     	brl	L10251
 16228                        ;			case FX_DRAW_NONCLIENT:
 16229                        	.line	2843
 16230                        L10253:
 16231                        ;
 16232                        ;				/*
 16233                        ;				k_draw_nonclient_area((P
                    RECT)&pWin->win_x,
 16234                        ;							
                              &clientRect,
 16235                        ;							
                    		  pWin->style,
 16236                        ;							
                    		  pWin->win_title,
 16237                        ;							
                    		  k_getUIMenuColor(),
 16238                        ;							
                    		  k_getUIBackgroundColor());*/
 16239                        ;				k_vdraw_ui_window(pWin,p
                    Win->style,
 16240                        	.line	2852
 16241                        ;							
                    	  pWin->win_x,
 16242                        ;							
                    	  pWin->win_y,
 16243                        ;							
                    	  pWin->win_height,
 16244                        ;							
                    	  pWin->win_width,
 16245                        ;							
                    	  pWin->win_title,
 16246                        ;							
                    	  k_getUIMenuColor(),
 16247                        ;							
                    	  k_getUIBackgroundColor());
 16248 04:4690: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
 16249 04:4694: 48           	pha
 16250 04:4695: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 16251 04:4699: 48           	pha
 16252 04:469A: 18           	clc
 16253 04:469B: A9 24 00     	lda	#$24
 16254 04:469E: 65 09        	adc	<L631+pWin_1
 16255 04:46A0: 85 01        	sta	<R0
 16256 04:46A2: A9 00 00     	lda	#$0
 16257 04:46A5: 65 0B        	adc	<L631+pWin_1+2
 16258 04:46A7: 85 03        	sta	<R0+2
 16259 04:46A9: D4 03        	pei	<R0+2
 16260 04:46AB: D4 01        	pei	<R0
 16261 04:46AD: A0 0C 00     	ldy	#$c
 16262 04:46B0: B7 09        	lda	[<L631+pWin_1],Y
 16263 04:46B2: 48           	pha
 16264 04:46B3: A0 0E 00     	ldy	#$e
 16265 04:46B6: B7 09        	lda	[<L631+pWin_1],Y
 16266 04:46B8: 48           	pha
 16267 04:46B9: A0 0A 00     	ldy	#$a
 16268 04:46BC: B7 09        	lda	[<L631+pWin_1],Y
  Wed Nov 18 2020  8:26                                                Page 316


 16269 04:46BE: 48           	pha
 16270 04:46BF: A0 08 00     	ldy	#$8
 16271 04:46C2: B7 09        	lda	[<L631+pWin_1],Y
 16272 04:46C4: 48           	pha
 16273 04:46C5: A0 04 00     	ldy	#$4
 16274 04:46C8: B7 09        	lda	[<L631+pWin_1],Y
 16275 04:46CA: 48           	pha
 16276 04:46CB: A0 02 00     	ldy	#$2
 16277 04:46CE: B7 09        	lda	[<L631+pWin_1],Y
 16278 04:46D0: 48           	pha
 16279 04:46D1: D4 0B        	pei	<L631+pWin_1+2
 16280 04:46D3: D4 09        	pei	<L631+pWin_1
 16281 04:46D5: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 16282                        ;				break;
 16283                        	.line	2860
 16284 04:46D9: 82 4F 00     	brl	L10251
 16285                        ;			case FX_MOVE_WINDOW:
 16286                        	.line	2861
 16287                        L10254:
 16288                        ;				k_user_MoveWindow(pMsg->
                    hwnd,((PPOINT)pMsg->pheap)->x,((PPOINT)pMsg->pheap)->y);
 16289                        	.line	2862
 16290 04:46DC: A0 0E 00     	ldy	#$e
 16291 04:46DF: B7 1C        	lda	[<L630+pMsg_0],Y
 16292 04:46E1: 85 01        	sta	<R0
 16293 04:46E3: A0 10 00     	ldy	#$10
 16294 04:46E6: B7 1C        	lda	[<L630+pMsg_0],Y
 16295 04:46E8: 85 03        	sta	<R0+2
 16296 04:46EA: A0 02 00     	ldy	#$2
 16297 04:46ED: B7 01        	lda	[<R0],Y
 16298 04:46EF: 48           	pha
 16299 04:46F0: A0 0E 00     	ldy	#$e
 16300 04:46F3: B7 1C        	lda	[<L630+pMsg_0],Y
 16301 04:46F5: 85 01        	sta	<R0
 16302 04:46F7: A0 10 00     	ldy	#$10
 16303 04:46FA: B7 1C        	lda	[<L630+pMsg_0],Y
 16304 04:46FC: 85 03        	sta	<R0+2
 16305 04:46FE: A7 01        	lda	[<R0]
 16306 04:4700: 48           	pha
 16307 04:4701: A0 0C 00     	ldy	#$c
 16308 04:4704: B7 1C        	lda	[<L630+pMsg_0],Y
 16309 04:4706: 48           	pha
 16310 04:4707: A0 0A 00     	ldy	#$a
 16311 04:470A: B7 1C        	lda	[<L630+pMsg_0],Y
 16312 04:470C: 48           	pha
 16313 04:470D: 22 55 07 04  	jsl	~~k_user_MoveWindow
 16314                        ;				break;
 16315                        	.line	2863
 16316 04:4711: 82 17 00     	brl	L10251
 16317                        ;			default:
 16318                        	.line	2864
 16319                        L10255:
 16320                        ;				break;
 16321                        	.line	2865
 16322 04:4714: 82 14 00     	brl	L10251
 16323                        ;			}
 16324                        	.line	2866
 16325                        L10250:
  Wed Nov 18 2020  8:26                                                Page 317


 16326                        	xref	~~~swt
 16327 04:4717: 22 xx xx xx  	jsl	~~~swt
 16328 04:471B: 03 00        	dw	3
 16329 04:471D: 04 0F        	dw	3844
 16330 04:471F: 6F 46        	dw	L10252-1
 16331 04:4721: 01 FB        	dw	64257
 16332 04:4723: 8F 46        	dw	L10253-1
 16333 04:4725: 08 FB        	dw	64264
 16334 04:4727: DB 46        	dw	L10254-1
 16335 04:4729: 13 47        	dw	L10255-1
 16336                        L10251:
 16337                        ;		}
 16338                        	.line	2867
 16339                        ;	}
 16340                        L10249:
 16341                        	.line	2868
 16342                        ;	return TRUE;
 16343                        L10248:
 16344                        	.line	2869
 16345 04:472B: A9 01 00     	lda	#$1
 16346                        L635:
 16347 04:472E: A8           	tay
 16348 04:472F: A5 1A        	lda	<L630+2
 16349 04:4731: 85 1E        	sta	<L630+2+4
 16350 04:4733: A5 19        	lda	<L630+1
 16351 04:4735: 85 1D        	sta	<L630+1+4
 16352 04:4737: 2B           	pld
 16353 04:4738: 3B           	tsc
 16354 04:4739: 18           	clc
 16355 04:473A: 69 1C 00     	adc	#L630+4
 16356 04:473D: 1B           	tcs
 16357 04:473E: 98           	tya
 16358 04:473F: 6B           	rtl
 16359                        ;}
 16360                        	.line	2870
 16361                        	.endblock	2870
 16362             00000018   L630	equ	24
 16363             00000005   L631	equ	5
 16364 04:4740:              	ends
 16365                        	efunc
 16366                        	.endfunc	2870,5,24
 16367                        	.line	2870
 16368                        	data
 16369                        L629:
 16370 00:0D0E: 44 65 66 57  	db	$44,$65,$66,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:0D12: 69 6E 64 6F 
       00:0D16: 77 50 72 6F 
       00:0D1A: 63 3A 3A 
 16371 00:0D1D: 46 58 5F 4C  	db	$46,$58,$5F,$4C,$42,$55,$54,$54,$4F,$4E,
                    $5F,$44,$4F,$57,$4E
       00:0D21: 42 55 54 54 
       00:0D25: 4F 4E 5F 44 
       00:0D29: 4F 57 4E 
 16372 00:0D2C: 00           	db	$00
 16373 00:0D2D:              	ends
 16374                        ;
 16375                        ;BOOL DlgWindowProc(PFXOSMESSAGE pMsg)
  Wed Nov 18 2020  8:26                                                Page 318


 16376                        ;{
 16377                        	.line	2872
 16378                        	.line	2873
 16379                        	WINMAN
 16380                        	xdef	~~DlgWindowProc
 16381                        	func
 16382                        	.function	2873
 16383                        ~~DlgWindowProc:
 16384                        	longa	on
 16385                        	longi	on
 16386 04:4740: 3B           	tsc
 16387 04:4741: 38           	sec
 16388 04:4742: E9 0C 00     	sbc	#L637
 16389 04:4745: 1B           	tcs
 16390 04:4746: 0B           	phd
 16391 04:4747: 5B           	tcd
 16392             00000004   pMsg_0	set	4
 16393                        	.block	2873
 16394                        ;	PFXPROCESS p = NULL;
 16395                        ;	PWINDOW	   pWin = NULL;
 16396                        ;
 16397                        ;
 16398                        ;	if(pMsg)
 16399             00000000   p_1	set	0
 16400             00000004   pWin_1	set	4
 16401                        	.sym	p,0,138,1,32,17
 16402                        	.sym	pWin,4,138,1,32,24
 16403                        	.sym	pMsg,4,138,6,32,13
 16404 04:4748: 64 05        	stz	<L638+p_1
 16405 04:474A: 64 07        	stz	<L638+p_1+2
 16406 04:474C: 64 09        	stz	<L638+pWin_1
 16407 04:474E: 64 0B        	stz	<L638+pWin_1+2
 16408                        	.line	2878
 16409                        ;	{
 16410 04:4750: A5 10        	lda	<L637+pMsg_0
 16411 04:4752: 05 12        	ora	<L637+pMsg_0+2
 16412 04:4754: D0 03        	bne	L640
 16413 04:4756: 82 CC 00     	brl	L10256
 16414                        L640:
 16415                        	.line	2879
 16416                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 16417                        	.line	2880
 16418 04:4759: A0 0C 00     	ldy	#$c
 16419 04:475C: B7 10        	lda	[<L637+pMsg_0],Y
 16420 04:475E: 48           	pha
 16421 04:475F: A0 0A 00     	ldy	#$a
 16422 04:4762: B7 10        	lda	[<L637+pMsg_0],Y
 16423 04:4764: 48           	pha
 16424 04:4765: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 16425 04:4769: 85 09        	sta	<L638+pWin_1
 16426 04:476B: 86 0B        	stx	<L638+pWin_1+2
 16427                        ;		if(pMsg!=NULL)
 16428                        	.line	2881
 16429                        ;		{
 16430 04:476D: A5 10        	lda	<L637+pMsg_0
 16431 04:476F: 05 12        	ora	<L637+pMsg_0+2
 16432 04:4771: D0 03        	bne	L641
  Wed Nov 18 2020  8:26                                                Page 319


 16433 04:4773: 82 AF 00     	brl	L10257
 16434                        L641:
 16435                        	.line	2882
 16436                        ;			p = k_exec_get_current_process()
                    ;
 16437                        	.line	2883
 16438 04:4776: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 16439 04:477A: 85 05        	sta	<L638+p_1
 16440 04:477C: 86 07        	stx	<L638+p_1+2
 16441                        ;			switch(pMsg->type)
 16442                        	.line	2884
 16443 04:477E: A0 08 00     	ldy	#$8
 16444 04:4781: B7 10        	lda	[<L637+pMsg_0],Y
 16445 04:4783: 82 8B 00     	brl	L10258
 16446                        ;			{
 16447                        	.line	2885
 16448                        ;			case FX_DRAW_NONCLIENT:
 16449                        	.line	2886
 16450                        L10260:
 16451                        ;				k_vdraw_ui_window(pWin,
 16452                        	.line	2887
 16453                        ;						        
                      pWin->style,
 16454                        ;							
                    	  pWin->win_x,
 16455                        ;							
                    	  pWin->win_y,
 16456                        ;							
                    	  pWin->win_height,
 16457                        ;							
                    	  pWin->win_width,
 16458                        ;							
                    	  pWin->win_title,
 16459                        ;							
                    	  15,
 16460                        ;							
                    	  15);
 16461 04:4786: F4 0F 00     	pea	#<$f
 16462 04:4789: F4 0F 00     	pea	#<$f
 16463 04:478C: 18           	clc
 16464 04:478D: A9 24 00     	lda	#$24
 16465 04:4790: 65 09        	adc	<L638+pWin_1
 16466 04:4792: 85 01        	sta	<R0
 16467 04:4794: A9 00 00     	lda	#$0
 16468 04:4797: 65 0B        	adc	<L638+pWin_1+2
 16469 04:4799: 85 03        	sta	<R0+2
 16470 04:479B: D4 03        	pei	<R0+2
 16471 04:479D: D4 01        	pei	<R0
 16472 04:479F: A0 0C 00     	ldy	#$c
 16473 04:47A2: B7 09        	lda	[<L638+pWin_1],Y
 16474 04:47A4: 48           	pha
 16475 04:47A5: A0 0E 00     	ldy	#$e
 16476 04:47A8: B7 09        	lda	[<L638+pWin_1],Y
 16477 04:47AA: 48           	pha
 16478 04:47AB: A0 0A 00     	ldy	#$a
 16479 04:47AE: B7 09        	lda	[<L638+pWin_1],Y
 16480 04:47B0: 48           	pha
 16481 04:47B1: A0 08 00     	ldy	#$8
  Wed Nov 18 2020  8:26                                                Page 320


 16482 04:47B4: B7 09        	lda	[<L638+pWin_1],Y
 16483 04:47B6: 48           	pha
 16484 04:47B7: A0 04 00     	ldy	#$4
 16485 04:47BA: B7 09        	lda	[<L638+pWin_1],Y
 16486 04:47BC: 48           	pha
 16487 04:47BD: A0 02 00     	ldy	#$2
 16488 04:47C0: B7 09        	lda	[<L638+pWin_1],Y
 16489 04:47C2: 48           	pha
 16490 04:47C3: D4 0B        	pei	<L638+pWin_1+2
 16491 04:47C5: D4 09        	pei	<L638+pWin_1
 16492 04:47C7: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 16493                        ;				break;
 16494                        	.line	2896
 16495 04:47CB: 82 57 00     	brl	L10259
 16496                        ;
 16497                        ;			case FX_MOUSE_ENTER:
 16498                        	.line	2898
 16499                        L10261:
 16500                        ;				k_debug_strings("DlgWind
                    owProc::FX_MOUSE_ENTER",pWin->win_title);
 16501                        	.line	2899
 16502 04:47CE: 18           	clc
 16503 04:47CF: A9 24 00     	lda	#$24
 16504 04:47D2: 65 09        	adc	<L638+pWin_1
 16505 04:47D4: 85 01        	sta	<R0
 16506 04:47D6: A9 00 00     	lda	#$0
 16507 04:47D9: 65 0B        	adc	<L638+pWin_1+2
 16508 04:47DB: 85 03        	sta	<R0+2
 16509 04:47DD: D4 03        	pei	<R0+2
 16510 04:47DF: D4 01        	pei	<R0
 16511 04:47E1: F4 xx xx     	pea	#^L636
 16512 04:47E4: F4 xx xx     	pea	#<L636
 16513 04:47E7: 22 xx xx xx  	jsl	~~k_debug_strings
 16514                        ;				break;
 16515                        	.line	2900
 16516 04:47EB: 82 37 00     	brl	L10259
 16517                        ;			case FX_MOUSE_EXIT:
 16518                        	.line	2901
 16519                        L10262:
 16520                        ;				k_debug_strings("DlgWind
                    owProc::FX_MOUSE_EXIT",pWin->win_title);
 16521                        	.line	2902
 16522 04:47EE: 18           	clc
 16523 04:47EF: A9 24 00     	lda	#$24
 16524 04:47F2: 65 09        	adc	<L638+pWin_1
 16525 04:47F4: 85 01        	sta	<R0
 16526 04:47F6: A9 00 00     	lda	#$0
 16527 04:47F9: 65 0B        	adc	<L638+pWin_1+2
 16528 04:47FB: 85 03        	sta	<R0+2
 16529 04:47FD: D4 03        	pei	<R0+2
 16530 04:47FF: D4 01        	pei	<R0
 16531 04:4801: F4 xx xx     	pea	#^L636+30
 16532 04:4804: F4 xx xx     	pea	#<L636+30
 16533 04:4807: 22 xx xx xx  	jsl	~~k_debug_strings
 16534                        ;				break;
 16535                        	.line	2903
 16536 04:480B: 82 17 00     	brl	L10259
 16537                        ;			default:
  Wed Nov 18 2020  8:26                                                Page 321


 16538                        	.line	2904
 16539                        L10263:
 16540                        ;				break;
 16541                        	.line	2905
 16542 04:480E: 82 14 00     	brl	L10259
 16543                        ;			}
 16544                        	.line	2906
 16545                        L10258:
 16546                        	xref	~~~swt
 16547 04:4811: 22 xx xx xx  	jsl	~~~swt
 16548 04:4815: 03 00        	dw	3
 16549 04:4817: 01 0F        	dw	3841
 16550 04:4819: CD 47        	dw	L10261-1
 16551 04:481B: 02 0F        	dw	3842
 16552 04:481D: ED 47        	dw	L10262-1
 16553 04:481F: 01 FB        	dw	64257
 16554 04:4821: 85 47        	dw	L10260-1
 16555 04:4823: 0D 48        	dw	L10263-1
 16556                        L10259:
 16557                        ;		}
 16558                        	.line	2907
 16559                        ;	}
 16560                        L10257:
 16561                        	.line	2908
 16562                        ;	return TRUE;
 16563                        L10256:
 16564                        	.line	2909
 16565 04:4825: A9 01 00     	lda	#$1
 16566                        L642:
 16567 04:4828: A8           	tay
 16568 04:4829: A5 0E        	lda	<L637+2
 16569 04:482B: 85 12        	sta	<L637+2+4
 16570 04:482D: A5 0D        	lda	<L637+1
 16571 04:482F: 85 11        	sta	<L637+1+4
 16572 04:4831: 2B           	pld
 16573 04:4832: 3B           	tsc
 16574 04:4833: 18           	clc
 16575 04:4834: 69 10 00     	adc	#L637+4
 16576 04:4837: 1B           	tcs
 16577 04:4838: 98           	tya
 16578 04:4839: 6B           	rtl
 16579                        ;}
 16580                        	.line	2910
 16581                        	.endblock	2910
 16582             0000000C   L637	equ	12
 16583             00000005   L638	equ	5
 16584 04:483A:              	ends
 16585                        	efunc
 16586                        	.endfunc	2910,5,12
 16587                        	.line	2910
 16588                        	data
 16589                        L636:
 16590 00:0D2D: 44 6C 67 57  	db	$44,$6C,$67,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:0D31: 69 6E 64 6F 
       00:0D35: 77 50 72 6F 
       00:0D39: 63 3A 3A 
 16591 00:0D3C: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
  Wed Nov 18 2020  8:26                                                Page 322


                    $4E,$54,$45,$52,$00
       00:0D40: 4F 55 53 45 
       00:0D44: 5F 45 4E 54 
       00:0D48: 45 52 00 
 16592 00:0D4B: 44 6C 67 57  	db	$44,$6C,$67,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:0D4F: 69 6E 64 6F 
       00:0D53: 77 50 72 6F 
       00:0D57: 63 3A 3A 
 16593 00:0D5A: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $58,$49,$54,$00
       00:0D5E: 4F 55 53 45 
       00:0D62: 5F 45 58 49 
       00:0D66: 54 00 
 16594 00:0D68:              	ends
 16595                        ;
 16596                        ;BOOL DlgAboutWindowProc(PFXOSMESSAGE pMsg)
 16597                        ;{
 16598                        	.line	2912
 16599                        	.line	2913
 16600                        	WINMAN
 16601                        	xdef	~~DlgAboutWindowProc
 16602                        	func
 16603                        	.function	2913
 16604                        ~~DlgAboutWindowProc:
 16605                        	longa	on
 16606                        	longi	on
 16607 04:483A: 3B           	tsc
 16608 04:483B: 38           	sec
 16609 04:483C: E9 22 00     	sbc	#L644
 16610 04:483F: 1B           	tcs
 16611 04:4840: 0B           	phd
 16612 04:4841: 5B           	tcd
 16613             00000004   pMsg_0	set	4
 16614                        	.block	2913
 16615                        ;	PFXPROCESS p = NULL;
 16616                        ;	PWINDOW	   pWin = NULL;
 16617                        ;	PWINDOW	   pButton = NULL;
 16618                        ;	RECT	   rect;
 16619                        ;	PPOINT 	   ppoint = NULL;
 16620                        ;	int 	   row = 0;
 16621                        ;
 16622                        ;	if(pMsg)
 16623             00000000   p_1	set	0
 16624             00000004   pWin_1	set	4
 16625             00000008   pButton_1	set	8
 16626             0000000C   rect_1	set	12
 16627             00000014   ppoint_1	set	20
 16628             00000018   row_1	set	24
 16629                        	.sym	p,0,138,1,32,17
 16630                        	.sym	pWin,4,138,1,32,24
 16631                        	.sym	pButton,8,138,1,32,24
 16632                        	.sym	rect,12,10,1,64,22
 16633                        	.sym	ppoint,20,138,1,32,21
 16634                        	.sym	row,24,5,1,16
 16635                        	.sym	pMsg,4,138,6,32,13
 16636 04:4842: 64 09        	stz	<L645+p_1
 16637 04:4844: 64 0B        	stz	<L645+p_1+2
  Wed Nov 18 2020  8:26                                                Page 323


 16638 04:4846: 64 0D        	stz	<L645+pWin_1
 16639 04:4848: 64 0F        	stz	<L645+pWin_1+2
 16640 04:484A: 64 11        	stz	<L645+pButton_1
 16641 04:484C: 64 13        	stz	<L645+pButton_1+2
 16642 04:484E: 64 1D        	stz	<L645+ppoint_1
 16643 04:4850: 64 1F        	stz	<L645+ppoint_1+2
 16644 04:4852: 64 21        	stz	<L645+row_1
 16645                        	.line	2921
 16646                        ;	{
 16647 04:4854: A5 26        	lda	<L644+pMsg_0
 16648 04:4856: 05 28        	ora	<L644+pMsg_0+2
 16649 04:4858: D0 03        	bne	L647
 16650 04:485A: 82 C0 03     	brl	L10264
 16651                        L647:
 16652                        	.line	2922
 16653                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 16654                        	.line	2923
 16655 04:485D: A0 0C 00     	ldy	#$c
 16656 04:4860: B7 26        	lda	[<L644+pMsg_0],Y
 16657 04:4862: 48           	pha
 16658 04:4863: A0 0A 00     	ldy	#$a
 16659 04:4866: B7 26        	lda	[<L644+pMsg_0],Y
 16660 04:4868: 48           	pha
 16661 04:4869: 22 47 09 04  	jsl	~~k_getWindowFromHandle
 16662 04:486D: 85 0D        	sta	<L645+pWin_1
 16663 04:486F: 86 0F        	stx	<L645+pWin_1+2
 16664                        ;		if(pMsg!=NULL)
 16665                        	.line	2924
 16666                        ;		{
 16667 04:4871: A5 26        	lda	<L644+pMsg_0
 16668 04:4873: 05 28        	ora	<L644+pMsg_0+2
 16669 04:4875: D0 03        	bne	L648
 16670 04:4877: 82 A3 03     	brl	L10265
 16671                        L648:
 16672                        	.line	2925
 16673                        ;			k_debug_integer(" *** DlgAboutWi
                    ndowProc:WndProc::Type:",pMsg->type);
 16674                        	.line	2926
 16675 04:487A: A0 08 00     	ldy	#$8
 16676 04:487D: B7 26        	lda	[<L644+pMsg_0],Y
 16677 04:487F: 48           	pha
 16678 04:4880: F4 xx xx     	pea	#^L643
 16679 04:4883: F4 xx xx     	pea	#<L643
 16680 04:4886: 22 xx xx xx  	jsl	~~k_debug_integer
 16681                        ;
 16682                        ;			p = k_exec_get_current_process()
                    ;
 16683                        	.line	2928
 16684 04:488A: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 16685 04:488E: 85 09        	sta	<L645+p_1
 16686 04:4890: 86 0B        	stx	<L645+p_1+2
 16687                        ;			switch(pMsg->type)
 16688                        	.line	2929
 16689 04:4892: A0 08 00     	ldy	#$8
 16690 04:4895: B7 26        	lda	[<L644+pMsg_0],Y
 16691 04:4897: 82 5F 03     	brl	L10266
 16692                        ;			{
  Wed Nov 18 2020  8:26                                                Page 324


 16693                        	.line	2930
 16694                        ;			case FX_CREATE_WINDOW:
 16695                        	.line	2931
 16696                        L10268:
 16697                        ;				//k_user_CreateButton(pM
                    sg->hwnd,"Ok",0x8801,0,0,-1,-1);
 16698                        ;				pButton = k_user_CreateB
                    utton(pMsg->hwnd,"Ok",0x8801,140,130,-1,-1);
 16699                        	.line	2933
 16700 04:489A: F4 FF FF     	pea	#<$ffffffff
 16701 04:489D: F4 FF FF     	pea	#<$ffffffff
 16702 04:48A0: F4 82 00     	pea	#<$82
 16703 04:48A3: F4 8C 00     	pea	#<$8c
 16704 04:48A6: F4 01 88     	pea	#<$8801
 16705 04:48A9: F4 xx xx     	pea	#^L643+39
 16706 04:48AC: F4 xx xx     	pea	#<L643+39
 16707 04:48AF: A0 0C 00     	ldy	#$c
 16708 04:48B2: B7 26        	lda	[<L644+pMsg_0],Y
 16709 04:48B4: 48           	pha
 16710 04:48B5: A0 0A 00     	ldy	#$a
 16711 04:48B8: B7 26        	lda	[<L644+pMsg_0],Y
 16712 04:48BA: 48           	pha
 16713 04:48BB: 22 18 2A 04  	jsl	~~k_user_CreateButton
 16714 04:48BF: 85 11        	sta	<L645+pButton_1
 16715 04:48C1: 86 13        	stx	<L645+pButton_1+2
 16716                        ;				//pButton = k_user_Creat
                    eButton(k_user_getDesktopWindow(),"Ok",0x8801,10,10,-1,-1);
 16717                        ;				k_user_CenterBottomWindo
                    w(pButton);
 16718                        	.line	2935
 16719 04:48C3: D4 13        	pei	<L645+pButton_1+2
 16720 04:48C5: D4 11        	pei	<L645+pButton_1
 16721 04:48C7: 22 5D 06 04  	jsl	~~k_user_CenterBottomWindow
 16722                        ;				break;
 16723                        	.line	2936
 16724 04:48CB: 82 4F 03     	brl	L10267
 16725                        ;			case FX_DRAW_NONCLIENT:
 16726                        	.line	2937
 16727                        L10269:
 16728                        ;
 16729                        ;				k_scratch_save_bitblt(pW
                    in->win_x,
 16730                        	.line	2939
 16731                        ;							
                    		  pWin->win_y,
 16732                        ;							
                    		  pWin->win_width + 1,
 16733                        ;							
                    		  pWin->win_height + 1, 0, 0);
 16734 04:48CE: F4 00 00     	pea	#<$0
 16735 04:48D1: F4 00 00     	pea	#<$0
 16736 04:48D4: A0 0E 00     	ldy	#$e
 16737 04:48D7: B7 0D        	lda	[<L645+pWin_1],Y
 16738 04:48D9: 1A           	ina
 16739 04:48DA: 48           	pha
 16740 04:48DB: A0 0C 00     	ldy	#$c
 16741 04:48DE: B7 0D        	lda	[<L645+pWin_1],Y
 16742 04:48E0: 1A           	ina
  Wed Nov 18 2020  8:26                                                Page 325


 16743 04:48E1: 48           	pha
 16744 04:48E2: A0 0A 00     	ldy	#$a
 16745 04:48E5: B7 0D        	lda	[<L645+pWin_1],Y
 16746 04:48E7: 48           	pha
 16747 04:48E8: A0 08 00     	ldy	#$8
 16748 04:48EB: B7 0D        	lda	[<L645+pWin_1],Y
 16749 04:48ED: 48           	pha
 16750 04:48EE: 22 xx xx xx  	jsl	~~k_scratch_save_bitblt
 16751                        ;
 16752                        ;
 16753                        ;				k_vdraw_ui_window(pWin,p
                    Win->style,
 16754                        	.line	2945
 16755                        ;							
                    	  pWin->win_x,
 16756                        ;							
                    	  pWin->win_y,
 16757                        ;							
                    	  pWin->win_height,
 16758                        ;							
                    	  pWin->win_width,
 16759                        ;							
                    	  pWin->win_title,
 16760                        ;							
                    	  15,
 16761                        ;							
                    	  15);
 16762 04:48F2: F4 0F 00     	pea	#<$f
 16763 04:48F5: F4 0F 00     	pea	#<$f
 16764 04:48F8: 18           	clc
 16765 04:48F9: A9 24 00     	lda	#$24
 16766 04:48FC: 65 0D        	adc	<L645+pWin_1
 16767 04:48FE: 85 01        	sta	<R0
 16768 04:4900: A9 00 00     	lda	#$0
 16769 04:4903: 65 0F        	adc	<L645+pWin_1+2
 16770 04:4905: 85 03        	sta	<R0+2
 16771 04:4907: D4 03        	pei	<R0+2
 16772 04:4909: D4 01        	pei	<R0
 16773 04:490B: A0 0C 00     	ldy	#$c
 16774 04:490E: B7 0D        	lda	[<L645+pWin_1],Y
 16775 04:4910: 48           	pha
 16776 04:4911: A0 0E 00     	ldy	#$e
 16777 04:4914: B7 0D        	lda	[<L645+pWin_1],Y
 16778 04:4916: 48           	pha
 16779 04:4917: A0 0A 00     	ldy	#$a
 16780 04:491A: B7 0D        	lda	[<L645+pWin_1],Y
 16781 04:491C: 48           	pha
 16782 04:491D: A0 08 00     	ldy	#$8
 16783 04:4920: B7 0D        	lda	[<L645+pWin_1],Y
 16784 04:4922: 48           	pha
 16785 04:4923: A0 04 00     	ldy	#$4
 16786 04:4926: B7 0D        	lda	[<L645+pWin_1],Y
 16787 04:4928: 48           	pha
 16788 04:4929: A0 02 00     	ldy	#$2
 16789 04:492C: B7 0D        	lda	[<L645+pWin_1],Y
 16790 04:492E: 48           	pha
 16791 04:492F: D4 0F        	pei	<L645+pWin_1+2
 16792 04:4931: D4 0D        	pei	<L645+pWin_1
  Wed Nov 18 2020  8:26                                                Page 326


 16793 04:4933: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 16794                        ;
 16795                        ;				//k_draw_text_point(pWin
                    ->win_title);
 16796                        ;
 16797                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ATI8x16,100,100,0);
 16798                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ATI6x8,100,120,0);
 16799                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ToshibaLCD8x8,100,130,0);
 16800                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("TINYTYPE
                    8x8"),100,130,0);
 16801                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("FANTASY8
                    x8"),100,140,0);
 16802                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("Italics8
                    x8"),100,150,0);
 16803                        ;
 16804                        ;				//k_draw_text_point_with
                    _font("\x80\x81",(LPCSTR)k_user_getFontClass("AMIGO8x8"),100
                    ,160,0);
 16805                        ;
 16806                        ;
 16807                        ;				//k_draw_text_point_with
                    _font("\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8A\x8B\x8C\
                    x8D\x8E\x8F",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,100,1
                    5);
 16808                        ;				//k_draw_text_point_with
                    _font("\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9A\x9B\x9C\
                    x9D\x9E\x9F",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,110,1
                    5);
 16809                        ;				//k_draw_text_point_with
                    _font("\xA0\xA1\xA2\xA3\xA4\xA5\xA6\xA7\xA8\xA9\xAA\xAB\xAC\
                    xAD\xAE\xAF",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,120,1
                    5);
 16810                        ;
 16811                        ;
 16812                        ;				//k_draw_text_point("Abo
                    ut FX/OS...",100,180,0);
 16813                        ;
 16814                        ;				break;
 16815                        	.line	2973
 16816 04:4937: 82 E3 02     	brl	L10267
 16817                        ;			case FX_DRAW_WINDOW:
 16818                        	.line	2974
 16819                        L10270:
 16820                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_DRAW_WINDOW","");
 16821                        	.line	2975
 16822 04:493A: F4 xx xx     	pea	#^L643+77
 16823 04:493D: F4 xx xx     	pea	#<L643+77
 16824 04:4940: F4 xx xx     	pea	#^L643+42
 16825 04:4943: F4 xx xx     	pea	#<L643+42
 16826 04:4946: 22 xx xx xx  	jsl	~~k_debug_strings
 16827                        ;
  Wed Nov 18 2020  8:26                                                Page 327


 16828                        ;				row = 10;
 16829                        	.line	2977
 16830 04:494A: A9 0A 00     	lda	#$a
 16831 04:494D: 85 21        	sta	<L645+row_1
 16832                        ;				rect.x = 10;
 16833                        	.line	2978
 16834 04:494F: A9 0A 00     	lda	#$a
 16835 04:4952: 85 15        	sta	<L645+rect_1
 16836                        ;				rect.y = row;
 16837                        	.line	2979
 16838 04:4954: A5 21        	lda	<L645+row_1
 16839 04:4956: 85 17        	sta	<L645+rect_1+2
 16840                        ;				k_user_DrawWindowTextToP
                    oint(k_getHandleFromWindow(pWin),"FX/OS Foenix Workspace",0,
                    &rect);
 16841                        	.line	2980
 16842 04:4958: F4 00 00     	pea	#0
 16843 04:495B: 18           	clc
 16844 04:495C: 7B           	tdc
 16845 04:495D: 69 15 00     	adc	#<L645+rect_1
 16846 04:4960: 48           	pha
 16847 04:4961: F4 00 00     	pea	#<$0
 16848 04:4964: F4 xx xx     	pea	#^L643+78
 16849 04:4967: F4 xx xx     	pea	#<L643+78
 16850 04:496A: D4 0F        	pei	<L645+pWin_1+2
 16851 04:496C: D4 0D        	pei	<L645+pWin_1
 16852 04:496E: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 16853 04:4972: 85 01        	sta	<R0
 16854 04:4974: 86 03        	stx	<R0+2
 16855 04:4976: DA           	phx
 16856 04:4977: 48           	pha
 16857 04:4978: 22 E7 0B 04  	jsl	~~k_user_DrawWindowTextToPoint
 16858                        ;				row+=30;
 16859                        	.line	2981
 16860 04:497C: 18           	clc
 16861 04:497D: A9 1E 00     	lda	#$1e
 16862 04:4980: 65 21        	adc	<L645+row_1
 16863 04:4982: 85 21        	sta	<L645+row_1
 16864                        ;
 16865                        ;				rect.x = 10;
 16866                        	.line	2983
 16867 04:4984: A9 0A 00     	lda	#$a
 16868 04:4987: 85 15        	sta	<L645+rect_1
 16869                        ;				rect.y = row;
 16870                        	.line	2984
 16871 04:4989: A5 21        	lda	<L645+row_1
 16872 04:498B: 85 17        	sta	<L645+rect_1+2
 16873                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 16874                        	.line	2985
 16875                        ;							
                    						 "Prerelease 1.0
                    .0 Beta",
 16876                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 16877 04:498D: F4 xx xx     	pea	#^L643+123
 16878 04:4990: F4 xx xx     	pea	#<L643+123
  Wed Nov 18 2020  8:26                                                Page 328


 16879 04:4993: 22 9A 09 04  	jsl	~~k_user_getFontClass
 16880 04:4997: 85 01        	sta	<R0
 16881 04:4999: 86 03        	stx	<R0+2
 16882 04:499B: DA           	phx
 16883 04:499C: 48           	pha
 16884 04:499D: F4 00 00     	pea	#0
 16885 04:49A0: 18           	clc
 16886 04:49A1: 7B           	tdc
 16887 04:49A2: 69 15 00     	adc	#<L645+rect_1
 16888 04:49A5: 48           	pha
 16889 04:49A6: F4 00 00     	pea	#<$0
 16890 04:49A9: F4 xx xx     	pea	#^L643+101
 16891 04:49AC: F4 xx xx     	pea	#<L643+101
 16892 04:49AF: D4 0F        	pei	<L645+pWin_1+2
 16893 04:49B1: D4 0D        	pei	<L645+pWin_1
 16894 04:49B3: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 16895 04:49B7: 85 05        	sta	<R1
 16896 04:49B9: 86 07        	stx	<R1+2
 16897 04:49BB: DA           	phx
 16898 04:49BC: 48           	pha
 16899 04:49BD: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 16900                        ;				row+=10;
 16901                        	.line	2988
 16902 04:49C1: 18           	clc
 16903 04:49C2: A9 0A 00     	lda	#$a
 16904 04:49C5: 65 21        	adc	<L645+row_1
 16905 04:49C7: 85 21        	sta	<L645+row_1
 16906                        ;				rect.x = 10;
 16907                        	.line	2989
 16908 04:49C9: A9 0A 00     	lda	#$a
 16909 04:49CC: 85 15        	sta	<L645+rect_1
 16910                        ;				rect.y = row;
 16911                        	.line	2990
 16912 04:49CE: A5 21        	lda	<L645+row_1
 16913 04:49D0: 85 17        	sta	<L645+rect_1+2
 16914                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 16915                        	.line	2991
 16916                        ;							
                    						 "October 1, 201
                    9",
 16917                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 16918 04:49D2: F4 xx xx     	pea	#^L643+151
 16919 04:49D5: F4 xx xx     	pea	#<L643+151
 16920 04:49D8: 22 9A 09 04  	jsl	~~k_user_getFontClass
 16921 04:49DC: 85 01        	sta	<R0
 16922 04:49DE: 86 03        	stx	<R0+2
 16923 04:49E0: DA           	phx
 16924 04:49E1: 48           	pha
 16925 04:49E2: F4 00 00     	pea	#0
 16926 04:49E5: 18           	clc
 16927 04:49E6: 7B           	tdc
 16928 04:49E7: 69 15 00     	adc	#<L645+rect_1
 16929 04:49EA: 48           	pha
 16930 04:49EB: F4 00 00     	pea	#<$0
 16931 04:49EE: F4 xx xx     	pea	#^L643+135
  Wed Nov 18 2020  8:26                                                Page 329


 16932 04:49F1: F4 xx xx     	pea	#<L643+135
 16933 04:49F4: D4 0F        	pei	<L645+pWin_1+2
 16934 04:49F6: D4 0D        	pei	<L645+pWin_1
 16935 04:49F8: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 16936 04:49FC: 85 05        	sta	<R1
 16937 04:49FE: 86 07        	stx	<R1+2
 16938 04:4A00: DA           	phx
 16939 04:4A01: 48           	pha
 16940 04:4A02: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 16941                        ;				row+=10;
 16942                        	.line	2994
 16943 04:4A06: 18           	clc
 16944 04:4A07: A9 0A 00     	lda	#$a
 16945 04:4A0A: 65 21        	adc	<L645+row_1
 16946 04:4A0C: 85 21        	sta	<L645+row_1
 16947                        ;
 16948                        ;				rect.x = 10;
 16949                        	.line	2996
 16950 04:4A0E: A9 0A 00     	lda	#$a
 16951 04:4A11: 85 15        	sta	<L645+rect_1
 16952                        ;				rect.y = row;
 16953                        	.line	2997
 16954 04:4A13: A5 21        	lda	<L645+row_1
 16955 04:4A15: 85 17        	sta	<L645+rect_1+2
 16956                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 16957                        	.line	2998
 16958                        ;							
                    						 "Copyright (c) 
                    2019, Mike Bush",
 16959                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 16960 04:4A17: F4 xx xx     	pea	#^L643+193
 16961 04:4A1A: F4 xx xx     	pea	#<L643+193
 16962 04:4A1D: 22 9A 09 04  	jsl	~~k_user_getFontClass
 16963 04:4A21: 85 01        	sta	<R0
 16964 04:4A23: 86 03        	stx	<R0+2
 16965 04:4A25: DA           	phx
 16966 04:4A26: 48           	pha
 16967 04:4A27: F4 00 00     	pea	#0
 16968 04:4A2A: 18           	clc
 16969 04:4A2B: 7B           	tdc
 16970 04:4A2C: 69 15 00     	adc	#<L645+rect_1
 16971 04:4A2F: 48           	pha
 16972 04:4A30: F4 00 00     	pea	#<$0
 16973 04:4A33: F4 xx xx     	pea	#^L643+163
 16974 04:4A36: F4 xx xx     	pea	#<L643+163
 16975 04:4A39: D4 0F        	pei	<L645+pWin_1+2
 16976 04:4A3B: D4 0D        	pei	<L645+pWin_1
 16977 04:4A3D: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 16978 04:4A41: 85 05        	sta	<R1
 16979 04:4A43: 86 07        	stx	<R1+2
 16980 04:4A45: DA           	phx
 16981 04:4A46: 48           	pha
 16982 04:4A47: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 16983                        ;				row+=15;
 16984                        	.line	3001
  Wed Nov 18 2020  8:26                                                Page 330


 16985 04:4A4B: 18           	clc
 16986 04:4A4C: A9 0F 00     	lda	#$f
 16987 04:4A4F: 65 21        	adc	<L645+row_1
 16988 04:4A51: 85 21        	sta	<L645+row_1
 16989                        ;
 16990                        ;				rect.x = 20;
 16991                        	.line	3003
 16992 04:4A53: A9 14 00     	lda	#$14
 16993 04:4A56: 85 15        	sta	<L645+rect_1
 16994                        ;				rect.y = row;
 16995                        	.line	3004
 16996 04:4A58: A5 21        	lda	<L645+row_1
 16997 04:4A5A: 85 17        	sta	<L645+rect_1+2
 16998                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 16999                        	.line	3005
 17000                        ;							
                    						 "Author: Mike B
                    ush",
 17001                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 17002 04:4A5C: F4 xx xx     	pea	#^L643+223
 17003 04:4A5F: F4 xx xx     	pea	#<L643+223
 17004 04:4A62: 22 9A 09 04  	jsl	~~k_user_getFontClass
 17005 04:4A66: 85 01        	sta	<R0
 17006 04:4A68: 86 03        	stx	<R0+2
 17007 04:4A6A: DA           	phx
 17008 04:4A6B: 48           	pha
 17009 04:4A6C: F4 00 00     	pea	#0
 17010 04:4A6F: 18           	clc
 17011 04:4A70: 7B           	tdc
 17012 04:4A71: 69 15 00     	adc	#<L645+rect_1
 17013 04:4A74: 48           	pha
 17014 04:4A75: F4 00 00     	pea	#<$0
 17015 04:4A78: F4 xx xx     	pea	#^L643+205
 17016 04:4A7B: F4 xx xx     	pea	#<L643+205
 17017 04:4A7E: D4 0F        	pei	<L645+pWin_1+2
 17018 04:4A80: D4 0D        	pei	<L645+pWin_1
 17019 04:4A82: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 17020 04:4A86: 85 05        	sta	<R1
 17021 04:4A88: 86 07        	stx	<R1+2
 17022 04:4A8A: DA           	phx
 17023 04:4A8B: 48           	pha
 17024 04:4A8C: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 17025                        ;				row+=15;
 17026                        	.line	3008
 17027 04:4A90: 18           	clc
 17028 04:4A91: A9 0F 00     	lda	#$f
 17029 04:4A94: 65 21        	adc	<L645+row_1
 17030 04:4A96: 85 21        	sta	<L645+row_1
 17031                        ;
 17032                        ;				rect.x = 20;
 17033                        	.line	3010
 17034 04:4A98: A9 14 00     	lda	#$14
 17035 04:4A9B: 85 15        	sta	<L645+rect_1
 17036                        ;				rect.y = row;
 17037                        	.line	3011
  Wed Nov 18 2020  8:26                                                Page 331


 17038 04:4A9D: A5 21        	lda	<L645+row_1
 17039 04:4A9F: 85 17        	sta	<L645+rect_1+2
 17040                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 17041                        	.line	3012
 17042                        ;							
                    						 "Special Thanks
                    : Stefany Allaire",
 17043                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 17044 04:4AA1: F4 xx xx     	pea	#^L643+267
 17045 04:4AA4: F4 xx xx     	pea	#<L643+267
 17046 04:4AA7: 22 9A 09 04  	jsl	~~k_user_getFontClass
 17047 04:4AAB: 85 01        	sta	<R0
 17048 04:4AAD: 86 03        	stx	<R0+2
 17049 04:4AAF: DA           	phx
 17050 04:4AB0: 48           	pha
 17051 04:4AB1: F4 00 00     	pea	#0
 17052 04:4AB4: 18           	clc
 17053 04:4AB5: 7B           	tdc
 17054 04:4AB6: 69 15 00     	adc	#<L645+rect_1
 17055 04:4AB9: 48           	pha
 17056 04:4ABA: F4 00 00     	pea	#<$0
 17057 04:4ABD: F4 xx xx     	pea	#^L643+235
 17058 04:4AC0: F4 xx xx     	pea	#<L643+235
 17059 04:4AC3: D4 0F        	pei	<L645+pWin_1+2
 17060 04:4AC5: D4 0D        	pei	<L645+pWin_1
 17061 04:4AC7: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 17062 04:4ACB: 85 05        	sta	<R1
 17063 04:4ACD: 86 07        	stx	<R1+2
 17064 04:4ACF: DA           	phx
 17065 04:4AD0: 48           	pha
 17066 04:4AD1: 22 3E 0C 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 17067                        ;
 17068                        ;				ppoint = (PPOINT)k_mem_a
                    llocate_heap(sizeof(POINT));
 17069                        	.line	3016
 17070 04:4AD5: F4 04 00     	pea	#<$4
 17071 04:4AD8: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 17072 04:4ADC: 85 1D        	sta	<L645+ppoint_1
 17073 04:4ADE: 86 1F        	stx	<L645+ppoint_1+2
 17074                        ;				ppoint->x = 0;
 17075                        	.line	3017
 17076 04:4AE0: A9 00 00     	lda	#$0
 17077 04:4AE3: 87 1D        	sta	[<L645+ppoint_1]
 17078                        ;				ppoint->y = 0;
 17079                        	.line	3018
 17080 04:4AE5: A9 00 00     	lda	#$0
 17081 04:4AE8: A0 02 00     	ldy	#$2
 17082 04:4AEB: 97 1D        	sta	[<L645+ppoint_1],Y
 17083                        ;
 17084                        ;				//_k_user_send_child_mes
                    sage(pWin,FX_MOVE_WINDOW,ppoint,sizeof(POINT));
 17085                        ;				_k_user_send_child_messa
                    ge(pWin,FX_DRAW_WINDOW,NULL,0);
 17086                        	.line	3021
 17087 04:4AED: F4 00 00     	pea	#<$0
  Wed Nov 18 2020  8:26                                                Page 332


 17088 04:4AF0: F4 00 00     	pea	#^$0
 17089 04:4AF3: F4 00 00     	pea	#<$0
 17090 04:4AF6: F4 00 FB     	pea	#<$fb00
 17091 04:4AF9: D4 0F        	pei	<L645+pWin_1+2
 17092 04:4AFB: D4 0D        	pei	<L645+pWin_1
 17093 04:4AFD: 22 16 43 04  	jsl	~~_k_user_send_child_message
 17094                        ;
 17095                        ;				break;
 17096                        	.line	3023
 17097 04:4B01: 82 19 01     	brl	L10267
 17098                        ;			case FX_CONTROL_COMMAND:
 17099                        	.line	3024
 17100                        L10271:
 17101                        ;				k_debug_string("DlgAbout
                    WindowProc::FX_CONTROL_COMMAND\r\n");
 17102                        	.line	3025
 17103 04:4B04: F4 xx xx     	pea	#^L643+279
 17104 04:4B07: F4 xx xx     	pea	#<L643+279
 17105 04:4B0A: 22 xx xx xx  	jsl	~~k_debug_string
 17106                        ;				k_debug_integer("DlgAbou
                    tWindowProc::ID:",((PFXCMDMESSAGE)pMsg)->cmdMId);
 17107                        	.line	3026
 17108 04:4B0E: A0 18 00     	ldy	#$18
 17109 04:4B11: B7 26        	lda	[<L644+pMsg_0],Y
 17110 04:4B13: 48           	pha
 17111 04:4B14: F4 xx xx     	pea	#^L643+320
 17112 04:4B17: F4 xx xx     	pea	#<L643+320
 17113 04:4B1A: 22 xx xx xx  	jsl	~~k_debug_integer
 17114                        ;				if( ((PFXCMDMESSAGE)pMsg
                    )->cmdCId == CTL_BUTTON_SELECTED)
 17115                        	.line	3027
 17116                        ;				{
 17117 04:4B1E: A0 16 00     	ldy	#$16
 17118 04:4B21: B7 26        	lda	[<L644+pMsg_0],Y
 17119 04:4B23: C9 02 00     	cmp	#<$2
 17120 04:4B26: F0 03        	beq	L649
 17121 04:4B28: 82 4E 00     	brl	L10272
 17122                        L649:
 17123                        	.line	3028
 17124                        ;
 17125                        ;					k_scratch_restor
                    e_bitblt(0,0,
 17126                        	.line	3030
 17127                        ;							
                    				 pWin->win_width + 1,
 17128                        ;							
                    				 pWin->win_height + 1,
 17129                        ;							
                    				 pWin->win_x,
 17130                        ;							
                    				 pWin->win_y);
 17131 04:4B2B: A0 0A 00     	ldy	#$a
 17132 04:4B2E: B7 0D        	lda	[<L645+pWin_1],Y
 17133 04:4B30: 48           	pha
 17134 04:4B31: A0 08 00     	ldy	#$8
 17135 04:4B34: B7 0D        	lda	[<L645+pWin_1],Y
 17136 04:4B36: 48           	pha
 17137 04:4B37: A0 0E 00     	ldy	#$e
  Wed Nov 18 2020  8:26                                                Page 333


 17138 04:4B3A: B7 0D        	lda	[<L645+pWin_1],Y
 17139 04:4B3C: 1A           	ina
 17140 04:4B3D: 48           	pha
 17141 04:4B3E: A0 0C 00     	ldy	#$c
 17142 04:4B41: B7 0D        	lda	[<L645+pWin_1],Y
 17143 04:4B43: 1A           	ina
 17144 04:4B44: 48           	pha
 17145 04:4B45: F4 00 00     	pea	#<$0
 17146 04:4B48: F4 00 00     	pea	#<$0
 17147 04:4B4B: 22 xx xx xx  	jsl	~~k_scratch_restore_bitblt
 17148                        ;
 17149                        ;
 17150                        ;					pWin->isVisible 
                    = FALSE;
 17151                        	.line	3037
 17152 04:4B4F: E2 20        	sep	#$20
 17153                        	longa	off
 17154 04:4B51: A9 00        	lda	#$0
 17155 04:4B53: A0 90 00     	ldy	#$90
 17156 04:4B56: 97 0D        	sta	[<L645+pWin_1],Y
 17157 04:4B58: C2 20        	rep	#$20
 17158                        	longa	on
 17159                        ;					if(((PFXCMDMESSA
                    GE)pMsg)->cmdMId == 0x8801)
 17160                        	.line	3038
 17161                        ;						k_user_C
                    loseWindow(k_getHandleFromWindow(pWin));
 17162 04:4B5A: A0 18 00     	ldy	#$18
 17163 04:4B5D: B7 26        	lda	[<L644+pMsg_0],Y
 17164 04:4B5F: C9 01 88     	cmp	#<$8801
 17165 04:4B62: F0 03        	beq	L650
 17166 04:4B64: 82 12 00     	brl	L10273
 17167                        L650:
 17168                        	.line	3039
 17169 04:4B67: D4 0F        	pei	<L645+pWin_1+2
 17170 04:4B69: D4 0D        	pei	<L645+pWin_1
 17171 04:4B6B: 22 29 09 04  	jsl	~~k_getHandleFromWindow
 17172 04:4B6F: 85 01        	sta	<R0
 17173 04:4B71: 86 03        	stx	<R0+2
 17174 04:4B73: DA           	phx
 17175 04:4B74: 48           	pha
 17176 04:4B75: 22 82 0D 04  	jsl	~~k_user_CloseWindow
 17177                        ;						//return
                     FALSE;
 17178                        ;				}
 17179                        L10273:
 17180                        	.line	3041
 17181                        ;				break;
 17182                        L10272:
 17183                        	.line	3042
 17184 04:4B79: 82 A1 00     	brl	L10267
 17185                        ;			case FX_MOUSE_ENTER:
 17186                        	.line	3043
 17187                        L10274:
 17188                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_MOUSE_ENTER:",pWin->win_title);
 17189                        	.line	3044
 17190 04:4B7C: 18           	clc
  Wed Nov 18 2020  8:26                                                Page 334


 17191 04:4B7D: A9 24 00     	lda	#$24
 17192 04:4B80: 65 0D        	adc	<L645+pWin_1
 17193 04:4B82: 85 01        	sta	<R0
 17194 04:4B84: A9 00 00     	lda	#$0
 17195 04:4B87: 65 0F        	adc	<L645+pWin_1+2
 17196 04:4B89: 85 03        	sta	<R0+2
 17197 04:4B8B: D4 03        	pei	<R0+2
 17198 04:4B8D: D4 01        	pei	<R0
 17199 04:4B8F: F4 xx xx     	pea	#^L643+344
 17200 04:4B92: F4 xx xx     	pea	#<L643+344
 17201 04:4B95: 22 xx xx xx  	jsl	~~k_debug_strings
 17202                        ;				break;
 17203                        	.line	3045
 17204 04:4B99: 82 81 00     	brl	L10267
 17205                        ;			case FX_MOUSE_EXIT:
 17206                        	.line	3046
 17207                        L10275:
 17208                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_MOUSE_EXIT:",pWin->win_title);
 17209                        	.line	3047
 17210 04:4B9C: 18           	clc
 17211 04:4B9D: A9 24 00     	lda	#$24
 17212 04:4BA0: 65 0D        	adc	<L645+pWin_1
 17213 04:4BA2: 85 01        	sta	<R0
 17214 04:4BA4: A9 00 00     	lda	#$0
 17215 04:4BA7: 65 0F        	adc	<L645+pWin_1+2
 17216 04:4BA9: 85 03        	sta	<R0+2
 17217 04:4BAB: D4 03        	pei	<R0+2
 17218 04:4BAD: D4 01        	pei	<R0
 17219 04:4BAF: F4 xx xx     	pea	#^L643+380
 17220 04:4BB2: F4 xx xx     	pea	#<L643+380
 17221 04:4BB5: 22 xx xx xx  	jsl	~~k_debug_strings
 17222                        ;				break;
 17223                        	.line	3048
 17224 04:4BB9: 82 61 00     	brl	L10267
 17225                        ;			case FX_WINDOW_CLOSE:
 17226                        	.line	3049
 17227                        L10276:
 17228                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_WINDOW_CLOSE:",pWin->win_title);
 17229                        	.line	3050
 17230 04:4BBC: 18           	clc
 17231 04:4BBD: A9 24 00     	lda	#$24
 17232 04:4BC0: 65 0D        	adc	<L645+pWin_1
 17233 04:4BC2: 85 01        	sta	<R0
 17234 04:4BC4: A9 00 00     	lda	#$0
 17235 04:4BC7: 65 0F        	adc	<L645+pWin_1+2
 17236 04:4BC9: 85 03        	sta	<R0+2
 17237 04:4BCB: D4 03        	pei	<R0+2
 17238 04:4BCD: D4 01        	pei	<R0
 17239 04:4BCF: F4 xx xx     	pea	#^L643+415
 17240 04:4BD2: F4 xx xx     	pea	#<L643+415
 17241 04:4BD5: 22 xx xx xx  	jsl	~~k_debug_strings
 17242                        ;				return FALSE;
 17243                        	.line	3051
 17244 04:4BD9: A9 00 00     	lda	#$0
 17245                        L651:
 17246 04:4BDC: A8           	tay
  Wed Nov 18 2020  8:26                                                Page 335


 17247 04:4BDD: A5 24        	lda	<L644+2
 17248 04:4BDF: 85 28        	sta	<L644+2+4
 17249 04:4BE1: A5 23        	lda	<L644+1
 17250 04:4BE3: 85 27        	sta	<L644+1+4
 17251 04:4BE5: 2B           	pld
 17252 04:4BE6: 3B           	tsc
 17253 04:4BE7: 18           	clc
 17254 04:4BE8: 69 26 00     	adc	#L644+4
 17255 04:4BEB: 1B           	tcs
 17256 04:4BEC: 98           	tya
 17257 04:4BED: 6B           	rtl
 17258                        ;			default:
 17259                        	.line	3052
 17260                        L10277:
 17261                        ;				DlgWindowProc(pMsg);
 17262                        	.line	3053
 17263 04:4BEE: D4 28        	pei	<L644+pMsg_0+2
 17264 04:4BF0: D4 26        	pei	<L644+pMsg_0
 17265 04:4BF2: 22 40 47 04  	jsl	~~DlgWindowProc
 17266                        ;				break;
 17267                        	.line	3054
 17268 04:4BF6: 82 24 00     	brl	L10267
 17269                        ;			}
 17270                        	.line	3055
 17271                        L10266:
 17272                        	xref	~~~swt
 17273 04:4BF9: 22 xx xx xx  	jsl	~~~swt
 17274 04:4BFD: 07 00        	dw	7
 17275 04:4BFF: 01 0F        	dw	3841
 17276 04:4C01: 7B 4B        	dw	L10274-1
 17277 04:4C03: 02 0F        	dw	3842
 17278 04:4C05: 9B 4B        	dw	L10275-1
 17279 04:4C07: 00 FA        	dw	64000
 17280 04:4C09: 03 4B        	dw	L10271-1
 17281 04:4C0B: 00 FB        	dw	64256
 17282 04:4C0D: 39 49        	dw	L10270-1
 17283 04:4C0F: 01 FB        	dw	64257
 17284 04:4C11: CD 48        	dw	L10269-1
 17285 04:4C13: FF FB        	dw	64511
 17286 04:4C15: BB 4B        	dw	L10276-1
 17287 04:4C17: 03 FF        	dw	65283
 17288 04:4C19: 99 48        	dw	L10268-1
 17289 04:4C1B: ED 4B        	dw	L10277-1
 17290                        L10267:
 17291                        ;		}
 17292                        	.line	3056
 17293                        ;	}
 17294                        L10265:
 17295                        	.line	3057
 17296                        ;	return TRUE;
 17297                        L10264:
 17298                        	.line	3058
 17299 04:4C1D: A9 01 00     	lda	#$1
 17300 04:4C20: 82 B9 FF     	brl	L651
 17301                        ;}
 17302                        	.line	3059
 17303                        	.endblock	3059
 17304             00000022   L644	equ	34
  Wed Nov 18 2020  8:26                                                Page 336


 17305             00000009   L645	equ	9
 17306 04:4C23:              	ends
 17307                        	efunc
 17308                        	.endfunc	3059,9,34
 17309                        	.line	3059
 17310                        	data
 17311                        L643:
 17312 00:0D68: 20 2A 2A 2A  	db	$20,$2A,$2A,$2A,$20,$44,$6C,$67,$41,$62,
                    $6F,$75,$74,$57,$69
       00:0D6C: 20 44 6C 67 
       00:0D70: 41 62 6F 75 
       00:0D74: 74 57 69 
 17313 00:0D77: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$57,
                    $6E,$64,$50,$72,$6F
       00:0D7B: 50 72 6F 63 
       00:0D7F: 3A 57 6E 64 
       00:0D83: 50 72 6F 
 17314 00:0D86: 63 3A 3A 54  	db	$63,$3A,$3A,$54,$79,$70,$65,$3A,$00,$4F,
                    $6B,$00,$44,$6C,$67
       00:0D8A: 79 70 65 3A 
       00:0D8E: 00 4F 6B 00 
       00:0D92: 44 6C 67 
 17315 00:0D95: 41 62 6F 75  	db	$41,$62,$6F,$75,$74,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:0D99: 74 57 69 6E 
       00:0D9D: 64 6F 77 50 
       00:0DA1: 72 6F 63 
 17316 00:0DA4: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,$5F,
                    $57,$49,$4E,$44,$4F
       00:0DA8: 5F 44 52 41 
       00:0DAC: 57 5F 57 49 
       00:0DB0: 4E 44 4F 
 17317 00:0DB3: 57 00 00 46  	db	$57,$00,$00,$46,$58,$2F,$4F,$53,$20,$46,
                    $6F,$65,$6E,$69,$78
       00:0DB7: 58 2F 4F 53 
       00:0DBB: 20 46 6F 65 
       00:0DBF: 6E 69 78 
 17318 00:0DC2: 20 57 6F 72  	db	$20,$57,$6F,$72,$6B,$73,$70,$61,$63,$65,
                    $00,$50,$72,$65,$72
       00:0DC6: 6B 73 70 61 
       00:0DCA: 63 65 00 50 
       00:0DCE: 72 65 72 
 17319 00:0DD1: 65 6C 65 61  	db	$65,$6C,$65,$61,$73,$65,$20,$31,$2E,$30,
                    $2E,$30,$20,$42,$65
       00:0DD5: 73 65 20 31 
       00:0DD9: 2E 30 2E 30 
       00:0DDD: 20 42 65 
 17320 00:0DE0: 74 61 00 54  	db	$74,$61,$00,$54,$49,$4E,$59,$54,$59,$50,
                    $45,$38,$78,$38,$00
       00:0DE4: 49 4E 59 54 
       00:0DE8: 59 50 45 38 
       00:0DEC: 78 38 00 
 17321 00:0DEF: 4F 63 74 6F  	db	$4F,$63,$74,$6F,$62,$65,$72,$20,$31,$2C,
                    $20,$32,$30,$31,$39
       00:0DF3: 62 65 72 20 
       00:0DF7: 31 2C 20 32 
       00:0DFB: 30 31 39 
 17322 00:0DFE: 00 54 49 4E  	db	$00,$54,$49,$4E,$59,$54,$59,$50,$45,$38,
  Wed Nov 18 2020  8:26                                                Page 337


                    $78,$38,$00,$43,$6F
       00:0E02: 59 54 59 50 
       00:0E06: 45 38 78 38 
       00:0E0A: 00 43 6F 
 17323 00:0E0D: 70 79 72 69  	db	$70,$79,$72,$69,$67,$68,$74,$20,$28,$63,
                    $29,$20,$32,$30,$31
       00:0E11: 67 68 74 20 
       00:0E15: 28 63 29 20 
       00:0E19: 32 30 31 
 17324 00:0E1C: 39 2C 20 4D  	db	$39,$2C,$20,$4D,$69,$6B,$65,$20,$42,$75,
                    $73,$68,$00,$54,$49
       00:0E20: 69 6B 65 20 
       00:0E24: 42 75 73 68 
       00:0E28: 00 54 49 
 17325 00:0E2B: 4E 59 54 59  	db	$4E,$59,$54,$59,$50,$45,$38,$78,$38,$00,
                    $41,$75,$74,$68,$6F
       00:0E2F: 50 45 38 78 
       00:0E33: 38 00 41 75 
       00:0E37: 74 68 6F 
 17326 00:0E3A: 72 3A 20 4D  	db	$72,$3A,$20,$4D,$69,$6B,$65,$20,$42,$75,
                    $73,$68,$00,$54,$49
       00:0E3E: 69 6B 65 20 
       00:0E42: 42 75 73 68 
       00:0E46: 00 54 49 
 17327 00:0E49: 4E 59 54 59  	db	$4E,$59,$54,$59,$50,$45,$38,$78,$38,$00,
                    $53,$70,$65,$63,$69
       00:0E4D: 50 45 38 78 
       00:0E51: 38 00 53 70 
       00:0E55: 65 63 69 
 17328 00:0E58: 61 6C 20 54  	db	$61,$6C,$20,$54,$68,$61,$6E,$6B,$73,$3A,
                    $20,$53,$74,$65,$66
       00:0E5C: 68 61 6E 6B 
       00:0E60: 73 3A 20 53 
       00:0E64: 74 65 66 
 17329 00:0E67: 61 6E 79 20  	db	$61,$6E,$79,$20,$41,$6C,$6C,$61,$69,$72,
                    $65,$00,$54,$49,$4E
       00:0E6B: 41 6C 6C 61 
       00:0E6F: 69 72 65 00 
       00:0E73: 54 49 4E 
 17330 00:0E76: 59 54 59 50  	db	$59,$54,$59,$50,$45,$38,$78,$38,$00,$44,
                    $6C,$67,$41,$62,$6F
       00:0E7A: 45 38 78 38 
       00:0E7E: 00 44 6C 67 
       00:0E82: 41 62 6F 
 17331 00:0E85: 75 74 57 69  	db	$75,$74,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0E89: 6E 64 6F 77 
       00:0E8D: 50 72 6F 63 
       00:0E91: 3A 3A 46 
 17332 00:0E94: 58 5F 43 4F  	db	$58,$5F,$43,$4F,$4E,$54,$52,$4F,$4C,$5F,
                    $43,$4F,$4D,$4D,$41
       00:0E98: 4E 54 52 4F 
       00:0E9C: 4C 5F 43 4F 
       00:0EA0: 4D 4D 41 
 17333 00:0EA3: 4E 44 0D 0A  	db	$4E,$44,$0D,$0A,$00,$44,$6C,$67,$41,$62,
                    $6F,$75,$74,$57,$69
       00:0EA7: 00 44 6C 67 
       00:0EAB: 41 62 6F 75 
  Wed Nov 18 2020  8:26                                                Page 338


       00:0EAF: 74 57 69 
 17334 00:0EB2: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,
                    $49,$44,$3A,$00,$44
       00:0EB6: 50 72 6F 63 
       00:0EBA: 3A 3A 49 44 
       00:0EBE: 3A 00 44 
 17335 00:0EC1: 6C 67 41 62  	db	$6C,$67,$41,$62,$6F,$75,$74,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:0EC5: 6F 75 74 57 
       00:0EC9: 69 6E 64 6F 
       00:0ECD: 77 50 72 
 17336 00:0ED0: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4D,$4F,$55,
                    $53,$45,$5F,$45,$4E
       00:0ED4: 46 58 5F 4D 
       00:0ED8: 4F 55 53 45 
       00:0EDC: 5F 45 4E 
 17337 00:0EDF: 54 45 52 3A  	db	$54,$45,$52,$3A,$00,$44,$6C,$67,$41,$62,
                    $6F,$75,$74,$57,$69
       00:0EE3: 00 44 6C 67 
       00:0EE7: 41 62 6F 75 
       00:0EEB: 74 57 69 
 17338 00:0EEE: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,
                    $46,$58,$5F,$4D,$4F
       00:0EF2: 50 72 6F 63 
       00:0EF6: 3A 3A 46 58 
       00:0EFA: 5F 4D 4F 
 17339 00:0EFD: 55 53 45 5F  	db	$55,$53,$45,$5F,$45,$58,$49,$54,$3A,$00,
                    $44,$6C,$67,$41,$62
       00:0F01: 45 58 49 54 
       00:0F05: 3A 00 44 6C 
       00:0F09: 67 41 62 
 17340 00:0F0C: 6F 75 74 57  	db	$6F,$75,$74,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:0F10: 69 6E 64 6F 
       00:0F14: 77 50 72 6F 
       00:0F18: 63 3A 3A 
 17341 00:0F1B: 46 58 5F 57  	db	$46,$58,$5F,$57,$49,$4E,$44,$4F,$57,$5F,
                    $43,$4C,$4F,$53,$45
       00:0F1F: 49 4E 44 4F 
       00:0F23: 57 5F 43 4C 
       00:0F27: 4F 53 45 
 17342 00:0F2A: 3A 00        	db	$3A,$00
 17343 00:0F2C:              	ends
 17344                        ;
 17345                        	.line	3059
 17346                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.c",2912
 17347                        	xref	~~hscrollbarWindowProc
 17348                        	xref	~~vscrollbarWindowProc
 17349                        	xref	~~k_font_getFontWidth
 17350                        	xref	~~k_font_getFontHeight
 17351                        	xref	~~k_create_ui_window_class
 17352                        	xref	~~k_create_context_menu_in_window
 17353                        	xref	~~k_vdma_fill_rect
 17354                        	xref	~~k_vdraw_ui_window
 17355                        	xref	~~k_get_font_metrics
 17356                        	xref	~~k_draw_text_point_with_font
 17357                        	xref	~~k_draw_text_point
  Wed Nov 18 2020  8:26                                                Page 339


 17358                        	xref	~~k_draw_line
 17359                        	xref	~~k_scratch_restore_bitblt
 17360                        	xref	~~k_scratch_save_bitblt
 17361                        	xref	~~k_getUIGadgetColor
 17362                        	xref	~~k_getUIMenuColor
 17363                        	xref	~~k_getUIBackgroundColor
 17364                        	xref	~~k_vdraw_ui_menu
 17365                        	xref	~~k_mem_deallocate_heap
 17366                        	xref	~~k_mem_allocate_heap
 17367                        	xref	~~k_send_command_message
 17368                        	xref	~~k_send_window_message
 17369                        	xref	~~k_exec_get_current_process
 17370                        	xref	~~k_get_localtime_string
 17371                        	xref	~~k_string_copy_string
 17372                        	xref	~~k_debug_nodelist
 17373                        	xref	~~k_debug_rect
 17374                        	xref	~~k_debug_strings
 17375                        	xref	~~k_debug_message
 17376                        	xref	~~k_debug_long
 17377                        	xref	~~k_debug_integer
 17378                        	xref	~~k_debug_pointer
 17379                        	xref	~~k_debug_string
 17380                        	xref	~~k_nodelist_foreach_listdata_remove
 17381                        	xref	~~k_nodelist_foreach_until_listdata
 17382                        	xref	~~k_nodelist_foreach_listdata
 17383                        	xref	~~k_nodelist_foreach_type
 17384                        	xref	~~k_nodelist_getfirstnode
 17385                        	xref	~~k_nodelist_searchByName
 17386                        	xref	~~k_nodelist_addnodetolist
 17387                        	xref	~~k_nodelist_naddtolist
 17388                        	xref	~~k_nodelist_naddtolist_tohead
 17389                        	xref	~~k_nodelist_addtolist
 17390                        	xref	~~k_nodelist_deallocate_list
 17391                        	xref	~~k_nodelist_allocate_list
 17392                        	xref	~~k_nodelist_ncreate
 17393                        	xref	~~strlen
 17394                        	xref	~~strcpy
 17395                        	xref	~~strcmp
 17396                        	xref	~~memset
 17397                        	xref	~~BM437FXOS8x8
 17398                        	xref	~~BM4378X8ITAL
 17399                        	xref	~~BM437AMIGO8x8
 17400                        	xref	~~BM437FANTASY
 17401                        	xref	~~BM437TINYTYPE8x8
 17402                        	xref	~~Bm437ATI6x8
 17403                        	xref	~~Bm437ATI8x16
 17404                        	xref	~~Bm437ToshibaLCD8x8
 17405                        	.sym	~~k_point_in_depth_nodeslist,~~k_point_i
                    n_depth_nodeslist,1098,2,32,2
 17406                        	.sym	~~k_user_CreateWindowEx,~~k_user_CreateW
                    indowEx,1098,2,32,25
 17407                        	.sym	~~k_user_SelectColorIntoContext,~~k_user
                    _SelectColorIntoContext,65,2,0
 17408                        	.sym	~~k_user_SelectFontIntoContext,~~k_user_
                    SelectFontIntoContext,65,2,0
 17409                        	.sym	~~k_user_ReleaseWindowDrawingContext,~~k
                    _user_ReleaseWindowDrawingContext,65,2,0
 17410                        	.sym	~~k_user_GetWindowDrawingContext,~~k_use
  Wed Nov 18 2020  8:26                                                Page 340


                    r_GetWindowDrawingContext,1089,2,32
 17411                        	.sym	~~k_user_GetFont,~~k_user_GetFont,1089,2
                    ,32
 17412                        	.sym	~~k_user_getWindowClass,~~k_user_getWind
                    owClass,1098,2,32,23
 17413                        	.sym	~~k_deallocate_menu_resource,~~k_dealloc
                    ate_menu_resource,65,2,0
 17414                        	.sym	~~k_deallocate_icon_object,~~k_deallocat
                    e_icon_object,65,2,0
 17415                        	.sym	~~_k_windowManager_FontList,~~_k_windowM
                    anager_FontList,138,3,32,3
 17416                        	.sym	~~_k_windowManager_IconList,~~_k_windowM
                    anager_IconList,138,3,32,3
 17417                        	.sym	~~_k_windowManager_WindowMenuList,~~_k_w
                    indowManager_WindowMenuList,138,3,32,3
 17418                        	.sym	~~_k_windowManager_ObjectHitList,~~_k_wi
                    ndowManager_ObjectHitList,138,3,32,3
 17419                        	.sym	~~_k_windowManager_WindowObjectList,~~_k
                    _windowManager_WindowObjectList,138,3,32,3
 17420                        	.sym	~~_k_windowManager_WindowClassList,~~_k_
                    windowManager_WindowClassList,138,3,32,3
 17421                        	.sym	~~debug_clickable_node,~~debug_clickable
                    _node,65,2,0
 17422                        	.sym	~~debug_window_node,~~debug_window_node,
                    65,2,0
 17423                        	.sym	~~k_is_window_closed,~~k_is_window_close
                    d,78,2,0
 17424                        	.sym	~~k_size_dropdown_menus,~~k_size_dropdow
                    n_menus,65,2,0
 17425                        	.sym	~~find_window_caption,~~find_window_capt
                    ion,78,2,0
 17426                        	.sym	~~find_child_window,~~find_child_window,
                    78,2,0
 17427                        	.sym	~~k_iterate_children,~~k_iterate_childre
                    n,65,2,0
 17428                        	.sym	~~k_iterate_dropdown_menu_captions,~~k_i
                    terate_dropdown_menu_captions,65,2,0
 17429                        	.sym	~~k_iterate_menus,~~k_iterate_menus,65,2
                    ,0
 17430                        	.sym	~~_k_user_send_child_message,~~_k_user_s
                    end_child_message,78,2,0
 17431                        	.sym	PEACHCHILD_MSG,0,138,14,32,61
 17432                        	.sym	EACHCHILD_MSG,0,10,14,64,61
 17433                        	.sym	~~menuDropDownWindowProc,~~menuDropDownW
                    indowProc,78,2,0
 17434                        	.sym	~~menuAnchorWindowProc,~~menuAnchorWindo
                    wProc,78,2,0
 17435                        	.sym	~~gadgetWindowProc,~~gadgetWindowProc,78
                    ,2,0
 17436                        	.sym	~~menuWindowProc,~~menuWindowProc,78,2,0
 17437                        	.sym	~~hscrollbarWindowProc,~~hscrollbarWindo
                    wProc,78,18,0
 17438                        	.sym	~~vscrollbarWindowProc,~~vscrollbarWindo
                    wProc,78,18,0
 17439                        	.sym	~~buttonWindowProc,~~buttonWindowProc,78
                    ,2,0
 17440                        	.sym	~~DlgAboutWindowProc,~~DlgAboutWindowPro
                    c,78,2,0
  Wed Nov 18 2020  8:26                                                Page 341


 17441                        	.sym	~~DlgWindowProc,~~DlgWindowProc,78,2,0
 17442                        	.sym	~~DefWindowProc,~~DefWindowProc,78,2,0
 17443                        	.sym	~~k_clean_closed_windows,~~k_clean_close
                    d_windows,65,2,0
 17444                        	.sym	~~k_deallocate_font_object,~~k_deallocat
                    e_font_object,65,2,0
 17445                        	.sym	~~k_deallocate_hit_class,~~k_deallocate_
                    hit_class,65,2,0
 17446                        	.sym	~~k_deallocate_menu_object,~~k_deallocat
                    e_menu_object,65,2,0
 17447                        	.sym	~~k_deallocate_window_object,~~k_dealloc
                    ate_window_object,65,2,0
 17448                        	.sym	~~k_deallocate_window_class,~~k_dealloca
                    te_window_class,65,2,0
 17449                        	.sym	~~k_func_drawAnchorText,~~k_func_drawAnc
                    horText,65,2,0
 17450                        	.sym	~~k_render_text,~~k_render_text,69,2,0
 17451                        	.sym	~~k_text_callback,~~k_text_callback,65,2
                    ,0
 17452                        	.sym	~~k_point_hit_scan_nodeslist,~~k_point_h
                    it_scan_nodeslist,1098,2,32,2
 17453                        	.sym	~~k_point_hit_resetdepth_nodeslist,~~k_p
                    oint_hit_resetdepth_nodeslist,65,2,0
 17454                        	.sym	~~k_point_hit_scan,~~k_point_hit_scan,10
                    98,2,32,2
 17455                        	.sym	~~k_remove_closed_windows_from_list,~~k_
                    remove_closed_windows_from_list,1098,2,32,2
 17456                        	.sym	~~k_update_hover_location,~~k_update_hov
                    er_location,65,2,0
 17457                        	.sym	~~k_add_object_hit_node_local,~~k_add_ob
                    ject_hit_node_local,65,2,0
 17458                        	.sym	~~k_attach_mouse_detection_local,~~k_att
                    ach_mouse_detection_local,69,2,0
 17459                        	.sym	~~k_point_in_any_nodeslist,~~k_point_in_
                    any_nodeslist,1098,2,32,2
 17460                        	.sym	~~k_point_in_nodeslist,~~k_point_in_node
                    slist,1098,2,32,2
 17461                        	.sym	~~k_add_object_hit_node,~~k_add_object_h
                    it_node,65,2,0
 17462                        	.sym	~~k_attach_mouse_detection,~~k_attach_mo
                    use_detection,69,2,0
 17463                        	.sym	~~k_add_child_window,~~k_add_child_windo
                    w,78,2,0
 17464                        	.sym	~~k_user_FillClientRect,~~k_user_FillCli
                    entRect,1098,2,32,22
 17465                        	.sym	~~k_user_DrawWindowTextToPointWithFont,~
                    ~k_user_DrawWindowTextToPointWithFont,80,2,0
 17466                        	.sym	~~k_user_DrawWindowTextToPoint,~~k_user_
                    DrawWindowTextToPoint,80,2,0
 17467                        	.sym	~~k_user_DrawText,~~k_user_DrawText,80,2
                    ,0
 17468                        	.sym	~~k_user_CopyRect,~~k_user_CopyRect,65,2
                    ,0
 17469                        	.sym	~~k_user_ClearRect,~~k_user_ClearRect,65
                    ,2,0
 17470                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,2,0
 17471                        	.sym	~~k_user_IsChildWindow,~~k_user_IsChildW
                    indow,78,2,0
  Wed Nov 18 2020  8:26                                                Page 342


 17472                        	.sym	~~k_user_getFocusWindow,~~k_user_getFocu
                    sWindow,1089,2,32
 17473                        	.sym	~~k_user_MoveWindow,~~k_user_MoveWindow,
                    65,2,0
 17474                        	.sym	~~k_user_CenterBottomWindow,~~k_user_Cen
                    terBottomWindow,65,2,0
 17475                        	.sym	~~k_user_CenterWindow,~~k_user_CenterWin
                    dow,65,2,0
 17476                        	.sym	~~k_user_CreateButton,~~k_user_CreateBut
                    ton,1098,2,32,24
 17477                        	.sym	~~k_user_CreateMenuDropDown,~~k_user_Cre
                    ateMenuDropDown,1098,2,32,24
 17478                        	.sym	~~k_user_CreateMenuAnchor,~~k_user_Creat
                    eMenuAnchor,1098,2,32,24
 17479                        	.sym	~~k_user_AddMenuItem,~~k_user_AddMenuIte
                    m,1089,2,32
 17480                        	.sym	~~k_user_CreateMenuResource,~~k_user_Cre
                    ateMenuResource,1089,2,32
 17481                        	.sym	~~k_user_CreateMenu,~~k_user_CreateMenu,
                    1098,2,32,24
 17482                        	.sym	~~k_user_GlobalToClientCoordinates,~~k_u
                    ser_GlobalToClientCoordinates,1098,2,32,21
 17483                        	.sym	~~k_user_ClientToGlobalCoordinates,~~k_u
                    ser_ClientToGlobalCoordinates,1098,2,32,21
 17484                        	.sym	~~k_user_ShowWindow,~~k_user_ShowWindow,
                    78,2,0
 17485                        	.sym	~~k_user_getFontClass,~~k_user_getFontCl
                    ass,1089,2,32
 17486                        	.sym	~~k_user_RegisterFontClass,~~k_user_Regi
                    sterFontClass,1089,2,32
 17487                        	.sym	~~k_user_CloseWindow,~~k_user_CloseWindo
                    w,78,2,0
 17488                        	.sym	~~k_user_LoadDialog,~~k_user_LoadDialog,
                    1098,2,32,24
 17489                        	.sym	~~k_user_GetWindowData,~~k_user_GetWindo
                    wData,1089,2,32
 17490                        	.sym	~~k_user_SetWindowData,~~k_user_SetWindo
                    wData,1089,2,32
 17491                        	.sym	~~k_user_CreateWindow,~~k_user_CreateWin
                    dow,1098,2,32,24
 17492                        	.sym	~~k_user_RegisterWindowClass,~~k_user_Re
                    gisterWindowClass,1089,2,32
 17493                        	.sym	~~k_user_CreateWindowClass,~~k_user_Crea
                    teWindowClass,1098,2,32,23
 17494                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,2,0
 17495                        	.sym	~~k_user_findWindow,~~k_user_findWindow,
                    1089,2,32
 17496                        	.sym	~~k_user_getDesktopWindow,~~k_user_getDe
                    sktopWindow,1089,2,32
 17497                        	.sym	~~k_getHandleFromWindow,~~k_getHandleFro
                    mWindow,1089,2,32
 17498                        	.sym	~~k_getWindowFromHandle,~~k_getWindowFro
                    mHandle,1098,2,32,24
 17499                        	.sym	~~k_getWindowClassList,~~k_getWindowClas
                    sList,1098,2,32,2
 17500                        	.sym	~~k_getWindowList,~~k_getWindowList,1098
                    ,2,32,2
  Wed Nov 18 2020  8:26                                                Page 343


 17501                        	.sym	~~k_getWindowHitList,~~k_getWindowHitLis
                    t,1098,2,32,2
 17502                        	.sym	~~k_getWindowManagerHitList,~~k_getWindo
                    wManagerHitList,1098,2,32,3
 17503                        	.sym	~~k_getWindowManagerClassList,~~k_getWin
                    dowManagerClassList,1098,2,32,3
 17504                        	.sym	~~k_getWindowManagerList,~~k_getWindowMa
                    nagerList,1098,2,32,3
 17505                        	.sym	~~k_initializeWindowManager,~~k_initiali
                    zeWindowManager,78,2,0
 17506                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,18,0
 17507                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,18,0
 17508                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,18,32,24
 17509                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,18,32,29
 17510                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,18,0
 17511                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,18,0
 17512                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,18,0
 17513                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,18,0
 17514                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,18,0
 17515                        	.sym	~~k_draw_line,~~k_draw_line,65,18,0
 17516                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
                    estore_bitblt,65,18,0
 17517                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,18,0
 17518                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,18,0
 17519                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,18,0
 17520                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,18,0
 17521                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,60
 17522                        	.sym	CUR_PALETTE_MAP,0,10,14,400,60
 17523                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,18,32,29
 17524                        	.sym	PCLICKDETECTED,0,138,14,32,59
 17525                        	.sym	CLICKDETECTED,0,10,14,64,59
 17526                        	.sym	OBJECTCLICKED,0,641,14,32
 17527                        	.sym	~~BM437FXOS8x8,~~BM437FXOS8x8,110,18,0,0
 17528                        	.sym	~~BM4378X8ITAL,~~BM4378X8ITAL,110,18,0,0
 17529                        	.sym	~~BM437AMIGO8x8,~~BM437AMIGO8x8,110,18,0
                    ,0
 17530                        	.sym	~~BM437FANTASY,~~BM437FANTASY,110,18,0,0
 17531                        	.sym	~~BM437TINYTYPE8x8,~~BM437TINYTYPE8x8,11
                    0,18,0,0
 17532                        	.sym	~~Bm437ATI6x8,~~Bm437ATI6x8,110,18,0,0
 17533                        	.sym	~~Bm437ATI8x16,~~Bm437ATI8x16,110,18,0,0
 17534                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 17535                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
  Wed Nov 18 2020  8:26                                                Page 344


                    te_heap,65,18,0
 17536                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 17537                        	.sym	MemoryCallback,0,641,14,32
 17538                        	.sym	PFXMEMORYMAP,0,138,14,32,58
 17539                        	.sym	FXMEMORYMAP,0,10,14,2072,58
 17540                        	.sym	UMM_HEAP_INFO,0,10,14,256,57
 17541                        	.sym	PCOMMANDARGS,0,138,14,32,56
 17542                        	.sym	COMMANDARGS,0,10,14,64,56
 17543                        	.sym	PTOKENIZESTATE,0,133,14,32
 17544                        	.sym	TOKENIZESTATE,0,5,14,16
 17545                        	.sym	PTOKEN,0,138,14,32,55
 17546                        	.sym	TOKEN,0,10,14,64,55
 17547                        	.sym	PTOKENTYPE,0,133,14,32
 17548                        	.sym	TOKENTYPE,0,5,14,16
 17549                        	.sym	FXCommandHandler,0,656,14,32
 17550                        	.sym	PCONSOLECTX,0,138,14,32,54
 17551                        	.sym	CONSOLECTX,0,10,14,1144,54
 17552                        	.sym	PSPINNERCTX,0,138,14,32,53
 17553                        	.sym	SPINNERCTX,0,10,14,48,53
 17554                        	.sym	~~k_send_command_message,~~k_send_comman
                    d_message,78,18,0
 17555                        	.sym	~~k_send_window_message,~~k_send_window_
                    message,78,18,0
 17556                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,52
 17557                        	.sym	MOUSE_MSG_STATE,0,10,14,184,52
 17558                        	.sym	PFXEVENTPROCESS,0,138,14,32,51
 17559                        	.sym	FXEVENTPROCESS,0,10,14,64,51
 17560                        	.sym	FXEventProc,0,641,14,32
 17561                        	.sym	PMOUSEMSGDATA,0,138,14,32,50
 17562                        	.sym	MOUSEMSGDATA,0,10,14,64,50
 17563                        	.sym	MSGIRQ,0,5,14,16
 17564                        	.sym	MAINLOOPARGS,0,10,14,16,49
 17565                        	.sym	~~k_exec_get_current_process,~~k_exec_ge
                    t_current_process,1098,18,32,17
 17566                        	.sym	~~k_get_localtime_string,~~k_get_localti
                    me_string,1102,18,32
 17567                        	.sym	~~k_string_copy_string,~~k_string_copy_s
                    tring,1102,18,32
 17568                        	.sym	PFXSTRING,0,138,14,32,48
 17569                        	.sym	FXSTRING,0,10,14,64,48
 17570                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 17571                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 17572                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 17573                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 17574                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 17575                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,47
 17576                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,47
 17577                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,46
 17578                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,46
 17579                        	.sym	~~k_debug_nodelist,~~k_debug_nodelist,65
                    ,18,0
 17580                        	.sym	~~k_debug_rect,~~k_debug_rect,65,18,0
 17581                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 17582                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 17583                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
  Wed Nov 18 2020  8:26                                                Page 345


 17584                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 17585                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 17586                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 17587                        	.sym	PDEBUGBYTEBITS,0,138,14,32,45
 17588                        	.sym	DEBUGBYTEBITS,0,10,14,8,45
 17589                        	.sym	PFXENVIRONMENT,0,138,14,32,44
 17590                        	.sym	FXENVIRONMENT,0,10,14,96,44
 17591                        	.sym	PFXZERPOPAGE,0,138,14,32,43
 17592                        	.sym	FXZERPOPAGE,0,10,14,448,43
 17593                        	.sym	KERNELTRAPCALL,0,641,14,32
 17594                        	.sym	~~k_nodelist_foreach_listdata_remove,~~k
                    _nodelist_foreach_listdata_remove,65,18,0
 17595                        	.sym	~~k_nodelist_foreach_until_listdata,~~k_
                    nodelist_foreach_until_listdata,1098,18,32,2
 17596                        	.sym	~~k_nodelist_foreach_listdata,~~k_nodeli
                    st_foreach_listdata,65,18,0
 17597                        	.sym	~~k_nodelist_foreach_type,~~k_nodelist_f
                    oreach_type,65,18,0
 17598                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 17599                        	.sym	FOREACHNODE,0,641,14,32
 17600                        	.sym	~~k_nodelist_getfirstnode,~~k_nodelist_g
                    etfirstnode,1098,18,32,2
 17601                        	.sym	~~k_nodelist_searchByName,~~k_nodelist_s
                    earchByName,1098,18,32,2
 17602                        	.sym	~~k_nodelist_addnodetolist,~~k_nodelist_
                    addnodetolist,1098,18,32,2
 17603                        	.sym	~~k_nodelist_naddtolist,~~k_nodelist_nad
                    dtolist,1098,18,32,2
 17604                        	.sym	~~k_nodelist_naddtolist_tohead,~~k_nodel
                    ist_naddtolist_tohead,1098,18,32,2
 17605                        	.sym	~~k_nodelist_addtolist,~~k_nodelist_addt
                    olist,1098,18,32,2
 17606                        	.sym	~~k_nodelist_deallocate_list,~~k_nodelis
                    t_deallocate_list,65,18,0
 17607                        	.sym	~~k_nodelist_allocate_list,~~k_nodelist_
                    allocate_list,1098,18,32,3
 17608                        	.sym	~~k_nodelist_ncreate,~~k_nodelist_ncreat
                    e,1098,18,32,2
 17609                        	.sym	~~strlen,~~strlen,80,18,0
 17610                        	.sym	~~strcpy,~~strcpy,1102,18,32
 17611                        	.sym	~~strcmp,~~strcmp,69,18,0
 17612                        	.sym	~~memset,~~memset,1089,18,32
 17613                        	.sym	Boolean_T,0,5,14,16
 17614                        	.sym	ldiv_t,0,10,14,64,41
 17615                        	.sym	div_t,0,10,14,32,40
 17616                        	.sym	wctype_t,0,16,14,16
 17617                        	.sym	wint_t,0,16,14,16
 17618                        	.sym	wchar_t,0,14,14,8
 17619                        	.sym	ptrdiff_t,0,7,14,32
 17620                        	.sym	size_t,0,16,14,16
 17621                        	.sym	PFXCOMBUFFER,0,138,14,32,39
 17622                        	.sym	FXCOMBUFFER,0,10,14,2080,39
 17623                        	.sym	PSUBMENULIST,0,138,14,32,38
 17624                        	.sym	SUBMENULIST,0,10,14,40,38
 17625                        	.sym	HSUBMENU,0,7,14,32
  Wed Nov 18 2020  8:26                                                Page 346


 17626                        	.sym	PSUBMENU,0,138,14,32,37
 17627                        	.sym	SUBMENU,0,10,14,64,37
 17628                        	.sym	MenuAction,0,641,14,32
 17629                        	.sym	PMENUANCHOR,0,138,14,32,36
 17630                        	.sym	MENUANCHOR,0,10,14,144,36
 17631                        	.sym	PTEXTBOX,0,138,14,32,35
 17632                        	.sym	TEXTBOX,0,10,14,144,35
 17633                        	.sym	PLISTBOX,0,138,14,32,34
 17634                        	.sym	LISTBOX,0,10,14,240,34
 17635                        	.sym	PSCROLLBAR,0,138,14,32,33
 17636                        	.sym	SCROLLBAR,0,10,14,192,33
 17637                        	.sym	PBUTTON,0,138,14,32,32
 17638                        	.sym	BUTTON,0,10,14,80,32
 17639                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,31
 17640                        	.sym	MENUDROPDOWNDATA,0,10,14,3376,31
 17641                        	.sym	PMENUTAG,0,138,14,32,30
 17642                        	.sym	MENUTAG,0,10,14,112,30
 17643                        	.sym	PMENU,0,138,14,32,29
 17644                        	.sym	MENU,0,10,14,248,29
 17645                        	.sym	HMENURESOURCE,0,129,14,32
 17646                        	.sym	HCLICKABLE,0,7,14,32
 17647                        	.sym	PCLICKABLE,0,138,14,32,28
 17648                        	.sym	CLICKABLE,0,10,14,88,28
 17649                        	.sym	HTEXTBOX,0,7,14,32
 17650                        	.sym	PTEXTBOXX,0,138,14,32,27
 17651                        	.sym	TEXTBOXX,0,10,14,112,27
 17652                        	.sym	FONTMETRIC,0,10,14,32,26
 17653                        	.sym	TITLE,0,142,14,32
 17654                        	.sym	PHANDLE,0,1153,14,32
 17655                        	.sym	HANDLE,0,129,14,32
 17656                        	.sym	PWINDOWEX,0,138,14,32,25
 17657                        	.sym	WINDOWEX,0,10,14,1296,25
 17658                        	.sym	WindowEx,0,10,14,1296,25
 17659                        	.sym	PWINDOW,0,138,14,32,24
 17660                        	.sym	WINDOW,0,10,14,1328,24
 17661                        	.sym	Window,0,10,14,1328,24
 17662                        	.sym	PWNDCLASS,0,138,14,32,23
 17663                        	.sym	WNDCLASS,0,10,14,256,23
 17664                        	.sym	HBRUSH,0,129,14,32
 17665                        	.sym	HCURSOR,0,129,14,32
 17666                        	.sym	HICON,0,129,14,32
 17667                        	.sym	HINSTANCE,0,129,14,32
 17668                        	.sym	FXWndProc,0,654,14,32
 17669                        	.sym	PRECT,0,138,14,32,22
 17670                        	.sym	RECT,0,10,14,64,22
 17671                        	.sym	PPOINT,0,138,14,32,21
 17672                        	.sym	POINT,0,10,14,32,21
 17673                        	.sym	PFXPROPERTY,0,138,14,32,19
 17674                        	.sym	FXPROPERTY,0,10,14,384,19
 17675                        	.sym	SCANCODE,0,14,14,8
 17676                        	.sym	KEYCODE,0,14,14,8
 17677                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,18
 17678                        	.sym	FXPROCESSMESSAGE,0,10,14,112,18
 17679                        	.sym	PFXPROCESS,0,138,14,32,17
 17680                        	.sym	FXPROCESS,0,10,14,800,17
 17681                        	.sym	PDESKTOP_CONTROL,0,138,14,32,16
 17682                        	.sym	DESKTOP_CONTROL,0,10,14,392,16
 17683                        	.sym	PCONSOLE_CONTROL,0,138,14,32,15
  Wed Nov 18 2020  8:26                                                Page 347


 17684                        	.sym	CONSOLE_CONTROL,0,10,14,448,15
 17685                        	.sym	FXProcessProc,0,641,14,32
 17686                        	.sym	PFXCMDMESSAGE,0,138,14,32,14
 17687                        	.sym	FXCMDMESSAGE,0,10,14,304,14
 17688                        	.sym	PFXOSMESSAGE,0,138,14,32,13
 17689                        	.sym	FXOSMESSAGE,0,10,14,304,13
 17690                        	.sym	PINT_REGS,0,138,14,32,12
 17691                        	.sym	INT_REGS,0,10,14,104,12
 17692                        	.sym	TASK_STACK,0,10,14,32,11
 17693                        	.sym	TASK,0,10,14,48,10
 17694                        	.sym	PIRQDATA,0,138,14,32,9
 17695                        	.sym	IRQDATA,0,10,14,48,9
 17696                        	.sym	HMENU,0,129,14,32
 17697                        	.sym	HWND,0,129,14,32
 17698                        	.sym	MSGDATA,0,14,14,8
 17699                        	.sym	MSGDEST,0,18,14,32
 17700                        	.sym	MSGSRC,0,18,14,32
 17701                        	.sym	MSGTYPE,0,16,14,16
 17702                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,3
 17703                        	.sym	PROCESS_TLS_LIST,0,138,14,32,3
 17704                        	.sym	SEMAPHORE_LIST,0,138,14,32,3
 17705                        	.sym	FILE_BLOCK_LIST,0,138,14,32,3
 17706                        	.sym	FILE_PATH_LIST,0,138,14,32,3
 17707                        	.sym	PROCEDURE_LIST,0,138,14,32,3
 17708                        	.sym	FILE_HANDLE,0,138,14,32,8
 17709                        	.sym	FILE_BLOCK,0,10,14,552,8
 17710                        	.sym	SEMAPHORE,0,10,14,16,7
 17711                        	.sym	PPROCESS_SIGNAL,0,138,14,32,6
 17712                        	.sym	PROCESS_SIGNAL,0,10,14,16,6
 17713                        	.sym	KRESULT,0,18,14,32
 17714                        	.sym	PKERNEL_ERROR,0,138,14,32,5
 17715                        	.sym	KERNEL_ERROR,0,10,14,32,5
 17716                        	.sym	PROCESS_STATUS,0,16,14,16
 17717                        	.sym	FILE_PATH_NAME,0,142,14,32
 17718                        	.sym	PROCESS_RESOURCE,0,129,14,32
 17719                        	.sym	PROCESS_TLS,0,129,14,32
 17720                        	.sym	PROCESS_CTX,0,129,14,32
 17721                        	.sym	USERID,0,16,14,16
 17722                        	.sym	PROCESS_ID,0,18,14,32
 17723                        	.sym	PROCESS_BANK,0,14,14,8
 17724                        	.sym	PFXQUEUE,0,138,14,32,4
 17725                        	.sym	FXQUEUE,0,10,14,80,4
 17726                        	.sym	PFXNODELIST,0,138,14,32,3
 17727                        	.sym	FXNODELIST,0,10,14,96,3
 17728                        	.sym	NodeListDeallocator,0,641,14,32
 17729                        	.sym	PFXNODE,0,138,14,32,2
 17730                        	.sym	FXNODE,0,10,14,384,2
 17731                        	.sym	PBYTEBITS,0,138,14,32,1
 17732                        	.sym	BYTEBITS,0,10,14,8,1
 17733                        	.sym	HCOLOR,0,129,14,32
 17734                        	.sym	HFONT,0,129,14,32
 17735                        	.sym	HDC,0,129,14,32
 17736                        	.sym	uint32_t,0,18,14,32
 17737                        	.sym	uint8_t,0,14,14,8
 17738                        	.sym	PFAR,0,142,14,32
 17739                        	.sym	LPBOOL,0,142,14,32
 17740                        	.sym	BOOL,0,14,14,8
 17741                        	.sym	DWORD,0,18,14,32
  Wed Nov 18 2020  8:26                                                Page 348


 17742                        	.sym	ULONG,0,18,14,32
 17743                        	.sym	LPLONG,0,135,14,32
 17744                        	.sym	LONG,0,7,14,32
 17745                        	.sym	PUINT,0,144,14,32
 17746                        	.sym	USHORT,0,16,14,16
 17747                        	.sym	UINT,0,16,14,16
 17748                        	.sym	INT,0,5,14,16
 17749                        	.sym	WORD,0,5,14,16
 17750                        	.sym	PBYTE,0,142,14,32
 17751                        	.sym	BYTE,0,14,14,8
 17752                        	.sym	UCHAR,0,14,14,8
 17753                        	.sym	LPWCSTR,0,142,14,32
 17754                        	.sym	LPCSTR,0,142,14,32
 17755                        	.sym	LPSTR,0,142,14,32
 17756                        	.sym	LPCHAR,0,142,14,32
 17757                        	.sym	CHAR,0,14,14,8
 17758                        	.sym	LPVOID,0,129,14,32
 17759                        	.sym	VOID,0,1,14,32
 17760                        	end


      Lines assembled: 17760
      Errors: 0
