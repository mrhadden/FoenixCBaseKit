  Wed Nov 18 2020  8:27                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Wed Nov 18 2020  8:27                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Wed Nov 18 2020  8:27                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,304,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.eos
   116                        	.stag	_fx_cmdMessage,304,17
   117                        	.member	src,0,18,8,32
   118                        	.member	dest,32,18,8,32
   119                        	.member	type,64,16,8,16
   120                        	.member	hwnd,80,129,8,32
   121                        	.member	pheap,112,129,8,32
   122                        	.member	msgTime,144,18,8,32
   123                        	.member	cmdCId,176,16,8,16
   124                        	.member	cmdMId,192,16,8,16
   125                        	.member	parameter1,208,18,8,32
   126                        	.member	parameter2,240,18,8,32
   127                        	.member	parameter3,272,18,8,32
   128                        	.eos
   129                        	.stag	_fx_console_ctl,448,18
   130                        	.member	maxCols,0,5,8,16
   131                        	.member	maxRows,16,5,8,16
   132                        	.member	curX,32,5,8,16
   133                        	.member	curY,48,5,8,16
   134                        	.member	fgColor,64,5,8,16
   135                        	.member	bgColor,80,5,8,16
   136                        	.member	mode,96,14,8,8
   137                        	.member	kbBuffer,104,101,8,0,16
   138                        	.member	screenBuffer,360,142,8,32
   139                        	.member	desktopMode,392,14,8,8
   140                        	.member	lastMouseButton,400,5,8,16
   141                        	.member	lastMouseX,416,5,8,16
   142                        	.member	lastMouseY,432,5,8,16
   143                        	.eos
   144                        	.stag	_fx_desktop_ctl,392,19
   145                        	.member	desktopMode,0,14,8,8
   146                        	.member	cursorCtl,8,5,8,16
   147                        	.member	cursorState,24,5,8,16
   148                        	.member	backgroundColor,40,5,8,16
   149                        	.member	foregroundColor,56,5,8,16
   150                        	.member	menuMode,72,5,8,16
   151                        	.member	lastMouseButton,88,5,8,16
   152                        	.member	lastMouseX,104,5,8,16
   153                        	.member	lastMouseY,120,5,8,16
   154                        	.member	currentDiskName,136,142,8,32
   155                        	.member	diskNodes,168,129,8,32
   156                        	.member	titleNodes,200,129,8,32
   157                        	.member	menuNodes,232,129,8,32
  Wed Nov 18 2020  8:27                                                Page 4


   158                        	.member	iconNodes,264,129,8,32
   159                        	.member	windowNodes,296,129,8,32
   160                        	.member	fontNodes,328,129,8,32
   161                        	.member	wndProc,360,138,8,32,6
   162                        	.eos
   163                        	.stag	_fx_process,800,20
   164                        	.member	cbSize,0,5,8,16
   165                        	.member	procId,16,18,8,32
   166                        	.member	parentId,48,18,8,32
   167                        	.member	ctx,80,129,8,32
   168                        	.member	userId,112,16,8,16
   169                        	.member	status,128,16,8,16
   170                        	.member	foregroundActive,144,14,8,8
   171                        	.member	tls,152,1121,8,32,8
   172                        	.member	commandLine,408,142,8,32
   173                        	.member	semaphores,440,138,8,32,6
   174                        	.member	fileHandles,472,138,8,32,6
   175                        	.member	pathList,504,138,8,32,6
   176                        	.member	resources,536,138,8,32,6
   177                        	.member	timerAware,568,14,8,8
   178                        	.member	timerTicks,576,112,8,0,2
   179                        	.member	timerTickCount,608,112,8,0,2
   180                        	.member	kernelError,640,10,8,32,8
   181                        	.member	consoleCtl,672,138,8,32,18
   182                        	.member	desktopCtl,704,138,8,32,19
   183                        	.member	execProc,736,641,8,32
   184                        	.member	startupArgs,768,129,8,32
   185                        	.eos
   186                        	.stag	_fxProcessMessage,112,21
   187                        	.member	src,0,18,8,32
   188                        	.member	dest,32,18,8,32
   189                        	.member	type,64,16,8,16
   190                        	.member	processInfo,80,138,8,32,20
   191                        	.eos
   192                        	.stag	_fx_property,384,22
   193                        	.member	name,0,110,8,0,16
   194                        	.member	value,128,110,8,0,32
   195                        	.eos
   196                        	.utag	_24bitPointer,32,23
   197                        	.member	address,0,142,11,32
   198                        	.member	bytes,0,110,11,0,4
   199                        	.eos
   200                        	.stag	_PointStruct,32,24
   201                        	.member	x,0,5,8,16
   202                        	.member	y,16,5,8,16
   203                        	.eos
   204                        	.stag	_RectStruct,64,25
   205                        	.member	x,0,5,8,16
   206                        	.member	y,16,5,8,16
   207                        	.member	width,32,5,8,16
   208                        	.member	height,48,5,8,16
   209                        	.eos
   210                        	.stag	_k_WindowClass,256,26
   211                        	.member	cbSize,0,16,8,16
   212                        	.member	style,16,16,8,16
   213                        	.member	pWndProc,32,654,8,32
   214                        	.member	hInstance,64,129,8,32
   215                        	.member	hIcon,96,129,8,32
  Wed Nov 18 2020  8:27                                                Page 5


   216                        	.member	hCursor,128,129,8,32
   217                        	.member	hbrBackground,160,129,8,32
   218                        	.member	lpszMenuName,192,142,8,32
   219                        	.member	lpszClassName,224,142,8,32
   220                        	.eos
   221                        	.stag	_k_WindowStruct,1328,27
   222                        	.member	cbSize,0,16,8,16
   223                        	.member	style,16,18,8,32
   224                        	.member	win_id,48,5,8,16
   225                        	.member	win_x,64,5,8,16
   226                        	.member	win_y,80,5,8,16
   227                        	.member	win_width,96,5,8,16
   228                        	.member	win_height,112,5,8,16
   229                        	.member	wndRect,128,10,8,64,25
   230                        	.member	clientRect,192,10,8,64,25
   231                        	.member	clickable,256,129,8,32
   232                        	.member	win_title,288,110,8,0,32
   233                        	.member	Reserved0,544,16,8,16
   234                        	.member	win_class,560,110,8,0,16
   235                        	.member	win_class_name,688,110,8,0,32
   236                        	.member	Reserved2,944,16,8,16
   237                        	.member	procid,960,18,8,32
   238                        	.member	pWndClass,992,138,8,32,26
   239                        	.member	pParentWindow,1024,129,8,32
   240                        	.member	hMenu,1056,129,8,32
   241                        	.member	pChildWindows,1088,138,8,32,6
   242                        	.member	pChildHitList,1120,138,8,32,6
   243                        	.member	isVisible,1152,14,8,8
   244                        	.member	windowData,1160,129,8,32
   245                        	.member	clientData,1192,1121,8,32,4
   246                        	.member	isClosed,1320,14,8,8
   247                        	.eos
   248                        	.stag	_k_WindowStructEx,1296,28
   249                        	.member	cbSize,0,16,8,16
   250                        	.member	style,16,18,8,32
   251                        	.member	win_id,48,5,8,16
   252                        	.member	win_x,64,5,8,16
   253                        	.member	win_y,80,5,8,16
   254                        	.member	win_width,96,5,8,16
   255                        	.member	win_height,112,5,8,16
   256                        	.member	wndRect,128,10,8,64,25
   257                        	.member	clientRect,192,10,8,64,25
   258                        	.member	clickable,256,129,8,32
   259                        	.member	win_title,288,110,8,0,32
   260                        	.member	Reserved0,544,16,8,16
   261                        	.member	win_class,560,110,8,0,16
   262                        	.member	Reserved2,688,16,8,16
   263                        	.member	procid,704,18,8,32
   264                        	.member	pWndClass,736,138,8,32,26
   265                        	.member	pParentWindow,768,129,8,32
   266                        	.member	hMenu,800,129,8,32
   267                        	.member	pChildWindows,832,138,8,32,6
   268                        	.member	pChildHitList,864,138,8,32,6
   269                        	.member	isVisible,896,14,8,8
   270                        	.member	windowData,904,129,8,32
   271                        	.member	clientData,936,1121,8,32,4
   272                        	.member	isClosed,1064,14,8,8
   273                        	.member	hWnd,1072,129,8,32
  Wed Nov 18 2020  8:27                                                Page 6


   274                        	.member	localRect,1104,10,8,64,25
   275                        	.member	globalRect,1168,10,8,64,25
   276                        	.member	clientOffsetRect,1232,10,8,64,25
   277                        	.eos
   278                        	.stag	_FontMetric,32,29
   279                        	.member	width,0,5,8,16
   280                        	.member	height,16,5,8,16
   281                        	.eos
   282                        	.stag	_ctl_Textbox,112,30
   283                        	.member	win_id,0,5,8,16
   284                        	.member	win_x,16,5,8,16
   285                        	.member	win_y,32,5,8,16
   286                        	.member	win_width,48,5,8,16
   287                        	.member	win_height,64,5,8,16
   288                        	.member	content,80,1166,8,32
   289                        	.eos
   290                        	.stag	_ClickableRect,88,31
   291                        	.member	area,0,10,8,64,25
   292                        	.member	z,64,5,8,16
   293                        	.member	enabled,80,14,8,8
   294                        	.eos
   295                        	.stag	_MenuStruct,248,32
   296                        	.member	cx,0,5,8,16
   297                        	.member	cy,16,5,8,16
   298                        	.member	width,32,5,8,16
   299                        	.member	height,48,5,8,16
   300                        	.member	fcolor,64,14,8,8
   301                        	.member	bcolor,72,14,8,8
   302                        	.member	chromeLeft,80,14,8,8
   303                        	.member	chromeRight1,88,14,8,8
   304                        	.member	chromeRight2,96,14,8,8
   305                        	.member	itemId,104,16,8,16
   306                        	.member	pCaption,120,142,8,32
   307                        	.member	subMenus,152,138,8,32,6
   308                        	.member	pBackground,184,129,8,32
   309                        	.member	hWndOwner,216,129,8,32
   310                        	.eos
   311                        	.stag	fake33_,112,33
   312                        	.member	menuId,0,16,8,16
   313                        	.member	caption,16,142,8,32
   314                        	.member	rect,48,10,8,64,25
   315                        	.eos
   316                        	.stag	fake34_,3376,34
   317                        	.member	pParent,0,138,8,32,27
   318                        	.member	rect,32,10,8,64,25
   319                        	.member	captions,96,1134,8,32,24
   320                        	.member	ids,864,112,8,0,24
   321                        	.member	clickable,1248,106,8,0,31,24
   322                        	.member	selected,3360,16,8,16
   323                        	.eos
   324                        	.stag	_fx_button_t,80,35
   325                        	.member	pCaption,0,142,8,32
   326                        	.member	data,32,129,8,32
   327                        	.member	captionPixelWidth,64,16,8,16
   328                        	.eos
   329                        	.stag	_fx_scrollbar_t,192,36
   330                        	.member	min,0,16,8,16
   331                        	.member	max,16,16,8,16
  Wed Nov 18 2020  8:27                                                Page 7


   332                        	.member	increment,32,16,8,16
   333                        	.member	stopsize,48,16,8,16
   334                        	.member	location,64,5,8,16
   335                        	.member	state,80,5,8,16
   336                        	.member	rectThumb,96,10,8,64,25
   337                        	.member	data,160,129,8,32
   338                        	.eos
   339                        	.stag	_fx_listbox_t,240,37
   340                        	.member	pos,0,5,8,16
   341                        	.member	selected,16,16,8,16
   342                        	.member	offsetX,32,5,8,16
   343                        	.member	offsetY,48,5,8,16
   344                        	.member	inc,64,5,8,16
   345                        	.member	direction,80,5,8,16
   346                        	.member	top,96,5,8,16
   347                        	.member	bottom,112,5,8,16
   348                        	.member	indexTop,128,5,8,16
   349                        	.member	indexBottom,144,5,8,16
   350                        	.member	maxItems,160,16,8,16
   351                        	.member	fontSet,176,142,8,32
   352                        	.member	data,208,129,8,32
   353                        	.eos
   354                        	.stag	_fx_textbox_t,144,38
   355                        	.member	pos,0,5,8,16
   356                        	.member	selected,16,16,8,16
   357                        	.member	offsetX,32,5,8,16
   358                        	.member	offsetY,48,5,8,16
   359                        	.member	isShifted,64,14,8,8
   360                        	.member	cursorState,72,14,8,8
   361                        	.member	fontSet,80,142,8,32
   362                        	.member	data,112,129,8,32
   363                        	.eos
   364                        	.stag	_fx_menuAnchor_t,144,39
   365                        	.member	pCaption,0,142,8,32
   366                        	.member	renderLayoutX,32,16,8,16
   367                        	.member	renderLayoutY,48,16,8,16
   368                        	.member	captionPixelWidth,64,16,8,16
   369                        	.member	data,80,129,8,32
   370                        	.member	droppedWindow,112,138,8,32,27
   371                        	.eos
   372                        	.stag	_SubMenuStruct,64,40
   373                        	.member	caption,0,142,8,32
   374                        	.member	action,32,641,8,32
   375                        	.eos
   376                        	.stag	_SubMenuListStruct,40,41
   377                        	.member	cMenus,0,14,8,8
   378                        	.member	psubmenus,8,9354,8,32,40
   379                        	.eos
   380                        	.stag	_fx_ComBuffer,2080,42
   381                        	.member	cbSize,0,16,8,16
   382                        	.member	cbBuffer,16,16,8,16
   383                        	.member	buffer,32,110,8,0,256
   384                        	.eos
   385                        	.line	676
   386                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   387                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
  Wed Nov 18 2020  8:27                                                Page 8


   388                        	.line	89
   389                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   390                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   391                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   392                        	.line	676
   393                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   394                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   395                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   396                        	.line	676
   397                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   398                        	.line	72
   399                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   400                        	.line	1318
   401                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   402                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   403                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   404                        	.line	25
   405                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   406                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   407                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   408                        	.line	676
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   410                        	.line	58
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   412                        	.stag	_fx_zero_page,448,43
   413                        	.member	fxos_mouse_byte_0,0,14,8,8
   414                        	.member	fxos_mouse_byte_1,8,14,8,8
   415                        	.member	fxos_mouse_byte_2,16,14,8,8
   416                        	.member	fxos_mouse_byte_t,24,14,8,8
   417                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   418                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   419                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   420                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   421                        	.member	fxos_key_byte_0,64,14,8,8
   422                        	.member	fxos_key_byte_1,72,14,8,8
   423                        	.member	fxos_key_byte_2,80,14,8,8
   424                        	.member	fxos_mouse_ctl,88,14,8,8
   425                        	.member	fxos_mouse_index,96,14,8,8
   426                        	.member	fxos_mouse_status,104,14,8,8
   427                        	.member	VersionMajor,112,16,8,16
   428                        	.member	VersionMinor,128,16,8,16
   429                        	.member	VersionRelease,144,16,8,16
  Wed Nov 18 2020  8:27                                                Page 9


   430                        	.member	topMemory,160,18,8,32
   431                        	.member	bottomMemory,192,18,8,32
   432                        	.member	availableMemory,224,18,8,32
   433                        	.member	availableMemoryK,256,18,8,32
   434                        	.member	availableHeapMemory,288,18,8,32
   435                        	.member	availableHeapMemoryK,320,18,8,32
   436                        	.member	kernelFunctionCallId,352,16,8,16
   437                        	.member	kernelFunctionCallBank,368,14,8,8
   438                        	.member	kernelFunctionCallReserved,376,14,8,8
   439                        	.member	kernelFunctionCallParameter,384,129,8,32
   440                        	.member	kernelFunctionCallReturn,416,129,8,32
   441                        	.eos
   442                        	.stag	_fx_environment,96,44
   443                        	.member	variables,0,142,8,32
   444                        	.member	reserved1,32,5,8,16
   445                        	.member	reserved2,48,5,8,16
   446                        	.member	reserved3,64,5,8,16
   447                        	.member	reserved4,80,5,8,16
   448                        	.eos
   449                        	.stag	_debug_byte_bits,8,45
   450                        	.member	bit7,0,14,17,1
   451                        	.member	bit6,1,14,17,1
   452                        	.member	bit5,2,14,17,1
   453                        	.member	bit4,3,14,17,1
   454                        	.member	bit3,4,14,17,1
   455                        	.member	bit2,5,14,17,1
   456                        	.member	bit1,6,14,17,1
   457                        	.member	bit0,7,14,17,1
   458                        	.eos
   459                        	.stag	_fx_device_driver,1416,46
   460                        	.member	name,0,110,8,0,64
   461                        	.member	version,512,110,8,0,64
   462                        	.member	hmajor,1024,110,8,0,16
   463                        	.member	hminor,1152,110,8,0,16
   464                        	.member	type,1280,14,8,8
   465                        	.member	f_driver_load,1288,129,8,32
   466                        	.member	f_driver_read,1320,129,8,32
   467                        	.member	f_driver_write,1352,129,8,32
   468                        	.member	f_driver_unload,1384,129,8,32
   469                        	.eos
   470                        	.stag	_fx_block_device_driver,1448,47
   471                        	.member	name,0,110,8,0,64
   472                        	.member	version,512,110,8,0,64
   473                        	.member	hmajor,1024,110,8,0,16
   474                        	.member	hminor,1152,110,8,0,16
   475                        	.member	type,1280,14,8,8
   476                        	.member	f_driver_load,1288,129,8,32
   477                        	.member	f_driver_read,1320,129,8,32
   478                        	.member	f_driver_write,1352,129,8,32
   479                        	.member	f_driver_unload,1384,129,8,32
   480                        	.member	f_driver_command,1416,129,8,32
   481                        	.eos
   482                        	.line	270
   483                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   484                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   485                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
  Wed Nov 18 2020  8:27                                                Page 10


                    string.h",0
   486                        	.line	134
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   488                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   489                        	.line	205
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   492                        	.line	676
   493                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   494                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   495                        	.line	1318
   496                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   497                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   498                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   499                        	.line	205
   500                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   501                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   502                        	.line	134
   503                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   504                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   505                        	.line	676
   506                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   507                        	.stag	_fx_string,64,48
   508                        	.member	size,0,16,8,16
   509                        	.member	pos,16,5,8,16
   510                        	.member	buffer,32,142,8,32
   511                        	.eos
   512                        	.line	71
   513                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   514                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   516                        	.line	25
   517                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   519                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   520                        	.line	676
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
  Wed Nov 18 2020  8:27                                                Page 11


   522                        	.line	52
   523                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   524                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   525                        	.line	58
   526                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   527                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   528                        	.line	171
   529                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   530                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   531                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   532                        	.line	676
   533                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   534                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   535                        	.line	25
   536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   537                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   538                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   539                        	.line	25
   540                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   541                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   542                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   543                        	.line	32
   544                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   545                        	.stag	UMM_HEAP_INFO_t,256,49
   546                        	.member	totalEntries,0,18,8,32
   547                        	.member	usedEntries,32,18,8,32
   548                        	.member	freeEntries,64,18,8,32
   549                        	.member	totalBlocks,96,18,8,32
   550                        	.member	usedBlocks,128,18,8,32
   551                        	.member	freeBlocks,160,18,8,32
   552                        	.member	maxFreeContiguousBlocks,192,18,8,32
   553                        	.member	blockSize,224,18,8,32
   554                        	.eos
   555                        	.line	199
   556                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   557                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   558                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   559                        	.line	676
   560                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Wed Nov 18 2020  8:27                                                Page 12


                    space\FXOSv1\src\umm_malloc.h",11
   561                        	.line	24
   562                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   563                        	.stag	_fx_memory_map,2072,50
   564                        	.member	availableMemory,0,18,8,32
   565                        	.member	valid_segments,32,110,8,0,255
   566                        	.eos
   567                        	.line	39
   568                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   569                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   570                        	.line	721
   571                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   572                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   573                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   574                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   575                        	.line	676
   576                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   577                        	.line	64
   578                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   579                        	.stag	_click_detected,64,51
   580                        	.member	window,0,138,8,32,27
   581                        	.member	handler,32,641,8,32
   582                        	.eos
   583                        	.stag	_current_palette_map,400,52
   584                        	.member	CUR_DESKTOP,0,5,8,16
   585                        	.member	CUR_BACKGROUND,16,5,8,16
   586                        	.member	CUR_FONT,32,5,8,16
   587                        	.member	CUR_SELECTED_FONT,48,5,8,16
   588                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   589                        	.member	CUR_WINDOWFRAME,80,5,8,16
   590                        	.member	CUR_WINDOWBORDER,96,5,8,16
   591                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   592                        	.member	CUR_MENU,128,5,8,16
   593                        	.member	CUR_GADGET,144,5,8,16
   594                        	.member	CUR_COLOR,160,101,8,0,15
   595                        	.eos
   596                        	.line	216
   597                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   598                        	.stag	_childMessage_t,64,53
   599                        	.member	msgType,0,16,8,16
   600                        	.member	msgData,16,129,8,32
   601                        	.member	dataSize,48,16,8,16
   602                        	.eos
   603                        	.line	346
   604                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   605                        	.stag	_fx_main_loopvars,16,54
   606                        	.member	dummy,0,5,8,16
  Wed Nov 18 2020  8:27                                                Page 13


   607                        	.eos
   608                        	.stag	_fxMouseMessageData,64,55
   609                        	.member	button1,0,14,8,8
   610                        	.member	button2,8,14,8,8
   611                        	.member	button3,16,14,8,8
   612                        	.member	button4,24,14,8,8
   613                        	.member	x,32,16,8,16
   614                        	.member	y,48,16,8,16
   615                        	.eos
   616                        	.stag	_fx_eventProcess,64,56
   617                        	.member	process,0,138,8,32,20
   618                        	.member	eventProc,32,641,8,32
   619                        	.eos
   620                        	.stag	_mouse_msg_state,184,57
   621                        	.member	lastEvent,0,18,8,32
   622                        	.member	buttonLeftDown,32,14,8,8
   623                        	.member	lastLeftDown,40,18,8,32
   624                        	.member	buttonRightDown,72,14,8,8
   625                        	.member	lastRightDown,80,18,8,32
   626                        	.member	buttonMiddleDown,112,14,8,8
   627                        	.member	lastMiddleDown,120,18,8,32
   628                        	.member	lastX,152,16,8,16
   629                        	.member	lastY,168,16,8,16
   630                        	.eos
   631                        	.line	721
   632                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   633                        	.stag	_fx_spinner_ctx,48,58
   634                        	.member	index,0,5,8,16
   635                        	.member	spinner,16,142,8,32
   636                        	.eos
   637                        	.stag	_fx_console_ctx,1144,59
   638                        	.member	lineBufferIndex,0,5,8,16
   639                        	.member	lineBuffer,16,110,8,0,128
   640                        	.member	isShifted,1040,14,8,8
   641                        	.member	userData,1048,129,8,32
   642                        	.member	screenBuffer,1080,129,8,32
   643                        	.member	Reserved1,1112,129,8,32
   644                        	.eos
   645                        	.stag	_token,64,60
   646                        	.member	type,0,5,8,16
   647                        	.member	depth,16,16,8,16
   648                        	.member	text,32,142,8,32
   649                        	.eos
   650                        	.stag	_command_args,64,61
   651                        	.member	proc,0,656,8,32
   652                        	.member	tokens,32,138,8,32,5
   653                        	.eos
   654                        	.line	171
   655                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   656                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   657                        	.line	71
   658                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   659                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
  Wed Nov 18 2020  8:27                                                Page 14


   660                        	.line	58
   661                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   662                        	.line	25
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",1
   664                        ;#include "fxmemorymanager.h"
   665                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   666                        	.line	39
   667                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",2
   668                        ;//#include "fxstartup.h"
   669                        ;#include "fxfont.h"
   670                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   671                        	.line	64
   672                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",4
   673                        ;#include "fxdrawing.h"
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdrawing.h",0
   675                        	.line	20
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",5
   677                        ;#include "fxgui.h"
   678                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   679                        	.line	216
   680                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",6
   681                        ;
   682                        ;
   683                        ;//#include "fbtestfnt.h"
   684                        ;//#pragma section CODE=FCODE,OFFSET $15:0000
   685                        ;//extern char _END_UDATA;
   686                        ;//void *heap_start=(void*)&_END_UDATA,*heap_end=(
                    void*)(&_END_UDATA + 0x1000);
   687                        ;
   688                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
   689                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
   690                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
   691                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
   692                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
   693                        ;
   694                        ;
   695                        ;static CHAR FAR MOUSE_POINTER_PTR[] =
   696                        	data
   697                        ~~MOUSE_POINTER_PTR:
   698                        ;{
   699                        ;	0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x01,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
   700 00:0000: 00 01 01 00  	db	$0,$1,$1,$0,$0,$0,$0,$0,$1,$1
       00:0004: 00 00 00 00 
       00:0008: 01 01 
   701 00:000A: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:000E: 00 00 
   702                        ;	0x01,0xFF,0xFF,0x01,0x00,0x00,0x01,0x01,0xFF,0xF
  Wed Nov 18 2020  8:27                                                Page 15


                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
   703 00:0010: 01 FF FF 01  	db	$1,$FF,$FF,$1,$0,$0,$1,$1,$FF,$FF
       00:0014: 00 00 01 01 
       00:0018: FF FF 
   704 00:001A: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:001E: 00 00 
   705                        ;	0x01,0xFF,0xFF,0xFF,0x01,0x01,0x55,0xFF,0x01,0x5
                    5,0xFF,0xFF,0x01,0x00,0x00,0x00,
   706 00:0020: 01 FF FF FF  	db	$1,$FF,$FF,$FF,$1,$1,$55,$FF,$1,$55
       00:0024: 01 01 55 FF 
       00:0028: 01 55 
   707 00:002A: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:002E: 00 00 
   708                        ;	0x01,0x55,0xFF,0xFF,0xFF,0xFF,0x01,0x55,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
   709 00:0030: 01 55 FF FF  	db	$1,$55,$FF,$FF,$FF,$FF,$1,$55,$FF,$FF
       00:0034: FF FF 01 55 
       00:0038: FF FF 
   710 00:003A: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:003E: 00 00 
   711                        ;	0x00,0x01,0x55,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x01,0xFF,0xFF,0x01,0x00,0x00,
   712 00:0040: 00 01 55 FF  	db	$0,$1,$55,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0044: FF FF FF FF 
       00:0048: FF FF 
   713 00:004A: 01 FF FF 01  	db	$1,$FF,$FF,$1,$0,$0
       00:004E: 00 00 
   714                        ;	0x00,0x00,0x01,0x55,0xFF,0xFF,0xFF,0xFF,0x01,0xF
                    F,0xFF,0x01,0xFF,0x01,0x00,0x00,
   715 00:0050: 00 00 01 55  	db	$0,$0,$1,$55,$FF,$FF,$FF,$FF,$1,$FF
       00:0054: FF FF FF FF 
       00:0058: 01 FF 
   716 00:005A: FF 01 FF 01  	db	$FF,$1,$FF,$1,$0,$0
       00:005E: 00 00 
   717                        ;	0x00,0x00,0x01,0x01,0x55,0xFF,0xFF,0xFF,0xFF,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   718 00:0060: 00 00 01 01  	db	$0,$0,$1,$1,$55,$FF,$FF,$FF,$FF,$1
       00:0064: 55 FF FF FF 
       00:0068: FF 01 
   719 00:006A: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:006E: 00 00 
   720                        ;	0x00,0x00,0x01,0x55,0x01,0x55,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0x01,0x01,0x00,
   721 00:0070: 00 00 01 55  	db	$0,$0,$1,$55,$1,$55,$FF,$FF,$FF,$FF
       00:0074: 01 55 FF FF 
       00:0078: FF FF 
   722 00:007A: FF FF FF 01  	db	$FF,$FF,$FF,$1,$1,$0
       00:007E: 01 00 
   723                        ;	0x00,0x00,0x01,0x55,0x55,0x55,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0xFF,0xFF,0x01,
   724 00:0080: 00 00 01 55  	db	$0,$0,$1,$55,$55,$55,$FF,$FF,$FF,$FF
       00:0084: 55 55 FF FF 
       00:0088: FF FF 
   725 00:008A: FF FF 01 FF  	db	$FF,$FF,$1,$FF,$FF,$1
       00:008E: FF 01 
   726                        ;	0x00,0x00,0x00,0x01,0x55,0x55,0x55,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0x01,
   727 00:0090: 00 00 00 01  	db	$0,$0,$0,$1,$55,$55,$55,$FF,$FF,$FF
  Wed Nov 18 2020  8:27                                                Page 16


       00:0094: 55 55 55 FF 
       00:0098: FF FF 
   728 00:009A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$1
       00:009E: FF 01 
   729                        ;	0x00,0x00,0x00,0x00,0x01,0x55,0x55,0x55,0x55,0x5
                    5,0x01,0xFF,0xFF,0x55,0x01,0x00,
   730 00:00A0: 00 00 00 00  	db	$0,$0,$0,$0,$1,$55,$55,$55,$55,$55
       00:00A4: 01 55 55 55 
       00:00A8: 55 55 
   731 00:00AA: 01 FF FF 55  	db	$1,$FF,$FF,$55,$1,$0
       00:00AE: 01 00 
   732                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x55,0xFF,0x55,0x01,0x00,0x00,
   733 00:00B0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:00B4: 00 01 01 01 
       00:00B8: 01 01 
   734 00:00BA: 55 FF 55 01  	db	$55,$FF,$55,$1,$0,$0
       00:00BE: 00 00 
   735                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x5
                    5,0x55,0x55,0x01,0x00,0x00,0x00,
   736 00:00C0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$1,$55
       00:00C4: 00 00 00 00 
       00:00C8: 01 55 
   737 00:00CA: 55 55 01 00  	db	$55,$55,$1,$0,$0,$0
       00:00CE: 00 00 
   738                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x5
                    5,0x55,0x01,0x00,0x00,0x00,0x00,
   739 00:00D0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$1,$55
       00:00D4: 00 00 00 00 
       00:00D8: 01 55 
   740 00:00DA: 55 01 00 00  	db	$55,$1,$0,$0,$0,$0
       00:00DE: 00 00 
   741                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
   742 00:00E0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:00E4: 00 00 00 00 
       00:00E8: 00 01 
   743 00:00EA: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:00EE: 00 00 
   744                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
   745 00:00F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:00F4: 00 00 00 00 
       00:00F8: 00 00 
   746 00:00FA: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:00FE: 00 
   747                        ;};
   748 00:00FF: 00           	db	$0
   749 00:0100:              	ends
   750                        ;
   751                        ;static CHAR FAR MOUSE_POINTER_PTR_V2[] =
   752                        	data
   753                        ~~MOUSE_POINTER_PTR_V2:
   754                        ;{
   755                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   756 00:0100: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0104: 00 00 00 00 
  Wed Nov 18 2020  8:27                                                Page 17


       00:0108: 00 00 
   757 00:010A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:010E: 00 00 
   758                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   759 00:0110: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0114: 00 00 00 00 
       00:0118: 00 00 
   760 00:011A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:011E: 00 00 
   761                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   762 00:0120: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:0124: 55 55 00 00 
       00:0128: 00 00 
   763 00:012A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:012E: 00 00 
   764                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   765 00:0130: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:0134: FF FF 55 55 
       00:0138: 00 00 
   766 00:013A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:013E: 00 00 
   767                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
   768 00:0140: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:0144: FF FF FF FF 
       00:0148: 55 55 
   769 00:014A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:014E: 00 00 
   770                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
   771 00:0150: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0154: FF FF FF FF 
       00:0158: FF FF 
   772 00:015A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:015E: 00 00 
   773                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   774 00:0160: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:0164: FF FF FF FF 
       00:0168: 00 00 
   775 00:016A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:016E: 00 00 
   776                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   777 00:0170: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:0174: FF FF FF FF 
       00:0178: 55 00 
   778 00:017A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:017E: 00 00 
   779                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
   780 00:0180: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
       00:0184: 01 FF 00 01 
       00:0188: FF 55 
   781 00:018A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Wed Nov 18 2020  8:27                                                Page 18


       00:018E: 00 00 
   782                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
   783 00:0190: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0194: 01 FF 00 00 
       00:0198: 01 FF 
   784 00:019A: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:019E: 00 00 
   785                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
   786 00:01A0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:01A4: 00 00 00 00 
       00:01A8: 00 01 
   787 00:01AA: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:01AE: 00 00 
   788                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
   789 00:01B0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:01B4: 00 00 00 00 
       00:01B8: 00 00 
   790 00:01BA: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:01BE: 00 00 
   791                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   792 00:01C0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:01C4: 00 00 00 00 
       00:01C8: 00 00 
   793 00:01CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01CE: 00 00 
   794                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   795 00:01D0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:01D4: 00 00 00 00 
       00:01D8: 00 00 
   796 00:01DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01DE: 00 00 
   797                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   798 00:01E0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:01E4: 00 00 00 00 
       00:01E8: 00 00 
   799 00:01EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01EE: 00 00 
   800                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
   801 00:01F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:01F4: 00 00 00 00 
       00:01F8: 00 00 
   802 00:01FA: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:01FE: 00 
   803                        ;};
   804 00:01FF: 00           	db	$0
   805 00:0200:              	ends
   806                        ;
   807                        ;static CHAR BG_FILL_LINE_ODD[] =
   808                        	data
   809                        ~~BG_FILL_LINE_ODD:
   810                        ;{
  Wed Nov 18 2020  8:27                                                Page 19


   811                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   812 00:0200: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0204: AA AA AA AA 
   813                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   814 00:0208: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:020C: AA AA AA AA 
   815                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   816 00:0210: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0214: AA AA AA AA 
   817                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   818 00:0218: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:021C: AA AA AA AA 
   819                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   820 00:0220: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0224: AA AA AA AA 
   821                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   822 00:0228: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:022C: AA AA AA AA 
   823                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   824 00:0230: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0234: AA AA AA AA 
   825                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   826 00:0238: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:023C: AA AA AA AA 
   827                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
   828 00:0240: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0244: AA AA AA AA 
   829                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
   830 00:0248: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:024C: AA AA AA 
   831                        ;};
   832 00:024F: AA           	db	$AA
   833 00:0250:              	ends
   834                        ;
   835                        ;static CHAR BG_FILL_LINE_EVEN[] =
   836                        	data
   837                        ~~BG_FILL_LINE_EVEN:
   838                        ;{
   839                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   840 00:0250: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0254: 55 55 55 55 
   841                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   842 00:0258: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:025C: 55 55 55 55 
   843                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   844 00:0260: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0264: 55 55 55 55 
   845                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   846 00:0268: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:026C: 55 55 55 55 
   847                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   848 00:0270: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0274: 55 55 55 55 
   849                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   850 00:0278: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:027C: 55 55 55 55 
   851                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   852 00:0280: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
  Wed Nov 18 2020  8:27                                                Page 20


       00:0284: 55 55 55 55 
   853                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   854 00:0288: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:028C: 55 55 55 55 
   855                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
   856 00:0290: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0294: 55 55 55 55 
   857                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
   858 00:0298: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:029C: 55 55 55 
   859                        ;};
   860 00:029F: 55           	db	$55
   861 00:02A0:              	ends
   862                        ;
   863                        ;
   864                        ;static CUR_PALETTE_MAP _k_currentPalatte;
   865                        ;
   866                        ;char FAR buffer[32];
   867                        ;char FAR strbuf[32];
   868                        ;//char FAR spinner[] = {'\\','|','/','+'};
   869                        ;
   870                        ;char FAR *version_title;
   871                        ;
   872                        ;//int g_key_index = 0;
   873                        ;
   874                        ;//typedef void (*C256Task)(HANDLE console,void FA
                    R* arg);
   875                        ;
   876                        ;//C256Task tasks[2];
   877                        ;//HANDLE consoles[2];
   878                        ;
   879                        ;//#define GRPH_LUT0_PTR	((char FAR*)0xAF2000)
   880                        ;
   881                        ;
   882                        ;
   883                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
   884                        ;
   885                        ;int 	FAR _k_window_index = 0;
   886                        	data
   887                        	xdef	~~_k_window_index
   888                        ~~_k_window_index:
   889 00:02A0: 00 00        	dw	$0
   890 00:02A2:              	ends
   891                        ;Window 	FAR _k_window_list[10];
   892                        ;
   893                        ;
   894                        ;CLICKABLE FAR clickList[CHKLIST_MAX];
   895                        ;PCLICKABLE FAR hitList[CHKLIST_MAX];
   896                        ;
   897                        ;
   898                        ;static PFXNODE _k_WindowObject_nodes = NULL;
   899                        	data
   900                        ~~_k_WindowObject_nodes:
   901 00:02A2: 00 00 00 00  	dl	$0
   902 00:02A6:              	ends
   903                        ;static PFXNODE _k_WindowHit_nodes 	 = NULL;
   904                        	data
   905                        ~~_k_WindowHit_nodes:
  Wed Nov 18 2020  8:27                                                Page 21


   906 00:02A6: 00 00 00 00  	dl	$0
   907 00:02AA:              	ends
   908                        ;
   909                        ;
   910                        ;int cop_index = 0;
   911                        	data
   912                        	xdef	~~cop_index
   913                        ~~cop_index:
   914 00:02AA: 00 00        	dw	$0
   915 00:02AC:              	ends
   916                        ;
   917                        ;#pragma section CODE=GUI,offset $3:0000
   918                        GUI	section	offset $3:0000
   919 03:0000:              	ends
   920                        ;
   921                        ;void k_drawPixel(char fcolor,char fcolor2,char fc
                    olor3)
   922                        ;{
   923                        	.line	127
   924                        	.line	128
   925                        	GUI
   926                        	xdef	~~k_drawPixel
   927                        	func
   928                        	.function	128
   929                        ~~k_drawPixel:
   930                        	longa	on
   931                        	longi	on
   932 03:0000: 3B           	tsc
   933 03:0001: 38           	sec
   934 03:0002: E9 0D 00     	sbc	#L2
   935 03:0005: 1B           	tcs
   936 03:0006: 0B           	phd
   937 03:0007: 5B           	tcd
   938             00000004   fcolor_0	set	4
   939             00000006   fcolor2_0	set	6
   940             00000008   fcolor3_0	set	8
   941                        	.block	128
   942                        ;	long vbuffer = 0xB00000;
   943                        ;	long ki = 0;
   944                        ;	long tt = 0;
   945                        ;	char mask = 0x00;
   946                        ;	/*
   947                        ;	unsigned int pos = 0;
   948                        ;	
   949                        ;	pos = ((640L * ploty) + plotx);
   950                        ;	buffer[pos] = 0x01;
   951                        ;	return;
   952                        ;	*/
   953                        ;
   954                        ;}
   955             00000000   vbuffer_1	set	0
   956             00000004   ki_1	set	4
   957             00000008   tt_1	set	8
   958             0000000C   mask_1	set	12
   959                        	.sym	vbuffer,0,7,1,32
   960                        	.sym	ki,4,7,1,32
   961                        	.sym	tt,8,7,1,32
   962                        	.sym	mask,12,14,1,8
  Wed Nov 18 2020  8:27                                                Page 22


   963                        	.sym	fcolor,4,14,6,8
   964                        	.sym	fcolor2,6,14,6,8
   965                        	.sym	fcolor3,8,14,6,8
   966 03:0008: A9 00 00     	lda	#$0
   967 03:000B: 85 01        	sta	<L3+vbuffer_1
   968 03:000D: A9 B0 00     	lda	#$b0
   969 03:0010: 85 03        	sta	<L3+vbuffer_1+2
   970 03:0012: 64 05        	stz	<L3+ki_1
   971 03:0014: 64 07        	stz	<L3+ki_1+2
   972 03:0016: 64 09        	stz	<L3+tt_1
   973 03:0018: 64 0B        	stz	<L3+tt_1+2
   974 03:001A: E2 20        	sep	#$20
   975                        	longa	off
   976 03:001C: 64 0D        	stz	<L3+mask_1
   977 03:001E: C2 20        	rep	#$20
   978                        	longa	on
   979                        	.line	141
   980                        L5:
   981 03:0020: A5 0F        	lda	<L2+2
   982 03:0022: 85 15        	sta	<L2+2+6
   983 03:0024: A5 0E        	lda	<L2+1
   984 03:0026: 85 14        	sta	<L2+1+6
   985 03:0028: 2B           	pld
   986 03:0029: 3B           	tsc
   987 03:002A: 18           	clc
   988 03:002B: 69 13 00     	adc	#L2+6
   989 03:002E: 1B           	tcs
   990 03:002F: 6B           	rtl
   991                        	.endblock	141
   992             0000000D   L2	equ	13
   993             00000001   L3	equ	1
   994 03:0030:              	ends
   995                        	efunc
   996                        	.endfunc	141,1,13
   997                        	.line	141
   998                        ;
   999                        ;void k_set_foreground_palette(char paletteId)
  1000                        ;{
  1001                        	.line	143
  1002                        	.line	144
  1003                        	GUI
  1004                        	xdef	~~k_set_foreground_palette
  1005                        	func
  1006                        	.function	144
  1007                        ~~k_set_foreground_palette:
  1008                        	longa	on
  1009                        	longi	on
  1010 03:0030: 3B           	tsc
  1011 03:0031: 38           	sec
  1012 03:0032: E9 00 00     	sbc	#L6
  1013 03:0035: 1B           	tcs
  1014 03:0036: 0B           	phd
  1015 03:0037: 5B           	tcd
  1016             00000004   paletteId_0	set	4
  1017                        	.block	144
  1018                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  1019                        	.sym	paletteId,4,14,6,8
  1020                        	.line	145
  Wed Nov 18 2020  8:27                                                Page 23


  1021 03:0038: E2 20        	sep	#$20
  1022                        	longa	off
  1023 03:003A: A5 04        	lda	<L6+paletteId_0
  1024 03:003C: 8F 40 1F AF  	sta	>11476800
  1025 03:0040: C2 20        	rep	#$20
  1026                        	longa	on
  1027                        ;}
  1028                        	.line	146
  1029                        L9:
  1030 03:0042: A5 02        	lda	<L6+2
  1031 03:0044: 85 04        	sta	<L6+2+2
  1032 03:0046: A5 01        	lda	<L6+1
  1033 03:0048: 85 03        	sta	<L6+1+2
  1034 03:004A: 2B           	pld
  1035 03:004B: 3B           	tsc
  1036 03:004C: 18           	clc
  1037 03:004D: 69 02 00     	adc	#L6+2
  1038 03:0050: 1B           	tcs
  1039 03:0051: 6B           	rtl
  1040                        	.endblock	146
  1041             00000000   L6	equ	0
  1042             00000001   L7	equ	1
  1043 03:0052:              	ends
  1044                        	efunc
  1045                        	.endfunc	146,1,0
  1046                        	.line	146
  1047                        ;
  1048                        ;void k_set_text_gamma(char c)
  1049                        ;{
  1050                        	.line	148
  1051                        	.line	149
  1052                        	GUI
  1053                        	xdef	~~k_set_text_gamma
  1054                        	func
  1055                        	.function	149
  1056                        ~~k_set_text_gamma:
  1057                        	longa	on
  1058                        	longi	on
  1059 03:0052: 3B           	tsc
  1060 03:0053: 38           	sec
  1061 03:0054: E9 00 00     	sbc	#L10
  1062 03:0057: 1B           	tcs
  1063 03:0058: 0B           	phd
  1064 03:0059: 5B           	tcd
  1065             00000004   c_0	set	4
  1066                        	.block	149
  1067                        ;	GAMMA_B_LUT_PTR[0] = c;
  1068                        	.sym	c,4,14,6,8
  1069                        	.line	150
  1070 03:005A: E2 20        	sep	#$20
  1071                        	longa	off
  1072 03:005C: A5 04        	lda	<L10+c_0
  1073 03:005E: 8F 00 40 AF  	sta	>11485184
  1074 03:0062: C2 20        	rep	#$20
  1075                        	longa	on
  1076                        ;	GAMMA_G_LUT_PTR[0] = c;
  1077                        	.line	151
  1078 03:0064: E2 20        	sep	#$20
  Wed Nov 18 2020  8:27                                                Page 24


  1079                        	longa	off
  1080 03:0066: A5 04        	lda	<L10+c_0
  1081 03:0068: 8F 00 41 AF  	sta	>11485440
  1082 03:006C: C2 20        	rep	#$20
  1083                        	longa	on
  1084                        ;	GAMMA_R_LUT_PTR[0] = c;
  1085                        	.line	152
  1086 03:006E: E2 20        	sep	#$20
  1087                        	longa	off
  1088 03:0070: A5 04        	lda	<L10+c_0
  1089 03:0072: 8F 00 42 AF  	sta	>11485696
  1090 03:0076: C2 20        	rep	#$20
  1091                        	longa	on
  1092                        ;}
  1093                        	.line	153
  1094                        L13:
  1095 03:0078: A5 02        	lda	<L10+2
  1096 03:007A: 85 04        	sta	<L10+2+2
  1097 03:007C: A5 01        	lda	<L10+1
  1098 03:007E: 85 03        	sta	<L10+1+2
  1099 03:0080: 2B           	pld
  1100 03:0081: 3B           	tsc
  1101 03:0082: 18           	clc
  1102 03:0083: 69 02 00     	adc	#L10+2
  1103 03:0086: 1B           	tcs
  1104 03:0087: 6B           	rtl
  1105                        	.endblock	153
  1106             00000000   L10	equ	0
  1107             00000001   L11	equ	1
  1108 03:0088:              	ends
  1109                        	efunc
  1110                        	.endfunc	153,1,0
  1111                        	.line	153
  1112                        ;
  1113                        ;void k_set_text_color(char c)
  1114                        ;{
  1115                        	.line	155
  1116                        	.line	156
  1117                        	GUI
  1118                        	xdef	~~k_set_text_color
  1119                        	func
  1120                        	.function	156
  1121                        ~~k_set_text_color:
  1122                        	longa	on
  1123                        	longi	on
  1124 03:0088: 3B           	tsc
  1125 03:0089: 38           	sec
  1126 03:008A: E9 00 00     	sbc	#L14
  1127 03:008D: 1B           	tcs
  1128 03:008E: 0B           	phd
  1129 03:008F: 5B           	tcd
  1130             00000004   c_0	set	4
  1131                        	.block	156
  1132                        ;	CURCOLOR_L[0] = c;
  1133                        	.sym	c,4,14,6,8
  1134                        	.line	157
  1135 03:0090: E2 20        	sep	#$20
  1136                        	longa	off
  Wed Nov 18 2020  8:27                                                Page 25


  1137 03:0092: A5 04        	lda	<L14+c_0
  1138 03:0094: 8F 1E 00 00  	sta	>30
  1139 03:0098: C2 20        	rep	#$20
  1140                        	longa	on
  1141                        ;	CURCOLOR_H[0] = c;
  1142                        	.line	158
  1143 03:009A: E2 20        	sep	#$20
  1144                        	longa	off
  1145 03:009C: A5 04        	lda	<L14+c_0
  1146 03:009E: 8F 1F 00 00  	sta	>31
  1147 03:00A2: C2 20        	rep	#$20
  1148                        	longa	on
  1149                        ;}
  1150                        	.line	159
  1151                        L17:
  1152 03:00A4: A5 02        	lda	<L14+2
  1153 03:00A6: 85 04        	sta	<L14+2+2
  1154 03:00A8: A5 01        	lda	<L14+1
  1155 03:00AA: 85 03        	sta	<L14+1+2
  1156 03:00AC: 2B           	pld
  1157 03:00AD: 3B           	tsc
  1158 03:00AE: 18           	clc
  1159 03:00AF: 69 02 00     	adc	#L14+2
  1160 03:00B2: 1B           	tcs
  1161 03:00B3: 6B           	rtl
  1162                        	.endblock	159
  1163             00000000   L14	equ	0
  1164             00000001   L15	equ	1
  1165 03:00B4:              	ends
  1166                        	efunc
  1167                        	.endfunc	159,1,0
  1168                        	.line	159
  1169                        ;
  1170                        ;
  1171                        ;
  1172                        ;
  1173                        ;
  1174                        ;//
  1175                        ;// 
  1176                        ;Window FAR* k_get_window(HANDLE hWindow)
  1177                        ;{
  1178                        	.line	167
  1179                        	.line	168
  1180                        	GUI
  1181                        	xdef	~~k_get_window
  1182                        	func
  1183                        	.function	168
  1184                        ~~k_get_window:
  1185                        	longa	on
  1186                        	longi	on
  1187 03:00B4: 3B           	tsc
  1188 03:00B5: 38           	sec
  1189 03:00B6: E9 08 00     	sbc	#L18
  1190 03:00B9: 1B           	tcs
  1191 03:00BA: 0B           	phd
  1192 03:00BB: 5B           	tcd
  1193             00000004   hWindow_0	set	4
  1194                        	.block	168
  Wed Nov 18 2020  8:27                                                Page 26


  1195                        ;	return &_k_window_list[(ULONG)hWindow];
  1196                        	.sym	hWindow,4,129,6,32
  1197                        	.line	169
  1198 03:00BC: F4 00 00     	pea	#^$a6
  1199 03:00BF: F4 A6 00     	pea	#<$a6
  1200 03:00C2: D4 0E        	pei	<L18+hWindow_0+2
  1201 03:00C4: D4 0C        	pei	<L18+hWindow_0
  1202                        	xref	~~~lmul
  1203 03:00C6: 22 xx xx xx  	jsl	~~~lmul
  1204 03:00CA: 85 01        	sta	<R0
  1205 03:00CC: 86 03        	stx	<R0+2
  1206 03:00CE: 18           	clc
  1207 03:00CF: A9 xx xx     	lda	#<~~_k_window_list
  1208 03:00D2: 65 01        	adc	<R0
  1209 03:00D4: 85 05        	sta	<R1
  1210 03:00D6: A9 xx xx     	lda	#^~~_k_window_list
  1211 03:00D9: 65 03        	adc	<R0+2
  1212 03:00DB: 85 07        	sta	<R1+2
  1213 03:00DD: A6 07        	ldx	<R1+2
  1214 03:00DF: A5 05        	lda	<R1
  1215                        L21:
  1216 03:00E1: A8           	tay
  1217 03:00E2: A5 0A        	lda	<L18+2
  1218 03:00E4: 85 0E        	sta	<L18+2+4
  1219 03:00E6: A5 09        	lda	<L18+1
  1220 03:00E8: 85 0D        	sta	<L18+1+4
  1221 03:00EA: 2B           	pld
  1222 03:00EB: 3B           	tsc
  1223 03:00EC: 18           	clc
  1224 03:00ED: 69 0C 00     	adc	#L18+4
  1225 03:00F0: 1B           	tcs
  1226 03:00F1: 98           	tya
  1227 03:00F2: 6B           	rtl
  1228                        ;}
  1229                        	.line	170
  1230                        	.endblock	170
  1231             00000008   L18	equ	8
  1232             00000009   L19	equ	9
  1233 03:00F3:              	ends
  1234                        	efunc
  1235                        	.endfunc	170,9,8
  1236                        	.line	170
  1237                        ; 
  1238                        ;
  1239                        ;void k_write_window_text(HANDLE hWin,int col,int 
                    row,char FAR * text,int fcolor,int bcolor)
  1240                        ;{
  1241                        	.line	173
  1242                        	.line	174
  1243                        	GUI
  1244                        	xdef	~~k_write_window_text
  1245                        	func
  1246                        	.function	174
  1247                        ~~k_write_window_text:
  1248                        	longa	on
  1249                        	longi	on
  1250 03:00F3: 3B           	tsc
  1251 03:00F4: 38           	sec
  Wed Nov 18 2020  8:27                                                Page 27


  1252 03:00F5: E9 00 00     	sbc	#L22
  1253 03:00F8: 1B           	tcs
  1254 03:00F9: 0B           	phd
  1255 03:00FA: 5B           	tcd
  1256             00000004   hWin_0	set	4
  1257             00000008   col_0	set	8
  1258             0000000A   row_0	set	10
  1259             0000000C   text_0	set	12
  1260             00000010   fcolor_0	set	16
  1261             00000012   bcolor_0	set	18
  1262                        	.block	174
  1263                        ;	
  1264                        ;}
  1265                        	.sym	hWin,4,129,6,32
  1266                        	.sym	col,8,5,6,16
  1267                        	.sym	row,10,5,6,16
  1268                        	.sym	text,12,142,6,32
  1269                        	.sym	fcolor,16,5,6,16
  1270                        	.sym	bcolor,18,5,6,16
  1271                        	.line	176
  1272                        L25:
  1273 03:00FB: A5 02        	lda	<L22+2
  1274 03:00FD: 85 12        	sta	<L22+2+16
  1275 03:00FF: A5 01        	lda	<L22+1
  1276 03:0101: 85 11        	sta	<L22+1+16
  1277 03:0103: 2B           	pld
  1278 03:0104: 3B           	tsc
  1279 03:0105: 18           	clc
  1280 03:0106: 69 10 00     	adc	#L22+16
  1281 03:0109: 1B           	tcs
  1282 03:010A: 6B           	rtl
  1283                        	.endblock	176
  1284             00000000   L22	equ	0
  1285             00000001   L23	equ	1
  1286 03:010B:              	ends
  1287                        	efunc
  1288                        	.endfunc	176,1,0
  1289                        	.line	176
  1290                        ; 
  1291                        ;
  1292                        ;HANDLE k_create_window(int bx,int by,int bw,int b
                    h,char FAR* title)
  1293                        ;{
  1294                        	.line	179
  1295                        	.line	180
  1296                        	GUI
  1297                        	xdef	~~k_create_window
  1298                        	func
  1299                        	.function	180
  1300                        ~~k_create_window:
  1301                        	longa	on
  1302                        	longi	on
  1303 03:010B: 3B           	tsc
  1304 03:010C: 38           	sec
  1305 03:010D: E9 0A 00     	sbc	#L26
  1306 03:0110: 1B           	tcs
  1307 03:0111: 0B           	phd
  1308 03:0112: 5B           	tcd
  Wed Nov 18 2020  8:27                                                Page 28


  1309             00000004   bx_0	set	4
  1310             00000006   by_0	set	6
  1311             00000008   bw_0	set	8
  1312             0000000A   bh_0	set	10
  1313             0000000C   title_0	set	12
  1314                        	.block	180
  1315                        ;	int index = -1;
  1316                        ;	Window FAR *pwin = NULL;
  1317                        ;
  1318                        ;	k_put_char(0,1,'a',5,0);
  1319             00000000   index_1	set	0
  1320             00000002   pwin_1	set	2
  1321                        	.sym	index,0,5,1,16
  1322                        	.sym	pwin,2,138,1,32,27
  1323                        	.sym	bx,4,5,6,16
  1324                        	.sym	by,6,5,6,16
  1325                        	.sym	bw,8,5,6,16
  1326                        	.sym	bh,10,5,6,16
  1327                        	.sym	title,12,142,6,32
  1328 03:0113: A9 FF FF     	lda	#$ffff
  1329 03:0116: 85 05        	sta	<L27+index_1
  1330 03:0118: 64 07        	stz	<L27+pwin_1
  1331 03:011A: 64 09        	stz	<L27+pwin_1+2
  1332                        	.line	184
  1333 03:011C: F4 00 00     	pea	#<$0
  1334 03:011F: F4 05 00     	pea	#<$5
  1335 03:0122: F4 61 00     	pea	#<$61
  1336 03:0125: F4 01 00     	pea	#<$1
  1337 03:0128: F4 00 00     	pea	#<$0
  1338 03:012B: 22 xx xx xx  	jsl	~~k_put_char
  1339                        ;	
  1340                        ;	index = _k_window_index++;
  1341                        	.line	186
  1342 03:012F: AF xx xx xx  	lda	>~~_k_window_index
  1343 03:0133: 85 05        	sta	<L27+index_1
  1344 03:0135: AF xx xx xx  	lda	>~~_k_window_index
  1345 03:0139: 1A           	ina
  1346 03:013A: 8F xx xx xx  	sta	>~~_k_window_index
  1347                        ;	
  1348                        ;	k_put_char(0,1,'b',5,0);
  1349                        	.line	188
  1350 03:013E: F4 00 00     	pea	#<$0
  1351 03:0141: F4 05 00     	pea	#<$5
  1352 03:0144: F4 62 00     	pea	#<$62
  1353 03:0147: F4 01 00     	pea	#<$1
  1354 03:014A: F4 00 00     	pea	#<$0
  1355 03:014D: 22 xx xx xx  	jsl	~~k_put_char
  1356                        ;	
  1357                        ;	pwin = &_k_window_list[index];
  1358                        	.line	190
  1359 03:0151: A0 00 00     	ldy	#$0
  1360 03:0154: A5 05        	lda	<L27+index_1
  1361 03:0156: 10 01        	bpl	L29
  1362 03:0158: 88           	dey
  1363                        L29:
  1364 03:0159: 85 01        	sta	<R0
  1365 03:015B: 84 03        	sty	<R0+2
  1366 03:015D: F4 00 00     	pea	#^$a6
  Wed Nov 18 2020  8:27                                                Page 29


  1367 03:0160: F4 A6 00     	pea	#<$a6
  1368 03:0163: D4 03        	pei	<R0+2
  1369 03:0165: D4 01        	pei	<R0
  1370                        	xref	~~~lmul
  1371 03:0167: 22 xx xx xx  	jsl	~~~lmul
  1372 03:016B: 85 01        	sta	<R0
  1373 03:016D: 86 03        	stx	<R0+2
  1374 03:016F: 18           	clc
  1375 03:0170: A9 xx xx     	lda	#<~~_k_window_list
  1376 03:0173: 65 01        	adc	<R0
  1377 03:0175: 85 07        	sta	<L27+pwin_1
  1378 03:0177: A9 xx xx     	lda	#^~~_k_window_list
  1379 03:017A: 65 03        	adc	<R0+2
  1380 03:017C: 85 09        	sta	<L27+pwin_1+2
  1381                        ;	
  1382                        ;	pwin->win_x = bx;
  1383                        	.line	192
  1384 03:017E: A5 0E        	lda	<L26+bx_0
  1385 03:0180: A0 08 00     	ldy	#$8
  1386 03:0183: 97 07        	sta	[<L27+pwin_1],Y
  1387                        ;	pwin->win_y = by;
  1388                        	.line	193
  1389 03:0185: A5 10        	lda	<L26+by_0
  1390 03:0187: A0 0A 00     	ldy	#$a
  1391 03:018A: 97 07        	sta	[<L27+pwin_1],Y
  1392                        ;	pwin->win_width = bw;
  1393                        	.line	194
  1394 03:018C: A5 12        	lda	<L26+bw_0
  1395 03:018E: A0 0C 00     	ldy	#$c
  1396 03:0191: 97 07        	sta	[<L27+pwin_1],Y
  1397                        ;	pwin->win_height = bh;
  1398                        	.line	195
  1399 03:0193: A5 14        	lda	<L26+bh_0
  1400 03:0195: A0 0E 00     	ldy	#$e
  1401 03:0198: 97 07        	sta	[<L27+pwin_1],Y
  1402                        ;
  1403                        ;	k_put_char(0,1,'c',5,0);
  1404                        	.line	197
  1405 03:019A: F4 00 00     	pea	#<$0
  1406 03:019D: F4 05 00     	pea	#<$5
  1407 03:01A0: F4 63 00     	pea	#<$63
  1408 03:01A3: F4 01 00     	pea	#<$1
  1409 03:01A6: F4 00 00     	pea	#<$0
  1410 03:01A9: 22 xx xx xx  	jsl	~~k_put_char
  1411                        ;	
  1412                        ;	strcpy(pwin->win_title,title);
  1413                        	.line	199
  1414 03:01AD: D4 18        	pei	<L26+title_0+2
  1415 03:01AF: D4 16        	pei	<L26+title_0
  1416 03:01B1: 18           	clc
  1417 03:01B2: A9 24 00     	lda	#$24
  1418 03:01B5: 65 07        	adc	<L27+pwin_1
  1419 03:01B7: 85 01        	sta	<R0
  1420 03:01B9: A9 00 00     	lda	#$0
  1421 03:01BC: 65 09        	adc	<L27+pwin_1+2
  1422 03:01BE: 85 03        	sta	<R0+2
  1423 03:01C0: D4 03        	pei	<R0+2
  1424 03:01C2: D4 01        	pei	<R0
  Wed Nov 18 2020  8:27                                                Page 30


  1425 03:01C4: 22 xx xx xx  	jsl	~~strcpy
  1426                        ;	
  1427                        ;	k_put_char(0,1,'d',5,0);
  1428                        	.line	201
  1429 03:01C8: F4 00 00     	pea	#<$0
  1430 03:01CB: F4 05 00     	pea	#<$5
  1431 03:01CE: F4 64 00     	pea	#<$64
  1432 03:01D1: F4 01 00     	pea	#<$1
  1433 03:01D4: F4 00 00     	pea	#<$0
  1434 03:01D7: 22 xx xx xx  	jsl	~~k_put_char
  1435                        ;	
  1436                        ;	k_window_draw(pwin->win_x,pwin->win_y,pwin->win_
                    width,pwin->win_height,pwin->win_title);
  1437                        	.line	203
  1438 03:01DB: 18           	clc
  1439 03:01DC: A9 24 00     	lda	#$24
  1440 03:01DF: 65 07        	adc	<L27+pwin_1
  1441 03:01E1: 85 01        	sta	<R0
  1442 03:01E3: A9 00 00     	lda	#$0
  1443 03:01E6: 65 09        	adc	<L27+pwin_1+2
  1444 03:01E8: 85 03        	sta	<R0+2
  1445 03:01EA: D4 03        	pei	<R0+2
  1446 03:01EC: D4 01        	pei	<R0
  1447 03:01EE: A0 0E 00     	ldy	#$e
  1448 03:01F1: B7 07        	lda	[<L27+pwin_1],Y
  1449 03:01F3: 48           	pha
  1450 03:01F4: A0 0C 00     	ldy	#$c
  1451 03:01F7: B7 07        	lda	[<L27+pwin_1],Y
  1452 03:01F9: 48           	pha
  1453 03:01FA: A0 0A 00     	ldy	#$a
  1454 03:01FD: B7 07        	lda	[<L27+pwin_1],Y
  1455 03:01FF: 48           	pha
  1456 03:0200: A0 08 00     	ldy	#$8
  1457 03:0203: B7 07        	lda	[<L27+pwin_1],Y
  1458 03:0205: 48           	pha
  1459 03:0206: 22 xx xx xx  	jsl	~~k_window_draw
  1460                        ;	
  1461                        ;	k_put_char(0,1,'e',5,0);
  1462                        	.line	205
  1463 03:020A: F4 00 00     	pea	#<$0
  1464 03:020D: F4 05 00     	pea	#<$5
  1465 03:0210: F4 65 00     	pea	#<$65
  1466 03:0213: F4 01 00     	pea	#<$1
  1467 03:0216: F4 00 00     	pea	#<$0
  1468 03:0219: 22 xx xx xx  	jsl	~~k_put_char
  1469                        ;	
  1470                        ;	return (HANDLE)index;
  1471                        	.line	207
  1472 03:021D: A0 00 00     	ldy	#$0
  1473 03:0220: A5 05        	lda	<L27+index_1
  1474 03:0222: 10 01        	bpl	L30
  1475 03:0224: 88           	dey
  1476                        L30:
  1477 03:0225: 85 01        	sta	<R0
  1478 03:0227: 84 03        	sty	<R0+2
  1479 03:0229: A6 03        	ldx	<R0+2
  1480 03:022B: A5 01        	lda	<R0
  1481                        L31:
  Wed Nov 18 2020  8:27                                                Page 31


  1482 03:022D: A8           	tay
  1483 03:022E: A5 0C        	lda	<L26+2
  1484 03:0230: 85 18        	sta	<L26+2+12
  1485 03:0232: A5 0B        	lda	<L26+1
  1486 03:0234: 85 17        	sta	<L26+1+12
  1487 03:0236: 2B           	pld
  1488 03:0237: 3B           	tsc
  1489 03:0238: 18           	clc
  1490 03:0239: 69 16 00     	adc	#L26+12
  1491 03:023C: 1B           	tcs
  1492 03:023D: 98           	tya
  1493 03:023E: 6B           	rtl
  1494                        ;}
  1495                        	.line	208
  1496                        	.endblock	208
  1497             0000000A   L26	equ	10
  1498             00000005   L27	equ	5
  1499 03:023F:              	ends
  1500                        	efunc
  1501                        	.endfunc	208,5,10
  1502                        	.line	208
  1503                        ;
  1504                        ;void setColors(void)
  1505                        ;{
  1506                        	.line	210
  1507                        	.line	211
  1508                        	GUI
  1509                        	xdef	~~setColors
  1510                        	func
  1511                        	.function	211
  1512                        ~~setColors:
  1513                        	longa	on
  1514                        	longi	on
  1515 03:023F: 3B           	tsc
  1516 03:0240: 38           	sec
  1517 03:0241: E9 08 00     	sbc	#L32
  1518 03:0244: 1B           	tcs
  1519 03:0245: 0B           	phd
  1520 03:0246: 5B           	tcd
  1521                        	.block	211
  1522                        ;	unsigned long colorIndex = 0;
  1523                        ;
  1524                        ;	//colorIndex = 0;
  1525                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1526             00000000   colorIndex_1	set	0
  1527                        	.sym	colorIndex,0,18,1,32
  1528 03:0247: 64 05        	stz	<L33+colorIndex_1
  1529 03:0249: 64 07        	stz	<L33+colorIndex_1+2
  1530                        	.line	215
  1531 03:024B: 18           	clc
  1532 03:024C: A9 00 20     	lda	#$2000
  1533 03:024F: 65 05        	adc	<L33+colorIndex_1
  1534 03:0251: 85 01        	sta	<R0
  1535 03:0253: A9 AF 00     	lda	#$af
  1536 03:0256: 65 07        	adc	<L33+colorIndex_1+2
  1537 03:0258: 85 03        	sta	<R0+2
  1538 03:025A: E2 20        	sep	#$20
  1539                        	longa	off
  Wed Nov 18 2020  8:27                                                Page 32


  1540 03:025C: A9 00        	lda	#$0
  1541 03:025E: 87 01        	sta	[<R0]
  1542 03:0260: C2 20        	rep	#$20
  1543                        	longa	on
  1544 03:0262: E6 05        	inc	<L33+colorIndex_1
  1545 03:0264: D0 02        	bne	L35
  1546 03:0266: E6 07        	inc	<L33+colorIndex_1+2
  1547                        L35:
  1548                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1549                        	.line	216
  1550 03:0268: 18           	clc
  1551 03:0269: A9 00 20     	lda	#$2000
  1552 03:026C: 65 05        	adc	<L33+colorIndex_1
  1553 03:026E: 85 01        	sta	<R0
  1554 03:0270: A9 AF 00     	lda	#$af
  1555 03:0273: 65 07        	adc	<L33+colorIndex_1+2
  1556 03:0275: 85 03        	sta	<R0+2
  1557 03:0277: E2 20        	sep	#$20
  1558                        	longa	off
  1559 03:0279: A9 00        	lda	#$0
  1560 03:027B: 87 01        	sta	[<R0]
  1561 03:027D: C2 20        	rep	#$20
  1562                        	longa	on
  1563 03:027F: E6 05        	inc	<L33+colorIndex_1
  1564 03:0281: D0 02        	bne	L36
  1565 03:0283: E6 07        	inc	<L33+colorIndex_1+2
  1566                        L36:
  1567                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1568                        	.line	217
  1569 03:0285: 18           	clc
  1570 03:0286: A9 00 20     	lda	#$2000
  1571 03:0289: 65 05        	adc	<L33+colorIndex_1
  1572 03:028B: 85 01        	sta	<R0
  1573 03:028D: A9 AF 00     	lda	#$af
  1574 03:0290: 65 07        	adc	<L33+colorIndex_1+2
  1575 03:0292: 85 03        	sta	<R0+2
  1576 03:0294: E2 20        	sep	#$20
  1577                        	longa	off
  1578 03:0296: A9 00        	lda	#$0
  1579 03:0298: 87 01        	sta	[<R0]
  1580 03:029A: C2 20        	rep	#$20
  1581                        	longa	on
  1582 03:029C: E6 05        	inc	<L33+colorIndex_1
  1583 03:029E: D0 02        	bne	L37
  1584 03:02A0: E6 07        	inc	<L33+colorIndex_1+2
  1585                        L37:
  1586                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  1587                        	.line	218
  1588 03:02A2: 18           	clc
  1589 03:02A3: A9 00 20     	lda	#$2000
  1590 03:02A6: 65 05        	adc	<L33+colorIndex_1
  1591 03:02A8: 85 01        	sta	<R0
  1592 03:02AA: A9 AF 00     	lda	#$af
  1593 03:02AD: 65 07        	adc	<L33+colorIndex_1+2
  1594 03:02AF: 85 03        	sta	<R0+2
  1595 03:02B1: E2 20        	sep	#$20
  1596                        	longa	off
  1597 03:02B3: A9 FF        	lda	#$ff
  Wed Nov 18 2020  8:27                                                Page 33


  1598 03:02B5: 87 01        	sta	[<R0]
  1599 03:02B7: C2 20        	rep	#$20
  1600                        	longa	on
  1601 03:02B9: E6 05        	inc	<L33+colorIndex_1
  1602 03:02BB: D0 02        	bne	L38
  1603 03:02BD: E6 07        	inc	<L33+colorIndex_1+2
  1604                        L38:
  1605                        ;
  1606                        ;	//colorIndex = 1 * 4;
  1607                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1608                        	.line	221
  1609 03:02BF: 18           	clc
  1610 03:02C0: A9 00 20     	lda	#$2000
  1611 03:02C3: 65 05        	adc	<L33+colorIndex_1
  1612 03:02C5: 85 01        	sta	<R0
  1613 03:02C7: A9 AF 00     	lda	#$af
  1614 03:02CA: 65 07        	adc	<L33+colorIndex_1+2
  1615 03:02CC: 85 03        	sta	<R0+2
  1616 03:02CE: E2 20        	sep	#$20
  1617                        	longa	off
  1618 03:02D0: A9 00        	lda	#$0
  1619 03:02D2: 87 01        	sta	[<R0]
  1620 03:02D4: C2 20        	rep	#$20
  1621                        	longa	on
  1622 03:02D6: E6 05        	inc	<L33+colorIndex_1
  1623 03:02D8: D0 02        	bne	L39
  1624 03:02DA: E6 07        	inc	<L33+colorIndex_1+2
  1625                        L39:
  1626                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1627                        	.line	222
  1628 03:02DC: 18           	clc
  1629 03:02DD: A9 00 20     	lda	#$2000
  1630 03:02E0: 65 05        	adc	<L33+colorIndex_1
  1631 03:02E2: 85 01        	sta	<R0
  1632 03:02E4: A9 AF 00     	lda	#$af
  1633 03:02E7: 65 07        	adc	<L33+colorIndex_1+2
  1634 03:02E9: 85 03        	sta	<R0+2
  1635 03:02EB: E2 20        	sep	#$20
  1636                        	longa	off
  1637 03:02ED: A9 00        	lda	#$0
  1638 03:02EF: 87 01        	sta	[<R0]
  1639 03:02F1: C2 20        	rep	#$20
  1640                        	longa	on
  1641 03:02F3: E6 05        	inc	<L33+colorIndex_1
  1642 03:02F5: D0 02        	bne	L40
  1643 03:02F7: E6 07        	inc	<L33+colorIndex_1+2
  1644                        L40:
  1645                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1646                        	.line	223
  1647 03:02F9: 18           	clc
  1648 03:02FA: A9 00 20     	lda	#$2000
  1649 03:02FD: 65 05        	adc	<L33+colorIndex_1
  1650 03:02FF: 85 01        	sta	<R0
  1651 03:0301: A9 AF 00     	lda	#$af
  1652 03:0304: 65 07        	adc	<L33+colorIndex_1+2
  1653 03:0306: 85 03        	sta	<R0+2
  1654 03:0308: E2 20        	sep	#$20
  1655                        	longa	off
  Wed Nov 18 2020  8:27                                                Page 34


  1656 03:030A: A9 80        	lda	#$80
  1657 03:030C: 87 01        	sta	[<R0]
  1658 03:030E: C2 20        	rep	#$20
  1659                        	longa	on
  1660 03:0310: E6 05        	inc	<L33+colorIndex_1
  1661 03:0312: D0 02        	bne	L41
  1662 03:0314: E6 07        	inc	<L33+colorIndex_1+2
  1663                        L41:
  1664                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  1665                        	.line	224
  1666 03:0316: 18           	clc
  1667 03:0317: A9 00 20     	lda	#$2000
  1668 03:031A: 65 05        	adc	<L33+colorIndex_1
  1669 03:031C: 85 01        	sta	<R0
  1670 03:031E: A9 AF 00     	lda	#$af
  1671 03:0321: 65 07        	adc	<L33+colorIndex_1+2
  1672 03:0323: 85 03        	sta	<R0+2
  1673 03:0325: E2 20        	sep	#$20
  1674                        	longa	off
  1675 03:0327: A9 FF        	lda	#$ff
  1676 03:0329: 87 01        	sta	[<R0]
  1677 03:032B: C2 20        	rep	#$20
  1678                        	longa	on
  1679 03:032D: E6 05        	inc	<L33+colorIndex_1
  1680 03:032F: D0 02        	bne	L42
  1681 03:0331: E6 07        	inc	<L33+colorIndex_1+2
  1682                        L42:
  1683                        ;
  1684                        ;	//colorIndex = 2 * 4;
  1685                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1686                        	.line	227
  1687 03:0333: 18           	clc
  1688 03:0334: A9 00 20     	lda	#$2000
  1689 03:0337: 65 05        	adc	<L33+colorIndex_1
  1690 03:0339: 85 01        	sta	<R0
  1691 03:033B: A9 AF 00     	lda	#$af
  1692 03:033E: 65 07        	adc	<L33+colorIndex_1+2
  1693 03:0340: 85 03        	sta	<R0+2
  1694 03:0342: E2 20        	sep	#$20
  1695                        	longa	off
  1696 03:0344: A9 00        	lda	#$0
  1697 03:0346: 87 01        	sta	[<R0]
  1698 03:0348: C2 20        	rep	#$20
  1699                        	longa	on
  1700 03:034A: E6 05        	inc	<L33+colorIndex_1
  1701 03:034C: D0 02        	bne	L43
  1702 03:034E: E6 07        	inc	<L33+colorIndex_1+2
  1703                        L43:
  1704                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1705                        	.line	228
  1706 03:0350: 18           	clc
  1707 03:0351: A9 00 20     	lda	#$2000
  1708 03:0354: 65 05        	adc	<L33+colorIndex_1
  1709 03:0356: 85 01        	sta	<R0
  1710 03:0358: A9 AF 00     	lda	#$af
  1711 03:035B: 65 07        	adc	<L33+colorIndex_1+2
  1712 03:035D: 85 03        	sta	<R0+2
  1713 03:035F: E2 20        	sep	#$20
  Wed Nov 18 2020  8:27                                                Page 35


  1714                        	longa	off
  1715 03:0361: A9 80        	lda	#$80
  1716 03:0363: 87 01        	sta	[<R0]
  1717 03:0365: C2 20        	rep	#$20
  1718                        	longa	on
  1719 03:0367: E6 05        	inc	<L33+colorIndex_1
  1720 03:0369: D0 02        	bne	L44
  1721 03:036B: E6 07        	inc	<L33+colorIndex_1+2
  1722                        L44:
  1723                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1724                        	.line	229
  1725 03:036D: 18           	clc
  1726 03:036E: A9 00 20     	lda	#$2000
  1727 03:0371: 65 05        	adc	<L33+colorIndex_1
  1728 03:0373: 85 01        	sta	<R0
  1729 03:0375: A9 AF 00     	lda	#$af
  1730 03:0378: 65 07        	adc	<L33+colorIndex_1+2
  1731 03:037A: 85 03        	sta	<R0+2
  1732 03:037C: E2 20        	sep	#$20
  1733                        	longa	off
  1734 03:037E: A9 00        	lda	#$0
  1735 03:0380: 87 01        	sta	[<R0]
  1736 03:0382: C2 20        	rep	#$20
  1737                        	longa	on
  1738 03:0384: E6 05        	inc	<L33+colorIndex_1
  1739 03:0386: D0 02        	bne	L45
  1740 03:0388: E6 07        	inc	<L33+colorIndex_1+2
  1741                        L45:
  1742                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  1743                        	.line	230
  1744 03:038A: 18           	clc
  1745 03:038B: A9 00 20     	lda	#$2000
  1746 03:038E: 65 05        	adc	<L33+colorIndex_1
  1747 03:0390: 85 01        	sta	<R0
  1748 03:0392: A9 AF 00     	lda	#$af
  1749 03:0395: 65 07        	adc	<L33+colorIndex_1+2
  1750 03:0397: 85 03        	sta	<R0+2
  1751 03:0399: E2 20        	sep	#$20
  1752                        	longa	off
  1753 03:039B: A9 FF        	lda	#$ff
  1754 03:039D: 87 01        	sta	[<R0]
  1755 03:039F: C2 20        	rep	#$20
  1756                        	longa	on
  1757 03:03A1: E6 05        	inc	<L33+colorIndex_1
  1758 03:03A3: D0 02        	bne	L46
  1759 03:03A5: E6 07        	inc	<L33+colorIndex_1+2
  1760                        L46:
  1761                        ;
  1762                        ;
  1763                        ;	//colorIndex = 3 * 4;
  1764                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1765                        	.line	234
  1766 03:03A7: 18           	clc
  1767 03:03A8: A9 00 20     	lda	#$2000
  1768 03:03AB: 65 05        	adc	<L33+colorIndex_1
  1769 03:03AD: 85 01        	sta	<R0
  1770 03:03AF: A9 AF 00     	lda	#$af
  1771 03:03B2: 65 07        	adc	<L33+colorIndex_1+2
  Wed Nov 18 2020  8:27                                                Page 36


  1772 03:03B4: 85 03        	sta	<R0+2
  1773 03:03B6: E2 20        	sep	#$20
  1774                        	longa	off
  1775 03:03B8: A9 80        	lda	#$80
  1776 03:03BA: 87 01        	sta	[<R0]
  1777 03:03BC: C2 20        	rep	#$20
  1778                        	longa	on
  1779 03:03BE: E6 05        	inc	<L33+colorIndex_1
  1780 03:03C0: D0 02        	bne	L47
  1781 03:03C2: E6 07        	inc	<L33+colorIndex_1+2
  1782                        L47:
  1783                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1784                        	.line	235
  1785 03:03C4: 18           	clc
  1786 03:03C5: A9 00 20     	lda	#$2000
  1787 03:03C8: 65 05        	adc	<L33+colorIndex_1
  1788 03:03CA: 85 01        	sta	<R0
  1789 03:03CC: A9 AF 00     	lda	#$af
  1790 03:03CF: 65 07        	adc	<L33+colorIndex_1+2
  1791 03:03D1: 85 03        	sta	<R0+2
  1792 03:03D3: E2 20        	sep	#$20
  1793                        	longa	off
  1794 03:03D5: A9 00        	lda	#$0
  1795 03:03D7: 87 01        	sta	[<R0]
  1796 03:03D9: C2 20        	rep	#$20
  1797                        	longa	on
  1798 03:03DB: E6 05        	inc	<L33+colorIndex_1
  1799 03:03DD: D0 02        	bne	L48
  1800 03:03DF: E6 07        	inc	<L33+colorIndex_1+2
  1801                        L48:
  1802                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1803                        	.line	236
  1804 03:03E1: 18           	clc
  1805 03:03E2: A9 00 20     	lda	#$2000
  1806 03:03E5: 65 05        	adc	<L33+colorIndex_1
  1807 03:03E7: 85 01        	sta	<R0
  1808 03:03E9: A9 AF 00     	lda	#$af
  1809 03:03EC: 65 07        	adc	<L33+colorIndex_1+2
  1810 03:03EE: 85 03        	sta	<R0+2
  1811 03:03F0: E2 20        	sep	#$20
  1812                        	longa	off
  1813 03:03F2: A9 00        	lda	#$0
  1814 03:03F4: 87 01        	sta	[<R0]
  1815 03:03F6: C2 20        	rep	#$20
  1816                        	longa	on
  1817 03:03F8: E6 05        	inc	<L33+colorIndex_1
  1818 03:03FA: D0 02        	bne	L49
  1819 03:03FC: E6 07        	inc	<L33+colorIndex_1+2
  1820                        L49:
  1821                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  1822                        	.line	237
  1823 03:03FE: 18           	clc
  1824 03:03FF: A9 00 20     	lda	#$2000
  1825 03:0402: 65 05        	adc	<L33+colorIndex_1
  1826 03:0404: 85 01        	sta	<R0
  1827 03:0406: A9 AF 00     	lda	#$af
  1828 03:0409: 65 07        	adc	<L33+colorIndex_1+2
  1829 03:040B: 85 03        	sta	<R0+2
  Wed Nov 18 2020  8:27                                                Page 37


  1830 03:040D: E2 20        	sep	#$20
  1831                        	longa	off
  1832 03:040F: A9 FF        	lda	#$ff
  1833 03:0411: 87 01        	sta	[<R0]
  1834 03:0413: C2 20        	rep	#$20
  1835                        	longa	on
  1836 03:0415: E6 05        	inc	<L33+colorIndex_1
  1837 03:0417: D0 02        	bne	L50
  1838 03:0419: E6 07        	inc	<L33+colorIndex_1+2
  1839                        L50:
  1840                        ;
  1841                        ;	//colorIndex = 4 * 4;
  1842                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1843                        	.line	240
  1844 03:041B: 18           	clc
  1845 03:041C: A9 00 20     	lda	#$2000
  1846 03:041F: 65 05        	adc	<L33+colorIndex_1
  1847 03:0421: 85 01        	sta	<R0
  1848 03:0423: A9 AF 00     	lda	#$af
  1849 03:0426: 65 07        	adc	<L33+colorIndex_1+2
  1850 03:0428: 85 03        	sta	<R0+2
  1851 03:042A: E2 20        	sep	#$20
  1852                        	longa	off
  1853 03:042C: A9 00        	lda	#$0
  1854 03:042E: 87 01        	sta	[<R0]
  1855 03:0430: C2 20        	rep	#$20
  1856                        	longa	on
  1857 03:0432: E6 05        	inc	<L33+colorIndex_1
  1858 03:0434: D0 02        	bne	L51
  1859 03:0436: E6 07        	inc	<L33+colorIndex_1+2
  1860                        L51:
  1861                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1862                        	.line	241
  1863 03:0438: 18           	clc
  1864 03:0439: A9 00 20     	lda	#$2000
  1865 03:043C: 65 05        	adc	<L33+colorIndex_1
  1866 03:043E: 85 01        	sta	<R0
  1867 03:0440: A9 AF 00     	lda	#$af
  1868 03:0443: 65 07        	adc	<L33+colorIndex_1+2
  1869 03:0445: 85 03        	sta	<R0+2
  1870 03:0447: E2 20        	sep	#$20
  1871                        	longa	off
  1872 03:0449: A9 80        	lda	#$80
  1873 03:044B: 87 01        	sta	[<R0]
  1874 03:044D: C2 20        	rep	#$20
  1875                        	longa	on
  1876 03:044F: E6 05        	inc	<L33+colorIndex_1
  1877 03:0451: D0 02        	bne	L52
  1878 03:0453: E6 07        	inc	<L33+colorIndex_1+2
  1879                        L52:
  1880                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1881                        	.line	242
  1882 03:0455: 18           	clc
  1883 03:0456: A9 00 20     	lda	#$2000
  1884 03:0459: 65 05        	adc	<L33+colorIndex_1
  1885 03:045B: 85 01        	sta	<R0
  1886 03:045D: A9 AF 00     	lda	#$af
  1887 03:0460: 65 07        	adc	<L33+colorIndex_1+2
  Wed Nov 18 2020  8:27                                                Page 38


  1888 03:0462: 85 03        	sta	<R0+2
  1889 03:0464: E2 20        	sep	#$20
  1890                        	longa	off
  1891 03:0466: A9 80        	lda	#$80
  1892 03:0468: 87 01        	sta	[<R0]
  1893 03:046A: C2 20        	rep	#$20
  1894                        	longa	on
  1895 03:046C: E6 05        	inc	<L33+colorIndex_1
  1896 03:046E: D0 02        	bne	L53
  1897 03:0470: E6 07        	inc	<L33+colorIndex_1+2
  1898                        L53:
  1899                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  1900                        	.line	243
  1901 03:0472: 18           	clc
  1902 03:0473: A9 00 20     	lda	#$2000
  1903 03:0476: 65 05        	adc	<L33+colorIndex_1
  1904 03:0478: 85 01        	sta	<R0
  1905 03:047A: A9 AF 00     	lda	#$af
  1906 03:047D: 65 07        	adc	<L33+colorIndex_1+2
  1907 03:047F: 85 03        	sta	<R0+2
  1908 03:0481: E2 20        	sep	#$20
  1909                        	longa	off
  1910 03:0483: A9 FF        	lda	#$ff
  1911 03:0485: 87 01        	sta	[<R0]
  1912 03:0487: C2 20        	rep	#$20
  1913                        	longa	on
  1914 03:0489: E6 05        	inc	<L33+colorIndex_1
  1915 03:048B: D0 02        	bne	L54
  1916 03:048D: E6 07        	inc	<L33+colorIndex_1+2
  1917                        L54:
  1918                        ;
  1919                        ;	//colorIndex = 5 * 4;
  1920                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1921                        	.line	246
  1922 03:048F: 18           	clc
  1923 03:0490: A9 00 20     	lda	#$2000
  1924 03:0493: 65 05        	adc	<L33+colorIndex_1
  1925 03:0495: 85 01        	sta	<R0
  1926 03:0497: A9 AF 00     	lda	#$af
  1927 03:049A: 65 07        	adc	<L33+colorIndex_1+2
  1928 03:049C: 85 03        	sta	<R0+2
  1929 03:049E: E2 20        	sep	#$20
  1930                        	longa	off
  1931 03:04A0: A9 80        	lda	#$80
  1932 03:04A2: 87 01        	sta	[<R0]
  1933 03:04A4: C2 20        	rep	#$20
  1934                        	longa	on
  1935 03:04A6: E6 05        	inc	<L33+colorIndex_1
  1936 03:04A8: D0 02        	bne	L55
  1937 03:04AA: E6 07        	inc	<L33+colorIndex_1+2
  1938                        L55:
  1939                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1940                        	.line	247
  1941 03:04AC: 18           	clc
  1942 03:04AD: A9 00 20     	lda	#$2000
  1943 03:04B0: 65 05        	adc	<L33+colorIndex_1
  1944 03:04B2: 85 01        	sta	<R0
  1945 03:04B4: A9 AF 00     	lda	#$af
  Wed Nov 18 2020  8:27                                                Page 39


  1946 03:04B7: 65 07        	adc	<L33+colorIndex_1+2
  1947 03:04B9: 85 03        	sta	<R0+2
  1948 03:04BB: E2 20        	sep	#$20
  1949                        	longa	off
  1950 03:04BD: A9 80        	lda	#$80
  1951 03:04BF: 87 01        	sta	[<R0]
  1952 03:04C1: C2 20        	rep	#$20
  1953                        	longa	on
  1954 03:04C3: E6 05        	inc	<L33+colorIndex_1
  1955 03:04C5: D0 02        	bne	L56
  1956 03:04C7: E6 07        	inc	<L33+colorIndex_1+2
  1957                        L56:
  1958                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  1959                        	.line	248
  1960 03:04C9: 18           	clc
  1961 03:04CA: A9 00 20     	lda	#$2000
  1962 03:04CD: 65 05        	adc	<L33+colorIndex_1
  1963 03:04CF: 85 01        	sta	<R0
  1964 03:04D1: A9 AF 00     	lda	#$af
  1965 03:04D4: 65 07        	adc	<L33+colorIndex_1+2
  1966 03:04D6: 85 03        	sta	<R0+2
  1967 03:04D8: E2 20        	sep	#$20
  1968                        	longa	off
  1969 03:04DA: A9 00        	lda	#$0
  1970 03:04DC: 87 01        	sta	[<R0]
  1971 03:04DE: C2 20        	rep	#$20
  1972                        	longa	on
  1973 03:04E0: E6 05        	inc	<L33+colorIndex_1
  1974 03:04E2: D0 02        	bne	L57
  1975 03:04E4: E6 07        	inc	<L33+colorIndex_1+2
  1976                        L57:
  1977                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  1978                        	.line	249
  1979 03:04E6: 18           	clc
  1980 03:04E7: A9 00 20     	lda	#$2000
  1981 03:04EA: 65 05        	adc	<L33+colorIndex_1
  1982 03:04EC: 85 01        	sta	<R0
  1983 03:04EE: A9 AF 00     	lda	#$af
  1984 03:04F1: 65 07        	adc	<L33+colorIndex_1+2
  1985 03:04F3: 85 03        	sta	<R0+2
  1986 03:04F5: E2 20        	sep	#$20
  1987                        	longa	off
  1988 03:04F7: A9 FF        	lda	#$ff
  1989 03:04F9: 87 01        	sta	[<R0]
  1990 03:04FB: C2 20        	rep	#$20
  1991                        	longa	on
  1992 03:04FD: E6 05        	inc	<L33+colorIndex_1
  1993 03:04FF: D0 02        	bne	L58
  1994 03:0501: E6 07        	inc	<L33+colorIndex_1+2
  1995                        L58:
  1996                        ;
  1997                        ;	//colorIndex = 6 * 4;
  1998                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  1999                        	.line	252
  2000 03:0503: 18           	clc
  2001 03:0504: A9 00 20     	lda	#$2000
  2002 03:0507: 65 05        	adc	<L33+colorIndex_1
  2003 03:0509: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 40


  2004 03:050B: A9 AF 00     	lda	#$af
  2005 03:050E: 65 07        	adc	<L33+colorIndex_1+2
  2006 03:0510: 85 03        	sta	<R0+2
  2007 03:0512: E2 20        	sep	#$20
  2008                        	longa	off
  2009 03:0514: A9 80        	lda	#$80
  2010 03:0516: 87 01        	sta	[<R0]
  2011 03:0518: C2 20        	rep	#$20
  2012                        	longa	on
  2013 03:051A: E6 05        	inc	<L33+colorIndex_1
  2014 03:051C: D0 02        	bne	L59
  2015 03:051E: E6 07        	inc	<L33+colorIndex_1+2
  2016                        L59:
  2017                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2018                        	.line	253
  2019 03:0520: 18           	clc
  2020 03:0521: A9 00 20     	lda	#$2000
  2021 03:0524: 65 05        	adc	<L33+colorIndex_1
  2022 03:0526: 85 01        	sta	<R0
  2023 03:0528: A9 AF 00     	lda	#$af
  2024 03:052B: 65 07        	adc	<L33+colorIndex_1+2
  2025 03:052D: 85 03        	sta	<R0+2
  2026 03:052F: E2 20        	sep	#$20
  2027                        	longa	off
  2028 03:0531: A9 00        	lda	#$0
  2029 03:0533: 87 01        	sta	[<R0]
  2030 03:0535: C2 20        	rep	#$20
  2031                        	longa	on
  2032 03:0537: E6 05        	inc	<L33+colorIndex_1
  2033 03:0539: D0 02        	bne	L60
  2034 03:053B: E6 07        	inc	<L33+colorIndex_1+2
  2035                        L60:
  2036                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2037                        	.line	254
  2038 03:053D: 18           	clc
  2039 03:053E: A9 00 20     	lda	#$2000
  2040 03:0541: 65 05        	adc	<L33+colorIndex_1
  2041 03:0543: 85 01        	sta	<R0
  2042 03:0545: A9 AF 00     	lda	#$af
  2043 03:0548: 65 07        	adc	<L33+colorIndex_1+2
  2044 03:054A: 85 03        	sta	<R0+2
  2045 03:054C: E2 20        	sep	#$20
  2046                        	longa	off
  2047 03:054E: A9 80        	lda	#$80
  2048 03:0550: 87 01        	sta	[<R0]
  2049 03:0552: C2 20        	rep	#$20
  2050                        	longa	on
  2051 03:0554: E6 05        	inc	<L33+colorIndex_1
  2052 03:0556: D0 02        	bne	L61
  2053 03:0558: E6 07        	inc	<L33+colorIndex_1+2
  2054                        L61:
  2055                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2056                        	.line	255
  2057 03:055A: 18           	clc
  2058 03:055B: A9 00 20     	lda	#$2000
  2059 03:055E: 65 05        	adc	<L33+colorIndex_1
  2060 03:0560: 85 01        	sta	<R0
  2061 03:0562: A9 AF 00     	lda	#$af
  Wed Nov 18 2020  8:27                                                Page 41


  2062 03:0565: 65 07        	adc	<L33+colorIndex_1+2
  2063 03:0567: 85 03        	sta	<R0+2
  2064 03:0569: E2 20        	sep	#$20
  2065                        	longa	off
  2066 03:056B: A9 FF        	lda	#$ff
  2067 03:056D: 87 01        	sta	[<R0]
  2068 03:056F: C2 20        	rep	#$20
  2069                        	longa	on
  2070 03:0571: E6 05        	inc	<L33+colorIndex_1
  2071 03:0573: D0 02        	bne	L62
  2072 03:0575: E6 07        	inc	<L33+colorIndex_1+2
  2073                        L62:
  2074                        ;
  2075                        ;	//colorIndex = 7 * 4;
  2076                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2077                        	.line	258
  2078 03:0577: 18           	clc
  2079 03:0578: A9 00 20     	lda	#$2000
  2080 03:057B: 65 05        	adc	<L33+colorIndex_1
  2081 03:057D: 85 01        	sta	<R0
  2082 03:057F: A9 AF 00     	lda	#$af
  2083 03:0582: 65 07        	adc	<L33+colorIndex_1+2
  2084 03:0584: 85 03        	sta	<R0+2
  2085 03:0586: E2 20        	sep	#$20
  2086                        	longa	off
  2087 03:0588: A9 00        	lda	#$0
  2088 03:058A: 87 01        	sta	[<R0]
  2089 03:058C: C2 20        	rep	#$20
  2090                        	longa	on
  2091 03:058E: E6 05        	inc	<L33+colorIndex_1
  2092 03:0590: D0 02        	bne	L63
  2093 03:0592: E6 07        	inc	<L33+colorIndex_1+2
  2094                        L63:
  2095                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  2096                        	.line	259
  2097 03:0594: 18           	clc
  2098 03:0595: A9 00 20     	lda	#$2000
  2099 03:0598: 65 05        	adc	<L33+colorIndex_1
  2100 03:059A: 85 01        	sta	<R0
  2101 03:059C: A9 AF 00     	lda	#$af
  2102 03:059F: 65 07        	adc	<L33+colorIndex_1+2
  2103 03:05A1: 85 03        	sta	<R0+2
  2104 03:05A3: E2 20        	sep	#$20
  2105                        	longa	off
  2106 03:05A5: A9 45        	lda	#$45
  2107 03:05A7: 87 01        	sta	[<R0]
  2108 03:05A9: C2 20        	rep	#$20
  2109                        	longa	on
  2110 03:05AB: E6 05        	inc	<L33+colorIndex_1
  2111 03:05AD: D0 02        	bne	L64
  2112 03:05AF: E6 07        	inc	<L33+colorIndex_1+2
  2113                        L64:
  2114                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2115                        	.line	260
  2116 03:05B1: 18           	clc
  2117 03:05B2: A9 00 20     	lda	#$2000
  2118 03:05B5: 65 05        	adc	<L33+colorIndex_1
  2119 03:05B7: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 42


  2120 03:05B9: A9 AF 00     	lda	#$af
  2121 03:05BC: 65 07        	adc	<L33+colorIndex_1+2
  2122 03:05BE: 85 03        	sta	<R0+2
  2123 03:05C0: E2 20        	sep	#$20
  2124                        	longa	off
  2125 03:05C2: A9 FF        	lda	#$ff
  2126 03:05C4: 87 01        	sta	[<R0]
  2127 03:05C6: C2 20        	rep	#$20
  2128                        	longa	on
  2129 03:05C8: E6 05        	inc	<L33+colorIndex_1
  2130 03:05CA: D0 02        	bne	L65
  2131 03:05CC: E6 07        	inc	<L33+colorIndex_1+2
  2132                        L65:
  2133                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2134                        	.line	261
  2135 03:05CE: 18           	clc
  2136 03:05CF: A9 00 20     	lda	#$2000
  2137 03:05D2: 65 05        	adc	<L33+colorIndex_1
  2138 03:05D4: 85 01        	sta	<R0
  2139 03:05D6: A9 AF 00     	lda	#$af
  2140 03:05D9: 65 07        	adc	<L33+colorIndex_1+2
  2141 03:05DB: 85 03        	sta	<R0+2
  2142 03:05DD: E2 20        	sep	#$20
  2143                        	longa	off
  2144 03:05DF: A9 FF        	lda	#$ff
  2145 03:05E1: 87 01        	sta	[<R0]
  2146 03:05E3: C2 20        	rep	#$20
  2147                        	longa	on
  2148 03:05E5: E6 05        	inc	<L33+colorIndex_1
  2149 03:05E7: D0 02        	bne	L66
  2150 03:05E9: E6 07        	inc	<L33+colorIndex_1+2
  2151                        L66:
  2152                        ;
  2153                        ;	//colorIndex = 8 * 4;
  2154                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  2155                        	.line	264
  2156 03:05EB: 18           	clc
  2157 03:05EC: A9 00 20     	lda	#$2000
  2158 03:05EF: 65 05        	adc	<L33+colorIndex_1
  2159 03:05F1: 85 01        	sta	<R0
  2160 03:05F3: A9 AF 00     	lda	#$af
  2161 03:05F6: 65 07        	adc	<L33+colorIndex_1+2
  2162 03:05F8: 85 03        	sta	<R0+2
  2163 03:05FA: E2 20        	sep	#$20
  2164                        	longa	off
  2165 03:05FC: A9 13        	lda	#$13
  2166 03:05FE: 87 01        	sta	[<R0]
  2167 03:0600: C2 20        	rep	#$20
  2168                        	longa	on
  2169 03:0602: E6 05        	inc	<L33+colorIndex_1
  2170 03:0604: D0 02        	bne	L67
  2171 03:0606: E6 07        	inc	<L33+colorIndex_1+2
  2172                        L67:
  2173                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  2174                        	.line	265
  2175 03:0608: 18           	clc
  2176 03:0609: A9 00 20     	lda	#$2000
  2177 03:060C: 65 05        	adc	<L33+colorIndex_1
  Wed Nov 18 2020  8:27                                                Page 43


  2178 03:060E: 85 01        	sta	<R0
  2179 03:0610: A9 AF 00     	lda	#$af
  2180 03:0613: 65 07        	adc	<L33+colorIndex_1+2
  2181 03:0615: 85 03        	sta	<R0+2
  2182 03:0617: E2 20        	sep	#$20
  2183                        	longa	off
  2184 03:0619: A9 45        	lda	#$45
  2185 03:061B: 87 01        	sta	[<R0]
  2186 03:061D: C2 20        	rep	#$20
  2187                        	longa	on
  2188 03:061F: E6 05        	inc	<L33+colorIndex_1
  2189 03:0621: D0 02        	bne	L68
  2190 03:0623: E6 07        	inc	<L33+colorIndex_1+2
  2191                        L68:
  2192                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  2193                        	.line	266
  2194 03:0625: 18           	clc
  2195 03:0626: A9 00 20     	lda	#$2000
  2196 03:0629: 65 05        	adc	<L33+colorIndex_1
  2197 03:062B: 85 01        	sta	<R0
  2198 03:062D: A9 AF 00     	lda	#$af
  2199 03:0630: 65 07        	adc	<L33+colorIndex_1+2
  2200 03:0632: 85 03        	sta	<R0+2
  2201 03:0634: E2 20        	sep	#$20
  2202                        	longa	off
  2203 03:0636: A9 8B        	lda	#$8b
  2204 03:0638: 87 01        	sta	[<R0]
  2205 03:063A: C2 20        	rep	#$20
  2206                        	longa	on
  2207 03:063C: E6 05        	inc	<L33+colorIndex_1
  2208 03:063E: D0 02        	bne	L69
  2209 03:0640: E6 07        	inc	<L33+colorIndex_1+2
  2210                        L69:
  2211                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2212                        	.line	267
  2213 03:0642: 18           	clc
  2214 03:0643: A9 00 20     	lda	#$2000
  2215 03:0646: 65 05        	adc	<L33+colorIndex_1
  2216 03:0648: 85 01        	sta	<R0
  2217 03:064A: A9 AF 00     	lda	#$af
  2218 03:064D: 65 07        	adc	<L33+colorIndex_1+2
  2219 03:064F: 85 03        	sta	<R0+2
  2220 03:0651: E2 20        	sep	#$20
  2221                        	longa	off
  2222 03:0653: A9 FF        	lda	#$ff
  2223 03:0655: 87 01        	sta	[<R0]
  2224 03:0657: C2 20        	rep	#$20
  2225                        	longa	on
  2226 03:0659: E6 05        	inc	<L33+colorIndex_1
  2227 03:065B: D0 02        	bne	L70
  2228 03:065D: E6 07        	inc	<L33+colorIndex_1+2
  2229                        L70:
  2230                        ;
  2231                        ;	//colorIndex = 9 * 4;
  2232                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2233                        	.line	270
  2234 03:065F: 18           	clc
  2235 03:0660: A9 00 20     	lda	#$2000
  Wed Nov 18 2020  8:27                                                Page 44


  2236 03:0663: 65 05        	adc	<L33+colorIndex_1
  2237 03:0665: 85 01        	sta	<R0
  2238 03:0667: A9 AF 00     	lda	#$af
  2239 03:066A: 65 07        	adc	<L33+colorIndex_1+2
  2240 03:066C: 85 03        	sta	<R0+2
  2241 03:066E: E2 20        	sep	#$20
  2242                        	longa	off
  2243 03:0670: A9 00        	lda	#$0
  2244 03:0672: 87 01        	sta	[<R0]
  2245 03:0674: C2 20        	rep	#$20
  2246                        	longa	on
  2247 03:0676: E6 05        	inc	<L33+colorIndex_1
  2248 03:0678: D0 02        	bne	L71
  2249 03:067A: E6 07        	inc	<L33+colorIndex_1+2
  2250                        L71:
  2251                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2252                        	.line	271
  2253 03:067C: 18           	clc
  2254 03:067D: A9 00 20     	lda	#$2000
  2255 03:0680: 65 05        	adc	<L33+colorIndex_1
  2256 03:0682: 85 01        	sta	<R0
  2257 03:0684: A9 AF 00     	lda	#$af
  2258 03:0687: 65 07        	adc	<L33+colorIndex_1+2
  2259 03:0689: 85 03        	sta	<R0+2
  2260 03:068B: E2 20        	sep	#$20
  2261                        	longa	off
  2262 03:068D: A9 00        	lda	#$0
  2263 03:068F: 87 01        	sta	[<R0]
  2264 03:0691: C2 20        	rep	#$20
  2265                        	longa	on
  2266 03:0693: E6 05        	inc	<L33+colorIndex_1
  2267 03:0695: D0 02        	bne	L72
  2268 03:0697: E6 07        	inc	<L33+colorIndex_1+2
  2269                        L72:
  2270                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  2271                        	.line	272
  2272 03:0699: 18           	clc
  2273 03:069A: A9 00 20     	lda	#$2000
  2274 03:069D: 65 05        	adc	<L33+colorIndex_1
  2275 03:069F: 85 01        	sta	<R0
  2276 03:06A1: A9 AF 00     	lda	#$af
  2277 03:06A4: 65 07        	adc	<L33+colorIndex_1+2
  2278 03:06A6: 85 03        	sta	<R0+2
  2279 03:06A8: E2 20        	sep	#$20
  2280                        	longa	off
  2281 03:06AA: A9 20        	lda	#$20
  2282 03:06AC: 87 01        	sta	[<R0]
  2283 03:06AE: C2 20        	rep	#$20
  2284                        	longa	on
  2285 03:06B0: E6 05        	inc	<L33+colorIndex_1
  2286 03:06B2: D0 02        	bne	L73
  2287 03:06B4: E6 07        	inc	<L33+colorIndex_1+2
  2288                        L73:
  2289                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2290                        	.line	273
  2291 03:06B6: 18           	clc
  2292 03:06B7: A9 00 20     	lda	#$2000
  2293 03:06BA: 65 05        	adc	<L33+colorIndex_1
  Wed Nov 18 2020  8:27                                                Page 45


  2294 03:06BC: 85 01        	sta	<R0
  2295 03:06BE: A9 AF 00     	lda	#$af
  2296 03:06C1: 65 07        	adc	<L33+colorIndex_1+2
  2297 03:06C3: 85 03        	sta	<R0+2
  2298 03:06C5: E2 20        	sep	#$20
  2299                        	longa	off
  2300 03:06C7: A9 FF        	lda	#$ff
  2301 03:06C9: 87 01        	sta	[<R0]
  2302 03:06CB: C2 20        	rep	#$20
  2303                        	longa	on
  2304 03:06CD: E6 05        	inc	<L33+colorIndex_1
  2305 03:06CF: D0 02        	bne	L74
  2306 03:06D1: E6 07        	inc	<L33+colorIndex_1+2
  2307                        L74:
  2308                        ;
  2309                        ;	//colorIndex = 10 * 4;
  2310                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2311                        	.line	276
  2312 03:06D3: 18           	clc
  2313 03:06D4: A9 00 20     	lda	#$2000
  2314 03:06D7: 65 05        	adc	<L33+colorIndex_1
  2315 03:06D9: 85 01        	sta	<R0
  2316 03:06DB: A9 AF 00     	lda	#$af
  2317 03:06DE: 65 07        	adc	<L33+colorIndex_1+2
  2318 03:06E0: 85 03        	sta	<R0+2
  2319 03:06E2: E2 20        	sep	#$20
  2320                        	longa	off
  2321 03:06E4: A9 00        	lda	#$0
  2322 03:06E6: 87 01        	sta	[<R0]
  2323 03:06E8: C2 20        	rep	#$20
  2324                        	longa	on
  2325 03:06EA: E6 05        	inc	<L33+colorIndex_1
  2326 03:06EC: D0 02        	bne	L75
  2327 03:06EE: E6 07        	inc	<L33+colorIndex_1+2
  2328                        L75:
  2329                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  2330                        	.line	277
  2331 03:06F0: 18           	clc
  2332 03:06F1: A9 00 20     	lda	#$2000
  2333 03:06F4: 65 05        	adc	<L33+colorIndex_1
  2334 03:06F6: 85 01        	sta	<R0
  2335 03:06F8: A9 AF 00     	lda	#$af
  2336 03:06FB: 65 07        	adc	<L33+colorIndex_1+2
  2337 03:06FD: 85 03        	sta	<R0+2
  2338 03:06FF: E2 20        	sep	#$20
  2339                        	longa	off
  2340 03:0701: A9 20        	lda	#$20
  2341 03:0703: 87 01        	sta	[<R0]
  2342 03:0705: C2 20        	rep	#$20
  2343                        	longa	on
  2344 03:0707: E6 05        	inc	<L33+colorIndex_1
  2345 03:0709: D0 02        	bne	L76
  2346 03:070B: E6 07        	inc	<L33+colorIndex_1+2
  2347                        L76:
  2348                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2349                        	.line	278
  2350 03:070D: 18           	clc
  2351 03:070E: A9 00 20     	lda	#$2000
  Wed Nov 18 2020  8:27                                                Page 46


  2352 03:0711: 65 05        	adc	<L33+colorIndex_1
  2353 03:0713: 85 01        	sta	<R0
  2354 03:0715: A9 AF 00     	lda	#$af
  2355 03:0718: 65 07        	adc	<L33+colorIndex_1+2
  2356 03:071A: 85 03        	sta	<R0+2
  2357 03:071C: E2 20        	sep	#$20
  2358                        	longa	off
  2359 03:071E: A9 00        	lda	#$0
  2360 03:0720: 87 01        	sta	[<R0]
  2361 03:0722: C2 20        	rep	#$20
  2362                        	longa	on
  2363 03:0724: E6 05        	inc	<L33+colorIndex_1
  2364 03:0726: D0 02        	bne	L77
  2365 03:0728: E6 07        	inc	<L33+colorIndex_1+2
  2366                        L77:
  2367                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2368                        	.line	279
  2369 03:072A: 18           	clc
  2370 03:072B: A9 00 20     	lda	#$2000
  2371 03:072E: 65 05        	adc	<L33+colorIndex_1
  2372 03:0730: 85 01        	sta	<R0
  2373 03:0732: A9 AF 00     	lda	#$af
  2374 03:0735: 65 07        	adc	<L33+colorIndex_1+2
  2375 03:0737: 85 03        	sta	<R0+2
  2376 03:0739: E2 20        	sep	#$20
  2377                        	longa	off
  2378 03:073B: A9 FF        	lda	#$ff
  2379 03:073D: 87 01        	sta	[<R0]
  2380 03:073F: C2 20        	rep	#$20
  2381                        	longa	on
  2382 03:0741: E6 05        	inc	<L33+colorIndex_1
  2383 03:0743: D0 02        	bne	L78
  2384 03:0745: E6 07        	inc	<L33+colorIndex_1+2
  2385                        L78:
  2386                        ;
  2387                        ;	//colorIndex = 11 * 4;
  2388                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  2389                        	.line	282
  2390 03:0747: 18           	clc
  2391 03:0748: A9 00 20     	lda	#$2000
  2392 03:074B: 65 05        	adc	<L33+colorIndex_1
  2393 03:074D: 85 01        	sta	<R0
  2394 03:074F: A9 AF 00     	lda	#$af
  2395 03:0752: 65 07        	adc	<L33+colorIndex_1+2
  2396 03:0754: 85 03        	sta	<R0+2
  2397 03:0756: E2 20        	sep	#$20
  2398                        	longa	off
  2399 03:0758: A9 20        	lda	#$20
  2400 03:075A: 87 01        	sta	[<R0]
  2401 03:075C: C2 20        	rep	#$20
  2402                        	longa	on
  2403 03:075E: E6 05        	inc	<L33+colorIndex_1
  2404 03:0760: D0 02        	bne	L79
  2405 03:0762: E6 07        	inc	<L33+colorIndex_1+2
  2406                        L79:
  2407                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2408                        	.line	283
  2409 03:0764: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 47


  2410 03:0765: A9 00 20     	lda	#$2000
  2411 03:0768: 65 05        	adc	<L33+colorIndex_1
  2412 03:076A: 85 01        	sta	<R0
  2413 03:076C: A9 AF 00     	lda	#$af
  2414 03:076F: 65 07        	adc	<L33+colorIndex_1+2
  2415 03:0771: 85 03        	sta	<R0+2
  2416 03:0773: E2 20        	sep	#$20
  2417                        	longa	off
  2418 03:0775: A9 00        	lda	#$0
  2419 03:0777: 87 01        	sta	[<R0]
  2420 03:0779: C2 20        	rep	#$20
  2421                        	longa	on
  2422 03:077B: E6 05        	inc	<L33+colorIndex_1
  2423 03:077D: D0 02        	bne	L80
  2424 03:077F: E6 07        	inc	<L33+colorIndex_1+2
  2425                        L80:
  2426                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2427                        	.line	284
  2428 03:0781: 18           	clc
  2429 03:0782: A9 00 20     	lda	#$2000
  2430 03:0785: 65 05        	adc	<L33+colorIndex_1
  2431 03:0787: 85 01        	sta	<R0
  2432 03:0789: A9 AF 00     	lda	#$af
  2433 03:078C: 65 07        	adc	<L33+colorIndex_1+2
  2434 03:078E: 85 03        	sta	<R0+2
  2435 03:0790: E2 20        	sep	#$20
  2436                        	longa	off
  2437 03:0792: A9 00        	lda	#$0
  2438 03:0794: 87 01        	sta	[<R0]
  2439 03:0796: C2 20        	rep	#$20
  2440                        	longa	on
  2441 03:0798: E6 05        	inc	<L33+colorIndex_1
  2442 03:079A: D0 02        	bne	L81
  2443 03:079C: E6 07        	inc	<L33+colorIndex_1+2
  2444                        L81:
  2445                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2446                        	.line	285
  2447 03:079E: 18           	clc
  2448 03:079F: A9 00 20     	lda	#$2000
  2449 03:07A2: 65 05        	adc	<L33+colorIndex_1
  2450 03:07A4: 85 01        	sta	<R0
  2451 03:07A6: A9 AF 00     	lda	#$af
  2452 03:07A9: 65 07        	adc	<L33+colorIndex_1+2
  2453 03:07AB: 85 03        	sta	<R0+2
  2454 03:07AD: E2 20        	sep	#$20
  2455                        	longa	off
  2456 03:07AF: A9 FF        	lda	#$ff
  2457 03:07B1: 87 01        	sta	[<R0]
  2458 03:07B3: C2 20        	rep	#$20
  2459                        	longa	on
  2460 03:07B5: E6 05        	inc	<L33+colorIndex_1
  2461 03:07B7: D0 02        	bne	L82
  2462 03:07B9: E6 07        	inc	<L33+colorIndex_1+2
  2463                        L82:
  2464                        ;
  2465                        ;	//colorIndex = 12 * 4;
  2466                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2467                        	.line	288
  Wed Nov 18 2020  8:27                                                Page 48


  2468 03:07BB: 18           	clc
  2469 03:07BC: A9 00 20     	lda	#$2000
  2470 03:07BF: 65 05        	adc	<L33+colorIndex_1
  2471 03:07C1: 85 01        	sta	<R0
  2472 03:07C3: A9 AF 00     	lda	#$af
  2473 03:07C6: 65 07        	adc	<L33+colorIndex_1+2
  2474 03:07C8: 85 03        	sta	<R0+2
  2475 03:07CA: E2 20        	sep	#$20
  2476                        	longa	off
  2477 03:07CC: A9 00        	lda	#$0
  2478 03:07CE: 87 01        	sta	[<R0]
  2479 03:07D0: C2 20        	rep	#$20
  2480                        	longa	on
  2481 03:07D2: E6 05        	inc	<L33+colorIndex_1
  2482 03:07D4: D0 02        	bne	L83
  2483 03:07D6: E6 07        	inc	<L33+colorIndex_1+2
  2484                        L83:
  2485                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2486                        	.line	289
  2487 03:07D8: 18           	clc
  2488 03:07D9: A9 00 20     	lda	#$2000
  2489 03:07DC: 65 05        	adc	<L33+colorIndex_1
  2490 03:07DE: 85 01        	sta	<R0
  2491 03:07E0: A9 AF 00     	lda	#$af
  2492 03:07E3: 65 07        	adc	<L33+colorIndex_1+2
  2493 03:07E5: 85 03        	sta	<R0+2
  2494 03:07E7: E2 20        	sep	#$20
  2495                        	longa	off
  2496 03:07E9: A9 00        	lda	#$0
  2497 03:07EB: 87 01        	sta	[<R0]
  2498 03:07ED: C2 20        	rep	#$20
  2499                        	longa	on
  2500 03:07EF: E6 05        	inc	<L33+colorIndex_1
  2501 03:07F1: D0 02        	bne	L84
  2502 03:07F3: E6 07        	inc	<L33+colorIndex_1+2
  2503                        L84:
  2504                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2505                        	.line	290
  2506 03:07F5: 18           	clc
  2507 03:07F6: A9 00 20     	lda	#$2000
  2508 03:07F9: 65 05        	adc	<L33+colorIndex_1
  2509 03:07FB: 85 01        	sta	<R0
  2510 03:07FD: A9 AF 00     	lda	#$af
  2511 03:0800: 65 07        	adc	<L33+colorIndex_1+2
  2512 03:0802: 85 03        	sta	<R0+2
  2513 03:0804: E2 20        	sep	#$20
  2514                        	longa	off
  2515 03:0806: A9 00        	lda	#$0
  2516 03:0808: 87 01        	sta	[<R0]
  2517 03:080A: C2 20        	rep	#$20
  2518                        	longa	on
  2519 03:080C: E6 05        	inc	<L33+colorIndex_1
  2520 03:080E: D0 02        	bne	L85
  2521 03:0810: E6 07        	inc	<L33+colorIndex_1+2
  2522                        L85:
  2523                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2524                        	.line	291
  2525 03:0812: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 49


  2526 03:0813: A9 00 20     	lda	#$2000
  2527 03:0816: 65 05        	adc	<L33+colorIndex_1
  2528 03:0818: 85 01        	sta	<R0
  2529 03:081A: A9 AF 00     	lda	#$af
  2530 03:081D: 65 07        	adc	<L33+colorIndex_1+2
  2531 03:081F: 85 03        	sta	<R0+2
  2532 03:0821: E2 20        	sep	#$20
  2533                        	longa	off
  2534 03:0823: A9 FF        	lda	#$ff
  2535 03:0825: 87 01        	sta	[<R0]
  2536 03:0827: C2 20        	rep	#$20
  2537                        	longa	on
  2538 03:0829: E6 05        	inc	<L33+colorIndex_1
  2539 03:082B: D0 02        	bne	L86
  2540 03:082D: E6 07        	inc	<L33+colorIndex_1+2
  2541                        L86:
  2542                        ;
  2543                        ;	//colorIndex = 13 * 4;
  2544                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  2545                        	.line	294
  2546 03:082F: 18           	clc
  2547 03:0830: A9 00 20     	lda	#$2000
  2548 03:0833: 65 05        	adc	<L33+colorIndex_1
  2549 03:0835: 85 01        	sta	<R0
  2550 03:0837: A9 AF 00     	lda	#$af
  2551 03:083A: 65 07        	adc	<L33+colorIndex_1+2
  2552 03:083C: 85 03        	sta	<R0+2
  2553 03:083E: E2 20        	sep	#$20
  2554                        	longa	off
  2555 03:0840: A9 50        	lda	#$50
  2556 03:0842: 87 01        	sta	[<R0]
  2557 03:0844: C2 20        	rep	#$20
  2558                        	longa	on
  2559 03:0846: E6 05        	inc	<L33+colorIndex_1
  2560 03:0848: D0 02        	bne	L87
  2561 03:084A: E6 07        	inc	<L33+colorIndex_1+2
  2562                        L87:
  2563                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  2564                        	.line	295
  2565 03:084C: 18           	clc
  2566 03:084D: A9 00 20     	lda	#$2000
  2567 03:0850: 65 05        	adc	<L33+colorIndex_1
  2568 03:0852: 85 01        	sta	<R0
  2569 03:0854: A9 AF 00     	lda	#$af
  2570 03:0857: 65 07        	adc	<L33+colorIndex_1+2
  2571 03:0859: 85 03        	sta	<R0+2
  2572 03:085B: E2 20        	sep	#$20
  2573                        	longa	off
  2574 03:085D: A9 50        	lda	#$50
  2575 03:085F: 87 01        	sta	[<R0]
  2576 03:0861: C2 20        	rep	#$20
  2577                        	longa	on
  2578 03:0863: E6 05        	inc	<L33+colorIndex_1
  2579 03:0865: D0 02        	bne	L88
  2580 03:0867: E6 07        	inc	<L33+colorIndex_1+2
  2581                        L88:
  2582                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  2583                        	.line	296
  Wed Nov 18 2020  8:27                                                Page 50


  2584 03:0869: 18           	clc
  2585 03:086A: A9 00 20     	lda	#$2000
  2586 03:086D: 65 05        	adc	<L33+colorIndex_1
  2587 03:086F: 85 01        	sta	<R0
  2588 03:0871: A9 AF 00     	lda	#$af
  2589 03:0874: 65 07        	adc	<L33+colorIndex_1+2
  2590 03:0876: 85 03        	sta	<R0+2
  2591 03:0878: E2 20        	sep	#$20
  2592                        	longa	off
  2593 03:087A: A9 50        	lda	#$50
  2594 03:087C: 87 01        	sta	[<R0]
  2595 03:087E: C2 20        	rep	#$20
  2596                        	longa	on
  2597 03:0880: E6 05        	inc	<L33+colorIndex_1
  2598 03:0882: D0 02        	bne	L89
  2599 03:0884: E6 07        	inc	<L33+colorIndex_1+2
  2600                        L89:
  2601                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2602                        	.line	297
  2603 03:0886: 18           	clc
  2604 03:0887: A9 00 20     	lda	#$2000
  2605 03:088A: 65 05        	adc	<L33+colorIndex_1
  2606 03:088C: 85 01        	sta	<R0
  2607 03:088E: A9 AF 00     	lda	#$af
  2608 03:0891: 65 07        	adc	<L33+colorIndex_1+2
  2609 03:0893: 85 03        	sta	<R0+2
  2610 03:0895: E2 20        	sep	#$20
  2611                        	longa	off
  2612 03:0897: A9 FF        	lda	#$ff
  2613 03:0899: 87 01        	sta	[<R0]
  2614 03:089B: C2 20        	rep	#$20
  2615                        	longa	on
  2616 03:089D: E6 05        	inc	<L33+colorIndex_1
  2617 03:089F: D0 02        	bne	L90
  2618 03:08A1: E6 07        	inc	<L33+colorIndex_1+2
  2619                        L90:
  2620                        ;
  2621                        ;	//colorIndex = 14 * 4;
  2622                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  2623                        	.line	300
  2624 03:08A3: 18           	clc
  2625 03:08A4: A9 00 20     	lda	#$2000
  2626 03:08A7: 65 05        	adc	<L33+colorIndex_1
  2627 03:08A9: 85 01        	sta	<R0
  2628 03:08AB: A9 AF 00     	lda	#$af
  2629 03:08AE: 65 07        	adc	<L33+colorIndex_1+2
  2630 03:08B0: 85 03        	sta	<R0+2
  2631 03:08B2: E2 20        	sep	#$20
  2632                        	longa	off
  2633 03:08B4: A9 40        	lda	#$40
  2634 03:08B6: 87 01        	sta	[<R0]
  2635 03:08B8: C2 20        	rep	#$20
  2636                        	longa	on
  2637 03:08BA: E6 05        	inc	<L33+colorIndex_1
  2638 03:08BC: D0 02        	bne	L91
  2639 03:08BE: E6 07        	inc	<L33+colorIndex_1+2
  2640                        L91:
  2641                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  Wed Nov 18 2020  8:27                                                Page 51


  2642                        	.line	301
  2643 03:08C0: 18           	clc
  2644 03:08C1: A9 00 20     	lda	#$2000
  2645 03:08C4: 65 05        	adc	<L33+colorIndex_1
  2646 03:08C6: 85 01        	sta	<R0
  2647 03:08C8: A9 AF 00     	lda	#$af
  2648 03:08CB: 65 07        	adc	<L33+colorIndex_1+2
  2649 03:08CD: 85 03        	sta	<R0+2
  2650 03:08CF: E2 20        	sep	#$20
  2651                        	longa	off
  2652 03:08D1: A9 40        	lda	#$40
  2653 03:08D3: 87 01        	sta	[<R0]
  2654 03:08D5: C2 20        	rep	#$20
  2655                        	longa	on
  2656 03:08D7: E6 05        	inc	<L33+colorIndex_1
  2657 03:08D9: D0 02        	bne	L92
  2658 03:08DB: E6 07        	inc	<L33+colorIndex_1+2
  2659                        L92:
  2660                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  2661                        	.line	302
  2662 03:08DD: 18           	clc
  2663 03:08DE: A9 00 20     	lda	#$2000
  2664 03:08E1: 65 05        	adc	<L33+colorIndex_1
  2665 03:08E3: 85 01        	sta	<R0
  2666 03:08E5: A9 AF 00     	lda	#$af
  2667 03:08E8: 65 07        	adc	<L33+colorIndex_1+2
  2668 03:08EA: 85 03        	sta	<R0+2
  2669 03:08EC: E2 20        	sep	#$20
  2670                        	longa	off
  2671 03:08EE: A9 40        	lda	#$40
  2672 03:08F0: 87 01        	sta	[<R0]
  2673 03:08F2: C2 20        	rep	#$20
  2674                        	longa	on
  2675 03:08F4: E6 05        	inc	<L33+colorIndex_1
  2676 03:08F6: D0 02        	bne	L93
  2677 03:08F8: E6 07        	inc	<L33+colorIndex_1+2
  2678                        L93:
  2679                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2680                        	.line	303
  2681 03:08FA: 18           	clc
  2682 03:08FB: A9 00 20     	lda	#$2000
  2683 03:08FE: 65 05        	adc	<L33+colorIndex_1
  2684 03:0900: 85 01        	sta	<R0
  2685 03:0902: A9 AF 00     	lda	#$af
  2686 03:0905: 65 07        	adc	<L33+colorIndex_1+2
  2687 03:0907: 85 03        	sta	<R0+2
  2688 03:0909: E2 20        	sep	#$20
  2689                        	longa	off
  2690 03:090B: A9 FF        	lda	#$ff
  2691 03:090D: 87 01        	sta	[<R0]
  2692 03:090F: C2 20        	rep	#$20
  2693                        	longa	on
  2694 03:0911: E6 05        	inc	<L33+colorIndex_1
  2695 03:0913: D0 02        	bne	L94
  2696 03:0915: E6 07        	inc	<L33+colorIndex_1+2
  2697                        L94:
  2698                        ;
  2699                        ;	//colorIndex = 15 * 4;
  Wed Nov 18 2020  8:27                                                Page 52


  2700                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2701                        	.line	306
  2702 03:0917: 18           	clc
  2703 03:0918: A9 00 20     	lda	#$2000
  2704 03:091B: 65 05        	adc	<L33+colorIndex_1
  2705 03:091D: 85 01        	sta	<R0
  2706 03:091F: A9 AF 00     	lda	#$af
  2707 03:0922: 65 07        	adc	<L33+colorIndex_1+2
  2708 03:0924: 85 03        	sta	<R0+2
  2709 03:0926: E2 20        	sep	#$20
  2710                        	longa	off
  2711 03:0928: A9 FF        	lda	#$ff
  2712 03:092A: 87 01        	sta	[<R0]
  2713 03:092C: C2 20        	rep	#$20
  2714                        	longa	on
  2715 03:092E: E6 05        	inc	<L33+colorIndex_1
  2716 03:0930: D0 02        	bne	L95
  2717 03:0932: E6 07        	inc	<L33+colorIndex_1+2
  2718                        L95:
  2719                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2720                        	.line	307
  2721 03:0934: 18           	clc
  2722 03:0935: A9 00 20     	lda	#$2000
  2723 03:0938: 65 05        	adc	<L33+colorIndex_1
  2724 03:093A: 85 01        	sta	<R0
  2725 03:093C: A9 AF 00     	lda	#$af
  2726 03:093F: 65 07        	adc	<L33+colorIndex_1+2
  2727 03:0941: 85 03        	sta	<R0+2
  2728 03:0943: E2 20        	sep	#$20
  2729                        	longa	off
  2730 03:0945: A9 FF        	lda	#$ff
  2731 03:0947: 87 01        	sta	[<R0]
  2732 03:0949: C2 20        	rep	#$20
  2733                        	longa	on
  2734 03:094B: E6 05        	inc	<L33+colorIndex_1
  2735 03:094D: D0 02        	bne	L96
  2736 03:094F: E6 07        	inc	<L33+colorIndex_1+2
  2737                        L96:
  2738                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2739                        	.line	308
  2740 03:0951: 18           	clc
  2741 03:0952: A9 00 20     	lda	#$2000
  2742 03:0955: 65 05        	adc	<L33+colorIndex_1
  2743 03:0957: 85 01        	sta	<R0
  2744 03:0959: A9 AF 00     	lda	#$af
  2745 03:095C: 65 07        	adc	<L33+colorIndex_1+2
  2746 03:095E: 85 03        	sta	<R0+2
  2747 03:0960: E2 20        	sep	#$20
  2748                        	longa	off
  2749 03:0962: A9 FF        	lda	#$ff
  2750 03:0964: 87 01        	sta	[<R0]
  2751 03:0966: C2 20        	rep	#$20
  2752                        	longa	on
  2753 03:0968: E6 05        	inc	<L33+colorIndex_1
  2754 03:096A: D0 02        	bne	L97
  2755 03:096C: E6 07        	inc	<L33+colorIndex_1+2
  2756                        L97:
  2757                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  Wed Nov 18 2020  8:27                                                Page 53


  2758                        	.line	309
  2759 03:096E: 18           	clc
  2760 03:096F: A9 00 20     	lda	#$2000
  2761 03:0972: 65 05        	adc	<L33+colorIndex_1
  2762 03:0974: 85 01        	sta	<R0
  2763 03:0976: A9 AF 00     	lda	#$af
  2764 03:0979: 65 07        	adc	<L33+colorIndex_1+2
  2765 03:097B: 85 03        	sta	<R0+2
  2766 03:097D: E2 20        	sep	#$20
  2767                        	longa	off
  2768 03:097F: A9 FF        	lda	#$ff
  2769 03:0981: 87 01        	sta	[<R0]
  2770 03:0983: C2 20        	rep	#$20
  2771                        	longa	on
  2772 03:0985: E6 05        	inc	<L33+colorIndex_1
  2773 03:0987: D0 02        	bne	L98
  2774 03:0989: E6 07        	inc	<L33+colorIndex_1+2
  2775                        L98:
  2776                        ;
  2777                        ;
  2778                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  2779                        	.line	312
  2780 03:098B: F4 32 00     	pea	#<$32
  2781 03:098E: F4 00 00     	pea	#<$0
  2782 03:0991: A9 xx xx     	lda	#<~~_k_currentPalatte
  2783 03:0994: 85 01        	sta	<R0
  2784                        	xref	_BEG_DATA
  2785 03:0996: A9 xx xx     	lda	#_BEG_DATA>>16
  2786 03:0999: 85 03        	sta	<R0+2
  2787 03:099B: D4 03        	pei	<R0+2
  2788 03:099D: D4 01        	pei	<R0
  2789 03:099F: 22 xx xx xx  	jsl	~~memset
  2790                        ;
  2791                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  2792                        	.line	314
  2793 03:09A3: 9C xx xx     	stz	|~~_k_currentPalatte+10
  2794                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  2795                        	.line	315
  2796 03:09A6: A9 0E 00     	lda	#$e
  2797 03:09A9: 8D xx xx     	sta	|~~_k_currentPalatte
  2798                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  2799                        	.line	316
  2800 03:09AC: A9 08 00     	lda	#$8
  2801 03:09AF: 8D xx xx     	sta	|~~_k_currentPalatte+8
  2802                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  2803                        	.line	317
  2804 03:09B2: A9 0B 00     	lda	#$b
  2805 03:09B5: 8D xx xx     	sta	|~~_k_currentPalatte+6
  2806                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  2807                        	.line	318
  2808 03:09B8: A9 0C 00     	lda	#$c
  2809 03:09BB: 8D xx xx     	sta	|~~_k_currentPalatte+14
  2810 03:09BE: A9 0C 00     	lda	#$c
  2811 03:09C1: 8D xx xx     	sta	|~~_k_currentPalatte+18
  2812                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  2813                        	.line	319
  Wed Nov 18 2020  8:27                                                Page 54


  2814 03:09C4: A9 0D 00     	lda	#$d
  2815 03:09C7: 8D xx xx     	sta	|~~_k_currentPalatte+2
  2816                        ;	_k_currentPalatte.CUR_FONT = 14;
  2817                        	.line	320
  2818 03:09CA: A9 0E 00     	lda	#$e
  2819 03:09CD: 8D xx xx     	sta	|~~_k_currentPalatte+4
  2820                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  2821                        	.line	321
  2822 03:09D0: A9 0F 00     	lda	#$f
  2823 03:09D3: 8D xx xx     	sta	|~~_k_currentPalatte+16
  2824 03:09D6: A9 0F 00     	lda	#$f
  2825 03:09D9: 8D xx xx     	sta	|~~_k_currentPalatte+12
  2826                        ;
  2827                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  2828                        	.line	323
  2829 03:09DC: 64 05        	stz	<L33+colorIndex_1
  2830 03:09DE: 64 07        	stz	<L33+colorIndex_1+2
  2831                        L10003:
  2832                        ;	{
  2833                        	.line	324
  2834                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  2835                        	.line	325
  2836 03:09E0: A5 05        	lda	<L33+colorIndex_1
  2837 03:09E2: 0A           	asl	A
  2838 03:09E3: 85 01        	sta	<R0
  2839 03:09E5: A5 05        	lda	<L33+colorIndex_1
  2840 03:09E7: A6 01        	ldx	<R0
  2841 03:09E9: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  2842                        ;	}
  2843                        	.line	326
  2844                        L10001:
  2845 03:09EC: E6 05        	inc	<L33+colorIndex_1
  2846 03:09EE: D0 02        	bne	L99
  2847 03:09F0: E6 07        	inc	<L33+colorIndex_1+2
  2848                        L99:
  2849 03:09F2: A5 05        	lda	<L33+colorIndex_1
  2850 03:09F4: C9 0F 00     	cmp	#<$f
  2851 03:09F7: A5 07        	lda	<L33+colorIndex_1+2
  2852 03:09F9: E9 00 00     	sbc	#^$f
  2853 03:09FC: B0 03        	bcs	L100
  2854 03:09FE: 82 DF FF     	brl	L10003
  2855                        L100:
  2856                        L10002:
  2857                        ;
  2858                        ;
  2859                        ;}
  2860                        	.line	329
  2861                        L101:
  2862 03:0A01: 2B           	pld
  2863 03:0A02: 3B           	tsc
  2864 03:0A03: 18           	clc
  2865 03:0A04: 69 08 00     	adc	#L32
  2866 03:0A07: 1B           	tcs
  2867 03:0A08: 6B           	rtl
  2868                        	.endblock	329
  2869             00000008   L32	equ	8
  Wed Nov 18 2020  8:27                                                Page 55


  2870             00000005   L33	equ	5
  2871 03:0A09:              	ends
  2872                        	efunc
  2873                        	.endfunc	329,5,8
  2874                        	.line	329
  2875                        ;
  2876                        ;void defineGrayPalette(void)
  2877                        ;{
  2878                        	.line	331
  2879                        	.line	332
  2880                        	GUI
  2881                        	xdef	~~defineGrayPalette
  2882                        	func
  2883                        	.function	332
  2884                        ~~defineGrayPalette:
  2885                        	longa	on
  2886                        	longi	on
  2887 03:0A09: 3B           	tsc
  2888 03:0A0A: 38           	sec
  2889 03:0A0B: E9 1D 00     	sbc	#L102
  2890 03:0A0E: 1B           	tcs
  2891 03:0A0F: 0B           	phd
  2892 03:0A10: 5B           	tcd
  2893                        	.block	332
  2894                        ;	unsigned long colorIndex = 0;
  2895                        ;	int colorShade = 0;
  2896                        ;	char color[] = {0x00,0x11,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF};
  2897                        	data
  2898                        L105:
  2899 00:02AC: 00 11 22 33  	db	$0,$11,$22,$33,$44,$55,$66,$77,$88,$99
       00:02B0: 44 55 66 77 
       00:02B4: 88 99 
  2900 00:02B6: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF
       00:02BA: FF 
  2901 00:02BB:              	ends
  2902                        ;	
  2903                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  2904             00000000   colorIndex_1	set	0
  2905             00000004   colorShade_1	set	4
  2906             00000006   color_1	set	6
  2907                        	.sym	colorIndex,0,18,1,32
  2908                        	.sym	colorShade,4,5,1,16
  2909                        	.sym	color,6,110,1,0,15
  2910 03:0A11: 64 09        	stz	<L103+colorIndex_1
  2911 03:0A13: 64 0B        	stz	<L103+colorIndex_1+2
  2912 03:0A15: 64 0D        	stz	<L103+colorShade_1
  2913 03:0A17: F4 xx xx     	pea	#^L105
  2914 03:0A1A: F4 xx xx     	pea	#<L105
  2915 03:0A1D: 18           	clc
  2916 03:0A1E: 7B           	tdc
  2917 03:0A1F: 69 0F 00     	adc	#<L103+color_1
  2918 03:0A22: 85 01        	sta	<R0
  2919 03:0A24: A9 00 00     	lda	#$0
  2920 03:0A27: 85 03        	sta	<R0+2
  2921 03:0A29: D4 03        	pei	<R0+2
  2922 03:0A2B: D4 01        	pei	<R0
  2923 03:0A2D: A9 0F 00     	lda	#$f
  Wed Nov 18 2020  8:27                                                Page 56


  2924                        	xref	~~~fmov
  2925 03:0A30: 22 xx xx xx  	jsl	~~~fmov
  2926                        	.line	337
  2927 03:0A34: 64 09        	stz	<L103+colorIndex_1
  2928 03:0A36: 64 0B        	stz	<L103+colorIndex_1+2
  2929                        L10006:
  2930                        ;	{
  2931                        	.line	338
  2932                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  2933                        	.line	339
  2934 03:0A38: 18           	clc
  2935 03:0A39: A9 00 20     	lda	#$2000
  2936 03:0A3C: 65 09        	adc	<L103+colorIndex_1
  2937 03:0A3E: 85 01        	sta	<R0
  2938 03:0A40: A9 AF 00     	lda	#$af
  2939 03:0A43: 65 0B        	adc	<L103+colorIndex_1+2
  2940 03:0A45: 85 03        	sta	<R0+2
  2941 03:0A47: E2 20        	sep	#$20
  2942                        	longa	off
  2943 03:0A49: A6 0D        	ldx	<L103+colorShade_1
  2944 03:0A4B: B5 0F        	lda	<L103+color_1,X
  2945 03:0A4D: 87 01        	sta	[<R0]
  2946 03:0A4F: C2 20        	rep	#$20
  2947                        	longa	on
  2948                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  2949                        	.line	340
  2950 03:0A51: 18           	clc
  2951 03:0A52: A9 01 00     	lda	#$1
  2952 03:0A55: 69 00 20     	adc	#<$af2000
  2953 03:0A58: 85 01        	sta	<R0
  2954 03:0A5A: A9 00 00     	lda	#$0
  2955 03:0A5D: 69 AF 00     	adc	#^$af2000
  2956 03:0A60: 85 03        	sta	<R0+2
  2957 03:0A62: 18           	clc
  2958 03:0A63: A5 01        	lda	<R0
  2959 03:0A65: 65 09        	adc	<L103+colorIndex_1
  2960 03:0A67: 85 05        	sta	<R1
  2961 03:0A69: A5 03        	lda	<R0+2
  2962 03:0A6B: 65 0B        	adc	<L103+colorIndex_1+2
  2963 03:0A6D: 85 07        	sta	<R1+2
  2964 03:0A6F: E2 20        	sep	#$20
  2965                        	longa	off
  2966 03:0A71: A6 0D        	ldx	<L103+colorShade_1
  2967 03:0A73: B5 0F        	lda	<L103+color_1,X
  2968 03:0A75: 87 05        	sta	[<R1]
  2969 03:0A77: C2 20        	rep	#$20
  2970                        	longa	on
  2971                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  2972                        	.line	341
  2973 03:0A79: 18           	clc
  2974 03:0A7A: A9 02 00     	lda	#$2
  2975 03:0A7D: 69 00 20     	adc	#<$af2000
  2976 03:0A80: 85 01        	sta	<R0
  2977 03:0A82: A9 00 00     	lda	#$0
  2978 03:0A85: 69 AF 00     	adc	#^$af2000
  Wed Nov 18 2020  8:27                                                Page 57


  2979 03:0A88: 85 03        	sta	<R0+2
  2980 03:0A8A: 18           	clc
  2981 03:0A8B: A5 01        	lda	<R0
  2982 03:0A8D: 65 09        	adc	<L103+colorIndex_1
  2983 03:0A8F: 85 05        	sta	<R1
  2984 03:0A91: A5 03        	lda	<R0+2
  2985 03:0A93: 65 0B        	adc	<L103+colorIndex_1+2
  2986 03:0A95: 85 07        	sta	<R1+2
  2987 03:0A97: E2 20        	sep	#$20
  2988                        	longa	off
  2989 03:0A99: A6 0D        	ldx	<L103+colorShade_1
  2990 03:0A9B: B5 0F        	lda	<L103+color_1,X
  2991 03:0A9D: 87 05        	sta	[<R1]
  2992 03:0A9F: C2 20        	rep	#$20
  2993                        	longa	on
  2994                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  2995                        	.line	342
  2996 03:0AA1: 18           	clc
  2997 03:0AA2: A9 03 00     	lda	#$3
  2998 03:0AA5: 69 00 20     	adc	#<$af2000
  2999 03:0AA8: 85 01        	sta	<R0
  3000 03:0AAA: A9 00 00     	lda	#$0
  3001 03:0AAD: 69 AF 00     	adc	#^$af2000
  3002 03:0AB0: 85 03        	sta	<R0+2
  3003 03:0AB2: 18           	clc
  3004 03:0AB3: A5 01        	lda	<R0
  3005 03:0AB5: 65 09        	adc	<L103+colorIndex_1
  3006 03:0AB7: 85 05        	sta	<R1
  3007 03:0AB9: A5 03        	lda	<R0+2
  3008 03:0ABB: 65 0B        	adc	<L103+colorIndex_1+2
  3009 03:0ABD: 85 07        	sta	<R1+2
  3010 03:0ABF: E2 20        	sep	#$20
  3011                        	longa	off
  3012 03:0AC1: A9 FF        	lda	#$ff
  3013 03:0AC3: 87 05        	sta	[<R1]
  3014 03:0AC5: C2 20        	rep	#$20
  3015                        	longa	on
  3016                        ;
  3017                        ;		colorShade++;
  3018                        	.line	344
  3019 03:0AC7: E6 0D        	inc	<L103+colorShade_1
  3020                        ;	}
  3021                        	.line	345
  3022                        L10004:
  3023 03:0AC9: 18           	clc
  3024 03:0ACA: A9 04 00     	lda	#$4
  3025 03:0ACD: 65 09        	adc	<L103+colorIndex_1
  3026 03:0ACF: 85 09        	sta	<L103+colorIndex_1
  3027 03:0AD1: 90 02        	bcc	L106
  3028 03:0AD3: E6 0B        	inc	<L103+colorIndex_1+2
  3029                        L106:
  3030 03:0AD5: A5 09        	lda	<L103+colorIndex_1
  3031 03:0AD7: C9 3C 00     	cmp	#<$3c
  3032 03:0ADA: A5 0B        	lda	<L103+colorIndex_1+2
  3033 03:0ADC: E9 00 00     	sbc	#^$3c
  3034 03:0ADF: B0 03        	bcs	L107
  3035 03:0AE1: 82 54 FF     	brl	L10006
  3036                        L107:
  Wed Nov 18 2020  8:27                                                Page 58


  3037                        L10005:
  3038                        ;
  3039                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  3040                        	.line	347
  3041 03:0AE4: F4 32 00     	pea	#<$32
  3042 03:0AE7: F4 00 00     	pea	#<$0
  3043 03:0AEA: A9 xx xx     	lda	#<~~_k_currentPalatte
  3044 03:0AED: 85 01        	sta	<R0
  3045                        	xref	_BEG_DATA
  3046 03:0AEF: A9 xx xx     	lda	#_BEG_DATA>>16
  3047 03:0AF2: 85 03        	sta	<R0+2
  3048 03:0AF4: D4 03        	pei	<R0+2
  3049 03:0AF6: D4 01        	pei	<R0
  3050 03:0AF8: 22 xx xx xx  	jsl	~~memset
  3051                        ;
  3052                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  3053                        	.line	349
  3054 03:0AFC: 9C xx xx     	stz	|~~_k_currentPalatte+10
  3055                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  3056                        	.line	350
  3057 03:0AFF: A9 03 00     	lda	#$3
  3058 03:0B02: 8D xx xx     	sta	|~~_k_currentPalatte
  3059                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  3060                        	.line	351
  3061 03:0B05: A9 08 00     	lda	#$8
  3062 03:0B08: 8D xx xx     	sta	|~~_k_currentPalatte+8
  3063                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  3064                        	.line	352
  3065 03:0B0B: A9 0B 00     	lda	#$b
  3066 03:0B0E: 8D xx xx     	sta	|~~_k_currentPalatte+6
  3067                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  3068                        	.line	353
  3069 03:0B11: A9 0C 00     	lda	#$c
  3070 03:0B14: 8D xx xx     	sta	|~~_k_currentPalatte+14
  3071 03:0B17: A9 0C 00     	lda	#$c
  3072 03:0B1A: 8D xx xx     	sta	|~~_k_currentPalatte+18
  3073                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  3074                        	.line	354
  3075 03:0B1D: A9 0D 00     	lda	#$d
  3076 03:0B20: 8D xx xx     	sta	|~~_k_currentPalatte+2
  3077                        ;	_k_currentPalatte.CUR_FONT = 14;
  3078                        	.line	355
  3079 03:0B23: A9 0E 00     	lda	#$e
  3080 03:0B26: 8D xx xx     	sta	|~~_k_currentPalatte+4
  3081                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  3082                        	.line	356
  3083 03:0B29: A9 0F 00     	lda	#$f
  3084 03:0B2C: 8D xx xx     	sta	|~~_k_currentPalatte+16
  3085 03:0B2F: A9 0F 00     	lda	#$f
  3086 03:0B32: 8D xx xx     	sta	|~~_k_currentPalatte+12
  3087                        ;
  3088                        ;	for(colorShade=0;colorShade<15;colorShade++)
  3089                        	.line	358
  3090 03:0B35: 64 0D        	stz	<L103+colorShade_1
  3091                        L10009:
  Wed Nov 18 2020  8:27                                                Page 59


  3092                        ;	{
  3093                        	.line	359
  3094                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  3095                        	.line	360
  3096 03:0B37: A5 0D        	lda	<L103+colorShade_1
  3097 03:0B39: 0A           	asl	A
  3098 03:0B3A: 85 01        	sta	<R0
  3099 03:0B3C: A5 0D        	lda	<L103+colorShade_1
  3100 03:0B3E: A6 01        	ldx	<R0
  3101 03:0B40: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  3102                        ;	}
  3103                        	.line	361
  3104                        L10007:
  3105 03:0B43: E6 0D        	inc	<L103+colorShade_1
  3106 03:0B45: 38           	sec
  3107 03:0B46: A5 0D        	lda	<L103+colorShade_1
  3108 03:0B48: E9 0F 00     	sbc	#<$f
  3109 03:0B4B: 70 03        	bvs	L108
  3110 03:0B4D: 49 00 80     	eor	#$8000
  3111                        L108:
  3112 03:0B50: 30 03        	bmi	L109
  3113 03:0B52: 82 E2 FF     	brl	L10009
  3114                        L109:
  3115                        L10008:
  3116                        ;}
  3117                        	.line	362
  3118                        L110:
  3119 03:0B55: 2B           	pld
  3120 03:0B56: 3B           	tsc
  3121 03:0B57: 18           	clc
  3122 03:0B58: 69 1D 00     	adc	#L102
  3123 03:0B5B: 1B           	tcs
  3124 03:0B5C: 6B           	rtl
  3125                        	.endblock	362
  3126             0000001D   L102	equ	29
  3127             00000009   L103	equ	9
  3128 03:0B5D:              	ends
  3129                        	efunc
  3130                        	.endfunc	362,9,29
  3131                        	.line	362
  3132                        ;
  3133                        ;int k_getUIBackgroundColor()
  3134                        ;{
  3135                        	.line	364
  3136                        	.line	365
  3137                        	GUI
  3138                        	xdef	~~k_getUIBackgroundColor
  3139                        	func
  3140                        	.function	365
  3141                        ~~k_getUIBackgroundColor:
  3142                        	longa	on
  3143                        	longi	on
  3144 03:0B5D: 3B           	tsc
  3145 03:0B5E: 38           	sec
  3146 03:0B5F: E9 00 00     	sbc	#L111
  3147 03:0B62: 1B           	tcs
  3148 03:0B63: 0B           	phd
  Wed Nov 18 2020  8:27                                                Page 60


  3149 03:0B64: 5B           	tcd
  3150                        	.block	365
  3151                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  3152                        	.line	366
  3153 03:0B65: AD xx xx     	lda	|~~_k_currentPalatte+2
  3154                        L114:
  3155 03:0B68: A8           	tay
  3156 03:0B69: 2B           	pld
  3157 03:0B6A: 3B           	tsc
  3158 03:0B6B: 18           	clc
  3159 03:0B6C: 69 00 00     	adc	#L111
  3160 03:0B6F: 1B           	tcs
  3161 03:0B70: 98           	tya
  3162 03:0B71: 6B           	rtl
  3163                        ;}
  3164                        	.line	367
  3165                        	.endblock	367
  3166             00000000   L111	equ	0
  3167             00000001   L112	equ	1
  3168 03:0B72:              	ends
  3169                        	efunc
  3170                        	.endfunc	367,1,0
  3171                        	.line	367
  3172                        ;
  3173                        ;int k_getUIDesktopColor()
  3174                        ;{
  3175                        	.line	369
  3176                        	.line	370
  3177                        	GUI
  3178                        	xdef	~~k_getUIDesktopColor
  3179                        	func
  3180                        	.function	370
  3181                        ~~k_getUIDesktopColor:
  3182                        	longa	on
  3183                        	longi	on
  3184 03:0B72: 3B           	tsc
  3185 03:0B73: 38           	sec
  3186 03:0B74: E9 00 00     	sbc	#L115
  3187 03:0B77: 1B           	tcs
  3188 03:0B78: 0B           	phd
  3189 03:0B79: 5B           	tcd
  3190                        	.block	370
  3191                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  3192                        	.line	371
  3193 03:0B7A: AD xx xx     	lda	|~~_k_currentPalatte
  3194                        L118:
  3195 03:0B7D: A8           	tay
  3196 03:0B7E: 2B           	pld
  3197 03:0B7F: 3B           	tsc
  3198 03:0B80: 18           	clc
  3199 03:0B81: 69 00 00     	adc	#L115
  3200 03:0B84: 1B           	tcs
  3201 03:0B85: 98           	tya
  3202 03:0B86: 6B           	rtl
  3203                        ;}
  3204                        	.line	372
  3205                        	.endblock	372
  3206             00000000   L115	equ	0
  Wed Nov 18 2020  8:27                                                Page 61


  3207             00000001   L116	equ	1
  3208 03:0B87:              	ends
  3209                        	efunc
  3210                        	.endfunc	372,1,0
  3211                        	.line	372
  3212                        ;
  3213                        ;
  3214                        ;int k_getUIFontColor()
  3215                        ;{
  3216                        	.line	375
  3217                        	.line	376
  3218                        	GUI
  3219                        	xdef	~~k_getUIFontColor
  3220                        	func
  3221                        	.function	376
  3222                        ~~k_getUIFontColor:
  3223                        	longa	on
  3224                        	longi	on
  3225 03:0B87: 3B           	tsc
  3226 03:0B88: 38           	sec
  3227 03:0B89: E9 00 00     	sbc	#L119
  3228 03:0B8C: 1B           	tcs
  3229 03:0B8D: 0B           	phd
  3230 03:0B8E: 5B           	tcd
  3231                        	.block	376
  3232                        ;	return 	_k_currentPalatte.CUR_FONT;
  3233                        	.line	377
  3234 03:0B8F: AD xx xx     	lda	|~~_k_currentPalatte+4
  3235                        L122:
  3236 03:0B92: A8           	tay
  3237 03:0B93: 2B           	pld
  3238 03:0B94: 3B           	tsc
  3239 03:0B95: 18           	clc
  3240 03:0B96: 69 00 00     	adc	#L119
  3241 03:0B99: 1B           	tcs
  3242 03:0B9A: 98           	tya
  3243 03:0B9B: 6B           	rtl
  3244                        ;}
  3245                        	.line	378
  3246                        	.endblock	378
  3247             00000000   L119	equ	0
  3248             00000001   L120	equ	1
  3249 03:0B9C:              	ends
  3250                        	efunc
  3251                        	.endfunc	378,1,0
  3252                        	.line	378
  3253                        ;
  3254                        ;
  3255                        ;int k_getUIFontSelectedColor()
  3256                        ;{
  3257                        	.line	381
  3258                        	.line	382
  3259                        	GUI
  3260                        	xdef	~~k_getUIFontSelectedColor
  3261                        	func
  3262                        	.function	382
  3263                        ~~k_getUIFontSelectedColor:
  3264                        	longa	on
  Wed Nov 18 2020  8:27                                                Page 62


  3265                        	longi	on
  3266 03:0B9C: 3B           	tsc
  3267 03:0B9D: 38           	sec
  3268 03:0B9E: E9 00 00     	sbc	#L123
  3269 03:0BA1: 1B           	tcs
  3270 03:0BA2: 0B           	phd
  3271 03:0BA3: 5B           	tcd
  3272                        	.block	382
  3273                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  3274                        	.line	383
  3275 03:0BA4: AD xx xx     	lda	|~~_k_currentPalatte+6
  3276                        L126:
  3277 03:0BA7: A8           	tay
  3278 03:0BA8: 2B           	pld
  3279 03:0BA9: 3B           	tsc
  3280 03:0BAA: 18           	clc
  3281 03:0BAB: 69 00 00     	adc	#L123
  3282 03:0BAE: 1B           	tcs
  3283 03:0BAF: 98           	tya
  3284 03:0BB0: 6B           	rtl
  3285                        ;}
  3286                        	.line	384
  3287                        	.endblock	384
  3288             00000000   L123	equ	0
  3289             00000001   L124	equ	1
  3290 03:0BB1:              	ends
  3291                        	efunc
  3292                        	.endfunc	384,1,0
  3293                        	.line	384
  3294                        ;
  3295                        ;
  3296                        ;int k_getUIHighlightColor()
  3297                        ;{
  3298                        	.line	387
  3299                        	.line	388
  3300                        	GUI
  3301                        	xdef	~~k_getUIHighlightColor
  3302                        	func
  3303                        	.function	388
  3304                        ~~k_getUIHighlightColor:
  3305                        	longa	on
  3306                        	longi	on
  3307 03:0BB1: 3B           	tsc
  3308 03:0BB2: 38           	sec
  3309 03:0BB3: E9 00 00     	sbc	#L127
  3310 03:0BB6: 1B           	tcs
  3311 03:0BB7: 0B           	phd
  3312 03:0BB8: 5B           	tcd
  3313                        	.block	388
  3314                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  3315                        	.line	389
  3316 03:0BB9: AD xx xx     	lda	|~~_k_currentPalatte+8
  3317                        L130:
  3318 03:0BBC: A8           	tay
  3319 03:0BBD: 2B           	pld
  3320 03:0BBE: 3B           	tsc
  3321 03:0BBF: 18           	clc
  3322 03:0BC0: 69 00 00     	adc	#L127
  Wed Nov 18 2020  8:27                                                Page 63


  3323 03:0BC3: 1B           	tcs
  3324 03:0BC4: 98           	tya
  3325 03:0BC5: 6B           	rtl
  3326                        ;}
  3327                        	.line	390
  3328                        	.endblock	390
  3329             00000000   L127	equ	0
  3330             00000001   L128	equ	1
  3331 03:0BC6:              	ends
  3332                        	efunc
  3333                        	.endfunc	390,1,0
  3334                        	.line	390
  3335                        ;
  3336                        ;
  3337                        ;int k_getUIWindowFrameColor()
  3338                        ;{
  3339                        	.line	393
  3340                        	.line	394
  3341                        	GUI
  3342                        	xdef	~~k_getUIWindowFrameColor
  3343                        	func
  3344                        	.function	394
  3345                        ~~k_getUIWindowFrameColor:
  3346                        	longa	on
  3347                        	longi	on
  3348 03:0BC6: 3B           	tsc
  3349 03:0BC7: 38           	sec
  3350 03:0BC8: E9 00 00     	sbc	#L131
  3351 03:0BCB: 1B           	tcs
  3352 03:0BCC: 0B           	phd
  3353 03:0BCD: 5B           	tcd
  3354                        	.block	394
  3355                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  3356                        	.line	395
  3357 03:0BCE: AD xx xx     	lda	|~~_k_currentPalatte+10
  3358                        L134:
  3359 03:0BD1: A8           	tay
  3360 03:0BD2: 2B           	pld
  3361 03:0BD3: 3B           	tsc
  3362 03:0BD4: 18           	clc
  3363 03:0BD5: 69 00 00     	adc	#L131
  3364 03:0BD8: 1B           	tcs
  3365 03:0BD9: 98           	tya
  3366 03:0BDA: 6B           	rtl
  3367                        ;}
  3368                        	.line	396
  3369                        	.endblock	396
  3370             00000000   L131	equ	0
  3371             00000001   L132	equ	1
  3372 03:0BDB:              	ends
  3373                        	efunc
  3374                        	.endfunc	396,1,0
  3375                        	.line	396
  3376                        ;
  3377                        ;
  3378                        ;int k_getUIWindowBorderColor()
  3379                        ;{
  3380                        	.line	399
  Wed Nov 18 2020  8:27                                                Page 64


  3381                        	.line	400
  3382                        	GUI
  3383                        	xdef	~~k_getUIWindowBorderColor
  3384                        	func
  3385                        	.function	400
  3386                        ~~k_getUIWindowBorderColor:
  3387                        	longa	on
  3388                        	longi	on
  3389 03:0BDB: 3B           	tsc
  3390 03:0BDC: 38           	sec
  3391 03:0BDD: E9 00 00     	sbc	#L135
  3392 03:0BE0: 1B           	tcs
  3393 03:0BE1: 0B           	phd
  3394 03:0BE2: 5B           	tcd
  3395                        	.block	400
  3396                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  3397                        	.line	401
  3398 03:0BE3: AD xx xx     	lda	|~~_k_currentPalatte+12
  3399                        L138:
  3400 03:0BE6: A8           	tay
  3401 03:0BE7: 2B           	pld
  3402 03:0BE8: 3B           	tsc
  3403 03:0BE9: 18           	clc
  3404 03:0BEA: 69 00 00     	adc	#L135
  3405 03:0BED: 1B           	tcs
  3406 03:0BEE: 98           	tya
  3407 03:0BEF: 6B           	rtl
  3408                        ;}
  3409                        	.line	402
  3410                        	.endblock	402
  3411             00000000   L135	equ	0
  3412             00000001   L136	equ	1
  3413 03:0BF0:              	ends
  3414                        	efunc
  3415                        	.endfunc	402,1,0
  3416                        	.line	402
  3417                        ;
  3418                        ;
  3419                        ;int k_getUIWindowShadowColor()
  3420                        ;{
  3421                        	.line	405
  3422                        	.line	406
  3423                        	GUI
  3424                        	xdef	~~k_getUIWindowShadowColor
  3425                        	func
  3426                        	.function	406
  3427                        ~~k_getUIWindowShadowColor:
  3428                        	longa	on
  3429                        	longi	on
  3430 03:0BF0: 3B           	tsc
  3431 03:0BF1: 38           	sec
  3432 03:0BF2: E9 00 00     	sbc	#L139
  3433 03:0BF5: 1B           	tcs
  3434 03:0BF6: 0B           	phd
  3435 03:0BF7: 5B           	tcd
  3436                        	.block	406
  3437                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  3438                        	.line	407
  Wed Nov 18 2020  8:27                                                Page 65


  3439 03:0BF8: AD xx xx     	lda	|~~_k_currentPalatte+14
  3440                        L142:
  3441 03:0BFB: A8           	tay
  3442 03:0BFC: 2B           	pld
  3443 03:0BFD: 3B           	tsc
  3444 03:0BFE: 18           	clc
  3445 03:0BFF: 69 00 00     	adc	#L139
  3446 03:0C02: 1B           	tcs
  3447 03:0C03: 98           	tya
  3448 03:0C04: 6B           	rtl
  3449                        ;}
  3450                        	.line	408
  3451                        	.endblock	408
  3452             00000000   L139	equ	0
  3453             00000001   L140	equ	1
  3454 03:0C05:              	ends
  3455                        	efunc
  3456                        	.endfunc	408,1,0
  3457                        	.line	408
  3458                        ;
  3459                        ;
  3460                        ;int k_getUIMenuColor()
  3461                        ;{
  3462                        	.line	411
  3463                        	.line	412
  3464                        	GUI
  3465                        	xdef	~~k_getUIMenuColor
  3466                        	func
  3467                        	.function	412
  3468                        ~~k_getUIMenuColor:
  3469                        	longa	on
  3470                        	longi	on
  3471 03:0C05: 3B           	tsc
  3472 03:0C06: 38           	sec
  3473 03:0C07: E9 00 00     	sbc	#L143
  3474 03:0C0A: 1B           	tcs
  3475 03:0C0B: 0B           	phd
  3476 03:0C0C: 5B           	tcd
  3477                        	.block	412
  3478                        ;	return 	_k_currentPalatte.CUR_MENU;
  3479                        	.line	413
  3480 03:0C0D: AD xx xx     	lda	|~~_k_currentPalatte+16
  3481                        L146:
  3482 03:0C10: A8           	tay
  3483 03:0C11: 2B           	pld
  3484 03:0C12: 3B           	tsc
  3485 03:0C13: 18           	clc
  3486 03:0C14: 69 00 00     	adc	#L143
  3487 03:0C17: 1B           	tcs
  3488 03:0C18: 98           	tya
  3489 03:0C19: 6B           	rtl
  3490                        ;}
  3491                        	.line	414
  3492                        	.endblock	414
  3493             00000000   L143	equ	0
  3494             00000001   L144	equ	1
  3495 03:0C1A:              	ends
  3496                        	efunc
  Wed Nov 18 2020  8:27                                                Page 66


  3497                        	.endfunc	414,1,0
  3498                        	.line	414
  3499                        ;
  3500                        ;
  3501                        ;int k_getUIGadgetColor()
  3502                        ;{
  3503                        	.line	417
  3504                        	.line	418
  3505                        	GUI
  3506                        	xdef	~~k_getUIGadgetColor
  3507                        	func
  3508                        	.function	418
  3509                        ~~k_getUIGadgetColor:
  3510                        	longa	on
  3511                        	longi	on
  3512 03:0C1A: 3B           	tsc
  3513 03:0C1B: 38           	sec
  3514 03:0C1C: E9 00 00     	sbc	#L147
  3515 03:0C1F: 1B           	tcs
  3516 03:0C20: 0B           	phd
  3517 03:0C21: 5B           	tcd
  3518                        	.block	418
  3519                        ;	return 	_k_currentPalatte.CUR_GADGET;
  3520                        	.line	419
  3521 03:0C22: AD xx xx     	lda	|~~_k_currentPalatte+18
  3522                        L150:
  3523 03:0C25: A8           	tay
  3524 03:0C26: 2B           	pld
  3525 03:0C27: 3B           	tsc
  3526 03:0C28: 18           	clc
  3527 03:0C29: 69 00 00     	adc	#L147
  3528 03:0C2C: 1B           	tcs
  3529 03:0C2D: 98           	tya
  3530 03:0C2E: 6B           	rtl
  3531                        ;}
  3532                        	.line	420
  3533                        	.endblock	420
  3534             00000000   L147	equ	0
  3535             00000001   L148	equ	1
  3536 03:0C2F:              	ends
  3537                        	efunc
  3538                        	.endfunc	420,1,0
  3539                        	.line	420
  3540                        ;
  3541                        ;
  3542                        ;int k_getUIColor(int index)
  3543                        ;{
  3544                        	.line	423
  3545                        	.line	424
  3546                        	GUI
  3547                        	xdef	~~k_getUIColor
  3548                        	func
  3549                        	.function	424
  3550                        ~~k_getUIColor:
  3551                        	longa	on
  3552                        	longi	on
  3553 03:0C2F: 3B           	tsc
  3554 03:0C30: 38           	sec
  Wed Nov 18 2020  8:27                                                Page 67


  3555 03:0C31: E9 04 00     	sbc	#L151
  3556 03:0C34: 1B           	tcs
  3557 03:0C35: 0B           	phd
  3558 03:0C36: 5B           	tcd
  3559             00000004   index_0	set	4
  3560                        	.block	424
  3561                        ;	if(index < 1)
  3562                        	.sym	index,4,5,6,16
  3563                        	.line	425
  3564                        ;		index = 1;
  3565 03:0C37: A5 08        	lda	<L151+index_0
  3566 03:0C39: 30 06        	bmi	L154
  3567 03:0C3B: 3A           	dea
  3568 03:0C3C: 30 03        	bmi	L154
  3569 03:0C3E: 82 05 00     	brl	L10010
  3570                        L154:
  3571                        	.line	426
  3572 03:0C41: A9 01 00     	lda	#$1
  3573 03:0C44: 85 08        	sta	<L151+index_0
  3574                        ;	if(index > 15)
  3575                        L10010:
  3576                        	.line	427
  3577                        ;		index = 15;
  3578 03:0C46: 38           	sec
  3579 03:0C47: A9 0F 00     	lda	#$f
  3580 03:0C4A: E5 08        	sbc	<L151+index_0
  3581 03:0C4C: 70 03        	bvs	L155
  3582 03:0C4E: 49 00 80     	eor	#$8000
  3583                        L155:
  3584 03:0C51: 10 03        	bpl	L156
  3585 03:0C53: 82 05 00     	brl	L10011
  3586                        L156:
  3587                        	.line	428
  3588 03:0C56: A9 0F 00     	lda	#$f
  3589 03:0C59: 85 08        	sta	<L151+index_0
  3590                        ;
  3591                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  3592                        L10011:
  3593                        	.line	430
  3594 03:0C5B: A5 08        	lda	<L151+index_0
  3595 03:0C5D: 0A           	asl	A
  3596 03:0C5E: 85 01        	sta	<R0
  3597 03:0C60: A6 01        	ldx	<R0
  3598 03:0C62: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  3599                        L157:
  3600 03:0C65: A8           	tay
  3601 03:0C66: A5 06        	lda	<L151+2
  3602 03:0C68: 85 08        	sta	<L151+2+2
  3603 03:0C6A: A5 05        	lda	<L151+1
  3604 03:0C6C: 85 07        	sta	<L151+1+2
  3605 03:0C6E: 2B           	pld
  3606 03:0C6F: 3B           	tsc
  3607 03:0C70: 18           	clc
  3608 03:0C71: 69 06 00     	adc	#L151+2
  3609 03:0C74: 1B           	tcs
  3610 03:0C75: 98           	tya
  3611 03:0C76: 6B           	rtl
  3612                        ;}
  Wed Nov 18 2020  8:27                                                Page 68


  3613                        	.line	431
  3614                        	.endblock	431
  3615             00000004   L151	equ	4
  3616             00000005   L152	equ	5
  3617 03:0C77:              	ends
  3618                        	efunc
  3619                        	.endfunc	431,5,4
  3620                        	.line	431
  3621                        ;
  3622                        ;
  3623                        ;
  3624                        ;void k_draw_pixel(long x,long y,char pcolor)
  3625                        ;{
  3626                        	.line	435
  3627                        	.line	436
  3628                        	GUI
  3629                        	xdef	~~k_draw_pixel
  3630                        	func
  3631                        	.function	436
  3632                        ~~k_draw_pixel:
  3633                        	longa	on
  3634                        	longi	on
  3635 03:0C77: 3B           	tsc
  3636 03:0C78: 38           	sec
  3637 03:0C79: E9 08 00     	sbc	#L158
  3638 03:0C7C: 1B           	tcs
  3639 03:0C7D: 0B           	phd
  3640 03:0C7E: 5B           	tcd
  3641             00000004   x_0	set	4
  3642             00000008   y_0	set	8
  3643             0000000C   pcolor_0	set	12
  3644                        	.block	436
  3645                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  3646                        ;
  3647                        ;	((unsigned char FAR *)BITMAP_BANK_0)[pixelLocati
                    on] = (char)pcolor;
  3648             00000000   pixelLocation_1	set	0
  3649                        	.sym	pixelLocation,0,7,1,32
  3650                        	.sym	x,4,7,6,32
  3651                        	.sym	y,8,7,6,32
  3652                        	.sym	pcolor,12,14,6,8
  3653 03:0C7F: F4 00 00     	pea	#^$280
  3654 03:0C82: F4 80 02     	pea	#<$280
  3655 03:0C85: D4 12        	pei	<L158+y_0+2
  3656 03:0C87: D4 10        	pei	<L158+y_0
  3657                        	xref	~~~lmul
  3658 03:0C89: 22 xx xx xx  	jsl	~~~lmul
  3659 03:0C8D: 85 01        	sta	<R0
  3660 03:0C8F: 86 03        	stx	<R0+2
  3661 03:0C91: 18           	clc
  3662 03:0C92: A5 01        	lda	<R0
  3663 03:0C94: 65 0C        	adc	<L158+x_0
  3664 03:0C96: 85 05        	sta	<L159+pixelLocation_1
  3665 03:0C98: A5 03        	lda	<R0+2
  3666 03:0C9A: 65 0E        	adc	<L158+x_0+2
  3667 03:0C9C: 85 07        	sta	<L159+pixelLocation_1+2
  3668                        	.line	439
  Wed Nov 18 2020  8:27                                                Page 69


  3669 03:0C9E: 18           	clc
  3670 03:0C9F: A9 00 00     	lda	#$0
  3671 03:0CA2: 65 05        	adc	<L159+pixelLocation_1
  3672 03:0CA4: 85 01        	sta	<R0
  3673 03:0CA6: A9 B0 00     	lda	#$b0
  3674 03:0CA9: 65 07        	adc	<L159+pixelLocation_1+2
  3675 03:0CAB: 85 03        	sta	<R0+2
  3676 03:0CAD: E2 20        	sep	#$20
  3677                        	longa	off
  3678 03:0CAF: A5 14        	lda	<L158+pcolor_0
  3679 03:0CB1: 87 01        	sta	[<R0]
  3680 03:0CB3: C2 20        	rep	#$20
  3681                        	longa	on
  3682                        ;	((unsigned char FAR *)SHADOW_BANK_0)[pixelLocati
                    on] = (char)pcolor;
  3683                        	.line	440
  3684 03:0CB5: 18           	clc
  3685 03:0CB6: A9 00 00     	lda	#$0
  3686 03:0CB9: 65 05        	adc	<L159+pixelLocation_1
  3687 03:0CBB: 85 01        	sta	<R0
  3688 03:0CBD: A9 0A 00     	lda	#$a
  3689 03:0CC0: 65 07        	adc	<L159+pixelLocation_1+2
  3690 03:0CC2: 85 03        	sta	<R0+2
  3691 03:0CC4: E2 20        	sep	#$20
  3692                        	longa	off
  3693 03:0CC6: A5 14        	lda	<L158+pcolor_0
  3694 03:0CC8: 87 01        	sta	[<R0]
  3695 03:0CCA: C2 20        	rep	#$20
  3696                        	longa	on
  3697                        ;
  3698                        ;
  3699                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  3700                        ;}
  3701                        	.line	444
  3702                        L161:
  3703 03:0CCC: A5 0A        	lda	<L158+2
  3704 03:0CCE: 85 14        	sta	<L158+2+10
  3705 03:0CD0: A5 09        	lda	<L158+1
  3706 03:0CD2: 85 13        	sta	<L158+1+10
  3707 03:0CD4: 2B           	pld
  3708 03:0CD5: 3B           	tsc
  3709 03:0CD6: 18           	clc
  3710 03:0CD7: 69 12 00     	adc	#L158+10
  3711 03:0CDA: 1B           	tcs
  3712 03:0CDB: 6B           	rtl
  3713                        	.endblock	444
  3714             00000008   L158	equ	8
  3715             00000005   L159	equ	5
  3716 03:0CDC:              	ends
  3717                        	efunc
  3718                        	.endfunc	444,5,8
  3719                        	.line	444
  3720                        ;
  3721                        ;int k_get_pixel_color(int x,int y)
  3722                        ;{
  3723                        	.line	446
  3724                        	.line	447
  Wed Nov 18 2020  8:27                                                Page 70


  3725                        	GUI
  3726                        	xdef	~~k_get_pixel_color
  3727                        	func
  3728                        	.function	447
  3729                        ~~k_get_pixel_color:
  3730                        	longa	on
  3731                        	longi	on
  3732 03:0CDC: 3B           	tsc
  3733 03:0CDD: 38           	sec
  3734 03:0CDE: E9 0E 00     	sbc	#L162
  3735 03:0CE1: 1B           	tcs
  3736 03:0CE2: 0B           	phd
  3737 03:0CE3: 5B           	tcd
  3738             00000004   x_0	set	4
  3739             00000006   y_0	set	6
  3740                        	.block	447
  3741                        ;	long pixelLocation;
  3742                        ;	int color = -1;
  3743                        ;	
  3744                        ;	pixelLocation = (( (y) * 640) + (x) );
  3745             00000000   pixelLocation_1	set	0
  3746             00000004   color_1	set	4
  3747                        	.sym	pixelLocation,0,7,1,32
  3748                        	.sym	color,4,5,1,16
  3749                        	.sym	x,4,5,6,16
  3750                        	.sym	y,6,5,6,16
  3751 03:0CE4: A9 FF FF     	lda	#$ffff
  3752 03:0CE7: 85 0D        	sta	<L163+color_1
  3753                        	.line	451
  3754 03:0CE9: A5 14        	lda	<L162+y_0
  3755 03:0CEB: A2 80 02     	ldx	#<$280
  3756                        	xref	~~~mul
  3757 03:0CEE: 22 xx xx xx  	jsl	~~~mul
  3758 03:0CF2: 85 01        	sta	<R0
  3759 03:0CF4: 18           	clc
  3760 03:0CF5: A5 01        	lda	<R0
  3761 03:0CF7: 65 12        	adc	<L162+x_0
  3762 03:0CF9: 85 05        	sta	<R1
  3763 03:0CFB: A0 00 00     	ldy	#$0
  3764 03:0CFE: A5 05        	lda	<R1
  3765 03:0D00: 10 01        	bpl	L165
  3766 03:0D02: 88           	dey
  3767                        L165:
  3768 03:0D03: 85 09        	sta	<L163+pixelLocation_1
  3769 03:0D05: 84 0B        	sty	<L163+pixelLocation_1+2
  3770                        ;
  3771                        ;	if(y < 51)
  3772                        	.line	453
  3773                        ;	{
  3774 03:0D07: 38           	sec
  3775 03:0D08: A5 14        	lda	<L162+y_0
  3776 03:0D0A: E9 33 00     	sbc	#<$33
  3777 03:0D0D: 70 03        	bvs	L166
  3778 03:0D0F: 49 00 80     	eor	#$8000
  3779                        L166:
  3780 03:0D12: 10 03        	bpl	L167
  3781 03:0D14: 82 19 00     	brl	L10012
  3782                        L167:
  Wed Nov 18 2020  8:27                                                Page 71


  3783                        	.line	454
  3784                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_0)[pixelLocation];
  3785                        	.line	455
  3786 03:0D17: 18           	clc
  3787 03:0D18: A9 00 00     	lda	#$0
  3788 03:0D1B: 65 09        	adc	<L163+pixelLocation_1
  3789 03:0D1D: 85 01        	sta	<R0
  3790 03:0D1F: A9 B0 00     	lda	#$b0
  3791 03:0D22: 65 0B        	adc	<L163+pixelLocation_1+2
  3792 03:0D24: 85 03        	sta	<R0+2
  3793 03:0D26: A7 01        	lda	[<R0]
  3794 03:0D28: 29 FF 00     	and	#$ff
  3795 03:0D2B: 85 0D        	sta	<L163+color_1
  3796                        ;	}
  3797                        	.line	456
  3798                        ;	else if(y > 51 && y < 153)
  3799 03:0D2D: 82 1A 01     	brl	L10013
  3800                        L10012:
  3801                        	.line	457
  3802                        ;	{
  3803 03:0D30: 38           	sec
  3804 03:0D31: A9 33 00     	lda	#$33
  3805 03:0D34: E5 14        	sbc	<L162+y_0
  3806 03:0D36: 70 03        	bvs	L168
  3807 03:0D38: 49 00 80     	eor	#$8000
  3808                        L168:
  3809 03:0D3B: 10 03        	bpl	L169
  3810 03:0D3D: 82 29 00     	brl	L10014
  3811                        L169:
  3812 03:0D40: 38           	sec
  3813 03:0D41: A5 14        	lda	<L162+y_0
  3814 03:0D43: E9 99 00     	sbc	#<$99
  3815 03:0D46: 70 03        	bvs	L170
  3816 03:0D48: 49 00 80     	eor	#$8000
  3817                        L170:
  3818 03:0D4B: 10 03        	bpl	L171
  3819 03:0D4D: 82 19 00     	brl	L10014
  3820                        L171:
  3821                        	.line	458
  3822                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_1)[pixelLocation];
  3823                        	.line	459
  3824 03:0D50: 18           	clc
  3825 03:0D51: A9 00 00     	lda	#$0
  3826 03:0D54: 65 09        	adc	<L163+pixelLocation_1
  3827 03:0D56: 85 01        	sta	<R0
  3828 03:0D58: A9 B1 00     	lda	#$b1
  3829 03:0D5B: 65 0B        	adc	<L163+pixelLocation_1+2
  3830 03:0D5D: 85 03        	sta	<R0+2
  3831 03:0D5F: A7 01        	lda	[<R0]
  3832 03:0D61: 29 FF 00     	and	#$ff
  3833 03:0D64: 85 0D        	sta	<L163+color_1
  3834                        ;	}
  3835                        	.line	460
  3836                        ;	else if(y > 153 && y < 255)
  3837 03:0D66: 82 E1 00     	brl	L10015
  3838                        L10014:
  Wed Nov 18 2020  8:27                                                Page 72


  3839                        	.line	461
  3840                        ;	{
  3841 03:0D69: 38           	sec
  3842 03:0D6A: A9 99 00     	lda	#$99
  3843 03:0D6D: E5 14        	sbc	<L162+y_0
  3844 03:0D6F: 70 03        	bvs	L172
  3845 03:0D71: 49 00 80     	eor	#$8000
  3846                        L172:
  3847 03:0D74: 10 03        	bpl	L173
  3848 03:0D76: 82 29 00     	brl	L10016
  3849                        L173:
  3850 03:0D79: 38           	sec
  3851 03:0D7A: A5 14        	lda	<L162+y_0
  3852 03:0D7C: E9 FF 00     	sbc	#<$ff
  3853 03:0D7F: 70 03        	bvs	L174
  3854 03:0D81: 49 00 80     	eor	#$8000
  3855                        L174:
  3856 03:0D84: 10 03        	bpl	L175
  3857 03:0D86: 82 19 00     	brl	L10016
  3858                        L175:
  3859                        	.line	462
  3860                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_2)[pixelLocation];
  3861                        	.line	463
  3862 03:0D89: 18           	clc
  3863 03:0D8A: A9 00 00     	lda	#$0
  3864 03:0D8D: 65 09        	adc	<L163+pixelLocation_1
  3865 03:0D8F: 85 01        	sta	<R0
  3866 03:0D91: A9 B2 00     	lda	#$b2
  3867 03:0D94: 65 0B        	adc	<L163+pixelLocation_1+2
  3868 03:0D96: 85 03        	sta	<R0+2
  3869 03:0D98: A7 01        	lda	[<R0]
  3870 03:0D9A: 29 FF 00     	and	#$ff
  3871 03:0D9D: 85 0D        	sta	<L163+color_1
  3872                        ;	}
  3873                        	.line	464
  3874                        ;	else if(y > 255 && y < 358)
  3875 03:0D9F: 82 A8 00     	brl	L10017
  3876                        L10016:
  3877                        	.line	465
  3878                        ;	{
  3879 03:0DA2: 38           	sec
  3880 03:0DA3: A9 FF 00     	lda	#$ff
  3881 03:0DA6: E5 14        	sbc	<L162+y_0
  3882 03:0DA8: 70 03        	bvs	L176
  3883 03:0DAA: 49 00 80     	eor	#$8000
  3884                        L176:
  3885 03:0DAD: 10 03        	bpl	L177
  3886 03:0DAF: 82 29 00     	brl	L10018
  3887                        L177:
  3888 03:0DB2: 38           	sec
  3889 03:0DB3: A5 14        	lda	<L162+y_0
  3890 03:0DB5: E9 66 01     	sbc	#<$166
  3891 03:0DB8: 70 03        	bvs	L178
  3892 03:0DBA: 49 00 80     	eor	#$8000
  3893                        L178:
  3894 03:0DBD: 10 03        	bpl	L179
  3895 03:0DBF: 82 19 00     	brl	L10018
  Wed Nov 18 2020  8:27                                                Page 73


  3896                        L179:
  3897                        	.line	466
  3898                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_3)[pixelLocation];
  3899                        	.line	467
  3900 03:0DC2: 18           	clc
  3901 03:0DC3: A9 00 00     	lda	#$0
  3902 03:0DC6: 65 09        	adc	<L163+pixelLocation_1
  3903 03:0DC8: 85 01        	sta	<R0
  3904 03:0DCA: A9 B3 00     	lda	#$b3
  3905 03:0DCD: 65 0B        	adc	<L163+pixelLocation_1+2
  3906 03:0DCF: 85 03        	sta	<R0+2
  3907 03:0DD1: A7 01        	lda	[<R0]
  3908 03:0DD3: 29 FF 00     	and	#$ff
  3909 03:0DD6: 85 0D        	sta	<L163+color_1
  3910                        ;	}
  3911                        	.line	468
  3912                        ;	else if(y > 358 && y < 460)
  3913 03:0DD8: 82 6F 00     	brl	L10019
  3914                        L10018:
  3915                        	.line	469
  3916                        ;	{
  3917 03:0DDB: 38           	sec
  3918 03:0DDC: A9 66 01     	lda	#$166
  3919 03:0DDF: E5 14        	sbc	<L162+y_0
  3920 03:0DE1: 70 03        	bvs	L180
  3921 03:0DE3: 49 00 80     	eor	#$8000
  3922                        L180:
  3923 03:0DE6: 10 03        	bpl	L181
  3924 03:0DE8: 82 29 00     	brl	L10020
  3925                        L181:
  3926 03:0DEB: 38           	sec
  3927 03:0DEC: A5 14        	lda	<L162+y_0
  3928 03:0DEE: E9 CC 01     	sbc	#<$1cc
  3929 03:0DF1: 70 03        	bvs	L182
  3930 03:0DF3: 49 00 80     	eor	#$8000
  3931                        L182:
  3932 03:0DF6: 10 03        	bpl	L183
  3933 03:0DF8: 82 19 00     	brl	L10020
  3934                        L183:
  3935                        	.line	470
  3936                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_4)[pixelLocation];
  3937                        	.line	471
  3938 03:0DFB: 18           	clc
  3939 03:0DFC: A9 00 00     	lda	#$0
  3940 03:0DFF: 65 09        	adc	<L163+pixelLocation_1
  3941 03:0E01: 85 01        	sta	<R0
  3942 03:0E03: A9 B4 00     	lda	#$b4
  3943 03:0E06: 65 0B        	adc	<L163+pixelLocation_1+2
  3944 03:0E08: 85 03        	sta	<R0+2
  3945 03:0E0A: A7 01        	lda	[<R0]
  3946 03:0E0C: 29 FF 00     	and	#$ff
  3947 03:0E0F: 85 0D        	sta	<L163+color_1
  3948                        ;	}
  3949                        	.line	472
  3950                        ;	else if(y > 460 && y < 479 )
  3951 03:0E11: 82 36 00     	brl	L10021
  Wed Nov 18 2020  8:27                                                Page 74


  3952                        L10020:
  3953                        	.line	473
  3954                        ;	{
  3955 03:0E14: 38           	sec
  3956 03:0E15: A9 CC 01     	lda	#$1cc
  3957 03:0E18: E5 14        	sbc	<L162+y_0
  3958 03:0E1A: 70 03        	bvs	L184
  3959 03:0E1C: 49 00 80     	eor	#$8000
  3960                        L184:
  3961 03:0E1F: 10 03        	bpl	L185
  3962 03:0E21: 82 26 00     	brl	L10022
  3963                        L185:
  3964 03:0E24: 38           	sec
  3965 03:0E25: A5 14        	lda	<L162+y_0
  3966 03:0E27: E9 DF 01     	sbc	#<$1df
  3967 03:0E2A: 70 03        	bvs	L186
  3968 03:0E2C: 49 00 80     	eor	#$8000
  3969                        L186:
  3970 03:0E2F: 10 03        	bpl	L187
  3971 03:0E31: 82 16 00     	brl	L10022
  3972                        L187:
  3973                        	.line	474
  3974                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_5)[pixelLocation];
  3975                        	.line	475
  3976 03:0E34: 18           	clc
  3977 03:0E35: A9 00 00     	lda	#$0
  3978 03:0E38: 65 09        	adc	<L163+pixelLocation_1
  3979 03:0E3A: 85 01        	sta	<R0
  3980 03:0E3C: A9 B5 00     	lda	#$b5
  3981 03:0E3F: 65 0B        	adc	<L163+pixelLocation_1+2
  3982 03:0E41: 85 03        	sta	<R0+2
  3983 03:0E43: A7 01        	lda	[<R0]
  3984 03:0E45: 29 FF 00     	and	#$ff
  3985 03:0E48: 85 0D        	sta	<L163+color_1
  3986                        ;	}
  3987                        	.line	476
  3988                        ;	
  3989                        ;	return color;
  3990                        L10022:
  3991                        L10021:
  3992                        L10019:
  3993                        L10017:
  3994                        L10015:
  3995                        L10013:
  3996                        	.line	478
  3997 03:0E4A: A5 0D        	lda	<L163+color_1
  3998                        L188:
  3999 03:0E4C: A8           	tay
  4000 03:0E4D: A5 10        	lda	<L162+2
  4001 03:0E4F: 85 14        	sta	<L162+2+4
  4002 03:0E51: A5 0F        	lda	<L162+1
  4003 03:0E53: 85 13        	sta	<L162+1+4
  4004 03:0E55: 2B           	pld
  4005 03:0E56: 3B           	tsc
  4006 03:0E57: 18           	clc
  4007 03:0E58: 69 12 00     	adc	#L162+4
  4008 03:0E5B: 1B           	tcs
  Wed Nov 18 2020  8:27                                                Page 75


  4009 03:0E5C: 98           	tya
  4010 03:0E5D: 6B           	rtl
  4011                        ;}
  4012                        	.line	479
  4013                        	.endblock	479
  4014             0000000E   L162	equ	14
  4015             00000009   L163	equ	9
  4016 03:0E5E:              	ends
  4017                        	efunc
  4018                        	.endfunc	479,9,14
  4019                        	.line	479
  4020                        ;
  4021                        ;int k_get_pixel_bank(int x,int y)
  4022                        ;{
  4023                        	.line	481
  4024                        	.line	482
  4025                        	GUI
  4026                        	xdef	~~k_get_pixel_bank
  4027                        	func
  4028                        	.function	482
  4029                        ~~k_get_pixel_bank:
  4030                        	longa	on
  4031                        	longi	on
  4032 03:0E5E: 3B           	tsc
  4033 03:0E5F: 38           	sec
  4034 03:0E60: E9 04 00     	sbc	#L189
  4035 03:0E63: 1B           	tcs
  4036 03:0E64: 0B           	phd
  4037 03:0E65: 5B           	tcd
  4038             00000004   x_0	set	4
  4039             00000006   y_0	set	6
  4040                        	.block	482
  4041                        ;	long pixelLocation;
  4042                        ;
  4043                        ;	if(y < 51)
  4044             00000000   pixelLocation_1	set	0
  4045                        	.sym	pixelLocation,0,7,1,32
  4046                        	.sym	x,4,5,6,16
  4047                        	.sym	y,6,5,6,16
  4048                        	.line	485
  4049                        ;	{
  4050 03:0E66: 38           	sec
  4051 03:0E67: A5 0A        	lda	<L189+y_0
  4052 03:0E69: E9 33 00     	sbc	#<$33
  4053 03:0E6C: 70 03        	bvs	L192
  4054 03:0E6E: 49 00 80     	eor	#$8000
  4055                        L192:
  4056 03:0E71: 10 03        	bpl	L193
  4057 03:0E73: 82 15 00     	brl	L10023
  4058                        L193:
  4059                        	.line	486
  4060                        ;		return 0;
  4061                        	.line	487
  4062 03:0E76: A9 00 00     	lda	#$0
  4063                        L194:
  4064 03:0E79: A8           	tay
  4065 03:0E7A: A5 06        	lda	<L189+2
  4066 03:0E7C: 85 0A        	sta	<L189+2+4
  Wed Nov 18 2020  8:27                                                Page 76


  4067 03:0E7E: A5 05        	lda	<L189+1
  4068 03:0E80: 85 09        	sta	<L189+1+4
  4069 03:0E82: 2B           	pld
  4070 03:0E83: 3B           	tsc
  4071 03:0E84: 18           	clc
  4072 03:0E85: 69 08 00     	adc	#L189+4
  4073 03:0E88: 1B           	tcs
  4074 03:0E89: 98           	tya
  4075 03:0E8A: 6B           	rtl
  4076                        ;	}
  4077                        	.line	488
  4078                        ;	else if(y > 51 && y < 153)
  4079                        L10023:
  4080                        	.line	489
  4081                        ;	{
  4082 03:0E8B: 38           	sec
  4083 03:0E8C: A9 33 00     	lda	#$33
  4084 03:0E8F: E5 0A        	sbc	<L189+y_0
  4085 03:0E91: 70 03        	bvs	L195
  4086 03:0E93: 49 00 80     	eor	#$8000
  4087                        L195:
  4088 03:0E96: 10 03        	bpl	L196
  4089 03:0E98: 82 16 00     	brl	L10024
  4090                        L196:
  4091 03:0E9B: 38           	sec
  4092 03:0E9C: A5 0A        	lda	<L189+y_0
  4093 03:0E9E: E9 99 00     	sbc	#<$99
  4094 03:0EA1: 70 03        	bvs	L197
  4095 03:0EA3: 49 00 80     	eor	#$8000
  4096                        L197:
  4097 03:0EA6: 10 03        	bpl	L198
  4098 03:0EA8: 82 06 00     	brl	L10024
  4099                        L198:
  4100                        	.line	490
  4101                        ;		return 1;
  4102                        	.line	491
  4103 03:0EAB: A9 01 00     	lda	#$1
  4104 03:0EAE: 82 C8 FF     	brl	L194
  4105                        ;	}
  4106                        	.line	492
  4107                        ;	else if(y > 153 && y < 255)
  4108                        L10024:
  4109                        	.line	493
  4110                        ;	{
  4111 03:0EB1: 38           	sec
  4112 03:0EB2: A9 99 00     	lda	#$99
  4113 03:0EB5: E5 0A        	sbc	<L189+y_0
  4114 03:0EB7: 70 03        	bvs	L199
  4115 03:0EB9: 49 00 80     	eor	#$8000
  4116                        L199:
  4117 03:0EBC: 10 03        	bpl	L200
  4118 03:0EBE: 82 16 00     	brl	L10025
  4119                        L200:
  4120 03:0EC1: 38           	sec
  4121 03:0EC2: A5 0A        	lda	<L189+y_0
  4122 03:0EC4: E9 FF 00     	sbc	#<$ff
  4123 03:0EC7: 70 03        	bvs	L201
  4124 03:0EC9: 49 00 80     	eor	#$8000
  Wed Nov 18 2020  8:27                                                Page 77


  4125                        L201:
  4126 03:0ECC: 10 03        	bpl	L202
  4127 03:0ECE: 82 06 00     	brl	L10025
  4128                        L202:
  4129                        	.line	494
  4130                        ;		return 2;
  4131                        	.line	495
  4132 03:0ED1: A9 02 00     	lda	#$2
  4133 03:0ED4: 82 A2 FF     	brl	L194
  4134                        ;	}
  4135                        	.line	496
  4136                        ;	else if(y > 255 && y < 358)
  4137                        L10025:
  4138                        	.line	497
  4139                        ;	{
  4140 03:0ED7: 38           	sec
  4141 03:0ED8: A9 FF 00     	lda	#$ff
  4142 03:0EDB: E5 0A        	sbc	<L189+y_0
  4143 03:0EDD: 70 03        	bvs	L203
  4144 03:0EDF: 49 00 80     	eor	#$8000
  4145                        L203:
  4146 03:0EE2: 10 03        	bpl	L204
  4147 03:0EE4: 82 16 00     	brl	L10026
  4148                        L204:
  4149 03:0EE7: 38           	sec
  4150 03:0EE8: A5 0A        	lda	<L189+y_0
  4151 03:0EEA: E9 66 01     	sbc	#<$166
  4152 03:0EED: 70 03        	bvs	L205
  4153 03:0EEF: 49 00 80     	eor	#$8000
  4154                        L205:
  4155 03:0EF2: 10 03        	bpl	L206
  4156 03:0EF4: 82 06 00     	brl	L10026
  4157                        L206:
  4158                        	.line	498
  4159                        ;		return 3;
  4160                        	.line	499
  4161 03:0EF7: A9 03 00     	lda	#$3
  4162 03:0EFA: 82 7C FF     	brl	L194
  4163                        ;	}
  4164                        	.line	500
  4165                        ;	else if(y > 358 && y < 460)
  4166                        L10026:
  4167                        	.line	501
  4168                        ;	{
  4169 03:0EFD: 38           	sec
  4170 03:0EFE: A9 66 01     	lda	#$166
  4171 03:0F01: E5 0A        	sbc	<L189+y_0
  4172 03:0F03: 70 03        	bvs	L207
  4173 03:0F05: 49 00 80     	eor	#$8000
  4174                        L207:
  4175 03:0F08: 10 03        	bpl	L208
  4176 03:0F0A: 82 16 00     	brl	L10027
  4177                        L208:
  4178 03:0F0D: 38           	sec
  4179 03:0F0E: A5 0A        	lda	<L189+y_0
  4180 03:0F10: E9 CC 01     	sbc	#<$1cc
  4181 03:0F13: 70 03        	bvs	L209
  4182 03:0F15: 49 00 80     	eor	#$8000
  Wed Nov 18 2020  8:27                                                Page 78


  4183                        L209:
  4184 03:0F18: 10 03        	bpl	L210
  4185 03:0F1A: 82 06 00     	brl	L10027
  4186                        L210:
  4187                        	.line	502
  4188                        ;		return 4;
  4189                        	.line	503
  4190 03:0F1D: A9 04 00     	lda	#$4
  4191 03:0F20: 82 56 FF     	brl	L194
  4192                        ;	}
  4193                        	.line	504
  4194                        ;	else if(y > 460 && y < 479 )
  4195                        L10027:
  4196                        	.line	505
  4197                        ;	{
  4198 03:0F23: 38           	sec
  4199 03:0F24: A9 CC 01     	lda	#$1cc
  4200 03:0F27: E5 0A        	sbc	<L189+y_0
  4201 03:0F29: 70 03        	bvs	L211
  4202 03:0F2B: 49 00 80     	eor	#$8000
  4203                        L211:
  4204 03:0F2E: 10 03        	bpl	L212
  4205 03:0F30: 82 16 00     	brl	L10028
  4206                        L212:
  4207 03:0F33: 38           	sec
  4208 03:0F34: A5 0A        	lda	<L189+y_0
  4209 03:0F36: E9 DF 01     	sbc	#<$1df
  4210 03:0F39: 70 03        	bvs	L213
  4211 03:0F3B: 49 00 80     	eor	#$8000
  4212                        L213:
  4213 03:0F3E: 10 03        	bpl	L214
  4214 03:0F40: 82 06 00     	brl	L10028
  4215                        L214:
  4216                        	.line	506
  4217                        ;		return 5;
  4218                        	.line	507
  4219 03:0F43: A9 05 00     	lda	#$5
  4220 03:0F46: 82 30 FF     	brl	L194
  4221                        ;	}
  4222                        	.line	508
  4223                        ;	
  4224                        ;	return 0;
  4225                        L10028:
  4226                        	.line	510
  4227 03:0F49: A9 00 00     	lda	#$0
  4228 03:0F4C: 82 2A FF     	brl	L194
  4229                        ;}
  4230                        	.line	511
  4231                        	.endblock	511
  4232             00000004   L189	equ	4
  4233             00000001   L190	equ	1
  4234 03:0F4F:              	ends
  4235                        	efunc
  4236                        	.endfunc	511,1,4
  4237                        	.line	511
  4238                        ;
  4239                        ;
  4240                        ;void k_draw_segments(int xc, int yc, int x, int y
  Wed Nov 18 2020  8:27                                                Page 79


                    ,int color) 
  4241                        ;{ 
  4242                        	.line	514
  4243                        	.line	515
  4244                        	GUI
  4245                        	xdef	~~k_draw_segments
  4246                        	func
  4247                        	.function	515
  4248                        ~~k_draw_segments:
  4249                        	longa	on
  4250                        	longi	on
  4251 03:0F4F: 3B           	tsc
  4252 03:0F50: 38           	sec
  4253 03:0F51: E9 08 00     	sbc	#L215
  4254 03:0F54: 1B           	tcs
  4255 03:0F55: 0B           	phd
  4256 03:0F56: 5B           	tcd
  4257             00000004   xc_0	set	4
  4258             00000006   yc_0	set	6
  4259             00000008   x_0	set	8
  4260             0000000A   y_0	set	10
  4261             0000000C   color_0	set	12
  4262                        	.block	515
  4263                        ;    k_draw_pixel(xc+x, yc+y, color); 
  4264                        	.sym	xc,4,5,6,16
  4265                        	.sym	yc,6,5,6,16
  4266                        	.sym	x,8,5,6,16
  4267                        	.sym	y,10,5,6,16
  4268                        	.sym	color,12,5,6,16
  4269                        	.line	516
  4270 03:0F57: D4 14        	pei	<L215+color_0
  4271 03:0F59: 18           	clc
  4272 03:0F5A: A5 0E        	lda	<L215+yc_0
  4273 03:0F5C: 65 12        	adc	<L215+y_0
  4274 03:0F5E: 85 01        	sta	<R0
  4275 03:0F60: A0 00 00     	ldy	#$0
  4276 03:0F63: A5 01        	lda	<R0
  4277 03:0F65: 10 01        	bpl	L218
  4278 03:0F67: 88           	dey
  4279                        L218:
  4280 03:0F68: 85 01        	sta	<R0
  4281 03:0F6A: 84 03        	sty	<R0+2
  4282 03:0F6C: D4 03        	pei	<R0+2
  4283 03:0F6E: D4 01        	pei	<R0
  4284 03:0F70: 18           	clc
  4285 03:0F71: A5 0C        	lda	<L215+xc_0
  4286 03:0F73: 65 10        	adc	<L215+x_0
  4287 03:0F75: 85 05        	sta	<R1
  4288 03:0F77: A0 00 00     	ldy	#$0
  4289 03:0F7A: A5 05        	lda	<R1
  4290 03:0F7C: 10 01        	bpl	L219
  4291 03:0F7E: 88           	dey
  4292                        L219:
  4293 03:0F7F: 85 05        	sta	<R1
  4294 03:0F81: 84 07        	sty	<R1+2
  4295 03:0F83: D4 07        	pei	<R1+2
  4296 03:0F85: D4 05        	pei	<R1
  4297 03:0F87: 22 77 0C 03  	jsl	~~k_draw_pixel
  Wed Nov 18 2020  8:27                                                Page 80


  4298                        ;    k_draw_pixel(xc-x, yc+y, color); 
  4299                        	.line	517
  4300 03:0F8B: D4 14        	pei	<L215+color_0
  4301 03:0F8D: 18           	clc
  4302 03:0F8E: A5 0E        	lda	<L215+yc_0
  4303 03:0F90: 65 12        	adc	<L215+y_0
  4304 03:0F92: 85 01        	sta	<R0
  4305 03:0F94: A0 00 00     	ldy	#$0
  4306 03:0F97: A5 01        	lda	<R0
  4307 03:0F99: 10 01        	bpl	L220
  4308 03:0F9B: 88           	dey
  4309                        L220:
  4310 03:0F9C: 85 01        	sta	<R0
  4311 03:0F9E: 84 03        	sty	<R0+2
  4312 03:0FA0: D4 03        	pei	<R0+2
  4313 03:0FA2: D4 01        	pei	<R0
  4314 03:0FA4: 38           	sec
  4315 03:0FA5: A5 0C        	lda	<L215+xc_0
  4316 03:0FA7: E5 10        	sbc	<L215+x_0
  4317 03:0FA9: 85 05        	sta	<R1
  4318 03:0FAB: A0 00 00     	ldy	#$0
  4319 03:0FAE: A5 05        	lda	<R1
  4320 03:0FB0: 10 01        	bpl	L221
  4321 03:0FB2: 88           	dey
  4322                        L221:
  4323 03:0FB3: 85 05        	sta	<R1
  4324 03:0FB5: 84 07        	sty	<R1+2
  4325 03:0FB7: D4 07        	pei	<R1+2
  4326 03:0FB9: D4 05        	pei	<R1
  4327 03:0FBB: 22 77 0C 03  	jsl	~~k_draw_pixel
  4328                        ;    k_draw_pixel(xc+x, yc-y, color); 
  4329                        	.line	518
  4330 03:0FBF: D4 14        	pei	<L215+color_0
  4331 03:0FC1: 38           	sec
  4332 03:0FC2: A5 0E        	lda	<L215+yc_0
  4333 03:0FC4: E5 12        	sbc	<L215+y_0
  4334 03:0FC6: 85 01        	sta	<R0
  4335 03:0FC8: A0 00 00     	ldy	#$0
  4336 03:0FCB: A5 01        	lda	<R0
  4337 03:0FCD: 10 01        	bpl	L222
  4338 03:0FCF: 88           	dey
  4339                        L222:
  4340 03:0FD0: 85 01        	sta	<R0
  4341 03:0FD2: 84 03        	sty	<R0+2
  4342 03:0FD4: D4 03        	pei	<R0+2
  4343 03:0FD6: D4 01        	pei	<R0
  4344 03:0FD8: 18           	clc
  4345 03:0FD9: A5 0C        	lda	<L215+xc_0
  4346 03:0FDB: 65 10        	adc	<L215+x_0
  4347 03:0FDD: 85 05        	sta	<R1
  4348 03:0FDF: A0 00 00     	ldy	#$0
  4349 03:0FE2: A5 05        	lda	<R1
  4350 03:0FE4: 10 01        	bpl	L223
  4351 03:0FE6: 88           	dey
  4352                        L223:
  4353 03:0FE7: 85 05        	sta	<R1
  4354 03:0FE9: 84 07        	sty	<R1+2
  4355 03:0FEB: D4 07        	pei	<R1+2
  Wed Nov 18 2020  8:27                                                Page 81


  4356 03:0FED: D4 05        	pei	<R1
  4357 03:0FEF: 22 77 0C 03  	jsl	~~k_draw_pixel
  4358                        ;    k_draw_pixel(xc-x, yc-y, color); 
  4359                        	.line	519
  4360 03:0FF3: D4 14        	pei	<L215+color_0
  4361 03:0FF5: 38           	sec
  4362 03:0FF6: A5 0E        	lda	<L215+yc_0
  4363 03:0FF8: E5 12        	sbc	<L215+y_0
  4364 03:0FFA: 85 01        	sta	<R0
  4365 03:0FFC: A0 00 00     	ldy	#$0
  4366 03:0FFF: A5 01        	lda	<R0
  4367 03:1001: 10 01        	bpl	L224
  4368 03:1003: 88           	dey
  4369                        L224:
  4370 03:1004: 85 01        	sta	<R0
  4371 03:1006: 84 03        	sty	<R0+2
  4372 03:1008: D4 03        	pei	<R0+2
  4373 03:100A: D4 01        	pei	<R0
  4374 03:100C: 38           	sec
  4375 03:100D: A5 0C        	lda	<L215+xc_0
  4376 03:100F: E5 10        	sbc	<L215+x_0
  4377 03:1011: 85 05        	sta	<R1
  4378 03:1013: A0 00 00     	ldy	#$0
  4379 03:1016: A5 05        	lda	<R1
  4380 03:1018: 10 01        	bpl	L225
  4381 03:101A: 88           	dey
  4382                        L225:
  4383 03:101B: 85 05        	sta	<R1
  4384 03:101D: 84 07        	sty	<R1+2
  4385 03:101F: D4 07        	pei	<R1+2
  4386 03:1021: D4 05        	pei	<R1
  4387 03:1023: 22 77 0C 03  	jsl	~~k_draw_pixel
  4388                        ;    k_draw_pixel(xc+y, yc+x, color); 
  4389                        	.line	520
  4390 03:1027: D4 14        	pei	<L215+color_0
  4391 03:1029: 18           	clc
  4392 03:102A: A5 0E        	lda	<L215+yc_0
  4393 03:102C: 65 10        	adc	<L215+x_0
  4394 03:102E: 85 01        	sta	<R0
  4395 03:1030: A0 00 00     	ldy	#$0
  4396 03:1033: A5 01        	lda	<R0
  4397 03:1035: 10 01        	bpl	L226
  4398 03:1037: 88           	dey
  4399                        L226:
  4400 03:1038: 85 01        	sta	<R0
  4401 03:103A: 84 03        	sty	<R0+2
  4402 03:103C: D4 03        	pei	<R0+2
  4403 03:103E: D4 01        	pei	<R0
  4404 03:1040: 18           	clc
  4405 03:1041: A5 0C        	lda	<L215+xc_0
  4406 03:1043: 65 12        	adc	<L215+y_0
  4407 03:1045: 85 05        	sta	<R1
  4408 03:1047: A0 00 00     	ldy	#$0
  4409 03:104A: A5 05        	lda	<R1
  4410 03:104C: 10 01        	bpl	L227
  4411 03:104E: 88           	dey
  4412                        L227:
  4413 03:104F: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 82


  4414 03:1051: 84 07        	sty	<R1+2
  4415 03:1053: D4 07        	pei	<R1+2
  4416 03:1055: D4 05        	pei	<R1
  4417 03:1057: 22 77 0C 03  	jsl	~~k_draw_pixel
  4418                        ;    k_draw_pixel(xc-y, yc+x, color); 
  4419                        	.line	521
  4420 03:105B: D4 14        	pei	<L215+color_0
  4421 03:105D: 18           	clc
  4422 03:105E: A5 0E        	lda	<L215+yc_0
  4423 03:1060: 65 10        	adc	<L215+x_0
  4424 03:1062: 85 01        	sta	<R0
  4425 03:1064: A0 00 00     	ldy	#$0
  4426 03:1067: A5 01        	lda	<R0
  4427 03:1069: 10 01        	bpl	L228
  4428 03:106B: 88           	dey
  4429                        L228:
  4430 03:106C: 85 01        	sta	<R0
  4431 03:106E: 84 03        	sty	<R0+2
  4432 03:1070: D4 03        	pei	<R0+2
  4433 03:1072: D4 01        	pei	<R0
  4434 03:1074: 38           	sec
  4435 03:1075: A5 0C        	lda	<L215+xc_0
  4436 03:1077: E5 12        	sbc	<L215+y_0
  4437 03:1079: 85 05        	sta	<R1
  4438 03:107B: A0 00 00     	ldy	#$0
  4439 03:107E: A5 05        	lda	<R1
  4440 03:1080: 10 01        	bpl	L229
  4441 03:1082: 88           	dey
  4442                        L229:
  4443 03:1083: 85 05        	sta	<R1
  4444 03:1085: 84 07        	sty	<R1+2
  4445 03:1087: D4 07        	pei	<R1+2
  4446 03:1089: D4 05        	pei	<R1
  4447 03:108B: 22 77 0C 03  	jsl	~~k_draw_pixel
  4448                        ;    k_draw_pixel(xc+y, yc-x, color); 
  4449                        	.line	522
  4450 03:108F: D4 14        	pei	<L215+color_0
  4451 03:1091: 38           	sec
  4452 03:1092: A5 0E        	lda	<L215+yc_0
  4453 03:1094: E5 10        	sbc	<L215+x_0
  4454 03:1096: 85 01        	sta	<R0
  4455 03:1098: A0 00 00     	ldy	#$0
  4456 03:109B: A5 01        	lda	<R0
  4457 03:109D: 10 01        	bpl	L230
  4458 03:109F: 88           	dey
  4459                        L230:
  4460 03:10A0: 85 01        	sta	<R0
  4461 03:10A2: 84 03        	sty	<R0+2
  4462 03:10A4: D4 03        	pei	<R0+2
  4463 03:10A6: D4 01        	pei	<R0
  4464 03:10A8: 18           	clc
  4465 03:10A9: A5 0C        	lda	<L215+xc_0
  4466 03:10AB: 65 12        	adc	<L215+y_0
  4467 03:10AD: 85 05        	sta	<R1
  4468 03:10AF: A0 00 00     	ldy	#$0
  4469 03:10B2: A5 05        	lda	<R1
  4470 03:10B4: 10 01        	bpl	L231
  4471 03:10B6: 88           	dey
  Wed Nov 18 2020  8:27                                                Page 83


  4472                        L231:
  4473 03:10B7: 85 05        	sta	<R1
  4474 03:10B9: 84 07        	sty	<R1+2
  4475 03:10BB: D4 07        	pei	<R1+2
  4476 03:10BD: D4 05        	pei	<R1
  4477 03:10BF: 22 77 0C 03  	jsl	~~k_draw_pixel
  4478                        ;    k_draw_pixel(xc-y, yc-x, color); 
  4479                        	.line	523
  4480 03:10C3: D4 14        	pei	<L215+color_0
  4481 03:10C5: 38           	sec
  4482 03:10C6: A5 0E        	lda	<L215+yc_0
  4483 03:10C8: E5 10        	sbc	<L215+x_0
  4484 03:10CA: 85 01        	sta	<R0
  4485 03:10CC: A0 00 00     	ldy	#$0
  4486 03:10CF: A5 01        	lda	<R0
  4487 03:10D1: 10 01        	bpl	L232
  4488 03:10D3: 88           	dey
  4489                        L232:
  4490 03:10D4: 85 01        	sta	<R0
  4491 03:10D6: 84 03        	sty	<R0+2
  4492 03:10D8: D4 03        	pei	<R0+2
  4493 03:10DA: D4 01        	pei	<R0
  4494 03:10DC: 38           	sec
  4495 03:10DD: A5 0C        	lda	<L215+xc_0
  4496 03:10DF: E5 12        	sbc	<L215+y_0
  4497 03:10E1: 85 05        	sta	<R1
  4498 03:10E3: A0 00 00     	ldy	#$0
  4499 03:10E6: A5 05        	lda	<R1
  4500 03:10E8: 10 01        	bpl	L233
  4501 03:10EA: 88           	dey
  4502                        L233:
  4503 03:10EB: 85 05        	sta	<R1
  4504 03:10ED: 84 07        	sty	<R1+2
  4505 03:10EF: D4 07        	pei	<R1+2
  4506 03:10F1: D4 05        	pei	<R1
  4507 03:10F3: 22 77 0C 03  	jsl	~~k_draw_pixel
  4508                        ;} 
  4509                        	.line	524
  4510                        L234:
  4511 03:10F7: A5 0A        	lda	<L215+2
  4512 03:10F9: 85 14        	sta	<L215+2+10
  4513 03:10FB: A5 09        	lda	<L215+1
  4514 03:10FD: 85 13        	sta	<L215+1+10
  4515 03:10FF: 2B           	pld
  4516 03:1100: 3B           	tsc
  4517 03:1101: 18           	clc
  4518 03:1102: 69 12 00     	adc	#L215+10
  4519 03:1105: 1B           	tcs
  4520 03:1106: 6B           	rtl
  4521                        	.endblock	524
  4522             00000008   L215	equ	8
  4523             00000009   L216	equ	9
  4524 03:1107:              	ends
  4525                        	efunc
  4526                        	.endfunc	524,9,8
  4527                        	.line	524
  4528                        ;
  4529                        ;void k_draw_filled_segments(int xc, int yc, int x
  Wed Nov 18 2020  8:27                                                Page 84


                    , int y,int color) 
  4530                        ;{ 
  4531                        	.line	526
  4532                        	.line	527
  4533                        	GUI
  4534                        	xdef	~~k_draw_filled_segments
  4535                        	func
  4536                        	.function	527
  4537                        ~~k_draw_filled_segments:
  4538                        	longa	on
  4539                        	longi	on
  4540 03:1107: 3B           	tsc
  4541 03:1108: 38           	sec
  4542 03:1109: E9 08 00     	sbc	#L235
  4543 03:110C: 1B           	tcs
  4544 03:110D: 0B           	phd
  4545 03:110E: 5B           	tcd
  4546             00000004   xc_0	set	4
  4547             00000006   yc_0	set	6
  4548             00000008   x_0	set	8
  4549             0000000A   y_0	set	10
  4550             0000000C   color_0	set	12
  4551                        	.block	527
  4552                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  4553                        	.sym	xc,4,5,6,16
  4554                        	.sym	yc,6,5,6,16
  4555                        	.sym	x,8,5,6,16
  4556                        	.sym	y,10,5,6,16
  4557                        	.sym	color,12,5,6,16
  4558                        	.line	528
  4559 03:110F: D4 14        	pei	<L235+color_0
  4560 03:1111: 18           	clc
  4561 03:1112: A5 0E        	lda	<L235+yc_0
  4562 03:1114: 65 12        	adc	<L235+y_0
  4563 03:1116: 85 01        	sta	<R0
  4564 03:1118: A0 00 00     	ldy	#$0
  4565 03:111B: A5 01        	lda	<R0
  4566 03:111D: 10 01        	bpl	L238
  4567 03:111F: 88           	dey
  4568                        L238:
  4569 03:1120: 85 01        	sta	<R0
  4570 03:1122: 84 03        	sty	<R0+2
  4571 03:1124: D4 03        	pei	<R0+2
  4572 03:1126: D4 01        	pei	<R0
  4573 03:1128: 18           	clc
  4574 03:1129: A5 0C        	lda	<L235+xc_0
  4575 03:112B: 65 10        	adc	<L235+x_0
  4576 03:112D: 85 05        	sta	<R1
  4577 03:112F: A0 00 00     	ldy	#$0
  4578 03:1132: A5 05        	lda	<R1
  4579 03:1134: 10 01        	bpl	L239
  4580 03:1136: 88           	dey
  4581                        L239:
  4582 03:1137: 85 05        	sta	<R1
  4583 03:1139: 84 07        	sty	<R1+2
  4584 03:113B: D4 07        	pei	<R1+2
  4585 03:113D: D4 05        	pei	<R1
  4586 03:113F: 22 77 0C 03  	jsl	~~k_draw_pixel
  Wed Nov 18 2020  8:27                                                Page 85


  4587                        ;	k_draw_pixel(xc-x, yc+y, color); 
  4588                        	.line	529
  4589 03:1143: D4 14        	pei	<L235+color_0
  4590 03:1145: 18           	clc
  4591 03:1146: A5 0E        	lda	<L235+yc_0
  4592 03:1148: 65 12        	adc	<L235+y_0
  4593 03:114A: 85 01        	sta	<R0
  4594 03:114C: A0 00 00     	ldy	#$0
  4595 03:114F: A5 01        	lda	<R0
  4596 03:1151: 10 01        	bpl	L240
  4597 03:1153: 88           	dey
  4598                        L240:
  4599 03:1154: 85 01        	sta	<R0
  4600 03:1156: 84 03        	sty	<R0+2
  4601 03:1158: D4 03        	pei	<R0+2
  4602 03:115A: D4 01        	pei	<R0
  4603 03:115C: 38           	sec
  4604 03:115D: A5 0C        	lda	<L235+xc_0
  4605 03:115F: E5 10        	sbc	<L235+x_0
  4606 03:1161: 85 05        	sta	<R1
  4607 03:1163: A0 00 00     	ldy	#$0
  4608 03:1166: A5 05        	lda	<R1
  4609 03:1168: 10 01        	bpl	L241
  4610 03:116A: 88           	dey
  4611                        L241:
  4612 03:116B: 85 05        	sta	<R1
  4613 03:116D: 84 07        	sty	<R1+2
  4614 03:116F: D4 07        	pei	<R1+2
  4615 03:1171: D4 05        	pei	<R1
  4616 03:1173: 22 77 0C 03  	jsl	~~k_draw_pixel
  4617                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  4618                        	.line	530
  4619 03:1177: D4 14        	pei	<L235+color_0
  4620 03:1179: 18           	clc
  4621 03:117A: A5 0E        	lda	<L235+yc_0
  4622 03:117C: 65 12        	adc	<L235+y_0
  4623 03:117E: 48           	pha
  4624 03:117F: 38           	sec
  4625 03:1180: A5 0C        	lda	<L235+xc_0
  4626 03:1182: E5 10        	sbc	<L235+x_0
  4627 03:1184: 48           	pha
  4628 03:1185: 18           	clc
  4629 03:1186: A5 0E        	lda	<L235+yc_0
  4630 03:1188: 65 12        	adc	<L235+y_0
  4631 03:118A: 48           	pha
  4632 03:118B: 18           	clc
  4633 03:118C: A5 0C        	lda	<L235+xc_0
  4634 03:118E: 65 10        	adc	<L235+x_0
  4635 03:1190: 48           	pha
  4636 03:1191: 22 79 14 03  	jsl	~~k_draw_line
  4637                        ;	
  4638                        ;	
  4639                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  4640                        	.line	533
  4641 03:1195: D4 14        	pei	<L235+color_0
  4642 03:1197: 38           	sec
  4643 03:1198: A5 0E        	lda	<L235+yc_0
  4644 03:119A: E5 12        	sbc	<L235+y_0
  Wed Nov 18 2020  8:27                                                Page 86


  4645 03:119C: 85 01        	sta	<R0
  4646 03:119E: A0 00 00     	ldy	#$0
  4647 03:11A1: A5 01        	lda	<R0
  4648 03:11A3: 10 01        	bpl	L242
  4649 03:11A5: 88           	dey
  4650                        L242:
  4651 03:11A6: 85 01        	sta	<R0
  4652 03:11A8: 84 03        	sty	<R0+2
  4653 03:11AA: D4 03        	pei	<R0+2
  4654 03:11AC: D4 01        	pei	<R0
  4655 03:11AE: 18           	clc
  4656 03:11AF: A5 0C        	lda	<L235+xc_0
  4657 03:11B1: 65 10        	adc	<L235+x_0
  4658 03:11B3: 85 05        	sta	<R1
  4659 03:11B5: A0 00 00     	ldy	#$0
  4660 03:11B8: A5 05        	lda	<R1
  4661 03:11BA: 10 01        	bpl	L243
  4662 03:11BC: 88           	dey
  4663                        L243:
  4664 03:11BD: 85 05        	sta	<R1
  4665 03:11BF: 84 07        	sty	<R1+2
  4666 03:11C1: D4 07        	pei	<R1+2
  4667 03:11C3: D4 05        	pei	<R1
  4668 03:11C5: 22 77 0C 03  	jsl	~~k_draw_pixel
  4669                        ;	k_draw_pixel(xc-x, yc-y, color); 
  4670                        	.line	534
  4671 03:11C9: D4 14        	pei	<L235+color_0
  4672 03:11CB: 38           	sec
  4673 03:11CC: A5 0E        	lda	<L235+yc_0
  4674 03:11CE: E5 12        	sbc	<L235+y_0
  4675 03:11D0: 85 01        	sta	<R0
  4676 03:11D2: A0 00 00     	ldy	#$0
  4677 03:11D5: A5 01        	lda	<R0
  4678 03:11D7: 10 01        	bpl	L244
  4679 03:11D9: 88           	dey
  4680                        L244:
  4681 03:11DA: 85 01        	sta	<R0
  4682 03:11DC: 84 03        	sty	<R0+2
  4683 03:11DE: D4 03        	pei	<R0+2
  4684 03:11E0: D4 01        	pei	<R0
  4685 03:11E2: 38           	sec
  4686 03:11E3: A5 0C        	lda	<L235+xc_0
  4687 03:11E5: E5 10        	sbc	<L235+x_0
  4688 03:11E7: 85 05        	sta	<R1
  4689 03:11E9: A0 00 00     	ldy	#$0
  4690 03:11EC: A5 05        	lda	<R1
  4691 03:11EE: 10 01        	bpl	L245
  4692 03:11F0: 88           	dey
  4693                        L245:
  4694 03:11F1: 85 05        	sta	<R1
  4695 03:11F3: 84 07        	sty	<R1+2
  4696 03:11F5: D4 07        	pei	<R1+2
  4697 03:11F7: D4 05        	pei	<R1
  4698 03:11F9: 22 77 0C 03  	jsl	~~k_draw_pixel
  4699                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  4700                        	.line	535
  4701 03:11FD: D4 14        	pei	<L235+color_0
  4702 03:11FF: 38           	sec
  Wed Nov 18 2020  8:27                                                Page 87


  4703 03:1200: A5 0E        	lda	<L235+yc_0
  4704 03:1202: E5 12        	sbc	<L235+y_0
  4705 03:1204: 48           	pha
  4706 03:1205: 38           	sec
  4707 03:1206: A5 0C        	lda	<L235+xc_0
  4708 03:1208: E5 10        	sbc	<L235+x_0
  4709 03:120A: 48           	pha
  4710 03:120B: 38           	sec
  4711 03:120C: A5 0E        	lda	<L235+yc_0
  4712 03:120E: E5 12        	sbc	<L235+y_0
  4713 03:1210: 48           	pha
  4714 03:1211: 18           	clc
  4715 03:1212: A5 0C        	lda	<L235+xc_0
  4716 03:1214: 65 10        	adc	<L235+x_0
  4717 03:1216: 48           	pha
  4718 03:1217: 22 79 14 03  	jsl	~~k_draw_line
  4719                        ;	
  4720                        ;    
  4721                        ;	k_draw_pixel(xc+y, yc+x, color);     
  4722                        	.line	538
  4723 03:121B: D4 14        	pei	<L235+color_0
  4724 03:121D: 18           	clc
  4725 03:121E: A5 0E        	lda	<L235+yc_0
  4726 03:1220: 65 10        	adc	<L235+x_0
  4727 03:1222: 85 01        	sta	<R0
  4728 03:1224: A0 00 00     	ldy	#$0
  4729 03:1227: A5 01        	lda	<R0
  4730 03:1229: 10 01        	bpl	L246
  4731 03:122B: 88           	dey
  4732                        L246:
  4733 03:122C: 85 01        	sta	<R0
  4734 03:122E: 84 03        	sty	<R0+2
  4735 03:1230: D4 03        	pei	<R0+2
  4736 03:1232: D4 01        	pei	<R0
  4737 03:1234: 18           	clc
  4738 03:1235: A5 0C        	lda	<L235+xc_0
  4739 03:1237: 65 12        	adc	<L235+y_0
  4740 03:1239: 85 05        	sta	<R1
  4741 03:123B: A0 00 00     	ldy	#$0
  4742 03:123E: A5 05        	lda	<R1
  4743 03:1240: 10 01        	bpl	L247
  4744 03:1242: 88           	dey
  4745                        L247:
  4746 03:1243: 85 05        	sta	<R1
  4747 03:1245: 84 07        	sty	<R1+2
  4748 03:1247: D4 07        	pei	<R1+2
  4749 03:1249: D4 05        	pei	<R1
  4750 03:124B: 22 77 0C 03  	jsl	~~k_draw_pixel
  4751                        ;	k_draw_pixel(xc-y, yc+x, color); 
  4752                        	.line	539
  4753 03:124F: D4 14        	pei	<L235+color_0
  4754 03:1251: 18           	clc
  4755 03:1252: A5 0E        	lda	<L235+yc_0
  4756 03:1254: 65 10        	adc	<L235+x_0
  4757 03:1256: 85 01        	sta	<R0
  4758 03:1258: A0 00 00     	ldy	#$0
  4759 03:125B: A5 01        	lda	<R0
  4760 03:125D: 10 01        	bpl	L248
  Wed Nov 18 2020  8:27                                                Page 88


  4761 03:125F: 88           	dey
  4762                        L248:
  4763 03:1260: 85 01        	sta	<R0
  4764 03:1262: 84 03        	sty	<R0+2
  4765 03:1264: D4 03        	pei	<R0+2
  4766 03:1266: D4 01        	pei	<R0
  4767 03:1268: 38           	sec
  4768 03:1269: A5 0C        	lda	<L235+xc_0
  4769 03:126B: E5 12        	sbc	<L235+y_0
  4770 03:126D: 85 05        	sta	<R1
  4771 03:126F: A0 00 00     	ldy	#$0
  4772 03:1272: A5 05        	lda	<R1
  4773 03:1274: 10 01        	bpl	L249
  4774 03:1276: 88           	dey
  4775                        L249:
  4776 03:1277: 85 05        	sta	<R1
  4777 03:1279: 84 07        	sty	<R1+2
  4778 03:127B: D4 07        	pei	<R1+2
  4779 03:127D: D4 05        	pei	<R1
  4780 03:127F: 22 77 0C 03  	jsl	~~k_draw_pixel
  4781                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  4782                        	.line	540
  4783 03:1283: D4 14        	pei	<L235+color_0
  4784 03:1285: 18           	clc
  4785 03:1286: A5 0E        	lda	<L235+yc_0
  4786 03:1288: 65 10        	adc	<L235+x_0
  4787 03:128A: 48           	pha
  4788 03:128B: 38           	sec
  4789 03:128C: A5 0C        	lda	<L235+xc_0
  4790 03:128E: E5 12        	sbc	<L235+y_0
  4791 03:1290: 48           	pha
  4792 03:1291: 18           	clc
  4793 03:1292: A5 0E        	lda	<L235+yc_0
  4794 03:1294: 65 10        	adc	<L235+x_0
  4795 03:1296: 48           	pha
  4796 03:1297: 18           	clc
  4797 03:1298: A5 0C        	lda	<L235+xc_0
  4798 03:129A: 65 12        	adc	<L235+y_0
  4799 03:129C: 48           	pha
  4800 03:129D: 22 79 14 03  	jsl	~~k_draw_line
  4801                        ;	
  4802                        ;	k_draw_pixel(xc+y, yc-x, color);  
  4803                        	.line	542
  4804 03:12A1: D4 14        	pei	<L235+color_0
  4805 03:12A3: 38           	sec
  4806 03:12A4: A5 0E        	lda	<L235+yc_0
  4807 03:12A6: E5 10        	sbc	<L235+x_0
  4808 03:12A8: 85 01        	sta	<R0
  4809 03:12AA: A0 00 00     	ldy	#$0
  4810 03:12AD: A5 01        	lda	<R0
  4811 03:12AF: 10 01        	bpl	L250
  4812 03:12B1: 88           	dey
  4813                        L250:
  4814 03:12B2: 85 01        	sta	<R0
  4815 03:12B4: 84 03        	sty	<R0+2
  4816 03:12B6: D4 03        	pei	<R0+2
  4817 03:12B8: D4 01        	pei	<R0
  4818 03:12BA: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 89


  4819 03:12BB: A5 0C        	lda	<L235+xc_0
  4820 03:12BD: 65 12        	adc	<L235+y_0
  4821 03:12BF: 85 05        	sta	<R1
  4822 03:12C1: A0 00 00     	ldy	#$0
  4823 03:12C4: A5 05        	lda	<R1
  4824 03:12C6: 10 01        	bpl	L251
  4825 03:12C8: 88           	dey
  4826                        L251:
  4827 03:12C9: 85 05        	sta	<R1
  4828 03:12CB: 84 07        	sty	<R1+2
  4829 03:12CD: D4 07        	pei	<R1+2
  4830 03:12CF: D4 05        	pei	<R1
  4831 03:12D1: 22 77 0C 03  	jsl	~~k_draw_pixel
  4832                        ;	k_draw_pixel(xc-y, yc-x, color); 
  4833                        	.line	543
  4834 03:12D5: D4 14        	pei	<L235+color_0
  4835 03:12D7: 38           	sec
  4836 03:12D8: A5 0E        	lda	<L235+yc_0
  4837 03:12DA: E5 10        	sbc	<L235+x_0
  4838 03:12DC: 85 01        	sta	<R0
  4839 03:12DE: A0 00 00     	ldy	#$0
  4840 03:12E1: A5 01        	lda	<R0
  4841 03:12E3: 10 01        	bpl	L252
  4842 03:12E5: 88           	dey
  4843                        L252:
  4844 03:12E6: 85 01        	sta	<R0
  4845 03:12E8: 84 03        	sty	<R0+2
  4846 03:12EA: D4 03        	pei	<R0+2
  4847 03:12EC: D4 01        	pei	<R0
  4848 03:12EE: 38           	sec
  4849 03:12EF: A5 0C        	lda	<L235+xc_0
  4850 03:12F1: E5 12        	sbc	<L235+y_0
  4851 03:12F3: 85 05        	sta	<R1
  4852 03:12F5: A0 00 00     	ldy	#$0
  4853 03:12F8: A5 05        	lda	<R1
  4854 03:12FA: 10 01        	bpl	L253
  4855 03:12FC: 88           	dey
  4856                        L253:
  4857 03:12FD: 85 05        	sta	<R1
  4858 03:12FF: 84 07        	sty	<R1+2
  4859 03:1301: D4 07        	pei	<R1+2
  4860 03:1303: D4 05        	pei	<R1
  4861 03:1305: 22 77 0C 03  	jsl	~~k_draw_pixel
  4862                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  4863                        	.line	544
  4864 03:1309: D4 14        	pei	<L235+color_0
  4865 03:130B: 38           	sec
  4866 03:130C: A5 0E        	lda	<L235+yc_0
  4867 03:130E: E5 10        	sbc	<L235+x_0
  4868 03:1310: 48           	pha
  4869 03:1311: 38           	sec
  4870 03:1312: A5 0C        	lda	<L235+xc_0
  4871 03:1314: E5 12        	sbc	<L235+y_0
  4872 03:1316: 48           	pha
  4873 03:1317: 38           	sec
  4874 03:1318: A5 0E        	lda	<L235+yc_0
  4875 03:131A: E5 10        	sbc	<L235+x_0
  4876 03:131C: 48           	pha
  Wed Nov 18 2020  8:27                                                Page 90


  4877 03:131D: 18           	clc
  4878 03:131E: A5 0C        	lda	<L235+xc_0
  4879 03:1320: 65 12        	adc	<L235+y_0
  4880 03:1322: 48           	pha
  4881 03:1323: 22 79 14 03  	jsl	~~k_draw_line
  4882                        ;}
  4883                        	.line	545
  4884                        L254:
  4885 03:1327: A5 0A        	lda	<L235+2
  4886 03:1329: 85 14        	sta	<L235+2+10
  4887 03:132B: A5 09        	lda	<L235+1
  4888 03:132D: 85 13        	sta	<L235+1+10
  4889 03:132F: 2B           	pld
  4890 03:1330: 3B           	tsc
  4891 03:1331: 18           	clc
  4892 03:1332: 69 12 00     	adc	#L235+10
  4893 03:1335: 1B           	tcs
  4894 03:1336: 6B           	rtl
  4895                        	.endblock	545
  4896             00000008   L235	equ	8
  4897             00000009   L236	equ	9
  4898 03:1337:              	ends
  4899                        	efunc
  4900                        	.endfunc	545,9,8
  4901                        	.line	545
  4902                        ;  
  4903                        ;// Function for circle-generation 
  4904                        ;// using Bresenham's algorithm 
  4905                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  4906                        ;{ 
  4907                        	.line	549
  4908                        	.line	550
  4909                        	GUI
  4910                        	xdef	~~k_draw_circle
  4911                        	func
  4912                        	.function	550
  4913                        ~~k_draw_circle:
  4914                        	longa	on
  4915                        	longi	on
  4916 03:1337: 3B           	tsc
  4917 03:1338: 38           	sec
  4918 03:1339: E9 0E 00     	sbc	#L255
  4919 03:133C: 1B           	tcs
  4920 03:133D: 0B           	phd
  4921 03:133E: 5B           	tcd
  4922             00000004   xc_0	set	4
  4923             00000006   yc_0	set	6
  4924             00000008   r_0	set	8
  4925             0000000A   color_0	set	10
  4926                        	.block	550
  4927                        ;    int x = 0;
  4928                        ;	int y = r; 
  4929                        ;	
  4930                        ;    int d = 3 - 2 * r; 
  4931                        ;	
  4932                        ;    k_draw_segments(xc, yc, x, y, color); 
  4933             00000000   x_1	set	0
  Wed Nov 18 2020  8:27                                                Page 91


  4934             00000002   y_1	set	2
  4935             00000004   d_1	set	4
  4936                        	.sym	x,0,5,1,16
  4937                        	.sym	y,2,5,1,16
  4938                        	.sym	d,4,5,1,16
  4939                        	.sym	xc,4,5,6,16
  4940                        	.sym	yc,6,5,6,16
  4941                        	.sym	r,8,5,6,16
  4942                        	.sym	color,10,5,6,16
  4943 03:133F: 64 09        	stz	<L256+x_1
  4944 03:1341: A5 16        	lda	<L255+r_0
  4945 03:1343: 85 0B        	sta	<L256+y_1
  4946 03:1345: A5 16        	lda	<L255+r_0
  4947 03:1347: 0A           	asl	A
  4948 03:1348: 85 01        	sta	<R0
  4949 03:134A: 38           	sec
  4950 03:134B: A9 03 00     	lda	#$3
  4951 03:134E: E5 01        	sbc	<R0
  4952 03:1350: 85 0D        	sta	<L256+d_1
  4953                        	.line	556
  4954 03:1352: D4 18        	pei	<L255+color_0
  4955 03:1354: D4 0B        	pei	<L256+y_1
  4956 03:1356: D4 09        	pei	<L256+x_1
  4957 03:1358: D4 14        	pei	<L255+yc_0
  4958 03:135A: D4 12        	pei	<L255+xc_0
  4959 03:135C: 22 4F 0F 03  	jsl	~~k_draw_segments
  4960                        ;	
  4961                        ;    while (y >= x) 
  4962                        	.line	558
  4963                        L10029:
  4964 03:1360: 38           	sec
  4965 03:1361: A5 0B        	lda	<L256+y_1
  4966 03:1363: E5 09        	sbc	<L256+x_1
  4967 03:1365: 70 03        	bvs	L258
  4968 03:1367: 49 00 80     	eor	#$8000
  4969                        L258:
  4970 03:136A: 30 03        	bmi	L259
  4971 03:136C: 82 59 00     	brl	L10030
  4972                        L259:
  4973                        ;    { 
  4974                        	.line	559
  4975                        ;        // for each pixel we will 
  4976                        ;        // draw all eight pixels 
  4977                        ;          
  4978                        ;        x++; 
  4979                        	.line	563
  4980 03:136F: E6 09        	inc	<L256+x_1
  4981                        ;  
  4982                        ;        // check for decision parameter 
  4983                        ;        // and correspondingly  
  4984                        ;        // update d, x, y 
  4985                        ;        if (d > 0) 
  4986                        	.line	568
  4987                        ;        { 
  4988 03:1371: 38           	sec
  4989 03:1372: A9 00 00     	lda	#$0
  4990 03:1375: E5 0D        	sbc	<L256+d_1
  4991 03:1377: 70 03        	bvs	L260
  Wed Nov 18 2020  8:27                                                Page 92


  4992 03:1379: 49 00 80     	eor	#$8000
  4993                        L260:
  4994 03:137C: 10 03        	bpl	L261
  4995 03:137E: 82 21 00     	brl	L10031
  4996                        L261:
  4997                        	.line	569
  4998                        ;            y--;  
  4999                        	.line	570
  5000 03:1381: C6 0B        	dec	<L256+y_1
  5001                        ;            d = d + 4 * (x - y) + 10; 
  5002                        	.line	571
  5003 03:1383: 38           	sec
  5004 03:1384: A5 09        	lda	<L256+x_1
  5005 03:1386: E5 0B        	sbc	<L256+y_1
  5006 03:1388: 85 05        	sta	<R1
  5007 03:138A: A5 05        	lda	<R1
  5008 03:138C: 0A           	asl	A
  5009 03:138D: 0A           	asl	A
  5010 03:138E: 85 01        	sta	<R0
  5011 03:1390: 18           	clc
  5012 03:1391: A5 01        	lda	<R0
  5013 03:1393: 65 0D        	adc	<L256+d_1
  5014 03:1395: 85 05        	sta	<R1
  5015 03:1397: 18           	clc
  5016 03:1398: A9 0A 00     	lda	#$a
  5017 03:139B: 65 05        	adc	<R1
  5018 03:139D: 85 0D        	sta	<L256+d_1
  5019                        ;        } 
  5020                        	.line	572
  5021                        ;        else
  5022 03:139F: 82 15 00     	brl	L10032
  5023                        L10031:
  5024                        ;            d = d + 4 * x + 6; 
  5025                        	.line	574
  5026 03:13A2: A5 09        	lda	<L256+x_1
  5027 03:13A4: 0A           	asl	A
  5028 03:13A5: 0A           	asl	A
  5029 03:13A6: 85 01        	sta	<R0
  5030 03:13A8: 18           	clc
  5031 03:13A9: A5 01        	lda	<R0
  5032 03:13AB: 65 0D        	adc	<L256+d_1
  5033 03:13AD: 85 05        	sta	<R1
  5034 03:13AF: 18           	clc
  5035 03:13B0: A9 06 00     	lda	#$6
  5036 03:13B3: 65 05        	adc	<R1
  5037 03:13B5: 85 0D        	sta	<L256+d_1
  5038                        L10032:
  5039                        ;        k_draw_segments(xc, yc, x, y, color); 
  5040                        	.line	575
  5041 03:13B7: D4 18        	pei	<L255+color_0
  5042 03:13B9: D4 0B        	pei	<L256+y_1
  5043 03:13BB: D4 09        	pei	<L256+x_1
  5044 03:13BD: D4 14        	pei	<L255+yc_0
  5045 03:13BF: D4 12        	pei	<L255+xc_0
  5046 03:13C1: 22 4F 0F 03  	jsl	~~k_draw_segments
  5047                        ;       
  5048                        ;    } 
  5049                        	.line	577
  Wed Nov 18 2020  8:27                                                Page 93


  5050 03:13C5: 82 98 FF     	brl	L10029
  5051                        L10030:
  5052                        ;} 
  5053                        	.line	578
  5054                        L262:
  5055 03:13C8: A5 10        	lda	<L255+2
  5056 03:13CA: 85 18        	sta	<L255+2+8
  5057 03:13CC: A5 0F        	lda	<L255+1
  5058 03:13CE: 85 17        	sta	<L255+1+8
  5059 03:13D0: 2B           	pld
  5060 03:13D1: 3B           	tsc
  5061 03:13D2: 18           	clc
  5062 03:13D3: 69 16 00     	adc	#L255+8
  5063 03:13D6: 1B           	tcs
  5064 03:13D7: 6B           	rtl
  5065                        	.endblock	578
  5066             0000000E   L255	equ	14
  5067             00000009   L256	equ	9
  5068 03:13D8:              	ends
  5069                        	efunc
  5070                        	.endfunc	578,9,14
  5071                        	.line	578
  5072                        ;
  5073                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  5074                        ;{ 
  5075                        	.line	580
  5076                        	.line	581
  5077                        	GUI
  5078                        	xdef	~~k_draw_filled_circle
  5079                        	func
  5080                        	.function	581
  5081                        ~~k_draw_filled_circle:
  5082                        	longa	on
  5083                        	longi	on
  5084 03:13D8: 3B           	tsc
  5085 03:13D9: 38           	sec
  5086 03:13DA: E9 0E 00     	sbc	#L263
  5087 03:13DD: 1B           	tcs
  5088 03:13DE: 0B           	phd
  5089 03:13DF: 5B           	tcd
  5090             00000004   xc_0	set	4
  5091             00000006   yc_0	set	6
  5092             00000008   r_0	set	8
  5093             0000000A   color_0	set	10
  5094                        	.block	581
  5095                        ;    int x = 0;
  5096                        ;	int y = r; 
  5097                        ;	
  5098                        ;    int d = 3 - 2 * r; 
  5099                        ;	
  5100                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  5101             00000000   x_1	set	0
  5102             00000002   y_1	set	2
  5103             00000004   d_1	set	4
  5104                        	.sym	x,0,5,1,16
  5105                        	.sym	y,2,5,1,16
  5106                        	.sym	d,4,5,1,16
  Wed Nov 18 2020  8:27                                                Page 94


  5107                        	.sym	xc,4,5,6,16
  5108                        	.sym	yc,6,5,6,16
  5109                        	.sym	r,8,5,6,16
  5110                        	.sym	color,10,5,6,16
  5111 03:13E0: 64 09        	stz	<L264+x_1
  5112 03:13E2: A5 16        	lda	<L263+r_0
  5113 03:13E4: 85 0B        	sta	<L264+y_1
  5114 03:13E6: A5 16        	lda	<L263+r_0
  5115 03:13E8: 0A           	asl	A
  5116 03:13E9: 85 01        	sta	<R0
  5117 03:13EB: 38           	sec
  5118 03:13EC: A9 03 00     	lda	#$3
  5119 03:13EF: E5 01        	sbc	<R0
  5120 03:13F1: 85 0D        	sta	<L264+d_1
  5121                        	.line	587
  5122 03:13F3: D4 18        	pei	<L263+color_0
  5123 03:13F5: D4 0B        	pei	<L264+y_1
  5124 03:13F7: D4 09        	pei	<L264+x_1
  5125 03:13F9: D4 14        	pei	<L263+yc_0
  5126 03:13FB: D4 12        	pei	<L263+xc_0
  5127 03:13FD: 22 07 11 03  	jsl	~~k_draw_filled_segments
  5128                        ;	
  5129                        ;    while (y >= x) 
  5130                        	.line	589
  5131                        L10033:
  5132 03:1401: 38           	sec
  5133 03:1402: A5 0B        	lda	<L264+y_1
  5134 03:1404: E5 09        	sbc	<L264+x_1
  5135 03:1406: 70 03        	bvs	L266
  5136 03:1408: 49 00 80     	eor	#$8000
  5137                        L266:
  5138 03:140B: 30 03        	bmi	L267
  5139 03:140D: 82 59 00     	brl	L10034
  5140                        L267:
  5141                        ;    { 
  5142                        	.line	590
  5143                        ;        // for each pixel we will 
  5144                        ;        // draw all eight pixels 
  5145                        ;          
  5146                        ;        x++; 
  5147                        	.line	594
  5148 03:1410: E6 09        	inc	<L264+x_1
  5149                        ;  
  5150                        ;        // check for decision parameter 
  5151                        ;        // and correspondingly  
  5152                        ;        // update d, x, y 
  5153                        ;        if (d > 0) 
  5154                        	.line	599
  5155                        ;        { 
  5156 03:1412: 38           	sec
  5157 03:1413: A9 00 00     	lda	#$0
  5158 03:1416: E5 0D        	sbc	<L264+d_1
  5159 03:1418: 70 03        	bvs	L268
  5160 03:141A: 49 00 80     	eor	#$8000
  5161                        L268:
  5162 03:141D: 10 03        	bpl	L269
  5163 03:141F: 82 21 00     	brl	L10035
  5164                        L269:
  Wed Nov 18 2020  8:27                                                Page 95


  5165                        	.line	600
  5166                        ;            y--;  
  5167                        	.line	601
  5168 03:1422: C6 0B        	dec	<L264+y_1
  5169                        ;            d = d + 4 * (x - y) + 10; 
  5170                        	.line	602
  5171 03:1424: 38           	sec
  5172 03:1425: A5 09        	lda	<L264+x_1
  5173 03:1427: E5 0B        	sbc	<L264+y_1
  5174 03:1429: 85 05        	sta	<R1
  5175 03:142B: A5 05        	lda	<R1
  5176 03:142D: 0A           	asl	A
  5177 03:142E: 0A           	asl	A
  5178 03:142F: 85 01        	sta	<R0
  5179 03:1431: 18           	clc
  5180 03:1432: A5 01        	lda	<R0
  5181 03:1434: 65 0D        	adc	<L264+d_1
  5182 03:1436: 85 05        	sta	<R1
  5183 03:1438: 18           	clc
  5184 03:1439: A9 0A 00     	lda	#$a
  5185 03:143C: 65 05        	adc	<R1
  5186 03:143E: 85 0D        	sta	<L264+d_1
  5187                        ;        } 
  5188                        	.line	603
  5189                        ;        else
  5190 03:1440: 82 15 00     	brl	L10036
  5191                        L10035:
  5192                        ;            d = d + 4 * x + 6; 
  5193                        	.line	605
  5194 03:1443: A5 09        	lda	<L264+x_1
  5195 03:1445: 0A           	asl	A
  5196 03:1446: 0A           	asl	A
  5197 03:1447: 85 01        	sta	<R0
  5198 03:1449: 18           	clc
  5199 03:144A: A5 01        	lda	<R0
  5200 03:144C: 65 0D        	adc	<L264+d_1
  5201 03:144E: 85 05        	sta	<R1
  5202 03:1450: 18           	clc
  5203 03:1451: A9 06 00     	lda	#$6
  5204 03:1454: 65 05        	adc	<R1
  5205 03:1456: 85 0D        	sta	<L264+d_1
  5206                        L10036:
  5207                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  5208                        	.line	606
  5209 03:1458: D4 18        	pei	<L263+color_0
  5210 03:145A: D4 0B        	pei	<L264+y_1
  5211 03:145C: D4 09        	pei	<L264+x_1
  5212 03:145E: D4 14        	pei	<L263+yc_0
  5213 03:1460: D4 12        	pei	<L263+xc_0
  5214 03:1462: 22 07 11 03  	jsl	~~k_draw_filled_segments
  5215                        ;       
  5216                        ;    } 
  5217                        	.line	608
  5218 03:1466: 82 98 FF     	brl	L10033
  5219                        L10034:
  5220                        ;} 
  5221                        	.line	609
  Wed Nov 18 2020  8:27                                                Page 96


  5222                        L270:
  5223 03:1469: A5 10        	lda	<L263+2
  5224 03:146B: 85 18        	sta	<L263+2+8
  5225 03:146D: A5 0F        	lda	<L263+1
  5226 03:146F: 85 17        	sta	<L263+1+8
  5227 03:1471: 2B           	pld
  5228 03:1472: 3B           	tsc
  5229 03:1473: 18           	clc
  5230 03:1474: 69 16 00     	adc	#L263+8
  5231 03:1477: 1B           	tcs
  5232 03:1478: 6B           	rtl
  5233                        	.endblock	609
  5234             0000000E   L263	equ	14
  5235             00000009   L264	equ	9
  5236 03:1479:              	ends
  5237                        	efunc
  5238                        	.endfunc	609,9,14
  5239                        	.line	609
  5240                        ;
  5241                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color) 
  5242                        ;{
  5243                        	.line	611
  5244                        	.line	612
  5245                        	GUI
  5246                        	xdef	~~k_draw_line
  5247                        	func
  5248                        	.function	612
  5249                        ~~k_draw_line:
  5250                        	longa	on
  5251                        	longi	on
  5252 03:1479: 3B           	tsc
  5253 03:147A: 38           	sec
  5254 03:147B: E9 14 00     	sbc	#L271
  5255 03:147E: 1B           	tcs
  5256 03:147F: 0B           	phd
  5257 03:1480: 5B           	tcd
  5258             00000004   x0_0	set	4
  5259             00000006   y0_0	set	6
  5260             00000008   x1_0	set	8
  5261             0000000A   y1_0	set	10
  5262             0000000C   color_0	set	12
  5263                        	.block	612
  5264                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  5265                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  5266                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  5267                        ;
  5268                        ;	for(;;)
  5269             00000000   dx_1	set	0
  5270             00000002   sx_1	set	2
  5271             00000004   dy_1	set	4
  5272             00000006   sy_1	set	6
  5273             00000008   err_1	set	8
  5274             0000000A   e2_1	set	10
  5275                        	.sym	dx,0,5,1,16
  5276                        	.sym	sx,2,5,1,16
  5277                        	.sym	dy,4,5,1,16
  Wed Nov 18 2020  8:27                                                Page 97


  5278                        	.sym	sy,6,5,1,16
  5279                        	.sym	err,8,5,1,16
  5280                        	.sym	e2,10,5,1,16
  5281                        	.sym	x0,4,5,6,16
  5282                        	.sym	y0,6,5,6,16
  5283                        	.sym	x1,8,5,6,16
  5284                        	.sym	y1,10,5,6,16
  5285                        	.sym	color,12,5,6,16
  5286 03:1481: 38           	sec
  5287 03:1482: A5 1C        	lda	<L271+x1_0
  5288 03:1484: E5 18        	sbc	<L271+x0_0
  5289 03:1486: 48           	pha
  5290 03:1487: 22 xx xx xx  	jsl	~~abs
  5291 03:148B: 85 09        	sta	<L272+dx_1
  5292 03:148D: 38           	sec
  5293 03:148E: A5 18        	lda	<L271+x0_0
  5294 03:1490: E5 1C        	sbc	<L271+x1_0
  5295 03:1492: 70 03        	bvs	L275
  5296 03:1494: 49 00 80     	eor	#$8000
  5297                        L275:
  5298 03:1497: 10 03        	bpl	L276
  5299 03:1499: 82 05 00     	brl	L274
  5300                        L276:
  5301 03:149C: A9 01 00     	lda	#$1
  5302 03:149F: 80 03        	bra	L277
  5303                        L274:
  5304 03:14A1: A9 FF FF     	lda	#$ffff
  5305                        L277:
  5306 03:14A4: 85 0B        	sta	<L272+sx_1
  5307 03:14A6: 38           	sec
  5308 03:14A7: A5 1E        	lda	<L271+y1_0
  5309 03:14A9: E5 1A        	sbc	<L271+y0_0
  5310 03:14AB: 48           	pha
  5311 03:14AC: 22 xx xx xx  	jsl	~~abs
  5312 03:14B0: 85 0D        	sta	<L272+dy_1
  5313 03:14B2: 38           	sec
  5314 03:14B3: A5 1A        	lda	<L271+y0_0
  5315 03:14B5: E5 1E        	sbc	<L271+y1_0
  5316 03:14B7: 70 03        	bvs	L279
  5317 03:14B9: 49 00 80     	eor	#$8000
  5318                        L279:
  5319 03:14BC: 10 03        	bpl	L280
  5320 03:14BE: 82 05 00     	brl	L278
  5321                        L280:
  5322 03:14C1: A9 01 00     	lda	#$1
  5323 03:14C4: 80 03        	bra	L281
  5324                        L278:
  5325 03:14C6: A9 FF FF     	lda	#$ffff
  5326                        L281:
  5327 03:14C9: 85 0F        	sta	<L272+sy_1
  5328 03:14CB: 38           	sec
  5329 03:14CC: A5 0D        	lda	<L272+dy_1
  5330 03:14CE: E5 09        	sbc	<L272+dx_1
  5331 03:14D0: 70 03        	bvs	L283
  5332 03:14D2: 49 00 80     	eor	#$8000
  5333                        L283:
  5334 03:14D5: 10 03        	bpl	L284
  5335 03:14D7: 82 04 00     	brl	L282
  Wed Nov 18 2020  8:27                                                Page 98


  5336                        L284:
  5337 03:14DA: A5 09        	lda	<L272+dx_1
  5338 03:14DC: 80 0A        	bra	L285
  5339                        L282:
  5340 03:14DE: 38           	sec
  5341 03:14DF: A9 00 00     	lda	#$0
  5342 03:14E2: E5 0D        	sbc	<L272+dy_1
  5343 03:14E4: 85 01        	sta	<R0
  5344 03:14E6: A5 01        	lda	<R0
  5345                        L285:
  5346 03:14E8: 85 01        	sta	<R0
  5347 03:14EA: A5 01        	lda	<R0
  5348 03:14EC: A2 02 00     	ldx	#<$2
  5349                        	xref	~~~div
  5350 03:14EF: 22 xx xx xx  	jsl	~~~div
  5351 03:14F3: 85 11        	sta	<L272+err_1
  5352                        	.line	617
  5353                        L10039:
  5354                        ;	{
  5355                        	.line	618
  5356                        ;		k_draw_pixel(x0,y0,color);
  5357                        	.line	619
  5358 03:14F5: D4 20        	pei	<L271+color_0
  5359 03:14F7: A0 00 00     	ldy	#$0
  5360 03:14FA: A5 1A        	lda	<L271+y0_0
  5361 03:14FC: 10 01        	bpl	L286
  5362 03:14FE: 88           	dey
  5363                        L286:
  5364 03:14FF: 85 01        	sta	<R0
  5365 03:1501: 84 03        	sty	<R0+2
  5366 03:1503: D4 03        	pei	<R0+2
  5367 03:1505: D4 01        	pei	<R0
  5368 03:1507: A0 00 00     	ldy	#$0
  5369 03:150A: A5 18        	lda	<L271+x0_0
  5370 03:150C: 10 01        	bpl	L287
  5371 03:150E: 88           	dey
  5372                        L287:
  5373 03:150F: 85 05        	sta	<R1
  5374 03:1511: 84 07        	sty	<R1+2
  5375 03:1513: D4 07        	pei	<R1+2
  5376 03:1515: D4 05        	pei	<R1
  5377 03:1517: 22 77 0C 03  	jsl	~~k_draw_pixel
  5378                        ;		if (x0==x1 && y0==y1) break;
  5379                        	.line	620
  5380 03:151B: A5 18        	lda	<L271+x0_0
  5381 03:151D: C5 1C        	cmp	<L271+x1_0
  5382 03:151F: F0 03        	beq	L289
  5383 03:1521: 82 09 00     	brl	L288
  5384                        L289:
  5385 03:1524: A5 1A        	lda	<L271+y0_0
  5386 03:1526: C5 1E        	cmp	<L271+y1_0
  5387 03:1528: D0 03        	bne	L290
  5388 03:152A: 82 49 00     	brl	L10038
  5389                        L290:
  5390                        L288:
  5391                        ;		e2 = err;
  5392                        	.line	621
  5393 03:152D: A5 11        	lda	<L272+err_1
  Wed Nov 18 2020  8:27                                                Page 99


  5394 03:152F: 85 13        	sta	<L272+e2_1
  5395                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  5396                        	.line	622
  5397 03:1531: 38           	sec
  5398 03:1532: A9 00 00     	lda	#$0
  5399 03:1535: E5 09        	sbc	<L272+dx_1
  5400 03:1537: 85 01        	sta	<R0
  5401 03:1539: 38           	sec
  5402 03:153A: A5 01        	lda	<R0
  5403 03:153C: E5 13        	sbc	<L272+e2_1
  5404 03:153E: 70 03        	bvs	L291
  5405 03:1540: 49 00 80     	eor	#$8000
  5406                        L291:
  5407 03:1543: 10 03        	bpl	L292
  5408 03:1545: 82 0E 00     	brl	L10040
  5409                        L292:
  5410                        	.line	622
  5411                        	.line	622
  5412 03:1548: 38           	sec
  5413 03:1549: A5 11        	lda	<L272+err_1
  5414 03:154B: E5 0D        	sbc	<L272+dy_1
  5415 03:154D: 85 11        	sta	<L272+err_1
  5416                        	.line	622
  5417 03:154F: 18           	clc
  5418 03:1550: A5 18        	lda	<L271+x0_0
  5419 03:1552: 65 0B        	adc	<L272+sx_1
  5420 03:1554: 85 18        	sta	<L271+x0_0
  5421                        	.line	622
  5422                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  5423                        L10040:
  5424                        	.line	623
  5425 03:1556: 38           	sec
  5426 03:1557: A5 13        	lda	<L272+e2_1
  5427 03:1559: E5 0D        	sbc	<L272+dy_1
  5428 03:155B: 70 03        	bvs	L293
  5429 03:155D: 49 00 80     	eor	#$8000
  5430                        L293:
  5431 03:1560: 10 03        	bpl	L294
  5432 03:1562: 82 0E 00     	brl	L10041
  5433                        L294:
  5434                        	.line	623
  5435                        	.line	623
  5436 03:1565: 18           	clc
  5437 03:1566: A5 11        	lda	<L272+err_1
  5438 03:1568: 65 09        	adc	<L272+dx_1
  5439 03:156A: 85 11        	sta	<L272+err_1
  5440                        	.line	623
  5441 03:156C: 18           	clc
  5442 03:156D: A5 1A        	lda	<L271+y0_0
  5443 03:156F: 65 0F        	adc	<L272+sy_1
  5444 03:1571: 85 1A        	sta	<L271+y0_0
  5445                        	.line	623
  5446                        ;	}
  5447                        L10041:
  5448                        	.line	624
  5449                        L10037:
  5450 03:1573: 82 7F FF     	brl	L10039
  5451                        L10038:
  Wed Nov 18 2020  8:27                                                Page 100


  5452                        ;}
  5453                        	.line	625
  5454                        L295:
  5455 03:1576: A5 16        	lda	<L271+2
  5456 03:1578: 85 20        	sta	<L271+2+10
  5457 03:157A: A5 15        	lda	<L271+1
  5458 03:157C: 85 1F        	sta	<L271+1+10
  5459 03:157E: 2B           	pld
  5460 03:157F: 3B           	tsc
  5461 03:1580: 18           	clc
  5462 03:1581: 69 1E 00     	adc	#L271+10
  5463 03:1584: 1B           	tcs
  5464 03:1585: 6B           	rtl
  5465                        	.endblock	625
  5466             00000014   L271	equ	20
  5467             00000009   L272	equ	9
  5468 03:1586:              	ends
  5469                        	efunc
  5470                        	.endfunc	625,9,20
  5471                        	.line	625
  5472                        ;
  5473                        ;void k_draw_rect_slow(int left,int top, int right
                    , int bottom, char color)
  5474                        ;{
  5475                        	.line	627
  5476                        	.line	628
  5477                        	GUI
  5478                        	xdef	~~k_draw_rect_slow
  5479                        	func
  5480                        	.function	628
  5481                        ~~k_draw_rect_slow:
  5482                        	longa	on
  5483                        	longi	on
  5484 03:1586: 3B           	tsc
  5485 03:1587: 38           	sec
  5486 03:1588: E9 00 00     	sbc	#L296
  5487 03:158B: 1B           	tcs
  5488 03:158C: 0B           	phd
  5489 03:158D: 5B           	tcd
  5490             00000004   left_0	set	4
  5491             00000006   top_0	set	6
  5492             00000008   right_0	set	8
  5493             0000000A   bottom_0	set	10
  5494             0000000C   color_0	set	12
  5495                        	.block	628
  5496                        ;	k_draw_line(left,top,right,top,color);
  5497                        	.sym	left,4,5,6,16
  5498                        	.sym	top,6,5,6,16
  5499                        	.sym	right,8,5,6,16
  5500                        	.sym	bottom,10,5,6,16
  5501                        	.sym	color,12,14,6,8
  5502                        	.line	629
  5503 03:158E: A5 0C        	lda	<L296+color_0
  5504 03:1590: 29 FF 00     	and	#$ff
  5505 03:1593: 48           	pha
  5506 03:1594: D4 06        	pei	<L296+top_0
  5507 03:1596: D4 08        	pei	<L296+right_0
  5508 03:1598: D4 06        	pei	<L296+top_0
  Wed Nov 18 2020  8:27                                                Page 101


  5509 03:159A: D4 04        	pei	<L296+left_0
  5510 03:159C: 22 79 14 03  	jsl	~~k_draw_line
  5511                        ;	k_draw_line(left,top,left,bottom,color);
  5512                        	.line	630
  5513 03:15A0: A5 0C        	lda	<L296+color_0
  5514 03:15A2: 29 FF 00     	and	#$ff
  5515 03:15A5: 48           	pha
  5516 03:15A6: D4 0A        	pei	<L296+bottom_0
  5517 03:15A8: D4 04        	pei	<L296+left_0
  5518 03:15AA: D4 06        	pei	<L296+top_0
  5519 03:15AC: D4 04        	pei	<L296+left_0
  5520 03:15AE: 22 79 14 03  	jsl	~~k_draw_line
  5521                        ;	k_draw_line(right,top,right,bottom,color);
  5522                        	.line	631
  5523 03:15B2: A5 0C        	lda	<L296+color_0
  5524 03:15B4: 29 FF 00     	and	#$ff
  5525 03:15B7: 48           	pha
  5526 03:15B8: D4 0A        	pei	<L296+bottom_0
  5527 03:15BA: D4 08        	pei	<L296+right_0
  5528 03:15BC: D4 06        	pei	<L296+top_0
  5529 03:15BE: D4 08        	pei	<L296+right_0
  5530 03:15C0: 22 79 14 03  	jsl	~~k_draw_line
  5531                        ;	k_draw_line(left,bottom,right,bottom,color);
  5532                        	.line	632
  5533 03:15C4: A5 0C        	lda	<L296+color_0
  5534 03:15C6: 29 FF 00     	and	#$ff
  5535 03:15C9: 48           	pha
  5536 03:15CA: D4 0A        	pei	<L296+bottom_0
  5537 03:15CC: D4 08        	pei	<L296+right_0
  5538 03:15CE: D4 0A        	pei	<L296+bottom_0
  5539 03:15D0: D4 04        	pei	<L296+left_0
  5540 03:15D2: 22 79 14 03  	jsl	~~k_draw_line
  5541                        ;}
  5542                        	.line	633
  5543                        L299:
  5544 03:15D6: A5 02        	lda	<L296+2
  5545 03:15D8: 85 0C        	sta	<L296+2+10
  5546 03:15DA: A5 01        	lda	<L296+1
  5547 03:15DC: 85 0B        	sta	<L296+1+10
  5548 03:15DE: 2B           	pld
  5549 03:15DF: 3B           	tsc
  5550 03:15E0: 18           	clc
  5551 03:15E1: 69 0A 00     	adc	#L296+10
  5552 03:15E4: 1B           	tcs
  5553 03:15E5: 6B           	rtl
  5554                        	.endblock	633
  5555             00000000   L296	equ	0
  5556             00000001   L297	equ	1
  5557 03:15E6:              	ends
  5558                        	efunc
  5559                        	.endfunc	633,1,0
  5560                        	.line	633
  5561                        ;
  5562                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  5563                        ;{
  5564                        	.line	635
  5565                        	.line	636
  Wed Nov 18 2020  8:27                                                Page 102


  5566                        	GUI
  5567                        	xdef	~~k_draw_filled_rect_slow
  5568                        	func
  5569                        	.function	636
  5570                        ~~k_draw_filled_rect_slow:
  5571                        	longa	on
  5572                        	longi	on
  5573 03:15E6: 3B           	tsc
  5574 03:15E7: 38           	sec
  5575 03:15E8: E9 00 00     	sbc	#L300
  5576 03:15EB: 1B           	tcs
  5577 03:15EC: 0B           	phd
  5578 03:15ED: 5B           	tcd
  5579             00000004   left_0	set	4
  5580             00000006   top_0	set	6
  5581             00000008   right_0	set	8
  5582             0000000A   bottom_0	set	10
  5583             0000000C   color_0	set	12
  5584                        	.block	636
  5585                        ;	
  5586                        ;}
  5587                        	.sym	left,4,5,6,16
  5588                        	.sym	top,6,5,6,16
  5589                        	.sym	right,8,5,6,16
  5590                        	.sym	bottom,10,5,6,16
  5591                        	.sym	color,12,14,6,8
  5592                        	.line	638
  5593                        L303:
  5594 03:15EE: A5 02        	lda	<L300+2
  5595 03:15F0: 85 0C        	sta	<L300+2+10
  5596 03:15F2: A5 01        	lda	<L300+1
  5597 03:15F4: 85 0B        	sta	<L300+1+10
  5598 03:15F6: 2B           	pld
  5599 03:15F7: 3B           	tsc
  5600 03:15F8: 18           	clc
  5601 03:15F9: 69 0A 00     	adc	#L300+10
  5602 03:15FC: 1B           	tcs
  5603 03:15FD: 6B           	rtl
  5604                        	.endblock	638
  5605             00000000   L300	equ	0
  5606             00000001   L301	equ	1
  5607 03:15FE:              	ends
  5608                        	efunc
  5609                        	.endfunc	638,1,0
  5610                        	.line	638
  5611                        ;
  5612                        ;
  5613                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  5614                        ;{
  5615                        	.line	641
  5616                        	.line	642
  5617                        	GUI
  5618                        	xdef	~~k_put_draw_text
  5619                        	func
  5620                        	.function	642
  5621                        ~~k_put_draw_text:
  5622                        	longa	on
  Wed Nov 18 2020  8:27                                                Page 103


  5623                        	longi	on
  5624 03:15FE: 3B           	tsc
  5625 03:15FF: 38           	sec
  5626 03:1600: E9 00 00     	sbc	#L304
  5627 03:1603: 1B           	tcs
  5628 03:1604: 0B           	phd
  5629 03:1605: 5B           	tcd
  5630             00000004   col_0	set	4
  5631             00000006   row_0	set	6
  5632             00000008   text_0	set	8
  5633             0000000C   color_0	set	12
  5634             0000000E   bcolor_0	set	14
  5635                        	.block	642
  5636                        ;	return k_draw_text(text, row, col, color);
  5637                        	.sym	col,4,5,6,16
  5638                        	.sym	row,6,5,6,16
  5639                        	.sym	text,8,142,6,32
  5640                        	.sym	color,12,14,6,8
  5641                        	.sym	bcolor,14,14,6,8
  5642                        	.line	643
  5643 03:1606: D4 0C        	pei	<L304+color_0
  5644 03:1608: D4 04        	pei	<L304+col_0
  5645 03:160A: D4 06        	pei	<L304+row_0
  5646 03:160C: D4 0A        	pei	<L304+text_0+2
  5647 03:160E: D4 08        	pei	<L304+text_0
  5648 03:1610: 22 26 16 03  	jsl	~~k_draw_text
  5649                        L307:
  5650 03:1614: A8           	tay
  5651 03:1615: A5 02        	lda	<L304+2
  5652 03:1617: 85 0E        	sta	<L304+2+12
  5653 03:1619: A5 01        	lda	<L304+1
  5654 03:161B: 85 0D        	sta	<L304+1+12
  5655 03:161D: 2B           	pld
  5656 03:161E: 3B           	tsc
  5657 03:161F: 18           	clc
  5658 03:1620: 69 0C 00     	adc	#L304+12
  5659 03:1623: 1B           	tcs
  5660 03:1624: 98           	tya
  5661 03:1625: 6B           	rtl
  5662                        ;}
  5663                        	.line	644
  5664                        	.endblock	644
  5665             00000000   L304	equ	0
  5666             00000001   L305	equ	1
  5667 03:1626:              	ends
  5668                        	efunc
  5669                        	.endfunc	644,1,0
  5670                        	.line	644
  5671                        ;
  5672                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  5673                        ;{
  5674                        	.line	646
  5675                        	.line	647
  5676                        	GUI
  5677                        	xdef	~~k_draw_text
  5678                        	func
  5679                        	.function	647
  Wed Nov 18 2020  8:27                                                Page 104


  5680                        ~~k_draw_text:
  5681                        	longa	on
  5682                        	longi	on
  5683 03:1626: 3B           	tsc
  5684 03:1627: 38           	sec
  5685 03:1628: E9 04 00     	sbc	#L308
  5686 03:162B: 1B           	tcs
  5687 03:162C: 0B           	phd
  5688 03:162D: 5B           	tcd
  5689             00000004   text_0	set	4
  5690             00000008   row_0	set	8
  5691             0000000A   col_0	set	10
  5692             0000000C   color_0	set	12
  5693                        	.block	647
  5694                        ;	char FAR * ptr = (text);
  5695                        ;	while(*ptr)
  5696             00000000   ptr_1	set	0
  5697                        	.sym	ptr,0,142,1,32
  5698                        	.sym	text,4,142,6,32
  5699                        	.sym	row,8,5,6,16
  5700                        	.sym	col,10,5,6,16
  5701                        	.sym	color,12,14,6,8
  5702 03:162E: A5 08        	lda	<L308+text_0
  5703 03:1630: 85 01        	sta	<L309+ptr_1
  5704 03:1632: A5 0A        	lda	<L308+text_0+2
  5705 03:1634: 85 03        	sta	<L309+ptr_1+2
  5706                        	.line	649
  5707                        L10042:
  5708 03:1636: A7 01        	lda	[<L309+ptr_1]
  5709 03:1638: 29 FF 00     	and	#$ff
  5710 03:163B: D0 03        	bne	L311
  5711 03:163D: 82 18 00     	brl	L10043
  5712                        L311:
  5713                        ;	{
  5714                        	.line	650
  5715                        ;		k_put_font(*ptr,col,row,color);
  5716                        	.line	651
  5717 03:1640: D4 10        	pei	<L308+color_0
  5718 03:1642: D4 0C        	pei	<L308+row_0
  5719 03:1644: D4 0E        	pei	<L308+col_0
  5720 03:1646: A7 01        	lda	[<L309+ptr_1]
  5721 03:1648: 48           	pha
  5722 03:1649: 22 C3 21 03  	jsl	~~k_put_font
  5723                        ;		col++;
  5724                        	.line	652
  5725 03:164D: E6 0E        	inc	<L308+col_0
  5726                        ;		ptr++;
  5727                        	.line	653
  5728 03:164F: E6 01        	inc	<L309+ptr_1
  5729 03:1651: D0 02        	bne	L312
  5730 03:1653: E6 03        	inc	<L309+ptr_1+2
  5731                        L312:
  5732                        ;	}
  5733                        	.line	654
  5734 03:1655: 82 DE FF     	brl	L10042
  5735                        L10043:
  5736                        ;	
  5737                        ;	return col;
  Wed Nov 18 2020  8:27                                                Page 105


  5738                        	.line	656
  5739 03:1658: A5 0E        	lda	<L308+col_0
  5740                        L313:
  5741 03:165A: A8           	tay
  5742 03:165B: A5 06        	lda	<L308+2
  5743 03:165D: 85 10        	sta	<L308+2+10
  5744 03:165F: A5 05        	lda	<L308+1
  5745 03:1661: 85 0F        	sta	<L308+1+10
  5746 03:1663: 2B           	pld
  5747 03:1664: 3B           	tsc
  5748 03:1665: 18           	clc
  5749 03:1666: 69 0E 00     	adc	#L308+10
  5750 03:1669: 1B           	tcs
  5751 03:166A: 98           	tya
  5752 03:166B: 6B           	rtl
  5753                        ;}
  5754                        	.line	657
  5755                        	.endblock	657
  5756             00000004   L308	equ	4
  5757             00000001   L309	equ	1
  5758 03:166C:              	ends
  5759                        	efunc
  5760                        	.endfunc	657,1,4
  5761                        	.line	657
  5762                        ;
  5763                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  5764                        ;{
  5765                        	.line	659
  5766                        	.line	660
  5767                        	GUI
  5768                        	xdef	~~k_draw_text_point
  5769                        	func
  5770                        	.function	660
  5771                        ~~k_draw_text_point:
  5772                        	longa	on
  5773                        	longi	on
  5774 03:166C: 3B           	tsc
  5775 03:166D: 38           	sec
  5776 03:166E: E9 0E 00     	sbc	#L314
  5777 03:1671: 1B           	tcs
  5778 03:1672: 0B           	phd
  5779 03:1673: 5B           	tcd
  5780             00000004   text_0	set	4
  5781             00000008   x_0	set	8
  5782             0000000A   y_0	set	10
  5783             0000000C   color_0	set	12
  5784                        	.block	660
  5785                        ;	int col = 0;
  5786                        ;	int width = 0;
  5787                        ;	int height = 0;
  5788                        ;
  5789                        ;	LPCSTR ptr = (text);
  5790                        ;	
  5791                        ;	width  = Bm437ToshibaLCD8x8[0];
  5792             00000000   col_1	set	0
  5793             00000002   width_1	set	2
  5794             00000004   height_1	set	4
  Wed Nov 18 2020  8:27                                                Page 106


  5795             00000006   ptr_1	set	6
  5796                        	.sym	col,0,5,1,16
  5797                        	.sym	width,2,5,1,16
  5798                        	.sym	height,4,5,1,16
  5799                        	.sym	ptr,6,142,1,32
  5800                        	.sym	text,4,142,6,32
  5801                        	.sym	x,8,5,6,16
  5802                        	.sym	y,10,5,6,16
  5803                        	.sym	color,12,14,6,8
  5804 03:1674: 64 05        	stz	<L315+col_1
  5805 03:1676: 64 07        	stz	<L315+width_1
  5806 03:1678: 64 09        	stz	<L315+height_1
  5807 03:167A: A5 12        	lda	<L314+text_0
  5808 03:167C: 85 0B        	sta	<L315+ptr_1
  5809 03:167E: A5 14        	lda	<L314+text_0+2
  5810 03:1680: 85 0D        	sta	<L315+ptr_1+2
  5811                        	.line	667
  5812 03:1682: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  5813 03:1686: 29 FF 00     	and	#$ff
  5814 03:1689: 85 07        	sta	<L315+width_1
  5815                        ;	height = Bm437ToshibaLCD8x8[1];
  5816                        	.line	668
  5817 03:168B: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  5818 03:168F: 29 FF 00     	and	#$ff
  5819 03:1692: 85 09        	sta	<L315+height_1
  5820                        ;
  5821                        ;
  5822                        ;	ptr = (text);
  5823                        	.line	671
  5824 03:1694: A5 12        	lda	<L314+text_0
  5825 03:1696: 85 0B        	sta	<L315+ptr_1
  5826 03:1698: A5 14        	lda	<L314+text_0+2
  5827 03:169A: 85 0D        	sta	<L315+ptr_1+2
  5828                        ;	while(*ptr)
  5829                        	.line	672
  5830                        L10044:
  5831 03:169C: A7 0B        	lda	[<L315+ptr_1]
  5832 03:169E: 29 FF 00     	and	#$ff
  5833 03:16A1: D0 03        	bne	L317
  5834 03:16A3: 82 36 00     	brl	L10045
  5835                        L317:
  5836                        ;	{
  5837                        	.line	673
  5838                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  5839                        ;
  5840                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  5841                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  5842                        ;
  5843                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  5844                        	.line	679
  5845 03:16A6: D4 1A        	pei	<L314+color_0
  5846 03:16A8: D4 09        	pei	<L315+height_1
  5847 03:16AA: D4 07        	pei	<L315+width_1
  5848 03:16AC: D4 18        	pei	<L314+y_0
  5849 03:16AE: D4 16        	pei	<L314+x_0
  Wed Nov 18 2020  8:27                                                Page 107


  5850 03:16B0: A7 0B        	lda	[<L315+ptr_1]
  5851 03:16B2: 48           	pha
  5852 03:16B3: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  5853 03:16B6: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  5854 03:16B9: 22 BA 1C 03  	jsl	~~k_put_binary_variablefont_point
  5855 03:16BD: 85 01        	sta	<R0
  5856 03:16BF: 18           	clc
  5857 03:16C0: A5 01        	lda	<R0
  5858 03:16C2: 65 16        	adc	<L314+x_0
  5859 03:16C4: 85 16        	sta	<L314+x_0
  5860                        ;
  5861                        ;		ptr++;
  5862                        	.line	681
  5863 03:16C6: E6 0B        	inc	<L315+ptr_1
  5864 03:16C8: D0 02        	bne	L318
  5865 03:16CA: E6 0D        	inc	<L315+ptr_1+2
  5866                        L318:
  5867                        ;		col+=FONTW;
  5868                        	.line	682
  5869 03:16CC: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  5870 03:16D0: 85 01        	sta	<R0
  5871 03:16D2: 18           	clc
  5872 03:16D3: A5 01        	lda	<R0
  5873 03:16D5: 65 05        	adc	<L315+col_1
  5874 03:16D7: 85 05        	sta	<L315+col_1
  5875                        ;	}
  5876                        	.line	683
  5877 03:16D9: 82 C0 FF     	brl	L10044
  5878                        L10045:
  5879                        ;	
  5880                        ;	return col;
  5881                        	.line	685
  5882 03:16DC: A5 05        	lda	<L315+col_1
  5883                        L319:
  5884 03:16DE: A8           	tay
  5885 03:16DF: A5 10        	lda	<L314+2
  5886 03:16E1: 85 1A        	sta	<L314+2+10
  5887 03:16E3: A5 0F        	lda	<L314+1
  5888 03:16E5: 85 19        	sta	<L314+1+10
  5889 03:16E7: 2B           	pld
  5890 03:16E8: 3B           	tsc
  5891 03:16E9: 18           	clc
  5892 03:16EA: 69 18 00     	adc	#L314+10
  5893 03:16ED: 1B           	tcs
  5894 03:16EE: 98           	tya
  5895 03:16EF: 6B           	rtl
  5896                        ;}
  5897                        	.line	686
  5898                        	.endblock	686
  5899             0000000E   L314	equ	14
  5900             00000005   L315	equ	5
  5901 03:16F0:              	ends
  5902                        	efunc
  5903                        	.endfunc	686,5,14
  5904                        	.line	686
  5905                        ;
  5906                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
                    R charSet,int x,int y,char color)
  Wed Nov 18 2020  8:27                                                Page 108


  5907                        ;{
  5908                        	.line	688
  5909                        	.line	689
  5910                        	GUI
  5911                        	xdef	~~k_draw_text_point_with_font
  5912                        	func
  5913                        	.function	689
  5914                        ~~k_draw_text_point_with_font:
  5915                        	longa	on
  5916                        	longi	on
  5917 03:16F0: 3B           	tsc
  5918 03:16F1: 38           	sec
  5919 03:16F2: E9 12 00     	sbc	#L320
  5920 03:16F5: 1B           	tcs
  5921 03:16F6: 0B           	phd
  5922 03:16F7: 5B           	tcd
  5923             00000004   text_0	set	4
  5924             00000008   charSet_0	set	8
  5925             0000000C   x_0	set	12
  5926             0000000E   y_0	set	14
  5927             00000010   color_0	set	16
  5928                        	.block	689
  5929                        ;	int col = 0;
  5930                        ;	int width = 0;
  5931                        ;	int height = 0;
  5932                        ;
  5933                        ;	LPCHAR ptr = NULL;
  5934                        ;
  5935                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  5936                        ;
  5937                        ;	width  = charSet[0];
  5938             00000000   col_1	set	0
  5939             00000002   width_1	set	2
  5940             00000004   height_1	set	4
  5941             00000006   ptr_1	set	6
  5942                        	.sym	col,0,5,1,16
  5943                        	.sym	width,2,5,1,16
  5944                        	.sym	height,4,5,1,16
  5945                        	.sym	ptr,6,142,1,32
  5946                        	.sym	text,4,142,6,32
  5947                        	.sym	charSet,8,142,6,32
  5948                        	.sym	x,12,5,6,16
  5949                        	.sym	y,14,5,6,16
  5950                        	.sym	color,16,14,6,8
  5951 03:16F8: 64 09        	stz	<L321+col_1
  5952 03:16FA: 64 0B        	stz	<L321+width_1
  5953 03:16FC: 64 0D        	stz	<L321+height_1
  5954 03:16FE: 64 0F        	stz	<L321+ptr_1
  5955 03:1700: 64 11        	stz	<L321+ptr_1+2
  5956                        	.line	698
  5957 03:1702: A7 1A        	lda	[<L320+charSet_0]
  5958 03:1704: 29 FF 00     	and	#$ff
  5959 03:1707: 85 0B        	sta	<L321+width_1
  5960                        ;	height = charSet[1];
  5961                        	.line	699
  5962 03:1709: A0 01 00     	ldy	#$1
  5963 03:170C: B7 1A        	lda	[<L320+charSet_0],Y
  Wed Nov 18 2020  8:27                                                Page 109


  5964 03:170E: 29 FF 00     	and	#$ff
  5965 03:1711: 85 0D        	sta	<L321+height_1
  5966                        ;
  5967                        ;
  5968                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  5969                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  5970                        ;
  5971                        ;
  5972                        ;	ptr = (LPCHAR)(text);
  5973                        	.line	706
  5974 03:1713: A5 16        	lda	<L320+text_0
  5975 03:1715: 85 0F        	sta	<L321+ptr_1
  5976 03:1717: A5 18        	lda	<L320+text_0+2
  5977 03:1719: 85 11        	sta	<L321+ptr_1+2
  5978                        ;	while(*ptr)
  5979                        	.line	707
  5980                        L10046:
  5981 03:171B: A7 0F        	lda	[<L321+ptr_1]
  5982 03:171D: 29 FF 00     	and	#$ff
  5983 03:1720: D0 03        	bne	L323
  5984 03:1722: 82 3E 00     	brl	L10047
  5985                        L323:
  5986                        ;	{
  5987                        	.line	708
  5988                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  5989                        ;
  5990                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
  5991                        	.line	711
  5992 03:1725: D4 22        	pei	<L320+color_0
  5993 03:1727: D4 0D        	pei	<L321+height_1
  5994 03:1729: D4 0B        	pei	<L321+width_1
  5995 03:172B: D4 20        	pei	<L320+y_0
  5996 03:172D: D4 1E        	pei	<L320+x_0
  5997 03:172F: A7 0F        	lda	[<L321+ptr_1]
  5998 03:1731: 48           	pha
  5999 03:1732: 18           	clc
  6000 03:1733: A9 02 00     	lda	#$2
  6001 03:1736: 65 1A        	adc	<L320+charSet_0
  6002 03:1738: 85 01        	sta	<R0
  6003 03:173A: A9 00 00     	lda	#$0
  6004 03:173D: 65 1C        	adc	<L320+charSet_0+2
  6005 03:173F: 85 03        	sta	<R0+2
  6006 03:1741: D4 03        	pei	<R0+2
  6007 03:1743: D4 01        	pei	<R0
  6008 03:1745: 22 BA 1C 03  	jsl	~~k_put_binary_variablefont_point
  6009 03:1749: 85 05        	sta	<R1
  6010 03:174B: 18           	clc
  6011 03:174C: A5 05        	lda	<R1
  6012 03:174E: 65 1E        	adc	<L320+x_0
  6013 03:1750: 85 1E        	sta	<L320+x_0
  6014                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  6015                        ;
  6016                        ;		ptr++;
  6017                        	.line	714
  Wed Nov 18 2020  8:27                                                Page 110


  6018 03:1752: E6 0F        	inc	<L321+ptr_1
  6019 03:1754: D0 02        	bne	L324
  6020 03:1756: E6 11        	inc	<L321+ptr_1+2
  6021                        L324:
  6022                        ;		col+=8;
  6023                        	.line	715
  6024 03:1758: 18           	clc
  6025 03:1759: A9 08 00     	lda	#$8
  6026 03:175C: 65 09        	adc	<L321+col_1
  6027 03:175E: 85 09        	sta	<L321+col_1
  6028                        ;	}
  6029                        	.line	716
  6030 03:1760: 82 B8 FF     	brl	L10046
  6031                        L10047:
  6032                        ;
  6033                        ;	return col;
  6034                        	.line	718
  6035 03:1763: A5 09        	lda	<L321+col_1
  6036                        L325:
  6037 03:1765: A8           	tay
  6038 03:1766: A5 14        	lda	<L320+2
  6039 03:1768: 85 22        	sta	<L320+2+14
  6040 03:176A: A5 13        	lda	<L320+1
  6041 03:176C: 85 21        	sta	<L320+1+14
  6042 03:176E: 2B           	pld
  6043 03:176F: 3B           	tsc
  6044 03:1770: 18           	clc
  6045 03:1771: 69 20 00     	adc	#L320+14
  6046 03:1774: 1B           	tcs
  6047 03:1775: 98           	tya
  6048 03:1776: 6B           	rtl
  6049                        ;}
  6050                        	.line	719
  6051                        	.endblock	719
  6052             00000012   L320	equ	18
  6053             00000009   L321	equ	9
  6054 03:1777:              	ends
  6055                        	efunc
  6056                        	.endfunc	719,9,18
  6057                        	.line	719
  6058                        ;
  6059                        ;
  6060                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
  6061                        ;{
  6062                        	.line	722
  6063                        	.line	723
  6064                        	GUI
  6065                        	xdef	~~k_draw_text_scaled
  6066                        	func
  6067                        	.function	723
  6068                        ~~k_draw_text_scaled:
  6069                        	longa	on
  6070                        	longi	on
  6071 03:1777: 3B           	tsc
  6072 03:1778: 38           	sec
  6073 03:1779: E9 04 00     	sbc	#L326
  6074 03:177C: 1B           	tcs
  Wed Nov 18 2020  8:27                                                Page 111


  6075 03:177D: 0B           	phd
  6076 03:177E: 5B           	tcd
  6077             00000004   text_0	set	4
  6078             00000008   row_0	set	8
  6079             0000000A   col_0	set	10
  6080             0000000C   color_0	set	12
  6081             0000000E   scale_0	set	14
  6082                        	.block	723
  6083                        ;	char FAR * ptr = (text);
  6084                        ;	while(*ptr)
  6085             00000000   ptr_1	set	0
  6086                        	.sym	ptr,0,142,1,32
  6087                        	.sym	text,4,142,6,32
  6088                        	.sym	row,8,5,6,16
  6089                        	.sym	col,10,5,6,16
  6090                        	.sym	color,12,14,6,8
  6091                        	.sym	scale,14,5,6,16
  6092 03:177F: A5 08        	lda	<L326+text_0
  6093 03:1781: 85 01        	sta	<L327+ptr_1
  6094 03:1783: A5 0A        	lda	<L326+text_0+2
  6095 03:1785: 85 03        	sta	<L327+ptr_1+2
  6096                        	.line	725
  6097                        L10048:
  6098 03:1787: A7 01        	lda	[<L327+ptr_1]
  6099 03:1789: 29 FF 00     	and	#$ff
  6100 03:178C: D0 03        	bne	L329
  6101 03:178E: 82 1A 00     	brl	L10049
  6102                        L329:
  6103                        ;	{
  6104                        	.line	726
  6105                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
  6106                        	.line	727
  6107 03:1791: D4 12        	pei	<L326+scale_0
  6108 03:1793: D4 10        	pei	<L326+color_0
  6109 03:1795: D4 0C        	pei	<L326+row_0
  6110 03:1797: D4 0E        	pei	<L326+col_0
  6111 03:1799: A7 01        	lda	[<L327+ptr_1]
  6112 03:179B: 48           	pha
  6113 03:179C: 22 58 23 03  	jsl	~~k_put_font_scaled
  6114                        ;		col++;
  6115                        	.line	728
  6116 03:17A0: E6 0E        	inc	<L326+col_0
  6117                        ;		ptr++;
  6118                        	.line	729
  6119 03:17A2: E6 01        	inc	<L327+ptr_1
  6120 03:17A4: D0 02        	bne	L330
  6121 03:17A6: E6 03        	inc	<L327+ptr_1+2
  6122                        L330:
  6123                        ;	}
  6124                        	.line	730
  6125 03:17A8: 82 DC FF     	brl	L10048
  6126                        L10049:
  6127                        ;	
  6128                        ;	return col;
  6129                        	.line	732
  6130 03:17AB: A5 0E        	lda	<L326+col_0
  6131                        L331:
  Wed Nov 18 2020  8:27                                                Page 112


  6132 03:17AD: A8           	tay
  6133 03:17AE: A5 06        	lda	<L326+2
  6134 03:17B0: 85 12        	sta	<L326+2+12
  6135 03:17B2: A5 05        	lda	<L326+1
  6136 03:17B4: 85 11        	sta	<L326+1+12
  6137 03:17B6: 2B           	pld
  6138 03:17B7: 3B           	tsc
  6139 03:17B8: 18           	clc
  6140 03:17B9: 69 10 00     	adc	#L326+12
  6141 03:17BC: 1B           	tcs
  6142 03:17BD: 98           	tya
  6143 03:17BE: 6B           	rtl
  6144                        ;}
  6145                        	.line	733
  6146                        	.endblock	733
  6147             00000004   L326	equ	4
  6148             00000001   L327	equ	1
  6149 03:17BF:              	ends
  6150                        	efunc
  6151                        	.endfunc	733,1,4
  6152                        	.line	733
  6153                        ;
  6154                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
  6155                        ;{
  6156                        	.line	735
  6157                        	.line	736
  6158                        	GUI
  6159                        	xdef	~~k_get_font_metrics
  6160                        	func
  6161                        	.function	736
  6162                        ~~k_get_font_metrics:
  6163                        	longa	on
  6164                        	longi	on
  6165 03:17BF: 3B           	tsc
  6166 03:17C0: 38           	sec
  6167 03:17C1: E9 00 00     	sbc	#L332
  6168 03:17C4: 1B           	tcs
  6169 03:17C5: 0B           	phd
  6170 03:17C6: 5B           	tcd
  6171             00000004   metric_0	set	4
  6172                        	.block	736
  6173                        ;	metric->width  = FONTW;
  6174                        	.sym	metric,4,138,6,32,29
  6175                        	.line	737
  6176 03:17C7: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  6177 03:17CB: 87 04        	sta	[<L332+metric_0]
  6178                        ;	metric->height = FONTH;
  6179                        	.line	738
  6180 03:17CD: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  6181 03:17D1: A0 02 00     	ldy	#$2
  6182 03:17D4: 97 04        	sta	[<L332+metric_0],Y
  6183                        ;	
  6184                        ;	return sizeof(FONTMETRIC);
  6185                        	.line	740
  6186 03:17D6: A9 04 00     	lda	#$4
  6187                        L335:
  6188 03:17D9: A8           	tay
  6189 03:17DA: A5 02        	lda	<L332+2
  Wed Nov 18 2020  8:27                                                Page 113


  6190 03:17DC: 85 06        	sta	<L332+2+4
  6191 03:17DE: A5 01        	lda	<L332+1
  6192 03:17E0: 85 05        	sta	<L332+1+4
  6193 03:17E2: 2B           	pld
  6194 03:17E3: 3B           	tsc
  6195 03:17E4: 18           	clc
  6196 03:17E5: 69 04 00     	adc	#L332+4
  6197 03:17E8: 1B           	tcs
  6198 03:17E9: 98           	tya
  6199 03:17EA: 6B           	rtl
  6200                        ;}
  6201                        	.line	741
  6202                        	.endblock	741
  6203             00000000   L332	equ	0
  6204             00000001   L333	equ	1
  6205 03:17EB:              	ends
  6206                        	efunc
  6207                        	.endfunc	741,1,0
  6208                        	.line	741
  6209                        ;
  6210                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
  6211                        ;{
  6212                        	.line	743
  6213                        	.line	744
  6214                        	GUI
  6215                        	xdef	~~k_put_font_point
  6216                        	func
  6217                        	.function	744
  6218                        ~~k_put_font_point:
  6219                        	longa	on
  6220                        	longi	on
  6221 03:17EB: 3B           	tsc
  6222 03:17EC: 38           	sec
  6223 03:17ED: E9 1D 00     	sbc	#L336
  6224 03:17F0: 1B           	tcs
  6225 03:17F1: 0B           	phd
  6226 03:17F2: 5B           	tcd
  6227             00000004   outChar_0	set	4
  6228             00000006   cx_0	set	6
  6229             00000008   cy_0	set	8
  6230             0000000A   color_0	set	10
  6231                        	.block	744
  6232                        ;	int x = 0;
  6233                        ;	int y = 0;
  6234                        ;	int textX = cx;
  6235                        ;	int textY = cy;
  6236                        ;
  6237                        ;	char FAR* img = NULL;//fontImg[ix];
  6238                        ;
  6239                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
  6240             00000000   x_1	set	0
  6241             00000002   y_1	set	2
  6242             00000004   textX_1	set	4
  6243             00000006   textY_1	set	6
  6244             00000008   img_1	set	8
  6245                        	.sym	x,0,5,1,16
  Wed Nov 18 2020  8:27                                                Page 114


  6246                        	.sym	y,2,5,1,16
  6247                        	.sym	textX,4,5,1,16
  6248                        	.sym	textY,6,5,1,16
  6249                        	.sym	img,8,142,1,32
  6250                        	.sym	outChar,4,14,6,8
  6251                        	.sym	cx,6,5,6,16
  6252                        	.sym	cy,8,5,6,16
  6253                        	.sym	color,10,14,6,8
  6254 03:17F3: 64 11        	stz	<L337+x_1
  6255 03:17F5: 64 13        	stz	<L337+y_1
  6256 03:17F7: A5 23        	lda	<L336+cx_0
  6257 03:17F9: 85 15        	sta	<L337+textX_1
  6258 03:17FB: A5 25        	lda	<L336+cy_0
  6259 03:17FD: 85 17        	sta	<L337+textY_1
  6260 03:17FF: 64 19        	stz	<L337+img_1
  6261 03:1801: 64 1B        	stz	<L337+img_1+2
  6262                        	.line	752
  6263 03:1803: A5 21        	lda	<L336+outChar_0
  6264 03:1805: 29 FF 00     	and	#$ff
  6265 03:1808: 48           	pha
  6266 03:1809: 22 xx xx xx  	jsl	~~toupper
  6267 03:180D: E2 20        	sep	#$20
  6268                        	longa	off
  6269 03:180F: 85 21        	sta	<L336+outChar_0
  6270 03:1811: C2 20        	rep	#$20
  6271                        	longa	on
  6272                        ;
  6273                        ;    if(outChar == 32)
  6274                        	.line	754
  6275                        ;	{
  6276 03:1813: E2 20        	sep	#$20
  6277                        	longa	off
  6278 03:1815: A5 21        	lda	<L336+outChar_0
  6279 03:1817: C9 20        	cmp	#<$20
  6280 03:1819: C2 20        	rep	#$20
  6281                        	longa	on
  6282 03:181B: F0 03        	beq	L339
  6283 03:181D: 82 07 00     	brl	L10050
  6284                        L339:
  6285                        	.line	755
  6286                        ;	   img = NULL;//fontSpace;
  6287                        	.line	756
  6288 03:1820: 64 19        	stz	<L337+img_1
  6289 03:1822: 64 1B        	stz	<L337+img_1+2
  6290                        ;    }
  6291                        	.line	757
  6292                        ;    else
  6293 03:1824: 82 5B 00     	brl	L10051
  6294                        L10050:
  6295                        ;	{
  6296                        	.line	759
  6297                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  6298                        	.line	760
  6299 03:1827: A5 21        	lda	<L336+outChar_0
  6300 03:1829: 29 FF 00     	and	#<$ff
  6301 03:182C: 85 09        	sta	<R2
  6302 03:182E: A0 00 00     	ldy	#$0
  Wed Nov 18 2020  8:27                                                Page 115


  6303 03:1831: A5 09        	lda	<R2
  6304 03:1833: 10 01        	bpl	L340
  6305 03:1835: 88           	dey
  6306                        L340:
  6307 03:1836: 85 09        	sta	<R2
  6308 03:1838: 84 0B        	sty	<R2+2
  6309 03:183A: D4 0B        	pei	<R2+2
  6310 03:183C: D4 09        	pei	<R2
  6311 03:183E: A9 01 00     	lda	#$1
  6312                        	xref	~~~lasl
  6313 03:1841: 22 xx xx xx  	jsl	~~~lasl
  6314 03:1845: 85 05        	sta	<R1
  6315 03:1847: 86 07        	stx	<R1+2
  6316 03:1849: 18           	clc
  6317 03:184A: A9 xx xx     	lda	#<~~characterROMMapping
  6318 03:184D: 65 05        	adc	<R1
  6319 03:184F: 85 0D        	sta	<R3
  6320 03:1851: A9 xx xx     	lda	#^~~characterROMMapping
  6321 03:1854: 65 07        	adc	<R1+2
  6322 03:1856: 85 0F        	sta	<R3+2
  6323 03:1858: A0 00 00     	ldy	#$0
  6324 03:185B: A7 0D        	lda	[<R3]
  6325 03:185D: 10 01        	bpl	L341
  6326 03:185F: 88           	dey
  6327                        L341:
  6328 03:1860: 85 05        	sta	<R1
  6329 03:1862: 84 07        	sty	<R1+2
  6330 03:1864: D4 07        	pei	<R1+2
  6331 03:1866: D4 05        	pei	<R1
  6332 03:1868: A9 06 00     	lda	#$6
  6333                        	xref	~~~lasl
  6334 03:186B: 22 xx xx xx  	jsl	~~~lasl
  6335 03:186F: 85 01        	sta	<R0
  6336 03:1871: 86 03        	stx	<R0+2
  6337 03:1873: 18           	clc
  6338 03:1874: A9 xx xx     	lda	#<~~fontImg
  6339 03:1877: 65 01        	adc	<R0
  6340 03:1879: 85 19        	sta	<L337+img_1
  6341 03:187B: A9 xx xx     	lda	#^~~fontImg
  6342 03:187E: 65 03        	adc	<R0+2
  6343 03:1880: 85 1B        	sta	<L337+img_1+2
  6344                        ;	}
  6345                        	.line	761
  6346                        L10051:
  6347                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  6348                        ;
  6349                        ;	// get the font 'image'
  6350                        ;        //char *img = fontImg[ix]; 
  6351                        ;        // loop through pixel rows
  6352                        ;	if(img!=NULL)
  6353                        	.line	767
  6354                        ;	{
  6355 03:1882: A5 19        	lda	<L337+img_1
  6356 03:1884: 05 1B        	ora	<L337+img_1+2
  6357 03:1886: D0 03        	bne	L342
  6358 03:1888: 82 91 00     	brl	L10052
  6359                        L342:
  Wed Nov 18 2020  8:27                                                Page 116


  6360                        	.line	768
  6361                        ;		for (y = 0; y < FONTH; y++) 
  6362                        	.line	769
  6363 03:188B: 64 13        	stz	<L337+y_1
  6364 03:188D: 82 7D 00     	brl	L10056
  6365                        L10055:
  6366                        ;		{
  6367                        	.line	770
  6368                        ;			// loop through pixel columns
  6369                        ;			for (x = 0; x < FONTW; x++) 
  6370                        	.line	772
  6371 03:1890: 64 11        	stz	<L337+x_1
  6372 03:1892: 82 67 00     	brl	L10060
  6373                        L10059:
  6374                        ;			{
  6375                        	.line	773
  6376                        ;				// get the pixel value
  6377                        ;				char b = img[y * FONTW +
                     x];
  6378                        ;				if (b > 0) 
  6379                        	.block	776
  6380             0000000C   b_2	set	12
  6381                        	.sym	b,12,14,1,8
  6382 03:1895: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  6383 03:1899: 85 01        	sta	<R0
  6384 03:189B: A5 01        	lda	<R0
  6385 03:189D: A6 13        	ldx	<L337+y_1
  6386                        	xref	~~~mul
  6387 03:189F: 22 xx xx xx  	jsl	~~~mul
  6388 03:18A3: 85 01        	sta	<R0
  6389 03:18A5: 18           	clc
  6390 03:18A6: A5 01        	lda	<R0
  6391 03:18A8: 65 11        	adc	<L337+x_1
  6392 03:18AA: 85 05        	sta	<R1
  6393 03:18AC: E2 20        	sep	#$20
  6394                        	longa	off
  6395 03:18AE: A4 05        	ldy	<R1
  6396 03:18B0: B7 19        	lda	[<L337+img_1],Y
  6397 03:18B2: 85 1D        	sta	<L337+b_2
  6398 03:18B4: C2 20        	rep	#$20
  6399                        	longa	on
  6400                        	.line	776
  6401                        ;				{ // plot the pixel
  6402 03:18B6: E2 20        	sep	#$20
  6403                        	longa	off
  6404 03:18B8: A9 00        	lda	#$0
  6405 03:18BA: C5 1D        	cmp	<L337+b_2
  6406 03:18BC: C2 20        	rep	#$20
  6407                        	longa	on
  6408 03:18BE: 90 03        	bcc	L344
  6409 03:18C0: 82 37 00     	brl	L10061
  6410                        L344:
  6411                        	.line	777
  6412                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  6413                        	.line	778
  6414 03:18C3: D4 27        	pei	<L336+color_0
  6415 03:18C5: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 117


  6416 03:18C6: A5 17        	lda	<L337+textY_1
  6417 03:18C8: 65 13        	adc	<L337+y_1
  6418 03:18CA: 85 01        	sta	<R0
  6419 03:18CC: A0 00 00     	ldy	#$0
  6420 03:18CF: A5 01        	lda	<R0
  6421 03:18D1: 10 01        	bpl	L345
  6422 03:18D3: 88           	dey
  6423                        L345:
  6424 03:18D4: 85 01        	sta	<R0
  6425 03:18D6: 84 03        	sty	<R0+2
  6426 03:18D8: D4 03        	pei	<R0+2
  6427 03:18DA: D4 01        	pei	<R0
  6428 03:18DC: 18           	clc
  6429 03:18DD: A5 15        	lda	<L337+textX_1
  6430 03:18DF: 65 11        	adc	<L337+x_1
  6431 03:18E1: 85 05        	sta	<R1
  6432 03:18E3: A0 00 00     	ldy	#$0
  6433 03:18E6: A5 05        	lda	<R1
  6434 03:18E8: 10 01        	bpl	L346
  6435 03:18EA: 88           	dey
  6436                        L346:
  6437 03:18EB: 85 05        	sta	<R1
  6438 03:18ED: 84 07        	sty	<R1+2
  6439 03:18EF: D4 07        	pei	<R1+2
  6440 03:18F1: D4 05        	pei	<R1
  6441 03:18F3: 22 77 0C 03  	jsl	~~k_draw_pixel
  6442                        ;				}
  6443                        	.line	779
  6444                        ;				else 
  6445 03:18F7: 82 00 00     	brl	L10062
  6446                        L10061:
  6447                        ;				{ 
  6448                        	.line	781
  6449                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  6450                        ;				}
  6451                        	.line	783
  6452                        L10062:
  6453                        ;			} // end "for x"
  6454                        	.endblock	784
  6455                        	.line	784
  6456                        L10057:
  6457 03:18FA: E6 11        	inc	<L337+x_1
  6458                        L10060:
  6459 03:18FC: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  6460 03:1900: 85 01        	sta	<R0
  6461 03:1902: A5 11        	lda	<L337+x_1
  6462 03:1904: C5 01        	cmp	<R0
  6463 03:1906: B0 03        	bcs	L347
  6464 03:1908: 82 8A FF     	brl	L10059
  6465                        L347:
  6466                        L10058:
  6467                        ;		} // end "for y"
  6468                        	.line	785
  6469                        L10053:
  6470 03:190B: E6 13        	inc	<L337+y_1
  6471                        L10056:
  6472 03:190D: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  Wed Nov 18 2020  8:27                                                Page 118


  6473 03:1911: 85 01        	sta	<R0
  6474 03:1913: A5 13        	lda	<L337+y_1
  6475 03:1915: C5 01        	cmp	<R0
  6476 03:1917: B0 03        	bcs	L348
  6477 03:1919: 82 74 FF     	brl	L10055
  6478                        L348:
  6479                        L10054:
  6480                        ;	}
  6481                        	.line	786
  6482                        ;	return FONTW;
  6483                        L10052:
  6484                        	.line	787
  6485 03:191C: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  6486                        L349:
  6487 03:1920: A8           	tay
  6488 03:1921: A5 1F        	lda	<L336+2
  6489 03:1923: 85 27        	sta	<L336+2+8
  6490 03:1925: A5 1E        	lda	<L336+1
  6491 03:1927: 85 26        	sta	<L336+1+8
  6492 03:1929: 2B           	pld
  6493 03:192A: 3B           	tsc
  6494 03:192B: 18           	clc
  6495 03:192C: 69 25 00     	adc	#L336+8
  6496 03:192F: 1B           	tcs
  6497 03:1930: 98           	tya
  6498 03:1931: 6B           	rtl
  6499                        ;}
  6500                        	.line	788
  6501                        	.endblock	788
  6502             0000001D   L336	equ	29
  6503             00000011   L337	equ	17
  6504 03:1932:              	ends
  6505                        	efunc
  6506                        	.endfunc	788,17,29
  6507                        	.line	788
  6508                        ;
  6509                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
                    outChar,int cx,int cy,char color)
  6510                        ;{
  6511                        	.line	790
  6512                        	.line	791
  6513                        	GUI
  6514                        	xdef	~~k_put_binary_font_point
  6515                        	func
  6516                        	.function	791
  6517                        ~~k_put_binary_font_point:
  6518                        	longa	on
  6519                        	longi	on
  6520 03:1932: 3B           	tsc
  6521 03:1933: 38           	sec
  6522 03:1934: E9 18 00     	sbc	#L350
  6523 03:1937: 1B           	tcs
  6524 03:1938: 0B           	phd
  6525 03:1939: 5B           	tcd
  6526             00000004   fontSet_0	set	4
  6527             00000008   outChar_0	set	8
  6528             0000000A   cx_0	set	10
  6529             0000000C   cy_0	set	12
  Wed Nov 18 2020  8:27                                                Page 119


  6530             0000000E   color_0	set	14
  6531                        	.block	791
  6532                        ;	int x = 0;
  6533                        ;	int y = 0;
  6534                        ;	int textX = cx;
  6535                        ;	int textY = cy;
  6536                        ;
  6537                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  6538                        ;
  6539                        ;    if(outChar == 32)
  6540             00000000   x_1	set	0
  6541             00000002   y_1	set	2
  6542             00000004   textX_1	set	4
  6543             00000006   textY_1	set	6
  6544             00000008   img_1	set	8
  6545                        	.sym	x,0,5,1,16
  6546                        	.sym	y,2,5,1,16
  6547                        	.sym	textX,4,5,1,16
  6548                        	.sym	textY,6,5,1,16
  6549                        	.sym	img,8,142,1,32
  6550                        	.sym	fontSet,4,142,6,32
  6551                        	.sym	outChar,8,14,6,8
  6552                        	.sym	cx,10,5,6,16
  6553                        	.sym	cy,12,5,6,16
  6554                        	.sym	color,14,14,6,8
  6555 03:193A: 64 09        	stz	<L351+x_1
  6556 03:193C: 64 0B        	stz	<L351+y_1
  6557 03:193E: A5 22        	lda	<L350+cx_0
  6558 03:1940: 85 0D        	sta	<L351+textX_1
  6559 03:1942: A5 24        	lda	<L350+cy_0
  6560 03:1944: 85 0F        	sta	<L351+textY_1
  6561 03:1946: 64 11        	stz	<L351+img_1
  6562 03:1948: 64 13        	stz	<L351+img_1+2
  6563                        	.line	799
  6564                        ;	{
  6565 03:194A: E2 20        	sep	#$20
  6566                        	longa	off
  6567 03:194C: A5 20        	lda	<L350+outChar_0
  6568 03:194E: C9 20        	cmp	#<$20
  6569 03:1950: C2 20        	rep	#$20
  6570                        	longa	on
  6571 03:1952: F0 03        	beq	L353
  6572 03:1954: 82 07 00     	brl	L10063
  6573                        L353:
  6574                        	.line	800
  6575                        ;	   img = NULL;//fontSpace;
  6576                        	.line	801
  6577 03:1957: 64 11        	stz	<L351+img_1
  6578 03:1959: 64 13        	stz	<L351+img_1+2
  6579                        ;    }
  6580                        	.line	802
  6581                        ;    else
  6582 03:195B: 82 2F 00     	brl	L10064
  6583                        L10063:
  6584                        ;	{
  6585                        	.line	804
  6586                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  Wed Nov 18 2020  8:27                                                Page 120


  6587                        ;    	img = fontSet+=(8*outChar);
  6588                        	.line	806
  6589 03:195E: A5 20        	lda	<L350+outChar_0
  6590 03:1960: 29 FF 00     	and	#$ff
  6591 03:1963: 85 05        	sta	<R1
  6592 03:1965: A5 05        	lda	<R1
  6593 03:1967: 0A           	asl	A
  6594 03:1968: 0A           	asl	A
  6595 03:1969: 0A           	asl	A
  6596 03:196A: 85 01        	sta	<R0
  6597 03:196C: A0 00 00     	ldy	#$0
  6598 03:196F: A5 01        	lda	<R0
  6599 03:1971: 10 01        	bpl	L354
  6600 03:1973: 88           	dey
  6601                        L354:
  6602 03:1974: 85 01        	sta	<R0
  6603 03:1976: 84 03        	sty	<R0+2
  6604 03:1978: 18           	clc
  6605 03:1979: A5 1C        	lda	<L350+fontSet_0
  6606 03:197B: 65 01        	adc	<R0
  6607 03:197D: 85 1C        	sta	<L350+fontSet_0
  6608 03:197F: A5 1E        	lda	<L350+fontSet_0+2
  6609 03:1981: 65 03        	adc	<R0+2
  6610 03:1983: 85 1E        	sta	<L350+fontSet_0+2
  6611 03:1985: A5 1C        	lda	<L350+fontSet_0
  6612 03:1987: 85 11        	sta	<L351+img_1
  6613 03:1989: A5 1E        	lda	<L350+fontSet_0+2
  6614 03:198B: 85 13        	sta	<L351+img_1+2
  6615                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  6616                        ;	}
  6617                        	.line	808
  6618                        L10064:
  6619                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  6620                        ;
  6621                        ;	// get the font 'image'
  6622                        ;        //char *img = fontImg[ix];
  6623                        ;        // loop through pixel rows
  6624                        ;	if(img!=NULL)
  6625                        	.line	814
  6626                        ;	{
  6627 03:198D: A5 11        	lda	<L351+img_1
  6628 03:198F: 05 13        	ora	<L351+img_1+2
  6629 03:1991: D0 03        	bne	L355
  6630 03:1993: 82 0E 03     	brl	L10065
  6631                        L355:
  6632                        	.line	815
  6633                        ;		for (y = 0; y < FONTH; y++)
  6634                        	.line	816
  6635 03:1996: 64 0B        	stz	<L351+y_1
  6636 03:1998: 82 FA 02     	brl	L10069
  6637                        L10068:
  6638                        ;		{
  6639                        	.line	817
  6640                        ;			// get the pixel value
  6641                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  Wed Nov 18 2020  8:27                                                Page 121


  6642                        ;			if (b->b7 > 0)
  6643                        	.block	820
  6644             0000000C   b_2	set	12
  6645                        	.sym	b,12,138,1,32,4
  6646 03:199B: A0 00 00     	ldy	#$0
  6647 03:199E: A5 0B        	lda	<L351+y_1
  6648 03:19A0: 10 01        	bpl	L357
  6649 03:19A2: 88           	dey
  6650                        L357:
  6651 03:19A3: 85 01        	sta	<R0
  6652 03:19A5: 84 03        	sty	<R0+2
  6653 03:19A7: 18           	clc
  6654 03:19A8: A5 11        	lda	<L351+img_1
  6655 03:19AA: 65 01        	adc	<R0
  6656 03:19AC: 85 15        	sta	<L351+b_2
  6657 03:19AE: A5 13        	lda	<L351+img_1+2
  6658 03:19B0: 65 03        	adc	<R0+2
  6659 03:19B2: 85 17        	sta	<L351+b_2+2
  6660                        	.line	820
  6661                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  6662 03:19B4: E2 20        	sep	#$20
  6663                        	longa	off
  6664 03:19B6: A7 15        	lda	[<L351+b_2]
  6665 03:19B8: 85 01        	sta	<R0
  6666 03:19BA: C2 20        	rep	#$20
  6667                        	longa	on
  6668 03:19BC: E2 20        	sep	#$20
  6669                        	longa	off
  6670 03:19BE: A5 01        	lda	<R0
  6671 03:19C0: 29 01        	and	#<$1
  6672 03:19C2: 85 01        	sta	<R0
  6673 03:19C4: C2 20        	rep	#$20
  6674                        	longa	on
  6675 03:19C6: E2 20        	sep	#$20
  6676                        	longa	off
  6677 03:19C8: A9 00        	lda	#$0
  6678 03:19CA: C5 01        	cmp	<R0
  6679 03:19CC: C2 20        	rep	#$20
  6680                        	longa	on
  6681 03:19CE: 90 03        	bcc	L358
  6682 03:19D0: 82 35 00     	brl	L10070
  6683                        L358:
  6684                        	.line	821
  6685 03:19D3: D4 26        	pei	<L350+color_0
  6686 03:19D5: 18           	clc
  6687 03:19D6: A5 0F        	lda	<L351+textY_1
  6688 03:19D8: 65 0B        	adc	<L351+y_1
  6689 03:19DA: 85 01        	sta	<R0
  6690 03:19DC: A0 00 00     	ldy	#$0
  6691 03:19DF: A5 01        	lda	<R0
  6692 03:19E1: 10 01        	bpl	L359
  6693 03:19E3: 88           	dey
  6694                        L359:
  6695 03:19E4: 85 01        	sta	<R0
  6696 03:19E6: 84 03        	sty	<R0+2
  6697 03:19E8: D4 03        	pei	<R0+2
  6698 03:19EA: D4 01        	pei	<R0
  Wed Nov 18 2020  8:27                                                Page 122


  6699 03:19EC: 18           	clc
  6700 03:19ED: A9 07 00     	lda	#$7
  6701 03:19F0: 65 0D        	adc	<L351+textX_1
  6702 03:19F2: 85 05        	sta	<R1
  6703 03:19F4: A0 00 00     	ldy	#$0
  6704 03:19F7: A5 05        	lda	<R1
  6705 03:19F9: 10 01        	bpl	L360
  6706 03:19FB: 88           	dey
  6707                        L360:
  6708 03:19FC: 85 05        	sta	<R1
  6709 03:19FE: 84 07        	sty	<R1+2
  6710 03:1A00: D4 07        	pei	<R1+2
  6711 03:1A02: D4 05        	pei	<R1
  6712 03:1A04: 22 77 0C 03  	jsl	~~k_draw_pixel
  6713                        ;			if (b->b6 > 0)
  6714                        L10070:
  6715                        	.line	822
  6716                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  6717 03:1A08: E2 20        	sep	#$20
  6718                        	longa	off
  6719 03:1A0A: A7 15        	lda	[<L351+b_2]
  6720 03:1A0C: 85 01        	sta	<R0
  6721 03:1A0E: C2 20        	rep	#$20
  6722                        	longa	on
  6723 03:1A10: E2 20        	sep	#$20
  6724                        	longa	off
  6725 03:1A12: 46 01        	lsr	<R0
  6726 03:1A14: C2 20        	rep	#$20
  6727                        	longa	on
  6728 03:1A16: E2 20        	sep	#$20
  6729                        	longa	off
  6730 03:1A18: A5 01        	lda	<R0
  6731 03:1A1A: 29 01        	and	#<$1
  6732 03:1A1C: 85 01        	sta	<R0
  6733 03:1A1E: C2 20        	rep	#$20
  6734                        	longa	on
  6735 03:1A20: E2 20        	sep	#$20
  6736                        	longa	off
  6737 03:1A22: A9 00        	lda	#$0
  6738 03:1A24: C5 01        	cmp	<R0
  6739 03:1A26: C2 20        	rep	#$20
  6740                        	longa	on
  6741 03:1A28: 90 03        	bcc	L361
  6742 03:1A2A: 82 35 00     	brl	L10071
  6743                        L361:
  6744                        	.line	823
  6745 03:1A2D: D4 26        	pei	<L350+color_0
  6746 03:1A2F: 18           	clc
  6747 03:1A30: A5 0F        	lda	<L351+textY_1
  6748 03:1A32: 65 0B        	adc	<L351+y_1
  6749 03:1A34: 85 01        	sta	<R0
  6750 03:1A36: A0 00 00     	ldy	#$0
  6751 03:1A39: A5 01        	lda	<R0
  6752 03:1A3B: 10 01        	bpl	L362
  6753 03:1A3D: 88           	dey
  6754                        L362:
  6755 03:1A3E: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 123


  6756 03:1A40: 84 03        	sty	<R0+2
  6757 03:1A42: D4 03        	pei	<R0+2
  6758 03:1A44: D4 01        	pei	<R0
  6759 03:1A46: 18           	clc
  6760 03:1A47: A9 06 00     	lda	#$6
  6761 03:1A4A: 65 0D        	adc	<L351+textX_1
  6762 03:1A4C: 85 05        	sta	<R1
  6763 03:1A4E: A0 00 00     	ldy	#$0
  6764 03:1A51: A5 05        	lda	<R1
  6765 03:1A53: 10 01        	bpl	L363
  6766 03:1A55: 88           	dey
  6767                        L363:
  6768 03:1A56: 85 05        	sta	<R1
  6769 03:1A58: 84 07        	sty	<R1+2
  6770 03:1A5A: D4 07        	pei	<R1+2
  6771 03:1A5C: D4 05        	pei	<R1
  6772 03:1A5E: 22 77 0C 03  	jsl	~~k_draw_pixel
  6773                        ;			if (b->b5 > 0)
  6774                        L10071:
  6775                        	.line	824
  6776                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  6777 03:1A62: E2 20        	sep	#$20
  6778                        	longa	off
  6779 03:1A64: A7 15        	lda	[<L351+b_2]
  6780 03:1A66: 85 01        	sta	<R0
  6781 03:1A68: C2 20        	rep	#$20
  6782                        	longa	on
  6783 03:1A6A: E2 20        	sep	#$20
  6784                        	longa	off
  6785 03:1A6C: 46 01        	lsr	<R0
  6786 03:1A6E: 46 01        	lsr	<R0
  6787 03:1A70: C2 20        	rep	#$20
  6788                        	longa	on
  6789 03:1A72: E2 20        	sep	#$20
  6790                        	longa	off
  6791 03:1A74: A5 01        	lda	<R0
  6792 03:1A76: 29 01        	and	#<$1
  6793 03:1A78: 85 01        	sta	<R0
  6794 03:1A7A: C2 20        	rep	#$20
  6795                        	longa	on
  6796 03:1A7C: E2 20        	sep	#$20
  6797                        	longa	off
  6798 03:1A7E: A9 00        	lda	#$0
  6799 03:1A80: C5 01        	cmp	<R0
  6800 03:1A82: C2 20        	rep	#$20
  6801                        	longa	on
  6802 03:1A84: 90 03        	bcc	L364
  6803 03:1A86: 82 35 00     	brl	L10072
  6804                        L364:
  6805                        	.line	825
  6806 03:1A89: D4 26        	pei	<L350+color_0
  6807 03:1A8B: 18           	clc
  6808 03:1A8C: A5 0F        	lda	<L351+textY_1
  6809 03:1A8E: 65 0B        	adc	<L351+y_1
  6810 03:1A90: 85 01        	sta	<R0
  6811 03:1A92: A0 00 00     	ldy	#$0
  6812 03:1A95: A5 01        	lda	<R0
  Wed Nov 18 2020  8:27                                                Page 124


  6813 03:1A97: 10 01        	bpl	L365
  6814 03:1A99: 88           	dey
  6815                        L365:
  6816 03:1A9A: 85 01        	sta	<R0
  6817 03:1A9C: 84 03        	sty	<R0+2
  6818 03:1A9E: D4 03        	pei	<R0+2
  6819 03:1AA0: D4 01        	pei	<R0
  6820 03:1AA2: 18           	clc
  6821 03:1AA3: A9 05 00     	lda	#$5
  6822 03:1AA6: 65 0D        	adc	<L351+textX_1
  6823 03:1AA8: 85 05        	sta	<R1
  6824 03:1AAA: A0 00 00     	ldy	#$0
  6825 03:1AAD: A5 05        	lda	<R1
  6826 03:1AAF: 10 01        	bpl	L366
  6827 03:1AB1: 88           	dey
  6828                        L366:
  6829 03:1AB2: 85 05        	sta	<R1
  6830 03:1AB4: 84 07        	sty	<R1+2
  6831 03:1AB6: D4 07        	pei	<R1+2
  6832 03:1AB8: D4 05        	pei	<R1
  6833 03:1ABA: 22 77 0C 03  	jsl	~~k_draw_pixel
  6834                        ;			if (b->b4 > 0)
  6835                        L10072:
  6836                        	.line	826
  6837                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  6838 03:1ABE: E2 20        	sep	#$20
  6839                        	longa	off
  6840 03:1AC0: A7 15        	lda	[<L351+b_2]
  6841 03:1AC2: 85 01        	sta	<R0
  6842 03:1AC4: C2 20        	rep	#$20
  6843                        	longa	on
  6844 03:1AC6: E2 20        	sep	#$20
  6845                        	longa	off
  6846 03:1AC8: 46 01        	lsr	<R0
  6847 03:1ACA: 46 01        	lsr	<R0
  6848 03:1ACC: 46 01        	lsr	<R0
  6849 03:1ACE: C2 20        	rep	#$20
  6850                        	longa	on
  6851 03:1AD0: E2 20        	sep	#$20
  6852                        	longa	off
  6853 03:1AD2: A5 01        	lda	<R0
  6854 03:1AD4: 29 01        	and	#<$1
  6855 03:1AD6: 85 01        	sta	<R0
  6856 03:1AD8: C2 20        	rep	#$20
  6857                        	longa	on
  6858 03:1ADA: E2 20        	sep	#$20
  6859                        	longa	off
  6860 03:1ADC: A9 00        	lda	#$0
  6861 03:1ADE: C5 01        	cmp	<R0
  6862 03:1AE0: C2 20        	rep	#$20
  6863                        	longa	on
  6864 03:1AE2: 90 03        	bcc	L367
  6865 03:1AE4: 82 35 00     	brl	L10073
  6866                        L367:
  6867                        	.line	827
  6868 03:1AE7: D4 26        	pei	<L350+color_0
  6869 03:1AE9: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 125


  6870 03:1AEA: A5 0F        	lda	<L351+textY_1
  6871 03:1AEC: 65 0B        	adc	<L351+y_1
  6872 03:1AEE: 85 01        	sta	<R0
  6873 03:1AF0: A0 00 00     	ldy	#$0
  6874 03:1AF3: A5 01        	lda	<R0
  6875 03:1AF5: 10 01        	bpl	L368
  6876 03:1AF7: 88           	dey
  6877                        L368:
  6878 03:1AF8: 85 01        	sta	<R0
  6879 03:1AFA: 84 03        	sty	<R0+2
  6880 03:1AFC: D4 03        	pei	<R0+2
  6881 03:1AFE: D4 01        	pei	<R0
  6882 03:1B00: 18           	clc
  6883 03:1B01: A9 04 00     	lda	#$4
  6884 03:1B04: 65 0D        	adc	<L351+textX_1
  6885 03:1B06: 85 05        	sta	<R1
  6886 03:1B08: A0 00 00     	ldy	#$0
  6887 03:1B0B: A5 05        	lda	<R1
  6888 03:1B0D: 10 01        	bpl	L369
  6889 03:1B0F: 88           	dey
  6890                        L369:
  6891 03:1B10: 85 05        	sta	<R1
  6892 03:1B12: 84 07        	sty	<R1+2
  6893 03:1B14: D4 07        	pei	<R1+2
  6894 03:1B16: D4 05        	pei	<R1
  6895 03:1B18: 22 77 0C 03  	jsl	~~k_draw_pixel
  6896                        ;			if (b->b3 > 0)
  6897                        L10073:
  6898                        	.line	828
  6899                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  6900 03:1B1C: E2 20        	sep	#$20
  6901                        	longa	off
  6902 03:1B1E: A7 15        	lda	[<L351+b_2]
  6903 03:1B20: 85 01        	sta	<R0
  6904 03:1B22: C2 20        	rep	#$20
  6905                        	longa	on
  6906 03:1B24: E2 20        	sep	#$20
  6907                        	longa	off
  6908 03:1B26: 46 01        	lsr	<R0
  6909 03:1B28: 46 01        	lsr	<R0
  6910 03:1B2A: 46 01        	lsr	<R0
  6911 03:1B2C: 46 01        	lsr	<R0
  6912 03:1B2E: C2 20        	rep	#$20
  6913                        	longa	on
  6914 03:1B30: E2 20        	sep	#$20
  6915                        	longa	off
  6916 03:1B32: A5 01        	lda	<R0
  6917 03:1B34: 29 01        	and	#<$1
  6918 03:1B36: 85 01        	sta	<R0
  6919 03:1B38: C2 20        	rep	#$20
  6920                        	longa	on
  6921 03:1B3A: E2 20        	sep	#$20
  6922                        	longa	off
  6923 03:1B3C: A9 00        	lda	#$0
  6924 03:1B3E: C5 01        	cmp	<R0
  6925 03:1B40: C2 20        	rep	#$20
  6926                        	longa	on
  Wed Nov 18 2020  8:27                                                Page 126


  6927 03:1B42: 90 03        	bcc	L370
  6928 03:1B44: 82 35 00     	brl	L10074
  6929                        L370:
  6930                        	.line	829
  6931 03:1B47: D4 26        	pei	<L350+color_0
  6932 03:1B49: 18           	clc
  6933 03:1B4A: A5 0F        	lda	<L351+textY_1
  6934 03:1B4C: 65 0B        	adc	<L351+y_1
  6935 03:1B4E: 85 01        	sta	<R0
  6936 03:1B50: A0 00 00     	ldy	#$0
  6937 03:1B53: A5 01        	lda	<R0
  6938 03:1B55: 10 01        	bpl	L371
  6939 03:1B57: 88           	dey
  6940                        L371:
  6941 03:1B58: 85 01        	sta	<R0
  6942 03:1B5A: 84 03        	sty	<R0+2
  6943 03:1B5C: D4 03        	pei	<R0+2
  6944 03:1B5E: D4 01        	pei	<R0
  6945 03:1B60: 18           	clc
  6946 03:1B61: A9 03 00     	lda	#$3
  6947 03:1B64: 65 0D        	adc	<L351+textX_1
  6948 03:1B66: 85 05        	sta	<R1
  6949 03:1B68: A0 00 00     	ldy	#$0
  6950 03:1B6B: A5 05        	lda	<R1
  6951 03:1B6D: 10 01        	bpl	L372
  6952 03:1B6F: 88           	dey
  6953                        L372:
  6954 03:1B70: 85 05        	sta	<R1
  6955 03:1B72: 84 07        	sty	<R1+2
  6956 03:1B74: D4 07        	pei	<R1+2
  6957 03:1B76: D4 05        	pei	<R1
  6958 03:1B78: 22 77 0C 03  	jsl	~~k_draw_pixel
  6959                        ;			if (b->b2 > 0)
  6960                        L10074:
  6961                        	.line	830
  6962                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  6963 03:1B7C: E2 20        	sep	#$20
  6964                        	longa	off
  6965 03:1B7E: A7 15        	lda	[<L351+b_2]
  6966 03:1B80: 85 01        	sta	<R0
  6967 03:1B82: C2 20        	rep	#$20
  6968                        	longa	on
  6969 03:1B84: E2 20        	sep	#$20
  6970                        	longa	off
  6971 03:1B86: 46 01        	lsr	<R0
  6972 03:1B88: 46 01        	lsr	<R0
  6973 03:1B8A: 46 01        	lsr	<R0
  6974 03:1B8C: 46 01        	lsr	<R0
  6975 03:1B8E: 46 01        	lsr	<R0
  6976 03:1B90: C2 20        	rep	#$20
  6977                        	longa	on
  6978 03:1B92: E2 20        	sep	#$20
  6979                        	longa	off
  6980 03:1B94: A5 01        	lda	<R0
  6981 03:1B96: 29 01        	and	#<$1
  6982 03:1B98: 85 01        	sta	<R0
  6983 03:1B9A: C2 20        	rep	#$20
  Wed Nov 18 2020  8:27                                                Page 127


  6984                        	longa	on
  6985 03:1B9C: E2 20        	sep	#$20
  6986                        	longa	off
  6987 03:1B9E: A9 00        	lda	#$0
  6988 03:1BA0: C5 01        	cmp	<R0
  6989 03:1BA2: C2 20        	rep	#$20
  6990                        	longa	on
  6991 03:1BA4: 90 03        	bcc	L373
  6992 03:1BA6: 82 35 00     	brl	L10075
  6993                        L373:
  6994                        	.line	831
  6995 03:1BA9: D4 26        	pei	<L350+color_0
  6996 03:1BAB: 18           	clc
  6997 03:1BAC: A5 0F        	lda	<L351+textY_1
  6998 03:1BAE: 65 0B        	adc	<L351+y_1
  6999 03:1BB0: 85 01        	sta	<R0
  7000 03:1BB2: A0 00 00     	ldy	#$0
  7001 03:1BB5: A5 01        	lda	<R0
  7002 03:1BB7: 10 01        	bpl	L374
  7003 03:1BB9: 88           	dey
  7004                        L374:
  7005 03:1BBA: 85 01        	sta	<R0
  7006 03:1BBC: 84 03        	sty	<R0+2
  7007 03:1BBE: D4 03        	pei	<R0+2
  7008 03:1BC0: D4 01        	pei	<R0
  7009 03:1BC2: 18           	clc
  7010 03:1BC3: A9 02 00     	lda	#$2
  7011 03:1BC6: 65 0D        	adc	<L351+textX_1
  7012 03:1BC8: 85 05        	sta	<R1
  7013 03:1BCA: A0 00 00     	ldy	#$0
  7014 03:1BCD: A5 05        	lda	<R1
  7015 03:1BCF: 10 01        	bpl	L375
  7016 03:1BD1: 88           	dey
  7017                        L375:
  7018 03:1BD2: 85 05        	sta	<R1
  7019 03:1BD4: 84 07        	sty	<R1+2
  7020 03:1BD6: D4 07        	pei	<R1+2
  7021 03:1BD8: D4 05        	pei	<R1
  7022 03:1BDA: 22 77 0C 03  	jsl	~~k_draw_pixel
  7023                        ;			if (b->b1 > 0)
  7024                        L10075:
  7025                        	.line	832
  7026                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  7027 03:1BDE: E2 20        	sep	#$20
  7028                        	longa	off
  7029 03:1BE0: A7 15        	lda	[<L351+b_2]
  7030 03:1BE2: 85 01        	sta	<R0
  7031 03:1BE4: C2 20        	rep	#$20
  7032                        	longa	on
  7033 03:1BE6: E2 20        	sep	#$20
  7034                        	longa	off
  7035 03:1BE8: 46 01        	lsr	<R0
  7036 03:1BEA: 46 01        	lsr	<R0
  7037 03:1BEC: 46 01        	lsr	<R0
  7038 03:1BEE: 46 01        	lsr	<R0
  7039 03:1BF0: 46 01        	lsr	<R0
  7040 03:1BF2: 46 01        	lsr	<R0
  Wed Nov 18 2020  8:27                                                Page 128


  7041 03:1BF4: C2 20        	rep	#$20
  7042                        	longa	on
  7043 03:1BF6: E2 20        	sep	#$20
  7044                        	longa	off
  7045 03:1BF8: A5 01        	lda	<R0
  7046 03:1BFA: 29 01        	and	#<$1
  7047 03:1BFC: 85 01        	sta	<R0
  7048 03:1BFE: C2 20        	rep	#$20
  7049                        	longa	on
  7050 03:1C00: E2 20        	sep	#$20
  7051                        	longa	off
  7052 03:1C02: A9 00        	lda	#$0
  7053 03:1C04: C5 01        	cmp	<R0
  7054 03:1C06: C2 20        	rep	#$20
  7055                        	longa	on
  7056 03:1C08: 90 03        	bcc	L376
  7057 03:1C0A: 82 32 00     	brl	L10076
  7058                        L376:
  7059                        	.line	833
  7060 03:1C0D: D4 26        	pei	<L350+color_0
  7061 03:1C0F: 18           	clc
  7062 03:1C10: A5 0F        	lda	<L351+textY_1
  7063 03:1C12: 65 0B        	adc	<L351+y_1
  7064 03:1C14: 85 01        	sta	<R0
  7065 03:1C16: A0 00 00     	ldy	#$0
  7066 03:1C19: A5 01        	lda	<R0
  7067 03:1C1B: 10 01        	bpl	L377
  7068 03:1C1D: 88           	dey
  7069                        L377:
  7070 03:1C1E: 85 01        	sta	<R0
  7071 03:1C20: 84 03        	sty	<R0+2
  7072 03:1C22: D4 03        	pei	<R0+2
  7073 03:1C24: D4 01        	pei	<R0
  7074 03:1C26: A5 0D        	lda	<L351+textX_1
  7075 03:1C28: 1A           	ina
  7076 03:1C29: 85 05        	sta	<R1
  7077 03:1C2B: A0 00 00     	ldy	#$0
  7078 03:1C2E: A5 05        	lda	<R1
  7079 03:1C30: 10 01        	bpl	L378
  7080 03:1C32: 88           	dey
  7081                        L378:
  7082 03:1C33: 85 05        	sta	<R1
  7083 03:1C35: 84 07        	sty	<R1+2
  7084 03:1C37: D4 07        	pei	<R1+2
  7085 03:1C39: D4 05        	pei	<R1
  7086 03:1C3B: 22 77 0C 03  	jsl	~~k_draw_pixel
  7087                        ;			if (b->b0 > 0)
  7088                        L10076:
  7089                        	.line	834
  7090                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  7091 03:1C3F: E2 20        	sep	#$20
  7092                        	longa	off
  7093 03:1C41: A7 15        	lda	[<L351+b_2]
  7094 03:1C43: 85 01        	sta	<R0
  7095 03:1C45: C2 20        	rep	#$20
  7096                        	longa	on
  7097 03:1C47: E2 20        	sep	#$20
  Wed Nov 18 2020  8:27                                                Page 129


  7098                        	longa	off
  7099 03:1C49: 46 01        	lsr	<R0
  7100 03:1C4B: 46 01        	lsr	<R0
  7101 03:1C4D: 46 01        	lsr	<R0
  7102 03:1C4F: 46 01        	lsr	<R0
  7103 03:1C51: 46 01        	lsr	<R0
  7104 03:1C53: 46 01        	lsr	<R0
  7105 03:1C55: 46 01        	lsr	<R0
  7106 03:1C57: C2 20        	rep	#$20
  7107                        	longa	on
  7108 03:1C59: E2 20        	sep	#$20
  7109                        	longa	off
  7110 03:1C5B: A9 00        	lda	#$0
  7111 03:1C5D: C5 01        	cmp	<R0
  7112 03:1C5F: C2 20        	rep	#$20
  7113                        	longa	on
  7114 03:1C61: 90 03        	bcc	L379
  7115 03:1C63: 82 2D 00     	brl	L10077
  7116                        L379:
  7117                        	.line	835
  7118 03:1C66: D4 26        	pei	<L350+color_0
  7119 03:1C68: 18           	clc
  7120 03:1C69: A5 0F        	lda	<L351+textY_1
  7121 03:1C6B: 65 0B        	adc	<L351+y_1
  7122 03:1C6D: 85 01        	sta	<R0
  7123 03:1C6F: A0 00 00     	ldy	#$0
  7124 03:1C72: A5 01        	lda	<R0
  7125 03:1C74: 10 01        	bpl	L380
  7126 03:1C76: 88           	dey
  7127                        L380:
  7128 03:1C77: 85 01        	sta	<R0
  7129 03:1C79: 84 03        	sty	<R0+2
  7130 03:1C7B: D4 03        	pei	<R0+2
  7131 03:1C7D: D4 01        	pei	<R0
  7132 03:1C7F: A0 00 00     	ldy	#$0
  7133 03:1C82: A5 0D        	lda	<L351+textX_1
  7134 03:1C84: 10 01        	bpl	L381
  7135 03:1C86: 88           	dey
  7136                        L381:
  7137 03:1C87: 85 05        	sta	<R1
  7138 03:1C89: 84 07        	sty	<R1+2
  7139 03:1C8B: D4 07        	pei	<R1+2
  7140 03:1C8D: D4 05        	pei	<R1
  7141 03:1C8F: 22 77 0C 03  	jsl	~~k_draw_pixel
  7142                        ;
  7143                        ;		} // end "for y"
  7144                        L10077:
  7145                        	.endblock	837
  7146                        	.line	837
  7147                        L10066:
  7148 03:1C93: E6 0B        	inc	<L351+y_1
  7149                        L10069:
  7150 03:1C95: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  7151 03:1C99: 85 01        	sta	<R0
  7152 03:1C9B: A5 0B        	lda	<L351+y_1
  7153 03:1C9D: C5 01        	cmp	<R0
  7154 03:1C9F: B0 03        	bcs	L382
  7155 03:1CA1: 82 F7 FC     	brl	L10068
  Wed Nov 18 2020  8:27                                                Page 130


  7156                        L382:
  7157                        L10067:
  7158                        ;	}
  7159                        	.line	838
  7160                        ;	return FONTW;
  7161                        L10065:
  7162                        	.line	839
  7163 03:1CA4: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  7164                        L383:
  7165 03:1CA8: A8           	tay
  7166 03:1CA9: A5 1A        	lda	<L350+2
  7167 03:1CAB: 85 26        	sta	<L350+2+12
  7168 03:1CAD: A5 19        	lda	<L350+1
  7169 03:1CAF: 85 25        	sta	<L350+1+12
  7170 03:1CB1: 2B           	pld
  7171 03:1CB2: 3B           	tsc
  7172 03:1CB3: 18           	clc
  7173 03:1CB4: 69 24 00     	adc	#L350+12
  7174 03:1CB7: 1B           	tcs
  7175 03:1CB8: 98           	tya
  7176 03:1CB9: 6B           	rtl
  7177                        ;}
  7178                        	.line	840
  7179                        	.endblock	840
  7180             00000018   L350	equ	24
  7181             00000009   L351	equ	9
  7182 03:1CBA:              	ends
  7183                        	efunc
  7184                        	.endfunc	840,9,24
  7185                        	.line	840
  7186                        ;
  7187                        ;/*
  7188                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
  7189                        ;{
  7190                        ;	int x = 0;
  7191                        ;	int y = 0;
  7192                        ;	int textX = cx;
  7193                        ;	int textY = cy;
  7194                        ;
  7195                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  7196                        ;
  7197                        ;    if(outChar == 32)
  7198                        ;	{
  7199                        ;	   img = NULL;//fontSpace;
  7200                        ;    }
  7201                        ;    else
  7202                        ;	{
  7203                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  7204                        ;    	img = fontSet+=(height*outChar);
  7205                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  7206                        ;	}
  7207                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  7208                        ;
  Wed Nov 18 2020  8:27                                                Page 131


  7209                        ;	// get the font 'image'
  7210                        ;        //char *img = fontImg[ix];
  7211                        ;        // loop through pixel rows
  7212                        ;	if(img!=NULL)
  7213                        ;	{
  7214                        ;		for (y = 0; y < height; y++)
  7215                        ;		{
  7216                        ;			// get the pixel value
  7217                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  7218                        ;			if (b->b7 > 0)
  7219                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  7220                        ;			if (b->b6 > 0)
  7221                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  7222                        ;			if (b->b5 > 0)
  7223                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  7224                        ;			if (b->b4 > 0)
  7225                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  7226                        ;			if (b->b3 > 0)
  7227                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  7228                        ;			if (b->b2 > 0)
  7229                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  7230                        ;			if (b->b1 > 0)
  7231                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  7232                        ;			if (b->b0 > 0)
  7233                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  7234                        ;
  7235                        ;		} // end "for y"
  7236                        ;	}
  7237                        ;	return FONTW;
  7238                        ;}
  7239                        ;*/
  7240                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
  7241                        ;{
  7242                        	.line	895
  7243                        	.line	896
  7244                        	GUI
  7245                        	xdef	~~k_put_binary_variablefont_point
  7246                        	func
  7247                        	.function	896
  7248                        ~~k_put_binary_variablefont_point:
  7249                        	longa	on
  7250                        	longi	on
  7251 03:1CBA: 3B           	tsc
  7252 03:1CBB: 38           	sec
  7253 03:1CBC: E9 15 00     	sbc	#L384
  7254 03:1CBF: 1B           	tcs
  7255 03:1CC0: 0B           	phd
  Wed Nov 18 2020  8:27                                                Page 132


  7256 03:1CC1: 5B           	tcd
  7257             00000004   fontSet_0	set	4
  7258             00000008   outChar_0	set	8
  7259             0000000A   cx_0	set	10
  7260             0000000C   cy_0	set	12
  7261             0000000E   width_0	set	14
  7262             00000010   height_0	set	16
  7263             00000012   color_0	set	18
  7264                        	.block	896
  7265                        ;	int x = 0;
  7266                        ;	int y = 0;
  7267                        ;	int textX = cx;
  7268                        ;	int textY = cy;
  7269                        ;	char tmp;
  7270                        ;
  7271                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  7272                        ;
  7273                        ;    if(outChar == 32)
  7274             00000000   x_1	set	0
  7275             00000002   y_1	set	2
  7276             00000004   textX_1	set	4
  7277             00000006   textY_1	set	6
  7278             00000008   tmp_1	set	8
  7279             00000009   img_1	set	9
  7280                        	.sym	x,0,5,1,16
  7281                        	.sym	y,2,5,1,16
  7282                        	.sym	textX,4,5,1,16
  7283                        	.sym	textY,6,5,1,16
  7284                        	.sym	tmp,8,14,1,8
  7285                        	.sym	img,9,142,1,32
  7286                        	.sym	fontSet,4,142,6,32
  7287                        	.sym	outChar,8,14,6,8
  7288                        	.sym	cx,10,5,6,16
  7289                        	.sym	cy,12,5,6,16
  7290                        	.sym	width,14,5,6,16
  7291                        	.sym	height,16,5,6,16
  7292                        	.sym	color,18,14,6,8
  7293 03:1CC2: 64 09        	stz	<L385+x_1
  7294 03:1CC4: 64 0B        	stz	<L385+y_1
  7295 03:1CC6: A5 1F        	lda	<L384+cx_0
  7296 03:1CC8: 85 0D        	sta	<L385+textX_1
  7297 03:1CCA: A5 21        	lda	<L384+cy_0
  7298 03:1CCC: 85 0F        	sta	<L385+textY_1
  7299 03:1CCE: 64 12        	stz	<L385+img_1
  7300 03:1CD0: 64 14        	stz	<L385+img_1+2
  7301                        	.line	905
  7302                        ;	{
  7303 03:1CD2: E2 20        	sep	#$20
  7304                        	longa	off
  7305 03:1CD4: A5 1D        	lda	<L384+outChar_0
  7306 03:1CD6: C9 20        	cmp	#<$20
  7307 03:1CD8: C2 20        	rep	#$20
  7308                        	longa	on
  7309 03:1CDA: F0 03        	beq	L387
  7310 03:1CDC: 82 07 00     	brl	L10078
  7311                        L387:
  7312                        	.line	906
  7313                        ;	   img = NULL;//fontSpace;
  Wed Nov 18 2020  8:27                                                Page 133


  7314                        	.line	907
  7315 03:1CDF: 64 12        	stz	<L385+img_1
  7316 03:1CE1: 64 14        	stz	<L385+img_1+2
  7317                        ;    }
  7318                        	.line	908
  7319                        ;    else
  7320 03:1CE3: 82 32 00     	brl	L10079
  7321                        L10078:
  7322                        ;	{
  7323                        	.line	910
  7324                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  7325                        ;    	img = fontSet+=(height*outChar);
  7326                        	.line	912
  7327 03:1CE6: A5 1D        	lda	<L384+outChar_0
  7328 03:1CE8: 29 FF 00     	and	#$ff
  7329 03:1CEB: 85 01        	sta	<R0
  7330 03:1CED: A5 01        	lda	<R0
  7331 03:1CEF: A6 25        	ldx	<L384+height_0
  7332                        	xref	~~~mul
  7333 03:1CF1: 22 xx xx xx  	jsl	~~~mul
  7334 03:1CF5: 85 01        	sta	<R0
  7335 03:1CF7: A0 00 00     	ldy	#$0
  7336 03:1CFA: A5 01        	lda	<R0
  7337 03:1CFC: 10 01        	bpl	L388
  7338 03:1CFE: 88           	dey
  7339                        L388:
  7340 03:1CFF: 85 01        	sta	<R0
  7341 03:1D01: 84 03        	sty	<R0+2
  7342 03:1D03: 18           	clc
  7343 03:1D04: A5 19        	lda	<L384+fontSet_0
  7344 03:1D06: 65 01        	adc	<R0
  7345 03:1D08: 85 19        	sta	<L384+fontSet_0
  7346 03:1D0A: A5 1B        	lda	<L384+fontSet_0+2
  7347 03:1D0C: 65 03        	adc	<R0+2
  7348 03:1D0E: 85 1B        	sta	<L384+fontSet_0+2
  7349 03:1D10: A5 19        	lda	<L384+fontSet_0
  7350 03:1D12: 85 12        	sta	<L385+img_1
  7351 03:1D14: A5 1B        	lda	<L384+fontSet_0+2
  7352 03:1D16: 85 14        	sta	<L385+img_1+2
  7353                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  7354                        ;	}
  7355                        	.line	914
  7356                        L10079:
  7357                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  7358                        ;
  7359                        ;	// get the font 'image'
  7360                        ;        //char *img = fontImg[ix];
  7361                        ;        // loop through pixel rows
  7362                        ;	if(img!=NULL)
  7363                        	.line	920
  7364                        ;	{
  7365 03:1D18: A5 12        	lda	<L385+img_1
  7366 03:1D1A: 05 14        	ora	<L385+img_1+2
  7367 03:1D1C: D0 03        	bne	L389
  7368 03:1D1E: 82 7D 00     	brl	L10080
  Wed Nov 18 2020  8:27                                                Page 134


  7369                        L389:
  7370                        	.line	921
  7371                        ;		for (y = 0; y < height; y++)
  7372                        	.line	922
  7373 03:1D21: 64 0B        	stz	<L385+y_1
  7374 03:1D23: 82 69 00     	brl	L10084
  7375                        L10083:
  7376                        ;		{
  7377                        	.line	923
  7378                        ;			tmp = img[y];
  7379                        	.line	924
  7380 03:1D26: E2 20        	sep	#$20
  7381                        	longa	off
  7382 03:1D28: A4 0B        	ldy	<L385+y_1
  7383 03:1D2A: B7 12        	lda	[<L385+img_1],Y
  7384 03:1D2C: 85 11        	sta	<L385+tmp_1
  7385 03:1D2E: C2 20        	rep	#$20
  7386                        	longa	on
  7387                        ;
  7388                        ;			for (x = 0; x < width; x++)
  7389                        	.line	926
  7390 03:1D30: 64 09        	stz	<L385+x_1
  7391 03:1D32: 82 49 00     	brl	L10088
  7392                        L10087:
  7393                        ;			{
  7394                        	.line	927
  7395                        ;				if(tmp & 0x80 )
  7396                        	.line	928
  7397                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  7398 03:1D35: E2 20        	sep	#$20
  7399                        	longa	off
  7400 03:1D37: A5 11        	lda	<L385+tmp_1
  7401 03:1D39: 29 80        	and	#<$80
  7402 03:1D3B: C2 20        	rep	#$20
  7403                        	longa	on
  7404 03:1D3D: D0 03        	bne	L390
  7405 03:1D3F: 82 34 00     	brl	L10089
  7406                        L390:
  7407                        	.line	929
  7408 03:1D42: D4 27        	pei	<L384+color_0
  7409 03:1D44: 18           	clc
  7410 03:1D45: A5 0F        	lda	<L385+textY_1
  7411 03:1D47: 65 0B        	adc	<L385+y_1
  7412 03:1D49: 85 01        	sta	<R0
  7413 03:1D4B: A0 00 00     	ldy	#$0
  7414 03:1D4E: A5 01        	lda	<R0
  7415 03:1D50: 10 01        	bpl	L391
  7416 03:1D52: 88           	dey
  7417                        L391:
  7418 03:1D53: 85 01        	sta	<R0
  7419 03:1D55: 84 03        	sty	<R0+2
  7420 03:1D57: D4 03        	pei	<R0+2
  7421 03:1D59: D4 01        	pei	<R0
  7422 03:1D5B: 18           	clc
  7423 03:1D5C: A5 0D        	lda	<L385+textX_1
  7424 03:1D5E: 65 09        	adc	<L385+x_1
  7425 03:1D60: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 135


  7426 03:1D62: A0 00 00     	ldy	#$0
  7427 03:1D65: A5 05        	lda	<R1
  7428 03:1D67: 10 01        	bpl	L392
  7429 03:1D69: 88           	dey
  7430                        L392:
  7431 03:1D6A: 85 05        	sta	<R1
  7432 03:1D6C: 84 07        	sty	<R1+2
  7433 03:1D6E: D4 07        	pei	<R1+2
  7434 03:1D70: D4 05        	pei	<R1
  7435 03:1D72: 22 77 0C 03  	jsl	~~k_draw_pixel
  7436                        ;
  7437                        ;				tmp = tmp << 1;
  7438                        L10089:
  7439                        	.line	931
  7440 03:1D76: E2 20        	sep	#$20
  7441                        	longa	off
  7442 03:1D78: 06 11        	asl	<L385+tmp_1
  7443 03:1D7A: C2 20        	rep	#$20
  7444                        	longa	on
  7445                        ;			}
  7446                        	.line	932
  7447                        L10085:
  7448 03:1D7C: E6 09        	inc	<L385+x_1
  7449                        L10088:
  7450 03:1D7E: 38           	sec
  7451 03:1D7F: A5 09        	lda	<L385+x_1
  7452 03:1D81: E5 23        	sbc	<L384+width_0
  7453 03:1D83: 70 03        	bvs	L393
  7454 03:1D85: 49 00 80     	eor	#$8000
  7455                        L393:
  7456 03:1D88: 30 03        	bmi	L394
  7457 03:1D8A: 82 A8 FF     	brl	L10087
  7458                        L394:
  7459                        L10086:
  7460                        ;			// get the pixel value
  7461                        ;			/*
  7462                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  7463                        ;			if (b->b7 > 0)
  7464                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  7465                        ;			if (b->b6 > 0)
  7466                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  7467                        ;			if (b->b5 > 0)
  7468                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  7469                        ;			if (b->b4 > 0)
  7470                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  7471                        ;			if (b->b3 > 0)
  7472                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  7473                        ;			if (b->b2 > 0)
  7474                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  7475                        ;			if (b->b1 > 0)
  7476                        ;				k_draw_pixel(textX + 1, 
  Wed Nov 18 2020  8:27                                                Page 136


                    textY + y, color);
  7477                        ;			if (b->b0 > 0)
  7478                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  7479                        ;			*/
  7480                        ;		} // end "for y"
  7481                        	.line	953
  7482                        L10081:
  7483 03:1D8D: E6 0B        	inc	<L385+y_1
  7484                        L10084:
  7485 03:1D8F: 38           	sec
  7486 03:1D90: A5 0B        	lda	<L385+y_1
  7487 03:1D92: E5 25        	sbc	<L384+height_0
  7488 03:1D94: 70 03        	bvs	L395
  7489 03:1D96: 49 00 80     	eor	#$8000
  7490                        L395:
  7491 03:1D99: 30 03        	bmi	L396
  7492 03:1D9B: 82 88 FF     	brl	L10083
  7493                        L396:
  7494                        L10082:
  7495                        ;	}
  7496                        	.line	954
  7497                        ;	return FONTW;
  7498                        L10080:
  7499                        	.line	955
  7500 03:1D9E: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  7501                        L397:
  7502 03:1DA2: A8           	tay
  7503 03:1DA3: A5 17        	lda	<L384+2
  7504 03:1DA5: 85 27        	sta	<L384+2+16
  7505 03:1DA7: A5 16        	lda	<L384+1
  7506 03:1DA9: 85 26        	sta	<L384+1+16
  7507 03:1DAB: 2B           	pld
  7508 03:1DAC: 3B           	tsc
  7509 03:1DAD: 18           	clc
  7510 03:1DAE: 69 25 00     	adc	#L384+16
  7511 03:1DB1: 1B           	tcs
  7512 03:1DB2: 98           	tya
  7513 03:1DB3: 6B           	rtl
  7514                        ;}
  7515                        	.line	956
  7516                        	.endblock	956
  7517             00000015   L384	equ	21
  7518             00000009   L385	equ	9
  7519 03:1DB4:              	ends
  7520                        	efunc
  7521                        	.endfunc	956,9,21
  7522                        	.line	956
  7523                        ;
  7524                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
  7525                        ;{
  7526                        	.line	958
  7527                        	.line	959
  7528                        	GUI
  7529                        	xdef	~~k_render_wingadget
  7530                        	func
  7531                        	.function	959
  Wed Nov 18 2020  8:27                                                Page 137


  7532                        ~~k_render_wingadget:
  7533                        	longa	on
  7534                        	longi	on
  7535 03:1DB4: 3B           	tsc
  7536 03:1DB5: 38           	sec
  7537 03:1DB6: E9 0A 00     	sbc	#L398
  7538 03:1DB9: 1B           	tcs
  7539 03:1DBA: 0B           	phd
  7540 03:1DBB: 5B           	tcd
  7541             00000004   gadgetCode_0	set	4
  7542             00000006   cx_0	set	6
  7543             00000008   cy_0	set	8
  7544             0000000A   color_0	set	10
  7545             0000000C   callback_0	set	12
  7546                        	.block	959
  7547                        ;	PCLICKDETECTED pcd = NULL;
  7548                        ;
  7549                        ;	int retCode = 0;
  7550                        ;
  7551                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
  7552             00000000   pcd_1	set	0
  7553             00000004   retCode_1	set	4
  7554                        	.sym	pcd,0,138,1,32,51
  7555                        	.sym	retCode,4,5,1,16
  7556                        	.sym	gadgetCode,4,14,6,8
  7557                        	.sym	cx,6,5,6,16
  7558                        	.sym	cy,8,5,6,16
  7559                        	.sym	color,10,14,6,8
  7560                        	.sym	callback,12,641,6,32
  7561 03:1DBC: 64 05        	stz	<L399+pcd_1
  7562 03:1DBE: 64 07        	stz	<L399+pcd_1+2
  7563 03:1DC0: 64 09        	stz	<L399+retCode_1
  7564                        	.line	964
  7565 03:1DC2: D4 14        	pei	<L398+color_0
  7566 03:1DC4: D4 12        	pei	<L398+cy_0
  7567 03:1DC6: D4 10        	pei	<L398+cx_0
  7568 03:1DC8: D4 0E        	pei	<L398+gadgetCode_0
  7569 03:1DCA: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
  7570                        ;
  7571                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
  7572                        	.line	966
  7573 03:1DCE: F4 08 00     	pea	#<$8
  7574 03:1DD1: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7575 03:1DD5: 85 05        	sta	<L399+pcd_1
  7576 03:1DD7: 86 07        	stx	<L399+pcd_1+2
  7577                        ;	if(pcd)
  7578                        	.line	967
  7579                        ;	{
  7580 03:1DD9: A5 05        	lda	<L399+pcd_1
  7581 03:1DDB: 05 07        	ora	<L399+pcd_1+2
  7582 03:1DDD: D0 03        	bne	L401
  7583 03:1DDF: 82 49 00     	brl	L10090
  7584                        L401:
  7585                        	.line	968
  7586                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
  7587                        	.line	969
  Wed Nov 18 2020  8:27                                                Page 138


  7588 03:1DE2: F4 00 00     	pea	#^$0
  7589 03:1DE5: F4 00 00     	pea	#<$0
  7590 03:1DE8: F4 xx xx     	pea	#^L1+5
  7591 03:1DEB: F4 xx xx     	pea	#<L1+5
  7592 03:1DEE: F4 xx xx     	pea	#^L1
  7593 03:1DF1: F4 xx xx     	pea	#<L1
  7594 03:1DF4: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  7595 03:1DF8: 48           	pha
  7596 03:1DF9: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  7597 03:1DFD: 48           	pha
  7598 03:1DFE: D4 12        	pei	<L398+cy_0
  7599 03:1E00: D4 10        	pei	<L398+cx_0
  7600 03:1E02: 22 1D 32 03  	jsl	~~k_create_ui_window_class
  7601 03:1E06: 85 01        	sta	<R0
  7602 03:1E08: 86 03        	stx	<R0+2
  7603 03:1E0A: A5 01        	lda	<R0
  7604 03:1E0C: 87 05        	sta	[<L399+pcd_1]
  7605 03:1E0E: A5 03        	lda	<R0+2
  7606 03:1E10: A0 02 00     	ldy	#$2
  7607 03:1E13: 97 05        	sta	[<L399+pcd_1],Y
  7608                        ;		pcd->handler = callback;
  7609                        	.line	970
  7610 03:1E15: A5 16        	lda	<L398+callback_0
  7611 03:1E17: A0 04 00     	ldy	#$4
  7612 03:1E1A: 97 05        	sta	[<L399+pcd_1],Y
  7613 03:1E1C: A5 18        	lda	<L398+callback_0+2
  7614 03:1E1E: A0 06 00     	ldy	#$6
  7615 03:1E21: 97 05        	sta	[<L399+pcd_1],Y
  7616                        ;		k_add_window_hit_node(pcd);
  7617                        	.line	971
  7618 03:1E23: D4 07        	pei	<L399+pcd_1+2
  7619 03:1E25: D4 05        	pei	<L399+pcd_1
  7620 03:1E27: 22 91 4A 03  	jsl	~~k_add_window_hit_node
  7621                        ;	}
  7622                        	.line	972
  7623                        ;
  7624                        ;	return retCode;
  7625                        L10090:
  7626                        	.line	974
  7627 03:1E2B: A5 09        	lda	<L399+retCode_1
  7628                        L402:
  7629 03:1E2D: A8           	tay
  7630 03:1E2E: A5 0C        	lda	<L398+2
  7631 03:1E30: 85 18        	sta	<L398+2+12
  7632 03:1E32: A5 0B        	lda	<L398+1
  7633 03:1E34: 85 17        	sta	<L398+1+12
  7634 03:1E36: 2B           	pld
  7635 03:1E37: 3B           	tsc
  7636 03:1E38: 18           	clc
  7637 03:1E39: 69 16 00     	adc	#L398+12
  7638 03:1E3C: 1B           	tcs
  7639 03:1E3D: 98           	tya
  7640 03:1E3E: 6B           	rtl
  7641                        ;}
  7642                        	.line	975
  7643                        	.endblock	975
  7644             0000000A   L398	equ	10
  7645             00000005   L399	equ	5
  Wed Nov 18 2020  8:27                                                Page 139


  7646 03:1E3F:              	ends
  7647                        	efunc
  7648                        	.endfunc	975,5,10
  7649                        	.line	975
  7650                        	data
  7651                        L1:
  7652 00:02BB: 64 69 73 6B  	db	$64,$69,$73,$6B,$00,$67,$61,$64,$67,$65,
                    $74,$00
       00:02BF: 00 67 61 64 
       00:02C3: 67 65 74 00 
  7653 00:02C7:              	ends
  7654                        ;
  7655                        ;
  7656                        ;
  7657                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
  7658                        ;{
  7659                        	.line	979
  7660                        	.line	980
  7661                        	GUI
  7662                        	xdef	~~k_put_wingadget_point
  7663                        	func
  7664                        	.function	980
  7665                        ~~k_put_wingadget_point:
  7666                        	longa	on
  7667                        	longi	on
  7668 03:1E3F: 3B           	tsc
  7669 03:1E40: 38           	sec
  7670 03:1E41: E9 15 00     	sbc	#L404
  7671 03:1E44: 1B           	tcs
  7672 03:1E45: 0B           	phd
  7673 03:1E46: 5B           	tcd
  7674             00000004   gadgetCode_0	set	4
  7675             00000006   cx_0	set	6
  7676             00000008   cy_0	set	8
  7677             0000000A   color_0	set	10
  7678                        	.block	980
  7679                        ;	int x = 0;
  7680                        ;	int y = 0;
  7681                        ;	int textX = cx;
  7682                        ;	int textY = cy;
  7683                        ;
  7684                        ;	char FAR* img = NULL;//fontImg[ix];
  7685                        ;
  7686                        ;
  7687                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
  7688             00000000   x_1	set	0
  7689             00000002   y_1	set	2
  7690             00000004   textX_1	set	4
  7691             00000006   textY_1	set	6
  7692             00000008   img_1	set	8
  7693                        	.sym	x,0,5,1,16
  7694                        	.sym	y,2,5,1,16
  7695                        	.sym	textX,4,5,1,16
  7696                        	.sym	textY,6,5,1,16
  7697                        	.sym	img,8,142,1,32
  7698                        	.sym	gadgetCode,4,14,6,8
  Wed Nov 18 2020  8:27                                                Page 140


  7699                        	.sym	cx,6,5,6,16
  7700                        	.sym	cy,8,5,6,16
  7701                        	.sym	color,10,14,6,8
  7702 03:1E47: 64 09        	stz	<L405+x_1
  7703 03:1E49: 64 0B        	stz	<L405+y_1
  7704 03:1E4B: A5 1B        	lda	<L404+cx_0
  7705 03:1E4D: 85 0D        	sta	<L405+textX_1
  7706 03:1E4F: A5 1D        	lda	<L404+cy_0
  7707 03:1E51: 85 0F        	sta	<L405+textY_1
  7708 03:1E53: 64 11        	stz	<L405+img_1
  7709 03:1E55: 64 13        	stz	<L405+img_1+2
  7710                        	.line	989
  7711 03:1E57: A5 19        	lda	<L404+gadgetCode_0
  7712 03:1E59: 29 FF 00     	and	#<$ff
  7713 03:1E5C: 85 05        	sta	<R1
  7714 03:1E5E: A0 00 00     	ldy	#$0
  7715 03:1E61: A5 05        	lda	<R1
  7716 03:1E63: 10 01        	bpl	L407
  7717 03:1E65: 88           	dey
  7718                        L407:
  7719 03:1E66: 85 05        	sta	<R1
  7720 03:1E68: 84 07        	sty	<R1+2
  7721 03:1E6A: D4 07        	pei	<R1+2
  7722 03:1E6C: D4 05        	pei	<R1
  7723 03:1E6E: A9 06 00     	lda	#$6
  7724                        	xref	~~~lasl
  7725 03:1E71: 22 xx xx xx  	jsl	~~~lasl
  7726 03:1E75: 85 01        	sta	<R0
  7727 03:1E77: 86 03        	stx	<R0+2
  7728 03:1E79: 18           	clc
  7729 03:1E7A: A9 xx xx     	lda	#<~~windowChromeImg
  7730 03:1E7D: 65 01        	adc	<R0
  7731 03:1E7F: 85 11        	sta	<L405+img_1
  7732 03:1E81: A9 xx xx     	lda	#^~~windowChromeImg
  7733 03:1E84: 65 03        	adc	<R0+2
  7734 03:1E86: 85 13        	sta	<L405+img_1+2
  7735                        ;	if(img!=NULL)
  7736                        	.line	990
  7737                        ;	{
  7738 03:1E88: A5 11        	lda	<L405+img_1
  7739 03:1E8A: 05 13        	ora	<L405+img_1+2
  7740 03:1E8C: D0 03        	bne	L408
  7741 03:1E8E: 82 91 00     	brl	L10091
  7742                        L408:
  7743                        	.line	991
  7744                        ;		for (y = 0; y < FONTH; y++) 
  7745                        	.line	992
  7746 03:1E91: 64 0B        	stz	<L405+y_1
  7747 03:1E93: 82 7D 00     	brl	L10095
  7748                        L10094:
  7749                        ;		{
  7750                        	.line	993
  7751                        ;			// loop through pixel columns
  7752                        ;			for (x = 0; x < FONTW; x++) 
  7753                        	.line	995
  7754 03:1E96: 64 09        	stz	<L405+x_1
  7755 03:1E98: 82 67 00     	brl	L10099
  7756                        L10098:
  Wed Nov 18 2020  8:27                                                Page 141


  7757                        ;			{
  7758                        	.line	996
  7759                        ;				// get the pixel value
  7760                        ;				char b = img[y * FONTW +
                     x];
  7761                        ;				if (b > 0) 
  7762                        	.block	999
  7763             0000000C   b_2	set	12
  7764                        	.sym	b,12,14,1,8
  7765 03:1E9B: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  7766 03:1E9F: 85 01        	sta	<R0
  7767 03:1EA1: A5 01        	lda	<R0
  7768 03:1EA3: A6 0B        	ldx	<L405+y_1
  7769                        	xref	~~~mul
  7770 03:1EA5: 22 xx xx xx  	jsl	~~~mul
  7771 03:1EA9: 85 01        	sta	<R0
  7772 03:1EAB: 18           	clc
  7773 03:1EAC: A5 01        	lda	<R0
  7774 03:1EAE: 65 09        	adc	<L405+x_1
  7775 03:1EB0: 85 05        	sta	<R1
  7776 03:1EB2: E2 20        	sep	#$20
  7777                        	longa	off
  7778 03:1EB4: A4 05        	ldy	<R1
  7779 03:1EB6: B7 11        	lda	[<L405+img_1],Y
  7780 03:1EB8: 85 15        	sta	<L405+b_2
  7781 03:1EBA: C2 20        	rep	#$20
  7782                        	longa	on
  7783                        	.line	999
  7784                        ;				{ // plot the pixel
  7785 03:1EBC: E2 20        	sep	#$20
  7786                        	longa	off
  7787 03:1EBE: A9 00        	lda	#$0
  7788 03:1EC0: C5 15        	cmp	<L405+b_2
  7789 03:1EC2: C2 20        	rep	#$20
  7790                        	longa	on
  7791 03:1EC4: 90 03        	bcc	L410
  7792 03:1EC6: 82 37 00     	brl	L10100
  7793                        L410:
  7794                        	.line	1000
  7795                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  7796                        	.line	1001
  7797 03:1EC9: D4 1F        	pei	<L404+color_0
  7798 03:1ECB: 18           	clc
  7799 03:1ECC: A5 0F        	lda	<L405+textY_1
  7800 03:1ECE: 65 0B        	adc	<L405+y_1
  7801 03:1ED0: 85 01        	sta	<R0
  7802 03:1ED2: A0 00 00     	ldy	#$0
  7803 03:1ED5: A5 01        	lda	<R0
  7804 03:1ED7: 10 01        	bpl	L411
  7805 03:1ED9: 88           	dey
  7806                        L411:
  7807 03:1EDA: 85 01        	sta	<R0
  7808 03:1EDC: 84 03        	sty	<R0+2
  7809 03:1EDE: D4 03        	pei	<R0+2
  7810 03:1EE0: D4 01        	pei	<R0
  7811 03:1EE2: 18           	clc
  7812 03:1EE3: A5 0D        	lda	<L405+textX_1
  Wed Nov 18 2020  8:27                                                Page 142


  7813 03:1EE5: 65 09        	adc	<L405+x_1
  7814 03:1EE7: 85 05        	sta	<R1
  7815 03:1EE9: A0 00 00     	ldy	#$0
  7816 03:1EEC: A5 05        	lda	<R1
  7817 03:1EEE: 10 01        	bpl	L412
  7818 03:1EF0: 88           	dey
  7819                        L412:
  7820 03:1EF1: 85 05        	sta	<R1
  7821 03:1EF3: 84 07        	sty	<R1+2
  7822 03:1EF5: D4 07        	pei	<R1+2
  7823 03:1EF7: D4 05        	pei	<R1
  7824 03:1EF9: 22 77 0C 03  	jsl	~~k_draw_pixel
  7825                        ;				}
  7826                        	.line	1002
  7827                        ;				else 
  7828 03:1EFD: 82 00 00     	brl	L10101
  7829                        L10100:
  7830                        ;				{ 
  7831                        	.line	1004
  7832                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  7833                        ;				}
  7834                        	.line	1006
  7835                        L10101:
  7836                        ;			} // end "for x"
  7837                        	.endblock	1007
  7838                        	.line	1007
  7839                        L10096:
  7840 03:1F00: E6 09        	inc	<L405+x_1
  7841                        L10099:
  7842 03:1F02: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  7843 03:1F06: 85 01        	sta	<R0
  7844 03:1F08: A5 09        	lda	<L405+x_1
  7845 03:1F0A: C5 01        	cmp	<R0
  7846 03:1F0C: B0 03        	bcs	L413
  7847 03:1F0E: 82 8A FF     	brl	L10098
  7848                        L413:
  7849                        L10097:
  7850                        ;		} // end "for y"
  7851                        	.line	1008
  7852                        L10092:
  7853 03:1F11: E6 0B        	inc	<L405+y_1
  7854                        L10095:
  7855 03:1F13: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  7856 03:1F17: 85 01        	sta	<R0
  7857 03:1F19: A5 0B        	lda	<L405+y_1
  7858 03:1F1B: C5 01        	cmp	<R0
  7859 03:1F1D: B0 03        	bcs	L414
  7860 03:1F1F: 82 74 FF     	brl	L10094
  7861                        L414:
  7862                        L10093:
  7863                        ;	}
  7864                        	.line	1009
  7865                        ;	return FONTW;
  7866                        L10091:
  7867                        	.line	1010
  7868 03:1F22: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  7869                        L415:
  Wed Nov 18 2020  8:27                                                Page 143


  7870 03:1F26: A8           	tay
  7871 03:1F27: A5 17        	lda	<L404+2
  7872 03:1F29: 85 1F        	sta	<L404+2+8
  7873 03:1F2B: A5 16        	lda	<L404+1
  7874 03:1F2D: 85 1E        	sta	<L404+1+8
  7875 03:1F2F: 2B           	pld
  7876 03:1F30: 3B           	tsc
  7877 03:1F31: 18           	clc
  7878 03:1F32: 69 1D 00     	adc	#L404+8
  7879 03:1F35: 1B           	tcs
  7880 03:1F36: 98           	tya
  7881 03:1F37: 6B           	rtl
  7882                        ;}
  7883                        	.line	1011
  7884                        	.endblock	1011
  7885             00000015   L404	equ	21
  7886             00000009   L405	equ	9
  7887 03:1F38:              	ends
  7888                        	efunc
  7889                        	.endfunc	1011,9,21
  7890                        	.line	1011
  7891                        ;
  7892                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
  7893                        ;{
  7894                        	.line	1013
  7895                        	.line	1014
  7896                        	GUI
  7897                        	xdef	~~k_put_winicon_point
  7898                        	func
  7899                        	.function	1014
  7900                        ~~k_put_winicon_point:
  7901                        	longa	on
  7902                        	longi	on
  7903 03:1F38: 3B           	tsc
  7904 03:1F39: 38           	sec
  7905 03:1F3A: E9 15 00     	sbc	#L416
  7906 03:1F3D: 1B           	tcs
  7907 03:1F3E: 0B           	phd
  7908 03:1F3F: 5B           	tcd
  7909             00000004   iconCode_0	set	4
  7910             00000006   cx_0	set	6
  7911             00000008   cy_0	set	8
  7912             0000000A   paletteId_0	set	10
  7913             0000000C   mode_0	set	12
  7914                        	.block	1014
  7915                        ;	int x = 0;
  7916                        ;	int y = 0;
  7917                        ;	int textX = cx;
  7918                        ;	int textY = cy;
  7919                        ;
  7920                        ;	char FAR* img = NULL;
  7921                        ;	
  7922                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
  7923             00000000   x_1	set	0
  7924             00000002   y_1	set	2
  7925             00000004   textX_1	set	4
  7926             00000006   textY_1	set	6
  Wed Nov 18 2020  8:27                                                Page 144


  7927             00000008   img_1	set	8
  7928                        	.sym	x,0,5,1,16
  7929                        	.sym	y,2,5,1,16
  7930                        	.sym	textX,4,5,1,16
  7931                        	.sym	textY,6,5,1,16
  7932                        	.sym	img,8,142,1,32
  7933                        	.sym	iconCode,4,14,6,8
  7934                        	.sym	cx,6,5,6,16
  7935                        	.sym	cy,8,5,6,16
  7936                        	.sym	paletteId,10,5,6,16
  7937                        	.sym	mode,12,5,6,16
  7938 03:1F40: 64 09        	stz	<L417+x_1
  7939 03:1F42: 64 0B        	stz	<L417+y_1
  7940 03:1F44: A5 1B        	lda	<L416+cx_0
  7941 03:1F46: 85 0D        	sta	<L417+textX_1
  7942 03:1F48: A5 1D        	lda	<L416+cy_0
  7943 03:1F4A: 85 0F        	sta	<L417+textY_1
  7944 03:1F4C: 64 11        	stz	<L417+img_1
  7945 03:1F4E: 64 13        	stz	<L417+img_1+2
  7946                        	.line	1022
  7947 03:1F50: A5 19        	lda	<L416+iconCode_0
  7948 03:1F52: 29 FF 00     	and	#<$ff
  7949 03:1F55: 85 05        	sta	<R1
  7950 03:1F57: A0 00 00     	ldy	#$0
  7951 03:1F5A: A5 05        	lda	<R1
  7952 03:1F5C: 10 01        	bpl	L419
  7953 03:1F5E: 88           	dey
  7954                        L419:
  7955 03:1F5F: 85 05        	sta	<R1
  7956 03:1F61: 84 07        	sty	<R1+2
  7957 03:1F63: D4 07        	pei	<R1+2
  7958 03:1F65: D4 05        	pei	<R1
  7959 03:1F67: A9 08 00     	lda	#$8
  7960                        	xref	~~~lasl
  7961 03:1F6A: 22 xx xx xx  	jsl	~~~lasl
  7962 03:1F6E: 85 01        	sta	<R0
  7963 03:1F70: 86 03        	stx	<R0+2
  7964 03:1F72: 18           	clc
  7965 03:1F73: A9 xx xx     	lda	#<~~windowIconImg
  7966 03:1F76: 65 01        	adc	<R0
  7967 03:1F78: 85 11        	sta	<L417+img_1
  7968 03:1F7A: A9 xx xx     	lda	#^~~windowIconImg
  7969 03:1F7D: 65 03        	adc	<R0+2
  7970 03:1F7F: 85 13        	sta	<L417+img_1+2
  7971                        ;	if(img!=NULL)
  7972                        	.line	1023
  7973                        ;	{
  7974 03:1F81: A5 11        	lda	<L417+img_1
  7975 03:1F83: 05 13        	ora	<L417+img_1+2
  7976 03:1F85: D0 03        	bne	L420
  7977 03:1F87: 82 BD 00     	brl	L10102
  7978                        L420:
  7979                        	.line	1024
  7980                        ;		for (y = 0; y < ICONH; y++) 
  7981                        	.line	1025
  7982 03:1F8A: 64 0B        	stz	<L417+y_1
  7983                        L10105:
  7984                        ;		{
  Wed Nov 18 2020  8:27                                                Page 145


  7985                        	.line	1026
  7986                        ;			for (x = 0; x < ICONW; x++) 
  7987                        	.line	1027
  7988 03:1F8C: 64 09        	stz	<L417+x_1
  7989                        L10108:
  7990                        ;			{
  7991                        	.line	1028
  7992                        ;				char b = img[y * ICONW +
                     x];
  7993                        ;				if (b > 0) 
  7994                        	.block	1030
  7995             0000000C   b_2	set	12
  7996                        	.sym	b,12,14,1,8
  7997 03:1F8E: A5 0B        	lda	<L417+y_1
  7998 03:1F90: 0A           	asl	A
  7999 03:1F91: 0A           	asl	A
  8000 03:1F92: 0A           	asl	A
  8001 03:1F93: 0A           	asl	A
  8002 03:1F94: 85 01        	sta	<R0
  8003 03:1F96: 18           	clc
  8004 03:1F97: A5 01        	lda	<R0
  8005 03:1F99: 65 09        	adc	<L417+x_1
  8006 03:1F9B: 85 05        	sta	<R1
  8007 03:1F9D: E2 20        	sep	#$20
  8008                        	longa	off
  8009 03:1F9F: A4 05        	ldy	<R1
  8010 03:1FA1: B7 11        	lda	[<L417+img_1],Y
  8011 03:1FA3: 85 15        	sta	<L417+b_2
  8012 03:1FA5: C2 20        	rep	#$20
  8013                        	longa	on
  8014                        	.line	1030
  8015                        ;				{
  8016 03:1FA7: E2 20        	sep	#$20
  8017                        	longa	off
  8018 03:1FA9: A9 00        	lda	#$0
  8019 03:1FAB: C5 15        	cmp	<L417+b_2
  8020 03:1FAD: C2 20        	rep	#$20
  8021                        	longa	on
  8022 03:1FAF: 90 03        	bcc	L422
  8023 03:1FB1: 82 68 00     	brl	L10109
  8024                        L422:
  8025                        	.line	1031
  8026                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
  8027                        	.line	1032
  8028                        ;						b = pale
                    tteId;
  8029 03:1FB4: A5 21        	lda	<L416+mode_0
  8030 03:1FB6: C9 F0 00     	cmp	#<$f0
  8031 03:1FB9: F0 03        	beq	L423
  8032 03:1FBB: 82 08 00     	brl	L10110
  8033                        L423:
  8034                        	.line	1033
  8035 03:1FBE: E2 20        	sep	#$20
  8036                        	longa	off
  8037 03:1FC0: A5 1F        	lda	<L416+paletteId_0
  8038 03:1FC2: 85 15        	sta	<L417+b_2
  8039 03:1FC4: C2 20        	rep	#$20
  Wed Nov 18 2020  8:27                                                Page 146


  8040                        	longa	on
  8041                        ;
  8042                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
  8043                        L10110:
  8044                        	.line	1035
  8045                        ;						b = pale
                    tteId;
  8046 03:1FC6: A5 21        	lda	<L416+mode_0
  8047 03:1FC8: C9 F1 00     	cmp	#<$f1
  8048 03:1FCB: F0 03        	beq	L424
  8049 03:1FCD: 82 15 00     	brl	L10111
  8050                        L424:
  8051 03:1FD0: E2 20        	sep	#$20
  8052                        	longa	off
  8053 03:1FD2: A5 15        	lda	<L417+b_2
  8054 03:1FD4: C9 0F        	cmp	#<$f
  8055 03:1FD6: C2 20        	rep	#$20
  8056                        	longa	on
  8057 03:1FD8: F0 03        	beq	L425
  8058 03:1FDA: 82 08 00     	brl	L10111
  8059                        L425:
  8060                        	.line	1036
  8061 03:1FDD: E2 20        	sep	#$20
  8062                        	longa	off
  8063 03:1FDF: A5 1F        	lda	<L416+paletteId_0
  8064 03:1FE1: 85 15        	sta	<L417+b_2
  8065 03:1FE3: C2 20        	rep	#$20
  8066                        	longa	on
  8067                        ;
  8068                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
  8069                        L10111:
  8070                        	.line	1038
  8071 03:1FE5: D4 15        	pei	<L417+b_2
  8072 03:1FE7: 18           	clc
  8073 03:1FE8: A5 0F        	lda	<L417+textY_1
  8074 03:1FEA: 65 0B        	adc	<L417+y_1
  8075 03:1FEC: 85 01        	sta	<R0
  8076 03:1FEE: A0 00 00     	ldy	#$0
  8077 03:1FF1: A5 01        	lda	<R0
  8078 03:1FF3: 10 01        	bpl	L426
  8079 03:1FF5: 88           	dey
  8080                        L426:
  8081 03:1FF6: 85 01        	sta	<R0
  8082 03:1FF8: 84 03        	sty	<R0+2
  8083 03:1FFA: D4 03        	pei	<R0+2
  8084 03:1FFC: D4 01        	pei	<R0
  8085 03:1FFE: 18           	clc
  8086 03:1FFF: A5 0D        	lda	<L417+textX_1
  8087 03:2001: 65 09        	adc	<L417+x_1
  8088 03:2003: 85 05        	sta	<R1
  8089 03:2005: A0 00 00     	ldy	#$0
  8090 03:2008: A5 05        	lda	<R1
  8091 03:200A: 10 01        	bpl	L427
  8092 03:200C: 88           	dey
  8093                        L427:
  8094 03:200D: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 147


  8095 03:200F: 84 07        	sty	<R1+2
  8096 03:2011: D4 07        	pei	<R1+2
  8097 03:2013: D4 05        	pei	<R1
  8098 03:2015: 22 77 0C 03  	jsl	~~k_draw_pixel
  8099                        ;				}
  8100                        	.line	1039
  8101                        ;				else 
  8102 03:2019: 82 07 00     	brl	L10112
  8103                        L10109:
  8104                        ;				{ 
  8105                        	.line	1041
  8106                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
  8107                        	.line	1042
  8108                        ;					{
  8109 03:201C: A5 21        	lda	<L416+mode_0
  8110 03:201E: D0 03        	bne	L428
  8111 03:2020: 82 00 00     	brl	L10113
  8112                        L428:
  8113                        	.line	1043
  8114                        ;					
  8115                        ;					}
  8116                        	.line	1045
  8117                        ;				}
  8118                        L10113:
  8119                        	.line	1046
  8120                        L10112:
  8121                        ;			}
  8122                        	.endblock	1047
  8123                        	.line	1047
  8124                        L10106:
  8125 03:2023: E6 09        	inc	<L417+x_1
  8126 03:2025: 38           	sec
  8127 03:2026: A5 09        	lda	<L417+x_1
  8128 03:2028: E9 10 00     	sbc	#<$10
  8129 03:202B: 70 03        	bvs	L429
  8130 03:202D: 49 00 80     	eor	#$8000
  8131                        L429:
  8132 03:2030: 30 03        	bmi	L430
  8133 03:2032: 82 59 FF     	brl	L10108
  8134                        L430:
  8135                        L10107:
  8136                        ;		}
  8137                        	.line	1048
  8138                        L10103:
  8139 03:2035: E6 0B        	inc	<L417+y_1
  8140 03:2037: 38           	sec
  8141 03:2038: A5 0B        	lda	<L417+y_1
  8142 03:203A: E9 10 00     	sbc	#<$10
  8143 03:203D: 70 03        	bvs	L431
  8144 03:203F: 49 00 80     	eor	#$8000
  8145                        L431:
  8146 03:2042: 30 03        	bmi	L432
  8147 03:2044: 82 45 FF     	brl	L10105
  8148                        L432:
  8149                        L10104:
  8150                        ;	}
  8151                        	.line	1049
  Wed Nov 18 2020  8:27                                                Page 148


  8152                        ;	return FONTW;
  8153                        L10102:
  8154                        	.line	1050
  8155 03:2047: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  8156                        L433:
  8157 03:204B: A8           	tay
  8158 03:204C: A5 17        	lda	<L416+2
  8159 03:204E: 85 21        	sta	<L416+2+10
  8160 03:2050: A5 16        	lda	<L416+1
  8161 03:2052: 85 20        	sta	<L416+1+10
  8162 03:2054: 2B           	pld
  8163 03:2055: 3B           	tsc
  8164 03:2056: 18           	clc
  8165 03:2057: 69 1F 00     	adc	#L416+10
  8166 03:205A: 1B           	tcs
  8167 03:205B: 98           	tya
  8168 03:205C: 6B           	rtl
  8169                        ;}
  8170                        	.line	1051
  8171                        	.endblock	1051
  8172             00000015   L416	equ	21
  8173             00000009   L417	equ	9
  8174 03:205D:              	ends
  8175                        	efunc
  8176                        	.endfunc	1051,9,21
  8177                        	.line	1051
  8178                        ;
  8179                        ;
  8180                        ;/*
  8181                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
  8182                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
  8183                        ;
  8184                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
  8185                        ;
  8186                        ;		k_add_window_hit_node();
  8187                        ;
  8188                        ;
  8189                        ; */
  8190                        ;
  8191                        ;
  8192                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
  8193                        ;{
  8194                        	.line	1066
  8195                        	.line	1067
  8196                        	GUI
  8197                        	xdef	~~k_put_winicon_scaled
  8198                        	func
  8199                        	.function	1067
  8200                        ~~k_put_winicon_scaled:
  8201                        	longa	on
  8202                        	longi	on
  8203 03:205D: 3B           	tsc
  8204 03:205E: 38           	sec
  Wed Nov 18 2020  8:27                                                Page 149


  8205 03:205F: E9 25 00     	sbc	#L434
  8206 03:2062: 1B           	tcs
  8207 03:2063: 0B           	phd
  8208 03:2064: 5B           	tcd
  8209             00000004   iconCode_0	set	4
  8210             00000006   cx_0	set	6
  8211             00000008   cy_0	set	8
  8212             0000000A   paletteId_0	set	10
  8213             0000000C   mode_0	set	12
  8214             0000000E   scale_0	set	14
  8215                        	.block	1067
  8216                        ;	int x = 0;
  8217                        ;	int y = 0;
  8218                        ;
  8219                        ;	int height = ICONH * scale;
  8220                        ;	int width  = ICONW * scale;
  8221                        ;	
  8222                        ;	int textX = cx ;
  8223                        ;	int textY = cy ;
  8224                        ;
  8225                        ;	int px   = 0;
  8226                        ;	int py   = 0;
  8227                        ;	int offx = 0;
  8228                        ;	int offy = 0;
  8229                        ;	int sx   = 0;
  8230                        ;	int sy   = 0;
  8231                        ;
  8232                        ;	char b   = 0;
  8233                        ;
  8234                        ;	char FAR* img = NULL;
  8235                        ;
  8236                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
  8237             00000000   x_1	set	0
  8238             00000002   y_1	set	2
  8239             00000004   height_1	set	4
  8240             00000006   width_1	set	6
  8241             00000008   textX_1	set	8
  8242             0000000A   textY_1	set	10
  8243             0000000C   px_1	set	12
  8244             0000000E   py_1	set	14
  8245             00000010   offx_1	set	16
  8246             00000012   offy_1	set	18
  8247             00000014   sx_1	set	20
  8248             00000016   sy_1	set	22
  8249             00000018   b_1	set	24
  8250             00000019   img_1	set	25
  8251                        	.sym	x,0,5,1,16
  8252                        	.sym	y,2,5,1,16
  8253                        	.sym	height,4,5,1,16
  8254                        	.sym	width,6,5,1,16
  8255                        	.sym	textX,8,5,1,16
  8256                        	.sym	textY,10,5,1,16
  8257                        	.sym	px,12,5,1,16
  8258                        	.sym	py,14,5,1,16
  8259                        	.sym	offx,16,5,1,16
  8260                        	.sym	offy,18,5,1,16
  8261                        	.sym	sx,20,5,1,16
  Wed Nov 18 2020  8:27                                                Page 150


  8262                        	.sym	sy,22,5,1,16
  8263                        	.sym	b,24,14,1,8
  8264                        	.sym	img,25,142,1,32
  8265                        	.sym	iconCode,4,14,6,8
  8266                        	.sym	cx,6,5,6,16
  8267                        	.sym	cy,8,5,6,16
  8268                        	.sym	paletteId,10,14,6,8
  8269                        	.sym	mode,12,5,6,16
  8270                        	.sym	scale,14,5,6,16
  8271 03:2065: 64 09        	stz	<L435+x_1
  8272 03:2067: 64 0B        	stz	<L435+y_1
  8273 03:2069: A5 33        	lda	<L434+scale_0
  8274 03:206B: 0A           	asl	A
  8275 03:206C: 0A           	asl	A
  8276 03:206D: 0A           	asl	A
  8277 03:206E: 0A           	asl	A
  8278 03:206F: 85 0D        	sta	<L435+height_1
  8279 03:2071: A5 33        	lda	<L434+scale_0
  8280 03:2073: 0A           	asl	A
  8281 03:2074: 0A           	asl	A
  8282 03:2075: 0A           	asl	A
  8283 03:2076: 0A           	asl	A
  8284 03:2077: 85 0F        	sta	<L435+width_1
  8285 03:2079: A5 2B        	lda	<L434+cx_0
  8286 03:207B: 85 11        	sta	<L435+textX_1
  8287 03:207D: A5 2D        	lda	<L434+cy_0
  8288 03:207F: 85 13        	sta	<L435+textY_1
  8289 03:2081: 64 15        	stz	<L435+px_1
  8290 03:2083: 64 17        	stz	<L435+py_1
  8291 03:2085: 64 19        	stz	<L435+offx_1
  8292 03:2087: 64 1B        	stz	<L435+offy_1
  8293 03:2089: 64 1D        	stz	<L435+sx_1
  8294 03:208B: 64 1F        	stz	<L435+sy_1
  8295 03:208D: E2 20        	sep	#$20
  8296                        	longa	off
  8297 03:208F: 64 21        	stz	<L435+b_1
  8298 03:2091: C2 20        	rep	#$20
  8299                        	longa	on
  8300 03:2093: 64 22        	stz	<L435+img_1
  8301 03:2095: 64 24        	stz	<L435+img_1+2
  8302                        	.line	1088
  8303 03:2097: A5 29        	lda	<L434+iconCode_0
  8304 03:2099: 29 FF 00     	and	#<$ff
  8305 03:209C: 85 05        	sta	<R1
  8306 03:209E: A0 00 00     	ldy	#$0
  8307 03:20A1: A5 05        	lda	<R1
  8308 03:20A3: 10 01        	bpl	L437
  8309 03:20A5: 88           	dey
  8310                        L437:
  8311 03:20A6: 85 05        	sta	<R1
  8312 03:20A8: 84 07        	sty	<R1+2
  8313 03:20AA: D4 07        	pei	<R1+2
  8314 03:20AC: D4 05        	pei	<R1
  8315 03:20AE: A9 08 00     	lda	#$8
  8316                        	xref	~~~lasl
  8317 03:20B1: 22 xx xx xx  	jsl	~~~lasl
  8318 03:20B5: 85 01        	sta	<R0
  8319 03:20B7: 86 03        	stx	<R0+2
  Wed Nov 18 2020  8:27                                                Page 151


  8320 03:20B9: 18           	clc
  8321 03:20BA: A9 xx xx     	lda	#<~~windowIconImg
  8322 03:20BD: 65 01        	adc	<R0
  8323 03:20BF: 85 22        	sta	<L435+img_1
  8324 03:20C1: A9 xx xx     	lda	#^~~windowIconImg
  8325 03:20C4: 65 03        	adc	<R0+2
  8326 03:20C6: 85 24        	sta	<L435+img_1+2
  8327                        ;	if(img!=NULL)
  8328                        	.line	1089
  8329                        ;	{
  8330 03:20C8: A5 22        	lda	<L435+img_1
  8331 03:20CA: 05 24        	ora	<L435+img_1+2
  8332 03:20CC: D0 03        	bne	L438
  8333 03:20CE: 82 E2 00     	brl	L10114
  8334                        L438:
  8335                        	.line	1090
  8336                        ;		py = 0;
  8337                        	.line	1091
  8338 03:20D1: 64 17        	stz	<L435+py_1
  8339                        ;		for (y = 0; y < height; y+=scale) 
  8340                        	.line	1092
  8341 03:20D3: 64 0B        	stz	<L435+y_1
  8342 03:20D5: 82 CC 00     	brl	L10118
  8343                        L10117:
  8344                        ;		{
  8345                        	.line	1093
  8346                        ;			offy = y;
  8347                        	.line	1094
  8348 03:20D8: A5 0B        	lda	<L435+y_1
  8349 03:20DA: 85 1B        	sta	<L435+offy_1
  8350                        ;			px   = 0;
  8351                        	.line	1095
  8352 03:20DC: 64 15        	stz	<L435+px_1
  8353                        ;			for (x = 0; x < width; x+=scale)
                     
  8354                        	.line	1096
  8355 03:20DE: 64 09        	stz	<L435+x_1
  8356 03:20E0: 82 A9 00     	brl	L10122
  8357                        L10121:
  8358                        ;			{
  8359                        	.line	1097
  8360                        ;				// get the pixel value
  8361                        ;				offx = x;
  8362                        	.line	1099
  8363 03:20E3: A5 09        	lda	<L435+x_1
  8364 03:20E5: 85 19        	sta	<L435+offx_1
  8365                        ;				b = img[py * ICONW + px]
                    ;
  8366                        	.line	1100
  8367 03:20E7: A5 17        	lda	<L435+py_1
  8368 03:20E9: 0A           	asl	A
  8369 03:20EA: 0A           	asl	A
  8370 03:20EB: 0A           	asl	A
  8371 03:20EC: 0A           	asl	A
  8372 03:20ED: 85 01        	sta	<R0
  8373 03:20EF: 18           	clc
  8374 03:20F0: A5 01        	lda	<R0
  8375 03:20F2: 65 15        	adc	<L435+px_1
  Wed Nov 18 2020  8:27                                                Page 152


  8376 03:20F4: 85 05        	sta	<R1
  8377 03:20F6: E2 20        	sep	#$20
  8378                        	longa	off
  8379 03:20F8: A4 05        	ldy	<R1
  8380 03:20FA: B7 22        	lda	[<L435+img_1],Y
  8381 03:20FC: 85 21        	sta	<L435+b_1
  8382 03:20FE: C2 20        	rep	#$20
  8383                        	longa	on
  8384                        ;				if (b > -1) 
  8385                        	.line	1101
  8386                        ;				{ // plot the pixel	
                    				
  8387 03:2100: A5 21        	lda	<L435+b_1
  8388 03:2102: 29 FF 00     	and	#$ff
  8389 03:2105: 85 01        	sta	<R0
  8390 03:2107: 38           	sec
  8391 03:2108: A9 FF FF     	lda	#$ffff
  8392 03:210B: E5 01        	sbc	<R0
  8393 03:210D: 70 03        	bvs	L439
  8394 03:210F: 49 00 80     	eor	#$8000
  8395                        L439:
  8396 03:2112: 10 03        	bpl	L440
  8397 03:2114: 82 6C 00     	brl	L10123
  8398                        L440:
  8399                        	.line	1102
  8400                        ;					offy = y;
  8401                        	.line	1103
  8402 03:2117: A5 0B        	lda	<L435+y_1
  8403 03:2119: 85 1B        	sta	<L435+offy_1
  8404                        ;					for(sy=0;sy<scal
                    e;sy++)
  8405                        	.line	1104
  8406 03:211B: 64 1F        	stz	<L435+sy_1
  8407 03:211D: 82 54 00     	brl	L10127
  8408                        L10126:
  8409                        ;					{
  8410                        	.line	1105
  8411                        ;						offx = x
                    ;
  8412                        	.line	1106
  8413 03:2120: A5 09        	lda	<L435+x_1
  8414 03:2122: 85 19        	sta	<L435+offx_1
  8415                        ;						for(sx=0
                    ;sx<scale;sx++)
  8416                        	.line	1107
  8417 03:2124: 64 1D        	stz	<L435+sx_1
  8418 03:2126: 82 38 00     	brl	L10131
  8419                        L10130:
  8420                        ;						{
  8421                        	.line	1108
  8422                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
  8423                        	.line	1109
  8424 03:2129: D4 21        	pei	<L435+b_1
  8425 03:212B: 18           	clc
  8426 03:212C: A5 13        	lda	<L435+textY_1
  8427 03:212E: 65 1B        	adc	<L435+offy_1
  8428 03:2130: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 153


  8429 03:2132: A0 00 00     	ldy	#$0
  8430 03:2135: A5 01        	lda	<R0
  8431 03:2137: 10 01        	bpl	L441
  8432 03:2139: 88           	dey
  8433                        L441:
  8434 03:213A: 85 01        	sta	<R0
  8435 03:213C: 84 03        	sty	<R0+2
  8436 03:213E: D4 03        	pei	<R0+2
  8437 03:2140: D4 01        	pei	<R0
  8438 03:2142: 18           	clc
  8439 03:2143: A5 11        	lda	<L435+textX_1
  8440 03:2145: 65 19        	adc	<L435+offx_1
  8441 03:2147: 85 05        	sta	<R1
  8442 03:2149: A0 00 00     	ldy	#$0
  8443 03:214C: A5 05        	lda	<R1
  8444 03:214E: 10 01        	bpl	L442
  8445 03:2150: 88           	dey
  8446                        L442:
  8447 03:2151: 85 05        	sta	<R1
  8448 03:2153: 84 07        	sty	<R1+2
  8449 03:2155: D4 07        	pei	<R1+2
  8450 03:2157: D4 05        	pei	<R1
  8451 03:2159: 22 77 0C 03  	jsl	~~k_draw_pixel
  8452                        ;							
                    offx++;
  8453                        	.line	1110
  8454 03:215D: E6 19        	inc	<L435+offx_1
  8455                        ;						}
  8456                        	.line	1111
  8457                        L10128:
  8458 03:215F: E6 1D        	inc	<L435+sx_1
  8459                        L10131:
  8460 03:2161: 38           	sec
  8461 03:2162: A5 1D        	lda	<L435+sx_1
  8462 03:2164: E5 33        	sbc	<L434+scale_0
  8463 03:2166: 70 03        	bvs	L443
  8464 03:2168: 49 00 80     	eor	#$8000
  8465                        L443:
  8466 03:216B: 30 03        	bmi	L444
  8467 03:216D: 82 B9 FF     	brl	L10130
  8468                        L444:
  8469                        L10129:
  8470                        ;						offy++;
  8471                        	.line	1112
  8472 03:2170: E6 1B        	inc	<L435+offy_1
  8473                        ;					}
  8474                        	.line	1113
  8475                        L10124:
  8476 03:2172: E6 1F        	inc	<L435+sy_1
  8477                        L10127:
  8478 03:2174: 38           	sec
  8479 03:2175: A5 1F        	lda	<L435+sy_1
  8480 03:2177: E5 33        	sbc	<L434+scale_0
  8481 03:2179: 70 03        	bvs	L445
  8482 03:217B: 49 00 80     	eor	#$8000
  8483                        L445:
  8484 03:217E: 30 03        	bmi	L446
  8485 03:2180: 82 9D FF     	brl	L10126
  Wed Nov 18 2020  8:27                                                Page 154


  8486                        L446:
  8487                        L10125:
  8488                        ;				}
  8489                        	.line	1114
  8490                        ;				px++;
  8491                        L10123:
  8492                        	.line	1115
  8493 03:2183: E6 15        	inc	<L435+px_1
  8494                        ;			} // end "for x"
  8495                        	.line	1116
  8496                        L10119:
  8497 03:2185: 18           	clc
  8498 03:2186: A5 09        	lda	<L435+x_1
  8499 03:2188: 65 33        	adc	<L434+scale_0
  8500 03:218A: 85 09        	sta	<L435+x_1
  8501                        L10122:
  8502 03:218C: 38           	sec
  8503 03:218D: A5 09        	lda	<L435+x_1
  8504 03:218F: E5 0F        	sbc	<L435+width_1
  8505 03:2191: 70 03        	bvs	L447
  8506 03:2193: 49 00 80     	eor	#$8000
  8507                        L447:
  8508 03:2196: 30 03        	bmi	L448
  8509 03:2198: 82 48 FF     	brl	L10121
  8510                        L448:
  8511                        L10120:
  8512                        ;			py++;
  8513                        	.line	1117
  8514 03:219B: E6 17        	inc	<L435+py_1
  8515                        ;		} // end "for y"
  8516                        	.line	1118
  8517                        L10115:
  8518 03:219D: 18           	clc
  8519 03:219E: A5 0B        	lda	<L435+y_1
  8520 03:21A0: 65 33        	adc	<L434+scale_0
  8521 03:21A2: 85 0B        	sta	<L435+y_1
  8522                        L10118:
  8523 03:21A4: 38           	sec
  8524 03:21A5: A5 0B        	lda	<L435+y_1
  8525 03:21A7: E5 0D        	sbc	<L435+height_1
  8526 03:21A9: 70 03        	bvs	L449
  8527 03:21AB: 49 00 80     	eor	#$8000
  8528                        L449:
  8529 03:21AE: 30 03        	bmi	L450
  8530 03:21B0: 82 25 FF     	brl	L10117
  8531                        L450:
  8532                        L10116:
  8533                        ;	}
  8534                        	.line	1119
  8535                        ;}
  8536                        L10114:
  8537                        	.line	1120
  8538                        L451:
  8539 03:21B3: A5 27        	lda	<L434+2
  8540 03:21B5: 85 33        	sta	<L434+2+12
  8541 03:21B7: A5 26        	lda	<L434+1
  8542 03:21B9: 85 32        	sta	<L434+1+12
  8543 03:21BB: 2B           	pld
  Wed Nov 18 2020  8:27                                                Page 155


  8544 03:21BC: 3B           	tsc
  8545 03:21BD: 18           	clc
  8546 03:21BE: 69 31 00     	adc	#L434+12
  8547 03:21C1: 1B           	tcs
  8548 03:21C2: 6B           	rtl
  8549                        	.endblock	1120
  8550             00000025   L434	equ	37
  8551             00000009   L435	equ	9
  8552 03:21C3:              	ends
  8553                        	efunc
  8554                        	.endfunc	1120,9,37
  8555                        	.line	1120
  8556                        ;
  8557                        ;
  8558                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
  8559                        ;{
  8560                        	.line	1123
  8561                        	.line	1124
  8562                        	GUI
  8563                        	xdef	~~k_put_font
  8564                        	func
  8565                        	.function	1124
  8566                        ~~k_put_font:
  8567                        	longa	on
  8568                        	longi	on
  8569 03:21C3: 3B           	tsc
  8570 03:21C4: 38           	sec
  8571 03:21C5: E9 21 00     	sbc	#L452
  8572 03:21C8: 1B           	tcs
  8573 03:21C9: 0B           	phd
  8574 03:21CA: 5B           	tcd
  8575             00000004   outChar_0	set	4
  8576             00000006   row_0	set	6
  8577             00000008   column_0	set	8
  8578             0000000A   color_0	set	10
  8579                        	.block	1124
  8580                        ;	int x = 0;
  8581                        ;	int y = 0;
  8582                        ;	int textX = row * FONTW;
  8583                        ;	int textY = column * FONTH;
  8584                        ;
  8585                        ;	char FAR* img = NULL;//fontImg[ix];
  8586                        ;
  8587                        ;    if(outChar == 32)
  8588             00000000   x_1	set	0
  8589             00000002   y_1	set	2
  8590             00000004   textX_1	set	4
  8591             00000006   textY_1	set	6
  8592             00000008   img_1	set	8
  8593                        	.sym	x,0,5,1,16
  8594                        	.sym	y,2,5,1,16
  8595                        	.sym	textX,4,5,1,16
  8596                        	.sym	textY,6,5,1,16
  8597                        	.sym	img,8,142,1,32
  8598                        	.sym	outChar,4,14,6,8
  8599                        	.sym	row,6,5,6,16
  8600                        	.sym	column,8,5,6,16
  Wed Nov 18 2020  8:27                                                Page 156


  8601                        	.sym	color,10,14,6,8
  8602 03:21CB: 64 15        	stz	<L453+x_1
  8603 03:21CD: 64 17        	stz	<L453+y_1
  8604 03:21CF: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  8605 03:21D3: 85 01        	sta	<R0
  8606 03:21D5: A5 01        	lda	<R0
  8607 03:21D7: A6 27        	ldx	<L452+row_0
  8608                        	xref	~~~mul
  8609 03:21D9: 22 xx xx xx  	jsl	~~~mul
  8610 03:21DD: 85 19        	sta	<L453+textX_1
  8611 03:21DF: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  8612 03:21E3: 85 01        	sta	<R0
  8613 03:21E5: A5 01        	lda	<R0
  8614 03:21E7: A6 29        	ldx	<L452+column_0
  8615                        	xref	~~~mul
  8616 03:21E9: 22 xx xx xx  	jsl	~~~mul
  8617 03:21ED: 85 1B        	sta	<L453+textY_1
  8618 03:21EF: 64 1D        	stz	<L453+img_1
  8619 03:21F1: 64 1F        	stz	<L453+img_1+2
  8620                        	.line	1132
  8621                        ;	{
  8622 03:21F3: E2 20        	sep	#$20
  8623                        	longa	off
  8624 03:21F5: A5 25        	lda	<L452+outChar_0
  8625 03:21F7: C9 20        	cmp	#<$20
  8626 03:21F9: C2 20        	rep	#$20
  8627                        	longa	on
  8628 03:21FB: F0 03        	beq	L455
  8629 03:21FD: 82 07 00     	brl	L10132
  8630                        L455:
  8631                        	.line	1133
  8632                        ;	   img = NULL;
  8633                        	.line	1134
  8634 03:2200: 64 1D        	stz	<L453+img_1
  8635 03:2202: 64 1F        	stz	<L453+img_1+2
  8636                        ;    }
  8637                        	.line	1135
  8638                        ;    else
  8639 03:2204: 82 5B 00     	brl	L10133
  8640                        L10132:
  8641                        ;	{
  8642                        	.line	1137
  8643                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  8644                        	.line	1138
  8645 03:2207: A5 25        	lda	<L452+outChar_0
  8646 03:2209: 29 FF 00     	and	#<$ff
  8647 03:220C: 85 09        	sta	<R2
  8648 03:220E: A0 00 00     	ldy	#$0
  8649 03:2211: A5 09        	lda	<R2
  8650 03:2213: 10 01        	bpl	L456
  8651 03:2215: 88           	dey
  8652                        L456:
  8653 03:2216: 85 09        	sta	<R2
  8654 03:2218: 84 0B        	sty	<R2+2
  8655 03:221A: D4 0B        	pei	<R2+2
  8656 03:221C: D4 09        	pei	<R2
  8657 03:221E: A9 01 00     	lda	#$1
  Wed Nov 18 2020  8:27                                                Page 157


  8658                        	xref	~~~lasl
  8659 03:2221: 22 xx xx xx  	jsl	~~~lasl
  8660 03:2225: 85 05        	sta	<R1
  8661 03:2227: 86 07        	stx	<R1+2
  8662 03:2229: 18           	clc
  8663 03:222A: A9 xx xx     	lda	#<~~characterROMMapping
  8664 03:222D: 65 05        	adc	<R1
  8665 03:222F: 85 0D        	sta	<R3
  8666 03:2231: A9 xx xx     	lda	#^~~characterROMMapping
  8667 03:2234: 65 07        	adc	<R1+2
  8668 03:2236: 85 0F        	sta	<R3+2
  8669 03:2238: A0 00 00     	ldy	#$0
  8670 03:223B: A7 0D        	lda	[<R3]
  8671 03:223D: 10 01        	bpl	L457
  8672 03:223F: 88           	dey
  8673                        L457:
  8674 03:2240: 85 05        	sta	<R1
  8675 03:2242: 84 07        	sty	<R1+2
  8676 03:2244: D4 07        	pei	<R1+2
  8677 03:2246: D4 05        	pei	<R1
  8678 03:2248: A9 06 00     	lda	#$6
  8679                        	xref	~~~lasl
  8680 03:224B: 22 xx xx xx  	jsl	~~~lasl
  8681 03:224F: 85 01        	sta	<R0
  8682 03:2251: 86 03        	stx	<R0+2
  8683 03:2253: 18           	clc
  8684 03:2254: A9 xx xx     	lda	#<~~fontImg
  8685 03:2257: 65 01        	adc	<R0
  8686 03:2259: 85 1D        	sta	<L453+img_1
  8687 03:225B: A9 xx xx     	lda	#^~~fontImg
  8688 03:225E: 65 03        	adc	<R0+2
  8689 03:2260: 85 1F        	sta	<L453+img_1+2
  8690                        ;		//img = fontImg[0x02];
  8691                        ;	}
  8692                        	.line	1140
  8693                        L10133:
  8694                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  8695                        ;
  8696                        ;	// get the font 'image'
  8697                        ;        //char *img = fontImg[ix]; 
  8698                        ;        // loop through pixel rows
  8699                        ;	if(img!=NULL)
  8700                        	.line	1146
  8701                        ;	{
  8702 03:2262: A5 1D        	lda	<L453+img_1
  8703 03:2264: 05 1F        	ora	<L453+img_1+2
  8704 03:2266: D0 03        	bne	L458
  8705 03:2268: 82 DD 00     	brl	L10134
  8706                        L458:
  8707                        	.line	1147
  8708                        ;		for (y = 0; y < FONTH; y++) 
  8709                        	.line	1148
  8710 03:226B: 64 17        	stz	<L453+y_1
  8711 03:226D: 82 C9 00     	brl	L10138
  8712                        L10137:
  8713                        ;		{
  8714                        	.line	1149
  Wed Nov 18 2020  8:27                                                Page 158


  8715                        ;			// loop through pixel columns
  8716                        ;			for (x = 0; x < FONTW; x++) 
  8717                        	.line	1151
  8718 03:2270: 64 15        	stz	<L453+x_1
  8719 03:2272: 82 B3 00     	brl	L10142
  8720                        L10141:
  8721                        ;			{
  8722                        	.line	1152
  8723                        ;				// get the pixel value
  8724                        ;				char b = img[y * FONTW +
                     x];
  8725                        ;				if (b > 0) 
  8726                        	.block	1155
  8727             0000000C   b_2	set	12
  8728                        	.sym	b,12,14,1,8
  8729 03:2275: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  8730 03:2279: 85 01        	sta	<R0
  8731 03:227B: A5 01        	lda	<R0
  8732 03:227D: A6 17        	ldx	<L453+y_1
  8733                        	xref	~~~mul
  8734 03:227F: 22 xx xx xx  	jsl	~~~mul
  8735 03:2283: 85 01        	sta	<R0
  8736 03:2285: 18           	clc
  8737 03:2286: A5 01        	lda	<R0
  8738 03:2288: 65 15        	adc	<L453+x_1
  8739 03:228A: 85 05        	sta	<R1
  8740 03:228C: E2 20        	sep	#$20
  8741                        	longa	off
  8742 03:228E: A4 05        	ldy	<R1
  8743 03:2290: B7 1D        	lda	[<L453+img_1],Y
  8744 03:2292: 85 21        	sta	<L453+b_2
  8745 03:2294: C2 20        	rep	#$20
  8746                        	longa	on
  8747                        	.line	1155
  8748                        ;				{ // plot the pixel
  8749 03:2296: E2 20        	sep	#$20
  8750                        	longa	off
  8751 03:2298: A9 00        	lda	#$0
  8752 03:229A: C5 21        	cmp	<L453+b_2
  8753 03:229C: C2 20        	rep	#$20
  8754                        	longa	on
  8755 03:229E: 90 03        	bcc	L460
  8756 03:22A0: 82 83 00     	brl	L10143
  8757                        L460:
  8758                        	.line	1156
  8759                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
  8760                        ;					
  8761                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
  8762                        	.line	1159
  8763 03:22A3: A0 00 00     	ldy	#$0
  8764 03:22A6: A5 19        	lda	<L453+textX_1
  8765 03:22A8: 10 01        	bpl	L461
  8766 03:22AA: 88           	dey
  8767                        L461:
  8768 03:22AB: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 159


  8769 03:22AD: 84 03        	sty	<R0+2
  8770 03:22AF: A0 00 00     	ldy	#$0
  8771 03:22B2: A5 15        	lda	<L453+x_1
  8772 03:22B4: 10 01        	bpl	L462
  8773 03:22B6: 88           	dey
  8774                        L462:
  8775 03:22B7: 85 05        	sta	<R1
  8776 03:22B9: 84 07        	sty	<R1+2
  8777 03:22BB: A0 00 00     	ldy	#$0
  8778 03:22BE: A5 17        	lda	<L453+y_1
  8779 03:22C0: 10 01        	bpl	L463
  8780 03:22C2: 88           	dey
  8781                        L463:
  8782 03:22C3: 85 09        	sta	<R2
  8783 03:22C5: 84 0B        	sty	<R2+2
  8784 03:22C7: A0 00 00     	ldy	#$0
  8785 03:22CA: A5 1B        	lda	<L453+textY_1
  8786 03:22CC: 10 01        	bpl	L464
  8787 03:22CE: 88           	dey
  8788                        L464:
  8789 03:22CF: 85 0D        	sta	<R3
  8790 03:22D1: 84 0F        	sty	<R3+2
  8791 03:22D3: 18           	clc
  8792 03:22D4: A5 0D        	lda	<R3
  8793 03:22D6: 65 09        	adc	<R2
  8794 03:22D8: 85 11        	sta	<17
  8795 03:22DA: A5 0F        	lda	<R3+2
  8796 03:22DC: 65 0B        	adc	<R2+2
  8797 03:22DE: 85 13        	sta	<17+2
  8798 03:22E0: F4 00 00     	pea	#^$280
  8799 03:22E3: F4 80 02     	pea	#<$280
  8800 03:22E6: D4 13        	pei	<17+2
  8801 03:22E8: D4 11        	pei	<17
  8802                        	xref	~~~lmul
  8803 03:22EA: 22 xx xx xx  	jsl	~~~lmul
  8804 03:22EE: 85 09        	sta	<R2
  8805 03:22F0: 86 0B        	stx	<R2+2
  8806 03:22F2: 18           	clc
  8807 03:22F3: A5 09        	lda	<R2
  8808 03:22F5: 65 05        	adc	<R1
  8809 03:22F7: 85 0D        	sta	<R3
  8810 03:22F9: A5 0B        	lda	<R2+2
  8811 03:22FB: 65 07        	adc	<R1+2
  8812 03:22FD: 85 0F        	sta	<R3+2
  8813 03:22FF: 18           	clc
  8814 03:2300: A5 0D        	lda	<R3
  8815 03:2302: 65 01        	adc	<R0
  8816 03:2304: 85 05        	sta	<R1
  8817 03:2306: A5 0F        	lda	<R3+2
  8818 03:2308: 65 03        	adc	<R0+2
  8819 03:230A: 85 07        	sta	<R1+2
  8820 03:230C: 18           	clc
  8821 03:230D: A9 00 00     	lda	#$0
  8822 03:2310: 65 05        	adc	<R1
  8823 03:2312: 85 01        	sta	<R0
  8824 03:2314: A9 B0 00     	lda	#$b0
  8825 03:2317: 65 07        	adc	<R1+2
  8826 03:2319: 85 03        	sta	<R0+2
  Wed Nov 18 2020  8:27                                                Page 160


  8827 03:231B: E2 20        	sep	#$20
  8828                        	longa	off
  8829 03:231D: A5 2B        	lda	<L452+color_0
  8830 03:231F: 87 01        	sta	[<R0]
  8831 03:2321: C2 20        	rep	#$20
  8832                        	longa	on
  8833                        ;				}
  8834                        	.line	1160
  8835                        ;				else 
  8836 03:2323: 82 00 00     	brl	L10144
  8837                        L10143:
  8838                        ;				{ 
  8839                        	.line	1162
  8840                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  8841                        ;				}
  8842                        	.line	1164
  8843                        L10144:
  8844                        ;			} // end "for x"
  8845                        	.endblock	1165
  8846                        	.line	1165
  8847                        L10139:
  8848 03:2326: E6 15        	inc	<L453+x_1
  8849                        L10142:
  8850 03:2328: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  8851 03:232C: 85 01        	sta	<R0
  8852 03:232E: A5 15        	lda	<L453+x_1
  8853 03:2330: C5 01        	cmp	<R0
  8854 03:2332: B0 03        	bcs	L465
  8855 03:2334: 82 3E FF     	brl	L10141
  8856                        L465:
  8857                        L10140:
  8858                        ;		} // end "for y"
  8859                        	.line	1166
  8860                        L10135:
  8861 03:2337: E6 17        	inc	<L453+y_1
  8862                        L10138:
  8863 03:2339: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  8864 03:233D: 85 01        	sta	<R0
  8865 03:233F: A5 17        	lda	<L453+y_1
  8866 03:2341: C5 01        	cmp	<R0
  8867 03:2343: B0 03        	bcs	L466
  8868 03:2345: 82 28 FF     	brl	L10137
  8869                        L466:
  8870                        L10136:
  8871                        ;	}
  8872                        	.line	1167
  8873                        ;}
  8874                        L10134:
  8875                        	.line	1168
  8876                        L467:
  8877 03:2348: A5 23        	lda	<L452+2
  8878 03:234A: 85 2B        	sta	<L452+2+8
  8879 03:234C: A5 22        	lda	<L452+1
  8880 03:234E: 85 2A        	sta	<L452+1+8
  8881 03:2350: 2B           	pld
  8882 03:2351: 3B           	tsc
  8883 03:2352: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 161


  8884 03:2353: 69 29 00     	adc	#L452+8
  8885 03:2356: 1B           	tcs
  8886 03:2357: 6B           	rtl
  8887                        	.endblock	1168
  8888             00000021   L452	equ	33
  8889             00000015   L453	equ	21
  8890 03:2358:              	ends
  8891                        	efunc
  8892                        	.endfunc	1168,21,33
  8893                        	.line	1168
  8894                        ;
  8895                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
  8896                        ;{
  8897                        	.line	1170
  8898                        	.line	1171
  8899                        	GUI
  8900                        	xdef	~~k_put_font_scaled
  8901                        	func
  8902                        	.function	1171
  8903                        ~~k_put_font_scaled:
  8904                        	longa	on
  8905                        	longi	on
  8906 03:2358: 3B           	tsc
  8907 03:2359: 38           	sec
  8908 03:235A: E9 2D 00     	sbc	#L468
  8909 03:235D: 1B           	tcs
  8910 03:235E: 0B           	phd
  8911 03:235F: 5B           	tcd
  8912             00000004   outChar_0	set	4
  8913             00000006   row_0	set	6
  8914             00000008   column_0	set	8
  8915             0000000A   color_0	set	10
  8916             0000000C   scale_0	set	12
  8917                        	.block	1171
  8918                        ;	int x = 0;
  8919                        ;	int y = 0;
  8920                        ;
  8921                        ;	int height = FONTH * scale;
  8922                        ;	int width  = FONTW * scale;
  8923                        ;	
  8924                        ;	int textX = row    * height;
  8925                        ;	int textY = column * width;
  8926                        ;
  8927                        ;	int px   = 0;
  8928                        ;	int py   = 0;
  8929                        ;	int offx = 0;
  8930                        ;	int offy = 0;
  8931                        ;	int sx   = 0;
  8932                        ;	int sy   = 0;
  8933                        ;
  8934                        ;	char b   = 0;
  8935                        ;
  8936                        ;	char FAR* img = NULL;//fontImg[ix];
  8937                        ;
  8938                        ;    if(outChar == 32)
  8939             00000000   x_1	set	0
  8940             00000002   y_1	set	2
  Wed Nov 18 2020  8:27                                                Page 162


  8941             00000004   height_1	set	4
  8942             00000006   width_1	set	6
  8943             00000008   textX_1	set	8
  8944             0000000A   textY_1	set	10
  8945             0000000C   px_1	set	12
  8946             0000000E   py_1	set	14
  8947             00000010   offx_1	set	16
  8948             00000012   offy_1	set	18
  8949             00000014   sx_1	set	20
  8950             00000016   sy_1	set	22
  8951             00000018   b_1	set	24
  8952             00000019   img_1	set	25
  8953                        	.sym	x,0,5,1,16
  8954                        	.sym	y,2,5,1,16
  8955                        	.sym	height,4,5,1,16
  8956                        	.sym	width,6,5,1,16
  8957                        	.sym	textX,8,5,1,16
  8958                        	.sym	textY,10,5,1,16
  8959                        	.sym	px,12,5,1,16
  8960                        	.sym	py,14,5,1,16
  8961                        	.sym	offx,16,5,1,16
  8962                        	.sym	offy,18,5,1,16
  8963                        	.sym	sx,20,5,1,16
  8964                        	.sym	sy,22,5,1,16
  8965                        	.sym	b,24,14,1,8
  8966                        	.sym	img,25,142,1,32
  8967                        	.sym	outChar,4,14,6,8
  8968                        	.sym	row,6,5,6,16
  8969                        	.sym	column,8,5,6,16
  8970                        	.sym	color,10,14,6,8
  8971                        	.sym	scale,12,5,6,16
  8972 03:2360: 64 11        	stz	<L469+x_1
  8973 03:2362: 64 13        	stz	<L469+y_1
  8974 03:2364: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  8975 03:2368: 85 01        	sta	<R0
  8976 03:236A: A5 01        	lda	<R0
  8977 03:236C: A6 39        	ldx	<L468+scale_0
  8978                        	xref	~~~mul
  8979 03:236E: 22 xx xx xx  	jsl	~~~mul
  8980 03:2372: 85 15        	sta	<L469+height_1
  8981 03:2374: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  8982 03:2378: 85 01        	sta	<R0
  8983 03:237A: A5 01        	lda	<R0
  8984 03:237C: A6 39        	ldx	<L468+scale_0
  8985                        	xref	~~~mul
  8986 03:237E: 22 xx xx xx  	jsl	~~~mul
  8987 03:2382: 85 17        	sta	<L469+width_1
  8988 03:2384: A5 33        	lda	<L468+row_0
  8989 03:2386: A6 15        	ldx	<L469+height_1
  8990                        	xref	~~~mul
  8991 03:2388: 22 xx xx xx  	jsl	~~~mul
  8992 03:238C: 85 19        	sta	<L469+textX_1
  8993 03:238E: A5 35        	lda	<L468+column_0
  8994 03:2390: A6 17        	ldx	<L469+width_1
  8995                        	xref	~~~mul
  8996 03:2392: 22 xx xx xx  	jsl	~~~mul
  8997 03:2396: 85 1B        	sta	<L469+textY_1
  8998 03:2398: 64 1D        	stz	<L469+px_1
  Wed Nov 18 2020  8:27                                                Page 163


  8999 03:239A: 64 1F        	stz	<L469+py_1
  9000 03:239C: 64 21        	stz	<L469+offx_1
  9001 03:239E: 64 23        	stz	<L469+offy_1
  9002 03:23A0: 64 25        	stz	<L469+sx_1
  9003 03:23A2: 64 27        	stz	<L469+sy_1
  9004 03:23A4: E2 20        	sep	#$20
  9005                        	longa	off
  9006 03:23A6: 64 29        	stz	<L469+b_1
  9007 03:23A8: C2 20        	rep	#$20
  9008                        	longa	on
  9009 03:23AA: 64 2A        	stz	<L469+img_1
  9010 03:23AC: 64 2C        	stz	<L469+img_1+2
  9011                        	.line	1192
  9012                        ;	{
  9013 03:23AE: E2 20        	sep	#$20
  9014                        	longa	off
  9015 03:23B0: A5 31        	lda	<L468+outChar_0
  9016 03:23B2: C9 20        	cmp	#<$20
  9017 03:23B4: C2 20        	rep	#$20
  9018                        	longa	on
  9019 03:23B6: F0 03        	beq	L471
  9020 03:23B8: 82 07 00     	brl	L10145
  9021                        L471:
  9022                        	.line	1193
  9023                        ;	   img = NULL;//fontSpace;
  9024                        	.line	1194
  9025 03:23BB: 64 2A        	stz	<L469+img_1
  9026 03:23BD: 64 2C        	stz	<L469+img_1+2
  9027                        ;    }
  9028                        	.line	1195
  9029                        ;    else
  9030 03:23BF: 82 5B 00     	brl	L10146
  9031                        L10145:
  9032                        ;	{
  9033                        	.line	1197
  9034                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  9035                        	.line	1198
  9036 03:23C2: A5 31        	lda	<L468+outChar_0
  9037 03:23C4: 29 FF 00     	and	#<$ff
  9038 03:23C7: 85 09        	sta	<R2
  9039 03:23C9: A0 00 00     	ldy	#$0
  9040 03:23CC: A5 09        	lda	<R2
  9041 03:23CE: 10 01        	bpl	L472
  9042 03:23D0: 88           	dey
  9043                        L472:
  9044 03:23D1: 85 09        	sta	<R2
  9045 03:23D3: 84 0B        	sty	<R2+2
  9046 03:23D5: D4 0B        	pei	<R2+2
  9047 03:23D7: D4 09        	pei	<R2
  9048 03:23D9: A9 01 00     	lda	#$1
  9049                        	xref	~~~lasl
  9050 03:23DC: 22 xx xx xx  	jsl	~~~lasl
  9051 03:23E0: 85 05        	sta	<R1
  9052 03:23E2: 86 07        	stx	<R1+2
  9053 03:23E4: 18           	clc
  9054 03:23E5: A9 xx xx     	lda	#<~~characterROMMapping
  9055 03:23E8: 65 05        	adc	<R1
  Wed Nov 18 2020  8:27                                                Page 164


  9056 03:23EA: 85 0D        	sta	<R3
  9057 03:23EC: A9 xx xx     	lda	#^~~characterROMMapping
  9058 03:23EF: 65 07        	adc	<R1+2
  9059 03:23F1: 85 0F        	sta	<R3+2
  9060 03:23F3: A0 00 00     	ldy	#$0
  9061 03:23F6: A7 0D        	lda	[<R3]
  9062 03:23F8: 10 01        	bpl	L473
  9063 03:23FA: 88           	dey
  9064                        L473:
  9065 03:23FB: 85 05        	sta	<R1
  9066 03:23FD: 84 07        	sty	<R1+2
  9067 03:23FF: D4 07        	pei	<R1+2
  9068 03:2401: D4 05        	pei	<R1
  9069 03:2403: A9 06 00     	lda	#$6
  9070                        	xref	~~~lasl
  9071 03:2406: 22 xx xx xx  	jsl	~~~lasl
  9072 03:240A: 85 01        	sta	<R0
  9073 03:240C: 86 03        	stx	<R0+2
  9074 03:240E: 18           	clc
  9075 03:240F: A9 xx xx     	lda	#<~~fontImg
  9076 03:2412: 65 01        	adc	<R0
  9077 03:2414: 85 2A        	sta	<L469+img_1
  9078 03:2416: A9 xx xx     	lda	#^~~fontImg
  9079 03:2419: 65 03        	adc	<R0+2
  9080 03:241B: 85 2C        	sta	<L469+img_1+2
  9081                        ;		//img = fontImg[0x01];
  9082                        ;	}
  9083                        	.line	1200
  9084                        L10146:
  9085                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  9086                        ;
  9087                        ;	// get the font 'image'
  9088                        ;        //char *img = fontImg[ix]; 
  9089                        ;        // loop through pixel rows
  9090                        ;	if(img!=NULL)
  9091                        	.line	1206
  9092                        ;	{
  9093 03:241D: A5 2A        	lda	<L469+img_1
  9094 03:241F: 05 2C        	ora	<L469+img_1+2
  9095 03:2421: D0 03        	bne	L474
  9096 03:2423: 82 E3 00     	brl	L10147
  9097                        L474:
  9098                        	.line	1207
  9099                        ;		py = 0;
  9100                        	.line	1208
  9101 03:2426: 64 1F        	stz	<L469+py_1
  9102                        ;		for (y = 0; y < height; y+=scale) 
  9103                        	.line	1209
  9104 03:2428: 64 13        	stz	<L469+y_1
  9105 03:242A: 82 CD 00     	brl	L10151
  9106                        L10150:
  9107                        ;		{
  9108                        	.line	1210
  9109                        ;			offy = y;
  9110                        	.line	1211
  9111 03:242D: A5 13        	lda	<L469+y_1
  9112 03:242F: 85 23        	sta	<L469+offy_1
  Wed Nov 18 2020  8:27                                                Page 165


  9113                        ;			px = 0;
  9114                        	.line	1212
  9115 03:2431: 64 1D        	stz	<L469+px_1
  9116                        ;			for (x = 0; x < width; x+=scale)
                     
  9117                        	.line	1213
  9118 03:2433: 64 11        	stz	<L469+x_1
  9119 03:2435: 82 AA 00     	brl	L10155
  9120                        L10154:
  9121                        ;			{
  9122                        	.line	1214
  9123                        ;				// get the pixel value
  9124                        ;				offx = x;
  9125                        	.line	1216
  9126 03:2438: A5 11        	lda	<L469+x_1
  9127 03:243A: 85 21        	sta	<L469+offx_1
  9128                        ;				b = img[py * FONTW + px]
                    ;
  9129                        	.line	1217
  9130 03:243C: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  9131 03:2440: 85 01        	sta	<R0
  9132 03:2442: A5 01        	lda	<R0
  9133 03:2444: A6 1F        	ldx	<L469+py_1
  9134                        	xref	~~~mul
  9135 03:2446: 22 xx xx xx  	jsl	~~~mul
  9136 03:244A: 85 01        	sta	<R0
  9137 03:244C: 18           	clc
  9138 03:244D: A5 01        	lda	<R0
  9139 03:244F: 65 1D        	adc	<L469+px_1
  9140 03:2451: 85 05        	sta	<R1
  9141 03:2453: E2 20        	sep	#$20
  9142                        	longa	off
  9143 03:2455: A4 05        	ldy	<R1
  9144 03:2457: B7 2A        	lda	[<L469+img_1],Y
  9145 03:2459: 85 29        	sta	<L469+b_1
  9146 03:245B: C2 20        	rep	#$20
  9147                        	longa	on
  9148                        ;				if (b > 0) 
  9149                        	.line	1218
  9150                        ;				{ // plot the pixel	
                    				
  9151 03:245D: E2 20        	sep	#$20
  9152                        	longa	off
  9153 03:245F: A9 00        	lda	#$0
  9154 03:2461: C5 29        	cmp	<L469+b_1
  9155 03:2463: C2 20        	rep	#$20
  9156                        	longa	on
  9157 03:2465: 90 03        	bcc	L475
  9158 03:2467: 82 6F 00     	brl	L10156
  9159                        L475:
  9160                        	.line	1219
  9161                        ;					offy = y;
  9162                        	.line	1220
  9163 03:246A: A5 13        	lda	<L469+y_1
  9164 03:246C: 85 23        	sta	<L469+offy_1
  9165                        ;					for(sy=0;sy<scal
                    e;sy++)
  9166                        	.line	1221
  Wed Nov 18 2020  8:27                                                Page 166


  9167 03:246E: 64 27        	stz	<L469+sy_1
  9168 03:2470: 82 54 00     	brl	L10160
  9169                        L10159:
  9170                        ;					{
  9171                        	.line	1222
  9172                        ;						offx = x
                    ;
  9173                        	.line	1223
  9174 03:2473: A5 11        	lda	<L469+x_1
  9175 03:2475: 85 21        	sta	<L469+offx_1
  9176                        ;						for(sx=0
                    ;sx<scale;sx++)
  9177                        	.line	1224
  9178 03:2477: 64 25        	stz	<L469+sx_1
  9179 03:2479: 82 38 00     	brl	L10164
  9180                        L10163:
  9181                        ;						{
  9182                        	.line	1225
  9183                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
  9184                        	.line	1226
  9185 03:247C: D4 37        	pei	<L468+color_0
  9186 03:247E: 18           	clc
  9187 03:247F: A5 1B        	lda	<L469+textY_1
  9188 03:2481: 65 23        	adc	<L469+offy_1
  9189 03:2483: 85 01        	sta	<R0
  9190 03:2485: A0 00 00     	ldy	#$0
  9191 03:2488: A5 01        	lda	<R0
  9192 03:248A: 10 01        	bpl	L476
  9193 03:248C: 88           	dey
  9194                        L476:
  9195 03:248D: 85 01        	sta	<R0
  9196 03:248F: 84 03        	sty	<R0+2
  9197 03:2491: D4 03        	pei	<R0+2
  9198 03:2493: D4 01        	pei	<R0
  9199 03:2495: 18           	clc
  9200 03:2496: A5 19        	lda	<L469+textX_1
  9201 03:2498: 65 21        	adc	<L469+offx_1
  9202 03:249A: 85 05        	sta	<R1
  9203 03:249C: A0 00 00     	ldy	#$0
  9204 03:249F: A5 05        	lda	<R1
  9205 03:24A1: 10 01        	bpl	L477
  9206 03:24A3: 88           	dey
  9207                        L477:
  9208 03:24A4: 85 05        	sta	<R1
  9209 03:24A6: 84 07        	sty	<R1+2
  9210 03:24A8: D4 07        	pei	<R1+2
  9211 03:24AA: D4 05        	pei	<R1
  9212 03:24AC: 22 77 0C 03  	jsl	~~k_draw_pixel
  9213                        ;							
                    offx++;
  9214                        	.line	1227
  9215 03:24B0: E6 21        	inc	<L469+offx_1
  9216                        ;						}
  9217                        	.line	1228
  9218                        L10161:
  9219 03:24B2: E6 25        	inc	<L469+sx_1
  9220                        L10164:
  Wed Nov 18 2020  8:27                                                Page 167


  9221 03:24B4: 38           	sec
  9222 03:24B5: A5 25        	lda	<L469+sx_1
  9223 03:24B7: E5 39        	sbc	<L468+scale_0
  9224 03:24B9: 70 03        	bvs	L478
  9225 03:24BB: 49 00 80     	eor	#$8000
  9226                        L478:
  9227 03:24BE: 30 03        	bmi	L479
  9228 03:24C0: 82 B9 FF     	brl	L10163
  9229                        L479:
  9230                        L10162:
  9231                        ;						offy++;
  9232                        	.line	1229
  9233 03:24C3: E6 23        	inc	<L469+offy_1
  9234                        ;					}
  9235                        	.line	1230
  9236                        L10157:
  9237 03:24C5: E6 27        	inc	<L469+sy_1
  9238                        L10160:
  9239 03:24C7: 38           	sec
  9240 03:24C8: A5 27        	lda	<L469+sy_1
  9241 03:24CA: E5 39        	sbc	<L468+scale_0
  9242 03:24CC: 70 03        	bvs	L480
  9243 03:24CE: 49 00 80     	eor	#$8000
  9244                        L480:
  9245 03:24D1: 30 03        	bmi	L481
  9246 03:24D3: 82 9D FF     	brl	L10159
  9247                        L481:
  9248                        L10158:
  9249                        ;					
  9250                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
  9251                        ;				}
  9252                        	.line	1233
  9253                        ;				else 
  9254 03:24D6: 82 00 00     	brl	L10165
  9255                        L10156:
  9256                        ;				{ 
  9257                        	.line	1235
  9258                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9259                        ;				}
  9260                        	.line	1237
  9261                        L10165:
  9262                        ;				px++;
  9263                        	.line	1238
  9264 03:24D9: E6 1D        	inc	<L469+px_1
  9265                        ;			} // end "for x"
  9266                        	.line	1239
  9267                        L10152:
  9268 03:24DB: 18           	clc
  9269 03:24DC: A5 11        	lda	<L469+x_1
  9270 03:24DE: 65 39        	adc	<L468+scale_0
  9271 03:24E0: 85 11        	sta	<L469+x_1
  9272                        L10155:
  9273 03:24E2: 38           	sec
  9274 03:24E3: A5 11        	lda	<L469+x_1
  9275 03:24E5: E5 17        	sbc	<L469+width_1
  9276 03:24E7: 70 03        	bvs	L482
  Wed Nov 18 2020  8:27                                                Page 168


  9277 03:24E9: 49 00 80     	eor	#$8000
  9278                        L482:
  9279 03:24EC: 30 03        	bmi	L483
  9280 03:24EE: 82 47 FF     	brl	L10154
  9281                        L483:
  9282                        L10153:
  9283                        ;			py++;
  9284                        	.line	1240
  9285 03:24F1: E6 1F        	inc	<L469+py_1
  9286                        ;		} // end "for y"
  9287                        	.line	1241
  9288                        L10148:
  9289 03:24F3: 18           	clc
  9290 03:24F4: A5 13        	lda	<L469+y_1
  9291 03:24F6: 65 39        	adc	<L468+scale_0
  9292 03:24F8: 85 13        	sta	<L469+y_1
  9293                        L10151:
  9294 03:24FA: 38           	sec
  9295 03:24FB: A5 13        	lda	<L469+y_1
  9296 03:24FD: E5 15        	sbc	<L469+height_1
  9297 03:24FF: 70 03        	bvs	L484
  9298 03:2501: 49 00 80     	eor	#$8000
  9299                        L484:
  9300 03:2504: 30 03        	bmi	L485
  9301 03:2506: 82 24 FF     	brl	L10150
  9302                        L485:
  9303                        L10149:
  9304                        ;	}
  9305                        	.line	1242
  9306                        ;}
  9307                        L10147:
  9308                        	.line	1243
  9309                        L486:
  9310 03:2509: A5 2F        	lda	<L468+2
  9311 03:250B: 85 39        	sta	<L468+2+10
  9312 03:250D: A5 2E        	lda	<L468+1
  9313 03:250F: 85 38        	sta	<L468+1+10
  9314 03:2511: 2B           	pld
  9315 03:2512: 3B           	tsc
  9316 03:2513: 18           	clc
  9317 03:2514: 69 37 00     	adc	#L468+10
  9318 03:2517: 1B           	tcs
  9319 03:2518: 6B           	rtl
  9320                        	.endblock	1243
  9321             0000002D   L468	equ	45
  9322             00000011   L469	equ	17
  9323 03:2519:              	ends
  9324                        	efunc
  9325                        	.endfunc	1243,17,45
  9326                        	.line	1243
  9327                        ;
  9328                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
  9329                        ;{
  9330                        	.line	1245
  9331                        	.line	1246
  9332                        	GUI
  9333                        	xdef	~~k_draw_char
  Wed Nov 18 2020  8:27                                                Page 169


  9334                        	func
  9335                        	.function	1246
  9336                        ~~k_draw_char:
  9337                        	longa	on
  9338                        	longi	on
  9339 03:2519: 3B           	tsc
  9340 03:251A: 38           	sec
  9341 03:251B: E9 15 00     	sbc	#L487
  9342 03:251E: 1B           	tcs
  9343 03:251F: 0B           	phd
  9344 03:2520: 5B           	tcd
  9345             00000004   charCode_0	set	4
  9346             00000006   row_0	set	6
  9347             00000008   column_0	set	8
  9348             0000000A   color_0	set	10
  9349                        	.block	1246
  9350                        ;	int x = 0;
  9351                        ;	int y = 0;
  9352                        ;
  9353                        ;	int textX = row * FONTH;
  9354                        ;	int textY = column * FONTW;
  9355                        ;	char b = 0;
  9356                        ;
  9357                        ;	char FAR* img = NULL;//fontImg[ix];
  9358                        ;
  9359                        ;    if(charCode == 32)
  9360             00000000   x_1	set	0
  9361             00000002   y_1	set	2
  9362             00000004   textX_1	set	4
  9363             00000006   textY_1	set	6
  9364             00000008   b_1	set	8
  9365             00000009   img_1	set	9
  9366                        	.sym	x,0,5,1,16
  9367                        	.sym	y,2,5,1,16
  9368                        	.sym	textX,4,5,1,16
  9369                        	.sym	textY,6,5,1,16
  9370                        	.sym	b,8,14,1,8
  9371                        	.sym	img,9,142,1,32
  9372                        	.sym	charCode,4,14,6,8
  9373                        	.sym	row,6,5,6,16
  9374                        	.sym	column,8,5,6,16
  9375                        	.sym	color,10,14,6,8
  9376 03:2521: 64 09        	stz	<L488+x_1
  9377 03:2523: 64 0B        	stz	<L488+y_1
  9378 03:2525: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  9379 03:2529: 85 01        	sta	<R0
  9380 03:252B: A5 01        	lda	<R0
  9381 03:252D: A6 1B        	ldx	<L487+row_0
  9382                        	xref	~~~mul
  9383 03:252F: 22 xx xx xx  	jsl	~~~mul
  9384 03:2533: 85 0D        	sta	<L488+textX_1
  9385 03:2535: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  9386 03:2539: 85 01        	sta	<R0
  9387 03:253B: A5 01        	lda	<R0
  9388 03:253D: A6 1D        	ldx	<L487+column_0
  9389                        	xref	~~~mul
  9390 03:253F: 22 xx xx xx  	jsl	~~~mul
  9391 03:2543: 85 0F        	sta	<L488+textY_1
  Wed Nov 18 2020  8:27                                                Page 170


  9392 03:2545: E2 20        	sep	#$20
  9393                        	longa	off
  9394 03:2547: 64 11        	stz	<L488+b_1
  9395 03:2549: C2 20        	rep	#$20
  9396                        	longa	on
  9397 03:254B: 64 12        	stz	<L488+img_1
  9398 03:254D: 64 14        	stz	<L488+img_1+2
  9399                        	.line	1256
  9400                        ;	{
  9401 03:254F: E2 20        	sep	#$20
  9402                        	longa	off
  9403 03:2551: A5 19        	lda	<L487+charCode_0
  9404 03:2553: C9 20        	cmp	#<$20
  9405 03:2555: C2 20        	rep	#$20
  9406                        	longa	on
  9407 03:2557: F0 03        	beq	L490
  9408 03:2559: 82 07 00     	brl	L10166
  9409                        L490:
  9410                        	.line	1257
  9411                        ;	   img = NULL;//fontSpace;
  9412                        	.line	1258
  9413 03:255C: 64 12        	stz	<L488+img_1
  9414 03:255E: 64 14        	stz	<L488+img_1+2
  9415                        ;    }
  9416                        	.line	1259
  9417                        ;    else
  9418 03:2560: 82 31 00     	brl	L10167
  9419                        L10166:
  9420                        ;	{
  9421                        	.line	1261
  9422                        ;	    img = fontImg[charCode & 0xFF];
  9423                        	.line	1262
  9424 03:2563: A5 19        	lda	<L487+charCode_0
  9425 03:2565: 29 FF 00     	and	#<$ff
  9426 03:2568: 85 05        	sta	<R1
  9427 03:256A: A0 00 00     	ldy	#$0
  9428 03:256D: A5 05        	lda	<R1
  9429 03:256F: 10 01        	bpl	L491
  9430 03:2571: 88           	dey
  9431                        L491:
  9432 03:2572: 85 05        	sta	<R1
  9433 03:2574: 84 07        	sty	<R1+2
  9434 03:2576: D4 07        	pei	<R1+2
  9435 03:2578: D4 05        	pei	<R1
  9436 03:257A: A9 06 00     	lda	#$6
  9437                        	xref	~~~lasl
  9438 03:257D: 22 xx xx xx  	jsl	~~~lasl
  9439 03:2581: 85 01        	sta	<R0
  9440 03:2583: 86 03        	stx	<R0+2
  9441 03:2585: 18           	clc
  9442 03:2586: A9 xx xx     	lda	#<~~fontImg
  9443 03:2589: 65 01        	adc	<R0
  9444 03:258B: 85 12        	sta	<L488+img_1
  9445 03:258D: A9 xx xx     	lda	#^~~fontImg
  9446 03:2590: 65 03        	adc	<R0+2
  9447 03:2592: 85 14        	sta	<L488+img_1+2
  9448                        ;	}
  9449                        	.line	1263
  Wed Nov 18 2020  8:27                                                Page 171


  9450                        L10167:
  9451                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  9452                        ;
  9453                        ;	// get the font 'image'
  9454                        ;        //char *img = fontImg[ix]; 
  9455                        ;        // loop through pixel rows
  9456                        ;	if(img!=NULL)
  9457                        	.line	1269
  9458                        ;	{
  9459 03:2594: A5 12        	lda	<L488+img_1
  9460 03:2596: 05 14        	ora	<L488+img_1+2
  9461 03:2598: D0 03        	bne	L492
  9462 03:259A: 82 91 00     	brl	L10168
  9463                        L492:
  9464                        	.line	1270
  9465                        ;		for (y = 0; y < FONTH; y++) 
  9466                        	.line	1271
  9467 03:259D: 64 0B        	stz	<L488+y_1
  9468 03:259F: 82 7D 00     	brl	L10172
  9469                        L10171:
  9470                        ;		{
  9471                        	.line	1272
  9472                        ;			// loop through pixel columns
  9473                        ;			for (x = 0; x < FONTW; x++) 
  9474                        	.line	1274
  9475 03:25A2: 64 09        	stz	<L488+x_1
  9476 03:25A4: 82 67 00     	brl	L10176
  9477                        L10175:
  9478                        ;			{
  9479                        	.line	1275
  9480                        ;				// get the pixel value
  9481                        ;				b = img[y * FONTW + x];
  9482                        	.line	1277
  9483 03:25A7: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  9484 03:25AB: 85 01        	sta	<R0
  9485 03:25AD: A5 01        	lda	<R0
  9486 03:25AF: A6 0B        	ldx	<L488+y_1
  9487                        	xref	~~~mul
  9488 03:25B1: 22 xx xx xx  	jsl	~~~mul
  9489 03:25B5: 85 01        	sta	<R0
  9490 03:25B7: 18           	clc
  9491 03:25B8: A5 01        	lda	<R0
  9492 03:25BA: 65 09        	adc	<L488+x_1
  9493 03:25BC: 85 05        	sta	<R1
  9494 03:25BE: E2 20        	sep	#$20
  9495                        	longa	off
  9496 03:25C0: A4 05        	ldy	<R1
  9497 03:25C2: B7 12        	lda	[<L488+img_1],Y
  9498 03:25C4: 85 11        	sta	<L488+b_1
  9499 03:25C6: C2 20        	rep	#$20
  9500                        	longa	on
  9501                        ;				if (b > 0) 
  9502                        	.line	1278
  9503                        ;				{ // plot the pixel
  9504 03:25C8: E2 20        	sep	#$20
  9505                        	longa	off
  9506 03:25CA: A9 00        	lda	#$0
  Wed Nov 18 2020  8:27                                                Page 172


  9507 03:25CC: C5 11        	cmp	<L488+b_1
  9508 03:25CE: C2 20        	rep	#$20
  9509                        	longa	on
  9510 03:25D0: 90 03        	bcc	L493
  9511 03:25D2: 82 37 00     	brl	L10177
  9512                        L493:
  9513                        	.line	1279
  9514                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  9515                        	.line	1280
  9516 03:25D5: D4 1F        	pei	<L487+color_0
  9517 03:25D7: 18           	clc
  9518 03:25D8: A5 0F        	lda	<L488+textY_1
  9519 03:25DA: 65 0B        	adc	<L488+y_1
  9520 03:25DC: 85 01        	sta	<R0
  9521 03:25DE: A0 00 00     	ldy	#$0
  9522 03:25E1: A5 01        	lda	<R0
  9523 03:25E3: 10 01        	bpl	L494
  9524 03:25E5: 88           	dey
  9525                        L494:
  9526 03:25E6: 85 01        	sta	<R0
  9527 03:25E8: 84 03        	sty	<R0+2
  9528 03:25EA: D4 03        	pei	<R0+2
  9529 03:25EC: D4 01        	pei	<R0
  9530 03:25EE: 18           	clc
  9531 03:25EF: A5 0D        	lda	<L488+textX_1
  9532 03:25F1: 65 09        	adc	<L488+x_1
  9533 03:25F3: 85 05        	sta	<R1
  9534 03:25F5: A0 00 00     	ldy	#$0
  9535 03:25F8: A5 05        	lda	<R1
  9536 03:25FA: 10 01        	bpl	L495
  9537 03:25FC: 88           	dey
  9538                        L495:
  9539 03:25FD: 85 05        	sta	<R1
  9540 03:25FF: 84 07        	sty	<R1+2
  9541 03:2601: D4 07        	pei	<R1+2
  9542 03:2603: D4 05        	pei	<R1
  9543 03:2605: 22 77 0C 03  	jsl	~~k_draw_pixel
  9544                        ;				}
  9545                        	.line	1281
  9546                        ;				else 
  9547 03:2609: 82 00 00     	brl	L10178
  9548                        L10177:
  9549                        ;				{ 
  9550                        	.line	1283
  9551                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9552                        ;				}
  9553                        	.line	1285
  9554                        L10178:
  9555                        ;			} // end "for x"
  9556                        	.line	1286
  9557                        L10173:
  9558 03:260C: E6 09        	inc	<L488+x_1
  9559                        L10176:
  9560 03:260E: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  9561 03:2612: 85 01        	sta	<R0
  9562 03:2614: A5 09        	lda	<L488+x_1
  Wed Nov 18 2020  8:27                                                Page 173


  9563 03:2616: C5 01        	cmp	<R0
  9564 03:2618: B0 03        	bcs	L496
  9565 03:261A: 82 8A FF     	brl	L10175
  9566                        L496:
  9567                        L10174:
  9568                        ;		} // end "for y"
  9569                        	.line	1287
  9570                        L10169:
  9571 03:261D: E6 0B        	inc	<L488+y_1
  9572                        L10172:
  9573 03:261F: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  9574 03:2623: 85 01        	sta	<R0
  9575 03:2625: A5 0B        	lda	<L488+y_1
  9576 03:2627: C5 01        	cmp	<R0
  9577 03:2629: B0 03        	bcs	L497
  9578 03:262B: 82 74 FF     	brl	L10171
  9579                        L497:
  9580                        L10170:
  9581                        ;	}
  9582                        	.line	1288
  9583                        ;}
  9584                        L10168:
  9585                        	.line	1289
  9586                        L498:
  9587 03:262E: A5 17        	lda	<L487+2
  9588 03:2630: 85 1F        	sta	<L487+2+8
  9589 03:2632: A5 16        	lda	<L487+1
  9590 03:2634: 85 1E        	sta	<L487+1+8
  9591 03:2636: 2B           	pld
  9592 03:2637: 3B           	tsc
  9593 03:2638: 18           	clc
  9594 03:2639: 69 1D 00     	adc	#L487+8
  9595 03:263C: 1B           	tcs
  9596 03:263D: 6B           	rtl
  9597                        	.endblock	1289
  9598             00000015   L487	equ	21
  9599             00000009   L488	equ	9
  9600 03:263E:              	ends
  9601                        	efunc
  9602                        	.endfunc	1289,9,21
  9603                        	.line	1289
  9604                        ;
  9605                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
  9606                        ;{
  9607                        	.line	1291
  9608                        	.line	1292
  9609                        	GUI
  9610                        	xdef	~~k_draw_char_scaled
  9611                        	func
  9612                        	.function	1292
  9613                        ~~k_draw_char_scaled:
  9614                        	longa	on
  9615                        	longi	on
  9616 03:263E: 3B           	tsc
  9617 03:263F: 38           	sec
  9618 03:2640: E9 25 00     	sbc	#L499
  9619 03:2643: 1B           	tcs
  Wed Nov 18 2020  8:27                                                Page 174


  9620 03:2644: 0B           	phd
  9621 03:2645: 5B           	tcd
  9622             00000004   charCode_0	set	4
  9623             00000006   row_0	set	6
  9624             00000008   column_0	set	8
  9625             0000000A   color_0	set	10
  9626             0000000C   scale_0	set	12
  9627                        	.block	1292
  9628                        ;	int x = 0;
  9629                        ;	int y = 0;
  9630                        ;
  9631                        ;	int height = FONTH * scale;
  9632                        ;	int width  = FONTW * scale;
  9633                        ;	
  9634                        ;	int textX = row    * height;
  9635                        ;	int textY = column * width;
  9636                        ;
  9637                        ;	int px   = 0;
  9638                        ;	int py   = 0;
  9639                        ;	int offx = 0;
  9640                        ;	int offy = 0;
  9641                        ;	int sx   = 0;
  9642                        ;	int sy   = 0;
  9643                        ;
  9644                        ;	char b   = 0;
  9645                        ;
  9646                        ;	char FAR* img = NULL;
  9647                        ;
  9648                        ;    if(charCode == 32)
  9649             00000000   x_1	set	0
  9650             00000002   y_1	set	2
  9651             00000004   height_1	set	4
  9652             00000006   width_1	set	6
  9653             00000008   textX_1	set	8
  9654             0000000A   textY_1	set	10
  9655             0000000C   px_1	set	12
  9656             0000000E   py_1	set	14
  9657             00000010   offx_1	set	16
  9658             00000012   offy_1	set	18
  9659             00000014   sx_1	set	20
  9660             00000016   sy_1	set	22
  9661             00000018   b_1	set	24
  9662             00000019   img_1	set	25
  9663                        	.sym	x,0,5,1,16
  9664                        	.sym	y,2,5,1,16
  9665                        	.sym	height,4,5,1,16
  9666                        	.sym	width,6,5,1,16
  9667                        	.sym	textX,8,5,1,16
  9668                        	.sym	textY,10,5,1,16
  9669                        	.sym	px,12,5,1,16
  9670                        	.sym	py,14,5,1,16
  9671                        	.sym	offx,16,5,1,16
  9672                        	.sym	offy,18,5,1,16
  9673                        	.sym	sx,20,5,1,16
  9674                        	.sym	sy,22,5,1,16
  9675                        	.sym	b,24,14,1,8
  9676                        	.sym	img,25,142,1,32
  9677                        	.sym	charCode,4,14,6,8
  Wed Nov 18 2020  8:27                                                Page 175


  9678                        	.sym	row,6,5,6,16
  9679                        	.sym	column,8,5,6,16
  9680                        	.sym	color,10,14,6,8
  9681                        	.sym	scale,12,5,6,16
  9682 03:2646: 64 09        	stz	<L500+x_1
  9683 03:2648: 64 0B        	stz	<L500+y_1
  9684 03:264A: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
  9685 03:264E: 85 01        	sta	<R0
  9686 03:2650: A5 01        	lda	<R0
  9687 03:2652: A6 31        	ldx	<L499+scale_0
  9688                        	xref	~~~mul
  9689 03:2654: 22 xx xx xx  	jsl	~~~mul
  9690 03:2658: 85 0D        	sta	<L500+height_1
  9691 03:265A: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  9692 03:265E: 85 01        	sta	<R0
  9693 03:2660: A5 01        	lda	<R0
  9694 03:2662: A6 31        	ldx	<L499+scale_0
  9695                        	xref	~~~mul
  9696 03:2664: 22 xx xx xx  	jsl	~~~mul
  9697 03:2668: 85 0F        	sta	<L500+width_1
  9698 03:266A: A5 2B        	lda	<L499+row_0
  9699 03:266C: A6 0D        	ldx	<L500+height_1
  9700                        	xref	~~~mul
  9701 03:266E: 22 xx xx xx  	jsl	~~~mul
  9702 03:2672: 85 11        	sta	<L500+textX_1
  9703 03:2674: A5 2D        	lda	<L499+column_0
  9704 03:2676: A6 0F        	ldx	<L500+width_1
  9705                        	xref	~~~mul
  9706 03:2678: 22 xx xx xx  	jsl	~~~mul
  9707 03:267C: 85 13        	sta	<L500+textY_1
  9708 03:267E: 64 15        	stz	<L500+px_1
  9709 03:2680: 64 17        	stz	<L500+py_1
  9710 03:2682: 64 19        	stz	<L500+offx_1
  9711 03:2684: 64 1B        	stz	<L500+offy_1
  9712 03:2686: 64 1D        	stz	<L500+sx_1
  9713 03:2688: 64 1F        	stz	<L500+sy_1
  9714 03:268A: E2 20        	sep	#$20
  9715                        	longa	off
  9716 03:268C: 64 21        	stz	<L500+b_1
  9717 03:268E: C2 20        	rep	#$20
  9718                        	longa	on
  9719 03:2690: 64 22        	stz	<L500+img_1
  9720 03:2692: 64 24        	stz	<L500+img_1+2
  9721                        	.line	1313
  9722                        ;	{
  9723 03:2694: E2 20        	sep	#$20
  9724                        	longa	off
  9725 03:2696: A5 29        	lda	<L499+charCode_0
  9726 03:2698: C9 20        	cmp	#<$20
  9727 03:269A: C2 20        	rep	#$20
  9728                        	longa	on
  9729 03:269C: F0 03        	beq	L502
  9730 03:269E: 82 07 00     	brl	L10179
  9731                        L502:
  9732                        	.line	1314
  9733                        ;	   img = NULL;
  9734                        	.line	1315
  9735 03:26A1: 64 22        	stz	<L500+img_1
  Wed Nov 18 2020  8:27                                                Page 176


  9736 03:26A3: 64 24        	stz	<L500+img_1+2
  9737                        ;    }
  9738                        	.line	1316
  9739                        ;    else
  9740 03:26A5: 82 31 00     	brl	L10180
  9741                        L10179:
  9742                        ;	{
  9743                        	.line	1318
  9744                        ;	    img = fontImg[charCode & 0xFF];
  9745                        	.line	1319
  9746 03:26A8: A5 29        	lda	<L499+charCode_0
  9747 03:26AA: 29 FF 00     	and	#<$ff
  9748 03:26AD: 85 05        	sta	<R1
  9749 03:26AF: A0 00 00     	ldy	#$0
  9750 03:26B2: A5 05        	lda	<R1
  9751 03:26B4: 10 01        	bpl	L503
  9752 03:26B6: 88           	dey
  9753                        L503:
  9754 03:26B7: 85 05        	sta	<R1
  9755 03:26B9: 84 07        	sty	<R1+2
  9756 03:26BB: D4 07        	pei	<R1+2
  9757 03:26BD: D4 05        	pei	<R1
  9758 03:26BF: A9 06 00     	lda	#$6
  9759                        	xref	~~~lasl
  9760 03:26C2: 22 xx xx xx  	jsl	~~~lasl
  9761 03:26C6: 85 01        	sta	<R0
  9762 03:26C8: 86 03        	stx	<R0+2
  9763 03:26CA: 18           	clc
  9764 03:26CB: A9 xx xx     	lda	#<~~fontImg
  9765 03:26CE: 65 01        	adc	<R0
  9766 03:26D0: 85 22        	sta	<L500+img_1
  9767 03:26D2: A9 xx xx     	lda	#^~~fontImg
  9768 03:26D5: 65 03        	adc	<R0+2
  9769 03:26D7: 85 24        	sta	<L500+img_1+2
  9770                        ;	}
  9771                        	.line	1320
  9772                        L10180:
  9773                        ;
  9774                        ;	if(img!=NULL)
  9775                        	.line	1322
  9776                        ;	{
  9777 03:26D9: A5 22        	lda	<L500+img_1
  9778 03:26DB: 05 24        	ora	<L500+img_1+2
  9779 03:26DD: D0 03        	bne	L504
  9780 03:26DF: 82 E3 00     	brl	L10181
  9781                        L504:
  9782                        	.line	1323
  9783                        ;		py = 0;
  9784                        	.line	1324
  9785 03:26E2: 64 17        	stz	<L500+py_1
  9786                        ;		for (y = 0; y < height; y+=scale) 
  9787                        	.line	1325
  9788 03:26E4: 64 0B        	stz	<L500+y_1
  9789 03:26E6: 82 CD 00     	brl	L10185
  9790                        L10184:
  9791                        ;		{
  9792                        	.line	1326
  9793                        ;			offy = y;
  Wed Nov 18 2020  8:27                                                Page 177


  9794                        	.line	1327
  9795 03:26E9: A5 0B        	lda	<L500+y_1
  9796 03:26EB: 85 1B        	sta	<L500+offy_1
  9797                        ;			px = 0;
  9798                        	.line	1328
  9799 03:26ED: 64 15        	stz	<L500+px_1
  9800                        ;			for (x = 0; x < width; x+=scale)
                     
  9801                        	.line	1329
  9802 03:26EF: 64 09        	stz	<L500+x_1
  9803 03:26F1: 82 AA 00     	brl	L10189
  9804                        L10188:
  9805                        ;			{
  9806                        	.line	1330
  9807                        ;				// get the pixel value
  9808                        ;				offx = x;
  9809                        	.line	1332
  9810 03:26F4: A5 09        	lda	<L500+x_1
  9811 03:26F6: 85 19        	sta	<L500+offx_1
  9812                        ;				b = img[py * FONTW + px]
                    ;
  9813                        	.line	1333
  9814 03:26F8: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
  9815 03:26FC: 85 01        	sta	<R0
  9816 03:26FE: A5 01        	lda	<R0
  9817 03:2700: A6 17        	ldx	<L500+py_1
  9818                        	xref	~~~mul
  9819 03:2702: 22 xx xx xx  	jsl	~~~mul
  9820 03:2706: 85 01        	sta	<R0
  9821 03:2708: 18           	clc
  9822 03:2709: A5 01        	lda	<R0
  9823 03:270B: 65 15        	adc	<L500+px_1
  9824 03:270D: 85 05        	sta	<R1
  9825 03:270F: E2 20        	sep	#$20
  9826                        	longa	off
  9827 03:2711: A4 05        	ldy	<R1
  9828 03:2713: B7 22        	lda	[<L500+img_1],Y
  9829 03:2715: 85 21        	sta	<L500+b_1
  9830 03:2717: C2 20        	rep	#$20
  9831                        	longa	on
  9832                        ;				if (b > 0) 
  9833                        	.line	1334
  9834                        ;				{ // plot the pixel	
                    				
  9835 03:2719: E2 20        	sep	#$20
  9836                        	longa	off
  9837 03:271B: A9 00        	lda	#$0
  9838 03:271D: C5 21        	cmp	<L500+b_1
  9839 03:271F: C2 20        	rep	#$20
  9840                        	longa	on
  9841 03:2721: 90 03        	bcc	L505
  9842 03:2723: 82 6F 00     	brl	L10190
  9843                        L505:
  9844                        	.line	1335
  9845                        ;					offy = y;
  9846                        	.line	1336
  9847 03:2726: A5 0B        	lda	<L500+y_1
  9848 03:2728: 85 1B        	sta	<L500+offy_1
  Wed Nov 18 2020  8:27                                                Page 178


  9849                        ;					for(sy=0;sy<scal
                    e;sy++)
  9850                        	.line	1337
  9851 03:272A: 64 1F        	stz	<L500+sy_1
  9852 03:272C: 82 54 00     	brl	L10194
  9853                        L10193:
  9854                        ;					{
  9855                        	.line	1338
  9856                        ;						offx = x
                    ;
  9857                        	.line	1339
  9858 03:272F: A5 09        	lda	<L500+x_1
  9859 03:2731: 85 19        	sta	<L500+offx_1
  9860                        ;						for(sx=0
                    ;sx<scale;sx++)
  9861                        	.line	1340
  9862 03:2733: 64 1D        	stz	<L500+sx_1
  9863 03:2735: 82 38 00     	brl	L10198
  9864                        L10197:
  9865                        ;						{
  9866                        	.line	1341
  9867                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
  9868                        	.line	1342
  9869 03:2738: D4 2F        	pei	<L499+color_0
  9870 03:273A: 18           	clc
  9871 03:273B: A5 13        	lda	<L500+textY_1
  9872 03:273D: 65 1B        	adc	<L500+offy_1
  9873 03:273F: 85 01        	sta	<R0
  9874 03:2741: A0 00 00     	ldy	#$0
  9875 03:2744: A5 01        	lda	<R0
  9876 03:2746: 10 01        	bpl	L506
  9877 03:2748: 88           	dey
  9878                        L506:
  9879 03:2749: 85 01        	sta	<R0
  9880 03:274B: 84 03        	sty	<R0+2
  9881 03:274D: D4 03        	pei	<R0+2
  9882 03:274F: D4 01        	pei	<R0
  9883 03:2751: 18           	clc
  9884 03:2752: A5 11        	lda	<L500+textX_1
  9885 03:2754: 65 19        	adc	<L500+offx_1
  9886 03:2756: 85 05        	sta	<R1
  9887 03:2758: A0 00 00     	ldy	#$0
  9888 03:275B: A5 05        	lda	<R1
  9889 03:275D: 10 01        	bpl	L507
  9890 03:275F: 88           	dey
  9891                        L507:
  9892 03:2760: 85 05        	sta	<R1
  9893 03:2762: 84 07        	sty	<R1+2
  9894 03:2764: D4 07        	pei	<R1+2
  9895 03:2766: D4 05        	pei	<R1
  9896 03:2768: 22 77 0C 03  	jsl	~~k_draw_pixel
  9897                        ;							
                    offx++;
  9898                        	.line	1343
  9899 03:276C: E6 19        	inc	<L500+offx_1
  9900                        ;						}
  9901                        	.line	1344
  Wed Nov 18 2020  8:27                                                Page 179


  9902                        L10195:
  9903 03:276E: E6 1D        	inc	<L500+sx_1
  9904                        L10198:
  9905 03:2770: 38           	sec
  9906 03:2771: A5 1D        	lda	<L500+sx_1
  9907 03:2773: E5 31        	sbc	<L499+scale_0
  9908 03:2775: 70 03        	bvs	L508
  9909 03:2777: 49 00 80     	eor	#$8000
  9910                        L508:
  9911 03:277A: 30 03        	bmi	L509
  9912 03:277C: 82 B9 FF     	brl	L10197
  9913                        L509:
  9914                        L10196:
  9915                        ;						offy++;
  9916                        	.line	1345
  9917 03:277F: E6 1B        	inc	<L500+offy_1
  9918                        ;					}
  9919                        	.line	1346
  9920                        L10191:
  9921 03:2781: E6 1F        	inc	<L500+sy_1
  9922                        L10194:
  9923 03:2783: 38           	sec
  9924 03:2784: A5 1F        	lda	<L500+sy_1
  9925 03:2786: E5 31        	sbc	<L499+scale_0
  9926 03:2788: 70 03        	bvs	L510
  9927 03:278A: 49 00 80     	eor	#$8000
  9928                        L510:
  9929 03:278D: 30 03        	bmi	L511
  9930 03:278F: 82 9D FF     	brl	L10193
  9931                        L511:
  9932                        L10192:
  9933                        ;					
  9934                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
  9935                        ;				}
  9936                        	.line	1349
  9937                        ;				else 
  9938 03:2792: 82 00 00     	brl	L10199
  9939                        L10190:
  9940                        ;				{ 
  9941                        	.line	1351
  9942                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9943                        ;				}
  9944                        	.line	1353
  9945                        L10199:
  9946                        ;				px++;
  9947                        	.line	1354
  9948 03:2795: E6 15        	inc	<L500+px_1
  9949                        ;			} // end "for x"
  9950                        	.line	1355
  9951                        L10186:
  9952 03:2797: 18           	clc
  9953 03:2798: A5 09        	lda	<L500+x_1
  9954 03:279A: 65 31        	adc	<L499+scale_0
  9955 03:279C: 85 09        	sta	<L500+x_1
  9956                        L10189:
  9957 03:279E: 38           	sec
  Wed Nov 18 2020  8:27                                                Page 180


  9958 03:279F: A5 09        	lda	<L500+x_1
  9959 03:27A1: E5 0F        	sbc	<L500+width_1
  9960 03:27A3: 70 03        	bvs	L512
  9961 03:27A5: 49 00 80     	eor	#$8000
  9962                        L512:
  9963 03:27A8: 30 03        	bmi	L513
  9964 03:27AA: 82 47 FF     	brl	L10188
  9965                        L513:
  9966                        L10187:
  9967                        ;			py++;
  9968                        	.line	1356
  9969 03:27AD: E6 17        	inc	<L500+py_1
  9970                        ;		} // end "for y"
  9971                        	.line	1357
  9972                        L10182:
  9973 03:27AF: 18           	clc
  9974 03:27B0: A5 0B        	lda	<L500+y_1
  9975 03:27B2: 65 31        	adc	<L499+scale_0
  9976 03:27B4: 85 0B        	sta	<L500+y_1
  9977                        L10185:
  9978 03:27B6: 38           	sec
  9979 03:27B7: A5 0B        	lda	<L500+y_1
  9980 03:27B9: E5 0D        	sbc	<L500+height_1
  9981 03:27BB: 70 03        	bvs	L514
  9982 03:27BD: 49 00 80     	eor	#$8000
  9983                        L514:
  9984 03:27C0: 30 03        	bmi	L515
  9985 03:27C2: 82 24 FF     	brl	L10184
  9986                        L515:
  9987                        L10183:
  9988                        ;	}
  9989                        	.line	1358
  9990                        ;}
  9991                        L10181:
  9992                        	.line	1359
  9993                        L516:
  9994 03:27C5: A5 27        	lda	<L499+2
  9995 03:27C7: 85 31        	sta	<L499+2+10
  9996 03:27C9: A5 26        	lda	<L499+1
  9997 03:27CB: 85 30        	sta	<L499+1+10
  9998 03:27CD: 2B           	pld
  9999 03:27CE: 3B           	tsc
 10000 03:27CF: 18           	clc
 10001 03:27D0: 69 2F 00     	adc	#L499+10
 10002 03:27D3: 1B           	tcs
 10003 03:27D4: 6B           	rtl
 10004                        	.endblock	1359
 10005             00000025   L499	equ	37
 10006             00000009   L500	equ	9
 10007 03:27D5:              	ends
 10008                        	efunc
 10009                        	.endfunc	1359,9,37
 10010                        	.line	1359
 10011                        ;
 10012                        ;
 10013                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 10014                        ;{
  Wed Nov 18 2020  8:27                                                Page 181


 10015                        	.line	1362
 10016                        	.line	1363
 10017                        	GUI
 10018                        	xdef	~~k_draw_char_scaled_point
 10019                        	func
 10020                        	.function	1363
 10021                        ~~k_draw_char_scaled_point:
 10022                        	longa	on
 10023                        	longi	on
 10024 03:27D5: 3B           	tsc
 10025 03:27D6: 38           	sec
 10026 03:27D7: E9 25 00     	sbc	#L517
 10027 03:27DA: 1B           	tcs
 10028 03:27DB: 0B           	phd
 10029 03:27DC: 5B           	tcd
 10030             00000004   charCode_0	set	4
 10031             00000006   locX_0	set	6
 10032             00000008   locY_0	set	8
 10033             0000000A   color_0	set	10
 10034             0000000C   scale_0	set	12
 10035                        	.block	1363
 10036                        ;	int x = 0;
 10037                        ;	int y = 0;
 10038                        ;
 10039                        ;	int height = FONTH * scale;
 10040                        ;	int width  = FONTW * scale;
 10041                        ;	
 10042                        ;	int textX = locX;
 10043                        ;	int textY = locY;
 10044                        ;
 10045                        ;	int px   = 0;
 10046                        ;	int py   = 0;
 10047                        ;	int offx = 0;
 10048                        ;	int offy = 0;
 10049                        ;	int sx   = 0;
 10050                        ;	int sy   = 0;
 10051                        ;
 10052                        ;	char b   = 0;
 10053                        ;
 10054                        ;	char FAR* img = NULL;
 10055                        ;
 10056                        ;    if(charCode == 32)
 10057             00000000   x_1	set	0
 10058             00000002   y_1	set	2
 10059             00000004   height_1	set	4
 10060             00000006   width_1	set	6
 10061             00000008   textX_1	set	8
 10062             0000000A   textY_1	set	10
 10063             0000000C   px_1	set	12
 10064             0000000E   py_1	set	14
 10065             00000010   offx_1	set	16
 10066             00000012   offy_1	set	18
 10067             00000014   sx_1	set	20
 10068             00000016   sy_1	set	22
 10069             00000018   b_1	set	24
 10070             00000019   img_1	set	25
 10071                        	.sym	x,0,5,1,16
 10072                        	.sym	y,2,5,1,16
  Wed Nov 18 2020  8:27                                                Page 182


 10073                        	.sym	height,4,5,1,16
 10074                        	.sym	width,6,5,1,16
 10075                        	.sym	textX,8,5,1,16
 10076                        	.sym	textY,10,5,1,16
 10077                        	.sym	px,12,5,1,16
 10078                        	.sym	py,14,5,1,16
 10079                        	.sym	offx,16,5,1,16
 10080                        	.sym	offy,18,5,1,16
 10081                        	.sym	sx,20,5,1,16
 10082                        	.sym	sy,22,5,1,16
 10083                        	.sym	b,24,14,1,8
 10084                        	.sym	img,25,142,1,32
 10085                        	.sym	charCode,4,14,6,8
 10086                        	.sym	locX,6,5,6,16
 10087                        	.sym	locY,8,5,6,16
 10088                        	.sym	color,10,14,6,8
 10089                        	.sym	scale,12,5,6,16
 10090 03:27DD: 64 09        	stz	<L518+x_1
 10091 03:27DF: 64 0B        	stz	<L518+y_1
 10092 03:27E1: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 10093 03:27E5: 85 01        	sta	<R0
 10094 03:27E7: A5 01        	lda	<R0
 10095 03:27E9: A6 31        	ldx	<L517+scale_0
 10096                        	xref	~~~mul
 10097 03:27EB: 22 xx xx xx  	jsl	~~~mul
 10098 03:27EF: 85 0D        	sta	<L518+height_1
 10099 03:27F1: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
 10100 03:27F5: 85 01        	sta	<R0
 10101 03:27F7: A5 01        	lda	<R0
 10102 03:27F9: A6 31        	ldx	<L517+scale_0
 10103                        	xref	~~~mul
 10104 03:27FB: 22 xx xx xx  	jsl	~~~mul
 10105 03:27FF: 85 0F        	sta	<L518+width_1
 10106 03:2801: A5 2B        	lda	<L517+locX_0
 10107 03:2803: 85 11        	sta	<L518+textX_1
 10108 03:2805: A5 2D        	lda	<L517+locY_0
 10109 03:2807: 85 13        	sta	<L518+textY_1
 10110 03:2809: 64 15        	stz	<L518+px_1
 10111 03:280B: 64 17        	stz	<L518+py_1
 10112 03:280D: 64 19        	stz	<L518+offx_1
 10113 03:280F: 64 1B        	stz	<L518+offy_1
 10114 03:2811: 64 1D        	stz	<L518+sx_1
 10115 03:2813: 64 1F        	stz	<L518+sy_1
 10116 03:2815: E2 20        	sep	#$20
 10117                        	longa	off
 10118 03:2817: 64 21        	stz	<L518+b_1
 10119 03:2819: C2 20        	rep	#$20
 10120                        	longa	on
 10121 03:281B: 64 22        	stz	<L518+img_1
 10122 03:281D: 64 24        	stz	<L518+img_1+2
 10123                        	.line	1384
 10124                        ;	{
 10125 03:281F: E2 20        	sep	#$20
 10126                        	longa	off
 10127 03:2821: A5 29        	lda	<L517+charCode_0
 10128 03:2823: C9 20        	cmp	#<$20
 10129 03:2825: C2 20        	rep	#$20
 10130                        	longa	on
  Wed Nov 18 2020  8:27                                                Page 183


 10131 03:2827: F0 03        	beq	L520
 10132 03:2829: 82 07 00     	brl	L10200
 10133                        L520:
 10134                        	.line	1385
 10135                        ;	   img = NULL;
 10136                        	.line	1386
 10137 03:282C: 64 22        	stz	<L518+img_1
 10138 03:282E: 64 24        	stz	<L518+img_1+2
 10139                        ;    }
 10140                        	.line	1387
 10141                        ;    else
 10142 03:2830: 82 31 00     	brl	L10201
 10143                        L10200:
 10144                        ;	{
 10145                        	.line	1389
 10146                        ;	    img = fontImg[charCode & 0xFF];
 10147                        	.line	1390
 10148 03:2833: A5 29        	lda	<L517+charCode_0
 10149 03:2835: 29 FF 00     	and	#<$ff
 10150 03:2838: 85 05        	sta	<R1
 10151 03:283A: A0 00 00     	ldy	#$0
 10152 03:283D: A5 05        	lda	<R1
 10153 03:283F: 10 01        	bpl	L521
 10154 03:2841: 88           	dey
 10155                        L521:
 10156 03:2842: 85 05        	sta	<R1
 10157 03:2844: 84 07        	sty	<R1+2
 10158 03:2846: D4 07        	pei	<R1+2
 10159 03:2848: D4 05        	pei	<R1
 10160 03:284A: A9 06 00     	lda	#$6
 10161                        	xref	~~~lasl
 10162 03:284D: 22 xx xx xx  	jsl	~~~lasl
 10163 03:2851: 85 01        	sta	<R0
 10164 03:2853: 86 03        	stx	<R0+2
 10165 03:2855: 18           	clc
 10166 03:2856: A9 xx xx     	lda	#<~~fontImg
 10167 03:2859: 65 01        	adc	<R0
 10168 03:285B: 85 22        	sta	<L518+img_1
 10169 03:285D: A9 xx xx     	lda	#^~~fontImg
 10170 03:2860: 65 03        	adc	<R0+2
 10171 03:2862: 85 24        	sta	<L518+img_1+2
 10172                        ;	}
 10173                        	.line	1391
 10174                        L10201:
 10175                        ;
 10176                        ;	if(img!=NULL)
 10177                        	.line	1393
 10178                        ;	{
 10179 03:2864: A5 22        	lda	<L518+img_1
 10180 03:2866: 05 24        	ora	<L518+img_1+2
 10181 03:2868: D0 03        	bne	L522
 10182 03:286A: 82 E3 00     	brl	L10202
 10183                        L522:
 10184                        	.line	1394
 10185                        ;		py = 0;
 10186                        	.line	1395
 10187 03:286D: 64 17        	stz	<L518+py_1
 10188                        ;		for (y = 0; y < height; y+=scale) 
  Wed Nov 18 2020  8:27                                                Page 184


 10189                        	.line	1396
 10190 03:286F: 64 0B        	stz	<L518+y_1
 10191 03:2871: 82 CD 00     	brl	L10206
 10192                        L10205:
 10193                        ;		{
 10194                        	.line	1397
 10195                        ;			offy = y;
 10196                        	.line	1398
 10197 03:2874: A5 0B        	lda	<L518+y_1
 10198 03:2876: 85 1B        	sta	<L518+offy_1
 10199                        ;			px = 0;
 10200                        	.line	1399
 10201 03:2878: 64 15        	stz	<L518+px_1
 10202                        ;			for (x = 0; x < width; x+=scale)
                     
 10203                        	.line	1400
 10204 03:287A: 64 09        	stz	<L518+x_1
 10205 03:287C: 82 AA 00     	brl	L10210
 10206                        L10209:
 10207                        ;			{
 10208                        	.line	1401
 10209                        ;				// get the pixel value
 10210                        ;				offx = x;
 10211                        	.line	1403
 10212 03:287F: A5 09        	lda	<L518+x_1
 10213 03:2881: 85 19        	sta	<L518+offx_1
 10214                        ;				b = img[py * FONTW + px]
                    ;
 10215                        	.line	1404
 10216 03:2883: 22 DC 5E 03  	jsl	~~k_font_getFontWidth
 10217 03:2887: 85 01        	sta	<R0
 10218 03:2889: A5 01        	lda	<R0
 10219 03:288B: A6 17        	ldx	<L518+py_1
 10220                        	xref	~~~mul
 10221 03:288D: 22 xx xx xx  	jsl	~~~mul
 10222 03:2891: 85 01        	sta	<R0
 10223 03:2893: 18           	clc
 10224 03:2894: A5 01        	lda	<R0
 10225 03:2896: 65 15        	adc	<L518+px_1
 10226 03:2898: 85 05        	sta	<R1
 10227 03:289A: E2 20        	sep	#$20
 10228                        	longa	off
 10229 03:289C: A4 05        	ldy	<R1
 10230 03:289E: B7 22        	lda	[<L518+img_1],Y
 10231 03:28A0: 85 21        	sta	<L518+b_1
 10232 03:28A2: C2 20        	rep	#$20
 10233                        	longa	on
 10234                        ;				if (b > 0) 
 10235                        	.line	1405
 10236                        ;				{ // plot the pixel	
                    				
 10237 03:28A4: E2 20        	sep	#$20
 10238                        	longa	off
 10239 03:28A6: A9 00        	lda	#$0
 10240 03:28A8: C5 21        	cmp	<L518+b_1
 10241 03:28AA: C2 20        	rep	#$20
 10242                        	longa	on
 10243 03:28AC: 90 03        	bcc	L523
  Wed Nov 18 2020  8:27                                                Page 185


 10244 03:28AE: 82 6F 00     	brl	L10211
 10245                        L523:
 10246                        	.line	1406
 10247                        ;					offy = y;
 10248                        	.line	1407
 10249 03:28B1: A5 0B        	lda	<L518+y_1
 10250 03:28B3: 85 1B        	sta	<L518+offy_1
 10251                        ;					for(sy=0;sy<scal
                    e;sy++)
 10252                        	.line	1408
 10253 03:28B5: 64 1F        	stz	<L518+sy_1
 10254 03:28B7: 82 54 00     	brl	L10215
 10255                        L10214:
 10256                        ;					{
 10257                        	.line	1409
 10258                        ;						offx = x
                    ;
 10259                        	.line	1410
 10260 03:28BA: A5 09        	lda	<L518+x_1
 10261 03:28BC: 85 19        	sta	<L518+offx_1
 10262                        ;						for(sx=0
                    ;sx<scale;sx++)
 10263                        	.line	1411
 10264 03:28BE: 64 1D        	stz	<L518+sx_1
 10265 03:28C0: 82 38 00     	brl	L10219
 10266                        L10218:
 10267                        ;						{
 10268                        	.line	1412
 10269                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 10270                        	.line	1413
 10271 03:28C3: D4 2F        	pei	<L517+color_0
 10272 03:28C5: 18           	clc
 10273 03:28C6: A5 13        	lda	<L518+textY_1
 10274 03:28C8: 65 1B        	adc	<L518+offy_1
 10275 03:28CA: 85 01        	sta	<R0
 10276 03:28CC: A0 00 00     	ldy	#$0
 10277 03:28CF: A5 01        	lda	<R0
 10278 03:28D1: 10 01        	bpl	L524
 10279 03:28D3: 88           	dey
 10280                        L524:
 10281 03:28D4: 85 01        	sta	<R0
 10282 03:28D6: 84 03        	sty	<R0+2
 10283 03:28D8: D4 03        	pei	<R0+2
 10284 03:28DA: D4 01        	pei	<R0
 10285 03:28DC: 18           	clc
 10286 03:28DD: A5 11        	lda	<L518+textX_1
 10287 03:28DF: 65 19        	adc	<L518+offx_1
 10288 03:28E1: 85 05        	sta	<R1
 10289 03:28E3: A0 00 00     	ldy	#$0
 10290 03:28E6: A5 05        	lda	<R1
 10291 03:28E8: 10 01        	bpl	L525
 10292 03:28EA: 88           	dey
 10293                        L525:
 10294 03:28EB: 85 05        	sta	<R1
 10295 03:28ED: 84 07        	sty	<R1+2
 10296 03:28EF: D4 07        	pei	<R1+2
 10297 03:28F1: D4 05        	pei	<R1
  Wed Nov 18 2020  8:27                                                Page 186


 10298 03:28F3: 22 77 0C 03  	jsl	~~k_draw_pixel
 10299                        ;							
                    offx++;
 10300                        	.line	1414
 10301 03:28F7: E6 19        	inc	<L518+offx_1
 10302                        ;						}
 10303                        	.line	1415
 10304                        L10216:
 10305 03:28F9: E6 1D        	inc	<L518+sx_1
 10306                        L10219:
 10307 03:28FB: 38           	sec
 10308 03:28FC: A5 1D        	lda	<L518+sx_1
 10309 03:28FE: E5 31        	sbc	<L517+scale_0
 10310 03:2900: 70 03        	bvs	L526
 10311 03:2902: 49 00 80     	eor	#$8000
 10312                        L526:
 10313 03:2905: 30 03        	bmi	L527
 10314 03:2907: 82 B9 FF     	brl	L10218
 10315                        L527:
 10316                        L10217:
 10317                        ;						offy++;
 10318                        	.line	1416
 10319 03:290A: E6 1B        	inc	<L518+offy_1
 10320                        ;					}
 10321                        	.line	1417
 10322                        L10212:
 10323 03:290C: E6 1F        	inc	<L518+sy_1
 10324                        L10215:
 10325 03:290E: 38           	sec
 10326 03:290F: A5 1F        	lda	<L518+sy_1
 10327 03:2911: E5 31        	sbc	<L517+scale_0
 10328 03:2913: 70 03        	bvs	L528
 10329 03:2915: 49 00 80     	eor	#$8000
 10330                        L528:
 10331 03:2918: 30 03        	bmi	L529
 10332 03:291A: 82 9D FF     	brl	L10214
 10333                        L529:
 10334                        L10213:
 10335                        ;					
 10336                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 10337                        ;				}
 10338                        	.line	1420
 10339                        ;				else 
 10340 03:291D: 82 00 00     	brl	L10220
 10341                        L10211:
 10342                        ;				{ 
 10343                        	.line	1422
 10344                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 10345                        ;				}
 10346                        	.line	1424
 10347                        L10220:
 10348                        ;				px++;
 10349                        	.line	1425
 10350 03:2920: E6 15        	inc	<L518+px_1
 10351                        ;			} // end "for x"
 10352                        	.line	1426
  Wed Nov 18 2020  8:27                                                Page 187


 10353                        L10207:
 10354 03:2922: 18           	clc
 10355 03:2923: A5 09        	lda	<L518+x_1
 10356 03:2925: 65 31        	adc	<L517+scale_0
 10357 03:2927: 85 09        	sta	<L518+x_1
 10358                        L10210:
 10359 03:2929: 38           	sec
 10360 03:292A: A5 09        	lda	<L518+x_1
 10361 03:292C: E5 0F        	sbc	<L518+width_1
 10362 03:292E: 70 03        	bvs	L530
 10363 03:2930: 49 00 80     	eor	#$8000
 10364                        L530:
 10365 03:2933: 30 03        	bmi	L531
 10366 03:2935: 82 47 FF     	brl	L10209
 10367                        L531:
 10368                        L10208:
 10369                        ;			py++;
 10370                        	.line	1427
 10371 03:2938: E6 17        	inc	<L518+py_1
 10372                        ;		} // end "for y"
 10373                        	.line	1428
 10374                        L10203:
 10375 03:293A: 18           	clc
 10376 03:293B: A5 0B        	lda	<L518+y_1
 10377 03:293D: 65 31        	adc	<L517+scale_0
 10378 03:293F: 85 0B        	sta	<L518+y_1
 10379                        L10206:
 10380 03:2941: 38           	sec
 10381 03:2942: A5 0B        	lda	<L518+y_1
 10382 03:2944: E5 0D        	sbc	<L518+height_1
 10383 03:2946: 70 03        	bvs	L532
 10384 03:2948: 49 00 80     	eor	#$8000
 10385                        L532:
 10386 03:294B: 30 03        	bmi	L533
 10387 03:294D: 82 24 FF     	brl	L10205
 10388                        L533:
 10389                        L10204:
 10390                        ;	}
 10391                        	.line	1429
 10392                        ;}
 10393                        L10202:
 10394                        	.line	1430
 10395                        L534:
 10396 03:2950: A5 27        	lda	<L517+2
 10397 03:2952: 85 31        	sta	<L517+2+10
 10398 03:2954: A5 26        	lda	<L517+1
 10399 03:2956: 85 30        	sta	<L517+1+10
 10400 03:2958: 2B           	pld
 10401 03:2959: 3B           	tsc
 10402 03:295A: 18           	clc
 10403 03:295B: 69 2F 00     	adc	#L517+10
 10404 03:295E: 1B           	tcs
 10405 03:295F: 6B           	rtl
 10406                        	.endblock	1430
 10407             00000025   L517	equ	37
 10408             00000009   L518	equ	9
 10409 03:2960:              	ends
 10410                        	efunc
  Wed Nov 18 2020  8:27                                                Page 188


 10411                        	.endfunc	1430,9,37
 10412                        	.line	1430
 10413                        ;
 10414                        ;
 10415                        ;void k_render_bitmap_info(int fcolor)
 10416                        ;{
 10417                        	.line	1433
 10418                        	.line	1434
 10419                        	GUI
 10420                        	xdef	~~k_render_bitmap_info
 10421                        	func
 10422                        	.function	1434
 10423                        ~~k_render_bitmap_info:
 10424                        	longa	on
 10425                        	longi	on
 10426 03:2960: 3B           	tsc
 10427 03:2961: 38           	sec
 10428 03:2962: E9 25 00     	sbc	#L535
 10429 03:2965: 1B           	tcs
 10430 03:2966: 0B           	phd
 10431 03:2967: 5B           	tcd
 10432             00000004   fcolor_0	set	4
 10433                        	.block	1434
 10434                        ;	int x;
 10435                        ;	int y;
 10436                        ;	int pos = 0;
 10437                        ;	int i = 0;
 10438                        ;	int k = 0;
 10439                        ;	int cv = 0;
 10440                        ;	int cl = 0;
 10441                        ;	int lv = 0;
 10442                        ;	int lm = 0;
 10443                        ;	int bx = 0;
 10444                        ;	int by = 0;
 10445                        ;	int mx = -1;
 10446                        ;	int my = -1;
 10447                        ;	int mb = -1;
 10448                        ;	int bw = 0;
 10449                        ;	int bh = 0;
 10450                        ;	char kbchar = 0;
 10451                        ;
 10452                        ;	version_title = "Version 1.0.0\0";
 10453             00000000   x_1	set	0
 10454             00000002   y_1	set	2
 10455             00000004   pos_1	set	4
 10456             00000006   i_1	set	6
 10457             00000008   k_1	set	8
 10458             0000000A   cv_1	set	10
 10459             0000000C   cl_1	set	12
 10460             0000000E   lv_1	set	14
 10461             00000010   lm_1	set	16
 10462             00000012   bx_1	set	18
 10463             00000014   by_1	set	20
 10464             00000016   mx_1	set	22
 10465             00000018   my_1	set	24
 10466             0000001A   mb_1	set	26
 10467             0000001C   bw_1	set	28
 10468             0000001E   bh_1	set	30
  Wed Nov 18 2020  8:27                                                Page 189


 10469             00000020   kbchar_1	set	32
 10470                        	.sym	x,0,5,1,16
 10471                        	.sym	y,2,5,1,16
 10472                        	.sym	pos,4,5,1,16
 10473                        	.sym	i,6,5,1,16
 10474                        	.sym	k,8,5,1,16
 10475                        	.sym	cv,10,5,1,16
 10476                        	.sym	cl,12,5,1,16
 10477                        	.sym	lv,14,5,1,16
 10478                        	.sym	lm,16,5,1,16
 10479                        	.sym	bx,18,5,1,16
 10480                        	.sym	by,20,5,1,16
 10481                        	.sym	mx,22,5,1,16
 10482                        	.sym	my,24,5,1,16
 10483                        	.sym	mb,26,5,1,16
 10484                        	.sym	bw,28,5,1,16
 10485                        	.sym	bh,30,5,1,16
 10486                        	.sym	kbchar,32,14,1,8
 10487                        	.sym	fcolor,4,5,6,16
 10488 03:2968: 64 09        	stz	<L536+pos_1
 10489 03:296A: 64 0B        	stz	<L536+i_1
 10490 03:296C: 64 0D        	stz	<L536+k_1
 10491 03:296E: 64 0F        	stz	<L536+cv_1
 10492 03:2970: 64 11        	stz	<L536+cl_1
 10493 03:2972: 64 13        	stz	<L536+lv_1
 10494 03:2974: 64 15        	stz	<L536+lm_1
 10495 03:2976: 64 17        	stz	<L536+bx_1
 10496 03:2978: 64 19        	stz	<L536+by_1
 10497 03:297A: A9 FF FF     	lda	#$ffff
 10498 03:297D: 85 1B        	sta	<L536+mx_1
 10499 03:297F: A9 FF FF     	lda	#$ffff
 10500 03:2982: 85 1D        	sta	<L536+my_1
 10501 03:2984: A9 FF FF     	lda	#$ffff
 10502 03:2987: 85 1F        	sta	<L536+mb_1
 10503 03:2989: 64 21        	stz	<L536+bw_1
 10504 03:298B: 64 23        	stz	<L536+bh_1
 10505 03:298D: E2 20        	sep	#$20
 10506                        	longa	off
 10507 03:298F: 64 25        	stz	<L536+kbchar_1
 10508 03:2991: C2 20        	rep	#$20
 10509                        	longa	on
 10510                        	.line	1453
 10511 03:2993: A9 xx xx     	lda	#<L403
 10512 03:2996: 8D xx xx     	sta	|~~version_title
 10513 03:2999: A9 xx xx     	lda	#^L403
 10514 03:299C: 8D xx xx     	sta	|~~version_title+2
 10515                        ;
 10516                        ;
 10517                        ;	pos=2;
 10518                        	.line	1456
 10519 03:299F: A9 02 00     	lda	#$2
 10520 03:29A2: 85 09        	sta	<L536+pos_1
 10521                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 10522                        	.line	1457
 10523 03:29A4: F4 00 00     	pea	#<$0
 10524 03:29A7: D4 29        	pei	<L535+fcolor_0
 10525 03:29A9: F4 xx xx     	pea	#^L403+15
  Wed Nov 18 2020  8:27                                                Page 190


 10526 03:29AC: F4 xx xx     	pea	#<L403+15
 10527 03:29AF: F4 23 00     	pea	#<$23
 10528 03:29B2: D4 09        	pei	<L536+pos_1
 10529 03:29B4: 22 FE 15 03  	jsl	~~k_put_draw_text
 10530 03:29B8: 85 09        	sta	<L536+pos_1
 10531                        ;	k_get_c256_major_version(buffer);
 10532                        	.line	1458
 10533 03:29BA: F4 xx xx     	pea	#^~~buffer
 10534 03:29BD: F4 xx xx     	pea	#<~~buffer
 10535 03:29C0: 22 xx xx xx  	jsl	~~k_get_c256_major_version
 10536                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 10537                        	.line	1459
 10538 03:29C4: F4 00 00     	pea	#<$0
 10539 03:29C7: D4 29        	pei	<L535+fcolor_0
 10540 03:29C9: F4 xx xx     	pea	#^~~buffer
 10541 03:29CC: F4 xx xx     	pea	#<~~buffer
 10542 03:29CF: F4 23 00     	pea	#<$23
 10543 03:29D2: D4 09        	pei	<L536+pos_1
 10544 03:29D4: 22 FE 15 03  	jsl	~~k_put_draw_text
 10545 03:29D8: 85 09        	sta	<L536+pos_1
 10546                        ;	k_get_c256_minor_version(buffer);
 10547                        	.line	1460
 10548 03:29DA: F4 xx xx     	pea	#^~~buffer
 10549 03:29DD: F4 xx xx     	pea	#<~~buffer
 10550 03:29E0: 22 xx xx xx  	jsl	~~k_get_c256_minor_version
 10551                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 10552                        	.line	1461
 10553 03:29E4: F4 00 00     	pea	#<$0
 10554 03:29E7: D4 29        	pei	<L535+fcolor_0
 10555 03:29E9: F4 xx xx     	pea	#^~~buffer
 10556 03:29EC: F4 xx xx     	pea	#<~~buffer
 10557 03:29EF: F4 23 00     	pea	#<$23
 10558 03:29F2: D4 09        	pei	<L536+pos_1
 10559 03:29F4: 22 FE 15 03  	jsl	~~k_put_draw_text
 10560 03:29F8: 85 09        	sta	<L536+pos_1
 10561                        ;	
 10562                        ;	pos=2;
 10563                        	.line	1463
 10564 03:29FA: A9 02 00     	lda	#$2
 10565 03:29FD: 85 09        	sta	<L536+pos_1
 10566                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 10567                        	.line	1464
 10568 03:29FF: F4 00 00     	pea	#<$0
 10569 03:2A02: D4 29        	pei	<L535+fcolor_0
 10570 03:2A04: F4 xx xx     	pea	#^L403+36
 10571 03:2A07: F4 xx xx     	pea	#<L403+36
 10572 03:2A0A: F4 25 00     	pea	#<$25
 10573 03:2A0D: D4 09        	pei	<L536+pos_1
 10574 03:2A0F: 22 FE 15 03  	jsl	~~k_put_draw_text
 10575 03:2A13: 85 09        	sta	<L536+pos_1
 10576                        ;	k_get_fpga_date_month(buffer);
 10577                        	.line	1465
 10578 03:2A15: F4 xx xx     	pea	#^~~buffer
 10579 03:2A18: F4 xx xx     	pea	#<~~buffer
 10580 03:2A1B: 22 xx xx xx  	jsl	~~k_get_fpga_date_month
 10581                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
  Wed Nov 18 2020  8:27                                                Page 191


 10582                        	.line	1466
 10583 03:2A1F: F4 00 00     	pea	#<$0
 10584 03:2A22: D4 29        	pei	<L535+fcolor_0
 10585 03:2A24: F4 02 00     	pea	#<$2
 10586 03:2A27: F4 30 00     	pea	#<$30
 10587 03:2A2A: F4 xx xx     	pea	#^~~buffer
 10588 03:2A2D: F4 xx xx     	pea	#<~~buffer
 10589 03:2A30: F4 xx xx     	pea	#^~~strbuf
 10590 03:2A33: F4 xx xx     	pea	#<~~strbuf
 10591 03:2A36: 22 xx xx xx  	jsl	~~k_pad_string
 10592 03:2A3A: 85 01        	sta	<R0
 10593 03:2A3C: 86 03        	stx	<R0+2
 10594 03:2A3E: DA           	phx
 10595 03:2A3F: 48           	pha
 10596 03:2A40: F4 25 00     	pea	#<$25
 10597 03:2A43: D4 09        	pei	<L536+pos_1
 10598 03:2A45: 22 FE 15 03  	jsl	~~k_put_draw_text
 10599 03:2A49: 85 09        	sta	<L536+pos_1
 10600                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 10601                        	.line	1467
 10602 03:2A4B: F4 00 00     	pea	#<$0
 10603 03:2A4E: D4 29        	pei	<L535+fcolor_0
 10604 03:2A50: F4 xx xx     	pea	#^L403+50
 10605 03:2A53: F4 xx xx     	pea	#<L403+50
 10606 03:2A56: F4 25 00     	pea	#<$25
 10607 03:2A59: D4 09        	pei	<L536+pos_1
 10608 03:2A5B: 22 FE 15 03  	jsl	~~k_put_draw_text
 10609 03:2A5F: 85 09        	sta	<L536+pos_1
 10610                        ;	k_get_fpga_date_day(buffer);
 10611                        	.line	1468
 10612 03:2A61: F4 xx xx     	pea	#^~~buffer
 10613 03:2A64: F4 xx xx     	pea	#<~~buffer
 10614 03:2A67: 22 xx xx xx  	jsl	~~k_get_fpga_date_day
 10615                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 10616                        	.line	1469
 10617 03:2A6B: F4 00 00     	pea	#<$0
 10618 03:2A6E: D4 29        	pei	<L535+fcolor_0
 10619 03:2A70: F4 02 00     	pea	#<$2
 10620 03:2A73: F4 30 00     	pea	#<$30
 10621 03:2A76: F4 xx xx     	pea	#^~~buffer
 10622 03:2A79: F4 xx xx     	pea	#<~~buffer
 10623 03:2A7C: F4 xx xx     	pea	#^~~strbuf
 10624 03:2A7F: F4 xx xx     	pea	#<~~strbuf
 10625 03:2A82: 22 xx xx xx  	jsl	~~k_pad_string
 10626 03:2A86: 85 01        	sta	<R0
 10627 03:2A88: 86 03        	stx	<R0+2
 10628 03:2A8A: DA           	phx
 10629 03:2A8B: 48           	pha
 10630 03:2A8C: F4 25 00     	pea	#<$25
 10631 03:2A8F: D4 09        	pei	<L536+pos_1
 10632 03:2A91: 22 FE 15 03  	jsl	~~k_put_draw_text
 10633 03:2A95: 85 09        	sta	<L536+pos_1
 10634                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 10635                        	.line	1470
 10636 03:2A97: F4 00 00     	pea	#<$0
 10637 03:2A9A: D4 29        	pei	<L535+fcolor_0
 10638 03:2A9C: F4 xx xx     	pea	#^L403+52
  Wed Nov 18 2020  8:27                                                Page 192


 10639 03:2A9F: F4 xx xx     	pea	#<L403+52
 10640 03:2AA2: F4 25 00     	pea	#<$25
 10641 03:2AA5: D4 09        	pei	<L536+pos_1
 10642 03:2AA7: 22 FE 15 03  	jsl	~~k_put_draw_text
 10643 03:2AAB: 85 09        	sta	<L536+pos_1
 10644                        ;	k_get_fpga_date_year(buffer);
 10645                        	.line	1471
 10646 03:2AAD: F4 xx xx     	pea	#^~~buffer
 10647 03:2AB0: F4 xx xx     	pea	#<~~buffer
 10648 03:2AB3: 22 xx xx xx  	jsl	~~k_get_fpga_date_year
 10649                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 10650                        	.line	1472
 10651 03:2AB7: F4 00 00     	pea	#<$0
 10652 03:2ABA: D4 29        	pei	<L535+fcolor_0
 10653 03:2ABC: F4 02 00     	pea	#<$2
 10654 03:2ABF: F4 30 00     	pea	#<$30
 10655 03:2AC2: F4 xx xx     	pea	#^~~buffer
 10656 03:2AC5: F4 xx xx     	pea	#<~~buffer
 10657 03:2AC8: F4 xx xx     	pea	#^~~strbuf
 10658 03:2ACB: F4 xx xx     	pea	#<~~strbuf
 10659 03:2ACE: 22 xx xx xx  	jsl	~~k_pad_string
 10660 03:2AD2: 85 01        	sta	<R0
 10661 03:2AD4: 86 03        	stx	<R0+2
 10662 03:2AD6: DA           	phx
 10663 03:2AD7: 48           	pha
 10664 03:2AD8: F4 25 00     	pea	#<$25
 10665 03:2ADB: D4 09        	pei	<L536+pos_1
 10666 03:2ADD: 22 FE 15 03  	jsl	~~k_put_draw_text
 10667 03:2AE1: 85 09        	sta	<L536+pos_1
 10668                        ;
 10669                        ;
 10670                        ;	pos = 2;
 10671                        	.line	1475
 10672 03:2AE3: A9 02 00     	lda	#$2
 10673 03:2AE6: 85 09        	sta	<L536+pos_1
 10674                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 10675                        	.line	1476
 10676 03:2AE8: F4 00 00     	pea	#<$0
 10677 03:2AEB: F4 0F 00     	pea	#<$f
 10678 03:2AEE: F4 xx xx     	pea	#^L403+54
 10679 03:2AF1: F4 xx xx     	pea	#<L403+54
 10680 03:2AF4: F4 02 00     	pea	#<$2
 10681 03:2AF7: D4 09        	pei	<L536+pos_1
 10682 03:2AF9: 22 FE 15 03  	jsl	~~k_put_draw_text
 10683 03:2AFD: 85 09        	sta	<L536+pos_1
 10684                        ;	k_itoa(fcolor,buffer,10);
 10685                        	.line	1477
 10686 03:2AFF: F4 0A 00     	pea	#<$a
 10687 03:2B02: F4 xx xx     	pea	#^~~buffer
 10688 03:2B05: F4 xx xx     	pea	#<~~buffer
 10689 03:2B08: D4 29        	pei	<L535+fcolor_0
 10690 03:2B0A: 22 xx xx xx  	jsl	~~k_itoa
 10691                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 10692                        	.line	1478
 10693 03:2B0E: F4 00 00     	pea	#<$0
 10694 03:2B11: F4 0F 00     	pea	#<$f
  Wed Nov 18 2020  8:27                                                Page 193


 10695 03:2B14: F4 xx xx     	pea	#^~~buffer
 10696 03:2B17: F4 xx xx     	pea	#<~~buffer
 10697 03:2B1A: F4 02 00     	pea	#<$2
 10698 03:2B1D: D4 09        	pei	<L536+pos_1
 10699 03:2B1F: 22 FE 15 03  	jsl	~~k_put_draw_text
 10700 03:2B23: 85 09        	sta	<L536+pos_1
 10701                        ;
 10702                        ;	pos = 2;
 10703                        	.line	1480
 10704 03:2B25: A9 02 00     	lda	#$2
 10705 03:2B28: 85 09        	sta	<L536+pos_1
 10706                        ;	k_draw_pixel(0,0,fcolor);
 10707                        	.line	1481
 10708 03:2B2A: D4 29        	pei	<L535+fcolor_0
 10709 03:2B2C: F4 00 00     	pea	#^$0
 10710 03:2B2F: F4 00 00     	pea	#<$0
 10711 03:2B32: F4 00 00     	pea	#^$0
 10712 03:2B35: F4 00 00     	pea	#<$0
 10713 03:2B38: 22 77 0C 03  	jsl	~~k_draw_pixel
 10714                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 10715                        	.line	1482
 10716 03:2B3C: F4 00 00     	pea	#<$0
 10717 03:2B3F: F4 0F 00     	pea	#<$f
 10718 03:2B42: F4 xx xx     	pea	#^L403+69
 10719 03:2B45: F4 xx xx     	pea	#<L403+69
 10720 03:2B48: F4 03 00     	pea	#<$3
 10721 03:2B4B: D4 09        	pei	<L536+pos_1
 10722 03:2B4D: 22 FE 15 03  	jsl	~~k_put_draw_text
 10723 03:2B51: 85 09        	sta	<L536+pos_1
 10724                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 10725                        	.line	1483
 10726 03:2B53: F4 0A 00     	pea	#<$a
 10727 03:2B56: F4 xx xx     	pea	#^~~buffer
 10728 03:2B59: F4 xx xx     	pea	#<~~buffer
 10729 03:2B5C: F4 00 00     	pea	#<$0
 10730 03:2B5F: F4 00 00     	pea	#<$0
 10731 03:2B62: 22 DC 0C 03  	jsl	~~k_get_pixel_color
 10732 03:2B66: 48           	pha
 10733 03:2B67: 22 xx xx xx  	jsl	~~k_itoa
 10734                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 10735                        	.line	1484
 10736 03:2B6B: F4 00 00     	pea	#<$0
 10737 03:2B6E: F4 0F 00     	pea	#<$f
 10738 03:2B71: F4 xx xx     	pea	#^~~buffer
 10739 03:2B74: F4 xx xx     	pea	#<~~buffer
 10740 03:2B77: F4 03 00     	pea	#<$3
 10741 03:2B7A: D4 09        	pei	<L536+pos_1
 10742 03:2B7C: 22 FE 15 03  	jsl	~~k_put_draw_text
 10743 03:2B80: 85 09        	sta	<L536+pos_1
 10744                        ;
 10745                        ;
 10746                        ;
 10747                        ;	pos = 2;
 10748                        	.line	1488
 10749 03:2B82: A9 02 00     	lda	#$2
 10750 03:2B85: 85 09        	sta	<L536+pos_1
 10751                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
  Wed Nov 18 2020  8:27                                                Page 194


                    ,0);
 10752                        	.line	1489
 10753 03:2B87: F4 00 00     	pea	#<$0
 10754 03:2B8A: D4 29        	pei	<L535+fcolor_0
 10755 03:2B8C: F4 xx xx     	pea	#^L403+89
 10756 03:2B8F: F4 xx xx     	pea	#<L403+89
 10757 03:2B92: F4 29 00     	pea	#<$29
 10758 03:2B95: D4 09        	pei	<L536+pos_1
 10759 03:2B97: 22 FE 15 03  	jsl	~~k_put_draw_text
 10760 03:2B9B: 85 09        	sta	<L536+pos_1
 10761                        ;	k_itoa(sizeof(char),buffer,10);
 10762                        	.line	1490
 10763 03:2B9D: F4 0A 00     	pea	#<$a
 10764 03:2BA0: F4 xx xx     	pea	#^~~buffer
 10765 03:2BA3: F4 xx xx     	pea	#<~~buffer
 10766 03:2BA6: F4 01 00     	pea	#<$1
 10767 03:2BA9: 22 xx xx xx  	jsl	~~k_itoa
 10768                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 10769                        	.line	1491
 10770 03:2BAD: F4 00 00     	pea	#<$0
 10771 03:2BB0: D4 29        	pei	<L535+fcolor_0
 10772 03:2BB2: F4 xx xx     	pea	#^~~buffer
 10773 03:2BB5: F4 xx xx     	pea	#<~~buffer
 10774 03:2BB8: F4 29 00     	pea	#<$29
 10775 03:2BBB: D4 09        	pei	<L536+pos_1
 10776 03:2BBD: 22 FE 15 03  	jsl	~~k_put_draw_text
 10777 03:2BC1: 85 09        	sta	<L536+pos_1
 10778                        ;
 10779                        ;	pos = 2;
 10780                        	.line	1493
 10781 03:2BC3: A9 02 00     	lda	#$2
 10782 03:2BC6: 85 09        	sta	<L536+pos_1
 10783                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 10784                        	.line	1494
 10785 03:2BC8: F4 00 00     	pea	#<$0
 10786 03:2BCB: D4 29        	pei	<L535+fcolor_0
 10787 03:2BCD: F4 xx xx     	pea	#^L403+102
 10788 03:2BD0: F4 xx xx     	pea	#<L403+102
 10789 03:2BD3: F4 2A 00     	pea	#<$2a
 10790 03:2BD6: D4 09        	pei	<L536+pos_1
 10791 03:2BD8: 22 FE 15 03  	jsl	~~k_put_draw_text
 10792 03:2BDC: 85 09        	sta	<L536+pos_1
 10793                        ;	k_itoa(sizeof(int),buffer,10);
 10794                        	.line	1495
 10795 03:2BDE: F4 0A 00     	pea	#<$a
 10796 03:2BE1: F4 xx xx     	pea	#^~~buffer
 10797 03:2BE4: F4 xx xx     	pea	#<~~buffer
 10798 03:2BE7: F4 02 00     	pea	#<$2
 10799 03:2BEA: 22 xx xx xx  	jsl	~~k_itoa
 10800                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 10801                        	.line	1496
 10802 03:2BEE: F4 00 00     	pea	#<$0
 10803 03:2BF1: D4 29        	pei	<L535+fcolor_0
 10804 03:2BF3: F4 xx xx     	pea	#^~~buffer
 10805 03:2BF6: F4 xx xx     	pea	#<~~buffer
 10806 03:2BF9: F4 2A 00     	pea	#<$2a
 10807 03:2BFC: D4 09        	pei	<L536+pos_1
  Wed Nov 18 2020  8:27                                                Page 195


 10808 03:2BFE: 22 FE 15 03  	jsl	~~k_put_draw_text
 10809 03:2C02: 85 09        	sta	<L536+pos_1
 10810                        ;
 10811                        ;	pos = 2;
 10812                        	.line	1498
 10813 03:2C04: A9 02 00     	lda	#$2
 10814 03:2C07: 85 09        	sta	<L536+pos_1
 10815                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
 10816                        	.line	1499
 10817 03:2C09: F4 00 00     	pea	#<$0
 10818 03:2C0C: D4 29        	pei	<L535+fcolor_0
 10819 03:2C0E: F4 xx xx     	pea	#^L403+114
 10820 03:2C11: F4 xx xx     	pea	#<L403+114
 10821 03:2C14: F4 2B 00     	pea	#<$2b
 10822 03:2C17: D4 09        	pei	<L536+pos_1
 10823 03:2C19: 22 FE 15 03  	jsl	~~k_put_draw_text
 10824 03:2C1D: 85 09        	sta	<L536+pos_1
 10825                        ;	k_itoa(sizeof(long),buffer,10);
 10826                        	.line	1500
 10827 03:2C1F: F4 0A 00     	pea	#<$a
 10828 03:2C22: F4 xx xx     	pea	#^~~buffer
 10829 03:2C25: F4 xx xx     	pea	#<~~buffer
 10830 03:2C28: F4 04 00     	pea	#<$4
 10831 03:2C2B: 22 xx xx xx  	jsl	~~k_itoa
 10832                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 10833                        	.line	1501
 10834 03:2C2F: F4 00 00     	pea	#<$0
 10835 03:2C32: D4 29        	pei	<L535+fcolor_0
 10836 03:2C34: F4 xx xx     	pea	#^~~buffer
 10837 03:2C37: F4 xx xx     	pea	#<~~buffer
 10838 03:2C3A: F4 2B 00     	pea	#<$2b
 10839 03:2C3D: D4 09        	pei	<L536+pos_1
 10840 03:2C3F: 22 FE 15 03  	jsl	~~k_put_draw_text
 10841 03:2C43: 85 09        	sta	<L536+pos_1
 10842                        ;
 10843                        ;	pos = 2;
 10844                        	.line	1503
 10845 03:2C45: A9 02 00     	lda	#$2
 10846 03:2C48: 85 09        	sta	<L536+pos_1
 10847                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 10848                        	.line	1504
 10849 03:2C4A: F4 00 00     	pea	#<$0
 10850 03:2C4D: D4 29        	pei	<L535+fcolor_0
 10851 03:2C4F: F4 xx xx     	pea	#^L403+127
 10852 03:2C52: F4 xx xx     	pea	#<L403+127
 10853 03:2C55: F4 2C 00     	pea	#<$2c
 10854 03:2C58: D4 09        	pei	<L536+pos_1
 10855 03:2C5A: 22 FE 15 03  	jsl	~~k_put_draw_text
 10856 03:2C5E: 85 09        	sta	<L536+pos_1
 10857                        ;	k_itoa(sizeof(char*),buffer,10);
 10858                        	.line	1505
 10859 03:2C60: F4 0A 00     	pea	#<$a
 10860 03:2C63: F4 xx xx     	pea	#^~~buffer
 10861 03:2C66: F4 xx xx     	pea	#<~~buffer
 10862 03:2C69: F4 04 00     	pea	#<$4
 10863 03:2C6C: 22 xx xx xx  	jsl	~~k_itoa
  Wed Nov 18 2020  8:27                                                Page 196


 10864                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 10865                        	.line	1506
 10866 03:2C70: F4 00 00     	pea	#<$0
 10867 03:2C73: D4 29        	pei	<L535+fcolor_0
 10868 03:2C75: F4 xx xx     	pea	#^~~buffer
 10869 03:2C78: F4 xx xx     	pea	#<~~buffer
 10870 03:2C7B: F4 2C 00     	pea	#<$2c
 10871 03:2C7E: D4 09        	pei	<L536+pos_1
 10872 03:2C80: 22 FE 15 03  	jsl	~~k_put_draw_text
 10873 03:2C84: 85 09        	sta	<L536+pos_1
 10874                        ;
 10875                        ;	pos = 2;
 10876                        	.line	1508
 10877 03:2C86: A9 02 00     	lda	#$2
 10878 03:2C89: 85 09        	sta	<L536+pos_1
 10879                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
                    color,0);
 10880                        	.line	1509
 10881 03:2C8B: F4 00 00     	pea	#<$0
 10882 03:2C8E: D4 29        	pei	<L535+fcolor_0
 10883 03:2C90: F4 xx xx     	pea	#^L403+141
 10884 03:2C93: F4 xx xx     	pea	#<L403+141
 10885 03:2C96: F4 2D 00     	pea	#<$2d
 10886 03:2C99: D4 09        	pei	<L536+pos_1
 10887 03:2C9B: 22 FE 15 03  	jsl	~~k_put_draw_text
 10888 03:2C9F: 85 09        	sta	<L536+pos_1
 10889                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 10890                        	.line	1510
 10891 03:2CA1: F4 0A 00     	pea	#<$a
 10892 03:2CA4: F4 xx xx     	pea	#^~~buffer
 10893 03:2CA7: F4 xx xx     	pea	#<~~buffer
 10894 03:2CAA: F4 04 00     	pea	#<$4
 10895 03:2CAD: 22 xx xx xx  	jsl	~~k_itoa
 10896                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 10897                        	.line	1511
 10898 03:2CB1: F4 00 00     	pea	#<$0
 10899 03:2CB4: D4 29        	pei	<L535+fcolor_0
 10900 03:2CB6: F4 xx xx     	pea	#^~~buffer
 10901 03:2CB9: F4 xx xx     	pea	#<~~buffer
 10902 03:2CBC: F4 2D 00     	pea	#<$2d
 10903 03:2CBF: D4 09        	pei	<L536+pos_1
 10904 03:2CC1: 22 FE 15 03  	jsl	~~k_put_draw_text
 10905 03:2CC5: 85 09        	sta	<L536+pos_1
 10906                        ;
 10907                        ;
 10908                        ;	pos = 2;
 10909                        	.line	1514
 10910 03:2CC7: A9 02 00     	lda	#$2
 10911 03:2CCA: 85 09        	sta	<L536+pos_1
 10912                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 10913                        	.line	1515
 10914 03:2CCC: F4 00 00     	pea	#<$0
 10915 03:2CCF: D4 29        	pei	<L535+fcolor_0
 10916 03:2CD1: F4 xx xx     	pea	#^L403+159
 10917 03:2CD4: F4 xx xx     	pea	#<L403+159
 10918 03:2CD7: F4 2E 00     	pea	#<$2e
 10919 03:2CDA: D4 09        	pei	<L536+pos_1
  Wed Nov 18 2020  8:27                                                Page 197


 10920 03:2CDC: 22 FE 15 03  	jsl	~~k_put_draw_text
 10921 03:2CE0: 85 09        	sta	<L536+pos_1
 10922                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 10923                        	.line	1516
 10924 03:2CE2: F4 0A 00     	pea	#<$a
 10925 03:2CE5: F4 xx xx     	pea	#^~~buffer
 10926 03:2CE8: F4 xx xx     	pea	#<~~buffer
 10927 03:2CEB: F4 02 00     	pea	#<$2
 10928 03:2CEE: 22 xx xx xx  	jsl	~~k_itoa
 10929                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 10930                        	.line	1517
 10931 03:2CF2: F4 00 00     	pea	#<$0
 10932 03:2CF5: D4 29        	pei	<L535+fcolor_0
 10933 03:2CF7: F4 xx xx     	pea	#^~~buffer
 10934 03:2CFA: F4 xx xx     	pea	#<~~buffer
 10935 03:2CFD: F4 2E 00     	pea	#<$2e
 10936 03:2D00: D4 09        	pei	<L536+pos_1
 10937 03:2D02: 22 FE 15 03  	jsl	~~k_put_draw_text
 10938 03:2D06: 85 09        	sta	<L536+pos_1
 10939                        ;
 10940                        ;	pos = 2;
 10941                        	.line	1519
 10942 03:2D08: A9 02 00     	lda	#$2
 10943 03:2D0B: 85 09        	sta	<L536+pos_1
 10944                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 10945                        	.line	1520
 10946 03:2D0D: F4 00 00     	pea	#<$0
 10947 03:2D10: D4 29        	pei	<L535+fcolor_0
 10948 03:2D12: F4 xx xx     	pea	#^L403+172
 10949 03:2D15: F4 xx xx     	pea	#<L403+172
 10950 03:2D18: F4 2F 00     	pea	#<$2f
 10951 03:2D1B: D4 09        	pei	<L536+pos_1
 10952 03:2D1D: 22 FE 15 03  	jsl	~~k_put_draw_text
 10953 03:2D21: 85 09        	sta	<L536+pos_1
 10954                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 10955                        	.line	1521
 10956 03:2D23: F4 0A 00     	pea	#<$a
 10957 03:2D26: F4 xx xx     	pea	#^~~buffer
 10958 03:2D29: F4 xx xx     	pea	#<~~buffer
 10959 03:2D2C: F4 04 00     	pea	#<$4
 10960 03:2D2F: 22 xx xx xx  	jsl	~~k_itoa
 10961                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 10962                        	.line	1522
 10963 03:2D33: F4 00 00     	pea	#<$0
 10964 03:2D36: D4 29        	pei	<L535+fcolor_0
 10965 03:2D38: F4 xx xx     	pea	#^~~buffer
 10966 03:2D3B: F4 xx xx     	pea	#<~~buffer
 10967 03:2D3E: F4 2F 00     	pea	#<$2f
 10968 03:2D41: D4 09        	pei	<L536+pos_1
 10969 03:2D43: 22 FE 15 03  	jsl	~~k_put_draw_text
 10970 03:2D47: 85 09        	sta	<L536+pos_1
 10971                        ;
 10972                        ;
 10973                        ;				
 10974                        ;	/*
 10975                        ;	pos = 2;
 10976                        ;	pos=k_put_draw_text(pos,49,"MOUSE X:",fcolor,0);
  Wed Nov 18 2020  8:27                                                Page 198


 10977                        ;	k_itoa(mx,buffer,10);
 10978                        ;	pos=k_put_draw_text(pos,49,buffer,fcolor,0);
 10979                        ;	pos = 2;
 10980                        ;	pos=k_put_draw_text(pos,50,"MOUSE Y:",fcolor,0);
 10981                        ;	k_itoa(my,buffer,10);
 10982                        ;	pos=k_put_draw_text(pos,50,buffer,fcolor,0);
 10983                        ;	pos = 2;
 10984                        ;	pos=k_put_draw_text(pos,51,"MOUSE LEFT:",fcolor,
                    0);
 10985                        ;	k_itoa(mb & 0x0001,buffer,10);
 10986                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);	
 10987                        ;	pos=k_put_draw_text(pos,51," MOUSE MIDDLE:",fcol
                    or,0);
 10988                        ;	k_itoa(mb & 0x0004,buffer,10);
 10989                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);
 10990                        ;	pos=k_put_draw_text(pos,51," MOUSE RIGHT:",fcolo
                    r,0);
 10991                        ;	k_itoa(mb & 0x0002,buffer,10);
 10992                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);
 10993                        ;
 10994                        ;	pos = 2;
 10995                        ;	pos=k_put_draw_text(pos,52," KEY INDEX:",fcolor,
                    0);
 10996                        ;	k_itoa(k_get_key_handler(),buffer,10);
 10997                        ;	pos=k_put_draw_text(pos,52,buffer,fcolor,0);
 10998                        ;
 10999                        ;	*/
 11000                        ;}
 11001                        	.line	1552
 11002                        L538:
 11003 03:2D49: A5 27        	lda	<L535+2
 11004 03:2D4B: 85 29        	sta	<L535+2+2
 11005 03:2D4D: A5 26        	lda	<L535+1
 11006 03:2D4F: 85 28        	sta	<L535+1+2
 11007 03:2D51: 2B           	pld
 11008 03:2D52: 3B           	tsc
 11009 03:2D53: 18           	clc
 11010 03:2D54: 69 27 00     	adc	#L535+2
 11011 03:2D57: 1B           	tcs
 11012 03:2D58: 6B           	rtl
 11013                        	.endblock	1552
 11014             00000025   L535	equ	37
 11015             00000005   L536	equ	5
 11016 03:2D59:              	ends
 11017                        	efunc
 11018                        	.endfunc	1552,5,37
 11019                        	.line	1552
 11020                        	data
 11021                        L403:
 11022 00:02C7: 56 65 72 73  	db	$56,$65,$72,$73,$69,$6F,$6E,$20,$31,$2E,
                    $30,$2E,$30,$00,$00
       00:02CB: 69 6F 6E 20 
       00:02CF: 31 2E 30 2E 
       00:02D3: 30 00 00 
 11023 00:02D6: 46 4F 45 4E  	db	$46,$4F,$45,$4E,$49,$58,$20,$43,$32,$35,
                    $36,$20,$56,$45,$52
       00:02DA: 49 58 20 43 
       00:02DE: 32 35 36 20 
  Wed Nov 18 2020  8:27                                                Page 199


       00:02E2: 56 45 52 
 11024 00:02E5: 53 49 4F 4E  	db	$53,$49,$4F,$4E,$3A,$00,$46,$50,$47,$41,
                    $20,$56,$45,$52,$53
       00:02E9: 3A 00 46 50 
       00:02ED: 47 41 20 56 
       00:02F1: 45 52 53 
 11025 00:02F4: 49 4F 4E 3A  	db	$49,$4F,$4E,$3A,$00,$2F,$00,$2F,$00,$43,
                    $55,$52,$52,$45,$4E
       00:02F8: 00 2F 00 2F 
       00:02FC: 00 43 55 52 
       00:0300: 52 45 4E 
 11026 00:0303: 54 20 43 4F  	db	$54,$20,$43,$4F,$4C,$4F,$52,$3A,$00,$52,
                    $45,$41,$44,$20,$43
       00:0307: 4C 4F 52 3A 
       00:030B: 00 52 45 41 
       00:030F: 44 20 43 
 11027 00:0312: 4F 4C 4F 52  	db	$4F,$4C,$4F,$52,$20,$41,$54,$20,$30,$2C,
                    $30,$20,$3A,$00,$53
       00:0316: 20 41 54 20 
       00:031A: 30 2C 30 20 
       00:031E: 3A 00 53 
 11028 00:0321: 49 5A 45 4F  	db	$49,$5A,$45,$4F,$46,$20,$43,$48,$41,$52,
                    $3A,$00,$53,$49,$5A
       00:0325: 46 20 43 48 
       00:0329: 41 52 3A 00 
       00:032D: 53 49 5A 
 11029 00:0330: 45 4F 46 20  	db	$45,$4F,$46,$20,$49,$4E,$54,$3A,$00,$53,
                    $49,$5A,$45,$4F,$46
       00:0334: 49 4E 54 3A 
       00:0338: 00 53 49 5A 
       00:033C: 45 4F 46 
 11030 00:033F: 20 4C 4F 4E  	db	$20,$4C,$4F,$4E,$47,$3A,$00,$53,$49,$5A,
                    $45,$4F,$46,$20,$43
       00:0343: 47 3A 00 53 
       00:0347: 49 5A 45 4F 
       00:034B: 46 20 43 
 11031 00:034E: 48 41 52 2A  	db	$48,$41,$52,$2A,$3A,$00,$53,$49,$5A,$45,
                    $4F,$46,$20,$43,$48
       00:0352: 3A 00 53 49 
       00:0356: 5A 45 4F 46 
       00:035A: 20 43 48 
 11032 00:035D: 41 52 20 46  	db	$41,$52,$20,$46,$41,$52,$2A,$3A,$00,$53,
                    $49,$5A,$45,$4F,$46
       00:0361: 41 52 2A 3A 
       00:0365: 00 53 49 5A 
       00:0369: 45 4F 46 
 11033 00:036C: 20 55 49 4E  	db	$20,$55,$49,$4E,$54,$3A,$00,$53,$49,$5A,
                    $45,$4F,$46,$20,$55
       00:0370: 54 3A 00 53 
       00:0374: 49 5A 45 4F 
       00:0378: 46 20 55 
 11034 00:037B: 4C 4F 4E 47  	db	$4C,$4F,$4E,$47,$3A,$00
       00:037F: 3A 00 
 11035 00:0381:              	ends
 11036                        ;
 11037                        ;void k_draw_lines(void)
 11038                        ;{
 11039                        	.line	1554
  Wed Nov 18 2020  8:27                                                Page 200


 11040                        	.line	1555
 11041                        	GUI
 11042                        	xdef	~~k_draw_lines
 11043                        	func
 11044                        	.function	1555
 11045                        ~~k_draw_lines:
 11046                        	longa	on
 11047                        	longi	on
 11048 03:2D59: 3B           	tsc
 11049 03:2D5A: 38           	sec
 11050 03:2D5B: E9 0A 00     	sbc	#L540
 11051 03:2D5E: 1B           	tcs
 11052 03:2D5F: 0B           	phd
 11053 03:2D60: 5B           	tcd
 11054                        	.block	1555
 11055                        ;	int dx = 0;
 11056                        ;	int dy = 0;
 11057                        ;	int bc = 1;	
 11058                        ;	int dx0 = 0;
 11059                        ;	int dy0 = 0;
 11060                        ;	
 11061                        ;	for(dy=0;dy<480;dy+=5)
 11062             00000000   dx_1	set	0
 11063             00000002   dy_1	set	2
 11064             00000004   bc_1	set	4
 11065             00000006   dx0_1	set	6
 11066             00000008   dy0_1	set	8
 11067                        	.sym	dx,0,5,1,16
 11068                        	.sym	dy,2,5,1,16
 11069                        	.sym	bc,4,5,1,16
 11070                        	.sym	dx0,6,5,1,16
 11071                        	.sym	dy0,8,5,1,16
 11072 03:2D61: 64 01        	stz	<L541+dx_1
 11073 03:2D63: 64 03        	stz	<L541+dy_1
 11074 03:2D65: A9 01 00     	lda	#$1
 11075 03:2D68: 85 05        	sta	<L541+bc_1
 11076 03:2D6A: 64 07        	stz	<L541+dx0_1
 11077 03:2D6C: 64 09        	stz	<L541+dy0_1
 11078                        	.line	1562
 11079 03:2D6E: 64 03        	stz	<L541+dy_1
 11080                        L10223:
 11081                        ;	{
 11082                        	.line	1563
 11083                        ;		//if(dx0!=0 && dy0!=0)
 11084                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 11085                        ;		
 11086                        ;		k_draw_line(0,dy,dx,479,bc);
 11087                        	.line	1567
 11088 03:2D70: D4 05        	pei	<L541+bc_1
 11089 03:2D72: F4 DF 01     	pea	#<$1df
 11090 03:2D75: D4 01        	pei	<L541+dx_1
 11091 03:2D77: D4 03        	pei	<L541+dy_1
 11092 03:2D79: F4 00 00     	pea	#<$0
 11093 03:2D7C: 22 79 14 03  	jsl	~~k_draw_line
 11094                        ;
 11095                        ;		dx0 = dx;
 11096                        	.line	1569
 11097 03:2D80: A5 01        	lda	<L541+dx_1
  Wed Nov 18 2020  8:27                                                Page 201


 11098 03:2D82: 85 07        	sta	<L541+dx0_1
 11099                        ;		dy0 = dy;
 11100                        	.line	1570
 11101 03:2D84: A5 03        	lda	<L541+dy_1
 11102 03:2D86: 85 09        	sta	<L541+dy0_1
 11103                        ;		
 11104                        ;		dx+=5;
 11105                        	.line	1572
 11106 03:2D88: 18           	clc
 11107 03:2D89: A9 05 00     	lda	#$5
 11108 03:2D8C: 65 01        	adc	<L541+dx_1
 11109 03:2D8E: 85 01        	sta	<L541+dx_1
 11110                        ;		bc++;
 11111                        	.line	1573
 11112 03:2D90: E6 05        	inc	<L541+bc_1
 11113                        ;		if(bc > 15)
 11114                        	.line	1574
 11115                        ;			bc = 1;
 11116 03:2D92: 38           	sec
 11117 03:2D93: A9 0F 00     	lda	#$f
 11118 03:2D96: E5 05        	sbc	<L541+bc_1
 11119 03:2D98: 70 03        	bvs	L543
 11120 03:2D9A: 49 00 80     	eor	#$8000
 11121                        L543:
 11122 03:2D9D: 10 03        	bpl	L544
 11123 03:2D9F: 82 05 00     	brl	L10224
 11124                        L544:
 11125                        	.line	1575
 11126 03:2DA2: A9 01 00     	lda	#$1
 11127 03:2DA5: 85 05        	sta	<L541+bc_1
 11128                        ;		
 11129                        ;		
 11130                        ;	}
 11131                        L10224:
 11132                        	.line	1578
 11133                        L10221:
 11134 03:2DA7: 18           	clc
 11135 03:2DA8: A9 05 00     	lda	#$5
 11136 03:2DAB: 65 03        	adc	<L541+dy_1
 11137 03:2DAD: 85 03        	sta	<L541+dy_1
 11138 03:2DAF: 38           	sec
 11139 03:2DB0: A5 03        	lda	<L541+dy_1
 11140 03:2DB2: E9 E0 01     	sbc	#<$1e0
 11141 03:2DB5: 70 03        	bvs	L545
 11142 03:2DB7: 49 00 80     	eor	#$8000
 11143                        L545:
 11144 03:2DBA: 30 03        	bmi	L546
 11145 03:2DBC: 82 B1 FF     	brl	L10223
 11146                        L546:
 11147                        L10222:
 11148                        ;
 11149                        ;
 11150                        ;	dx=479;
 11151                        	.line	1581
 11152 03:2DBF: A9 DF 01     	lda	#$1df
 11153 03:2DC2: 85 01        	sta	<L541+dx_1
 11154                        ;	bc = 1;
 11155                        	.line	1582
  Wed Nov 18 2020  8:27                                                Page 202


 11156 03:2DC4: A9 01 00     	lda	#$1
 11157 03:2DC7: 85 05        	sta	<L541+bc_1
 11158                        ;	for(dy=479;dy>=0;dy-=5)
 11159                        	.line	1583
 11160 03:2DC9: A9 DF 01     	lda	#$1df
 11161 03:2DCC: 85 03        	sta	<L541+dy_1
 11162                        L10227:
 11163                        ;	{
 11164                        	.line	1584
 11165                        ;		
 11166                        ;		//if(dx!=480 && dy!=480)
 11167                        ;		//	k_draw_line(640,dy,dx,0,15);
 11168                        ;		
 11169                        ;		k_draw_line(639,dy,dx,0,bc);
 11170                        	.line	1589
 11171 03:2DCE: D4 05        	pei	<L541+bc_1
 11172 03:2DD0: F4 00 00     	pea	#<$0
 11173 03:2DD3: D4 01        	pei	<L541+dx_1
 11174 03:2DD5: D4 03        	pei	<L541+dy_1
 11175 03:2DD7: F4 7F 02     	pea	#<$27f
 11176 03:2DDA: 22 79 14 03  	jsl	~~k_draw_line
 11177                        ;		
 11178                        ;		dx-=5;
 11179                        	.line	1591
 11180 03:2DDE: 18           	clc
 11181 03:2DDF: A9 FB FF     	lda	#$fffb
 11182 03:2DE2: 65 01        	adc	<L541+dx_1
 11183 03:2DE4: 85 01        	sta	<L541+dx_1
 11184                        ;		bc++;
 11185                        	.line	1592
 11186 03:2DE6: E6 05        	inc	<L541+bc_1
 11187                        ;		if(bc > 15)
 11188                        	.line	1593
 11189                        ;			bc = 1;
 11190 03:2DE8: 38           	sec
 11191 03:2DE9: A9 0F 00     	lda	#$f
 11192 03:2DEC: E5 05        	sbc	<L541+bc_1
 11193 03:2DEE: 70 03        	bvs	L547
 11194 03:2DF0: 49 00 80     	eor	#$8000
 11195                        L547:
 11196 03:2DF3: 10 03        	bpl	L548
 11197 03:2DF5: 82 05 00     	brl	L10228
 11198                        L548:
 11199                        	.line	1594
 11200 03:2DF8: A9 01 00     	lda	#$1
 11201 03:2DFB: 85 05        	sta	<L541+bc_1
 11202                        ;	}
 11203                        L10228:
 11204                        	.line	1595
 11205                        L10225:
 11206 03:2DFD: 18           	clc
 11207 03:2DFE: A9 FB FF     	lda	#$fffb
 11208 03:2E01: 65 03        	adc	<L541+dy_1
 11209 03:2E03: 85 03        	sta	<L541+dy_1
 11210 03:2E05: A5 03        	lda	<L541+dy_1
 11211 03:2E07: 30 03        	bmi	L549
 11212 03:2E09: 82 C2 FF     	brl	L10227
 11213                        L549:
  Wed Nov 18 2020  8:27                                                Page 203


 11214                        L10226:
 11215                        ;	
 11216                        ;	/*
 11217                        ;	for(x=0;x<640;x+=10)
 11218                        ;	{
 11219                        ;		
 11220                        ;		for(y=0;y<480;y+=10)
 11221                        ;		{
 11222                        ;			if(x!=0 && y!=0)
 11223                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 11224                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
 11225                        ;		}
 11226                        ;		
 11227                        ;	}
 11228                        ;	*/
 11229                        ;}
 11230                        	.line	1610
 11231                        L550:
 11232 03:2E0C: 2B           	pld
 11233 03:2E0D: 3B           	tsc
 11234 03:2E0E: 18           	clc
 11235 03:2E0F: 69 0A 00     	adc	#L540
 11236 03:2E12: 1B           	tcs
 11237 03:2E13: 6B           	rtl
 11238                        	.endblock	1610
 11239             0000000A   L540	equ	10
 11240             00000001   L541	equ	1
 11241 03:2E14:              	ends
 11242                        	efunc
 11243                        	.endfunc	1610,1,10
 11244                        	.line	1610
 11245                        ;
 11246                        ;void k_draw_fontset(void)
 11247                        ;{
 11248                        	.line	1612
 11249                        	.line	1613
 11250                        	GUI
 11251                        	xdef	~~k_draw_fontset
 11252                        	func
 11253                        	.function	1613
 11254                        ~~k_draw_fontset:
 11255                        	longa	on
 11256                        	longi	on
 11257 03:2E14: 3B           	tsc
 11258 03:2E15: 38           	sec
 11259 03:2E16: E9 0B 00     	sbc	#L551
 11260 03:2E19: 1B           	tcs
 11261 03:2E1A: 0B           	phd
 11262 03:2E1B: 5B           	tcd
 11263                        	.block	1613
 11264                        ;	int bx = 0;
 11265                        ;	int by = 29; 
 11266                        ;	int bc = 15;
 11267                        ;	char bf = 1;
 11268                        ;	
 11269                        ;	for(bf=0;bf<64;bf++)
  Wed Nov 18 2020  8:27                                                Page 204


 11270             00000000   bx_1	set	0
 11271             00000002   by_1	set	2
 11272             00000004   bc_1	set	4
 11273             00000006   bf_1	set	6
 11274                        	.sym	bx,0,5,1,16
 11275                        	.sym	by,2,5,1,16
 11276                        	.sym	bc,4,5,1,16
 11277                        	.sym	bf,6,14,1,8
 11278 03:2E1C: 64 05        	stz	<L552+bx_1
 11279 03:2E1E: A9 1D 00     	lda	#$1d
 11280 03:2E21: 85 07        	sta	<L552+by_1
 11281 03:2E23: A9 0F 00     	lda	#$f
 11282 03:2E26: 85 09        	sta	<L552+bc_1
 11283 03:2E28: E2 20        	sep	#$20
 11284                        	longa	off
 11285 03:2E2A: A9 01        	lda	#$1
 11286 03:2E2C: 85 0B        	sta	<L552+bf_1
 11287 03:2E2E: C2 20        	rep	#$20
 11288                        	longa	on
 11289                        	.line	1619
 11290 03:2E30: E2 20        	sep	#$20
 11291                        	longa	off
 11292 03:2E32: 64 0B        	stz	<L552+bf_1
 11293 03:2E34: C2 20        	rep	#$20
 11294                        	longa	on
 11295 03:2E36: 82 81 00     	brl	L10232
 11296                        L10231:
 11297                        ;	{
 11298                        	.line	1620
 11299                        ;		k_draw_char((char)bf*1,bx,by,bc);
 11300                        	.line	1621
 11301 03:2E39: D4 09        	pei	<L552+bc_1
 11302 03:2E3B: D4 07        	pei	<L552+by_1
 11303 03:2E3D: D4 05        	pei	<L552+bx_1
 11304 03:2E3F: A5 0B        	lda	<L552+bf_1
 11305 03:2E41: 29 FF 00     	and	#$ff
 11306 03:2E44: 48           	pha
 11307 03:2E45: 22 19 25 03  	jsl	~~k_draw_char
 11308                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 11309                        	.line	1622
 11310 03:2E49: D4 09        	pei	<L552+bc_1
 11311 03:2E4B: A5 07        	lda	<L552+by_1
 11312 03:2E4D: 1A           	ina
 11313 03:2E4E: 48           	pha
 11314 03:2E4F: D4 05        	pei	<L552+bx_1
 11315 03:2E51: A5 0B        	lda	<L552+bf_1
 11316 03:2E53: 29 FF 00     	and	#$ff
 11317 03:2E56: 85 01        	sta	<R0
 11318 03:2E58: 18           	clc
 11319 03:2E59: A9 40 00     	lda	#$40
 11320 03:2E5C: 65 01        	adc	<R0
 11321 03:2E5E: 48           	pha
 11322 03:2E5F: 22 19 25 03  	jsl	~~k_draw_char
 11323                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 11324                        	.line	1623
 11325 03:2E63: D4 09        	pei	<L552+bc_1
 11326 03:2E65: 18           	clc
 11327 03:2E66: A9 02 00     	lda	#$2
  Wed Nov 18 2020  8:27                                                Page 205


 11328 03:2E69: 65 07        	adc	<L552+by_1
 11329 03:2E6B: 48           	pha
 11330 03:2E6C: D4 05        	pei	<L552+bx_1
 11331 03:2E6E: A5 0B        	lda	<L552+bf_1
 11332 03:2E70: 29 FF 00     	and	#$ff
 11333 03:2E73: 85 01        	sta	<R0
 11334 03:2E75: 18           	clc
 11335 03:2E76: A9 80 00     	lda	#$80
 11336 03:2E79: 65 01        	adc	<R0
 11337 03:2E7B: 48           	pha
 11338 03:2E7C: 22 19 25 03  	jsl	~~k_draw_char
 11339                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 11340                        	.line	1624
 11341 03:2E80: D4 09        	pei	<L552+bc_1
 11342 03:2E82: 18           	clc
 11343 03:2E83: A9 03 00     	lda	#$3
 11344 03:2E86: 65 07        	adc	<L552+by_1
 11345 03:2E88: 48           	pha
 11346 03:2E89: D4 05        	pei	<L552+bx_1
 11347 03:2E8B: A5 0B        	lda	<L552+bf_1
 11348 03:2E8D: 29 FF 00     	and	#$ff
 11349 03:2E90: 85 01        	sta	<R0
 11350 03:2E92: 18           	clc
 11351 03:2E93: A9 C0 00     	lda	#$c0
 11352 03:2E96: 65 01        	adc	<R0
 11353 03:2E98: 48           	pha
 11354 03:2E99: 22 19 25 03  	jsl	~~k_draw_char
 11355                        ;
 11356                        ;
 11357                        ;		if(bc > 15)
 11358                        	.line	1627
 11359                        ;			bc = 1;
 11360 03:2E9D: 38           	sec
 11361 03:2E9E: A9 0F 00     	lda	#$f
 11362 03:2EA1: E5 09        	sbc	<L552+bc_1
 11363 03:2EA3: 70 03        	bvs	L554
 11364 03:2EA5: 49 00 80     	eor	#$8000
 11365                        L554:
 11366 03:2EA8: 10 03        	bpl	L555
 11367 03:2EAA: 82 05 00     	brl	L10233
 11368                        L555:
 11369                        	.line	1628
 11370 03:2EAD: A9 01 00     	lda	#$1
 11371 03:2EB0: 85 09        	sta	<L552+bc_1
 11372                        ;		
 11373                        ;		bx++;
 11374                        L10233:
 11375                        	.line	1630
 11376 03:2EB2: E6 05        	inc	<L552+bx_1
 11377                        ;	}
 11378                        	.line	1631
 11379                        L10229:
 11380 03:2EB4: E2 20        	sep	#$20
 11381                        	longa	off
 11382 03:2EB6: E6 0B        	inc	<L552+bf_1
 11383 03:2EB8: C2 20        	rep	#$20
 11384                        	longa	on
 11385                        L10232:
  Wed Nov 18 2020  8:27                                                Page 206


 11386 03:2EBA: E2 20        	sep	#$20
 11387                        	longa	off
 11388 03:2EBC: A5 0B        	lda	<L552+bf_1
 11389 03:2EBE: C9 40        	cmp	#<$40
 11390 03:2EC0: C2 20        	rep	#$20
 11391                        	longa	on
 11392 03:2EC2: B0 03        	bcs	L556
 11393 03:2EC4: 82 72 FF     	brl	L10231
 11394                        L556:
 11395                        L10230:
 11396                        ;
 11397                        ;}
 11398                        	.line	1633
 11399                        L557:
 11400 03:2EC7: 2B           	pld
 11401 03:2EC8: 3B           	tsc
 11402 03:2EC9: 18           	clc
 11403 03:2ECA: 69 0B 00     	adc	#L551
 11404 03:2ECD: 1B           	tcs
 11405 03:2ECE: 6B           	rtl
 11406                        	.endblock	1633
 11407             0000000B   L551	equ	11
 11408             00000005   L552	equ	5
 11409 03:2ECF:              	ends
 11410                        	efunc
 11411                        	.endfunc	1633,5,11
 11412                        	.line	1633
 11413                        ;
 11414                        ;
 11415                        ;void k_fill_bank(int bankId,char fcolor)
 11416                        ;{
 11417                        	.line	1636
 11418                        	.line	1637
 11419                        	GUI
 11420                        	xdef	~~k_fill_bank
 11421                        	func
 11422                        	.function	1637
 11423                        ~~k_fill_bank:
 11424                        	longa	on
 11425                        	longi	on
 11426 03:2ECF: 3B           	tsc
 11427 03:2ED0: 38           	sec
 11428 03:2ED1: E9 08 00     	sbc	#L558
 11429 03:2ED4: 1B           	tcs
 11430 03:2ED5: 0B           	phd
 11431 03:2ED6: 5B           	tcd
 11432             00000004   bankId_0	set	4
 11433             00000006   fcolor_0	set	6
 11434                        	.block	1637
 11435                        ;	long fill = 0xffffL;
 11436                        ;	
 11437                        ;	if(bankId == 0)
 11438             00000000   fill_1	set	0
 11439                        	.sym	fill,0,7,1,32
 11440                        	.sym	bankId,4,5,6,16
 11441                        	.sym	fcolor,6,14,6,8
 11442 03:2ED7: A9 FF FF     	lda	#$ffff
 11443 03:2EDA: 85 05        	sta	<L559+fill_1
  Wed Nov 18 2020  8:27                                                Page 207


 11444 03:2EDC: A9 00 00     	lda	#$0
 11445 03:2EDF: 85 07        	sta	<L559+fill_1+2
 11446                        	.line	1640
 11447                        ;	{
 11448 03:2EE1: A5 0C        	lda	<L558+bankId_0
 11449 03:2EE3: F0 03        	beq	L561
 11450 03:2EE5: 82 2C 00     	brl	L10234
 11451                        L561:
 11452                        	.line	1641
 11453                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 11454                        	.line	1642
 11455 03:2EE8: D4 05        	pei	<L559+fill_1
 11456 03:2EEA: A5 0E        	lda	<L558+fcolor_0
 11457 03:2EEC: 29 FF 00     	and	#$ff
 11458 03:2EEF: 48           	pha
 11459 03:2EF0: F4 B0 00     	pea	#^$b00000
 11460 03:2EF3: F4 00 00     	pea	#<$b00000
 11461 03:2EF6: 22 xx xx xx  	jsl	~~memset
 11462                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 11463                        	.line	1643
 11464 03:2EFA: 18           	clc
 11465 03:2EFB: A9 00 00     	lda	#$0
 11466 03:2EFE: 65 05        	adc	<L559+fill_1
 11467 03:2F00: 85 01        	sta	<R0
 11468 03:2F02: A9 B0 00     	lda	#$b0
 11469 03:2F05: 65 07        	adc	<L559+fill_1+2
 11470 03:2F07: 85 03        	sta	<R0+2
 11471 03:2F09: E2 20        	sep	#$20
 11472                        	longa	off
 11473 03:2F0B: A5 0E        	lda	<L558+fcolor_0
 11474 03:2F0D: 87 01        	sta	[<R0]
 11475 03:2F0F: C2 20        	rep	#$20
 11476                        	longa	on
 11477                        ;	}
 11478                        	.line	1644
 11479                        ;	else if(bankId == 1)
 11480 03:2F11: 82 0B 01     	brl	L10235
 11481                        L10234:
 11482                        	.line	1645
 11483                        ;	{
 11484 03:2F14: A5 0C        	lda	<L558+bankId_0
 11485 03:2F16: C9 01 00     	cmp	#<$1
 11486 03:2F19: F0 03        	beq	L562
 11487 03:2F1B: 82 2C 00     	brl	L10236
 11488                        L562:
 11489                        	.line	1646
 11490                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 11491                        	.line	1647
 11492 03:2F1E: D4 05        	pei	<L559+fill_1
 11493 03:2F20: A5 0E        	lda	<L558+fcolor_0
 11494 03:2F22: 29 FF 00     	and	#$ff
 11495 03:2F25: 48           	pha
 11496 03:2F26: F4 B1 00     	pea	#^$b10000
 11497 03:2F29: F4 00 00     	pea	#<$b10000
 11498 03:2F2C: 22 xx xx xx  	jsl	~~memset
  Wed Nov 18 2020  8:27                                                Page 208


 11499                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 11500                        	.line	1648
 11501 03:2F30: 18           	clc
 11502 03:2F31: A9 00 00     	lda	#$0
 11503 03:2F34: 65 05        	adc	<L559+fill_1
 11504 03:2F36: 85 01        	sta	<R0
 11505 03:2F38: A9 B1 00     	lda	#$b1
 11506 03:2F3B: 65 07        	adc	<L559+fill_1+2
 11507 03:2F3D: 85 03        	sta	<R0+2
 11508 03:2F3F: E2 20        	sep	#$20
 11509                        	longa	off
 11510 03:2F41: A5 0E        	lda	<L558+fcolor_0
 11511 03:2F43: 87 01        	sta	[<R0]
 11512 03:2F45: C2 20        	rep	#$20
 11513                        	longa	on
 11514                        ;	}
 11515                        	.line	1649
 11516                        ;	else if(bankId == 2)
 11517 03:2F47: 82 D5 00     	brl	L10237
 11518                        L10236:
 11519                        	.line	1650
 11520                        ;	{
 11521 03:2F4A: A5 0C        	lda	<L558+bankId_0
 11522 03:2F4C: C9 02 00     	cmp	#<$2
 11523 03:2F4F: F0 03        	beq	L563
 11524 03:2F51: 82 2C 00     	brl	L10238
 11525                        L563:
 11526                        	.line	1651
 11527                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 11528                        	.line	1652
 11529 03:2F54: D4 05        	pei	<L559+fill_1
 11530 03:2F56: A5 0E        	lda	<L558+fcolor_0
 11531 03:2F58: 29 FF 00     	and	#$ff
 11532 03:2F5B: 48           	pha
 11533 03:2F5C: F4 B2 00     	pea	#^$b20000
 11534 03:2F5F: F4 00 00     	pea	#<$b20000
 11535 03:2F62: 22 xx xx xx  	jsl	~~memset
 11536                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 11537                        	.line	1653
 11538 03:2F66: 18           	clc
 11539 03:2F67: A9 00 00     	lda	#$0
 11540 03:2F6A: 65 05        	adc	<L559+fill_1
 11541 03:2F6C: 85 01        	sta	<R0
 11542 03:2F6E: A9 B2 00     	lda	#$b2
 11543 03:2F71: 65 07        	adc	<L559+fill_1+2
 11544 03:2F73: 85 03        	sta	<R0+2
 11545 03:2F75: E2 20        	sep	#$20
 11546                        	longa	off
 11547 03:2F77: A5 0E        	lda	<L558+fcolor_0
 11548 03:2F79: 87 01        	sta	[<R0]
 11549 03:2F7B: C2 20        	rep	#$20
 11550                        	longa	on
 11551                        ;	}
 11552                        	.line	1654
 11553                        ;	else if(bankId == 3)
  Wed Nov 18 2020  8:27                                                Page 209


 11554 03:2F7D: 82 9F 00     	brl	L10239
 11555                        L10238:
 11556                        	.line	1655
 11557                        ;	{
 11558 03:2F80: A5 0C        	lda	<L558+bankId_0
 11559 03:2F82: C9 03 00     	cmp	#<$3
 11560 03:2F85: F0 03        	beq	L564
 11561 03:2F87: 82 2C 00     	brl	L10240
 11562                        L564:
 11563                        	.line	1656
 11564                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 11565                        	.line	1657
 11566 03:2F8A: D4 05        	pei	<L559+fill_1
 11567 03:2F8C: A5 0E        	lda	<L558+fcolor_0
 11568 03:2F8E: 29 FF 00     	and	#$ff
 11569 03:2F91: 48           	pha
 11570 03:2F92: F4 B3 00     	pea	#^$b30000
 11571 03:2F95: F4 00 00     	pea	#<$b30000
 11572 03:2F98: 22 xx xx xx  	jsl	~~memset
 11573                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 11574                        	.line	1658
 11575 03:2F9C: 18           	clc
 11576 03:2F9D: A9 00 00     	lda	#$0
 11577 03:2FA0: 65 05        	adc	<L559+fill_1
 11578 03:2FA2: 85 01        	sta	<R0
 11579 03:2FA4: A9 B3 00     	lda	#$b3
 11580 03:2FA7: 65 07        	adc	<L559+fill_1+2
 11581 03:2FA9: 85 03        	sta	<R0+2
 11582 03:2FAB: E2 20        	sep	#$20
 11583                        	longa	off
 11584 03:2FAD: A5 0E        	lda	<L558+fcolor_0
 11585 03:2FAF: 87 01        	sta	[<R0]
 11586 03:2FB1: C2 20        	rep	#$20
 11587                        	longa	on
 11588                        ;	}
 11589                        	.line	1659
 11590                        ;	else if(bankId == 4)
 11591 03:2FB3: 82 69 00     	brl	L10241
 11592                        L10240:
 11593                        	.line	1660
 11594                        ;	{
 11595 03:2FB6: A5 0C        	lda	<L558+bankId_0
 11596 03:2FB8: C9 04 00     	cmp	#<$4
 11597 03:2FBB: F0 03        	beq	L565
 11598 03:2FBD: 82 2C 00     	brl	L10242
 11599                        L565:
 11600                        	.line	1661
 11601                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 11602                        	.line	1662
 11603 03:2FC0: D4 05        	pei	<L559+fill_1
 11604 03:2FC2: A5 0E        	lda	<L558+fcolor_0
 11605 03:2FC4: 29 FF 00     	and	#$ff
 11606 03:2FC7: 48           	pha
 11607 03:2FC8: F4 B4 00     	pea	#^$b40000
 11608 03:2FCB: F4 00 00     	pea	#<$b40000
  Wed Nov 18 2020  8:27                                                Page 210


 11609 03:2FCE: 22 xx xx xx  	jsl	~~memset
 11610                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
 11611                        	.line	1663
 11612 03:2FD2: 18           	clc
 11613 03:2FD3: A9 00 00     	lda	#$0
 11614 03:2FD6: 65 05        	adc	<L559+fill_1
 11615 03:2FD8: 85 01        	sta	<R0
 11616 03:2FDA: A9 B4 00     	lda	#$b4
 11617 03:2FDD: 65 07        	adc	<L559+fill_1+2
 11618 03:2FDF: 85 03        	sta	<R0+2
 11619 03:2FE1: E2 20        	sep	#$20
 11620                        	longa	off
 11621 03:2FE3: A5 0E        	lda	<L558+fcolor_0
 11622 03:2FE5: 87 01        	sta	[<R0]
 11623 03:2FE7: C2 20        	rep	#$20
 11624                        	longa	on
 11625                        ;	}
 11626                        	.line	1664
 11627                        ;	else if(bankId == 5)
 11628 03:2FE9: 82 33 00     	brl	L10243
 11629                        L10242:
 11630                        	.line	1665
 11631                        ;	{
 11632 03:2FEC: A5 0C        	lda	<L558+bankId_0
 11633 03:2FEE: C9 05 00     	cmp	#<$5
 11634 03:2FF1: F0 03        	beq	L566
 11635 03:2FF3: 82 29 00     	brl	L10244
 11636                        L566:
 11637                        	.line	1666
 11638                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 11639                        	.line	1667
 11640 03:2FF6: D4 05        	pei	<L559+fill_1
 11641 03:2FF8: A5 0E        	lda	<L558+fcolor_0
 11642 03:2FFA: 29 FF 00     	and	#$ff
 11643 03:2FFD: 48           	pha
 11644 03:2FFE: F4 B5 00     	pea	#^$b50000
 11645 03:3001: F4 00 00     	pea	#<$b50000
 11646 03:3004: 22 xx xx xx  	jsl	~~memset
 11647                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 11648                        	.line	1668
 11649 03:3008: 18           	clc
 11650 03:3009: A9 00 00     	lda	#$0
 11651 03:300C: 65 05        	adc	<L559+fill_1
 11652 03:300E: 85 01        	sta	<R0
 11653 03:3010: A9 B5 00     	lda	#$b5
 11654 03:3013: 65 07        	adc	<L559+fill_1+2
 11655 03:3015: 85 03        	sta	<R0+2
 11656 03:3017: E2 20        	sep	#$20
 11657                        	longa	off
 11658 03:3019: A5 0E        	lda	<L558+fcolor_0
 11659 03:301B: 87 01        	sta	[<R0]
 11660 03:301D: C2 20        	rep	#$20
 11661                        	longa	on
 11662                        ;	}
 11663                        	.line	1669
  Wed Nov 18 2020  8:27                                                Page 211


 11664                        ;
 11665                        ;}
 11666                        L10244:
 11667                        L10243:
 11668                        L10241:
 11669                        L10239:
 11670                        L10237:
 11671                        L10235:
 11672                        	.line	1671
 11673                        L567:
 11674 03:301F: A5 0A        	lda	<L558+2
 11675 03:3021: 85 0E        	sta	<L558+2+4
 11676 03:3023: A5 09        	lda	<L558+1
 11677 03:3025: 85 0D        	sta	<L558+1+4
 11678 03:3027: 2B           	pld
 11679 03:3028: 3B           	tsc
 11680 03:3029: 18           	clc
 11681 03:302A: 69 0C 00     	adc	#L558+4
 11682 03:302D: 1B           	tcs
 11683 03:302E: 6B           	rtl
 11684                        	.endblock	1671
 11685             00000008   L558	equ	8
 11686             00000005   L559	equ	5
 11687 03:302F:              	ends
 11688                        	efunc
 11689                        	.endfunc	1671,5,8
 11690                        	.line	1671
 11691                        ;
 11692                        ;
 11693                        ;
 11694                        ;
 11695                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
 11696                        ;{
 11697                        	.line	1676
 11698                        	.line	1677
 11699                        	GUI
 11700                        	xdef	~~k_fill_line
 11701                        	func
 11702                        	.function	1677
 11703                        ~~k_fill_line:
 11704                        	longa	on
 11705                        	longi	on
 11706 03:302F: 3B           	tsc
 11707 03:3030: 38           	sec
 11708 03:3031: E9 0C 00     	sbc	#L568
 11709 03:3034: 1B           	tcs
 11710 03:3035: 0B           	phd
 11711 03:3036: 5B           	tcd
 11712             00000004   cx_0	set	4
 11713             00000006   cy_0	set	6
 11714             00000008   width_0	set	8
 11715             0000000A   color_0	set	10
 11716                        	.block	1677
 11717                        ;
 11718                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 11719                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
  Wed Nov 18 2020  8:27                                                Page 212


                    cStart]),color,width);
 11720             00000000   locStart_1	set	0
 11721                        	.sym	locStart,0,7,1,32
 11722                        	.sym	cx,4,5,6,16
 11723                        	.sym	cy,6,5,6,16
 11724                        	.sym	width,8,5,6,16
 11725                        	.sym	color,10,5,6,16
 11726 03:3037: A0 00 00     	ldy	#$0
 11727 03:303A: A5 10        	lda	<L568+cx_0
 11728 03:303C: 10 01        	bpl	L571
 11729 03:303E: 88           	dey
 11730                        L571:
 11731 03:303F: 85 01        	sta	<R0
 11732 03:3041: 84 03        	sty	<R0+2
 11733 03:3043: A0 00 00     	ldy	#$0
 11734 03:3046: A5 12        	lda	<L568+cy_0
 11735 03:3048: 10 01        	bpl	L572
 11736 03:304A: 88           	dey
 11737                        L572:
 11738 03:304B: 85 05        	sta	<R1
 11739 03:304D: 84 07        	sty	<R1+2
 11740 03:304F: F4 00 00     	pea	#^$280
 11741 03:3052: F4 80 02     	pea	#<$280
 11742 03:3055: D4 07        	pei	<R1+2
 11743 03:3057: D4 05        	pei	<R1
 11744                        	xref	~~~lmul
 11745 03:3059: 22 xx xx xx  	jsl	~~~lmul
 11746 03:305D: 85 05        	sta	<R1
 11747 03:305F: 86 07        	stx	<R1+2
 11748 03:3061: 18           	clc
 11749 03:3062: A5 05        	lda	<R1
 11750 03:3064: 65 01        	adc	<R0
 11751 03:3066: 85 09        	sta	<L569+locStart_1
 11752 03:3068: A5 07        	lda	<R1+2
 11753 03:306A: 65 03        	adc	<R0+2
 11754 03:306C: 85 0B        	sta	<L569+locStart_1+2
 11755                        	.line	1680
 11756 03:306E: D4 14        	pei	<L568+width_0
 11757 03:3070: D4 16        	pei	<L568+color_0
 11758 03:3072: 18           	clc
 11759 03:3073: A9 00 00     	lda	#$0
 11760 03:3076: 65 09        	adc	<L569+locStart_1
 11761 03:3078: 85 01        	sta	<R0
 11762 03:307A: A9 B0 00     	lda	#$b0
 11763 03:307D: 65 0B        	adc	<L569+locStart_1+2
 11764 03:307F: 85 03        	sta	<R0+2
 11765 03:3081: D4 03        	pei	<R0+2
 11766 03:3083: D4 01        	pei	<R0
 11767 03:3085: 22 xx xx xx  	jsl	~~memset
 11768                        ;}
 11769                        	.line	1681
 11770                        L573:
 11771 03:3089: A5 0E        	lda	<L568+2
 11772 03:308B: 85 16        	sta	<L568+2+8
 11773 03:308D: A5 0D        	lda	<L568+1
 11774 03:308F: 85 15        	sta	<L568+1+8
 11775 03:3091: 2B           	pld
 11776 03:3092: 3B           	tsc
  Wed Nov 18 2020  8:27                                                Page 213


 11777 03:3093: 18           	clc
 11778 03:3094: 69 14 00     	adc	#L568+8
 11779 03:3097: 1B           	tcs
 11780 03:3098: 6B           	rtl
 11781                        	.endblock	1681
 11782             0000000C   L568	equ	12
 11783             00000009   L569	equ	9
 11784 03:3099:              	ends
 11785                        	efunc
 11786                        	.endfunc	1681,9,12
 11787                        	.line	1681
 11788                        ;
 11789                        ;void k_vdraw_filled_rect(int cx,int cy,int height
                    ,int width,int color)
 11790                        ;{
 11791                        	.line	1683
 11792                        	.line	1684
 11793                        	GUI
 11794                        	xdef	~~k_vdraw_filled_rect
 11795                        	func
 11796                        	.function	1684
 11797                        ~~k_vdraw_filled_rect:
 11798                        	longa	on
 11799                        	longi	on
 11800 03:3099: 3B           	tsc
 11801 03:309A: 38           	sec
 11802 03:309B: E9 14 00     	sbc	#L574
 11803 03:309E: 1B           	tcs
 11804 03:309F: 0B           	phd
 11805 03:30A0: 5B           	tcd
 11806             00000004   cx_0	set	4
 11807             00000006   cy_0	set	6
 11808             00000008   height_0	set	8
 11809             0000000A   width_0	set	10
 11810             0000000C   color_0	set	12
 11811                        	.block	1684
 11812                        ;	int x = 0;
 11813                        ;	int y = 0;
 11814                        ;	int dx = cx + width;
 11815                        ;	int dy = cy + height;
 11816                        ;	
 11817                        ;	if(dx > 639)
 11818             00000000   x_1	set	0
 11819             00000002   y_1	set	2
 11820             00000004   dx_1	set	4
 11821             00000006   dy_1	set	6
 11822                        	.sym	x,0,5,1,16
 11823                        	.sym	y,2,5,1,16
 11824                        	.sym	dx,4,5,1,16
 11825                        	.sym	dy,6,5,1,16
 11826                        	.sym	cx,4,5,6,16
 11827                        	.sym	cy,6,5,6,16
 11828                        	.sym	height,8,5,6,16
 11829                        	.sym	width,10,5,6,16
 11830                        	.sym	color,12,5,6,16
 11831 03:30A1: 64 09        	stz	<L575+x_1
 11832 03:30A3: 64 0B        	stz	<L575+y_1
 11833 03:30A5: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 214


 11834 03:30A6: A5 18        	lda	<L574+cx_0
 11835 03:30A8: 65 1E        	adc	<L574+width_0
 11836 03:30AA: 85 0D        	sta	<L575+dx_1
 11837 03:30AC: 18           	clc
 11838 03:30AD: A5 1A        	lda	<L574+cy_0
 11839 03:30AF: 65 1C        	adc	<L574+height_0
 11840 03:30B1: 85 0F        	sta	<L575+dy_1
 11841                        	.line	1690
 11842                        ;		dx = 639;
 11843 03:30B3: 38           	sec
 11844 03:30B4: A9 7F 02     	lda	#$27f
 11845 03:30B7: E5 0D        	sbc	<L575+dx_1
 11846 03:30B9: 70 03        	bvs	L577
 11847 03:30BB: 49 00 80     	eor	#$8000
 11848                        L577:
 11849 03:30BE: 10 03        	bpl	L578
 11850 03:30C0: 82 05 00     	brl	L10245
 11851                        L578:
 11852                        	.line	1691
 11853 03:30C3: A9 7F 02     	lda	#$27f
 11854 03:30C6: 85 0D        	sta	<L575+dx_1
 11855                        ;	if(dy > 479)
 11856                        L10245:
 11857                        	.line	1692
 11858                        ;		dy = 479;
 11859 03:30C8: 38           	sec
 11860 03:30C9: A9 DF 01     	lda	#$1df
 11861 03:30CC: E5 0F        	sbc	<L575+dy_1
 11862 03:30CE: 70 03        	bvs	L579
 11863 03:30D0: 49 00 80     	eor	#$8000
 11864                        L579:
 11865 03:30D3: 10 03        	bpl	L580
 11866 03:30D5: 82 05 00     	brl	L10246
 11867                        L580:
 11868                        	.line	1693
 11869 03:30D8: A9 DF 01     	lda	#$1df
 11870 03:30DB: 85 0F        	sta	<L575+dy_1
 11871                        ;	
 11872                        ;	for(y=cy;y<dy;y++)
 11873                        L10246:
 11874                        	.line	1695
 11875 03:30DD: A5 1A        	lda	<L574+cy_0
 11876 03:30DF: 85 0B        	sta	<L575+y_1
 11877 03:30E1: 82 58 00     	brl	L10250
 11878                        L10249:
 11879                        ;	{
 11880                        	.line	1696
 11881                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 11882                        ;		memset(&(((unsigned char FAR *)SHADOW_BA
                    NK_0)[locStart]),color,dx - cx);
 11883                        	.block	1698
 11884             00000008   locStart_2	set	8
 11885                        	.sym	locStart,8,7,1,32
 11886 03:30E4: A0 00 00     	ldy	#$0
 11887 03:30E7: A5 18        	lda	<L574+cx_0
 11888 03:30E9: 10 01        	bpl	L582
 11889 03:30EB: 88           	dey
  Wed Nov 18 2020  8:27                                                Page 215


 11890                        L582:
 11891 03:30EC: 85 01        	sta	<R0
 11892 03:30EE: 84 03        	sty	<R0+2
 11893 03:30F0: A0 00 00     	ldy	#$0
 11894 03:30F3: A5 0B        	lda	<L575+y_1
 11895 03:30F5: 10 01        	bpl	L583
 11896 03:30F7: 88           	dey
 11897                        L583:
 11898 03:30F8: 85 05        	sta	<R1
 11899 03:30FA: 84 07        	sty	<R1+2
 11900 03:30FC: F4 00 00     	pea	#^$280
 11901 03:30FF: F4 80 02     	pea	#<$280
 11902 03:3102: D4 07        	pei	<R1+2
 11903 03:3104: D4 05        	pei	<R1
 11904                        	xref	~~~lmul
 11905 03:3106: 22 xx xx xx  	jsl	~~~lmul
 11906 03:310A: 85 05        	sta	<R1
 11907 03:310C: 86 07        	stx	<R1+2
 11908 03:310E: 18           	clc
 11909 03:310F: A5 05        	lda	<R1
 11910 03:3111: 65 01        	adc	<R0
 11911 03:3113: 85 11        	sta	<L575+locStart_2
 11912 03:3115: A5 07        	lda	<R1+2
 11913 03:3117: 65 03        	adc	<R0+2
 11914 03:3119: 85 13        	sta	<L575+locStart_2+2
 11915                        	.line	1698
 11916 03:311B: 38           	sec
 11917 03:311C: A5 0D        	lda	<L575+dx_1
 11918 03:311E: E5 18        	sbc	<L574+cx_0
 11919 03:3120: 48           	pha
 11920 03:3121: D4 20        	pei	<L574+color_0
 11921 03:3123: 18           	clc
 11922 03:3124: A9 00 00     	lda	#$0
 11923 03:3127: 65 11        	adc	<L575+locStart_2
 11924 03:3129: 85 01        	sta	<R0
 11925 03:312B: A9 0A 00     	lda	#$a
 11926 03:312E: 65 13        	adc	<L575+locStart_2+2
 11927 03:3130: 85 03        	sta	<R0+2
 11928 03:3132: D4 03        	pei	<R0+2
 11929 03:3134: D4 01        	pei	<R0
 11930 03:3136: 22 xx xx xx  	jsl	~~memset
 11931                        ;	}
 11932                        	.endblock	1699
 11933                        	.line	1699
 11934                        L10247:
 11935 03:313A: E6 0B        	inc	<L575+y_1
 11936                        L10250:
 11937 03:313C: 38           	sec
 11938 03:313D: A5 0B        	lda	<L575+y_1
 11939 03:313F: E5 0F        	sbc	<L575+dy_1
 11940 03:3141: 70 03        	bvs	L584
 11941 03:3143: 49 00 80     	eor	#$8000
 11942                        L584:
 11943 03:3146: 30 03        	bmi	L585
 11944 03:3148: 82 99 FF     	brl	L10249
 11945                        L585:
 11946                        L10248:
 11947                        ;}
  Wed Nov 18 2020  8:27                                                Page 216


 11948                        	.line	1700
 11949                        L586:
 11950 03:314B: A5 16        	lda	<L574+2
 11951 03:314D: 85 20        	sta	<L574+2+10
 11952 03:314F: A5 15        	lda	<L574+1
 11953 03:3151: 85 1F        	sta	<L574+1+10
 11954 03:3153: 2B           	pld
 11955 03:3154: 3B           	tsc
 11956 03:3155: 18           	clc
 11957 03:3156: 69 1E 00     	adc	#L574+10
 11958 03:3159: 1B           	tcs
 11959 03:315A: 6B           	rtl
 11960                        	.endblock	1700
 11961             00000014   L574	equ	20
 11962             00000009   L575	equ	9
 11963 03:315B:              	ends
 11964                        	efunc
 11965                        	.endfunc	1700,9,20
 11966                        	.line	1700
 11967                        ;
 11968                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 11969                        ;{
 11970                        	.line	1702
 11971                        	.line	1703
 11972                        	GUI
 11973                        	xdef	~~k_draw_filled_rect
 11974                        	func
 11975                        	.function	1703
 11976                        ~~k_draw_filled_rect:
 11977                        	longa	on
 11978                        	longi	on
 11979 03:315B: 3B           	tsc
 11980 03:315C: 38           	sec
 11981 03:315D: E9 14 00     	sbc	#L587
 11982 03:3160: 1B           	tcs
 11983 03:3161: 0B           	phd
 11984 03:3162: 5B           	tcd
 11985             00000004   cx_0	set	4
 11986             00000006   cy_0	set	6
 11987             00000008   height_0	set	8
 11988             0000000A   width_0	set	10
 11989             0000000C   color_0	set	12
 11990                        	.block	1703
 11991                        ;	int x = 0;
 11992                        ;	int y = 0;
 11993                        ;	int dx = cx + width;
 11994                        ;	int dy = cy + height;
 11995                        ;	
 11996                        ;	if(dx > 639)
 11997             00000000   x_1	set	0
 11998             00000002   y_1	set	2
 11999             00000004   dx_1	set	4
 12000             00000006   dy_1	set	6
 12001                        	.sym	x,0,5,1,16
 12002                        	.sym	y,2,5,1,16
 12003                        	.sym	dx,4,5,1,16
 12004                        	.sym	dy,6,5,1,16
  Wed Nov 18 2020  8:27                                                Page 217


 12005                        	.sym	cx,4,5,6,16
 12006                        	.sym	cy,6,5,6,16
 12007                        	.sym	height,8,5,6,16
 12008                        	.sym	width,10,5,6,16
 12009                        	.sym	color,12,5,6,16
 12010 03:3163: 64 09        	stz	<L588+x_1
 12011 03:3165: 64 0B        	stz	<L588+y_1
 12012 03:3167: 18           	clc
 12013 03:3168: A5 18        	lda	<L587+cx_0
 12014 03:316A: 65 1E        	adc	<L587+width_0
 12015 03:316C: 85 0D        	sta	<L588+dx_1
 12016 03:316E: 18           	clc
 12017 03:316F: A5 1A        	lda	<L587+cy_0
 12018 03:3171: 65 1C        	adc	<L587+height_0
 12019 03:3173: 85 0F        	sta	<L588+dy_1
 12020                        	.line	1709
 12021                        ;		dx = 639;
 12022 03:3175: 38           	sec
 12023 03:3176: A9 7F 02     	lda	#$27f
 12024 03:3179: E5 0D        	sbc	<L588+dx_1
 12025 03:317B: 70 03        	bvs	L590
 12026 03:317D: 49 00 80     	eor	#$8000
 12027                        L590:
 12028 03:3180: 10 03        	bpl	L591
 12029 03:3182: 82 05 00     	brl	L10251
 12030                        L591:
 12031                        	.line	1710
 12032 03:3185: A9 7F 02     	lda	#$27f
 12033 03:3188: 85 0D        	sta	<L588+dx_1
 12034                        ;	if(dy > 479)
 12035                        L10251:
 12036                        	.line	1711
 12037                        ;		dy = 479;
 12038 03:318A: 38           	sec
 12039 03:318B: A9 DF 01     	lda	#$1df
 12040 03:318E: E5 0F        	sbc	<L588+dy_1
 12041 03:3190: 70 03        	bvs	L592
 12042 03:3192: 49 00 80     	eor	#$8000
 12043                        L592:
 12044 03:3195: 10 03        	bpl	L593
 12045 03:3197: 82 05 00     	brl	L10252
 12046                        L593:
 12047                        	.line	1712
 12048 03:319A: A9 DF 01     	lda	#$1df
 12049 03:319D: 85 0F        	sta	<L588+dy_1
 12050                        ;	
 12051                        ;	for(y=cy;y<dy;y++)
 12052                        L10252:
 12053                        	.line	1714
 12054 03:319F: A5 1A        	lda	<L587+cy_0
 12055 03:31A1: 85 0B        	sta	<L588+y_1
 12056 03:31A3: 82 58 00     	brl	L10256
 12057                        L10255:
 12058                        ;	{
 12059                        	.line	1715
 12060                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 12061                        ;		memset(&(((unsigned char FAR *)BITMAP_BA
  Wed Nov 18 2020  8:27                                                Page 218


                    NK_0)[locStart]),color,dx - cx);
 12062                        	.block	1717
 12063             00000008   locStart_2	set	8
 12064                        	.sym	locStart,8,7,1,32
 12065 03:31A6: A0 00 00     	ldy	#$0
 12066 03:31A9: A5 18        	lda	<L587+cx_0
 12067 03:31AB: 10 01        	bpl	L595
 12068 03:31AD: 88           	dey
 12069                        L595:
 12070 03:31AE: 85 01        	sta	<R0
 12071 03:31B0: 84 03        	sty	<R0+2
 12072 03:31B2: A0 00 00     	ldy	#$0
 12073 03:31B5: A5 0B        	lda	<L588+y_1
 12074 03:31B7: 10 01        	bpl	L596
 12075 03:31B9: 88           	dey
 12076                        L596:
 12077 03:31BA: 85 05        	sta	<R1
 12078 03:31BC: 84 07        	sty	<R1+2
 12079 03:31BE: F4 00 00     	pea	#^$280
 12080 03:31C1: F4 80 02     	pea	#<$280
 12081 03:31C4: D4 07        	pei	<R1+2
 12082 03:31C6: D4 05        	pei	<R1
 12083                        	xref	~~~lmul
 12084 03:31C8: 22 xx xx xx  	jsl	~~~lmul
 12085 03:31CC: 85 05        	sta	<R1
 12086 03:31CE: 86 07        	stx	<R1+2
 12087 03:31D0: 18           	clc
 12088 03:31D1: A5 05        	lda	<R1
 12089 03:31D3: 65 01        	adc	<R0
 12090 03:31D5: 85 11        	sta	<L588+locStart_2
 12091 03:31D7: A5 07        	lda	<R1+2
 12092 03:31D9: 65 03        	adc	<R0+2
 12093 03:31DB: 85 13        	sta	<L588+locStart_2+2
 12094                        	.line	1717
 12095 03:31DD: 38           	sec
 12096 03:31DE: A5 0D        	lda	<L588+dx_1
 12097 03:31E0: E5 18        	sbc	<L587+cx_0
 12098 03:31E2: 48           	pha
 12099 03:31E3: D4 20        	pei	<L587+color_0
 12100 03:31E5: 18           	clc
 12101 03:31E6: A9 00 00     	lda	#$0
 12102 03:31E9: 65 11        	adc	<L588+locStart_2
 12103 03:31EB: 85 01        	sta	<R0
 12104 03:31ED: A9 B0 00     	lda	#$b0
 12105 03:31F0: 65 13        	adc	<L588+locStart_2+2
 12106 03:31F2: 85 03        	sta	<R0+2
 12107 03:31F4: D4 03        	pei	<R0+2
 12108 03:31F6: D4 01        	pei	<R0
 12109 03:31F8: 22 xx xx xx  	jsl	~~memset
 12110                        ;	}
 12111                        	.endblock	1718
 12112                        	.line	1718
 12113                        L10253:
 12114 03:31FC: E6 0B        	inc	<L588+y_1
 12115                        L10256:
 12116 03:31FE: 38           	sec
 12117 03:31FF: A5 0B        	lda	<L588+y_1
 12118 03:3201: E5 0F        	sbc	<L588+dy_1
  Wed Nov 18 2020  8:27                                                Page 219


 12119 03:3203: 70 03        	bvs	L597
 12120 03:3205: 49 00 80     	eor	#$8000
 12121                        L597:
 12122 03:3208: 30 03        	bmi	L598
 12123 03:320A: 82 99 FF     	brl	L10255
 12124                        L598:
 12125                        L10254:
 12126                        ;}
 12127                        	.line	1719
 12128                        L599:
 12129 03:320D: A5 16        	lda	<L587+2
 12130 03:320F: 85 20        	sta	<L587+2+10
 12131 03:3211: A5 15        	lda	<L587+1
 12132 03:3213: 85 1F        	sta	<L587+1+10
 12133 03:3215: 2B           	pld
 12134 03:3216: 3B           	tsc
 12135 03:3217: 18           	clc
 12136 03:3218: 69 1E 00     	adc	#L587+10
 12137 03:321B: 1B           	tcs
 12138 03:321C: 6B           	rtl
 12139                        	.endblock	1719
 12140             00000014   L587	equ	20
 12141             00000009   L588	equ	9
 12142 03:321D:              	ends
 12143                        	efunc
 12144                        	.endfunc	1719,9,20
 12145                        	.line	1719
 12146                        ;
 12147                        ;
 12148                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 12149                        ;{
 12150                        	.line	1722
 12151                        	.line	1723
 12152                        	GUI
 12153                        	xdef	~~k_create_ui_window_class
 12154                        	func
 12155                        	.function	1723
 12156                        ~~k_create_ui_window_class:
 12157                        	longa	on
 12158                        	longi	on
 12159 03:321D: 3B           	tsc
 12160 03:321E: 38           	sec
 12161 03:321F: E9 08 00     	sbc	#L600
 12162 03:3222: 1B           	tcs
 12163 03:3223: 0B           	phd
 12164 03:3224: 5B           	tcd
 12165             00000004   cx_0	set	4
 12166             00000006   cy_0	set	6
 12167             00000008   height_0	set	8
 12168             0000000A   width_0	set	10
 12169             0000000C   title_0	set	12
 12170             00000010   className_0	set	16
 12171             00000014   wndProc_0	set	20
 12172                        	.block	1723
 12173                        ;	PWINDOW pWin = NULL;
 12174                        ;
  Wed Nov 18 2020  8:27                                                Page 220


 12175                        ;	if(className && title)
 12176             00000000   pWin_1	set	0
 12177                        	.sym	pWin,0,138,1,32,27
 12178                        	.sym	cx,4,5,6,16
 12179                        	.sym	cy,6,5,6,16
 12180                        	.sym	height,8,5,6,16
 12181                        	.sym	width,10,5,6,16
 12182                        	.sym	title,12,142,6,32
 12183                        	.sym	className,16,142,6,32
 12184                        	.sym	wndProc,20,654,6,32
 12185 03:3225: 64 05        	stz	<L601+pWin_1
 12186 03:3227: 64 07        	stz	<L601+pWin_1+2
 12187                        	.line	1726
 12188                        ;	{
 12189 03:3229: A5 18        	lda	<L600+className_0
 12190 03:322B: 05 1A        	ora	<L600+className_0+2
 12191 03:322D: D0 03        	bne	L603
 12192 03:322F: 82 F6 00     	brl	L10257
 12193                        L603:
 12194 03:3232: A5 14        	lda	<L600+title_0
 12195 03:3234: 05 16        	ora	<L600+title_0+2
 12196 03:3236: D0 03        	bne	L604
 12197 03:3238: 82 ED 00     	brl	L10257
 12198                        L604:
 12199                        	.line	1727
 12200                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 12201                        	.line	1728
 12202 03:323B: F4 A6 00     	pea	#<$a6
 12203 03:323E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 12204 03:3242: 85 05        	sta	<L601+pWin_1
 12205 03:3244: 86 07        	stx	<L601+pWin_1+2
 12206                        ;		if(pWin)
 12207                        	.line	1729
 12208                        ;		{
 12209 03:3246: A5 05        	lda	<L601+pWin_1
 12210 03:3248: 05 07        	ora	<L601+pWin_1+2
 12211 03:324A: D0 03        	bne	L605
 12212 03:324C: 82 D9 00     	brl	L10258
 12213                        L605:
 12214                        	.line	1730
 12215                        ;			memset(pWin,0,sizeof(WINDOW));
 12216                        	.line	1731
 12217 03:324F: F4 A6 00     	pea	#<$a6
 12218 03:3252: F4 00 00     	pea	#<$0
 12219 03:3255: D4 07        	pei	<L601+pWin_1+2
 12220 03:3257: D4 05        	pei	<L601+pWin_1
 12221 03:3259: 22 xx xx xx  	jsl	~~memset
 12222                        ;
 12223                        ;			strcpy(pWin->win_title,title);
 12224                        	.line	1733
 12225 03:325D: D4 16        	pei	<L600+title_0+2
 12226 03:325F: D4 14        	pei	<L600+title_0
 12227 03:3261: 18           	clc
 12228 03:3262: A9 24 00     	lda	#$24
 12229 03:3265: 65 05        	adc	<L601+pWin_1
 12230 03:3267: 85 01        	sta	<R0
 12231 03:3269: A9 00 00     	lda	#$0
  Wed Nov 18 2020  8:27                                                Page 221


 12232 03:326C: 65 07        	adc	<L601+pWin_1+2
 12233 03:326E: 85 03        	sta	<R0+2
 12234 03:3270: D4 03        	pei	<R0+2
 12235 03:3272: D4 01        	pei	<R0
 12236 03:3274: 22 xx xx xx  	jsl	~~strcpy
 12237                        ;			strcpy(pWin->win_class,className
                    );
 12238                        	.line	1734
 12239 03:3278: D4 1A        	pei	<L600+className_0+2
 12240 03:327A: D4 18        	pei	<L600+className_0
 12241 03:327C: 18           	clc
 12242 03:327D: A9 46 00     	lda	#$46
 12243 03:3280: 65 05        	adc	<L601+pWin_1
 12244 03:3282: 85 01        	sta	<R0
 12245 03:3284: A9 00 00     	lda	#$0
 12246 03:3287: 65 07        	adc	<L601+pWin_1+2
 12247 03:3289: 85 03        	sta	<R0+2
 12248 03:328B: D4 03        	pei	<R0+2
 12249 03:328D: D4 01        	pei	<R0
 12250 03:328F: 22 xx xx xx  	jsl	~~strcpy
 12251                        ;			pWin->win_x = cx;
 12252                        	.line	1735
 12253 03:3293: A5 0C        	lda	<L600+cx_0
 12254 03:3295: A0 08 00     	ldy	#$8
 12255 03:3298: 97 05        	sta	[<L601+pWin_1],Y
 12256                        ;			pWin->win_y = cy;
 12257                        	.line	1736
 12258 03:329A: A5 0E        	lda	<L600+cy_0
 12259 03:329C: A0 0A 00     	ldy	#$a
 12260 03:329F: 97 05        	sta	[<L601+pWin_1],Y
 12261                        ;			pWin->win_width  = width;
 12262                        	.line	1737
 12263 03:32A1: A5 12        	lda	<L600+width_0
 12264 03:32A3: A0 0C 00     	ldy	#$c
 12265 03:32A6: 97 05        	sta	[<L601+pWin_1],Y
 12266                        ;			pWin->win_height = height;
 12267                        	.line	1738
 12268 03:32A8: A5 10        	lda	<L600+height_0
 12269 03:32AA: A0 0E 00     	ldy	#$e
 12270 03:32AD: 97 05        	sta	[<L601+pWin_1],Y
 12271                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 12272                        	.line	1739
 12273 03:32AF: F4 0B 00     	pea	#<$b
 12274 03:32B2: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 12275 03:32B6: 85 01        	sta	<R0
 12276 03:32B8: 86 03        	stx	<R0+2
 12277 03:32BA: A5 01        	lda	<R0
 12278 03:32BC: A0 20 00     	ldy	#$20
 12279 03:32BF: 97 05        	sta	[<L601+pWin_1],Y
 12280 03:32C1: A5 03        	lda	<R0+2
 12281 03:32C3: A0 22 00     	ldy	#$22
 12282 03:32C6: 97 05        	sta	[<L601+pWin_1],Y
 12283                        ;			if(pWin->clickable)
 12284                        	.line	1740
 12285                        ;			{
 12286 03:32C8: A0 20 00     	ldy	#$20
 12287 03:32CB: B7 05        	lda	[<L601+pWin_1],Y
  Wed Nov 18 2020  8:27                                                Page 222


 12288 03:32CD: A0 22 00     	ldy	#$22
 12289 03:32D0: 17 05        	ora	[<L601+pWin_1],Y
 12290 03:32D2: D0 03        	bne	L606
 12291 03:32D4: 82 51 00     	brl	L10259
 12292                        L606:
 12293                        	.line	1741
 12294                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 12295                        	.line	1742
 12296 03:32D7: A0 20 00     	ldy	#$20
 12297 03:32DA: B7 05        	lda	[<L601+pWin_1],Y
 12298 03:32DC: 85 01        	sta	<R0
 12299 03:32DE: A0 22 00     	ldy	#$22
 12300 03:32E1: B7 05        	lda	[<L601+pWin_1],Y
 12301 03:32E3: 85 03        	sta	<R0+2
 12302 03:32E5: A5 0C        	lda	<L600+cx_0
 12303 03:32E7: 87 01        	sta	[<R0]
 12304                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 12305                        	.line	1743
 12306 03:32E9: A0 20 00     	ldy	#$20
 12307 03:32EC: B7 05        	lda	[<L601+pWin_1],Y
 12308 03:32EE: 85 01        	sta	<R0
 12309 03:32F0: A0 22 00     	ldy	#$22
 12310 03:32F3: B7 05        	lda	[<L601+pWin_1],Y
 12311 03:32F5: 85 03        	sta	<R0+2
 12312 03:32F7: A5 0E        	lda	<L600+cy_0
 12313 03:32F9: A0 02 00     	ldy	#$2
 12314 03:32FC: 97 01        	sta	[<R0],Y
 12315                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 12316                        	.line	1744
 12317 03:32FE: A0 20 00     	ldy	#$20
 12318 03:3301: B7 05        	lda	[<L601+pWin_1],Y
 12319 03:3303: 85 01        	sta	<R0
 12320 03:3305: A0 22 00     	ldy	#$22
 12321 03:3308: B7 05        	lda	[<L601+pWin_1],Y
 12322 03:330A: 85 03        	sta	<R0+2
 12323 03:330C: A5 10        	lda	<L600+height_0
 12324 03:330E: A0 06 00     	ldy	#$6
 12325 03:3311: 97 01        	sta	[<R0],Y
 12326                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 12327                        	.line	1745
 12328 03:3313: A0 20 00     	ldy	#$20
 12329 03:3316: B7 05        	lda	[<L601+pWin_1],Y
 12330 03:3318: 85 01        	sta	<R0
 12331 03:331A: A0 22 00     	ldy	#$22
 12332 03:331D: B7 05        	lda	[<L601+pWin_1],Y
 12333 03:331F: 85 03        	sta	<R0+2
 12334 03:3321: A5 12        	lda	<L600+width_0
 12335 03:3323: A0 04 00     	ldy	#$4
 12336 03:3326: 97 01        	sta	[<R0],Y
 12337                        ;			}
 12338                        	.line	1746
 12339                        ;			//pWin->WndProc = wndProc;
 12340                        ;		}
 12341                        L10259:
  Wed Nov 18 2020  8:27                                                Page 223


 12342                        	.line	1748
 12343                        ;	}
 12344                        L10258:
 12345                        	.line	1749
 12346                        ;
 12347                        ;	return pWin;
 12348                        L10257:
 12349                        	.line	1751
 12350 03:3328: A6 07        	ldx	<L601+pWin_1+2
 12351 03:332A: A5 05        	lda	<L601+pWin_1
 12352                        L607:
 12353 03:332C: A8           	tay
 12354 03:332D: A5 0A        	lda	<L600+2
 12355 03:332F: 85 1E        	sta	<L600+2+20
 12356 03:3331: A5 09        	lda	<L600+1
 12357 03:3333: 85 1D        	sta	<L600+1+20
 12358 03:3335: 2B           	pld
 12359 03:3336: 3B           	tsc
 12360 03:3337: 18           	clc
 12361 03:3338: 69 1C 00     	adc	#L600+20
 12362 03:333B: 1B           	tcs
 12363 03:333C: 98           	tya
 12364 03:333D: 6B           	rtl
 12365                        ;}
 12366                        	.line	1752
 12367                        	.endblock	1752
 12368             00000008   L600	equ	8
 12369             00000005   L601	equ	5
 12370 03:333E:              	ends
 12371                        	efunc
 12372                        	.endfunc	1752,5,8
 12373                        	.line	1752
 12374                        ;
 12375                        ;
 12376                        ;void k_draw_nonclient_area(PRECT wndRect,PRECT cl
                    ientRect,UINT style,LPCSTR title,int color,int bgcolor)
 12377                        ;{
 12378                        	.line	1755
 12379                        	.line	1756
 12380                        	GUI
 12381                        	xdef	~~k_draw_nonclient_area
 12382                        	func
 12383                        	.function	1756
 12384                        ~~k_draw_nonclient_area:
 12385                        	longa	on
 12386                        	longi	on
 12387 03:333E: 3B           	tsc
 12388 03:333F: 38           	sec
 12389 03:3340: E9 32 00     	sbc	#L608
 12390 03:3343: 1B           	tcs
 12391 03:3344: 0B           	phd
 12392 03:3345: 5B           	tcd
 12393             00000004   wndRect_0	set	4
 12394             00000008   clientRect_0	set	8
 12395             0000000C   style_0	set	12
 12396             0000000E   title_0	set	14
 12397             00000012   color_0	set	18
 12398             00000014   bgcolor_0	set	20
  Wed Nov 18 2020  8:27                                                Page 224


 12399                        	.block	1756
 12400                        ;	//PWINDOW pWin,ULONG style,
 12401                        ;
 12402                        ;	int cx = wndRect->x;
 12403                        ;	int cy = wndRect->x;
 12404                        ;	int height = wndRect->height;
 12405                        ;	int width = wndRect->width;
 12406                        ;
 12407                        ;	FONTMETRIC metric;
 12408                        ;
 12409                        ;	int i = 0;
 12410                        ;	int odd = 1;
 12411                        ;	int borderColor = 0;
 12412                        ;	int borderTitle = 0;
 12413                        ;	int borderWidth = 0;
 12414                        ;
 12415                        ;	int titleOffsetX = 0;
 12416                        ;	int titleOffsetY = 0;
 12417                        ;	int titleScaler = 0;
 12418                        ;
 12419                        ;	int clientOffsetX = 0;
 12420                        ;	int clientOffsetY = 0;
 12421                        ;
 12422                        ;	int currX = 0;
 12423                        ;	int currY = 0;
 12424                        ;
 12425                        ;	int endX = 0;
 12426                        ;
 12427                        ;	int maxminPos = 0;
 12428                        ;
 12429                        ;
 12430                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 12431                        ;
 12432                        ;
 12433                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 12434             00000000   cx_1	set	0
 12435             00000002   cy_1	set	2
 12436             00000004   height_1	set	4
 12437             00000006   width_1	set	6
 12438             00000008   metric_1	set	8
 12439             0000000C   i_1	set	12
 12440             0000000E   odd_1	set	14
 12441             00000010   borderColor_1	set	16
 12442             00000012   borderTitle_1	set	18
 12443             00000014   borderWidth_1	set	20
 12444             00000016   titleOffsetX_1	set	22
 12445             00000018   titleOffsetY_1	set	24
 12446             0000001A   titleScaler_1	set	26
 12447             0000001C   clientOffsetX_1	set	28
 12448             0000001E   clientOffsetY_1	set	30
 12449             00000020   currX_1	set	32
 12450             00000022   currY_1	set	34
 12451             00000024   endX_1	set	36
 12452             00000026   maxminPos_1	set	38
 12453             00000028   fillOffset_1	set	40
 12454                        	.sym	cx,0,5,1,16
 12455                        	.sym	cy,2,5,1,16
  Wed Nov 18 2020  8:27                                                Page 225


 12456                        	.sym	height,4,5,1,16
 12457                        	.sym	width,6,5,1,16
 12458                        	.sym	metric,8,10,1,32,29
 12459                        	.sym	i,12,5,1,16
 12460                        	.sym	odd,14,5,1,16
 12461                        	.sym	borderColor,16,5,1,16
 12462                        	.sym	borderTitle,18,5,1,16
 12463                        	.sym	borderWidth,20,5,1,16
 12464                        	.sym	titleOffsetX,22,5,1,16
 12465                        	.sym	titleOffsetY,24,5,1,16
 12466                        	.sym	titleScaler,26,5,1,16
 12467                        	.sym	clientOffsetX,28,5,1,16
 12468                        	.sym	clientOffsetY,30,5,1,16
 12469                        	.sym	currX,32,5,1,16
 12470                        	.sym	currY,34,5,1,16
 12471                        	.sym	endX,36,5,1,16
 12472                        	.sym	maxminPos,38,5,1,16
 12473                        	.sym	fillOffset,40,5,1,16
 12474                        	.sym	wndRect,4,138,6,32,25
 12475                        	.sym	clientRect,8,138,6,32,25
 12476                        	.sym	style,12,16,6,16
 12477                        	.sym	title,14,142,6,32
 12478                        	.sym	color,18,5,6,16
 12479                        	.sym	bgcolor,20,5,6,16
 12480 03:3346: A7 36        	lda	[<L608+wndRect_0]
 12481 03:3348: 85 09        	sta	<L609+cx_1
 12482 03:334A: A7 36        	lda	[<L608+wndRect_0]
 12483 03:334C: 85 0B        	sta	<L609+cy_1
 12484 03:334E: A0 06 00     	ldy	#$6
 12485 03:3351: B7 36        	lda	[<L608+wndRect_0],Y
 12486 03:3353: 85 0D        	sta	<L609+height_1
 12487 03:3355: A0 04 00     	ldy	#$4
 12488 03:3358: B7 36        	lda	[<L608+wndRect_0],Y
 12489 03:335A: 85 0F        	sta	<L609+width_1
 12490 03:335C: 64 15        	stz	<L609+i_1
 12491 03:335E: A9 01 00     	lda	#$1
 12492 03:3361: 85 17        	sta	<L609+odd_1
 12493 03:3363: 64 19        	stz	<L609+borderColor_1
 12494 03:3365: 64 1B        	stz	<L609+borderTitle_1
 12495 03:3367: 64 1D        	stz	<L609+borderWidth_1
 12496 03:3369: 64 1F        	stz	<L609+titleOffsetX_1
 12497 03:336B: 64 21        	stz	<L609+titleOffsetY_1
 12498 03:336D: 64 23        	stz	<L609+titleScaler_1
 12499 03:336F: 64 25        	stz	<L609+clientOffsetX_1
 12500 03:3371: 64 27        	stz	<L609+clientOffsetY_1
 12501 03:3373: 64 29        	stz	<L609+currX_1
 12502 03:3375: 64 2B        	stz	<L609+currY_1
 12503 03:3377: 64 2D        	stz	<L609+endX_1
 12504 03:3379: 64 2F        	stz	<L609+maxminPos_1
 12505 03:337B: A9 02 00     	lda	#$2
 12506 03:337E: 85 31        	sta	<L609+fillOffset_1
 12507                        	.line	1790
 12508 03:3380: D4 09        	pei	<L609+cx_1
 12509 03:3382: F4 xx xx     	pea	#^L539
 12510 03:3385: F4 xx xx     	pea	#<L539
 12511 03:3388: 22 xx xx xx  	jsl	~~k_debug_integer
 12512                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 12513                        	.line	1791
  Wed Nov 18 2020  8:27                                                Page 226


 12514 03:338C: D4 0B        	pei	<L609+cy_1
 12515 03:338E: F4 xx xx     	pea	#^L539+22
 12516 03:3391: F4 xx xx     	pea	#<L539+22
 12517 03:3394: 22 xx xx xx  	jsl	~~k_debug_integer
 12518                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 12519                        	.line	1792
 12520 03:3398: D4 0F        	pei	<L609+width_1
 12521 03:339A: F4 xx xx     	pea	#^L539+44
 12522 03:339D: F4 xx xx     	pea	#<L539+44
 12523 03:33A0: 22 xx xx xx  	jsl	~~k_debug_integer
 12524                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 12525                        	.line	1793
 12526 03:33A4: D4 0D        	pei	<L609+height_1
 12527 03:33A6: F4 xx xx     	pea	#^L539+69
 12528 03:33A9: F4 xx xx     	pea	#<L539+69
 12529 03:33AC: 22 xx xx xx  	jsl	~~k_debug_integer
 12530                        ;
 12531                        ;	titleOffsetX = cx+2;
 12532                        	.line	1795
 12533 03:33B0: 18           	clc
 12534 03:33B1: A9 02 00     	lda	#$2
 12535 03:33B4: 65 09        	adc	<L609+cx_1
 12536 03:33B6: 85 1F        	sta	<L609+titleOffsetX_1
 12537                        ;	titleOffsetY = cy+1;
 12538                        	.line	1796
 12539 03:33B8: A5 0B        	lda	<L609+cy_1
 12540 03:33BA: 1A           	ina
 12541 03:33BB: 85 21        	sta	<L609+titleOffsetY_1
 12542                        ;
 12543                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 12544                        ;
 12545                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 12546                        	.line	1800
 12547                        ;	{
 12548 03:33BD: 82 1E 00     	brl	L10260
 12549                        	.line	1801
 12550                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",(LPCHAR)title);
 12551                        	.line	1802
 12552 03:33C0: D4 42        	pei	<L608+title_0+2
 12553 03:33C2: D4 40        	pei	<L608+title_0
 12554 03:33C4: F4 xx xx     	pea	#^L539+95
 12555 03:33C7: F4 xx xx     	pea	#<L539+95
 12556 03:33CA: 22 xx xx xx  	jsl	~~k_debug_strings
 12557                        ;		return;
 12558                        	.line	1803
 12559                        L611:
 12560 03:33CE: A5 34        	lda	<L608+2
 12561 03:33D0: 85 46        	sta	<L608+2+18
 12562 03:33D2: A5 33        	lda	<L608+1
 12563 03:33D4: 85 45        	sta	<L608+1+18
 12564 03:33D6: 2B           	pld
 12565 03:33D7: 3B           	tsc
 12566 03:33D8: 18           	clc
 12567 03:33D9: 69 44 00     	adc	#L608+18
 12568 03:33DC: 1B           	tcs
  Wed Nov 18 2020  8:27                                                Page 227


 12569 03:33DD: 6B           	rtl
 12570                        ;	}
 12571                        	.line	1804
 12572                        ;
 12573                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 12574                        ;
 12575                        ;	if(style & FXWS_THICKFRAME)
 12576                        L10260:
 12577                        	.line	1808
 12578                        ;	{
 12579 03:33DE: A5 3E        	lda	<L608+style_0
 12580 03:33E0: 85 01        	sta	<R0
 12581 03:33E2: 64 03        	stz	<R0+2
 12582 03:33E4: A5 03        	lda	<R0+2
 12583 03:33E6: 29 02 00     	and	#^$20000
 12584 03:33E9: D0 03        	bne	L612
 12585 03:33EB: 82 08 00     	brl	L10261
 12586                        L612:
 12587                        	.line	1809
 12588                        ;		borderWidth = 2;
 12589                        	.line	1810
 12590 03:33EE: A9 02 00     	lda	#$2
 12591 03:33F1: 85 1D        	sta	<L609+borderWidth_1
 12592                        ;	}
 12593                        	.line	1811
 12594                        ;	else if(style & FXWS_BORDER)
 12595 03:33F3: 82 2D 00     	brl	L10262
 12596                        L10261:
 12597                        	.line	1812
 12598                        ;	{
 12599 03:33F6: A5 3E        	lda	<L608+style_0
 12600 03:33F8: 85 01        	sta	<R0
 12601 03:33FA: 64 03        	stz	<R0+2
 12602 03:33FC: A5 03        	lda	<R0+2
 12603 03:33FE: 29 01 00     	and	#^$10000
 12604 03:3401: D0 03        	bne	L613
 12605 03:3403: 82 08 00     	brl	L10263
 12606                        L613:
 12607                        	.line	1813
 12608                        ;		borderWidth = 1;
 12609                        	.line	1814
 12610 03:3406: A9 01 00     	lda	#$1
 12611 03:3409: 85 1D        	sta	<L609+borderWidth_1
 12612                        ;	}
 12613                        	.line	1815
 12614                        ;	else if(style & FXWS_DLGFRAME)
 12615 03:340B: 82 15 00     	brl	L10264
 12616                        L10263:
 12617                        	.line	1816
 12618                        ;	{
 12619 03:340E: A5 3E        	lda	<L608+style_0
 12620 03:3410: 85 01        	sta	<R0
 12621 03:3412: 64 03        	stz	<R0+2
 12622 03:3414: A5 03        	lda	<R0+2
 12623 03:3416: 29 04 00     	and	#^$40000
 12624 03:3419: D0 03        	bne	L614
 12625 03:341B: 82 05 00     	brl	L10265
  Wed Nov 18 2020  8:27                                                Page 228


 12626                        L614:
 12627                        	.line	1817
 12628                        ;		borderWidth = 4;
 12629                        	.line	1818
 12630 03:341E: A9 04 00     	lda	#$4
 12631 03:3421: 85 1D        	sta	<L609+borderWidth_1
 12632                        ;	}
 12633                        	.line	1819
 12634                        ;
 12635                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 12636                        L10265:
 12637                        L10264:
 12638                        L10262:
 12639                        	.line	1821
 12640                        ;	{
 12641 03:3423: A5 3E        	lda	<L608+style_0
 12642 03:3425: 29 04 00     	and	#<$4
 12643 03:3428: 85 01        	sta	<R0
 12644 03:342A: A5 01        	lda	<R0
 12645 03:342C: C9 04 00     	cmp	#<$4
 12646 03:342F: D0 03        	bne	L616
 12647 03:3431: 82 1E 00     	brl	L615
 12648                        L616:
 12649 03:3434: A5 3E        	lda	<L608+style_0
 12650 03:3436: 29 08 00     	and	#<$8
 12651 03:3439: F0 03        	beq	L617
 12652 03:343B: 82 14 00     	brl	L615
 12653                        L617:
 12654 03:343E: A5 3E        	lda	<L608+style_0
 12655 03:3440: 29 20 00     	and	#<$20
 12656 03:3443: F0 03        	beq	L618
 12657 03:3445: 82 0A 00     	brl	L615
 12658                        L618:
 12659 03:3448: A5 3E        	lda	<L608+style_0
 12660 03:344A: 29 10 00     	and	#<$10
 12661 03:344D: D0 03        	bne	L619
 12662 03:344F: 82 05 00     	brl	L10266
 12663                        L619:
 12664                        L615:
 12665                        	.line	1822
 12666                        ;		borderTitle = 10;
 12667                        	.line	1823
 12668 03:3452: A9 0A 00     	lda	#$a
 12669 03:3455: 85 1B        	sta	<L609+borderTitle_1
 12670                        ;	}
 12671                        	.line	1824
 12672                        ;
 12673                        ;	clientOffsetX = cx + borderWidth;
 12674                        L10266:
 12675                        	.line	1826
 12676 03:3457: 18           	clc
 12677 03:3458: A5 09        	lda	<L609+cx_1
 12678 03:345A: 65 1D        	adc	<L609+borderWidth_1
 12679 03:345C: 85 25        	sta	<L609+clientOffsetX_1
 12680                        ;
 12681                        ;	if(borderTitle)
  Wed Nov 18 2020  8:27                                                Page 229


 12682                        	.line	1828
 12683                        ;		clientOffsetY = cy + borderTitle;
 12684 03:345E: A5 1B        	lda	<L609+borderTitle_1
 12685 03:3460: D0 03        	bne	L620
 12686 03:3462: 82 0A 00     	brl	L10267
 12687                        L620:
 12688                        	.line	1829
 12689 03:3465: 18           	clc
 12690 03:3466: A5 0B        	lda	<L609+cy_1
 12691 03:3468: 65 1B        	adc	<L609+borderTitle_1
 12692 03:346A: 85 27        	sta	<L609+clientOffsetY_1
 12693                        ;	else
 12694 03:346C: 82 07 00     	brl	L10268
 12695                        L10267:
 12696                        ;		clientOffsetY = cy + borderWidth;
 12697                        	.line	1831
 12698 03:346F: 18           	clc
 12699 03:3470: A5 0B        	lda	<L609+cy_1
 12700 03:3472: 65 1D        	adc	<L609+borderWidth_1
 12701 03:3474: 85 27        	sta	<L609+clientOffsetY_1
 12702                        L10268:
 12703                        ;
 12704                        ;	currX = clientOffsetX;
 12705                        	.line	1833
 12706 03:3476: A5 25        	lda	<L609+clientOffsetX_1
 12707 03:3478: 85 29        	sta	<L609+currX_1
 12708                        ;	currY = clientOffsetY;
 12709                        	.line	1834
 12710 03:347A: A5 27        	lda	<L609+clientOffsetY_1
 12711 03:347C: 85 2B        	sta	<L609+currY_1
 12712                        ;
 12713                        ;	endX = width + cx - borderWidth;
 12714                        	.line	1836
 12715 03:347E: 18           	clc
 12716 03:347F: A5 0F        	lda	<L609+width_1
 12717 03:3481: 65 09        	adc	<L609+cx_1
 12718 03:3483: 85 01        	sta	<R0
 12719 03:3485: 38           	sec
 12720 03:3486: A5 01        	lda	<R0
 12721 03:3488: E5 1D        	sbc	<L609+borderWidth_1
 12722 03:348A: 85 2D        	sta	<L609+endX_1
 12723                        ;	maxminPos = 0;
 12724                        	.line	1837
 12725 03:348C: 64 2F        	stz	<L609+maxminPos_1
 12726                        ;
 12727                        ;
 12728                        ;	/*
 12729                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 12730                        ;	//k_delay(50);
 12731                        ;
 12732                        ;	k_vdma_fill_rect(cx + borderWidth,
 12733                        ;			         cy + (borderTitle + bor
                    derWidth),
 12734                        ;					 //width - borde
                    rWidth - borderWidth + 1,
 12735                        ;					 //height - bord
                    erTitle - borderWidth + 1,
 12736                        ;					 width  - (borde
  Wed Nov 18 2020  8:27                                                Page 230


                    rWidth + fillOffset),
 12737                        ;					 height - (borde
                    rTitle + borderWidth + fillOffset),
 12738                        ;					 bgcolor);
 12739                        ;	*/
 12740                        ;
 12741                        ;	//k_debug_integer("k_vdraw_ui_window:cx:",cx);
 12742                        ;	//k_debug_integer("k_vdraw_ui_window:cy:",cy);
 12743                        ;	//k_debug_integer("k_vdraw_ui_window:width:",wid
                    th);
 12744                        ;	//k_debug_integer("k_vdraw_ui_window:height:",he
                    ight);
 12745                        ;
 12746                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 12747                        	.line	1858
 12748 03:348E: D4 46        	pei	<L608+bgcolor_0
 12749 03:3490: D4 0D        	pei	<L609+height_1
 12750 03:3492: D4 0F        	pei	<L609+width_1
 12751 03:3494: A0 00 00     	ldy	#$0
 12752 03:3497: A5 0B        	lda	<L609+cy_1
 12753 03:3499: 10 01        	bpl	L621
 12754 03:349B: 88           	dey
 12755                        L621:
 12756 03:349C: 85 01        	sta	<R0
 12757 03:349E: 84 03        	sty	<R0+2
 12758 03:34A0: D4 03        	pei	<R0+2
 12759 03:34A2: D4 01        	pei	<R0
 12760 03:34A4: A0 00 00     	ldy	#$0
 12761 03:34A7: A5 09        	lda	<L609+cx_1
 12762 03:34A9: 10 01        	bpl	L622
 12763 03:34AB: 88           	dey
 12764                        L622:
 12765 03:34AC: 85 05        	sta	<R1
 12766 03:34AE: 84 07        	sty	<R1+2
 12767 03:34B0: D4 07        	pei	<R1+2
 12768 03:34B2: D4 05        	pei	<R1
 12769 03:34B4: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 12770                        ;	borderColor = color;
 12771                        	.line	1859
 12772 03:34B8: A5 44        	lda	<L608+color_0
 12773 03:34BA: 85 19        	sta	<L609+borderColor_1
 12774                        ;	for(i=0;i<borderWidth;i++)
 12775                        	.line	1860
 12776 03:34BC: 64 15        	stz	<L609+i_1
 12777 03:34BE: 82 5A 00     	brl	L10272
 12778                        L10271:
 12779                        ;	{
 12780                        	.line	1861
 12781                        ;		if(borderWidth > 2)
 12782                        	.line	1862
 12783                        ;		{
 12784 03:34C1: 38           	sec
 12785 03:34C2: A9 02 00     	lda	#$2
 12786 03:34C5: E5 1D        	sbc	<L609+borderWidth_1
 12787 03:34C7: 70 03        	bvs	L623
 12788 03:34C9: 49 00 80     	eor	#$8000
 12789                        L623:
 12790 03:34CC: 10 03        	bpl	L624
  Wed Nov 18 2020  8:27                                                Page 231


 12791 03:34CE: 82 1C 00     	brl	L10273
 12792                        L624:
 12793                        	.line	1863
 12794                        ;			borderColor = color;
 12795                        	.line	1864
 12796 03:34D1: A5 44        	lda	<L608+color_0
 12797 03:34D3: 85 19        	sta	<L609+borderColor_1
 12798                        ;			odd=!odd;
 12799                        	.line	1865
 12800 03:34D5: 64 01        	stz	<R0
 12801 03:34D7: A5 17        	lda	<L609+odd_1
 12802 03:34D9: F0 03        	beq	L626
 12803 03:34DB: 82 02 00     	brl	L625
 12804                        L626:
 12805 03:34DE: E6 01        	inc	<R0
 12806                        L625:
 12807 03:34E0: A5 01        	lda	<R0
 12808 03:34E2: 85 17        	sta	<L609+odd_1
 12809                        ;			if(odd)
 12810                        	.line	1866
 12811                        ;			{
 12812 03:34E4: A5 17        	lda	<L609+odd_1
 12813 03:34E6: D0 03        	bne	L627
 12814 03:34E8: 82 02 00     	brl	L10274
 12815                        L627:
 12816                        	.line	1867
 12817                        ;				borderColor = 0;
 12818                        	.line	1868
 12819 03:34EB: 64 19        	stz	<L609+borderColor_1
 12820                        ;			}
 12821                        	.line	1869
 12822                        ;		}
 12823                        L10274:
 12824                        	.line	1870
 12825                        ;
 12826                        ;		k_draw_rect_slow(cx + i + 0,
 12827                        L10273:
 12828                        	.line	1872
 12829                        ;						 cy + i 
                    + 0,
 12830                        ;						 cx + wi
                    dth  - 0 - i,
 12831                        ;						 cy + he
                    ight - 0 - i,
 12832                        ;						 borderC
                    olor);
 12833 03:34ED: D4 19        	pei	<L609+borderColor_1
 12834 03:34EF: 18           	clc
 12835 03:34F0: A5 0B        	lda	<L609+cy_1
 12836 03:34F2: 65 0D        	adc	<L609+height_1
 12837 03:34F4: 85 01        	sta	<R0
 12838 03:34F6: 38           	sec
 12839 03:34F7: A5 01        	lda	<R0
 12840 03:34F9: E5 15        	sbc	<L609+i_1
 12841 03:34FB: 48           	pha
 12842 03:34FC: 18           	clc
 12843 03:34FD: A5 09        	lda	<L609+cx_1
 12844 03:34FF: 65 0F        	adc	<L609+width_1
  Wed Nov 18 2020  8:27                                                Page 232


 12845 03:3501: 85 01        	sta	<R0
 12846 03:3503: 38           	sec
 12847 03:3504: A5 01        	lda	<R0
 12848 03:3506: E5 15        	sbc	<L609+i_1
 12849 03:3508: 48           	pha
 12850 03:3509: 18           	clc
 12851 03:350A: A5 0B        	lda	<L609+cy_1
 12852 03:350C: 65 15        	adc	<L609+i_1
 12853 03:350E: 48           	pha
 12854 03:350F: 18           	clc
 12855 03:3510: A5 09        	lda	<L609+cx_1
 12856 03:3512: 65 15        	adc	<L609+i_1
 12857 03:3514: 48           	pha
 12858 03:3515: 22 86 15 03  	jsl	~~k_draw_rect_slow
 12859                        ;
 12860                        ;	}
 12861                        	.line	1878
 12862                        L10269:
 12863 03:3519: E6 15        	inc	<L609+i_1
 12864                        L10272:
 12865 03:351B: 38           	sec
 12866 03:351C: A5 15        	lda	<L609+i_1
 12867 03:351E: E5 1D        	sbc	<L609+borderWidth_1
 12868 03:3520: 70 03        	bvs	L628
 12869 03:3522: 49 00 80     	eor	#$8000
 12870                        L628:
 12871 03:3525: 30 03        	bmi	L629
 12872 03:3527: 82 97 FF     	brl	L10271
 12873                        L629:
 12874                        L10270:
 12875                        ;
 12876                        ;
 12877                        ;
 12878                        ;	if(borderTitle)
 12879                        	.line	1882
 12880                        ;	{
 12881 03:352A: A5 1B        	lda	<L609+borderTitle_1
 12882 03:352C: D0 03        	bne	L630
 12883 03:352E: 82 2A 00     	brl	L10275
 12884                        L630:
 12885                        	.line	1883
 12886                        ;		k_vdma_fill_rect(cx,cy,width,borderTitle
                    ,color);
 12887                        	.line	1884
 12888 03:3531: D4 44        	pei	<L608+color_0
 12889 03:3533: D4 1B        	pei	<L609+borderTitle_1
 12890 03:3535: D4 0F        	pei	<L609+width_1
 12891 03:3537: A0 00 00     	ldy	#$0
 12892 03:353A: A5 0B        	lda	<L609+cy_1
 12893 03:353C: 10 01        	bpl	L631
 12894 03:353E: 88           	dey
 12895                        L631:
 12896 03:353F: 85 01        	sta	<R0
 12897 03:3541: 84 03        	sty	<R0+2
 12898 03:3543: D4 03        	pei	<R0+2
 12899 03:3545: D4 01        	pei	<R0
 12900 03:3547: A0 00 00     	ldy	#$0
 12901 03:354A: A5 09        	lda	<L609+cx_1
  Wed Nov 18 2020  8:27                                                Page 233


 12902 03:354C: 10 01        	bpl	L632
 12903 03:354E: 88           	dey
 12904                        L632:
 12905 03:354F: 85 05        	sta	<R1
 12906 03:3551: 84 07        	sty	<R1+2
 12907 03:3553: D4 07        	pei	<R1+2
 12908 03:3555: D4 05        	pei	<R1
 12909 03:3557: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 12910                        ;	}
 12911                        	.line	1885
 12912                        ;
 12913                        ;	k_get_font_metrics(&metric);
 12914                        L10275:
 12915                        	.line	1887
 12916 03:355B: F4 00 00     	pea	#0
 12917 03:355E: 18           	clc
 12918 03:355F: 7B           	tdc
 12919 03:3560: 69 11 00     	adc	#<L609+metric_1
 12920 03:3563: 48           	pha
 12921 03:3564: 22 BF 17 03  	jsl	~~k_get_font_metrics
 12922                        ;
 12923                        ;
 12924                        ;	//title = strupr(title);
 12925                        ;
 12926                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 12927                        ;
 12928                        ;	if(style & FXWS_SYSMENU)
 12929                        	.line	1894
 12930                        ;	{
 12931 03:3568: A5 3E        	lda	<L608+style_0
 12932 03:356A: 29 08 00     	and	#<$8
 12933 03:356D: D0 03        	bne	L633
 12934 03:356F: 82 19 00     	brl	L10276
 12935                        L633:
 12936                        	.line	1895
 12937                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 12938                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetColo
                    r());
 12939                        	.line	1897
 12940 03:3572: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 12941 03:3576: 48           	pha
 12942 03:3577: D4 21        	pei	<L609+titleOffsetY_1
 12943 03:3579: D4 1F        	pei	<L609+titleOffsetX_1
 12944 03:357B: F4 06 00     	pea	#<$6
 12945 03:357E: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 12946 03:3582: 85 01        	sta	<R0
 12947 03:3584: 18           	clc
 12948 03:3585: A5 01        	lda	<R0
 12949 03:3587: 65 1F        	adc	<L609+titleOffsetX_1
 12950 03:3589: 85 1F        	sta	<L609+titleOffsetX_1
 12951                        ;	}
 12952                        	.line	1898
 12953                        ;
 12954                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 12955                        L10276:
  Wed Nov 18 2020  8:27                                                Page 234


 12956                        	.line	1900
 12957                        ;	{
 12958 03:358B: A5 3E        	lda	<L608+style_0
 12959 03:358D: 29 04 00     	and	#<$4
 12960 03:3590: 85 01        	sta	<R0
 12961 03:3592: A5 01        	lda	<R0
 12962 03:3594: C9 04 00     	cmp	#<$4
 12963 03:3597: F0 03        	beq	L634
 12964 03:3599: 82 41 00     	brl	L10277
 12965                        L634:
 12966                        	.line	1901
 12967                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 12968                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 12969                        ;		titleScaler = (int)(width / metric.width
                     -1 );
 12970                        	.line	1904
 12971 03:359C: A5 0F        	lda	<L609+width_1
 12972 03:359E: A6 11        	ldx	<L609+metric_1
 12973                        	xref	~~~div
 12974 03:35A0: 22 xx xx xx  	jsl	~~~div
 12975 03:35A4: 85 01        	sta	<R0
 12976 03:35A6: 18           	clc
 12977 03:35A7: A9 FF FF     	lda	#$ffff
 12978 03:35AA: 65 01        	adc	<R0
 12979 03:35AC: 85 23        	sta	<L609+titleScaler_1
 12980                        ;		for(i=0;i<titleScaler;i++)
 12981                        	.line	1905
 12982 03:35AE: 64 15        	stz	<L609+i_1
 12983 03:35B0: 82 1B 00     	brl	L10281
 12984                        L10280:
 12985                        ;		{
 12986                        	.line	1906
 12987                        ;			titleOffsetX+=k_put_wingadget_po
                    int(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUIGad
                    getColor());
 12988                        	.line	1907
 12989 03:35B3: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 12990 03:35B7: 48           	pha
 12991 03:35B8: D4 21        	pei	<L609+titleOffsetY_1
 12992 03:35BA: D4 1F        	pei	<L609+titleOffsetX_1
 12993 03:35BC: F4 01 00     	pea	#<$1
 12994 03:35BF: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 12995 03:35C3: 85 01        	sta	<R0
 12996 03:35C5: 18           	clc
 12997 03:35C6: A5 01        	lda	<R0
 12998 03:35C8: 65 1F        	adc	<L609+titleOffsetX_1
 12999 03:35CA: 85 1F        	sta	<L609+titleOffsetX_1
 13000                        ;		}
 13001                        	.line	1908
 13002                        L10278:
 13003 03:35CC: E6 15        	inc	<L609+i_1
 13004                        L10281:
 13005 03:35CE: 38           	sec
 13006 03:35CF: A5 15        	lda	<L609+i_1
 13007 03:35D1: E5 23        	sbc	<L609+titleScaler_1
 13008 03:35D3: 70 03        	bvs	L635
  Wed Nov 18 2020  8:27                                                Page 235


 13009 03:35D5: 49 00 80     	eor	#$8000
 13010                        L635:
 13011 03:35D8: 30 03        	bmi	L636
 13012 03:35DA: 82 D6 FF     	brl	L10280
 13013                        L636:
 13014                        L10279:
 13015                        ;	}
 13016                        	.line	1909
 13017                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 13018                        ;	//titleOffsetX+=2;
 13019                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 13020                        ;
 13021                        ;	if(style & FXWS_MAXIMIZEBOX)
 13022                        L10277:
 13023                        	.line	1914
 13024                        ;	{
 13025 03:35DD: A5 3E        	lda	<L608+style_0
 13026 03:35DF: 29 10 00     	and	#<$10
 13027 03:35E2: D0 03        	bne	L637
 13028 03:35E4: 82 33 00     	brl	L10282
 13029                        L637:
 13030                        	.line	1915
 13031                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 13032                        ;		maxminPos+=metric.width;
 13033                        	.line	1917
 13034 03:35E7: 18           	clc
 13035 03:35E8: A5 2F        	lda	<L609+maxminPos_1
 13036 03:35EA: 65 11        	adc	<L609+metric_1
 13037 03:35EC: 85 2F        	sta	<L609+maxminPos_1
 13038                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 13039                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 13040                        ;
 13041                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 13042                        	.line	1921
 13043 03:35EE: 22 DB 0B 03  	jsl	~~k_getUIWindowBorderColor
 13044 03:35F2: 48           	pha
 13045 03:35F3: D4 21        	pei	<L609+titleOffsetY_1
 13046 03:35F5: 38           	sec
 13047 03:35F6: A5 2D        	lda	<L609+endX_1
 13048 03:35F8: E5 2F        	sbc	<L609+maxminPos_1
 13049 03:35FA: 48           	pha
 13050 03:35FB: F4 00 00     	pea	#<$0
 13051 03:35FE: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13052                        ;		k_put_wingadget_point(WINICON_TITLE_FRON
                    T,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 13053                        	.line	1922
 13054 03:3602: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 13055 03:3606: 48           	pha
 13056 03:3607: D4 21        	pei	<L609+titleOffsetY_1
 13057 03:3609: 38           	sec
  Wed Nov 18 2020  8:27                                                Page 236


 13058 03:360A: A5 2D        	lda	<L609+endX_1
 13059 03:360C: E5 2F        	sbc	<L609+maxminPos_1
 13060 03:360E: 48           	pha
 13061 03:360F: F4 03 00     	pea	#<$3
 13062 03:3612: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13063                        ;
 13064                        ;		maxminPos+=2;
 13065                        	.line	1924
 13066 03:3616: E6 2F        	inc	<L609+maxminPos_1
 13067 03:3618: E6 2F        	inc	<L609+maxminPos_1
 13068                        ;	}
 13069                        	.line	1925
 13070                        ;
 13071                        ;	if(style & FXWS_MINIMIZEBOX)
 13072                        L10282:
 13073                        	.line	1927
 13074                        ;	{
 13075 03:361A: A5 3E        	lda	<L608+style_0
 13076 03:361C: 29 20 00     	and	#<$20
 13077 03:361F: D0 03        	bne	L638
 13078 03:3621: 82 33 00     	brl	L10283
 13079                        L638:
 13080                        	.line	1928
 13081                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 13082                        ;		maxminPos+=metric.width;
 13083                        	.line	1930
 13084 03:3624: 18           	clc
 13085 03:3625: A5 2F        	lda	<L609+maxminPos_1
 13086 03:3627: 65 11        	adc	<L609+metric_1
 13087 03:3629: 85 2F        	sta	<L609+maxminPos_1
 13088                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 13089                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 13090                        ;
 13091                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 13092                        	.line	1934
 13093 03:362B: 22 DB 0B 03  	jsl	~~k_getUIWindowBorderColor
 13094 03:362F: 48           	pha
 13095 03:3630: D4 21        	pei	<L609+titleOffsetY_1
 13096 03:3632: 38           	sec
 13097 03:3633: A5 2D        	lda	<L609+endX_1
 13098 03:3635: E5 2F        	sbc	<L609+maxminPos_1
 13099 03:3637: 48           	pha
 13100 03:3638: F4 00 00     	pea	#<$0
 13101 03:363B: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13102                        ;		k_put_wingadget_point(WINICON_TITLE_BACK
                    ,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 13103                        	.line	1935
 13104 03:363F: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 13105 03:3643: 48           	pha
 13106 03:3644: D4 21        	pei	<L609+titleOffsetY_1
 13107 03:3646: 38           	sec
 13108 03:3647: A5 2D        	lda	<L609+endX_1
  Wed Nov 18 2020  8:27                                                Page 237


 13109 03:3649: E5 2F        	sbc	<L609+maxminPos_1
 13110 03:364B: 48           	pha
 13111 03:364C: F4 04 00     	pea	#<$4
 13112 03:364F: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13113                        ;
 13114                        ;		maxminPos+=2;
 13115                        	.line	1937
 13116 03:3653: E6 2F        	inc	<L609+maxminPos_1
 13117 03:3655: E6 2F        	inc	<L609+maxminPos_1
 13118                        ;	}
 13119                        	.line	1938
 13120                        ;
 13121                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 13122                        L10283:
 13123                        	.line	1940
 13124                        ;	{
 13125 03:3657: A5 3E        	lda	<L608+style_0
 13126 03:3659: 29 04 00     	and	#<$4
 13127 03:365C: 85 01        	sta	<R0
 13128 03:365E: A5 01        	lda	<R0
 13129 03:3660: C9 04 00     	cmp	#<$4
 13130 03:3663: F0 03        	beq	L639
 13131 03:3665: 82 68 00     	brl	L10284
 13132                        L639:
 13133                        	.line	1941
 13134                        ;
 13135                        ;		for(i=0;i<=strlen(title);i++)
 13136                        	.line	1943
 13137 03:3668: 64 15        	stz	<L609+i_1
 13138 03:366A: 82 2C 00     	brl	L10288
 13139                        L10287:
 13140                        ;		{
 13141                        	.line	1944
 13142                        ;			k_put_wingadget_point(WINICON_BL
                    OCK,cx+borderWidth+metric.width+(metric.width*i),titleOffset
                    Y,15);
 13143                        	.line	1945
 13144 03:366D: F4 0F 00     	pea	#<$f
 13145 03:3670: D4 21        	pei	<L609+titleOffsetY_1
 13146 03:3672: A5 11        	lda	<L609+metric_1
 13147 03:3674: A6 15        	ldx	<L609+i_1
 13148                        	xref	~~~mul
 13149 03:3676: 22 xx xx xx  	jsl	~~~mul
 13150 03:367A: 85 01        	sta	<R0
 13151 03:367C: 18           	clc
 13152 03:367D: A5 01        	lda	<R0
 13153 03:367F: 65 09        	adc	<L609+cx_1
 13154 03:3681: 85 05        	sta	<R1
 13155 03:3683: 18           	clc
 13156 03:3684: A5 05        	lda	<R1
 13157 03:3686: 65 1D        	adc	<L609+borderWidth_1
 13158 03:3688: 85 01        	sta	<R0
 13159 03:368A: 18           	clc
 13160 03:368B: A5 01        	lda	<R0
 13161 03:368D: 65 11        	adc	<L609+metric_1
 13162 03:368F: 48           	pha
 13163 03:3690: F4 00 00     	pea	#<$0
 13164 03:3693: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
  Wed Nov 18 2020  8:27                                                Page 238


 13165                        ;		}
 13166                        	.line	1946
 13167                        L10285:
 13168 03:3697: E6 15        	inc	<L609+i_1
 13169                        L10288:
 13170 03:3699: D4 42        	pei	<L608+title_0+2
 13171 03:369B: D4 40        	pei	<L608+title_0
 13172 03:369D: 22 xx xx xx  	jsl	~~strlen
 13173 03:36A1: 85 01        	sta	<R0
 13174 03:36A3: A5 01        	lda	<R0
 13175 03:36A5: C5 15        	cmp	<L609+i_1
 13176 03:36A7: 90 03        	bcc	L640
 13177 03:36A9: 82 C1 FF     	brl	L10287
 13178                        L640:
 13179                        L10286:
 13180                        ;		k_draw_text_point(title,cx+(borderWidth 
                    + 3)+metric.width,titleOffsetY,k_getUIGadgetColor());
 13181                        	.line	1947
 13182 03:36AC: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 13183 03:36B0: 48           	pha
 13184 03:36B1: D4 21        	pei	<L609+titleOffsetY_1
 13185 03:36B3: 18           	clc
 13186 03:36B4: A5 09        	lda	<L609+cx_1
 13187 03:36B6: 65 1D        	adc	<L609+borderWidth_1
 13188 03:36B8: 85 01        	sta	<R0
 13189 03:36BA: 18           	clc
 13190 03:36BB: A5 01        	lda	<R0
 13191 03:36BD: 65 11        	adc	<L609+metric_1
 13192 03:36BF: 85 05        	sta	<R1
 13193 03:36C1: 18           	clc
 13194 03:36C2: A9 03 00     	lda	#$3
 13195 03:36C5: 65 05        	adc	<R1
 13196 03:36C7: 48           	pha
 13197 03:36C8: D4 42        	pei	<L608+title_0+2
 13198 03:36CA: D4 40        	pei	<L608+title_0
 13199 03:36CC: 22 6C 16 03  	jsl	~~k_draw_text_point
 13200                        ;	}
 13201                        	.line	1948
 13202                        ;
 13203                        ;	clientRect->x = clientOffsetX;
 13204                        L10284:
 13205                        	.line	1950
 13206 03:36D0: A5 25        	lda	<L609+clientOffsetX_1
 13207 03:36D2: 87 3A        	sta	[<L608+clientRect_0]
 13208                        ;	clientRect->y = clientOffsetY;
 13209                        	.line	1951
 13210 03:36D4: A5 27        	lda	<L609+clientOffsetY_1
 13211 03:36D6: A0 02 00     	ldy	#$2
 13212 03:36D9: 97 3A        	sta	[<L608+clientRect_0],Y
 13213                        ;	clientRect->width = (0 - (2*borderWidth));
 13214                        	.line	1952
 13215 03:36DB: A5 1D        	lda	<L609+borderWidth_1
 13216 03:36DD: 0A           	asl	A
 13217 03:36DE: 85 01        	sta	<R0
 13218 03:36E0: 38           	sec
 13219 03:36E1: A9 00 00     	lda	#$0
 13220 03:36E4: E5 01        	sbc	<R0
 13221 03:36E6: A0 04 00     	ldy	#$4
  Wed Nov 18 2020  8:27                                                Page 239


 13222 03:36E9: 97 3A        	sta	[<L608+clientRect_0],Y
 13223                        ;	clientRect->height = (0 - clientOffsetY - border
                    Width); ;
 13224                        	.line	1953
 13225 03:36EB: 38           	sec
 13226 03:36EC: A9 00 00     	lda	#$0
 13227 03:36EF: E5 27        	sbc	<L609+clientOffsetY_1
 13228 03:36F1: 85 01        	sta	<R0
 13229 03:36F3: 38           	sec
 13230 03:36F4: A5 01        	lda	<R0
 13231 03:36F6: E5 1D        	sbc	<L609+borderWidth_1
 13232 03:36F8: A0 06 00     	ldy	#$6
 13233 03:36FB: 97 3A        	sta	[<L608+clientRect_0],Y
 13234                        	.line	1953
 13235                        ;
 13236                        ;	k_debug_rect("RELATIVE CLIENT",clientRect);
 13237                        	.line	1955
 13238 03:36FD: D4 3C        	pei	<L608+clientRect_0+2
 13239 03:36FF: D4 3A        	pei	<L608+clientRect_0
 13240 03:3701: F4 xx xx     	pea	#^L539+129
 13241 03:3704: F4 xx xx     	pea	#<L539+129
 13242 03:3707: 22 xx xx xx  	jsl	~~k_debug_rect
 13243                        ;
 13244                        ;
 13245                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 13246                        ;}
 13247                        	.line	1959
 13248 03:370B: 82 C0 FC     	brl	L611
 13249                        	.endblock	1959
 13250             00000032   L608	equ	50
 13251             00000009   L609	equ	9
 13252 03:370E:              	ends
 13253                        	efunc
 13254                        	.endfunc	1959,9,50
 13255                        	.line	1959
 13256                        	data
 13257                        L539:
 13258 00:0381: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0385: 72 61 77 5F 
       00:0389: 75 69 5F 77 
       00:038D: 69 6E 64 
 13259 00:0390: 6F 77 3A 63  	db	$6F,$77,$3A,$63,$78,$3A,$00,$6B,$5F,$76,
                    $64,$72,$61,$77,$5F
       00:0394: 78 3A 00 6B 
       00:0398: 5F 76 64 72 
       00:039C: 61 77 5F 
 13260 00:039F: 75 69 5F 77  	db	$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,$3A,
                    $63,$79,$3A,$00,$6B
       00:03A3: 69 6E 64 6F 
       00:03A7: 77 3A 63 79 
       00:03AB: 3A 00 6B 
 13261 00:03AE: 5F 76 64 72  	db	$5F,$76,$64,$72,$61,$77,$5F,$75,$69,$5F,
                    $77,$69,$6E,$64,$6F
       00:03B2: 61 77 5F 75 
       00:03B6: 69 5F 77 69 
       00:03BA: 6E 64 6F 
 13262 00:03BD: 77 3A 77 69  	db	$77,$3A,$77,$69,$64,$74,$68,$3A,$00,$6B,
  Wed Nov 18 2020  8:27                                                Page 240


                    $5F,$76,$64,$72,$61
       00:03C1: 64 74 68 3A 
       00:03C5: 00 6B 5F 76 
       00:03C9: 64 72 61 
 13263 00:03CC: 77 5F 75 69  	db	$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,
                    $77,$3A,$68,$65,$69
       00:03D0: 5F 77 69 6E 
       00:03D4: 64 6F 77 3A 
       00:03D8: 68 65 69 
 13264 00:03DB: 67 68 74 3A  	db	$67,$68,$74,$3A,$00,$6B,$5F,$76,$64,$72,
                    $61,$77,$5F,$75,$69
       00:03DF: 00 6B 5F 76 
       00:03E3: 64 72 61 77 
       00:03E7: 5F 75 69 
 13265 00:03EA: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$3A,$3A,$4E,
                    $4F,$54,$20,$52,$45
       00:03EE: 64 6F 77 3A 
       00:03F2: 3A 4E 4F 54 
       00:03F6: 20 52 45 
 13266 00:03F9: 4E 44 45 52  	db	$4E,$44,$45,$52,$49,$4E,$47,$3A,$00,$52,
                    $45,$4C,$41,$54,$49
       00:03FD: 49 4E 47 3A 
       00:0401: 00 52 45 4C 
       00:0405: 41 54 49 
 13267 00:0408: 56 45 20 43  	db	$56,$45,$20,$43,$4C,$49,$45,$4E,$54,$00
       00:040C: 4C 49 45 4E 
       00:0410: 54 00 
 13268 00:0412:              	ends
 13269                        ;
 13270                        ;
 13271                        ;
 13272                        ;
 13273                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 13274                        ;{
 13275                        	.line	1964
 13276                        	.line	1965
 13277                        	GUI
 13278                        	xdef	~~k_vdraw_ui_window
 13279                        	func
 13280                        	.function	1965
 13281                        ~~k_vdraw_ui_window:
 13282                        	longa	on
 13283                        	longi	on
 13284 03:370E: 3B           	tsc
 13285 03:370F: 38           	sec
 13286 03:3710: E9 2A 00     	sbc	#L642
 13287 03:3713: 1B           	tcs
 13288 03:3714: 0B           	phd
 13289 03:3715: 5B           	tcd
 13290             00000004   pWin_0	set	4
 13291             00000008   style_0	set	8
 13292             0000000C   cx_0	set	12
 13293             0000000E   cy_0	set	14
 13294             00000010   height_0	set	16
 13295             00000012   width_0	set	18
 13296             00000014   title_0	set	20
  Wed Nov 18 2020  8:27                                                Page 241


 13297             00000018   color_0	set	24
 13298             0000001A   bgcolor_0	set	26
 13299                        	.block	1965
 13300                        ;	FONTMETRIC metric;
 13301                        ;	
 13302                        ;	int i = 0;
 13303                        ;	int odd = 1;
 13304                        ;	int borderColor = 0;
 13305                        ;	int borderTitle = 0;
 13306                        ;	int borderWidth = 0;
 13307                        ;
 13308                        ;	int titleOffsetX = 0;
 13309                        ;	int titleOffsetY = 0;
 13310                        ;	int titleScaler = 0;
 13311                        ;	
 13312                        ;	int clientOffsetX = 0;
 13313                        ;	int clientOffsetY = 0;
 13314                        ;	
 13315                        ;	int currX = 0;
 13316                        ;	int currY = 0;
 13317                        ;	
 13318                        ;	int endX = 0;
 13319                        ;	
 13320                        ;	int maxminPos = 0;
 13321                        ;
 13322                        ;
 13323                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 13324                        ;
 13325                        ;	/*
 13326                        ;	if(pWin->pParentWindow)
 13327                        ;	{
 13328                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 13329                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 13330                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 13331                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 13332                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 13333                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 13334                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 13335                        ;	}
 13336                        ;	*/
 13337                        ;	k_debug_strings("k_vdraw_ui_window::IS CHILD:",t
                    itle);
 13338             00000000   metric_1	set	0
 13339             00000004   i_1	set	4
 13340             00000006   odd_1	set	6
 13341             00000008   borderColor_1	set	8
 13342             0000000A   borderTitle_1	set	10
 13343             0000000C   borderWidth_1	set	12
 13344             0000000E   titleOffsetX_1	set	14
 13345             00000010   titleOffsetY_1	set	16
  Wed Nov 18 2020  8:27                                                Page 242


 13346             00000012   titleScaler_1	set	18
 13347             00000014   clientOffsetX_1	set	20
 13348             00000016   clientOffsetY_1	set	22
 13349             00000018   currX_1	set	24
 13350             0000001A   currY_1	set	26
 13351             0000001C   endX_1	set	28
 13352             0000001E   maxminPos_1	set	30
 13353             00000020   fillOffset_1	set	32
 13354                        	.sym	metric,0,10,1,32,29
 13355                        	.sym	i,4,5,1,16
 13356                        	.sym	odd,6,5,1,16
 13357                        	.sym	borderColor,8,5,1,16
 13358                        	.sym	borderTitle,10,5,1,16
 13359                        	.sym	borderWidth,12,5,1,16
 13360                        	.sym	titleOffsetX,14,5,1,16
 13361                        	.sym	titleOffsetY,16,5,1,16
 13362                        	.sym	titleScaler,18,5,1,16
 13363                        	.sym	clientOffsetX,20,5,1,16
 13364                        	.sym	clientOffsetY,22,5,1,16
 13365                        	.sym	currX,24,5,1,16
 13366                        	.sym	currY,26,5,1,16
 13367                        	.sym	endX,28,5,1,16
 13368                        	.sym	maxminPos,30,5,1,16
 13369                        	.sym	fillOffset,32,5,1,16
 13370                        	.sym	pWin,4,138,6,32,27
 13371                        	.sym	style,8,18,6,32
 13372                        	.sym	cx,12,5,6,16
 13373                        	.sym	cy,14,5,6,16
 13374                        	.sym	height,16,5,6,16
 13375                        	.sym	width,18,5,6,16
 13376                        	.sym	title,20,142,6,32
 13377                        	.sym	color,24,5,6,16
 13378                        	.sym	bgcolor,26,5,6,16
 13379 03:3716: 64 0D        	stz	<L643+i_1
 13380 03:3718: A9 01 00     	lda	#$1
 13381 03:371B: 85 0F        	sta	<L643+odd_1
 13382 03:371D: 64 11        	stz	<L643+borderColor_1
 13383 03:371F: 64 13        	stz	<L643+borderTitle_1
 13384 03:3721: 64 15        	stz	<L643+borderWidth_1
 13385 03:3723: 64 17        	stz	<L643+titleOffsetX_1
 13386 03:3725: 64 19        	stz	<L643+titleOffsetY_1
 13387 03:3727: 64 1B        	stz	<L643+titleScaler_1
 13388 03:3729: 64 1D        	stz	<L643+clientOffsetX_1
 13389 03:372B: 64 1F        	stz	<L643+clientOffsetY_1
 13390 03:372D: 64 21        	stz	<L643+currX_1
 13391 03:372F: 64 23        	stz	<L643+currY_1
 13392 03:3731: 64 25        	stz	<L643+endX_1
 13393 03:3733: 64 27        	stz	<L643+maxminPos_1
 13394 03:3735: A9 02 00     	lda	#$2
 13395 03:3738: 85 29        	sta	<L643+fillOffset_1
 13396                        	.line	2003
 13397 03:373A: D4 40        	pei	<L642+title_0+2
 13398 03:373C: D4 3E        	pei	<L642+title_0
 13399 03:373E: F4 xx xx     	pea	#^L641
 13400 03:3741: F4 xx xx     	pea	#<L641
 13401 03:3744: 22 xx xx xx  	jsl	~~k_debug_strings
 13402                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 13403                        	.line	2004
  Wed Nov 18 2020  8:27                                                Page 243


 13404 03:3748: D4 36        	pei	<L642+cx_0
 13405 03:374A: F4 xx xx     	pea	#^L641+29
 13406 03:374D: F4 xx xx     	pea	#<L641+29
 13407 03:3750: 22 xx xx xx  	jsl	~~k_debug_integer
 13408                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 13409                        	.line	2005
 13410 03:3754: D4 38        	pei	<L642+cy_0
 13411 03:3756: F4 xx xx     	pea	#^L641+51
 13412 03:3759: F4 xx xx     	pea	#<L641+51
 13413 03:375C: 22 xx xx xx  	jsl	~~k_debug_integer
 13414                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 13415                        	.line	2006
 13416 03:3760: D4 3C        	pei	<L642+width_0
 13417 03:3762: F4 xx xx     	pea	#^L641+73
 13418 03:3765: F4 xx xx     	pea	#<L641+73
 13419 03:3768: 22 xx xx xx  	jsl	~~k_debug_integer
 13420                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 13421                        	.line	2007
 13422 03:376C: D4 3A        	pei	<L642+height_0
 13423 03:376E: F4 xx xx     	pea	#^L641+98
 13424 03:3771: F4 xx xx     	pea	#<L641+98
 13425 03:3774: 22 xx xx xx  	jsl	~~k_debug_integer
 13426                        ;
 13427                        ;	titleOffsetX = cx+2;
 13428                        	.line	2009
 13429 03:3778: 18           	clc
 13430 03:3779: A9 02 00     	lda	#$2
 13431 03:377C: 65 36        	adc	<L642+cx_0
 13432 03:377E: 85 17        	sta	<L643+titleOffsetX_1
 13433                        ;	titleOffsetY = cy+1;
 13434                        	.line	2010
 13435 03:3780: A5 38        	lda	<L642+cy_0
 13436 03:3782: 1A           	ina
 13437 03:3783: 85 19        	sta	<L643+titleOffsetY_1
 13438                        ;
 13439                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 13440                        ;
 13441                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 13442                        	.line	2014
 13443                        ;	{
 13444 03:3785: 82 1E 00     	brl	L10289
 13445                        	.line	2015
 13446                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 13447                        	.line	2016
 13448 03:3788: D4 40        	pei	<L642+title_0+2
 13449 03:378A: D4 3E        	pei	<L642+title_0
 13450 03:378C: F4 xx xx     	pea	#^L641+124
 13451 03:378F: F4 xx xx     	pea	#<L641+124
 13452 03:3792: 22 xx xx xx  	jsl	~~k_debug_strings
 13453                        ;		return;
 13454                        	.line	2017
 13455                        L645:
 13456 03:3796: A5 2C        	lda	<L642+2
 13457 03:3798: 85 44        	sta	<L642+2+24
 13458 03:379A: A5 2B        	lda	<L642+1
  Wed Nov 18 2020  8:27                                                Page 244


 13459 03:379C: 85 43        	sta	<L642+1+24
 13460 03:379E: 2B           	pld
 13461 03:379F: 3B           	tsc
 13462 03:37A0: 18           	clc
 13463 03:37A1: 69 42 00     	adc	#L642+24
 13464 03:37A4: 1B           	tcs
 13465 03:37A5: 6B           	rtl
 13466                        ;	}
 13467                        	.line	2018
 13468                        ;
 13469                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 13470                        ;
 13471                        ;	if(style & FXWS_THICKFRAME)
 13472                        L10289:
 13473                        	.line	2022
 13474                        ;	{
 13475 03:37A6: A5 34        	lda	<L642+style_0+2
 13476 03:37A8: 29 02 00     	and	#^$20000
 13477 03:37AB: D0 03        	bne	L646
 13478 03:37AD: 82 08 00     	brl	L10290
 13479                        L646:
 13480                        	.line	2023
 13481                        ;		borderWidth = 2;
 13482                        	.line	2024
 13483 03:37B0: A9 02 00     	lda	#$2
 13484 03:37B3: 85 15        	sta	<L643+borderWidth_1
 13485                        ;	}
 13486                        	.line	2025
 13487                        ;	else if(style & FXWS_BORDER)
 13488 03:37B5: 82 21 00     	brl	L10291
 13489                        L10290:
 13490                        	.line	2026
 13491                        ;	{
 13492 03:37B8: A5 34        	lda	<L642+style_0+2
 13493 03:37BA: 29 01 00     	and	#^$10000
 13494 03:37BD: D0 03        	bne	L647
 13495 03:37BF: 82 08 00     	brl	L10292
 13496                        L647:
 13497                        	.line	2027
 13498                        ;		borderWidth = 1;
 13499                        	.line	2028
 13500 03:37C2: A9 01 00     	lda	#$1
 13501 03:37C5: 85 15        	sta	<L643+borderWidth_1
 13502                        ;	}
 13503                        	.line	2029
 13504                        ;	else if(style & FXWS_DLGFRAME)
 13505 03:37C7: 82 0F 00     	brl	L10293
 13506                        L10292:
 13507                        	.line	2030
 13508                        ;	{
 13509 03:37CA: A5 34        	lda	<L642+style_0+2
 13510 03:37CC: 29 04 00     	and	#^$40000
 13511 03:37CF: D0 03        	bne	L648
 13512 03:37D1: 82 05 00     	brl	L10294
 13513                        L648:
 13514                        	.line	2031
 13515                        ;		borderWidth = 4;
  Wed Nov 18 2020  8:27                                                Page 245


 13516                        	.line	2032
 13517 03:37D4: A9 04 00     	lda	#$4
 13518 03:37D7: 85 15        	sta	<L643+borderWidth_1
 13519                        ;	}
 13520                        	.line	2033
 13521                        ;
 13522                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 13523                        L10294:
 13524                        L10293:
 13525                        L10291:
 13526                        	.line	2035
 13527                        ;	{
 13528 03:37D9: A5 32        	lda	<L642+style_0
 13529 03:37DB: 29 04 00     	and	#<$4
 13530 03:37DE: 85 01        	sta	<R0
 13531 03:37E0: 64 03        	stz	<R0+2
 13532 03:37E2: A5 01        	lda	<R0
 13533 03:37E4: C9 04 00     	cmp	#<$4
 13534 03:37E7: D0 05        	bne	L650
 13535 03:37E9: A5 03        	lda	<R0+2
 13536 03:37EB: C9 00 00     	cmp	#^$4
 13537                        L650:
 13538 03:37EE: D0 03        	bne	L651
 13539 03:37F0: 82 1E 00     	brl	L649
 13540                        L651:
 13541 03:37F3: A5 32        	lda	<L642+style_0
 13542 03:37F5: 29 08 00     	and	#<$8
 13543 03:37F8: F0 03        	beq	L652
 13544 03:37FA: 82 14 00     	brl	L649
 13545                        L652:
 13546 03:37FD: A5 32        	lda	<L642+style_0
 13547 03:37FF: 29 20 00     	and	#<$20
 13548 03:3802: F0 03        	beq	L653
 13549 03:3804: 82 0A 00     	brl	L649
 13550                        L653:
 13551 03:3807: A5 32        	lda	<L642+style_0
 13552 03:3809: 29 10 00     	and	#<$10
 13553 03:380C: D0 03        	bne	L654
 13554 03:380E: 82 05 00     	brl	L10295
 13555                        L654:
 13556                        L649:
 13557                        	.line	2036
 13558                        ;		borderTitle = 10;
 13559                        	.line	2037
 13560 03:3811: A9 0A 00     	lda	#$a
 13561 03:3814: 85 13        	sta	<L643+borderTitle_1
 13562                        ;	}
 13563                        	.line	2038
 13564                        ;
 13565                        ;	clientOffsetX = cx + borderWidth;
 13566                        L10295:
 13567                        	.line	2040
 13568 03:3816: 18           	clc
 13569 03:3817: A5 36        	lda	<L642+cx_0
 13570 03:3819: 65 15        	adc	<L643+borderWidth_1
 13571 03:381B: 85 1D        	sta	<L643+clientOffsetX_1
  Wed Nov 18 2020  8:27                                                Page 246


 13572                        ;
 13573                        ;	if(borderTitle)
 13574                        	.line	2042
 13575                        ;		clientOffsetY = cy + borderTitle;
 13576 03:381D: A5 13        	lda	<L643+borderTitle_1
 13577 03:381F: D0 03        	bne	L655
 13578 03:3821: 82 0A 00     	brl	L10296
 13579                        L655:
 13580                        	.line	2043
 13581 03:3824: 18           	clc
 13582 03:3825: A5 38        	lda	<L642+cy_0
 13583 03:3827: 65 13        	adc	<L643+borderTitle_1
 13584 03:3829: 85 1F        	sta	<L643+clientOffsetY_1
 13585                        ;	else
 13586 03:382B: 82 07 00     	brl	L10297
 13587                        L10296:
 13588                        ;		clientOffsetY = cy + borderWidth;
 13589                        	.line	2045
 13590 03:382E: 18           	clc
 13591 03:382F: A5 38        	lda	<L642+cy_0
 13592 03:3831: 65 15        	adc	<L643+borderWidth_1
 13593 03:3833: 85 1F        	sta	<L643+clientOffsetY_1
 13594                        L10297:
 13595                        ;
 13596                        ;	currX = clientOffsetX;
 13597                        	.line	2047
 13598 03:3835: A5 1D        	lda	<L643+clientOffsetX_1
 13599 03:3837: 85 21        	sta	<L643+currX_1
 13600                        ;	currY = clientOffsetY;
 13601                        	.line	2048
 13602 03:3839: A5 1F        	lda	<L643+clientOffsetY_1
 13603 03:383B: 85 23        	sta	<L643+currY_1
 13604                        ;
 13605                        ;	endX = width + cx - borderWidth;
 13606                        	.line	2050
 13607 03:383D: 18           	clc
 13608 03:383E: A5 3C        	lda	<L642+width_0
 13609 03:3840: 65 36        	adc	<L642+cx_0
 13610 03:3842: 85 01        	sta	<R0
 13611 03:3844: 38           	sec
 13612 03:3845: A5 01        	lda	<R0
 13613 03:3847: E5 15        	sbc	<L643+borderWidth_1
 13614 03:3849: 85 25        	sta	<L643+endX_1
 13615                        ;	maxminPos = 0;
 13616                        	.line	2051
 13617 03:384B: 64 27        	stz	<L643+maxminPos_1
 13618                        ;
 13619                        ;
 13620                        ;	/*
 13621                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 13622                        ;	//k_delay(50);
 13623                        ;
 13624                        ;	k_vdma_fill_rect(cx + borderWidth,
 13625                        ;			         cy + (borderTitle + bor
                    derWidth),
 13626                        ;					 //width - borde
                    rWidth - borderWidth + 1,
 13627                        ;					 //height - bord
  Wed Nov 18 2020  8:27                                                Page 247


                    erTitle - borderWidth + 1,
 13628                        ;					 width  - (borde
                    rWidth + fillOffset),
 13629                        ;					 height - (borde
                    rTitle + borderWidth + fillOffset),
 13630                        ;					 bgcolor);
 13631                        ;	*/
 13632                        ;
 13633                        ;	//k_debug_integer("k_vdraw_ui_window:cx:",cx);
 13634                        ;	//k_debug_integer("k_vdraw_ui_window:cy:",cy);
 13635                        ;	//k_debug_integer("k_vdraw_ui_window:width:",wid
                    th);
 13636                        ;	//k_debug_integer("k_vdraw_ui_window:height:",he
                    ight);
 13637                        ;
 13638                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 13639                        	.line	2072
 13640 03:384D: D4 44        	pei	<L642+bgcolor_0
 13641 03:384F: D4 3A        	pei	<L642+height_0
 13642 03:3851: D4 3C        	pei	<L642+width_0
 13643 03:3853: A0 00 00     	ldy	#$0
 13644 03:3856: A5 38        	lda	<L642+cy_0
 13645 03:3858: 10 01        	bpl	L656
 13646 03:385A: 88           	dey
 13647                        L656:
 13648 03:385B: 85 01        	sta	<R0
 13649 03:385D: 84 03        	sty	<R0+2
 13650 03:385F: D4 03        	pei	<R0+2
 13651 03:3861: D4 01        	pei	<R0
 13652 03:3863: A0 00 00     	ldy	#$0
 13653 03:3866: A5 36        	lda	<L642+cx_0
 13654 03:3868: 10 01        	bpl	L657
 13655 03:386A: 88           	dey
 13656                        L657:
 13657 03:386B: 85 05        	sta	<R1
 13658 03:386D: 84 07        	sty	<R1+2
 13659 03:386F: D4 07        	pei	<R1+2
 13660 03:3871: D4 05        	pei	<R1
 13661 03:3873: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 13662                        ;	borderColor = color;
 13663                        	.line	2073
 13664 03:3877: A5 42        	lda	<L642+color_0
 13665 03:3879: 85 11        	sta	<L643+borderColor_1
 13666                        ;	for(i=0;i<borderWidth;i++)
 13667                        	.line	2074
 13668 03:387B: 64 0D        	stz	<L643+i_1
 13669 03:387D: 82 5A 00     	brl	L10301
 13670                        L10300:
 13671                        ;	{
 13672                        	.line	2075
 13673                        ;		if(borderWidth > 2)
 13674                        	.line	2076
 13675                        ;		{
 13676 03:3880: 38           	sec
 13677 03:3881: A9 02 00     	lda	#$2
 13678 03:3884: E5 15        	sbc	<L643+borderWidth_1
 13679 03:3886: 70 03        	bvs	L658
 13680 03:3888: 49 00 80     	eor	#$8000
  Wed Nov 18 2020  8:27                                                Page 248


 13681                        L658:
 13682 03:388B: 10 03        	bpl	L659
 13683 03:388D: 82 1C 00     	brl	L10302
 13684                        L659:
 13685                        	.line	2077
 13686                        ;			borderColor = color;
 13687                        	.line	2078
 13688 03:3890: A5 42        	lda	<L642+color_0
 13689 03:3892: 85 11        	sta	<L643+borderColor_1
 13690                        ;			odd=!odd;
 13691                        	.line	2079
 13692 03:3894: 64 01        	stz	<R0
 13693 03:3896: A5 0F        	lda	<L643+odd_1
 13694 03:3898: F0 03        	beq	L661
 13695 03:389A: 82 02 00     	brl	L660
 13696                        L661:
 13697 03:389D: E6 01        	inc	<R0
 13698                        L660:
 13699 03:389F: A5 01        	lda	<R0
 13700 03:38A1: 85 0F        	sta	<L643+odd_1
 13701                        ;			if(odd)
 13702                        	.line	2080
 13703                        ;			{
 13704 03:38A3: A5 0F        	lda	<L643+odd_1
 13705 03:38A5: D0 03        	bne	L662
 13706 03:38A7: 82 02 00     	brl	L10303
 13707                        L662:
 13708                        	.line	2081
 13709                        ;				borderColor = 0;
 13710                        	.line	2082
 13711 03:38AA: 64 11        	stz	<L643+borderColor_1
 13712                        ;			}
 13713                        	.line	2083
 13714                        ;		}
 13715                        L10303:
 13716                        	.line	2084
 13717                        ;
 13718                        ;		k_draw_rect_slow(cx + i + 0,
 13719                        L10302:
 13720                        	.line	2086
 13721                        ;						 cy + i 
                    + 0,
 13722                        ;						 cx + wi
                    dth  - 0 - i,
 13723                        ;						 cy + he
                    ight - 0 - i,
 13724                        ;						 borderC
                    olor);
 13725 03:38AC: D4 11        	pei	<L643+borderColor_1
 13726 03:38AE: 18           	clc
 13727 03:38AF: A5 38        	lda	<L642+cy_0
 13728 03:38B1: 65 3A        	adc	<L642+height_0
 13729 03:38B3: 85 01        	sta	<R0
 13730 03:38B5: 38           	sec
 13731 03:38B6: A5 01        	lda	<R0
 13732 03:38B8: E5 0D        	sbc	<L643+i_1
 13733 03:38BA: 48           	pha
 13734 03:38BB: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 249


 13735 03:38BC: A5 36        	lda	<L642+cx_0
 13736 03:38BE: 65 3C        	adc	<L642+width_0
 13737 03:38C0: 85 01        	sta	<R0
 13738 03:38C2: 38           	sec
 13739 03:38C3: A5 01        	lda	<R0
 13740 03:38C5: E5 0D        	sbc	<L643+i_1
 13741 03:38C7: 48           	pha
 13742 03:38C8: 18           	clc
 13743 03:38C9: A5 38        	lda	<L642+cy_0
 13744 03:38CB: 65 0D        	adc	<L643+i_1
 13745 03:38CD: 48           	pha
 13746 03:38CE: 18           	clc
 13747 03:38CF: A5 36        	lda	<L642+cx_0
 13748 03:38D1: 65 0D        	adc	<L643+i_1
 13749 03:38D3: 48           	pha
 13750 03:38D4: 22 86 15 03  	jsl	~~k_draw_rect_slow
 13751                        ;
 13752                        ;	}
 13753                        	.line	2092
 13754                        L10298:
 13755 03:38D8: E6 0D        	inc	<L643+i_1
 13756                        L10301:
 13757 03:38DA: 38           	sec
 13758 03:38DB: A5 0D        	lda	<L643+i_1
 13759 03:38DD: E5 15        	sbc	<L643+borderWidth_1
 13760 03:38DF: 70 03        	bvs	L663
 13761 03:38E1: 49 00 80     	eor	#$8000
 13762                        L663:
 13763 03:38E4: 30 03        	bmi	L664
 13764 03:38E6: 82 97 FF     	brl	L10300
 13765                        L664:
 13766                        L10299:
 13767                        ;
 13768                        ;
 13769                        ;
 13770                        ;	if(borderTitle)
 13771                        	.line	2096
 13772                        ;	{
 13773 03:38E9: A5 13        	lda	<L643+borderTitle_1
 13774 03:38EB: D0 03        	bne	L665
 13775 03:38ED: 82 2A 00     	brl	L10304
 13776                        L665:
 13777                        	.line	2097
 13778                        ;		k_vdma_fill_rect(cx,cy,width,borderTitle
                    ,color);
 13779                        	.line	2098
 13780 03:38F0: D4 42        	pei	<L642+color_0
 13781 03:38F2: D4 13        	pei	<L643+borderTitle_1
 13782 03:38F4: D4 3C        	pei	<L642+width_0
 13783 03:38F6: A0 00 00     	ldy	#$0
 13784 03:38F9: A5 38        	lda	<L642+cy_0
 13785 03:38FB: 10 01        	bpl	L666
 13786 03:38FD: 88           	dey
 13787                        L666:
 13788 03:38FE: 85 01        	sta	<R0
 13789 03:3900: 84 03        	sty	<R0+2
 13790 03:3902: D4 03        	pei	<R0+2
 13791 03:3904: D4 01        	pei	<R0
  Wed Nov 18 2020  8:27                                                Page 250


 13792 03:3906: A0 00 00     	ldy	#$0
 13793 03:3909: A5 36        	lda	<L642+cx_0
 13794 03:390B: 10 01        	bpl	L667
 13795 03:390D: 88           	dey
 13796                        L667:
 13797 03:390E: 85 05        	sta	<R1
 13798 03:3910: 84 07        	sty	<R1+2
 13799 03:3912: D4 07        	pei	<R1+2
 13800 03:3914: D4 05        	pei	<R1
 13801 03:3916: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 13802                        ;	}
 13803                        	.line	2099
 13804                        ;
 13805                        ;	k_get_font_metrics(&metric);
 13806                        L10304:
 13807                        	.line	2101
 13808 03:391A: F4 00 00     	pea	#0
 13809 03:391D: 18           	clc
 13810 03:391E: 7B           	tdc
 13811 03:391F: 69 09 00     	adc	#<L643+metric_1
 13812 03:3922: 48           	pha
 13813 03:3923: 22 BF 17 03  	jsl	~~k_get_font_metrics
 13814                        ;	
 13815                        ;	
 13816                        ;	//title = strupr(title);
 13817                        ;	
 13818                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 13819                        ;
 13820                        ;	if(style & FXWS_SYSMENU)
 13821                        	.line	2108
 13822                        ;	{
 13823 03:3927: A5 32        	lda	<L642+style_0
 13824 03:3929: 29 08 00     	and	#<$8
 13825 03:392C: D0 03        	bne	L668
 13826 03:392E: 82 19 00     	brl	L10305
 13827                        L668:
 13828                        	.line	2109
 13829                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 13830                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetColo
                    r());
 13831                        	.line	2111
 13832 03:3931: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 13833 03:3935: 48           	pha
 13834 03:3936: D4 19        	pei	<L643+titleOffsetY_1
 13835 03:3938: D4 17        	pei	<L643+titleOffsetX_1
 13836 03:393A: F4 06 00     	pea	#<$6
 13837 03:393D: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13838 03:3941: 85 01        	sta	<R0
 13839 03:3943: 18           	clc
 13840 03:3944: A5 01        	lda	<R0
 13841 03:3946: 65 17        	adc	<L643+titleOffsetX_1
 13842 03:3948: 85 17        	sta	<L643+titleOffsetX_1
 13843                        ;	}
 13844                        	.line	2112
 13845                        ;	
  Wed Nov 18 2020  8:27                                                Page 251


 13846                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 13847                        L10305:
 13848                        	.line	2114
 13849                        ;	{
 13850 03:394A: A5 32        	lda	<L642+style_0
 13851 03:394C: 29 04 00     	and	#<$4
 13852 03:394F: 85 01        	sta	<R0
 13853 03:3951: 64 03        	stz	<R0+2
 13854 03:3953: A5 01        	lda	<R0
 13855 03:3955: C9 04 00     	cmp	#<$4
 13856 03:3958: D0 05        	bne	L669
 13857 03:395A: A5 03        	lda	<R0+2
 13858 03:395C: C9 00 00     	cmp	#^$4
 13859                        L669:
 13860 03:395F: F0 03        	beq	L670
 13861 03:3961: 82 41 00     	brl	L10306
 13862                        L670:
 13863                        	.line	2115
 13864                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 13865                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 13866                        ;		titleScaler = (int)(width / metric.width
                     -1 );
 13867                        	.line	2118
 13868 03:3964: A5 3C        	lda	<L642+width_0
 13869 03:3966: A6 09        	ldx	<L643+metric_1
 13870                        	xref	~~~div
 13871 03:3968: 22 xx xx xx  	jsl	~~~div
 13872 03:396C: 85 01        	sta	<R0
 13873 03:396E: 18           	clc
 13874 03:396F: A9 FF FF     	lda	#$ffff
 13875 03:3972: 65 01        	adc	<R0
 13876 03:3974: 85 1B        	sta	<L643+titleScaler_1
 13877                        ;		for(i=0;i<titleScaler;i++)
 13878                        	.line	2119
 13879 03:3976: 64 0D        	stz	<L643+i_1
 13880 03:3978: 82 1B 00     	brl	L10310
 13881                        L10309:
 13882                        ;		{
 13883                        	.line	2120
 13884                        ;			titleOffsetX+=k_put_wingadget_po
                    int(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUIGad
                    getColor());
 13885                        	.line	2121
 13886 03:397B: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 13887 03:397F: 48           	pha
 13888 03:3980: D4 19        	pei	<L643+titleOffsetY_1
 13889 03:3982: D4 17        	pei	<L643+titleOffsetX_1
 13890 03:3984: F4 01 00     	pea	#<$1
 13891 03:3987: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13892 03:398B: 85 01        	sta	<R0
 13893 03:398D: 18           	clc
 13894 03:398E: A5 01        	lda	<R0
 13895 03:3990: 65 17        	adc	<L643+titleOffsetX_1
 13896 03:3992: 85 17        	sta	<L643+titleOffsetX_1
 13897                        ;		}
 13898                        	.line	2122
  Wed Nov 18 2020  8:27                                                Page 252


 13899                        L10307:
 13900 03:3994: E6 0D        	inc	<L643+i_1
 13901                        L10310:
 13902 03:3996: 38           	sec
 13903 03:3997: A5 0D        	lda	<L643+i_1
 13904 03:3999: E5 1B        	sbc	<L643+titleScaler_1
 13905 03:399B: 70 03        	bvs	L671
 13906 03:399D: 49 00 80     	eor	#$8000
 13907                        L671:
 13908 03:39A0: 30 03        	bmi	L672
 13909 03:39A2: 82 D6 FF     	brl	L10309
 13910                        L672:
 13911                        L10308:
 13912                        ;	}
 13913                        	.line	2123
 13914                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 13915                        ;	//titleOffsetX+=2;
 13916                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 13917                        ;	
 13918                        ;	if(style & FXWS_MAXIMIZEBOX)
 13919                        L10306:
 13920                        	.line	2128
 13921                        ;	{
 13922 03:39A5: A5 32        	lda	<L642+style_0
 13923 03:39A7: 29 10 00     	and	#<$10
 13924 03:39AA: D0 03        	bne	L673
 13925 03:39AC: 82 33 00     	brl	L10311
 13926                        L673:
 13927                        	.line	2129
 13928                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 13929                        ;		maxminPos+=metric.width;
 13930                        	.line	2131
 13931 03:39AF: 18           	clc
 13932 03:39B0: A5 27        	lda	<L643+maxminPos_1
 13933 03:39B2: 65 09        	adc	<L643+metric_1
 13934 03:39B4: 85 27        	sta	<L643+maxminPos_1
 13935                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 13936                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 13937                        ;
 13938                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 13939                        	.line	2135
 13940 03:39B6: 22 DB 0B 03  	jsl	~~k_getUIWindowBorderColor
 13941 03:39BA: 48           	pha
 13942 03:39BB: D4 19        	pei	<L643+titleOffsetY_1
 13943 03:39BD: 38           	sec
 13944 03:39BE: A5 25        	lda	<L643+endX_1
 13945 03:39C0: E5 27        	sbc	<L643+maxminPos_1
 13946 03:39C2: 48           	pha
 13947 03:39C3: F4 00 00     	pea	#<$0
 13948 03:39C6: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
  Wed Nov 18 2020  8:27                                                Page 253


 13949                        ;		k_put_wingadget_point(WINICON_TITLE_FRON
                    T,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 13950                        	.line	2136
 13951 03:39CA: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 13952 03:39CE: 48           	pha
 13953 03:39CF: D4 19        	pei	<L643+titleOffsetY_1
 13954 03:39D1: 38           	sec
 13955 03:39D2: A5 25        	lda	<L643+endX_1
 13956 03:39D4: E5 27        	sbc	<L643+maxminPos_1
 13957 03:39D6: 48           	pha
 13958 03:39D7: F4 03 00     	pea	#<$3
 13959 03:39DA: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13960                        ;
 13961                        ;		maxminPos+=2;
 13962                        	.line	2138
 13963 03:39DE: E6 27        	inc	<L643+maxminPos_1
 13964 03:39E0: E6 27        	inc	<L643+maxminPos_1
 13965                        ;	}
 13966                        	.line	2139
 13967                        ;
 13968                        ;	if(style & FXWS_MINIMIZEBOX)
 13969                        L10311:
 13970                        	.line	2141
 13971                        ;	{
 13972 03:39E2: A5 32        	lda	<L642+style_0
 13973 03:39E4: 29 20 00     	and	#<$20
 13974 03:39E7: D0 03        	bne	L674
 13975 03:39E9: 82 33 00     	brl	L10312
 13976                        L674:
 13977                        	.line	2142
 13978                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 13979                        ;		maxminPos+=metric.width;
 13980                        	.line	2144
 13981 03:39EC: 18           	clc
 13982 03:39ED: A5 27        	lda	<L643+maxminPos_1
 13983 03:39EF: 65 09        	adc	<L643+metric_1
 13984 03:39F1: 85 27        	sta	<L643+maxminPos_1
 13985                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 13986                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 13987                        ;
 13988                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 13989                        	.line	2148
 13990 03:39F3: 22 DB 0B 03  	jsl	~~k_getUIWindowBorderColor
 13991 03:39F7: 48           	pha
 13992 03:39F8: D4 19        	pei	<L643+titleOffsetY_1
 13993 03:39FA: 38           	sec
 13994 03:39FB: A5 25        	lda	<L643+endX_1
 13995 03:39FD: E5 27        	sbc	<L643+maxminPos_1
 13996 03:39FF: 48           	pha
 13997 03:3A00: F4 00 00     	pea	#<$0
 13998 03:3A03: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 13999                        ;		k_put_wingadget_point(WINICON_TITLE_BACK
  Wed Nov 18 2020  8:27                                                Page 254


                    ,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 14000                        	.line	2149
 14001 03:3A07: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 14002 03:3A0B: 48           	pha
 14003 03:3A0C: D4 19        	pei	<L643+titleOffsetY_1
 14004 03:3A0E: 38           	sec
 14005 03:3A0F: A5 25        	lda	<L643+endX_1
 14006 03:3A11: E5 27        	sbc	<L643+maxminPos_1
 14007 03:3A13: 48           	pha
 14008 03:3A14: F4 04 00     	pea	#<$4
 14009 03:3A17: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14010                        ;
 14011                        ;		maxminPos+=2;
 14012                        	.line	2151
 14013 03:3A1B: E6 27        	inc	<L643+maxminPos_1
 14014 03:3A1D: E6 27        	inc	<L643+maxminPos_1
 14015                        ;	}
 14016                        	.line	2152
 14017                        ;
 14018                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 14019                        L10312:
 14020                        	.line	2154
 14021                        ;	{
 14022 03:3A1F: A5 32        	lda	<L642+style_0
 14023 03:3A21: 29 04 00     	and	#<$4
 14024 03:3A24: 85 01        	sta	<R0
 14025 03:3A26: 64 03        	stz	<R0+2
 14026 03:3A28: A5 01        	lda	<R0
 14027 03:3A2A: C9 04 00     	cmp	#<$4
 14028 03:3A2D: D0 05        	bne	L675
 14029 03:3A2F: A5 03        	lda	<R0+2
 14030 03:3A31: C9 00 00     	cmp	#^$4
 14031                        L675:
 14032 03:3A34: F0 03        	beq	L676
 14033 03:3A36: 82 68 00     	brl	L10313
 14034                        L676:
 14035                        	.line	2155
 14036                        ;
 14037                        ;		for(i=0;i<=strlen(title);i++)
 14038                        	.line	2157
 14039 03:3A39: 64 0D        	stz	<L643+i_1
 14040 03:3A3B: 82 2C 00     	brl	L10317
 14041                        L10316:
 14042                        ;		{
 14043                        	.line	2158
 14044                        ;			k_put_wingadget_point(WINICON_BL
                    OCK,cx+borderWidth+metric.width+(metric.width*i),titleOffset
                    Y,15);
 14045                        	.line	2159
 14046 03:3A3E: F4 0F 00     	pea	#<$f
 14047 03:3A41: D4 19        	pei	<L643+titleOffsetY_1
 14048 03:3A43: A5 09        	lda	<L643+metric_1
 14049 03:3A45: A6 0D        	ldx	<L643+i_1
 14050                        	xref	~~~mul
 14051 03:3A47: 22 xx xx xx  	jsl	~~~mul
 14052 03:3A4B: 85 01        	sta	<R0
 14053 03:3A4D: 18           	clc
 14054 03:3A4E: A5 01        	lda	<R0
  Wed Nov 18 2020  8:27                                                Page 255


 14055 03:3A50: 65 36        	adc	<L642+cx_0
 14056 03:3A52: 85 05        	sta	<R1
 14057 03:3A54: 18           	clc
 14058 03:3A55: A5 05        	lda	<R1
 14059 03:3A57: 65 15        	adc	<L643+borderWidth_1
 14060 03:3A59: 85 01        	sta	<R0
 14061 03:3A5B: 18           	clc
 14062 03:3A5C: A5 01        	lda	<R0
 14063 03:3A5E: 65 09        	adc	<L643+metric_1
 14064 03:3A60: 48           	pha
 14065 03:3A61: F4 00 00     	pea	#<$0
 14066 03:3A64: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14067                        ;		}
 14068                        	.line	2160
 14069                        L10314:
 14070 03:3A68: E6 0D        	inc	<L643+i_1
 14071                        L10317:
 14072 03:3A6A: D4 40        	pei	<L642+title_0+2
 14073 03:3A6C: D4 3E        	pei	<L642+title_0
 14074 03:3A6E: 22 xx xx xx  	jsl	~~strlen
 14075 03:3A72: 85 01        	sta	<R0
 14076 03:3A74: A5 01        	lda	<R0
 14077 03:3A76: C5 0D        	cmp	<L643+i_1
 14078 03:3A78: 90 03        	bcc	L677
 14079 03:3A7A: 82 C1 FF     	brl	L10316
 14080                        L677:
 14081                        L10315:
 14082                        ;		k_draw_text_point(title,cx+(borderWidth 
                    + 3)+metric.width,titleOffsetY,k_getUIGadgetColor());
 14083                        	.line	2161
 14084 03:3A7D: 22 1A 0C 03  	jsl	~~k_getUIGadgetColor
 14085 03:3A81: 48           	pha
 14086 03:3A82: D4 19        	pei	<L643+titleOffsetY_1
 14087 03:3A84: 18           	clc
 14088 03:3A85: A5 36        	lda	<L642+cx_0
 14089 03:3A87: 65 15        	adc	<L643+borderWidth_1
 14090 03:3A89: 85 01        	sta	<R0
 14091 03:3A8B: 18           	clc
 14092 03:3A8C: A5 01        	lda	<R0
 14093 03:3A8E: 65 09        	adc	<L643+metric_1
 14094 03:3A90: 85 05        	sta	<R1
 14095 03:3A92: 18           	clc
 14096 03:3A93: A9 03 00     	lda	#$3
 14097 03:3A96: 65 05        	adc	<R1
 14098 03:3A98: 48           	pha
 14099 03:3A99: D4 40        	pei	<L642+title_0+2
 14100 03:3A9B: D4 3E        	pei	<L642+title_0
 14101 03:3A9D: 22 6C 16 03  	jsl	~~k_draw_text_point
 14102                        ;	}
 14103                        	.line	2162
 14104                        ;
 14105                        ;	pWin->clientRect.x = clientOffsetX;
 14106                        L10313:
 14107                        	.line	2164
 14108 03:3AA1: A5 1D        	lda	<L643+clientOffsetX_1
 14109 03:3AA3: A0 18 00     	ldy	#$18
 14110 03:3AA6: 97 2E        	sta	[<L642+pWin_0],Y
 14111                        ;	pWin->clientRect.y = clientOffsetY;
  Wed Nov 18 2020  8:27                                                Page 256


 14112                        	.line	2165
 14113 03:3AA8: A5 1F        	lda	<L643+clientOffsetY_1
 14114 03:3AAA: A0 1A 00     	ldy	#$1a
 14115 03:3AAD: 97 2E        	sta	[<L642+pWin_0],Y
 14116                        ;	pWin->clientRect.width = (width - (2*borderWidth
                    ));
 14117                        	.line	2166
 14118 03:3AAF: A5 15        	lda	<L643+borderWidth_1
 14119 03:3AB1: 0A           	asl	A
 14120 03:3AB2: 85 01        	sta	<R0
 14121 03:3AB4: 38           	sec
 14122 03:3AB5: A5 3C        	lda	<L642+width_0
 14123 03:3AB7: E5 01        	sbc	<R0
 14124 03:3AB9: A0 1C 00     	ldy	#$1c
 14125 03:3ABC: 97 2E        	sta	[<L642+pWin_0],Y
 14126                        ;	pWin->clientRect.height = (height - clientOffset
                    Y - borderWidth); ;
 14127                        	.line	2167
 14128 03:3ABE: 38           	sec
 14129 03:3ABF: A5 3A        	lda	<L642+height_0
 14130 03:3AC1: E5 1F        	sbc	<L643+clientOffsetY_1
 14131 03:3AC3: 85 01        	sta	<R0
 14132 03:3AC5: 38           	sec
 14133 03:3AC6: A5 01        	lda	<R0
 14134 03:3AC8: E5 15        	sbc	<L643+borderWidth_1
 14135 03:3ACA: A0 1E 00     	ldy	#$1e
 14136 03:3ACD: 97 2E        	sta	[<L642+pWin_0],Y
 14137                        	.line	2167
 14138                        ;
 14139                        ;	k_debug_strings("k_vdraw_ui_window:","exit");
 14140                        	.line	2169
 14141 03:3ACF: F4 xx xx     	pea	#^L641+177
 14142 03:3AD2: F4 xx xx     	pea	#<L641+177
 14143 03:3AD5: F4 xx xx     	pea	#^L641+158
 14144 03:3AD8: F4 xx xx     	pea	#<L641+158
 14145 03:3ADB: 22 xx xx xx  	jsl	~~k_debug_strings
 14146                        ;}
 14147                        	.line	2170
 14148 03:3ADF: 82 B4 FC     	brl	L645
 14149                        	.endblock	2170
 14150             0000002A   L642	equ	42
 14151             00000009   L643	equ	9
 14152 03:3AE2:              	ends
 14153                        	efunc
 14154                        	.endfunc	2170,9,42
 14155                        	.line	2170
 14156                        	data
 14157                        L641:
 14158 00:0412: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0416: 72 61 77 5F 
       00:041A: 75 69 5F 77 
       00:041E: 69 6E 64 
 14159 00:0421: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$49,$53,$20,$43,$48,$49,
                    $4C,$44,$3A,$00,$6B
       00:0425: 49 53 20 43 
       00:0429: 48 49 4C 44 
       00:042D: 3A 00 6B 
  Wed Nov 18 2020  8:27                                                Page 257


 14160 00:0430: 5F 76 64 72  	db	$5F,$76,$64,$72,$61,$77,$5F,$75,$69,$5F,
                    $77,$69,$6E,$64,$6F
       00:0434: 61 77 5F 75 
       00:0438: 69 5F 77 69 
       00:043C: 6E 64 6F 
 14161 00:043F: 77 3A 63 78  	db	$77,$3A,$63,$78,$3A,$00,$6B,$5F,$76,$64,
                    $72,$61,$77,$5F,$75
       00:0443: 3A 00 6B 5F 
       00:0447: 76 64 72 61 
       00:044B: 77 5F 75 
 14162 00:044E: 69 5F 77 69  	db	$69,$5F,$77,$69,$6E,$64,$6F,$77,$3A,$63,
                    $79,$3A,$00,$6B,$5F
       00:0452: 6E 64 6F 77 
       00:0456: 3A 63 79 3A 
       00:045A: 00 6B 5F 
 14163 00:045D: 76 64 72 61  	db	$76,$64,$72,$61,$77,$5F,$75,$69,$5F,$77,
                    $69,$6E,$64,$6F,$77
       00:0461: 77 5F 75 69 
       00:0465: 5F 77 69 6E 
       00:0469: 64 6F 77 
 14164 00:046C: 3A 77 69 64  	db	$3A,$77,$69,$64,$74,$68,$3A,$00,$6B,$5F,
                    $76,$64,$72,$61,$77
       00:0470: 74 68 3A 00 
       00:0474: 6B 5F 76 64 
       00:0478: 72 61 77 
 14165 00:047B: 5F 75 69 5F  	db	$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,
                    $3A,$68,$65,$69,$67
       00:047F: 77 69 6E 64 
       00:0483: 6F 77 3A 68 
       00:0487: 65 69 67 
 14166 00:048A: 68 74 3A 00  	db	$68,$74,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:048E: 6B 5F 76 64 
       00:0492: 72 61 77 5F 
       00:0496: 75 69 5F 
 14167 00:0499: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$4E,$4F,
                    $54,$20,$52,$45,$4E
       00:049D: 6F 77 3A 3A 
       00:04A1: 4E 4F 54 20 
       00:04A5: 52 45 4E 
 14168 00:04A8: 44 45 52 49  	db	$44,$45,$52,$49,$4E,$47,$3A,$00,$6B,$5F,
                    $76,$64,$72,$61,$77
       00:04AC: 4E 47 3A 00 
       00:04B0: 6B 5F 76 64 
       00:04B4: 72 61 77 
 14169 00:04B7: 5F 75 69 5F  	db	$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,
                    $3A,$00,$65,$78,$69
       00:04BB: 77 69 6E 64 
       00:04BF: 6F 77 3A 00 
       00:04C3: 65 78 69 
 14170 00:04C6: 74 00        	db	$74,$00
 14171 00:04C8:              	ends
 14172                        ;
 14173                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 14174                        ;{
 14175                        	.line	2172
 14176                        	.line	2173
  Wed Nov 18 2020  8:27                                                Page 258


 14177                        	GUI
 14178                        	xdef	~~k_draw_menu
 14179                        	func
 14180                        	.function	2173
 14181                        ~~k_draw_menu:
 14182                        	longa	on
 14183                        	longi	on
 14184 03:3AE2: 3B           	tsc
 14185 03:3AE3: 38           	sec
 14186 03:3AE4: E9 1E 00     	sbc	#L679
 14187 03:3AE7: 1B           	tcs
 14188 03:3AE8: 0B           	phd
 14189 03:3AE9: 5B           	tcd
 14190             00000004   hMenu_0	set	4
 14191             00000008   color_0	set	8
 14192             0000000A   bgcolor_0	set	10
 14193                        	.block	2173
 14194                        ;	FONTMETRIC metric;
 14195                        ;
 14196                        ;	int i = 0;
 14197                        ;
 14198                        ;	int borderTitle = 10;
 14199                        ;	int borderWidth = 3;
 14200                        ;
 14201                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 14202                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 14203                        ;	int titleScaler = 0;
 14204                        ;
 14205                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 14206                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 14207                        ;
 14208                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
 14209                        ;
 14210                        ;
 14211                        ;	k_get_font_metrics(&metric);
 14212             00000000   metric_1	set	0
 14213             00000004   i_1	set	4
 14214             00000006   borderTitle_1	set	6
 14215             00000008   borderWidth_1	set	8
 14216             0000000A   titleOffsetX_1	set	10
 14217             0000000C   titleOffsetY_1	set	12
 14218             0000000E   titleScaler_1	set	14
 14219             00000010   clientOffsetX_1	set	16
 14220             00000012   clientOffsetY_1	set	18
 14221             00000014   endX_1	set	20
 14222                        	.sym	metric,0,10,1,32,29
 14223                        	.sym	i,4,5,1,16
 14224                        	.sym	borderTitle,6,5,1,16
 14225                        	.sym	borderWidth,8,5,1,16
 14226                        	.sym	titleOffsetX,10,5,1,16
 14227                        	.sym	titleOffsetY,12,5,1,16
 14228                        	.sym	titleScaler,14,5,1,16
 14229                        	.sym	clientOffsetX,16,5,1,16
 14230                        	.sym	clientOffsetY,18,5,1,16
 14231                        	.sym	endX,20,5,1,16
  Wed Nov 18 2020  8:27                                                Page 259


 14232                        	.sym	hMenu,4,129,6,32
 14233                        	.sym	color,8,5,6,16
 14234                        	.sym	bgcolor,10,5,6,16
 14235 03:3AEA: 64 0D        	stz	<L680+i_1
 14236 03:3AEC: A9 0A 00     	lda	#$a
 14237 03:3AEF: 85 0F        	sta	<L680+borderTitle_1
 14238 03:3AF1: A9 03 00     	lda	#$3
 14239 03:3AF4: 85 11        	sta	<L680+borderWidth_1
 14240 03:3AF6: 18           	clc
 14241 03:3AF7: A9 02 00     	lda	#$2
 14242 03:3AFA: 67 22        	adc	[<L679+hMenu_0]
 14243 03:3AFC: 85 13        	sta	<L680+titleOffsetX_1
 14244 03:3AFE: 18           	clc
 14245 03:3AFF: A9 02 00     	lda	#$2
 14246 03:3B02: A0 02 00     	ldy	#$2
 14247 03:3B05: 77 22        	adc	[<L679+hMenu_0],Y
 14248 03:3B07: 85 15        	sta	<L680+titleOffsetY_1
 14249 03:3B09: 64 17        	stz	<L680+titleScaler_1
 14250 03:3B0B: 18           	clc
 14251 03:3B0C: A7 22        	lda	[<L679+hMenu_0]
 14252 03:3B0E: 65 11        	adc	<L680+borderWidth_1
 14253 03:3B10: 85 01        	sta	<R0
 14254 03:3B12: 18           	clc
 14255 03:3B13: A9 02 00     	lda	#$2
 14256 03:3B16: 65 01        	adc	<R0
 14257 03:3B18: 85 19        	sta	<L680+clientOffsetX_1
 14258 03:3B1A: 18           	clc
 14259 03:3B1B: A0 02 00     	ldy	#$2
 14260 03:3B1E: B7 22        	lda	[<L679+hMenu_0],Y
 14261 03:3B20: 65 0F        	adc	<L680+borderTitle_1
 14262 03:3B22: 85 01        	sta	<R0
 14263 03:3B24: A5 01        	lda	<R0
 14264 03:3B26: 1A           	ina
 14265 03:3B27: 85 1B        	sta	<L680+clientOffsetY_1
 14266 03:3B29: 18           	clc
 14267 03:3B2A: A0 04 00     	ldy	#$4
 14268 03:3B2D: B7 22        	lda	[<L679+hMenu_0],Y
 14269 03:3B2F: 67 22        	adc	[<L679+hMenu_0]
 14270 03:3B31: 85 01        	sta	<R0
 14271 03:3B33: 38           	sec
 14272 03:3B34: A5 01        	lda	<R0
 14273 03:3B36: E5 11        	sbc	<L680+borderWidth_1
 14274 03:3B38: 85 1D        	sta	<L680+endX_1
 14275                        	.line	2191
 14276 03:3B3A: F4 00 00     	pea	#0
 14277 03:3B3D: 18           	clc
 14278 03:3B3E: 7B           	tdc
 14279 03:3B3F: 69 09 00     	adc	#<L680+metric_1
 14280 03:3B42: 48           	pha
 14281 03:3B43: 22 BF 17 03  	jsl	~~k_get_font_metrics
 14282                        ;
 14283                        ;
 14284                        ;	//int height = 0;
 14285                        ;	/*
 14286                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 14287                        ;	memset(menu,0,sizeof(MENU));
 14288                        ;
  Wed Nov 18 2020  8:27                                                Page 260


 14289                        ;	menu->cx = cx;
 14290                        ;	menu->cy = cy;
 14291                        ;	menu->fcolor = color;
 14292                        ;	menu->bcolor = bgcolor;
 14293                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 14294                        ;
 14295                        ;	k_get_font_metrics(&metric);
 14296                        ;
 14297                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 14298                        ;
 14299                        ;	menu->height = height;
 14300                        ;	menu->width  = width;
 14301                        ;
 14302                        ;
 14303                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 14304                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 14305                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 14306                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 14307                        ;	*/
 14308                        ;
 14309                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 14310                        ;
 14311                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 14312                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 14313                        	.line	2222
 14314 03:3B47: D4 26        	pei	<L679+color_0
 14315 03:3B49: A0 06 00     	ldy	#$6
 14316 03:3B4C: B7 22        	lda	[<L679+hMenu_0],Y
 14317 03:3B4E: 48           	pha
 14318 03:3B4F: A0 04 00     	ldy	#$4
 14319 03:3B52: B7 22        	lda	[<L679+hMenu_0],Y
 14320 03:3B54: 48           	pha
 14321 03:3B55: A0 00 00     	ldy	#$0
 14322 03:3B58: 5A           	phy
 14323 03:3B59: A0 02 00     	ldy	#$2
 14324 03:3B5C: B7 22        	lda	[<L679+hMenu_0],Y
 14325 03:3B5E: 7A           	ply
 14326 03:3B5F: 2A           	rol	A
 14327 03:3B60: 6A           	ror	A
 14328 03:3B61: 10 01        	bpl	L682
 14329 03:3B63: 88           	dey
 14330                        L682:
 14331 03:3B64: 85 01        	sta	<R0
 14332 03:3B66: 84 03        	sty	<R0+2
 14333 03:3B68: D4 03        	pei	<R0+2
 14334 03:3B6A: D4 01        	pei	<R0
 14335 03:3B6C: A0 00 00     	ldy	#$0
 14336 03:3B6F: A7 22        	lda	[<L679+hMenu_0]
 14337 03:3B71: 10 01        	bpl	L683
 14338 03:3B73: 88           	dey
  Wed Nov 18 2020  8:27                                                Page 261


 14339                        L683:
 14340 03:3B74: 85 05        	sta	<R1
 14341 03:3B76: 84 07        	sty	<R1+2
 14342 03:3B78: D4 07        	pei	<R1+2
 14343 03:3B7A: D4 05        	pei	<R1
 14344 03:3B7C: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 14345                        ;
 14346                        ;	//k_delay(15);
 14347                        ;
 14348                        ;	//title = strupr(title);
 14349                        ;
 14350                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 14351                        ;	/*
 14352                        ;	titleScaler = (int)(width / metric.width - 4);
 14353                        ;	for(i=0;i<titleScaler;i++)
 14354                        ;	{
 14355                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 14356                        ;	}*/
 14357                        ;
 14358                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 14359                        	.line	2236
 14360 03:3B80: F4 0E 00     	pea	#<$e
 14361 03:3B83: D4 15        	pei	<L680+titleOffsetY_1
 14362 03:3B85: A5 09        	lda	<L680+metric_1
 14363 03:3B87: 0A           	asl	A
 14364 03:3B88: 85 01        	sta	<R0
 14365 03:3B8A: 18           	clc
 14366 03:3B8B: A9 02 00     	lda	#$2
 14367 03:3B8E: 65 01        	adc	<R0
 14368 03:3B90: 85 05        	sta	<R1
 14369 03:3B92: 38           	sec
 14370 03:3B93: A5 1D        	lda	<L680+endX_1
 14371 03:3B95: E5 05        	sbc	<R1
 14372 03:3B97: 48           	pha
 14373 03:3B98: F4 04 00     	pea	#<$4
 14374 03:3B9B: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14375                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 14376                        	.line	2237
 14377 03:3B9F: F4 0E 00     	pea	#<$e
 14378 03:3BA2: D4 15        	pei	<L680+titleOffsetY_1
 14379 03:3BA4: 38           	sec
 14380 03:3BA5: A5 1D        	lda	<L680+endX_1
 14381 03:3BA7: E5 09        	sbc	<L680+metric_1
 14382 03:3BA9: 48           	pha
 14383 03:3BAA: F4 03 00     	pea	#<$3
 14384 03:3BAD: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14385                        ;
 14386                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 14387                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 14388                        ;
  Wed Nov 18 2020  8:27                                                Page 262


 14389                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 14390                        	.line	2242
 14391 03:3BB1: D4 28        	pei	<L679+bgcolor_0
 14392 03:3BB3: D4 15        	pei	<L680+titleOffsetY_1
 14393 03:3BB5: 18           	clc
 14394 03:3BB6: A7 22        	lda	[<L679+hMenu_0]
 14395 03:3BB8: 65 09        	adc	<L680+metric_1
 14396 03:3BBA: 85 01        	sta	<R0
 14397 03:3BBC: 18           	clc
 14398 03:3BBD: A9 02 00     	lda	#$2
 14399 03:3BC0: 65 01        	adc	<R0
 14400 03:3BC2: 48           	pha
 14401 03:3BC3: A0 11 00     	ldy	#$11
 14402 03:3BC6: B7 22        	lda	[<L679+hMenu_0],Y
 14403 03:3BC8: 48           	pha
 14404 03:3BC9: A0 0F 00     	ldy	#$f
 14405 03:3BCC: B7 22        	lda	[<L679+hMenu_0],Y
 14406 03:3BCE: 48           	pha
 14407 03:3BCF: 22 6C 16 03  	jsl	~~k_draw_text_point
 14408 03:3BD3: 85 0D        	sta	<L680+i_1
 14409                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 14410                        ;
 14411                        ;
 14412                        ;	return NULL;
 14413                        	.line	2246
 14414 03:3BD5: A9 00 00     	lda	#$0
 14415 03:3BD8: AA           	tax
 14416 03:3BD9: A9 00 00     	lda	#$0
 14417                        L684:
 14418 03:3BDC: A8           	tay
 14419 03:3BDD: A5 20        	lda	<L679+2
 14420 03:3BDF: 85 28        	sta	<L679+2+8
 14421 03:3BE1: A5 1F        	lda	<L679+1
 14422 03:3BE3: 85 27        	sta	<L679+1+8
 14423 03:3BE5: 2B           	pld
 14424 03:3BE6: 3B           	tsc
 14425 03:3BE7: 18           	clc
 14426 03:3BE8: 69 26 00     	adc	#L679+8
 14427 03:3BEB: 1B           	tcs
 14428 03:3BEC: 98           	tya
 14429 03:3BED: 6B           	rtl
 14430                        ;}
 14431                        	.line	2247
 14432                        	.endblock	2247
 14433             0000001E   L679	equ	30
 14434             00000009   L680	equ	9
 14435 03:3BEE:              	ends
 14436                        	efunc
 14437                        	.endfunc	2247,9,30
 14438                        	.line	2247
 14439                        ;
 14440                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 14441                        ;{
 14442                        	.line	2249
 14443                        	.line	2250
  Wed Nov 18 2020  8:27                                                Page 263


 14444                        	GUI
 14445                        	xdef	~~k_vdraw_ui_menu
 14446                        	func
 14447                        	.function	2250
 14448                        ~~k_vdraw_ui_menu:
 14449                        	longa	on
 14450                        	longi	on
 14451 03:3BEE: 3B           	tsc
 14452 03:3BEF: 38           	sec
 14453 03:3BF0: E9 1E 00     	sbc	#L685
 14454 03:3BF3: 1B           	tcs
 14455 03:3BF4: 0B           	phd
 14456 03:3BF5: 5B           	tcd
 14457             00000004   cx_0	set	4
 14458             00000006   cy_0	set	6
 14459             00000008   width_0	set	8
 14460             0000000A   height_0	set	10
 14461             0000000C   title_0	set	12
 14462             00000010   color_0	set	16
 14463             00000012   bgcolor_0	set	18
 14464                        	.block	2250
 14465                        ;	FONTMETRIC metric;
 14466                        ;	
 14467                        ;	int i = 0;
 14468                        ;	
 14469                        ;	int borderTitle = 10;
 14470                        ;	int borderWidth = 3;
 14471                        ;
 14472                        ;	int titleOffsetX = cx+2;
 14473                        ;	int titleOffsetY = cy+2;
 14474                        ;	int titleScaler = 0;
 14475                        ;	
 14476                        ;	int clientOffsetX = cx+borderWidth+2;
 14477                        ;	int clientOffsetY = cy+borderTitle+1;
 14478                        ;	
 14479                        ;	int endX = width + cx - borderWidth;
 14480                        ;	
 14481                        ;
 14482                        ;	k_get_font_metrics(&metric);
 14483             00000000   metric_1	set	0
 14484             00000004   i_1	set	4
 14485             00000006   borderTitle_1	set	6
 14486             00000008   borderWidth_1	set	8
 14487             0000000A   titleOffsetX_1	set	10
 14488             0000000C   titleOffsetY_1	set	12
 14489             0000000E   titleScaler_1	set	14
 14490             00000010   clientOffsetX_1	set	16
 14491             00000012   clientOffsetY_1	set	18
 14492             00000014   endX_1	set	20
 14493                        	.sym	metric,0,10,1,32,29
 14494                        	.sym	i,4,5,1,16
 14495                        	.sym	borderTitle,6,5,1,16
 14496                        	.sym	borderWidth,8,5,1,16
 14497                        	.sym	titleOffsetX,10,5,1,16
 14498                        	.sym	titleOffsetY,12,5,1,16
 14499                        	.sym	titleScaler,14,5,1,16
 14500                        	.sym	clientOffsetX,16,5,1,16
 14501                        	.sym	clientOffsetY,18,5,1,16
  Wed Nov 18 2020  8:27                                                Page 264


 14502                        	.sym	endX,20,5,1,16
 14503                        	.sym	cx,4,5,6,16
 14504                        	.sym	cy,6,5,6,16
 14505                        	.sym	width,8,5,6,16
 14506                        	.sym	height,10,5,6,16
 14507                        	.sym	title,12,142,6,32
 14508                        	.sym	color,16,5,6,16
 14509                        	.sym	bgcolor,18,5,6,16
 14510 03:3BF6: 64 0D        	stz	<L686+i_1
 14511 03:3BF8: A9 0A 00     	lda	#$a
 14512 03:3BFB: 85 0F        	sta	<L686+borderTitle_1
 14513 03:3BFD: A9 03 00     	lda	#$3
 14514 03:3C00: 85 11        	sta	<L686+borderWidth_1
 14515 03:3C02: 18           	clc
 14516 03:3C03: A9 02 00     	lda	#$2
 14517 03:3C06: 65 22        	adc	<L685+cx_0
 14518 03:3C08: 85 13        	sta	<L686+titleOffsetX_1
 14519 03:3C0A: 18           	clc
 14520 03:3C0B: A9 02 00     	lda	#$2
 14521 03:3C0E: 65 24        	adc	<L685+cy_0
 14522 03:3C10: 85 15        	sta	<L686+titleOffsetY_1
 14523 03:3C12: 64 17        	stz	<L686+titleScaler_1
 14524 03:3C14: 18           	clc
 14525 03:3C15: A5 22        	lda	<L685+cx_0
 14526 03:3C17: 65 11        	adc	<L686+borderWidth_1
 14527 03:3C19: 85 01        	sta	<R0
 14528 03:3C1B: 18           	clc
 14529 03:3C1C: A9 02 00     	lda	#$2
 14530 03:3C1F: 65 01        	adc	<R0
 14531 03:3C21: 85 19        	sta	<L686+clientOffsetX_1
 14532 03:3C23: 18           	clc
 14533 03:3C24: A5 24        	lda	<L685+cy_0
 14534 03:3C26: 65 0F        	adc	<L686+borderTitle_1
 14535 03:3C28: 85 01        	sta	<R0
 14536 03:3C2A: A5 01        	lda	<R0
 14537 03:3C2C: 1A           	ina
 14538 03:3C2D: 85 1B        	sta	<L686+clientOffsetY_1
 14539 03:3C2F: 18           	clc
 14540 03:3C30: A5 26        	lda	<L685+width_0
 14541 03:3C32: 65 22        	adc	<L685+cx_0
 14542 03:3C34: 85 01        	sta	<R0
 14543 03:3C36: 38           	sec
 14544 03:3C37: A5 01        	lda	<R0
 14545 03:3C39: E5 11        	sbc	<L686+borderWidth_1
 14546 03:3C3B: 85 1D        	sta	<L686+endX_1
 14547                        	.line	2268
 14548 03:3C3D: F4 00 00     	pea	#0
 14549 03:3C40: 18           	clc
 14550 03:3C41: 7B           	tdc
 14551 03:3C42: 69 09 00     	adc	#<L686+metric_1
 14552 03:3C45: 48           	pha
 14553 03:3C46: 22 BF 17 03  	jsl	~~k_get_font_metrics
 14554                        ;
 14555                        ;	k_debug_integer("k_vdraw_ui_menu::width:",width)
                    ;
 14556                        	.line	2270
 14557 03:3C4A: D4 26        	pei	<L685+width_0
 14558 03:3C4C: F4 xx xx     	pea	#^L678
  Wed Nov 18 2020  8:27                                                Page 265


 14559 03:3C4F: F4 xx xx     	pea	#<L678
 14560 03:3C52: 22 xx xx xx  	jsl	~~k_debug_integer
 14561                        ;	k_debug_integer("k_vdraw_ui_menu::height:",heigh
                    t);
 14562                        	.line	2271
 14563 03:3C56: D4 28        	pei	<L685+height_0
 14564 03:3C58: F4 xx xx     	pea	#^L678+24
 14565 03:3C5B: F4 xx xx     	pea	#<L678+24
 14566 03:3C5E: 22 xx xx xx  	jsl	~~k_debug_integer
 14567                        ;	k_debug_strings("k_vdraw_ui_menu::title:",(LPSTR
                    )title);
 14568                        	.line	2272
 14569 03:3C62: D4 2C        	pei	<L685+title_0+2
 14570 03:3C64: D4 2A        	pei	<L685+title_0
 14571 03:3C66: F4 xx xx     	pea	#^L678+49
 14572 03:3C69: F4 xx xx     	pea	#<L678+49
 14573 03:3C6C: 22 xx xx xx  	jsl	~~k_debug_strings
 14574                        ;
 14575                        ;	//int height = 0;
 14576                        ;	/*
 14577                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 14578                        ;	memset(menu,0,sizeof(MENU));
 14579                        ;
 14580                        ;	menu->cx = cx;
 14581                        ;	menu->cy = cy;
 14582                        ;	menu->fcolor = color;
 14583                        ;	menu->bcolor = bgcolor;
 14584                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 14585                        ;
 14586                        ;	k_get_font_metrics(&metric);
 14587                        ;	
 14588                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 14589                        ;
 14590                        ;	menu->height = height;
 14591                        ;	menu->width  = width;
 14592                        ;
 14593                        ;
 14594                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 14595                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 14596                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 14597                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 14598                        ;	*/
 14599                        ;
 14600                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 14601                        ;
 14602                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 14603                        ;	k_vdma_fill_rect(cx,cy,width ,height,bgcolor);//
                    k_getUIMenuColor());
 14604                        	.line	2302
 14605 03:3C70: D4 30        	pei	<L685+bgcolor_0
  Wed Nov 18 2020  8:27                                                Page 266


 14606 03:3C72: D4 28        	pei	<L685+height_0
 14607 03:3C74: D4 26        	pei	<L685+width_0
 14608 03:3C76: A0 00 00     	ldy	#$0
 14609 03:3C79: A5 24        	lda	<L685+cy_0
 14610 03:3C7B: 10 01        	bpl	L688
 14611 03:3C7D: 88           	dey
 14612                        L688:
 14613 03:3C7E: 85 01        	sta	<R0
 14614 03:3C80: 84 03        	sty	<R0+2
 14615 03:3C82: D4 03        	pei	<R0+2
 14616 03:3C84: D4 01        	pei	<R0
 14617 03:3C86: A0 00 00     	ldy	#$0
 14618 03:3C89: A5 22        	lda	<L685+cx_0
 14619 03:3C8B: 10 01        	bpl	L689
 14620 03:3C8D: 88           	dey
 14621                        L689:
 14622 03:3C8E: 85 05        	sta	<R1
 14623 03:3C90: 84 07        	sty	<R1+2
 14624 03:3C92: D4 07        	pei	<R1+2
 14625 03:3C94: D4 05        	pei	<R1
 14626 03:3C96: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 14627                        ;
 14628                        ;	//k_delay(15);
 14629                        ;	
 14630                        ;	//title = strupr(title);
 14631                        ;	
 14632                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 14633                        ;	/*
 14634                        ;	titleScaler = (int)(width / metric.width - 4);
 14635                        ;	for(i=0;i<titleScaler;i++)
 14636                        ;	{
 14637                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 14638                        ;	}*/
 14639                        ;
 14640                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 14641                        	.line	2316
 14642 03:3C9A: D4 2E        	pei	<L685+color_0
 14643 03:3C9C: D4 15        	pei	<L686+titleOffsetY_1
 14644 03:3C9E: A5 09        	lda	<L686+metric_1
 14645 03:3CA0: 0A           	asl	A
 14646 03:3CA1: 85 01        	sta	<R0
 14647 03:3CA3: 18           	clc
 14648 03:3CA4: A9 02 00     	lda	#$2
 14649 03:3CA7: 65 01        	adc	<R0
 14650 03:3CA9: 85 05        	sta	<R1
 14651 03:3CAB: 38           	sec
 14652 03:3CAC: A5 1D        	lda	<L686+endX_1
 14653 03:3CAE: E5 05        	sbc	<R1
 14654 03:3CB0: 48           	pha
 14655 03:3CB1: F4 04 00     	pea	#<$4
 14656 03:3CB4: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14657                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 14658                        	.line	2317
  Wed Nov 18 2020  8:27                                                Page 267


 14659 03:3CB8: D4 2E        	pei	<L685+color_0
 14660 03:3CBA: D4 15        	pei	<L686+titleOffsetY_1
 14661 03:3CBC: 38           	sec
 14662 03:3CBD: A5 1D        	lda	<L686+endX_1
 14663 03:3CBF: E5 09        	sbc	<L686+metric_1
 14664 03:3CC1: 48           	pha
 14665 03:3CC2: F4 03 00     	pea	#<$3
 14666 03:3CC5: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14667                        ;
 14668                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 14669                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 14670                        ;
 14671                        ;	if(title)
 14672                        	.line	2322
 14673                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 14674 03:3CC9: A5 2A        	lda	<L685+title_0
 14675 03:3CCB: 05 2C        	ora	<L685+title_0+2
 14676 03:3CCD: D0 03        	bne	L690
 14677 03:3CCF: 82 1C 00     	brl	L10318
 14678                        L690:
 14679                        	.line	2323
 14680 03:3CD2: D4 2E        	pei	<L685+color_0
 14681 03:3CD4: D4 15        	pei	<L686+titleOffsetY_1
 14682 03:3CD6: 18           	clc
 14683 03:3CD7: A5 22        	lda	<L685+cx_0
 14684 03:3CD9: 65 09        	adc	<L686+metric_1
 14685 03:3CDB: 85 01        	sta	<R0
 14686 03:3CDD: 18           	clc
 14687 03:3CDE: A9 02 00     	lda	#$2
 14688 03:3CE1: 65 01        	adc	<R0
 14689 03:3CE3: 48           	pha
 14690 03:3CE4: D4 2C        	pei	<L685+title_0+2
 14691 03:3CE6: D4 2A        	pei	<L685+title_0
 14692 03:3CE8: 22 6C 16 03  	jsl	~~k_draw_text_point
 14693 03:3CEC: 85 0D        	sta	<L686+i_1
 14694                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 14695                        ;
 14696                        ;	
 14697                        ;	return NULL;
 14698                        L10318:
 14699                        	.line	2327
 14700 03:3CEE: A9 00 00     	lda	#$0
 14701 03:3CF1: AA           	tax
 14702 03:3CF2: A9 00 00     	lda	#$0
 14703                        L691:
 14704 03:3CF5: A8           	tay
 14705 03:3CF6: A5 20        	lda	<L685+2
 14706 03:3CF8: 85 30        	sta	<L685+2+16
 14707 03:3CFA: A5 1F        	lda	<L685+1
 14708 03:3CFC: 85 2F        	sta	<L685+1+16
 14709 03:3CFE: 2B           	pld
 14710 03:3CFF: 3B           	tsc
  Wed Nov 18 2020  8:27                                                Page 268


 14711 03:3D00: 18           	clc
 14712 03:3D01: 69 2E 00     	adc	#L685+16
 14713 03:3D04: 1B           	tcs
 14714 03:3D05: 98           	tya
 14715 03:3D06: 6B           	rtl
 14716                        ;}
 14717                        	.line	2328
 14718                        	.endblock	2328
 14719             0000001E   L685	equ	30
 14720             00000009   L686	equ	9
 14721 03:3D07:              	ends
 14722                        	efunc
 14723                        	.endfunc	2328,9,30
 14724                        	.line	2328
 14725                        	data
 14726                        L678:
 14727 00:04C8: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$6D,$65,$6E,$75
       00:04CC: 72 61 77 5F 
       00:04D0: 75 69 5F 6D 
       00:04D4: 65 6E 75 
 14728 00:04D7: 3A 3A 77 69  	db	$3A,$3A,$77,$69,$64,$74,$68,$3A,$00,$6B,
                    $5F,$76,$64,$72,$61
       00:04DB: 64 74 68 3A 
       00:04DF: 00 6B 5F 76 
       00:04E3: 64 72 61 
 14729 00:04E6: 77 5F 75 69  	db	$77,$5F,$75,$69,$5F,$6D,$65,$6E,$75,$3A,
                    $3A,$68,$65,$69,$67
       00:04EA: 5F 6D 65 6E 
       00:04EE: 75 3A 3A 68 
       00:04F2: 65 69 67 
 14730 00:04F5: 68 74 3A 00  	db	$68,$74,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:04F9: 6B 5F 76 64 
       00:04FD: 72 61 77 5F 
       00:0501: 75 69 5F 
 14731 00:0504: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$3A,$3A,$74,$69,$74,$6C,
                    $65,$3A,$00
       00:0508: 3A 3A 74 69 
       00:050C: 74 6C 65 3A 
       00:0510: 00 
 14732 00:0511:              	ends
 14733                        ;
 14734                        ;
 14735                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,LPVOID *prect
                    s)
 14736                        ;{
 14737                        	.line	2331
 14738                        	.line	2332
 14739                        	GUI
 14740                        	xdef	~~k_vdraw_ui_menu_ex
 14741                        	func
 14742                        	.function	2332
 14743                        ~~k_vdraw_ui_menu_ex:
 14744                        	longa	on
 14745                        	longi	on
 14746 03:3D07: 3B           	tsc
  Wed Nov 18 2020  8:27                                                Page 269


 14747 03:3D08: 38           	sec
 14748 03:3D09: E9 1E 00     	sbc	#L693
 14749 03:3D0C: 1B           	tcs
 14750 03:3D0D: 0B           	phd
 14751 03:3D0E: 5B           	tcd
 14752             00000004   cx_0	set	4
 14753             00000006   cy_0	set	6
 14754             00000008   width_0	set	8
 14755             0000000A   height_0	set	10
 14756             0000000C   title_0	set	12
 14757             00000010   color_0	set	16
 14758             00000012   bgcolor_0	set	18
 14759             00000014   prects_0	set	20
 14760                        	.block	2332
 14761                        ;	FONTMETRIC metric;
 14762                        ;
 14763                        ;	int i = 0;
 14764                        ;
 14765                        ;	int borderTitle = 10;
 14766                        ;	int borderWidth = 3;
 14767                        ;
 14768                        ;	int titleOffsetX = cx+2;
 14769                        ;	int titleOffsetY = cy+2;
 14770                        ;	int titleScaler = 0;
 14771                        ;
 14772                        ;	int clientOffsetX = cx+borderWidth+2;
 14773                        ;	int clientOffsetY = cy+borderTitle+1;
 14774                        ;
 14775                        ;	int endX = width + cx - borderWidth;
 14776                        ;
 14777                        ;
 14778                        ;	k_get_font_metrics(&metric);
 14779             00000000   metric_1	set	0
 14780             00000004   i_1	set	4
 14781             00000006   borderTitle_1	set	6
 14782             00000008   borderWidth_1	set	8
 14783             0000000A   titleOffsetX_1	set	10
 14784             0000000C   titleOffsetY_1	set	12
 14785             0000000E   titleScaler_1	set	14
 14786             00000010   clientOffsetX_1	set	16
 14787             00000012   clientOffsetY_1	set	18
 14788             00000014   endX_1	set	20
 14789                        	.sym	metric,0,10,1,32,29
 14790                        	.sym	i,4,5,1,16
 14791                        	.sym	borderTitle,6,5,1,16
 14792                        	.sym	borderWidth,8,5,1,16
 14793                        	.sym	titleOffsetX,10,5,1,16
 14794                        	.sym	titleOffsetY,12,5,1,16
 14795                        	.sym	titleScaler,14,5,1,16
 14796                        	.sym	clientOffsetX,16,5,1,16
 14797                        	.sym	clientOffsetY,18,5,1,16
 14798                        	.sym	endX,20,5,1,16
 14799                        	.sym	cx,4,5,6,16
 14800                        	.sym	cy,6,5,6,16
 14801                        	.sym	width,8,5,6,16
 14802                        	.sym	height,10,5,6,16
 14803                        	.sym	title,12,142,6,32
 14804                        	.sym	color,16,5,6,16
  Wed Nov 18 2020  8:27                                                Page 270


 14805                        	.sym	bgcolor,18,5,6,16
 14806                        	.sym	prects,20,1153,6,32
 14807 03:3D0F: 64 0D        	stz	<L694+i_1
 14808 03:3D11: A9 0A 00     	lda	#$a
 14809 03:3D14: 85 0F        	sta	<L694+borderTitle_1
 14810 03:3D16: A9 03 00     	lda	#$3
 14811 03:3D19: 85 11        	sta	<L694+borderWidth_1
 14812 03:3D1B: 18           	clc
 14813 03:3D1C: A9 02 00     	lda	#$2
 14814 03:3D1F: 65 22        	adc	<L693+cx_0
 14815 03:3D21: 85 13        	sta	<L694+titleOffsetX_1
 14816 03:3D23: 18           	clc
 14817 03:3D24: A9 02 00     	lda	#$2
 14818 03:3D27: 65 24        	adc	<L693+cy_0
 14819 03:3D29: 85 15        	sta	<L694+titleOffsetY_1
 14820 03:3D2B: 64 17        	stz	<L694+titleScaler_1
 14821 03:3D2D: 18           	clc
 14822 03:3D2E: A5 22        	lda	<L693+cx_0
 14823 03:3D30: 65 11        	adc	<L694+borderWidth_1
 14824 03:3D32: 85 01        	sta	<R0
 14825 03:3D34: 18           	clc
 14826 03:3D35: A9 02 00     	lda	#$2
 14827 03:3D38: 65 01        	adc	<R0
 14828 03:3D3A: 85 19        	sta	<L694+clientOffsetX_1
 14829 03:3D3C: 18           	clc
 14830 03:3D3D: A5 24        	lda	<L693+cy_0
 14831 03:3D3F: 65 0F        	adc	<L694+borderTitle_1
 14832 03:3D41: 85 01        	sta	<R0
 14833 03:3D43: A5 01        	lda	<R0
 14834 03:3D45: 1A           	ina
 14835 03:3D46: 85 1B        	sta	<L694+clientOffsetY_1
 14836 03:3D48: 18           	clc
 14837 03:3D49: A5 26        	lda	<L693+width_0
 14838 03:3D4B: 65 22        	adc	<L693+cx_0
 14839 03:3D4D: 85 01        	sta	<R0
 14840 03:3D4F: 38           	sec
 14841 03:3D50: A5 01        	lda	<R0
 14842 03:3D52: E5 11        	sbc	<L694+borderWidth_1
 14843 03:3D54: 85 1D        	sta	<L694+endX_1
 14844                        	.line	2350
 14845 03:3D56: F4 00 00     	pea	#0
 14846 03:3D59: 18           	clc
 14847 03:3D5A: 7B           	tdc
 14848 03:3D5B: 69 09 00     	adc	#<L694+metric_1
 14849 03:3D5E: 48           	pha
 14850 03:3D5F: 22 BF 17 03  	jsl	~~k_get_font_metrics
 14851                        ;
 14852                        ;
 14853                        ;	//int height = 0;
 14854                        ;	/*
 14855                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 14856                        ;	memset(menu,0,sizeof(MENU));
 14857                        ;
 14858                        ;	menu->cx = cx;
 14859                        ;	menu->cy = cy;
 14860                        ;	menu->fcolor = color;
 14861                        ;	menu->bcolor = bgcolor;
  Wed Nov 18 2020  8:27                                                Page 271


 14862                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 14863                        ;
 14864                        ;	k_get_font_metrics(&metric);
 14865                        ;
 14866                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 14867                        ;
 14868                        ;	menu->height = height;
 14869                        ;	menu->width  = width;
 14870                        ;
 14871                        ;
 14872                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 14873                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 14874                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 14875                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 14876                        ;	*/
 14877                        ;
 14878                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 14879                        ;
 14880                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 14881                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 14882                        	.line	2381
 14883 03:3D63: D4 2E        	pei	<L693+color_0
 14884 03:3D65: D4 28        	pei	<L693+height_0
 14885 03:3D67: D4 26        	pei	<L693+width_0
 14886 03:3D69: A0 00 00     	ldy	#$0
 14887 03:3D6C: A5 24        	lda	<L693+cy_0
 14888 03:3D6E: 10 01        	bpl	L696
 14889 03:3D70: 88           	dey
 14890                        L696:
 14891 03:3D71: 85 01        	sta	<R0
 14892 03:3D73: 84 03        	sty	<R0+2
 14893 03:3D75: D4 03        	pei	<R0+2
 14894 03:3D77: D4 01        	pei	<R0
 14895 03:3D79: A0 00 00     	ldy	#$0
 14896 03:3D7C: A5 22        	lda	<L693+cx_0
 14897 03:3D7E: 10 01        	bpl	L697
 14898 03:3D80: 88           	dey
 14899                        L697:
 14900 03:3D81: 85 05        	sta	<R1
 14901 03:3D83: 84 07        	sty	<R1+2
 14902 03:3D85: D4 07        	pei	<R1+2
 14903 03:3D87: D4 05        	pei	<R1
 14904 03:3D89: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 14905                        ;
 14906                        ;	//k_delay(15);
 14907                        ;
 14908                        ;	//title = strupr(title);
 14909                        ;
 14910                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 14911                        ;	/*
  Wed Nov 18 2020  8:27                                                Page 272


 14912                        ;	titleScaler = (int)(width / metric.width - 4);
 14913                        ;	for(i=0;i<titleScaler;i++)
 14914                        ;	{
 14915                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 14916                        ;	}*/
 14917                        ;
 14918                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 14919                        	.line	2395
 14920 03:3D8D: F4 0E 00     	pea	#<$e
 14921 03:3D90: D4 15        	pei	<L694+titleOffsetY_1
 14922 03:3D92: A5 09        	lda	<L694+metric_1
 14923 03:3D94: 0A           	asl	A
 14924 03:3D95: 85 01        	sta	<R0
 14925 03:3D97: 18           	clc
 14926 03:3D98: A9 02 00     	lda	#$2
 14927 03:3D9B: 65 01        	adc	<R0
 14928 03:3D9D: 85 05        	sta	<R1
 14929 03:3D9F: 38           	sec
 14930 03:3DA0: A5 1D        	lda	<L694+endX_1
 14931 03:3DA2: E5 05        	sbc	<R1
 14932 03:3DA4: 48           	pha
 14933 03:3DA5: F4 04 00     	pea	#<$4
 14934 03:3DA8: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14935                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 14936                        	.line	2396
 14937 03:3DAC: F4 0E 00     	pea	#<$e
 14938 03:3DAF: D4 15        	pei	<L694+titleOffsetY_1
 14939 03:3DB1: 38           	sec
 14940 03:3DB2: A5 1D        	lda	<L694+endX_1
 14941 03:3DB4: E5 09        	sbc	<L694+metric_1
 14942 03:3DB6: 48           	pha
 14943 03:3DB7: F4 03 00     	pea	#<$3
 14944 03:3DBA: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 14945                        ;
 14946                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 14947                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 14948                        ;
 14949                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
                    titleOffsetY,bgcolor);
 14950                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 14951                        ;
 14952                        ;
 14953                        ;	return NULL;
 14954                        	.line	2405
 14955 03:3DBE: A9 00 00     	lda	#$0
 14956 03:3DC1: AA           	tax
 14957 03:3DC2: A9 00 00     	lda	#$0
 14958                        L698:
 14959 03:3DC5: A8           	tay
 14960 03:3DC6: A5 20        	lda	<L693+2
  Wed Nov 18 2020  8:27                                                Page 273


 14961 03:3DC8: 85 34        	sta	<L693+2+20
 14962 03:3DCA: A5 1F        	lda	<L693+1
 14963 03:3DCC: 85 33        	sta	<L693+1+20
 14964 03:3DCE: 2B           	pld
 14965 03:3DCF: 3B           	tsc
 14966 03:3DD0: 18           	clc
 14967 03:3DD1: 69 32 00     	adc	#L693+20
 14968 03:3DD4: 1B           	tcs
 14969 03:3DD5: 98           	tya
 14970 03:3DD6: 6B           	rtl
 14971                        ;}
 14972                        	.line	2406
 14973                        	.endblock	2406
 14974             0000001E   L693	equ	30
 14975             00000009   L694	equ	9
 14976 03:3DD7:              	ends
 14977                        	efunc
 14978                        	.endfunc	2406,9,30
 14979                        	.line	2406
 14980                        ;
 14981                        ;
 14982                        ;
 14983                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 14984                        ;{
 14985                        	.line	2410
 14986                        	.line	2411
 14987                        	GUI
 14988                        	xdef	~~k_gadget_title_front_callback
 14989                        	func
 14990                        	.function	2411
 14991                        ~~k_gadget_title_front_callback:
 14992                        	longa	on
 14993                        	longi	on
 14994 03:3DD7: 3B           	tsc
 14995 03:3DD8: 38           	sec
 14996 03:3DD9: E9 04 00     	sbc	#L699
 14997 03:3DDC: 1B           	tcs
 14998 03:3DDD: 0B           	phd
 14999 03:3DDE: 5B           	tcd
 15000             00000004   gadgetWindow_0	set	4
 15001                        	.block	2411
 15002                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 15003                        	.sym	gadgetWindow,4,138,6,32,27
 15004                        	.line	2412
 15005 03:3DDF: 18           	clc
 15006 03:3DE0: A9 46 00     	lda	#$46
 15007 03:3DE3: 65 08        	adc	<L699+gadgetWindow_0
 15008 03:3DE5: 85 01        	sta	<R0
 15009 03:3DE7: A9 00 00     	lda	#$0
 15010 03:3DEA: 65 0A        	adc	<L699+gadgetWindow_0+2
 15011 03:3DEC: 85 03        	sta	<R0+2
 15012 03:3DEE: D4 03        	pei	<R0+2
 15013 03:3DF0: D4 01        	pei	<R0
 15014 03:3DF2: F4 xx xx     	pea	#^L692
 15015 03:3DF5: F4 xx xx     	pea	#<L692
 15016 03:3DF8: 22 xx xx xx  	jsl	~~k_debug_message
  Wed Nov 18 2020  8:27                                                Page 274


 15017                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 15018                        	.line	2413
 15019 03:3DFC: F4 00 00     	pea	#<$0
 15020 03:3DFF: F4 00 00     	pea	#^$0
 15021 03:3E02: F4 00 00     	pea	#<$0
 15022 03:3E05: F4 30 0F     	pea	#<$f30
 15023 03:3E08: F4 00 00     	pea	#^$0
 15024 03:3E0B: F4 00 00     	pea	#<$0
 15025 03:3E0E: 22 xx xx xx  	jsl	~~k_send_message
 15026                        ;	return;
 15027                        	.line	2414
 15028                        L702:
 15029 03:3E12: A5 06        	lda	<L699+2
 15030 03:3E14: 85 0A        	sta	<L699+2+4
 15031 03:3E16: A5 05        	lda	<L699+1
 15032 03:3E18: 85 09        	sta	<L699+1+4
 15033 03:3E1A: 2B           	pld
 15034 03:3E1B: 3B           	tsc
 15035 03:3E1C: 18           	clc
 15036 03:3E1D: 69 08 00     	adc	#L699+4
 15037 03:3E20: 1B           	tcs
 15038 03:3E21: 6B           	rtl
 15039                        ;}
 15040                        	.line	2415
 15041                        	.endblock	2415
 15042             00000004   L699	equ	4
 15043             00000005   L700	equ	5
 15044 03:3E22:              	ends
 15045                        	efunc
 15046                        	.endfunc	2415,5,4
 15047                        	.line	2415
 15048                        	data
 15049                        L692:
 15050 00:0511: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0515: 64 67 65 74 
       00:0519: 5F 74 69 74 
       00:051D: 6C 65 5F 
 15051 00:0520: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:0524: 74 5F 63 61 
       00:0528: 6C 6C 62 61 
       00:052C: 63 6B 3A 
 15052 00:052F: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0533: 6B 65 64 3A 
       00:0537: 00 
 15053 00:0538:              	ends
 15054                        ;
 15055                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 15056                        ;{
 15057                        	.line	2417
 15058                        	.line	2418
 15059                        	GUI
 15060                        	xdef	~~k_gadget_title_back_callback
 15061                        	func
 15062                        	.function	2418
 15063                        ~~k_gadget_title_back_callback:
  Wed Nov 18 2020  8:27                                                Page 275


 15064                        	longa	on
 15065                        	longi	on
 15066 03:3E22: 3B           	tsc
 15067 03:3E23: 38           	sec
 15068 03:3E24: E9 04 00     	sbc	#L704
 15069 03:3E27: 1B           	tcs
 15070 03:3E28: 0B           	phd
 15071 03:3E29: 5B           	tcd
 15072             00000004   gadgetWindow_0	set	4
 15073                        	.block	2418
 15074                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 15075                        	.sym	gadgetWindow,4,138,6,32,27
 15076                        	.line	2419
 15077 03:3E2A: 18           	clc
 15078 03:3E2B: A9 46 00     	lda	#$46
 15079 03:3E2E: 65 08        	adc	<L704+gadgetWindow_0
 15080 03:3E30: 85 01        	sta	<R0
 15081 03:3E32: A9 00 00     	lda	#$0
 15082 03:3E35: 65 0A        	adc	<L704+gadgetWindow_0+2
 15083 03:3E37: 85 03        	sta	<R0+2
 15084 03:3E39: D4 03        	pei	<R0+2
 15085 03:3E3B: D4 01        	pei	<R0
 15086 03:3E3D: F4 xx xx     	pea	#^L703
 15087 03:3E40: F4 xx xx     	pea	#<L703
 15088 03:3E43: 22 xx xx xx  	jsl	~~k_debug_message
 15089                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 15090                        	.line	2420
 15091 03:3E47: F4 00 00     	pea	#<$0
 15092 03:3E4A: F4 00 00     	pea	#^$0
 15093 03:3E4D: F4 00 00     	pea	#<$0
 15094 03:3E50: F4 31 0F     	pea	#<$f31
 15095 03:3E53: F4 00 00     	pea	#^$0
 15096 03:3E56: F4 00 00     	pea	#<$0
 15097 03:3E59: 22 xx xx xx  	jsl	~~k_send_message
 15098                        ;	return;
 15099                        	.line	2421
 15100                        L707:
 15101 03:3E5D: A5 06        	lda	<L704+2
 15102 03:3E5F: 85 0A        	sta	<L704+2+4
 15103 03:3E61: A5 05        	lda	<L704+1
 15104 03:3E63: 85 09        	sta	<L704+1+4
 15105 03:3E65: 2B           	pld
 15106 03:3E66: 3B           	tsc
 15107 03:3E67: 18           	clc
 15108 03:3E68: 69 08 00     	adc	#L704+4
 15109 03:3E6B: 1B           	tcs
 15110 03:3E6C: 6B           	rtl
 15111                        ;}
 15112                        	.line	2422
 15113                        	.endblock	2422
 15114             00000004   L704	equ	4
 15115             00000005   L705	equ	5
 15116 03:3E6D:              	ends
 15117                        	efunc
 15118                        	.endfunc	2422,5,4
 15119                        	.line	2422
 15120                        	data
  Wed Nov 18 2020  8:27                                                Page 276


 15121                        L703:
 15122 00:0538: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:053C: 64 67 65 74 
       00:0540: 5F 74 69 74 
       00:0544: 6C 65 5F 
 15123 00:0547: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:054B: 5F 63 61 6C 
       00:054F: 6C 62 61 63 
       00:0553: 6B 3A 63 
 15124 00:0556: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:055A: 65 64 3A 00 
 15125 00:055E:              	ends
 15126                        ;
 15127                        ;
 15128                        ;
 15129                        ;PMENU k_render_menu(PMENU menu)
 15130                        ;{
 15131                        	.line	2426
 15132                        	.line	2427
 15133                        	GUI
 15134                        	xdef	~~k_render_menu
 15135                        	func
 15136                        	.function	2427
 15137                        ~~k_render_menu:
 15138                        	longa	on
 15139                        	longi	on
 15140 03:3E6D: 3B           	tsc
 15141 03:3E6E: 38           	sec
 15142 03:3E6F: E9 22 00     	sbc	#L709
 15143 03:3E72: 1B           	tcs
 15144 03:3E73: 0B           	phd
 15145 03:3E74: 5B           	tcd
 15146             00000004   menu_0	set	4
 15147                        	.block	2427
 15148                        ;	FONTMETRIC metric;
 15149                        ;
 15150                        ;	int i = 0;
 15151                        ;
 15152                        ;	int cx = menu->cx;
 15153                        ;	int cy = menu->cy;
 15154                        ;
 15155                        ;	int borderTitle = 10;
 15156                        ;	int borderWidth = 3;
 15157                        ;
 15158                        ;	int titleOffsetX = cx+2;
 15159                        ;	int titleOffsetY = cy+2;
 15160                        ;	int titleScaler = 0;
 15161                        ;
 15162                        ;	int clientOffsetX = cx+borderWidth+2;
 15163                        ;	int clientOffsetY = cy+borderTitle+1;
 15164                        ;
 15165                        ;	int endX = menu->width + cx - borderWidth;
 15166                        ;
 15167                        ;	k_get_font_metrics(&metric);
 15168             00000000   metric_1	set	0
 15169             00000004   i_1	set	4
  Wed Nov 18 2020  8:27                                                Page 277


 15170             00000006   cx_1	set	6
 15171             00000008   cy_1	set	8
 15172             0000000A   borderTitle_1	set	10
 15173             0000000C   borderWidth_1	set	12
 15174             0000000E   titleOffsetX_1	set	14
 15175             00000010   titleOffsetY_1	set	16
 15176             00000012   titleScaler_1	set	18
 15177             00000014   clientOffsetX_1	set	20
 15178             00000016   clientOffsetY_1	set	22
 15179             00000018   endX_1	set	24
 15180                        	.sym	metric,0,10,1,32,29
 15181                        	.sym	i,4,5,1,16
 15182                        	.sym	cx,6,5,1,16
 15183                        	.sym	cy,8,5,1,16
 15184                        	.sym	borderTitle,10,5,1,16
 15185                        	.sym	borderWidth,12,5,1,16
 15186                        	.sym	titleOffsetX,14,5,1,16
 15187                        	.sym	titleOffsetY,16,5,1,16
 15188                        	.sym	titleScaler,18,5,1,16
 15189                        	.sym	clientOffsetX,20,5,1,16
 15190                        	.sym	clientOffsetY,22,5,1,16
 15191                        	.sym	endX,24,5,1,16
 15192                        	.sym	menu,4,138,6,32,32
 15193 03:3E75: 64 0D        	stz	<L710+i_1
 15194 03:3E77: A7 26        	lda	[<L709+menu_0]
 15195 03:3E79: 85 0F        	sta	<L710+cx_1
 15196 03:3E7B: A0 02 00     	ldy	#$2
 15197 03:3E7E: B7 26        	lda	[<L709+menu_0],Y
 15198 03:3E80: 85 11        	sta	<L710+cy_1
 15199 03:3E82: A9 0A 00     	lda	#$a
 15200 03:3E85: 85 13        	sta	<L710+borderTitle_1
 15201 03:3E87: A9 03 00     	lda	#$3
 15202 03:3E8A: 85 15        	sta	<L710+borderWidth_1
 15203 03:3E8C: 18           	clc
 15204 03:3E8D: A9 02 00     	lda	#$2
 15205 03:3E90: 65 0F        	adc	<L710+cx_1
 15206 03:3E92: 85 17        	sta	<L710+titleOffsetX_1
 15207 03:3E94: 18           	clc
 15208 03:3E95: A9 02 00     	lda	#$2
 15209 03:3E98: 65 11        	adc	<L710+cy_1
 15210 03:3E9A: 85 19        	sta	<L710+titleOffsetY_1
 15211 03:3E9C: 64 1B        	stz	<L710+titleScaler_1
 15212 03:3E9E: 18           	clc
 15213 03:3E9F: A5 0F        	lda	<L710+cx_1
 15214 03:3EA1: 65 15        	adc	<L710+borderWidth_1
 15215 03:3EA3: 85 01        	sta	<R0
 15216 03:3EA5: 18           	clc
 15217 03:3EA6: A9 02 00     	lda	#$2
 15218 03:3EA9: 65 01        	adc	<R0
 15219 03:3EAB: 85 1D        	sta	<L710+clientOffsetX_1
 15220 03:3EAD: 18           	clc
 15221 03:3EAE: A5 11        	lda	<L710+cy_1
 15222 03:3EB0: 65 13        	adc	<L710+borderTitle_1
 15223 03:3EB2: 85 01        	sta	<R0
 15224 03:3EB4: A5 01        	lda	<R0
 15225 03:3EB6: 1A           	ina
 15226 03:3EB7: 85 1F        	sta	<L710+clientOffsetY_1
 15227 03:3EB9: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 278


 15228 03:3EBA: A0 04 00     	ldy	#$4
 15229 03:3EBD: B7 26        	lda	[<L709+menu_0],Y
 15230 03:3EBF: 65 0F        	adc	<L710+cx_1
 15231 03:3EC1: 85 01        	sta	<R0
 15232 03:3EC3: 38           	sec
 15233 03:3EC4: A5 01        	lda	<R0
 15234 03:3EC6: E5 15        	sbc	<L710+borderWidth_1
 15235 03:3EC8: 85 21        	sta	<L710+endX_1
 15236                        	.line	2447
 15237 03:3ECA: F4 00 00     	pea	#0
 15238 03:3ECD: 18           	clc
 15239 03:3ECE: 7B           	tdc
 15240 03:3ECF: 69 09 00     	adc	#<L710+metric_1
 15241 03:3ED2: 48           	pha
 15242 03:3ED3: 22 BF 17 03  	jsl	~~k_get_font_metrics
 15243                        ;
 15244                        ;
 15245                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 15246                        	.line	2450
 15247 03:3ED7: A7 26        	lda	[<L709+menu_0]
 15248 03:3ED9: 48           	pha
 15249 03:3EDA: F4 xx xx     	pea	#^L708
 15250 03:3EDD: F4 xx xx     	pea	#<L708
 15251 03:3EE0: 22 xx xx xx  	jsl	~~k_debug_integer
 15252                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 15253                        	.line	2451
 15254 03:3EE4: A0 02 00     	ldy	#$2
 15255 03:3EE7: B7 26        	lda	[<L709+menu_0],Y
 15256 03:3EE9: 48           	pha
 15257 03:3EEA: F4 xx xx     	pea	#^L708+24
 15258 03:3EED: F4 xx xx     	pea	#<L708+24
 15259 03:3EF0: 22 xx xx xx  	jsl	~~k_debug_integer
 15260                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 15261                        	.line	2452
 15262 03:3EF4: A0 06 00     	ldy	#$6
 15263 03:3EF7: B7 26        	lda	[<L709+menu_0],Y
 15264 03:3EF9: 48           	pha
 15265 03:3EFA: F4 xx xx     	pea	#^L708+48
 15266 03:3EFD: F4 xx xx     	pea	#<L708+48
 15267 03:3F00: 22 xx xx xx  	jsl	~~k_debug_integer
 15268                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
 15269                        	.line	2453
 15270 03:3F04: A0 04 00     	ldy	#$4
 15271 03:3F07: B7 26        	lda	[<L709+menu_0],Y
 15272 03:3F09: 48           	pha
 15273 03:3F0A: F4 xx xx     	pea	#^L708+76
 15274 03:3F0D: F4 xx xx     	pea	#<L708+76
 15275 03:3F10: 22 xx xx xx  	jsl	~~k_debug_integer
 15276                        ;
 15277                        ;
 15278                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 15279                        	.line	2456
 15280 03:3F14: F4 00 00     	pea	#<$0
  Wed Nov 18 2020  8:27                                                Page 279


 15281 03:3F17: A0 06 00     	ldy	#$6
 15282 03:3F1A: B7 26        	lda	[<L709+menu_0],Y
 15283 03:3F1C: 1A           	ina
 15284 03:3F1D: 48           	pha
 15285 03:3F1E: A0 04 00     	ldy	#$4
 15286 03:3F21: B7 26        	lda	[<L709+menu_0],Y
 15287 03:3F23: 1A           	ina
 15288 03:3F24: 48           	pha
 15289 03:3F25: A0 00 00     	ldy	#$0
 15290 03:3F28: A5 11        	lda	<L710+cy_1
 15291 03:3F2A: 10 01        	bpl	L712
 15292 03:3F2C: 88           	dey
 15293                        L712:
 15294 03:3F2D: 85 01        	sta	<R0
 15295 03:3F2F: 84 03        	sty	<R0+2
 15296 03:3F31: D4 03        	pei	<R0+2
 15297 03:3F33: D4 01        	pei	<R0
 15298 03:3F35: 18           	clc
 15299 03:3F36: A9 FF FF     	lda	#$ffff
 15300 03:3F39: 65 0F        	adc	<L710+cx_1
 15301 03:3F3B: 85 05        	sta	<R1
 15302 03:3F3D: A0 00 00     	ldy	#$0
 15303 03:3F40: A5 05        	lda	<R1
 15304 03:3F42: 10 01        	bpl	L713
 15305 03:3F44: 88           	dey
 15306                        L713:
 15307 03:3F45: 85 05        	sta	<R1
 15308 03:3F47: 84 07        	sty	<R1+2
 15309 03:3F49: D4 07        	pei	<R1+2
 15310 03:3F4B: D4 05        	pei	<R1
 15311 03:3F4D: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 15312                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 15313                        	.line	2457
 15314 03:3F51: A0 08 00     	ldy	#$8
 15315 03:3F54: B7 26        	lda	[<L709+menu_0],Y
 15316 03:3F56: 48           	pha
 15317 03:3F57: A0 06 00     	ldy	#$6
 15318 03:3F5A: B7 26        	lda	[<L709+menu_0],Y
 15319 03:3F5C: 48           	pha
 15320 03:3F5D: A0 04 00     	ldy	#$4
 15321 03:3F60: B7 26        	lda	[<L709+menu_0],Y
 15322 03:3F62: 48           	pha
 15323 03:3F63: A0 00 00     	ldy	#$0
 15324 03:3F66: A5 11        	lda	<L710+cy_1
 15325 03:3F68: 10 01        	bpl	L714
 15326 03:3F6A: 88           	dey
 15327                        L714:
 15328 03:3F6B: 85 01        	sta	<R0
 15329 03:3F6D: 84 03        	sty	<R0+2
 15330 03:3F6F: D4 03        	pei	<R0+2
 15331 03:3F71: D4 01        	pei	<R0
 15332 03:3F73: A0 00 00     	ldy	#$0
 15333 03:3F76: A5 0F        	lda	<L710+cx_1
 15334 03:3F78: 10 01        	bpl	L715
 15335 03:3F7A: 88           	dey
 15336                        L715:
 15337 03:3F7B: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 280


 15338 03:3F7D: 84 07        	sty	<R1+2
 15339 03:3F7F: D4 07        	pei	<R1+2
 15340 03:3F81: D4 05        	pei	<R1
 15341 03:3F83: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 15342                        ;
 15343                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 15344                        ;
 15345                        ;
 15346                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 15347                        	.line	2462
 15348 03:3F87: F4 0E 00     	pea	#<$e
 15349 03:3F8A: D4 19        	pei	<L710+titleOffsetY_1
 15350 03:3F8C: A5 09        	lda	<L710+metric_1
 15351 03:3F8E: 0A           	asl	A
 15352 03:3F8F: 85 01        	sta	<R0
 15353 03:3F91: 18           	clc
 15354 03:3F92: A9 02 00     	lda	#$2
 15355 03:3F95: 65 01        	adc	<R0
 15356 03:3F97: 85 05        	sta	<R1
 15357 03:3F99: 38           	sec
 15358 03:3F9A: A5 21        	lda	<L710+endX_1
 15359 03:3F9C: E5 05        	sbc	<R1
 15360 03:3F9E: 48           	pha
 15361 03:3F9F: F4 04 00     	pea	#<$4
 15362 03:3FA2: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15363                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 15364                        	.line	2463
 15365 03:3FA6: F4 0E 00     	pea	#<$e
 15366 03:3FA9: D4 19        	pei	<L710+titleOffsetY_1
 15367 03:3FAB: 38           	sec
 15368 03:3FAC: A5 21        	lda	<L710+endX_1
 15369 03:3FAE: E5 09        	sbc	<L710+metric_1
 15370 03:3FB0: 48           	pha
 15371 03:3FB1: F4 03 00     	pea	#<$3
 15372 03:3FB4: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15373                        ;
 15374                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 15375                        	.line	2465
 15376 03:3FB8: F4 00 00     	pea	#<$0
 15377 03:3FBB: D4 19        	pei	<L710+titleOffsetY_1
 15378 03:3FBD: 18           	clc
 15379 03:3FBE: A5 0F        	lda	<L710+cx_1
 15380 03:3FC0: 65 09        	adc	<L710+metric_1
 15381 03:3FC2: 85 01        	sta	<R0
 15382 03:3FC4: 18           	clc
 15383 03:3FC5: A9 02 00     	lda	#$2
 15384 03:3FC8: 65 01        	adc	<R0
 15385 03:3FCA: 48           	pha
 15386 03:3FCB: A0 11 00     	ldy	#$11
 15387 03:3FCE: B7 26        	lda	[<L709+menu_0],Y
 15388 03:3FD0: 48           	pha
 15389 03:3FD1: A0 0F 00     	ldy	#$f
 15390 03:3FD4: B7 26        	lda	[<L709+menu_0],Y
 15391 03:3FD6: 48           	pha
  Wed Nov 18 2020  8:27                                                Page 281


 15392 03:3FD7: 22 6C 16 03  	jsl	~~k_draw_text_point
 15393                        ;
 15394                        ;	return menu;
 15395                        	.line	2467
 15396 03:3FDB: A6 28        	ldx	<L709+menu_0+2
 15397 03:3FDD: A5 26        	lda	<L709+menu_0
 15398                        L716:
 15399 03:3FDF: A8           	tay
 15400 03:3FE0: A5 24        	lda	<L709+2
 15401 03:3FE2: 85 28        	sta	<L709+2+4
 15402 03:3FE4: A5 23        	lda	<L709+1
 15403 03:3FE6: 85 27        	sta	<L709+1+4
 15404 03:3FE8: 2B           	pld
 15405 03:3FE9: 3B           	tsc
 15406 03:3FEA: 18           	clc
 15407 03:3FEB: 69 26 00     	adc	#L709+4
 15408 03:3FEE: 1B           	tcs
 15409 03:3FEF: 98           	tya
 15410 03:3FF0: 6B           	rtl
 15411                        ;}
 15412                        	.line	2468
 15413                        	.endblock	2468
 15414             00000022   L709	equ	34
 15415             00000009   L710	equ	9
 15416 03:3FF1:              	ends
 15417                        	efunc
 15418                        	.endfunc	2468,9,34
 15419                        	.line	2468
 15420                        	data
 15421                        L708:
 15422 00:055E: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
       00:0562: 6E 64 65 72 
       00:0566: 5F 6D 65 6E 
       00:056A: 75 3A 6D 
 15423 00:056D: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0571: 3E 63 78 3A 
       00:0575: 00 6B 5F 72 
       00:0579: 65 6E 64 
 15424 00:057C: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0580: 65 6E 75 3A 
       00:0584: 6D 65 6E 75 
       00:0588: 2D 3E 63 
 15425 00:058B: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
                    $72,$5F,$6D,$65,$6E
       00:058F: 5F 72 65 6E 
       00:0593: 64 65 72 5F 
       00:0597: 6D 65 6E 
 15426 00:059A: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:059E: 6E 75 2D 3E 
       00:05A2: 68 65 69 67 
       00:05A6: 68 74 3A 
 15427 00:05A9: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:05AD: 65 6E 64 65 
  Wed Nov 18 2020  8:27                                                Page 282


       00:05B1: 72 5F 6D 65 
       00:05B5: 6E 75 3A 
 15428 00:05B8: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:05BC: 2D 3E 77 69 
       00:05C0: 64 74 68 3A 
       00:05C4: 00 
 15429 00:05C5:              	ends
 15430                        ;
 15431                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 15432                        ;{
 15433                        	.line	2470
 15434                        	.line	2471
 15435                        	GUI
 15436                        	xdef	~~k_draw_ui_window
 15437                        	func
 15438                        	.function	2471
 15439                        ~~k_draw_ui_window:
 15440                        	longa	on
 15441                        	longi	on
 15442 03:3FF1: 3B           	tsc
 15443 03:3FF2: 38           	sec
 15444 03:3FF3: E9 22 00     	sbc	#L718
 15445 03:3FF6: 1B           	tcs
 15446 03:3FF7: 0B           	phd
 15447 03:3FF8: 5B           	tcd
 15448             00000004   cx_0	set	4
 15449             00000006   cy_0	set	6
 15450             00000008   height_0	set	8
 15451             0000000A   width_0	set	10
 15452             0000000C   title_0	set	12
 15453             00000010   color_0	set	16
 15454             00000012   bgcolor_0	set	18
 15455                        	.block	2471
 15456                        ;	FONTMETRIC metric;
 15457                        ;	
 15458                        ;	int i = 0;
 15459                        ;	
 15460                        ;	int borderTitle = 10;
 15461                        ;	int borderWidth = 2;
 15462                        ;
 15463                        ;	int titleOffsetX = cx+2;
 15464                        ;	int titleOffsetY = cy+2;
 15465                        ;	int titleScaler = 0;
 15466                        ;	
 15467                        ;	int clientOffsetX = cx+borderWidth+2;
 15468                        ;	int clientOffsetY = cy+borderTitle+1;
 15469                        ;	
 15470                        ;	int currX = clientOffsetX;
 15471                        ;	int currY = clientOffsetY;
 15472                        ;	
 15473                        ;	int endX = width + cx - borderWidth;
 15474                        ;	
 15475                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
 15476             00000000   metric_1	set	0
 15477             00000004   i_1	set	4
 15478             00000006   borderTitle_1	set	6
  Wed Nov 18 2020  8:27                                                Page 283


 15479             00000008   borderWidth_1	set	8
 15480             0000000A   titleOffsetX_1	set	10
 15481             0000000C   titleOffsetY_1	set	12
 15482             0000000E   titleScaler_1	set	14
 15483             00000010   clientOffsetX_1	set	16
 15484             00000012   clientOffsetY_1	set	18
 15485             00000014   currX_1	set	20
 15486             00000016   currY_1	set	22
 15487             00000018   endX_1	set	24
 15488                        	.sym	metric,0,10,1,32,29
 15489                        	.sym	i,4,5,1,16
 15490                        	.sym	borderTitle,6,5,1,16
 15491                        	.sym	borderWidth,8,5,1,16
 15492                        	.sym	titleOffsetX,10,5,1,16
 15493                        	.sym	titleOffsetY,12,5,1,16
 15494                        	.sym	titleScaler,14,5,1,16
 15495                        	.sym	clientOffsetX,16,5,1,16
 15496                        	.sym	clientOffsetY,18,5,1,16
 15497                        	.sym	currX,20,5,1,16
 15498                        	.sym	currY,22,5,1,16
 15499                        	.sym	endX,24,5,1,16
 15500                        	.sym	cx,4,5,6,16
 15501                        	.sym	cy,6,5,6,16
 15502                        	.sym	height,8,5,6,16
 15503                        	.sym	width,10,5,6,16
 15504                        	.sym	title,12,142,6,32
 15505                        	.sym	color,16,5,6,16
 15506                        	.sym	bgcolor,18,5,6,16
 15507 03:3FF9: 64 0D        	stz	<L719+i_1
 15508 03:3FFB: A9 0A 00     	lda	#$a
 15509 03:3FFE: 85 0F        	sta	<L719+borderTitle_1
 15510 03:4000: A9 02 00     	lda	#$2
 15511 03:4003: 85 11        	sta	<L719+borderWidth_1
 15512 03:4005: 18           	clc
 15513 03:4006: A9 02 00     	lda	#$2
 15514 03:4009: 65 26        	adc	<L718+cx_0
 15515 03:400B: 85 13        	sta	<L719+titleOffsetX_1
 15516 03:400D: 18           	clc
 15517 03:400E: A9 02 00     	lda	#$2
 15518 03:4011: 65 28        	adc	<L718+cy_0
 15519 03:4013: 85 15        	sta	<L719+titleOffsetY_1
 15520 03:4015: 64 17        	stz	<L719+titleScaler_1
 15521 03:4017: 18           	clc
 15522 03:4018: A5 26        	lda	<L718+cx_0
 15523 03:401A: 65 11        	adc	<L719+borderWidth_1
 15524 03:401C: 85 01        	sta	<R0
 15525 03:401E: 18           	clc
 15526 03:401F: A9 02 00     	lda	#$2
 15527 03:4022: 65 01        	adc	<R0
 15528 03:4024: 85 19        	sta	<L719+clientOffsetX_1
 15529 03:4026: 18           	clc
 15530 03:4027: A5 28        	lda	<L718+cy_0
 15531 03:4029: 65 0F        	adc	<L719+borderTitle_1
 15532 03:402B: 85 01        	sta	<R0
 15533 03:402D: A5 01        	lda	<R0
 15534 03:402F: 1A           	ina
 15535 03:4030: 85 1B        	sta	<L719+clientOffsetY_1
 15536 03:4032: A5 19        	lda	<L719+clientOffsetX_1
  Wed Nov 18 2020  8:27                                                Page 284


 15537 03:4034: 85 1D        	sta	<L719+currX_1
 15538 03:4036: A5 1B        	lda	<L719+clientOffsetY_1
 15539 03:4038: 85 1F        	sta	<L719+currY_1
 15540 03:403A: 18           	clc
 15541 03:403B: A5 2C        	lda	<L718+width_0
 15542 03:403D: 65 26        	adc	<L718+cx_0
 15543 03:403F: 85 01        	sta	<R0
 15544 03:4041: 38           	sec
 15545 03:4042: A5 01        	lda	<R0
 15546 03:4044: E5 11        	sbc	<L719+borderWidth_1
 15547 03:4046: 85 21        	sta	<L719+endX_1
 15548                        	.line	2491
 15549 03:4048: D4 32        	pei	<L718+color_0
 15550 03:404A: D4 2C        	pei	<L718+width_0
 15551 03:404C: D4 2A        	pei	<L718+height_0
 15552 03:404E: D4 28        	pei	<L718+cy_0
 15553 03:4050: D4 26        	pei	<L718+cx_0
 15554 03:4052: 22 5B 31 03  	jsl	~~k_draw_filled_rect
 15555                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 15556                        	.line	2492
 15557                        ;	                   height - borderTitle - border
                    Width,
 15558                        ;					   width - borde
                    rWidth - borderWidth,
 15559                        ;					   bgcolor);
 15560 03:4056: D4 34        	pei	<L718+bgcolor_0
 15561 03:4058: 38           	sec
 15562 03:4059: A5 2C        	lda	<L718+width_0
 15563 03:405B: E5 11        	sbc	<L719+borderWidth_1
 15564 03:405D: 85 01        	sta	<R0
 15565 03:405F: 38           	sec
 15566 03:4060: A5 01        	lda	<R0
 15567 03:4062: E5 11        	sbc	<L719+borderWidth_1
 15568 03:4064: 48           	pha
 15569 03:4065: 38           	sec
 15570 03:4066: A5 2A        	lda	<L718+height_0
 15571 03:4068: E5 0F        	sbc	<L719+borderTitle_1
 15572 03:406A: 85 01        	sta	<R0
 15573 03:406C: 38           	sec
 15574 03:406D: A5 01        	lda	<R0
 15575 03:406F: E5 11        	sbc	<L719+borderWidth_1
 15576 03:4071: 48           	pha
 15577 03:4072: 18           	clc
 15578 03:4073: A5 28        	lda	<L718+cy_0
 15579 03:4075: 65 0F        	adc	<L719+borderTitle_1
 15580 03:4077: 48           	pha
 15581 03:4078: 18           	clc
 15582 03:4079: A5 26        	lda	<L718+cx_0
 15583 03:407B: 65 11        	adc	<L719+borderWidth_1
 15584 03:407D: 48           	pha
 15585 03:407E: 22 5B 31 03  	jsl	~~k_draw_filled_rect
 15586                        ;	
 15587                        ;	k_get_font_metrics(&metric);
 15588                        	.line	2497
 15589 03:4082: F4 00 00     	pea	#0
 15590 03:4085: 18           	clc
 15591 03:4086: 7B           	tdc
  Wed Nov 18 2020  8:27                                                Page 285


 15592 03:4087: 69 09 00     	adc	#<L719+metric_1
 15593 03:408A: 48           	pha
 15594 03:408B: 22 BF 17 03  	jsl	~~k_get_font_metrics
 15595                        ;	
 15596                        ;	
 15597                        ;	title = strupr(title);
 15598                        	.line	2500
 15599 03:408F: D4 30        	pei	<L718+title_0+2
 15600 03:4091: D4 2E        	pei	<L718+title_0
 15601 03:4093: 22 xx xx xx  	jsl	~~strupr
 15602 03:4097: 85 2E        	sta	<L718+title_0
 15603 03:4099: 86 30        	stx	<L718+title_0+2
 15604                        ;	
 15605                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 15606                        	.line	2502
 15607 03:409B: F4 0E 00     	pea	#<$e
 15608 03:409E: D4 15        	pei	<L719+titleOffsetY_1
 15609 03:40A0: D4 13        	pei	<L719+titleOffsetX_1
 15610 03:40A2: F4 05 00     	pea	#<$5
 15611 03:40A5: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15612 03:40A9: 85 01        	sta	<R0
 15613 03:40AB: 18           	clc
 15614 03:40AC: A5 01        	lda	<R0
 15615 03:40AE: 65 13        	adc	<L719+titleOffsetX_1
 15616 03:40B0: 85 13        	sta	<L719+titleOffsetX_1
 15617                        ;	
 15618                        ;	titleScaler = (int)(width / metric.width - 4);
 15619                        	.line	2504
 15620 03:40B2: A5 2C        	lda	<L718+width_0
 15621 03:40B4: A6 09        	ldx	<L719+metric_1
 15622                        	xref	~~~div
 15623 03:40B6: 22 xx xx xx  	jsl	~~~div
 15624 03:40BA: 85 01        	sta	<R0
 15625 03:40BC: 18           	clc
 15626 03:40BD: A9 FC FF     	lda	#$fffc
 15627 03:40C0: 65 01        	adc	<R0
 15628 03:40C2: 85 17        	sta	<L719+titleScaler_1
 15629                        ;	for(i=0;i<titleScaler;i++)
 15630                        	.line	2505
 15631 03:40C4: 64 0D        	stz	<L719+i_1
 15632 03:40C6: 82 19 00     	brl	L10322
 15633                        L10321:
 15634                        ;	{
 15635                        	.line	2506
 15636                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 15637                        	.line	2507
 15638 03:40C9: F4 0E 00     	pea	#<$e
 15639 03:40CC: D4 15        	pei	<L719+titleOffsetY_1
 15640 03:40CE: D4 13        	pei	<L719+titleOffsetX_1
 15641 03:40D0: F4 01 00     	pea	#<$1
 15642 03:40D3: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15643 03:40D7: 85 01        	sta	<R0
 15644 03:40D9: 18           	clc
 15645 03:40DA: A5 01        	lda	<R0
 15646 03:40DC: 65 13        	adc	<L719+titleOffsetX_1
 15647 03:40DE: 85 13        	sta	<L719+titleOffsetX_1
  Wed Nov 18 2020  8:27                                                Page 286


 15648                        ;	}
 15649                        	.line	2508
 15650                        L10319:
 15651 03:40E0: E6 0D        	inc	<L719+i_1
 15652                        L10322:
 15653 03:40E2: 38           	sec
 15654 03:40E3: A5 0D        	lda	<L719+i_1
 15655 03:40E5: E5 17        	sbc	<L719+titleScaler_1
 15656 03:40E7: 70 03        	bvs	L721
 15657 03:40E9: 49 00 80     	eor	#$8000
 15658                        L721:
 15659 03:40EC: 30 03        	bmi	L722
 15660 03:40EE: 82 D8 FF     	brl	L10321
 15661                        L722:
 15662                        L10320:
 15663                        ;	/*
 15664                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 15665                        ;	titleOffsetX+=2;
 15666                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 15667                        ;	*/
 15668                        ;	
 15669                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 15670                        	.line	2515
 15671 03:40F1: F4 0E 00     	pea	#<$e
 15672 03:40F4: D4 15        	pei	<L719+titleOffsetY_1
 15673 03:40F6: A5 09        	lda	<L719+metric_1
 15674 03:40F8: 0A           	asl	A
 15675 03:40F9: 85 01        	sta	<R0
 15676 03:40FB: 18           	clc
 15677 03:40FC: A9 02 00     	lda	#$2
 15678 03:40FF: 65 01        	adc	<R0
 15679 03:4101: 85 05        	sta	<R1
 15680 03:4103: 38           	sec
 15681 03:4104: A5 21        	lda	<L719+endX_1
 15682 03:4106: E5 05        	sbc	<R1
 15683 03:4108: 48           	pha
 15684 03:4109: F4 04 00     	pea	#<$4
 15685 03:410C: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15686                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 15687                        	.line	2516
 15688 03:4110: F4 0E 00     	pea	#<$e
 15689 03:4113: D4 15        	pei	<L719+titleOffsetY_1
 15690 03:4115: 38           	sec
 15691 03:4116: A5 21        	lda	<L719+endX_1
 15692 03:4118: E5 09        	sbc	<L719+metric_1
 15693 03:411A: 48           	pha
 15694 03:411B: F4 03 00     	pea	#<$3
 15695 03:411E: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15696                        ;	
 15697                        ;	
 15698                        ;	for(i=0;i<=strlen(title);i++)
 15699                        	.line	2519
 15700 03:4122: 64 0D        	stz	<L719+i_1
 15701 03:4124: 82 2D 00     	brl	L10326
  Wed Nov 18 2020  8:27                                                Page 287


 15702                        L10325:
 15703                        ;	{
 15704                        	.line	2520
 15705                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 15706                        	.line	2521
 15707 03:4127: F4 0F 00     	pea	#<$f
 15708 03:412A: D4 15        	pei	<L719+titleOffsetY_1
 15709 03:412C: A5 09        	lda	<L719+metric_1
 15710 03:412E: A6 0D        	ldx	<L719+i_1
 15711                        	xref	~~~mul
 15712 03:4130: 22 xx xx xx  	jsl	~~~mul
 15713 03:4134: 85 01        	sta	<R0
 15714 03:4136: 18           	clc
 15715 03:4137: A5 01        	lda	<R0
 15716 03:4139: 65 26        	adc	<L718+cx_0
 15717 03:413B: 85 05        	sta	<R1
 15718 03:413D: 18           	clc
 15719 03:413E: A5 05        	lda	<R1
 15720 03:4140: 65 09        	adc	<L719+metric_1
 15721 03:4142: 85 01        	sta	<R0
 15722 03:4144: 18           	clc
 15723 03:4145: A9 02 00     	lda	#$2
 15724 03:4148: 65 01        	adc	<R0
 15725 03:414A: 48           	pha
 15726 03:414B: F4 00 00     	pea	#<$0
 15727 03:414E: 22 3F 1E 03  	jsl	~~k_put_wingadget_point
 15728                        ;	}
 15729                        	.line	2522
 15730                        L10323:
 15731 03:4152: E6 0D        	inc	<L719+i_1
 15732                        L10326:
 15733 03:4154: D4 30        	pei	<L718+title_0+2
 15734 03:4156: D4 2E        	pei	<L718+title_0
 15735 03:4158: 22 xx xx xx  	jsl	~~strlen
 15736 03:415C: 85 01        	sta	<R0
 15737 03:415E: A5 01        	lda	<R0
 15738 03:4160: C5 0D        	cmp	<L719+i_1
 15739 03:4162: 90 03        	bcc	L723
 15740 03:4164: 82 C0 FF     	brl	L10325
 15741                        L723:
 15742                        L10324:
 15743                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 15744                        	.line	2523
 15745 03:4167: F4 00 00     	pea	#<$0
 15746 03:416A: D4 15        	pei	<L719+titleOffsetY_1
 15747 03:416C: 18           	clc
 15748 03:416D: A5 26        	lda	<L718+cx_0
 15749 03:416F: 65 09        	adc	<L719+metric_1
 15750 03:4171: 85 01        	sta	<R0
 15751 03:4173: 18           	clc
 15752 03:4174: A9 02 00     	lda	#$2
 15753 03:4177: 65 01        	adc	<R0
 15754 03:4179: 48           	pha
 15755 03:417A: D4 30        	pei	<L718+title_0+2
 15756 03:417C: D4 2E        	pei	<L718+title_0
 15757 03:417E: 22 6C 16 03  	jsl	~~k_draw_text_point
  Wed Nov 18 2020  8:27                                                Page 288


 15758                        ;	
 15759                        ;	/*
 15760                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 15761                        ;	titleOffsetX+=metric.width;
 15762                        ;	
 15763                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 15764                        ;	titleOffsetX+=metric.width;
 15765                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 15766                        ;	titleOffsetX+=metric.width;
 15767                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 15768                        ;	titleOffsetX+=metric.width;
 15769                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 15770                        ;	*/
 15771                        ;	
 15772                        ;	k_draw_text_point("READY.",currX,currY,15);
 15773                        	.line	2538
 15774 03:4182: F4 0F 00     	pea	#<$f
 15775 03:4185: D4 1F        	pei	<L719+currY_1
 15776 03:4187: D4 1D        	pei	<L719+currX_1
 15777 03:4189: F4 xx xx     	pea	#^L717
 15778 03:418C: F4 xx xx     	pea	#<L717
 15779 03:418F: 22 6C 16 03  	jsl	~~k_draw_text_point
 15780                        ;	currY+=metric.height;	
 15781                        	.line	2539
 15782 03:4193: 18           	clc
 15783 03:4194: A5 1F        	lda	<L719+currY_1
 15784 03:4196: 65 0B        	adc	<L719+metric_1+2
 15785 03:4198: 85 1F        	sta	<L719+currY_1
 15786                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
                    rrX,currY,15);
 15787                        	.line	2540
 15788 03:419A: F4 0F 00     	pea	#<$f
 15789 03:419D: D4 1F        	pei	<L719+currY_1
 15790 03:419F: D4 1D        	pei	<L719+currX_1
 15791 03:41A1: F4 xx xx     	pea	#^L717+7
 15792 03:41A4: F4 xx xx     	pea	#<L717+7
 15793 03:41A7: 22 6C 16 03  	jsl	~~k_draw_text_point
 15794                        ;	currY+=metric.height;
 15795                        	.line	2541
 15796 03:41AB: 18           	clc
 15797 03:41AC: A5 1F        	lda	<L719+currY_1
 15798 03:41AE: 65 0B        	adc	<L719+metric_1+2
 15799 03:41B0: 85 1F        	sta	<L719+currY_1
 15800                        ;	k_draw_text_point("RUN",currX,currY,15);
 15801                        	.line	2542
 15802 03:41B2: F4 0F 00     	pea	#<$f
 15803 03:41B5: D4 1F        	pei	<L719+currY_1
 15804 03:41B7: D4 1D        	pei	<L719+currX_1
 15805 03:41B9: F4 xx xx     	pea	#^L717+31
 15806 03:41BC: F4 xx xx     	pea	#<L717+31
 15807 03:41BF: 22 6C 16 03  	jsl	~~k_draw_text_point
 15808                        ;	currY+=metric.height;
 15809                        	.line	2543
  Wed Nov 18 2020  8:27                                                Page 289


 15810 03:41C3: 18           	clc
 15811 03:41C4: A5 1F        	lda	<L719+currY_1
 15812 03:41C6: 65 0B        	adc	<L719+metric_1+2
 15813 03:41C8: 85 1F        	sta	<L719+currY_1
 15814                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 15815                        	.line	2544
 15816 03:41CA: F4 0F 00     	pea	#<$f
 15817 03:41CD: D4 1F        	pei	<L719+currY_1
 15818 03:41CF: D4 1D        	pei	<L719+currX_1
 15819 03:41D1: F4 xx xx     	pea	#^L717+35
 15820 03:41D4: F4 xx xx     	pea	#<L717+35
 15821 03:41D7: 22 6C 16 03  	jsl	~~k_draw_text_point
 15822                        ;}
 15823                        	.line	2545
 15824                        L724:
 15825 03:41DB: A5 24        	lda	<L718+2
 15826 03:41DD: 85 34        	sta	<L718+2+16
 15827 03:41DF: A5 23        	lda	<L718+1
 15828 03:41E1: 85 33        	sta	<L718+1+16
 15829 03:41E3: 2B           	pld
 15830 03:41E4: 3B           	tsc
 15831 03:41E5: 18           	clc
 15832 03:41E6: 69 32 00     	adc	#L718+16
 15833 03:41E9: 1B           	tcs
 15834 03:41EA: 6B           	rtl
 15835                        	.endblock	2545
 15836             00000022   L718	equ	34
 15837             00000009   L719	equ	9
 15838 03:41EB:              	ends
 15839                        	efunc
 15840                        	.endfunc	2545,9,34
 15841                        	.line	2545
 15842                        	data
 15843                        L717:
 15844 00:05C5: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:05C9: 59 2E 00 31 
       00:05CD: 30 20 50 52 
       00:05D1: 49 4E 54 
 15845 00:05D4: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:05D8: 4C 4C 4F 20 
       00:05DC: 57 4F 52 4C 
       00:05E0: 44 21 22 
 15846 00:05E3: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
                    $20,$57,$4F,$52,$4C
       00:05E7: 00 48 45 4C 
       00:05EB: 4C 4F 20 57 
       00:05EF: 4F 52 4C 
 15847 00:05F2: 44 21 00     	db	$44,$21,$00
 15848 00:05F5:              	ends
 15849                        ;
 15850                        ;
 15851                        ;void k_paint_brush_rect(long x,long y,int width,i
                    nt height,BYTE pattern)
 15852                        ;{
 15853                        	.line	2548
  Wed Nov 18 2020  8:27                                                Page 290


 15854                        	.line	2549
 15855                        	GUI
 15856                        	xdef	~~k_paint_brush_rect
 15857                        	func
 15858                        	.function	2549
 15859                        ~~k_paint_brush_rect:
 15860                        	longa	on
 15861                        	longi	on
 15862 03:41EB: 3B           	tsc
 15863 03:41EC: 38           	sec
 15864 03:41ED: E9 19 00     	sbc	#L726
 15865 03:41F0: 1B           	tcs
 15866 03:41F1: 0B           	phd
 15867 03:41F2: 5B           	tcd
 15868             00000004   x_0	set	4
 15869             00000008   y_0	set	8
 15870             0000000C   width_0	set	12
 15871             0000000E   height_0	set	14
 15872             00000010   pattern_0	set	16
 15873                        	.block	2549
 15874                        ;	ULONG pos = 0L;
 15875                        ;	BOOL odd = FALSE;
 15876                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 15877                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 15878                        ;
 15879                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 15880                        ;
 15881                        ;	for(pos=0;pos<479;pos++)
 15882             00000000   pos_1	set	0
 15883             00000004   odd_1	set	4
 15884             00000005   startLocation_1	set	5
 15885             00000009   endLocation_1	set	9
 15886                        	.sym	pos,0,18,1,32
 15887                        	.sym	odd,4,14,1,8
 15888                        	.sym	startLocation,5,7,1,32
 15889                        	.sym	endLocation,9,7,1,32
 15890                        	.sym	x,4,7,6,32
 15891                        	.sym	y,8,7,6,32
 15892                        	.sym	width,12,5,6,16
 15893                        	.sym	height,14,5,6,16
 15894                        	.sym	pattern,16,14,6,8
 15895 03:41F3: 64 0D        	stz	<L727+pos_1
 15896 03:41F5: 64 0F        	stz	<L727+pos_1+2
 15897 03:41F7: E2 20        	sep	#$20
 15898                        	longa	off
 15899 03:41F9: 64 11        	stz	<L727+odd_1
 15900 03:41FB: C2 20        	rep	#$20
 15901                        	longa	on
 15902 03:41FD: F4 00 00     	pea	#^$280
 15903 03:4200: F4 80 02     	pea	#<$280
 15904 03:4203: D4 23        	pei	<L726+y_0+2
 15905 03:4205: D4 21        	pei	<L726+y_0
 15906                        	xref	~~~lmul
 15907 03:4207: 22 xx xx xx  	jsl	~~~lmul
 15908 03:420B: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 291


 15909 03:420D: 86 03        	stx	<R0+2
 15910 03:420F: 18           	clc
 15911 03:4210: A5 01        	lda	<R0
 15912 03:4212: 65 1D        	adc	<L726+x_0
 15913 03:4214: 85 12        	sta	<L727+startLocation_1
 15914 03:4216: A5 03        	lda	<R0+2
 15915 03:4218: 65 1F        	adc	<L726+x_0+2
 15916 03:421A: 85 14        	sta	<L727+startLocation_1+2
 15917 03:421C: A9 FF AF     	lda	#$afff
 15918 03:421F: 85 16        	sta	<L727+endLocation_1
 15919 03:4221: A9 04 00     	lda	#$4
 15920 03:4224: 85 18        	sta	<L727+endLocation_1+2
 15921                        	.line	2557
 15922 03:4226: 64 0D        	stz	<L727+pos_1
 15923 03:4228: 64 0F        	stz	<L727+pos_1+2
 15924                        L10329:
 15925                        ;	{
 15926                        	.line	2558
 15927                        ;		if(odd)
 15928                        	.line	2559
 15929                        ;		{
 15930 03:422A: A5 11        	lda	<L727+odd_1
 15931 03:422C: 29 FF 00     	and	#$ff
 15932 03:422F: D0 03        	bne	L729
 15933 03:4231: 82 3D 00     	brl	L10330
 15934                        L729:
 15935                        	.line	2560
 15936                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 15937                        	.line	2561
 15938 03:4234: F4 50 00     	pea	#<$50
 15939 03:4237: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
 15940 03:423A: 85 01        	sta	<R0
 15941                        	xref	_BEG_DATA
 15942 03:423C: A9 xx xx     	lda	#_BEG_DATA>>16
 15943 03:423F: 85 03        	sta	<R0+2
 15944 03:4241: D4 03        	pei	<R0+2
 15945 03:4243: D4 01        	pei	<R0
 15946 03:4245: F4 00 00     	pea	#^$280
 15947 03:4248: F4 80 02     	pea	#<$280
 15948 03:424B: D4 0F        	pei	<L727+pos_1+2
 15949 03:424D: D4 0D        	pei	<L727+pos_1
 15950                        	xref	~~~lmul
 15951 03:424F: 22 xx xx xx  	jsl	~~~lmul
 15952 03:4253: 85 05        	sta	<R1
 15953 03:4255: 86 07        	stx	<R1+2
 15954 03:4257: 18           	clc
 15955 03:4258: A9 00 00     	lda	#$0
 15956 03:425B: 65 05        	adc	<R1
 15957 03:425D: 85 09        	sta	<R2
 15958 03:425F: A9 B0 00     	lda	#$b0
 15959 03:4262: 65 07        	adc	<R1+2
 15960 03:4264: 85 0B        	sta	<R2+2
 15961 03:4266: D4 0B        	pei	<R2+2
 15962 03:4268: D4 09        	pei	<R2
 15963 03:426A: 22 xx xx xx  	jsl	~~memcpy
 15964                        ;		}
 15965                        	.line	2562
  Wed Nov 18 2020  8:27                                                Page 292


 15966                        ;		else
 15967 03:426E: 82 3A 00     	brl	L10331
 15968                        L10330:
 15969                        ;		{
 15970                        	.line	2564
 15971                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 15972                        	.line	2565
 15973 03:4271: F4 50 00     	pea	#<$50
 15974 03:4274: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 15975 03:4277: 85 01        	sta	<R0
 15976                        	xref	_BEG_DATA
 15977 03:4279: A9 xx xx     	lda	#_BEG_DATA>>16
 15978 03:427C: 85 03        	sta	<R0+2
 15979 03:427E: D4 03        	pei	<R0+2
 15980 03:4280: D4 01        	pei	<R0
 15981 03:4282: F4 00 00     	pea	#^$280
 15982 03:4285: F4 80 02     	pea	#<$280
 15983 03:4288: D4 0F        	pei	<L727+pos_1+2
 15984 03:428A: D4 0D        	pei	<L727+pos_1
 15985                        	xref	~~~lmul
 15986 03:428C: 22 xx xx xx  	jsl	~~~lmul
 15987 03:4290: 85 05        	sta	<R1
 15988 03:4292: 86 07        	stx	<R1+2
 15989 03:4294: 18           	clc
 15990 03:4295: A9 00 00     	lda	#$0
 15991 03:4298: 65 05        	adc	<R1
 15992 03:429A: 85 09        	sta	<R2
 15993 03:429C: A9 B0 00     	lda	#$b0
 15994 03:429F: 65 07        	adc	<R1+2
 15995 03:42A1: 85 0B        	sta	<R2+2
 15996 03:42A3: D4 0B        	pei	<R2+2
 15997 03:42A5: D4 09        	pei	<R2
 15998 03:42A7: 22 xx xx xx  	jsl	~~memcpy
 15999                        ;
 16000                        ;		}
 16001                        	.line	2567
 16002                        L10331:
 16003                        ;		odd=!odd;
 16004                        	.line	2568
 16005 03:42AB: 64 01        	stz	<R0
 16006 03:42AD: A5 11        	lda	<L727+odd_1
 16007 03:42AF: 29 FF 00     	and	#$ff
 16008 03:42B2: F0 03        	beq	L731
 16009 03:42B4: 82 02 00     	brl	L730
 16010                        L731:
 16011 03:42B7: E6 01        	inc	<R0
 16012                        L730:
 16013 03:42B9: E2 20        	sep	#$20
 16014                        	longa	off
 16015 03:42BB: A5 01        	lda	<R0
 16016 03:42BD: 85 11        	sta	<L727+odd_1
 16017 03:42BF: C2 20        	rep	#$20
 16018                        	longa	on
 16019                        ;	}
 16020                        	.line	2569
 16021                        L10327:
 16022 03:42C1: E6 0D        	inc	<L727+pos_1
  Wed Nov 18 2020  8:27                                                Page 293


 16023 03:42C3: D0 02        	bne	L732
 16024 03:42C5: E6 0F        	inc	<L727+pos_1+2
 16025                        L732:
 16026 03:42C7: A5 0D        	lda	<L727+pos_1
 16027 03:42C9: C9 DF 01     	cmp	#<$1df
 16028 03:42CC: A5 0F        	lda	<L727+pos_1+2
 16029 03:42CE: E9 00 00     	sbc	#^$1df
 16030 03:42D1: B0 03        	bcs	L733
 16031 03:42D3: 82 54 FF     	brl	L10329
 16032                        L733:
 16033                        L10328:
 16034                        ;
 16035                        ;
 16036                        ;
 16037                        ;	return;
 16038                        	.line	2573
 16039                        L734:
 16040 03:42D6: A5 1B        	lda	<L726+2
 16041 03:42D8: 85 29        	sta	<L726+2+14
 16042 03:42DA: A5 1A        	lda	<L726+1
 16043 03:42DC: 85 28        	sta	<L726+1+14
 16044 03:42DE: 2B           	pld
 16045 03:42DF: 3B           	tsc
 16046 03:42E0: 18           	clc
 16047 03:42E1: 69 27 00     	adc	#L726+14
 16048 03:42E4: 1B           	tcs
 16049 03:42E5: 6B           	rtl
 16050                        ;}
 16051                        	.line	2574
 16052                        	.endblock	2574
 16053             00000019   L726	equ	25
 16054             0000000D   L727	equ	13
 16055 03:42E6:              	ends
 16056                        	efunc
 16057                        	.endfunc	2574,13,25
 16058                        	.line	2574
 16059                        ;
 16060                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 16061                        ;{
 16062                        	.line	2576
 16063                        	.line	2577
 16064                        	GUI
 16065                        	xdef	~~k_paint_brush_at_address
 16066                        	func
 16067                        	.function	2577
 16068                        ~~k_paint_brush_at_address:
 16069                        	longa	on
 16070                        	longi	on
 16071 03:42E6: 3B           	tsc
 16072 03:42E7: 38           	sec
 16073 03:42E8: E9 0D 00     	sbc	#L735
 16074 03:42EB: 1B           	tcs
 16075 03:42EC: 0B           	phd
 16076 03:42ED: 5B           	tcd
 16077             00000004   pdst_0	set	4
 16078             00000008   width_0	set	8
 16079             0000000A   height_0	set	10
  Wed Nov 18 2020  8:27                                                Page 294


 16080             0000000C   pattern_0	set	12
 16081                        	.block	2577
 16082                        ;	int pos = 0;
 16083                        ;	int spinLock = 0;
 16084                        ;	char status = VDMA_STAT_VDMA_IPS;
 16085                        ;
 16086                        ;
 16087                        ;	while(status == VDMA_STAT_VDMA_IPS)
 16088             00000000   pos_1	set	0
 16089             00000002   spinLock_1	set	2
 16090             00000004   status_1	set	4
 16091                        	.sym	pos,0,5,1,16
 16092                        	.sym	spinLock,2,5,1,16
 16093                        	.sym	status,4,14,1,8
 16094                        	.sym	pdst,4,142,6,32
 16095                        	.sym	width,8,5,6,16
 16096                        	.sym	height,10,5,6,16
 16097                        	.sym	pattern,12,14,6,8
 16098 03:42EE: 64 09        	stz	<L736+pos_1
 16099 03:42F0: 64 0B        	stz	<L736+spinLock_1
 16100 03:42F2: E2 20        	sep	#$20
 16101                        	longa	off
 16102 03:42F4: A9 80        	lda	#$80
 16103 03:42F6: 85 0D        	sta	<L736+status_1
 16104 03:42F8: C2 20        	rep	#$20
 16105                        	longa	on
 16106                        	.line	2583
 16107                        L10332:
 16108 03:42FA: E2 20        	sep	#$20
 16109                        	longa	off
 16110 03:42FC: A5 0D        	lda	<L736+status_1
 16111 03:42FE: C9 80        	cmp	#<$80
 16112 03:4300: C2 20        	rep	#$20
 16113                        	longa	on
 16114 03:4302: F0 03        	beq	L738
 16115 03:4304: 82 0F 00     	brl	L10333
 16116                        L738:
 16117                        ;	{
 16118                        	.line	2584
 16119                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 16120                        	.line	2585
 16121 03:4307: E2 20        	sep	#$20
 16122                        	longa	off
 16123 03:4309: AF 01 04 AF  	lda	>11469825
 16124 03:430D: 29 80        	and	#<$80
 16125 03:430F: 85 0D        	sta	<L736+status_1
 16126 03:4311: C2 20        	rep	#$20
 16127                        	longa	on
 16128                        ;	}
 16129                        	.line	2586
 16130 03:4313: 82 E4 FF     	brl	L10332
 16131                        L10333:
 16132                        ;
 16133                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_TRF_FILL;
 16134                        	.line	2588
 16135 03:4316: E2 20        	sep	#$20
  Wed Nov 18 2020  8:27                                                Page 295


 16136                        	longa	off
 16137 03:4318: A9 05        	lda	#$5
 16138 03:431A: 8F 00 04 AF  	sta	>11469824
 16139 03:431E: C2 20        	rep	#$20
 16140                        	longa	on
 16141                        ;
 16142                        ;	*BM_START_ADDY_L = 0x00;
 16143                        	.line	2590
 16144 03:4320: E2 20        	sep	#$20
 16145                        	longa	off
 16146 03:4322: A9 00        	lda	#$0
 16147 03:4324: 8F 41 01 AF  	sta	>11469121
 16148 03:4328: C2 20        	rep	#$20
 16149                        	longa	on
 16150                        ;	*BM_START_ADDY_M = 0x00;
 16151                        	.line	2591
 16152 03:432A: E2 20        	sep	#$20
 16153                        	longa	off
 16154 03:432C: A9 00        	lda	#$0
 16155 03:432E: 8F 42 01 AF  	sta	>11469122
 16156 03:4332: C2 20        	rep	#$20
 16157                        	longa	on
 16158                        ;	*BM_START_ADDY_H = 0x00;
 16159                        	.line	2592
 16160 03:4334: E2 20        	sep	#$20
 16161                        	longa	off
 16162 03:4336: A9 00        	lda	#$0
 16163 03:4338: 8F 43 01 AF  	sta	>11469123
 16164 03:433C: C2 20        	rep	#$20
 16165                        	longa	on
 16166                        ;	*((char FAR*)0xAF1F80) = 0x02;
 16167                        	.line	2593
 16168 03:433E: E2 20        	sep	#$20
 16169                        	longa	off
 16170 03:4340: A9 02        	lda	#$2
 16171 03:4342: 8F 80 1F AF  	sta	>11476864
 16172 03:4346: C2 20        	rep	#$20
 16173                        	longa	on
 16174                        ;
 16175                        ;	*BM_X_SIZE_L = 0x80;
 16176                        	.line	2595
 16177 03:4348: E2 20        	sep	#$20
 16178                        	longa	off
 16179 03:434A: A9 80        	lda	#$80
 16180 03:434C: 8F 44 01 AF  	sta	>11469124
 16181 03:4350: C2 20        	rep	#$20
 16182                        	longa	on
 16183                        ;	*BM_X_SIZE_H = 0x02;
 16184                        	.line	2596
 16185 03:4352: E2 20        	sep	#$20
 16186                        	longa	off
 16187 03:4354: A9 02        	lda	#$2
 16188 03:4356: 8F 45 01 AF  	sta	>11469125
 16189 03:435A: C2 20        	rep	#$20
 16190                        	longa	on
 16191                        ;	*BM_Y_SIZE_L = 0xE0;
 16192                        	.line	2597
 16193 03:435C: E2 20        	sep	#$20
  Wed Nov 18 2020  8:27                                                Page 296


 16194                        	longa	off
 16195 03:435E: A9 E0        	lda	#$e0
 16196 03:4360: 8F 46 01 AF  	sta	>11469126
 16197 03:4364: C2 20        	rep	#$20
 16198                        	longa	on
 16199                        ;	*BM_Y_SIZE_H = 0x01;
 16200                        	.line	2598
 16201 03:4366: E2 20        	sep	#$20
 16202                        	longa	off
 16203 03:4368: A9 01        	lda	#$1
 16204 03:436A: 8F 47 01 AF  	sta	>11469127
 16205 03:436E: C2 20        	rep	#$20
 16206                        	longa	on
 16207                        ;
 16208                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 16209                        	.line	2600
 16210 03:4370: E2 20        	sep	#$20
 16211                        	longa	off
 16212 03:4372: A5 15        	lda	<L735+width_0
 16213 03:4374: 8F 08 04 AF  	sta	>11469832
 16214 03:4378: C2 20        	rep	#$20
 16215                        	longa	on
 16216                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 16217                        	.line	2601
 16218 03:437A: A5 15        	lda	<L735+width_0
 16219 03:437C: A2 08 00     	ldx	#<$8
 16220                        	xref	~~~asr
 16221 03:437F: 22 xx xx xx  	jsl	~~~asr
 16222 03:4383: 29 FF 00     	and	#<$ff
 16223 03:4386: 85 01        	sta	<R0
 16224 03:4388: E2 20        	sep	#$20
 16225                        	longa	off
 16226 03:438A: A5 01        	lda	<R0
 16227 03:438C: 8F 09 04 AF  	sta	>11469833
 16228 03:4390: C2 20        	rep	#$20
 16229                        	longa	on
 16230                        ;
 16231                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 16232                        	.line	2603
 16233 03:4392: E2 20        	sep	#$20
 16234                        	longa	off
 16235 03:4394: A5 17        	lda	<L735+height_0
 16236 03:4396: 8F 0A 04 AF  	sta	>11469834
 16237 03:439A: C2 20        	rep	#$20
 16238                        	longa	on
 16239                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 16240                        	.line	2604
 16241 03:439C: A5 17        	lda	<L735+height_0
 16242 03:439E: A2 08 00     	ldx	#<$8
 16243                        	xref	~~~asr
 16244 03:43A1: 22 xx xx xx  	jsl	~~~asr
 16245 03:43A5: 29 FF 00     	and	#<$ff
 16246 03:43A8: 85 01        	sta	<R0
 16247 03:43AA: E2 20        	sep	#$20
 16248                        	longa	off
 16249 03:43AC: A5 01        	lda	<R0
 16250 03:43AE: 8F 0B 04 AF  	sta	>11469835
 16251 03:43B2: C2 20        	rep	#$20
  Wed Nov 18 2020  8:27                                                Page 297


 16252                        	longa	on
 16253                        ;
 16254                        ;	*VDMA_DST_STRIDE_L = 0x80;
 16255                        	.line	2606
 16256 03:43B4: E2 20        	sep	#$20
 16257                        	longa	off
 16258 03:43B6: A9 80        	lda	#$80
 16259 03:43B8: 8F 0E 04 AF  	sta	>11469838
 16260 03:43BC: C2 20        	rep	#$20
 16261                        	longa	on
 16262                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 16263                        	.line	2607
 16264 03:43BE: E2 20        	sep	#$20
 16265                        	longa	off
 16266 03:43C0: A9 02        	lda	#$2
 16267 03:43C2: 8F 0F 04 AF  	sta	>11469839
 16268 03:43C6: C2 20        	rep	#$20
 16269                        	longa	on
 16270                        ;
 16271                        ;
 16272                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 16273                        	.line	2610
 16274 03:43C8: E2 20        	sep	#$20
 16275                        	longa	off
 16276 03:43CA: A5 11        	lda	<L735+pdst_0
 16277 03:43CC: 8F 05 04 AF  	sta	>11469829
 16278 03:43D0: C2 20        	rep	#$20
 16279                        	longa	on
 16280                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 16281                        	.line	2611
 16282 03:43D2: D4 13        	pei	<L735+pdst_0+2
 16283 03:43D4: D4 11        	pei	<L735+pdst_0
 16284 03:43D6: A9 08 00     	lda	#$8
 16285                        	xref	~~~llsr
 16286 03:43D9: 22 xx xx xx  	jsl	~~~llsr
 16287 03:43DD: 85 01        	sta	<R0
 16288 03:43DF: 86 03        	stx	<R0+2
 16289 03:43E1: A5 01        	lda	<R0
 16290 03:43E3: 29 FF 00     	and	#<$ff
 16291 03:43E6: 85 05        	sta	<R1
 16292 03:43E8: 64 07        	stz	<R1+2
 16293 03:43EA: E2 20        	sep	#$20
 16294                        	longa	off
 16295 03:43EC: A5 05        	lda	<R1
 16296 03:43EE: 8F 06 04 AF  	sta	>11469830
 16297 03:43F2: C2 20        	rep	#$20
 16298                        	longa	on
 16299                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 16300                        	.line	2612
 16301 03:43F4: D4 13        	pei	<L735+pdst_0+2
 16302 03:43F6: D4 11        	pei	<L735+pdst_0
 16303 03:43F8: A9 10 00     	lda	#$10
 16304                        	xref	~~~llsr
 16305 03:43FB: 22 xx xx xx  	jsl	~~~llsr
 16306 03:43FF: 85 01        	sta	<R0
 16307 03:4401: 86 03        	stx	<R0+2
 16308 03:4403: A5 01        	lda	<R0
 16309 03:4405: 29 FF 00     	and	#<$ff
  Wed Nov 18 2020  8:27                                                Page 298


 16310 03:4408: 85 05        	sta	<R1
 16311 03:440A: 64 07        	stz	<R1+2
 16312 03:440C: E2 20        	sep	#$20
 16313                        	longa	off
 16314 03:440E: A5 05        	lda	<R1
 16315 03:4410: 8F 07 04 AF  	sta	>11469831
 16316 03:4414: C2 20        	rep	#$20
 16317                        	longa	on
 16318                        ;
 16319                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 16320                        	.line	2614
 16321 03:4416: E2 20        	sep	#$20
 16322                        	longa	off
 16323 03:4418: A5 19        	lda	<L735+pattern_0
 16324 03:441A: 8F 01 04 AF  	sta	>11469825
 16325 03:441E: C2 20        	rep	#$20
 16326                        	longa	on
 16327                        ;
 16328                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 16329                        	.line	2616
 16330 03:4420: E2 20        	sep	#$20
 16331                        	longa	off
 16332 03:4422: A9 85        	lda	#$85
 16333 03:4424: 8F 00 04 AF  	sta	>11469824
 16334 03:4428: C2 20        	rep	#$20
 16335                        	longa	on
 16336                        ;
 16337                        ;
 16338                        ;   return ;
 16339                        	.line	2619
 16340                        L739:
 16341 03:442A: A5 0F        	lda	<L735+2
 16342 03:442C: 85 19        	sta	<L735+2+10
 16343 03:442E: A5 0E        	lda	<L735+1
 16344 03:4430: 85 18        	sta	<L735+1+10
 16345 03:4432: 2B           	pld
 16346 03:4433: 3B           	tsc
 16347 03:4434: 18           	clc
 16348 03:4435: 69 17 00     	adc	#L735+10
 16349 03:4438: 1B           	tcs
 16350 03:4439: 6B           	rtl
 16351                        ;}
 16352                        	.line	2620
 16353                        	.endblock	2620
 16354             0000000D   L735	equ	13
 16355             00000009   L736	equ	9
 16356 03:443A:              	ends
 16357                        	efunc
 16358                        	.endfunc	2620,9,13
 16359                        	.line	2620
 16360                        ;
 16361                        ;
 16362                        ;
 16363                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 16364                        ;{
 16365                        	.line	2624
  Wed Nov 18 2020  8:27                                                Page 299


 16366                        	.line	2625
 16367                        	GUI
 16368                        	xdef	~~k_vdma_fill_rect
 16369                        	func
 16370                        	.function	2625
 16371                        ~~k_vdma_fill_rect:
 16372                        	longa	on
 16373                        	longi	on
 16374 03:443A: 3B           	tsc
 16375 03:443B: 38           	sec
 16376 03:443C: E9 08 00     	sbc	#L740
 16377 03:443F: 1B           	tcs
 16378 03:4440: 0B           	phd
 16379 03:4441: 5B           	tcd
 16380             00000004   x_0	set	4
 16381             00000008   y_0	set	8
 16382             0000000C   width_0	set	12
 16383             0000000E   height_0	set	14
 16384             00000010   pcolor_0	set	16
 16385                        	.block	2625
 16386                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 16387                        ;
 16388                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width - 2, height - 1,pcolor);
 16389             00000000   pixelLocation_1	set	0
 16390                        	.sym	pixelLocation,0,7,1,32
 16391                        	.sym	x,4,7,6,32
 16392                        	.sym	y,8,7,6,32
 16393                        	.sym	width,12,5,6,16
 16394                        	.sym	height,14,5,6,16
 16395                        	.sym	pcolor,16,14,6,8
 16396 03:4442: F4 00 00     	pea	#^$280
 16397 03:4445: F4 80 02     	pea	#<$280
 16398 03:4448: D4 12        	pei	<L740+y_0+2
 16399 03:444A: D4 10        	pei	<L740+y_0
 16400                        	xref	~~~lmul
 16401 03:444C: 22 xx xx xx  	jsl	~~~lmul
 16402 03:4450: 85 01        	sta	<R0
 16403 03:4452: 86 03        	stx	<R0+2
 16404 03:4454: 18           	clc
 16405 03:4455: A5 01        	lda	<R0
 16406 03:4457: 65 0C        	adc	<L740+x_0
 16407 03:4459: 85 05        	sta	<L741+pixelLocation_1
 16408 03:445B: A5 03        	lda	<R0+2
 16409 03:445D: 65 0E        	adc	<L740+x_0+2
 16410 03:445F: 85 07        	sta	<L741+pixelLocation_1+2
 16411                        	.line	2628
 16412 03:4461: D4 18        	pei	<L740+pcolor_0
 16413 03:4463: 18           	clc
 16414 03:4464: A9 FF FF     	lda	#$ffff
 16415 03:4467: 65 16        	adc	<L740+height_0
 16416 03:4469: 48           	pha
 16417 03:446A: 18           	clc
 16418 03:446B: A9 FE FF     	lda	#$fffe
 16419 03:446E: 65 14        	adc	<L740+width_0
 16420 03:4470: 48           	pha
 16421 03:4471: D4 07        	pei	<L741+pixelLocation_1+2
  Wed Nov 18 2020  8:27                                                Page 300


 16422 03:4473: D4 05        	pei	<L741+pixelLocation_1
 16423 03:4475: 22 5C 46 03  	jsl	~~k_vdma_fill_address
 16424                        ;
 16425                        ;#ifdef FX_C256_USESHADOW
 16426                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
 16427                        ;#endif
 16428                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 16429                        ;
 16430                        ;	return;
 16431                        	.line	2635
 16432                        L743:
 16433 03:4479: A5 0A        	lda	<L740+2
 16434 03:447B: 85 18        	sta	<L740+2+14
 16435 03:447D: A5 09        	lda	<L740+1
 16436 03:447F: 85 17        	sta	<L740+1+14
 16437 03:4481: 2B           	pld
 16438 03:4482: 3B           	tsc
 16439 03:4483: 18           	clc
 16440 03:4484: 69 16 00     	adc	#L740+14
 16441 03:4487: 1B           	tcs
 16442 03:4488: 6B           	rtl
 16443                        ;}
 16444                        	.line	2636
 16445                        	.endblock	2636
 16446             00000008   L740	equ	8
 16447             00000005   L741	equ	5
 16448 03:4489:              	ends
 16449                        	efunc
 16450                        	.endfunc	2636,5,8
 16451                        	.line	2636
 16452                        ;
 16453                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
 16454                        ;{
 16455                        	.line	2638
 16456                        	.line	2639
 16457                        	GUI
 16458                        	xdef	~~k_vdma_fill_address_old
 16459                        	func
 16460                        	.function	2639
 16461                        ~~k_vdma_fill_address_old:
 16462                        	longa	on
 16463                        	longi	on
 16464 03:4489: 3B           	tsc
 16465 03:448A: 38           	sec
 16466 03:448B: E9 0D 00     	sbc	#L744
 16467 03:448E: 1B           	tcs
 16468 03:448F: 0B           	phd
 16469 03:4490: 5B           	tcd
 16470             00000004   pdst_0	set	4
 16471             00000008   width_0	set	8
 16472             0000000A   height_0	set	10
 16473             0000000C   data_0	set	12
 16474                        	.block	2639
 16475                        ;	int pos = 0;
 16476                        ;	UINT spinLock = 0;
 16477                        ;	char status = VDMA_STAT_VDMA_IPS;
 16478                        ;
  Wed Nov 18 2020  8:27                                                Page 301


 16479                        ;	/*
 16480                        ;	while(status == VDMA_STAT_VDMA_IPS)
 16481                        ;	{
 16482                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 16483                        ;		spinLock++;
 16484                        ;
 16485                        ;		if(spinLock > 32000)
 16486                        ;		{
 16487                        ;			break;
 16488                        ;		}
 16489                        ;	}
 16490                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 16491                        ;	*/
 16492                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 16493             00000000   pos_1	set	0
 16494             00000002   spinLock_1	set	2
 16495             00000004   status_1	set	4
 16496                        	.sym	pos,0,5,1,16
 16497                        	.sym	spinLock,2,16,1,16
 16498                        	.sym	status,4,14,1,8
 16499                        	.sym	pdst,4,142,6,32
 16500                        	.sym	width,8,5,6,16
 16501                        	.sym	height,10,5,6,16
 16502                        	.sym	data,12,14,6,8
 16503 03:4491: 64 09        	stz	<L745+pos_1
 16504 03:4493: 64 0B        	stz	<L745+spinLock_1
 16505 03:4495: E2 20        	sep	#$20
 16506                        	longa	off
 16507 03:4497: A9 80        	lda	#$80
 16508 03:4499: 85 0D        	sta	<L745+status_1
 16509 03:449B: C2 20        	rep	#$20
 16510                        	longa	on
 16511                        	.line	2657
 16512 03:449D: E2 20        	sep	#$20
 16513                        	longa	off
 16514 03:449F: A9 07        	lda	#$7
 16515 03:44A1: 8F 00 04 AF  	sta	>11469824
 16516 03:44A5: C2 20        	rep	#$20
 16517                        	longa	on
 16518                        ;
 16519                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 16520                        	.line	2659
 16521 03:44A7: E2 20        	sep	#$20
 16522                        	longa	off
 16523 03:44A9: A5 11        	lda	<L744+pdst_0
 16524 03:44AB: 8F 05 04 AF  	sta	>11469829
 16525 03:44AF: C2 20        	rep	#$20
 16526                        	longa	on
 16527                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 16528                        	.line	2660
 16529 03:44B1: D4 13        	pei	<L744+pdst_0+2
 16530 03:44B3: D4 11        	pei	<L744+pdst_0
 16531 03:44B5: A9 08 00     	lda	#$8
 16532                        	xref	~~~llsr
 16533 03:44B8: 22 xx xx xx  	jsl	~~~llsr
  Wed Nov 18 2020  8:27                                                Page 302


 16534 03:44BC: 85 01        	sta	<R0
 16535 03:44BE: 86 03        	stx	<R0+2
 16536 03:44C0: A5 01        	lda	<R0
 16537 03:44C2: 29 FF 00     	and	#<$ff
 16538 03:44C5: 85 05        	sta	<R1
 16539 03:44C7: 64 07        	stz	<R1+2
 16540 03:44C9: E2 20        	sep	#$20
 16541                        	longa	off
 16542 03:44CB: A5 05        	lda	<R1
 16543 03:44CD: 8F 06 04 AF  	sta	>11469830
 16544 03:44D1: C2 20        	rep	#$20
 16545                        	longa	on
 16546                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 16547                        	.line	2661
 16548 03:44D3: D4 13        	pei	<L744+pdst_0+2
 16549 03:44D5: D4 11        	pei	<L744+pdst_0
 16550 03:44D7: A9 10 00     	lda	#$10
 16551                        	xref	~~~llsr
 16552 03:44DA: 22 xx xx xx  	jsl	~~~llsr
 16553 03:44DE: 85 01        	sta	<R0
 16554 03:44E0: 86 03        	stx	<R0+2
 16555 03:44E2: A5 01        	lda	<R0
 16556 03:44E4: 29 FF 00     	and	#<$ff
 16557 03:44E7: 85 05        	sta	<R1
 16558 03:44E9: 64 07        	stz	<R1+2
 16559 03:44EB: E2 20        	sep	#$20
 16560                        	longa	off
 16561 03:44ED: A5 05        	lda	<R1
 16562 03:44EF: 8F 07 04 AF  	sta	>11469831
 16563 03:44F3: C2 20        	rep	#$20
 16564                        	longa	on
 16565                        ;
 16566                        ;	*BM_START_ADDY_L = 0x00;
 16567                        	.line	2663
 16568 03:44F5: E2 20        	sep	#$20
 16569                        	longa	off
 16570 03:44F7: A9 00        	lda	#$0
 16571 03:44F9: 8F 41 01 AF  	sta	>11469121
 16572 03:44FD: C2 20        	rep	#$20
 16573                        	longa	on
 16574                        ;	*BM_START_ADDY_M = 0x00;
 16575                        	.line	2664
 16576 03:44FF: E2 20        	sep	#$20
 16577                        	longa	off
 16578 03:4501: A9 00        	lda	#$0
 16579 03:4503: 8F 42 01 AF  	sta	>11469122
 16580 03:4507: C2 20        	rep	#$20
 16581                        	longa	on
 16582                        ;	*BM_START_ADDY_H = 0x00;
 16583                        	.line	2665
 16584 03:4509: E2 20        	sep	#$20
 16585                        	longa	off
 16586 03:450B: A9 00        	lda	#$0
 16587 03:450D: 8F 43 01 AF  	sta	>11469123
 16588 03:4511: C2 20        	rep	#$20
 16589                        	longa	on
 16590                        ;	*((char FAR*)0xAF1F80) = 0x02;
 16591                        	.line	2666
  Wed Nov 18 2020  8:27                                                Page 303


 16592 03:4513: E2 20        	sep	#$20
 16593                        	longa	off
 16594 03:4515: A9 02        	lda	#$2
 16595 03:4517: 8F 80 1F AF  	sta	>11476864
 16596 03:451B: C2 20        	rep	#$20
 16597                        	longa	on
 16598                        ;	
 16599                        ;	*BM_X_SIZE_L = 0x80;
 16600                        	.line	2668
 16601 03:451D: E2 20        	sep	#$20
 16602                        	longa	off
 16603 03:451F: A9 80        	lda	#$80
 16604 03:4521: 8F 44 01 AF  	sta	>11469124
 16605 03:4525: C2 20        	rep	#$20
 16606                        	longa	on
 16607                        ;	*BM_X_SIZE_H = 0x02;	
 16608                        	.line	2669
 16609 03:4527: E2 20        	sep	#$20
 16610                        	longa	off
 16611 03:4529: A9 02        	lda	#$2
 16612 03:452B: 8F 45 01 AF  	sta	>11469125
 16613 03:452F: C2 20        	rep	#$20
 16614                        	longa	on
 16615                        ;	*BM_Y_SIZE_L = 0xE0;
 16616                        	.line	2670
 16617 03:4531: E2 20        	sep	#$20
 16618                        	longa	off
 16619 03:4533: A9 E0        	lda	#$e0
 16620 03:4535: 8F 46 01 AF  	sta	>11469126
 16621 03:4539: C2 20        	rep	#$20
 16622                        	longa	on
 16623                        ;	*BM_Y_SIZE_H = 0x01;
 16624                        	.line	2671
 16625 03:453B: E2 20        	sep	#$20
 16626                        	longa	off
 16627 03:453D: A9 01        	lda	#$1
 16628 03:453F: 8F 47 01 AF  	sta	>11469127
 16629 03:4543: C2 20        	rep	#$20
 16630                        	longa	on
 16631                        ;
 16632                        ;	width+=(width & 0x0001);
 16633                        	.line	2673
 16634 03:4545: A5 15        	lda	<L744+width_0
 16635 03:4547: 29 01 00     	and	#<$1
 16636 03:454A: 85 01        	sta	<R0
 16637 03:454C: 18           	clc
 16638 03:454D: A5 15        	lda	<L744+width_0
 16639 03:454F: 65 01        	adc	<R0
 16640 03:4551: 85 15        	sta	<L744+width_0
 16641                        ;
 16642                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 16643                        	.line	2675
 16644 03:4553: E2 20        	sep	#$20
 16645                        	longa	off
 16646 03:4555: A5 15        	lda	<L744+width_0
 16647 03:4557: 8F 08 04 AF  	sta	>11469832
 16648 03:455B: C2 20        	rep	#$20
 16649                        	longa	on
  Wed Nov 18 2020  8:27                                                Page 304


 16650                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 16651                        	.line	2676
 16652 03:455D: A5 15        	lda	<L744+width_0
 16653 03:455F: A2 08 00     	ldx	#<$8
 16654                        	xref	~~~asr
 16655 03:4562: 22 xx xx xx  	jsl	~~~asr
 16656 03:4566: 29 FF 00     	and	#<$ff
 16657 03:4569: 85 01        	sta	<R0
 16658 03:456B: E2 20        	sep	#$20
 16659                        	longa	off
 16660 03:456D: A5 01        	lda	<R0
 16661 03:456F: 8F 09 04 AF  	sta	>11469833
 16662 03:4573: C2 20        	rep	#$20
 16663                        	longa	on
 16664                        ;
 16665                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 16666                        	.line	2678
 16667 03:4575: E2 20        	sep	#$20
 16668                        	longa	off
 16669 03:4577: A5 17        	lda	<L744+height_0
 16670 03:4579: 8F 0A 04 AF  	sta	>11469834
 16671 03:457D: C2 20        	rep	#$20
 16672                        	longa	on
 16673                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 16674                        	.line	2679
 16675 03:457F: A5 17        	lda	<L744+height_0
 16676 03:4581: A2 08 00     	ldx	#<$8
 16677                        	xref	~~~asr
 16678 03:4584: 22 xx xx xx  	jsl	~~~asr
 16679 03:4588: 29 FF 00     	and	#<$ff
 16680 03:458B: 85 01        	sta	<R0
 16681 03:458D: E2 20        	sep	#$20
 16682                        	longa	off
 16683 03:458F: A5 01        	lda	<R0
 16684 03:4591: 8F 0B 04 AF  	sta	>11469835
 16685 03:4595: C2 20        	rep	#$20
 16686                        	longa	on
 16687                        ;
 16688                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 16689                        	.line	2681
 16690 03:4597: E2 20        	sep	#$20
 16691                        	longa	off
 16692 03:4599: A9 80        	lda	#$80
 16693 03:459B: 8F 0E 04 AF  	sta	>11469838
 16694 03:459F: C2 20        	rep	#$20
 16695                        	longa	on
 16696                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 16697                        	.line	2682
 16698 03:45A1: E2 20        	sep	#$20
 16699                        	longa	off
 16700 03:45A3: A9 02        	lda	#$2
 16701 03:45A5: 8F 0F 04 AF  	sta	>11469839
 16702 03:45A9: C2 20        	rep	#$20
 16703                        	longa	on
 16704                        ;	
 16705                        ;
 16706                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 16707                        	.line	2685
  Wed Nov 18 2020  8:27                                                Page 305


 16708 03:45AB: E2 20        	sep	#$20
 16709                        	longa	off
 16710 03:45AD: A5 11        	lda	<L744+pdst_0
 16711 03:45AF: 8F 05 04 AF  	sta	>11469829
 16712 03:45B3: C2 20        	rep	#$20
 16713                        	longa	on
 16714                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 16715                        	.line	2686
 16716 03:45B5: D4 13        	pei	<L744+pdst_0+2
 16717 03:45B7: D4 11        	pei	<L744+pdst_0
 16718 03:45B9: A9 08 00     	lda	#$8
 16719                        	xref	~~~llsr
 16720 03:45BC: 22 xx xx xx  	jsl	~~~llsr
 16721 03:45C0: 85 01        	sta	<R0
 16722 03:45C2: 86 03        	stx	<R0+2
 16723 03:45C4: A5 01        	lda	<R0
 16724 03:45C6: 29 FF 00     	and	#<$ff
 16725 03:45C9: 85 05        	sta	<R1
 16726 03:45CB: 64 07        	stz	<R1+2
 16727 03:45CD: E2 20        	sep	#$20
 16728                        	longa	off
 16729 03:45CF: A5 05        	lda	<R1
 16730 03:45D1: 8F 06 04 AF  	sta	>11469830
 16731 03:45D5: C2 20        	rep	#$20
 16732                        	longa	on
 16733                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 16734                        	.line	2687
 16735 03:45D7: D4 13        	pei	<L744+pdst_0+2
 16736 03:45D9: D4 11        	pei	<L744+pdst_0
 16737 03:45DB: A9 10 00     	lda	#$10
 16738                        	xref	~~~llsr
 16739 03:45DE: 22 xx xx xx  	jsl	~~~llsr
 16740 03:45E2: 85 01        	sta	<R0
 16741 03:45E4: 86 03        	stx	<R0+2
 16742 03:45E6: A5 01        	lda	<R0
 16743 03:45E8: 29 FF 00     	and	#<$ff
 16744 03:45EB: 85 05        	sta	<R1
 16745 03:45ED: 64 07        	stz	<R1+2
 16746 03:45EF: E2 20        	sep	#$20
 16747                        	longa	off
 16748 03:45F1: A5 05        	lda	<R1
 16749 03:45F3: 8F 07 04 AF  	sta	>11469831
 16750 03:45F7: C2 20        	rep	#$20
 16751                        	longa	on
 16752                        ;
 16753                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 16754                        	.line	2689
 16755 03:45F9: E2 20        	sep	#$20
 16756                        	longa	off
 16757 03:45FB: A5 19        	lda	<L744+data_0
 16758 03:45FD: 8F 01 04 AF  	sta	>11469825
 16759 03:4601: C2 20        	rep	#$20
 16760                        	longa	on
 16761                        ;	
 16762                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 16763                        	.line	2691
  Wed Nov 18 2020  8:27                                                Page 306


 16764 03:4603: E2 20        	sep	#$20
 16765                        	longa	off
 16766 03:4605: A9 87        	lda	#$87
 16767 03:4607: 8F 00 04 AF  	sta	>11469824
 16768 03:460B: C2 20        	rep	#$20
 16769                        	longa	on
 16770                        ;
 16771                        ;
 16772                        ;	status = VDMA_STAT_VDMA_IPS;
 16773                        	.line	2694
 16774 03:460D: E2 20        	sep	#$20
 16775                        	longa	off
 16776 03:460F: A9 80        	lda	#$80
 16777 03:4611: 85 0D        	sta	<L745+status_1
 16778 03:4613: C2 20        	rep	#$20
 16779                        	longa	on
 16780                        ;	while(status == VDMA_STAT_VDMA_IPS)
 16781                        	.line	2695
 16782                        L10334:
 16783 03:4615: E2 20        	sep	#$20
 16784                        	longa	off
 16785 03:4617: A5 0D        	lda	<L745+status_1
 16786 03:4619: C9 80        	cmp	#<$80
 16787 03:461B: C2 20        	rep	#$20
 16788                        	longa	on
 16789 03:461D: F0 03        	beq	L747
 16790 03:461F: 82 1E 00     	brl	L10335
 16791                        L747:
 16792                        ;	{
 16793                        	.line	2696
 16794                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 16795                        	.line	2697
 16796 03:4622: E2 20        	sep	#$20
 16797                        	longa	off
 16798 03:4624: AF 01 04 AF  	lda	>11469825
 16799 03:4628: 29 80        	and	#<$80
 16800 03:462A: 85 0D        	sta	<L745+status_1
 16801 03:462C: C2 20        	rep	#$20
 16802                        	longa	on
 16803                        ;		spinLock++;
 16804                        	.line	2698
 16805 03:462E: E6 0B        	inc	<L745+spinLock_1
 16806                        ;
 16807                        ;		if(spinLock > 32000)
 16808                        	.line	2700
 16809                        ;		{
 16810 03:4630: A9 00 7D     	lda	#$7d00
 16811 03:4633: C5 0B        	cmp	<L745+spinLock_1
 16812 03:4635: 90 03        	bcc	L748
 16813 03:4637: 82 03 00     	brl	L10336
 16814                        L748:
 16815                        	.line	2701
 16816                        ;			break;
 16817                        	.line	2702
 16818 03:463A: 82 03 00     	brl	L10335
 16819                        ;		}
 16820                        	.line	2703
  Wed Nov 18 2020  8:27                                                Page 307


 16821                        ;	}
 16822                        L10336:
 16823                        	.line	2704
 16824 03:463D: 82 D5 FF     	brl	L10334
 16825                        L10335:
 16826                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 16827                        	.line	2705
 16828 03:4640: D4 0B        	pei	<L745+spinLock_1
 16829 03:4642: F4 xx xx     	pea	#^L725
 16830 03:4645: F4 xx xx     	pea	#<L725
 16831 03:4648: 22 xx xx xx  	jsl	~~k_debug_integer
 16832                        ;
 16833                        ;
 16834                        ;
 16835                        ;	/*
 16836                        ;	while(status == VDMA_STAT_VDMA_IPS)
 16837                        ;	{
 16838                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 16839                        ;	}
 16840                        ;	
 16841                        ;	
 16842                        ;	while(status == VDMA_STAT_VDMA_IPS)
 16843                        ;	{
 16844                        ;		#asm
 16845                        ;		PHA 
 16846                        ;        LDA $AF0401
 16847                        ;        AND #$80
 16848                        ;        CMP #$80
 16849                        ;        STA %%status
 16850                        ;		PLA
 16851                        ;		#endasm
 16852                        ;	}
 16853                        ;	*/
 16854                        ;	
 16855                        ;   //return *VDMA_STATUS_REG;
 16856                        ;   //return VDMA_STATUS_REG[0];
 16857                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 16858                        ;   
 16859                        ;   return ;
 16860                        	.line	2733
 16861                        L749:
 16862 03:464C: A5 0F        	lda	<L744+2
 16863 03:464E: 85 19        	sta	<L744+2+10
 16864 03:4650: A5 0E        	lda	<L744+1
 16865 03:4652: 85 18        	sta	<L744+1+10
 16866 03:4654: 2B           	pld
 16867 03:4655: 3B           	tsc
 16868 03:4656: 18           	clc
 16869 03:4657: 69 17 00     	adc	#L744+10
 16870 03:465A: 1B           	tcs
 16871 03:465B: 6B           	rtl
 16872                        ;}
 16873                        	.line	2734
 16874                        	.endblock	2734
 16875             0000000D   L744	equ	13
 16876             00000009   L745	equ	9
  Wed Nov 18 2020  8:27                                                Page 308


 16877 03:465C:              	ends
 16878                        	efunc
 16879                        	.endfunc	2734,9,13
 16880                        	.line	2734
 16881                        	data
 16882                        L725:
 16883 00:05F5: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$61,$64,$64
       00:05F9: 6D 61 5F 66 
       00:05FD: 69 6C 6C 5F 
       00:0601: 61 64 64 
 16884 00:0604: 72 65 73 73  	db	$72,$65,$73,$73,$32,$3A,$3A,$73,$70,$69,
                    $6E,$4C,$6F,$63,$6B
       00:0608: 32 3A 3A 73 
       00:060C: 70 69 6E 4C 
       00:0610: 6F 63 6B 
 16885 00:0613: 3A 00        	db	$3A,$00
 16886 00:0615:              	ends
 16887                        ;
 16888                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 16889                        ;{
 16890                        	.line	2736
 16891                        	.line	2737
 16892                        	GUI
 16893                        	xdef	~~k_vdma_fill_address
 16894                        	func
 16895                        	.function	2737
 16896                        ~~k_vdma_fill_address:
 16897                        	longa	on
 16898                        	longi	on
 16899 03:465C: 3B           	tsc
 16900 03:465D: 38           	sec
 16901 03:465E: E9 0D 00     	sbc	#L751
 16902 03:4661: 1B           	tcs
 16903 03:4662: 0B           	phd
 16904 03:4663: 5B           	tcd
 16905             00000004   pdst_0	set	4
 16906             00000008   width_0	set	8
 16907             0000000A   height_0	set	10
 16908             0000000C   data_0	set	12
 16909                        	.block	2737
 16910                        ;	int pos = 0;
 16911                        ;	UINT spinLock = 0;
 16912                        ;	char status = VDMA_STAT_VDMA_IPS;
 16913                        ;
 16914                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 16915             00000000   pos_1	set	0
 16916             00000002   spinLock_1	set	2
 16917             00000004   status_1	set	4
 16918                        	.sym	pos,0,5,1,16
 16919                        	.sym	spinLock,2,16,1,16
 16920                        	.sym	status,4,14,1,8
 16921                        	.sym	pdst,4,142,6,32
 16922                        	.sym	width,8,5,6,16
 16923                        	.sym	height,10,5,6,16
 16924                        	.sym	data,12,14,6,8
  Wed Nov 18 2020  8:27                                                Page 309


 16925 03:4664: 64 09        	stz	<L752+pos_1
 16926 03:4666: 64 0B        	stz	<L752+spinLock_1
 16927 03:4668: E2 20        	sep	#$20
 16928                        	longa	off
 16929 03:466A: A9 80        	lda	#$80
 16930 03:466C: 85 0D        	sta	<L752+status_1
 16931 03:466E: C2 20        	rep	#$20
 16932                        	longa	on
 16933                        	.line	2742
 16934 03:4670: E2 20        	sep	#$20
 16935                        	longa	off
 16936 03:4672: A9 07        	lda	#$7
 16937 03:4674: 8F 00 04 AF  	sta	>11469824
 16938 03:4678: C2 20        	rep	#$20
 16939                        	longa	on
 16940                        ;
 16941                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 16942                        	.line	2744
 16943 03:467A: E2 20        	sep	#$20
 16944                        	longa	off
 16945 03:467C: A5 19        	lda	<L751+data_0
 16946 03:467E: 8F 01 04 AF  	sta	>11469825
 16947 03:4682: C2 20        	rep	#$20
 16948                        	longa	on
 16949                        ;
 16950                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 16951                        	.line	2746
 16952 03:4684: E2 20        	sep	#$20
 16953                        	longa	off
 16954 03:4686: A5 11        	lda	<L751+pdst_0
 16955 03:4688: 8F 05 04 AF  	sta	>11469829
 16956 03:468C: C2 20        	rep	#$20
 16957                        	longa	on
 16958                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 16959                        	.line	2747
 16960 03:468E: D4 13        	pei	<L751+pdst_0+2
 16961 03:4690: D4 11        	pei	<L751+pdst_0
 16962 03:4692: A9 08 00     	lda	#$8
 16963                        	xref	~~~llsr
 16964 03:4695: 22 xx xx xx  	jsl	~~~llsr
 16965 03:4699: 85 01        	sta	<R0
 16966 03:469B: 86 03        	stx	<R0+2
 16967 03:469D: A5 01        	lda	<R0
 16968 03:469F: 29 FF 00     	and	#<$ff
 16969 03:46A2: 85 05        	sta	<R1
 16970 03:46A4: 64 07        	stz	<R1+2
 16971 03:46A6: E2 20        	sep	#$20
 16972                        	longa	off
 16973 03:46A8: A5 05        	lda	<R1
 16974 03:46AA: 8F 06 04 AF  	sta	>11469830
 16975 03:46AE: C2 20        	rep	#$20
 16976                        	longa	on
 16977                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 16978                        	.line	2748
 16979 03:46B0: D4 13        	pei	<L751+pdst_0+2
 16980 03:46B2: D4 11        	pei	<L751+pdst_0
 16981 03:46B4: A9 10 00     	lda	#$10
 16982                        	xref	~~~llsr
  Wed Nov 18 2020  8:27                                                Page 310


 16983 03:46B7: 22 xx xx xx  	jsl	~~~llsr
 16984 03:46BB: 85 01        	sta	<R0
 16985 03:46BD: 86 03        	stx	<R0+2
 16986 03:46BF: A5 01        	lda	<R0
 16987 03:46C1: 29 FF 00     	and	#<$ff
 16988 03:46C4: 85 05        	sta	<R1
 16989 03:46C6: 64 07        	stz	<R1+2
 16990 03:46C8: E2 20        	sep	#$20
 16991                        	longa	off
 16992 03:46CA: A5 05        	lda	<R1
 16993 03:46CC: 8F 07 04 AF  	sta	>11469831
 16994 03:46D0: C2 20        	rep	#$20
 16995                        	longa	on
 16996                        ;
 16997                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 16998                        	.line	2750
 16999 03:46D2: A5 15        	lda	<L751+width_0
 17000 03:46D4: 1A           	ina
 17001 03:46D5: 85 01        	sta	<R0
 17002 03:46D7: E2 20        	sep	#$20
 17003                        	longa	off
 17004 03:46D9: A5 01        	lda	<R0
 17005 03:46DB: 8F 08 04 AF  	sta	>11469832
 17006 03:46DF: C2 20        	rep	#$20
 17007                        	longa	on
 17008                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 17009                        	.line	2751
 17010 03:46E1: A5 15        	lda	<L751+width_0
 17011 03:46E3: 1A           	ina
 17012 03:46E4: A2 08 00     	ldx	#<$8
 17013                        	xref	~~~asr
 17014 03:46E7: 22 xx xx xx  	jsl	~~~asr
 17015 03:46EB: 29 FF 00     	and	#<$ff
 17016 03:46EE: 85 01        	sta	<R0
 17017 03:46F0: E2 20        	sep	#$20
 17018                        	longa	off
 17019 03:46F2: A5 01        	lda	<R0
 17020 03:46F4: 8F 09 04 AF  	sta	>11469833
 17021 03:46F8: C2 20        	rep	#$20
 17022                        	longa	on
 17023                        ;
 17024                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 17025                        	.line	2753
 17026 03:46FA: A5 17        	lda	<L751+height_0
 17027 03:46FC: 1A           	ina
 17028 03:46FD: 85 01        	sta	<R0
 17029 03:46FF: E2 20        	sep	#$20
 17030                        	longa	off
 17031 03:4701: A5 01        	lda	<R0
 17032 03:4703: 8F 0A 04 AF  	sta	>11469834
 17033 03:4707: C2 20        	rep	#$20
 17034                        	longa	on
 17035                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 17036                        	.line	2754
 17037 03:4709: A5 17        	lda	<L751+height_0
 17038 03:470B: 1A           	ina
 17039 03:470C: A2 08 00     	ldx	#<$8
 17040                        	xref	~~~asr
  Wed Nov 18 2020  8:27                                                Page 311


 17041 03:470F: 22 xx xx xx  	jsl	~~~asr
 17042 03:4713: 29 FF 00     	and	#<$ff
 17043 03:4716: 85 01        	sta	<R0
 17044 03:4718: E2 20        	sep	#$20
 17045                        	longa	off
 17046 03:471A: A5 01        	lda	<R0
 17047 03:471C: 8F 0B 04 AF  	sta	>11469835
 17048 03:4720: C2 20        	rep	#$20
 17049                        	longa	on
 17050                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 17051                        	.line	2755
 17052 03:4722: E2 20        	sep	#$20
 17053                        	longa	off
 17054 03:4724: A9 00        	lda	#$0
 17055 03:4726: 8F 0C 04 AF  	sta	>11469836
 17056 03:472A: C2 20        	rep	#$20
 17057                        	longa	on
 17058                        ;
 17059                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 17060                        	.line	2757
 17061 03:472C: E2 20        	sep	#$20
 17062                        	longa	off
 17063 03:472E: A9 00        	lda	#$0
 17064 03:4730: 8F 0C 04 AF  	sta	>11469836
 17065 03:4734: C2 20        	rep	#$20
 17066                        	longa	on
 17067                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 17068                        	.line	2758
 17069 03:4736: E2 20        	sep	#$20
 17070                        	longa	off
 17071 03:4738: A9 00        	lda	#$0
 17072 03:473A: 8F 0D 04 AF  	sta	>11469837
 17073 03:473E: C2 20        	rep	#$20
 17074                        	longa	on
 17075                        ;
 17076                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 17077                        	.line	2760
 17078 03:4740: E2 20        	sep	#$20
 17079                        	longa	off
 17080 03:4742: A9 80        	lda	#$80
 17081 03:4744: 8F 0E 04 AF  	sta	>11469838
 17082 03:4748: C2 20        	rep	#$20
 17083                        	longa	on
 17084                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 17085                        	.line	2761
 17086 03:474A: E2 20        	sep	#$20
 17087                        	longa	off
 17088 03:474C: A9 02        	lda	#$2
 17089 03:474E: 8F 0F 04 AF  	sta	>11469839
 17090 03:4752: C2 20        	rep	#$20
 17091                        	longa	on
 17092                        ;
 17093                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 17094                        	.line	2763
 17095 03:4754: E2 20        	sep	#$20
 17096                        	longa	off
 17097 03:4756: A9 87        	lda	#$87
  Wed Nov 18 2020  8:27                                                Page 312


 17098 03:4758: 8F 00 04 AF  	sta	>11469824
 17099 03:475C: C2 20        	rep	#$20
 17100                        	longa	on
 17101                        ;
 17102                        ;    asm NOP;
 17103                        	.line	2765
 17104                        	asmstart
 17105 03:475E: EA           	NOP
 17106                        	asmend
 17107                        ;    asm NOP;
 17108                        	.line	2766
 17109                        	asmstart
 17110 03:475F: EA           	NOP
 17111                        	asmend
 17112                        ;    asm NOP;
 17113                        	.line	2767
 17114                        	asmstart
 17115 03:4760: EA           	NOP
 17116                        	asmend
 17117                        ;
 17118                        ;	while(status == VDMA_STAT_VDMA_IPS)
 17119                        	.line	2769
 17120                        L10337:
 17121 03:4761: E2 20        	sep	#$20
 17122                        	longa	off
 17123 03:4763: A5 0D        	lda	<L752+status_1
 17124 03:4765: C9 80        	cmp	#<$80
 17125 03:4767: C2 20        	rep	#$20
 17126                        	longa	on
 17127 03:4769: F0 03        	beq	L754
 17128 03:476B: 82 1E 00     	brl	L10338
 17129                        L754:
 17130                        ;	{
 17131                        	.line	2770
 17132                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 17133                        	.line	2771
 17134 03:476E: E2 20        	sep	#$20
 17135                        	longa	off
 17136 03:4770: AF 01 04 AF  	lda	>11469825
 17137 03:4774: 29 80        	and	#<$80
 17138 03:4776: 85 0D        	sta	<L752+status_1
 17139 03:4778: C2 20        	rep	#$20
 17140                        	longa	on
 17141                        ;		spinLock++;
 17142                        	.line	2772
 17143 03:477A: E6 0B        	inc	<L752+spinLock_1
 17144                        ;
 17145                        ;		if(spinLock > 32000)
 17146                        	.line	2774
 17147                        ;		{
 17148 03:477C: A9 00 7D     	lda	#$7d00
 17149 03:477F: C5 0B        	cmp	<L752+spinLock_1
 17150 03:4781: 90 03        	bcc	L755
 17151 03:4783: 82 03 00     	brl	L10339
 17152                        L755:
 17153                        	.line	2775
 17154                        ;			break;
  Wed Nov 18 2020  8:27                                                Page 313


 17155                        	.line	2776
 17156 03:4786: 82 03 00     	brl	L10338
 17157                        ;		}
 17158                        	.line	2777
 17159                        ;	}
 17160                        L10339:
 17161                        	.line	2778
 17162 03:4789: 82 D5 FF     	brl	L10337
 17163                        L10338:
 17164                        ;
 17165                        ;#ifdef USE_MAX_DEBUG
 17166                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 17167                        ;#endif
 17168                        ;
 17169                        ;	asm NOP;
 17170                        	.line	2784
 17171                        	asmstart
 17172 03:478C: EA           	NOP
 17173                        	asmend
 17174                        ;
 17175                        ;	VDMA_CONTROL_REG[0] = 0;
 17176                        	.line	2786
 17177 03:478D: E2 20        	sep	#$20
 17178                        	longa	off
 17179 03:478F: A9 00        	lda	#$0
 17180 03:4791: 8F 00 04 AF  	sta	>11469824
 17181 03:4795: C2 20        	rep	#$20
 17182                        	longa	on
 17183                        ;
 17184                        ;   return ;
 17185                        	.line	2788
 17186                        L756:
 17187 03:4797: A5 0F        	lda	<L751+2
 17188 03:4799: 85 19        	sta	<L751+2+10
 17189 03:479B: A5 0E        	lda	<L751+1
 17190 03:479D: 85 18        	sta	<L751+1+10
 17191 03:479F: 2B           	pld
 17192 03:47A0: 3B           	tsc
 17193 03:47A1: 18           	clc
 17194 03:47A2: 69 17 00     	adc	#L751+10
 17195 03:47A5: 1B           	tcs
 17196 03:47A6: 6B           	rtl
 17197                        ;}
 17198                        	.line	2789
 17199                        	.endblock	2789
 17200             0000000D   L751	equ	13
 17201             00000009   L752	equ	9
 17202 03:47A7:              	ends
 17203                        	efunc
 17204                        	.endfunc	2789,9,13
 17205                        	.line	2789
 17206                        ;
 17207                        ;
 17208                        ;
 17209                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 17210                        ;{
  Wed Nov 18 2020  8:27                                                Page 314


 17211                        	.line	2793
 17212                        	.line	2794
 17213                        	GUI
 17214                        	xdef	~~k_vdma_fill
 17215                        	func
 17216                        	.function	2794
 17217                        ~~k_vdma_fill:
 17218                        	longa	on
 17219                        	longi	on
 17220 03:47A7: 3B           	tsc
 17221 03:47A8: 38           	sec
 17222 03:47A9: E9 0D 00     	sbc	#L757
 17223 03:47AC: 1B           	tcs
 17224 03:47AD: 0B           	phd
 17225 03:47AE: 5B           	tcd
 17226             00000004   pdst_0	set	4
 17227             00000008   size_0	set	8
 17228             0000000C   data_0	set	12
 17229                        	.block	2794
 17230                        ;	int pos = 0;
 17231                        ;	int spinLock = 0;
 17232                        ;	char status = VDMA_STAT_VDMA_IPS;
 17233                        ;	/*
 17234                        ;	char size_low = L24BYTE(size);
 17235                        ;	char size_mid = M24BYTE(size);
 17236                        ;	char size_hi  = H24BYTE(size);
 17237                        ;
 17238                        ;	char addr_low = L24BYTE((long)pdst);
 17239                        ;	char addr_mid = M24BYTE((long)pdst);
 17240                        ;	char addr_hi  = H24BYTE((long)pdst);
 17241                        ;
 17242                        ;	
 17243                        ;	pos=2;
 17244                        ;	k_itoa(size_low,buffer,16);
 17245                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 17246                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 17247                        ;	k_itoa(size_mid,buffer,16);
 17248                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 17249                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 17250                        ;	k_itoa(size_hi,buffer,16);
 17251                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 17252                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
 17253                        ;	
 17254                        ;	pos=2;
 17255                        ;	k_itoa(addr_low,buffer,16);
 17256                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 17257                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
 17258                        ;	k_itoa(addr_mid,buffer,16);
 17259                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 17260                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 17261                        ;	k_itoa(addr_hi,buffer,16);
 17262                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 17263                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
 17264                        ;	*/
 17265                        ;	/*
 17266                        ;	if(VDMA_CONTROL_REG[0] > 0)
 17267                        ;	{
 17268                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
  Wed Nov 18 2020  8:27                                                Page 315


                    inLock > 1000)
 17269                        ;		{
 17270                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 17271                        ;			spinLock++;
 17272                        ;		}
 17273                        ;	}
 17274                        ;	*/
 17275                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 17276             00000000   pos_1	set	0
 17277             00000002   spinLock_1	set	2
 17278             00000004   status_1	set	4
 17279                        	.sym	pos,0,5,1,16
 17280                        	.sym	spinLock,2,5,1,16
 17281                        	.sym	status,4,14,1,8
 17282                        	.sym	pdst,4,142,6,32
 17283                        	.sym	size,8,7,6,32
 17284                        	.sym	data,12,14,6,8
 17285 03:47AF: 64 09        	stz	<L758+pos_1
 17286 03:47B1: 64 0B        	stz	<L758+spinLock_1
 17287 03:47B3: E2 20        	sep	#$20
 17288                        	longa	off
 17289 03:47B5: A9 80        	lda	#$80
 17290 03:47B7: 85 0D        	sta	<L758+status_1
 17291 03:47B9: C2 20        	rep	#$20
 17292                        	longa	on
 17293                        	.line	2840
 17294 03:47BB: E2 20        	sep	#$20
 17295                        	longa	off
 17296 03:47BD: A9 01        	lda	#$1
 17297 03:47BF: 8F 00 04 AF  	sta	>11469824
 17298 03:47C3: C2 20        	rep	#$20
 17299                        	longa	on
 17300                        ;
 17301                        ;	*BM_START_ADDY_L = 0x00;
 17302                        	.line	2842
 17303 03:47C5: E2 20        	sep	#$20
 17304                        	longa	off
 17305 03:47C7: A9 00        	lda	#$0
 17306 03:47C9: 8F 41 01 AF  	sta	>11469121
 17307 03:47CD: C2 20        	rep	#$20
 17308                        	longa	on
 17309                        ;	*BM_START_ADDY_M = 0x00;
 17310                        	.line	2843
 17311 03:47CF: E2 20        	sep	#$20
 17312                        	longa	off
 17313 03:47D1: A9 00        	lda	#$0
 17314 03:47D3: 8F 42 01 AF  	sta	>11469122
 17315 03:47D7: C2 20        	rep	#$20
 17316                        	longa	on
 17317                        ;	*BM_START_ADDY_H = 0x00;
 17318                        	.line	2844
 17319 03:47D9: E2 20        	sep	#$20
 17320                        	longa	off
 17321 03:47DB: A9 00        	lda	#$0
 17322 03:47DD: 8F 43 01 AF  	sta	>11469123
 17323 03:47E1: C2 20        	rep	#$20
 17324                        	longa	on
  Wed Nov 18 2020  8:27                                                Page 316


 17325                        ;	*((char FAR*)0xAF1F80) = 0x02;
 17326                        	.line	2845
 17327 03:47E3: E2 20        	sep	#$20
 17328                        	longa	off
 17329 03:47E5: A9 02        	lda	#$2
 17330 03:47E7: 8F 80 1F AF  	sta	>11476864
 17331 03:47EB: C2 20        	rep	#$20
 17332                        	longa	on
 17333                        ;	
 17334                        ;	*BM_X_SIZE_L = 0x80;
 17335                        	.line	2847
 17336 03:47ED: E2 20        	sep	#$20
 17337                        	longa	off
 17338 03:47EF: A9 80        	lda	#$80
 17339 03:47F1: 8F 44 01 AF  	sta	>11469124
 17340 03:47F5: C2 20        	rep	#$20
 17341                        	longa	on
 17342                        ;	*BM_X_SIZE_H = 0x02;	
 17343                        	.line	2848
 17344 03:47F7: E2 20        	sep	#$20
 17345                        	longa	off
 17346 03:47F9: A9 02        	lda	#$2
 17347 03:47FB: 8F 45 01 AF  	sta	>11469125
 17348 03:47FF: C2 20        	rep	#$20
 17349                        	longa	on
 17350                        ;	*BM_Y_SIZE_L = 0xE0;
 17351                        	.line	2849
 17352 03:4801: E2 20        	sep	#$20
 17353                        	longa	off
 17354 03:4803: A9 E0        	lda	#$e0
 17355 03:4805: 8F 46 01 AF  	sta	>11469126
 17356 03:4809: C2 20        	rep	#$20
 17357                        	longa	on
 17358                        ;	*BM_Y_SIZE_H = 0x01;
 17359                        	.line	2850
 17360 03:480B: E2 20        	sep	#$20
 17361                        	longa	off
 17362 03:480D: A9 01        	lda	#$1
 17363 03:480F: 8F 47 01 AF  	sta	>11469127
 17364 03:4813: C2 20        	rep	#$20
 17365                        	longa	on
 17366                        ;	
 17367                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 17368                        	.line	2852
 17369 03:4815: E2 20        	sep	#$20
 17370                        	longa	off
 17371 03:4817: A5 15        	lda	<L757+size_0
 17372 03:4819: 8F 08 04 AF  	sta	>11469832
 17373 03:481D: C2 20        	rep	#$20
 17374                        	longa	on
 17375                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 17376                        	.line	2853
 17377 03:481F: D4 17        	pei	<L757+size_0+2
 17378 03:4821: D4 15        	pei	<L757+size_0
 17379 03:4823: A9 08 00     	lda	#$8
 17380                        	xref	~~~llsr
 17381 03:4826: 22 xx xx xx  	jsl	~~~llsr
 17382 03:482A: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 317


 17383 03:482C: 86 03        	stx	<R0+2
 17384 03:482E: A5 01        	lda	<R0
 17385 03:4830: 29 FF 00     	and	#<$ff
 17386 03:4833: 85 05        	sta	<R1
 17387 03:4835: 64 07        	stz	<R1+2
 17388 03:4837: E2 20        	sep	#$20
 17389                        	longa	off
 17390 03:4839: A5 05        	lda	<R1
 17391 03:483B: 8F 09 04 AF  	sta	>11469833
 17392 03:483F: C2 20        	rep	#$20
 17393                        	longa	on
 17394                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 17395                        	.line	2854
 17396 03:4841: D4 17        	pei	<L757+size_0+2
 17397 03:4843: D4 15        	pei	<L757+size_0
 17398 03:4845: A9 10 00     	lda	#$10
 17399                        	xref	~~~llsr
 17400 03:4848: 22 xx xx xx  	jsl	~~~llsr
 17401 03:484C: 85 01        	sta	<R0
 17402 03:484E: 86 03        	stx	<R0+2
 17403 03:4850: A5 01        	lda	<R0
 17404 03:4852: 29 FF 00     	and	#<$ff
 17405 03:4855: 85 05        	sta	<R1
 17406 03:4857: 64 07        	stz	<R1+2
 17407 03:4859: E2 20        	sep	#$20
 17408                        	longa	off
 17409 03:485B: A5 05        	lda	<R1
 17410 03:485D: 8F 0A 04 AF  	sta	>11469834
 17411 03:4861: C2 20        	rep	#$20
 17412                        	longa	on
 17413                        ;	
 17414                        ;	
 17415                        ;	*VDMA_X_SIZE_L = 0x80;
 17416                        	.line	2857
 17417 03:4863: E2 20        	sep	#$20
 17418                        	longa	off
 17419 03:4865: A9 80        	lda	#$80
 17420 03:4867: 8F 08 04 AF  	sta	>11469832
 17421 03:486B: C2 20        	rep	#$20
 17422                        	longa	on
 17423                        ;	*VDMA_X_SIZE_H = 0x20;
 17424                        	.line	2858
 17425 03:486D: E2 20        	sep	#$20
 17426                        	longa	off
 17427 03:486F: A9 20        	lda	#$20
 17428 03:4871: 8F 09 04 AF  	sta	>11469833
 17429 03:4875: C2 20        	rep	#$20
 17430                        	longa	on
 17431                        ;
 17432                        ;	*VDMA_Y_SIZE_L = 0xE0;
 17433                        	.line	2860
 17434 03:4877: E2 20        	sep	#$20
 17435                        	longa	off
 17436 03:4879: A9 E0        	lda	#$e0
 17437 03:487B: 8F 0A 04 AF  	sta	>11469834
 17438 03:487F: C2 20        	rep	#$20
 17439                        	longa	on
 17440                        ;	*VDMA_Y_SIZE_H = 0x01;
  Wed Nov 18 2020  8:27                                                Page 318


 17441                        	.line	2861
 17442 03:4881: E2 20        	sep	#$20
 17443                        	longa	off
 17444 03:4883: A9 01        	lda	#$1
 17445 03:4885: 8F 0B 04 AF  	sta	>11469835
 17446 03:4889: C2 20        	rep	#$20
 17447                        	longa	on
 17448                        ;
 17449                        ;	*VDMA_DST_STRIDE_L = 0x80;
 17450                        	.line	2863
 17451 03:488B: E2 20        	sep	#$20
 17452                        	longa	off
 17453 03:488D: A9 80        	lda	#$80
 17454 03:488F: 8F 0E 04 AF  	sta	>11469838
 17455 03:4893: C2 20        	rep	#$20
 17456                        	longa	on
 17457                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 17458                        	.line	2864
 17459 03:4895: E2 20        	sep	#$20
 17460                        	longa	off
 17461 03:4897: A9 02        	lda	#$2
 17462 03:4899: 8F 0F 04 AF  	sta	>11469839
 17463 03:489D: C2 20        	rep	#$20
 17464                        	longa	on
 17465                        ;	
 17466                        ;	/*
 17467                        ;        LDA #200
 17468                        ;        STA @lVDMA_X_SIZE_L
 17469                        ;        LDA #00
 17470                        ;        STA @lVDMA_X_SIZE_H
 17471                        ;
 17472                        ;        LDA #64
 17473                        ;        STA @lVDMA_Y_SIZE_L
 17474                        ;        LDA #00
 17475                        ;        STA @lVDMA_Y_SIZE_H
 17476                        ;
 17477                        ;        LDA #$60
 17478                        ;        STA @lVDMA_DST_ADDY_L
 17479                        ;        LDA #$90
 17480                        ;        STA @lVDMA_DST_ADDY_M
 17481                        ;        LDA #$01
 17482                        ;        STA @lVDMA_DST_ADDY_H
 17483                        ;
 17484                        ;        LDA #$80
 17485                        ;        STA @lVDMA_DST_STRIDE_L
 17486                        ;        LDA #$02
 17487                        ;        STA @lVDMA_DST_STRIDE_H
 17488                        ;	*/
 17489                        ;
 17490                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 17491                        	.line	2890
 17492 03:489F: E2 20        	sep	#$20
 17493                        	longa	off
 17494 03:48A1: A5 11        	lda	<L757+pdst_0
 17495 03:48A3: 8F 05 04 AF  	sta	>11469829
 17496 03:48A7: C2 20        	rep	#$20
 17497                        	longa	on
 17498                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
  Wed Nov 18 2020  8:27                                                Page 319


 17499                        	.line	2891
 17500 03:48A9: D4 13        	pei	<L757+pdst_0+2
 17501 03:48AB: D4 11        	pei	<L757+pdst_0
 17502 03:48AD: A9 08 00     	lda	#$8
 17503                        	xref	~~~llsr
 17504 03:48B0: 22 xx xx xx  	jsl	~~~llsr
 17505 03:48B4: 85 01        	sta	<R0
 17506 03:48B6: 86 03        	stx	<R0+2
 17507 03:48B8: A5 01        	lda	<R0
 17508 03:48BA: 29 FF 00     	and	#<$ff
 17509 03:48BD: 85 05        	sta	<R1
 17510 03:48BF: 64 07        	stz	<R1+2
 17511 03:48C1: E2 20        	sep	#$20
 17512                        	longa	off
 17513 03:48C3: A5 05        	lda	<R1
 17514 03:48C5: 8F 06 04 AF  	sta	>11469830
 17515 03:48C9: C2 20        	rep	#$20
 17516                        	longa	on
 17517                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 17518                        	.line	2892
 17519 03:48CB: D4 13        	pei	<L757+pdst_0+2
 17520 03:48CD: D4 11        	pei	<L757+pdst_0
 17521 03:48CF: A9 10 00     	lda	#$10
 17522                        	xref	~~~llsr
 17523 03:48D2: 22 xx xx xx  	jsl	~~~llsr
 17524 03:48D6: 85 01        	sta	<R0
 17525 03:48D8: 86 03        	stx	<R0+2
 17526 03:48DA: A5 01        	lda	<R0
 17527 03:48DC: 29 FF 00     	and	#<$ff
 17528 03:48DF: 85 05        	sta	<R1
 17529 03:48E1: 64 07        	stz	<R1+2
 17530 03:48E3: E2 20        	sep	#$20
 17531                        	longa	off
 17532 03:48E5: A5 05        	lda	<R1
 17533 03:48E7: 8F 07 04 AF  	sta	>11469831
 17534 03:48EB: C2 20        	rep	#$20
 17535                        	longa	on
 17536                        ;
 17537                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 17538                        	.line	2894
 17539 03:48ED: E2 20        	sep	#$20
 17540                        	longa	off
 17541 03:48EF: A5 19        	lda	<L757+data_0
 17542 03:48F1: 8F 01 04 AF  	sta	>11469825
 17543 03:48F5: C2 20        	rep	#$20
 17544                        	longa	on
 17545                        ;	
 17546                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 17547                        	.line	2896
 17548 03:48F7: E2 20        	sep	#$20
 17549                        	longa	off
 17550 03:48F9: A9 85        	lda	#$85
 17551 03:48FB: 8F 00 04 AF  	sta	>11469824
 17552 03:48FF: C2 20        	rep	#$20
 17553                        	longa	on
 17554                        ;   
 17555                        ;	/*
  Wed Nov 18 2020  8:27                                                Page 320


 17556                        ;	while(status == VDMA_STAT_VDMA_IPS)
 17557                        ;	{
 17558                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 17559                        ;	}
 17560                        ;	
 17561                        ;	
 17562                        ;	while(status == VDMA_STAT_VDMA_IPS)
 17563                        ;	{
 17564                        ;		#asm
 17565                        ;		PHA 
 17566                        ;        LDA $AF0401
 17567                        ;        AND #$80
 17568                        ;        CMP #$80
 17569                        ;        STA %%status
 17570                        ;		PLA
 17571                        ;		#endasm
 17572                        ;	}
 17573                        ;	*/
 17574                        ;	
 17575                        ;   //return *VDMA_STATUS_REG;
 17576                        ;   //return VDMA_STATUS_REG[0];
 17577                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 17578                        ;   
 17579                        ;   return ;
 17580                        	.line	2922
 17581                        L760:
 17582 03:4901: A5 0F        	lda	<L757+2
 17583 03:4903: 85 19        	sta	<L757+2+10
 17584 03:4905: A5 0E        	lda	<L757+1
 17585 03:4907: 85 18        	sta	<L757+1+10
 17586 03:4909: 2B           	pld
 17587 03:490A: 3B           	tsc
 17588 03:490B: 18           	clc
 17589 03:490C: 69 17 00     	adc	#L757+10
 17590 03:490F: 1B           	tcs
 17591 03:4910: 6B           	rtl
 17592                        ;}
 17593                        	.line	2923
 17594                        	.endblock	2923
 17595             0000000D   L757	equ	13
 17596             00000009   L758	equ	9
 17597 03:4911:              	ends
 17598                        	efunc
 17599                        	.endfunc	2923,9,13
 17600                        	.line	2923
 17601                        ;
 17602                        ;void k_init_desktop(PFXPROCESS process)
 17603                        ;{
 17604                        	.line	2925
 17605                        	.line	2926
 17606                        	GUI
 17607                        	xdef	~~k_init_desktop
 17608                        	func
 17609                        	.function	2926
 17610                        ~~k_init_desktop:
 17611                        	longa	on
 17612                        	longi	on
  Wed Nov 18 2020  8:27                                                Page 321


 17613 03:4911: 3B           	tsc
 17614 03:4912: 38           	sec
 17615 03:4913: E9 16 00     	sbc	#L761
 17616 03:4916: 1B           	tcs
 17617 03:4917: 0B           	phd
 17618 03:4918: 5B           	tcd
 17619             00000004   process_0	set	4
 17620                        	.block	2926
 17621                        ;
 17622                        ;	int i = 0;
 17623                        ;	int x = 0;
 17624                        ;	int y = 200;
 17625                        ;
 17626                        ;
 17627                        ;	PFXSTRING fxtitle = NULL;
 17628                        ;	PFXSTRING fxstring = NULL;
 17629                        ;
 17630                        ;	ULONG availableMem = 0L;
 17631                        ;
 17632                        ;
 17633                        ;	k_clear_screen(0);
 17634             00000000   i_1	set	0
 17635             00000002   x_1	set	2
 17636             00000004   y_1	set	4
 17637             00000006   fxtitle_1	set	6
 17638             0000000A   fxstring_1	set	10
 17639             0000000E   availableMem_1	set	14
 17640                        	.sym	i,0,5,1,16
 17641                        	.sym	x,2,5,1,16
 17642                        	.sym	y,4,5,1,16
 17643                        	.sym	fxtitle,6,138,1,32,48
 17644                        	.sym	fxstring,10,138,1,32,48
 17645                        	.sym	availableMem,14,18,1,32
 17646                        	.sym	process,4,138,6,32,20
 17647 03:4919: 64 05        	stz	<L762+i_1
 17648 03:491B: 64 07        	stz	<L762+x_1
 17649 03:491D: A9 C8 00     	lda	#$c8
 17650 03:4920: 85 09        	sta	<L762+y_1
 17651 03:4922: 64 0B        	stz	<L762+fxtitle_1
 17652 03:4924: 64 0D        	stz	<L762+fxtitle_1+2
 17653 03:4926: 64 0F        	stz	<L762+fxstring_1
 17654 03:4928: 64 11        	stz	<L762+fxstring_1+2
 17655 03:492A: 64 13        	stz	<L762+availableMem_1
 17656 03:492C: 64 15        	stz	<L762+availableMem_1+2
 17657                        	.line	2939
 17658 03:492E: F4 00 00     	pea	#<$0
 17659 03:4931: 22 xx xx xx  	jsl	~~k_clear_screen
 17660                        ;	setColors();
 17661                        	.line	2940
 17662 03:4935: 22 3F 02 03  	jsl	~~setColors
 17663                        ;
 17664                        ;
 17665                        ;#ifdef USE_FX256_FMX
 17666                        ;
 17667                        ;	*BM1_CONTROL_REG = 0x01;
 17668                        	.line	2945
 17669 03:4939: E2 20        	sep	#$20
 17670                        	longa	off
  Wed Nov 18 2020  8:27                                                Page 322


 17671 03:493B: A9 01        	lda	#$1
 17672 03:493D: 8F 08 01 AF  	sta	>11469064
 17673 03:4941: C2 20        	rep	#$20
 17674                        	longa	on
 17675                        ;	*BM1_START_ADDY_L = 0;
 17676                        	.line	2946
 17677 03:4943: E2 20        	sep	#$20
 17678                        	longa	off
 17679 03:4945: A9 00        	lda	#$0
 17680 03:4947: 8F 09 01 AF  	sta	>11469065
 17681 03:494B: C2 20        	rep	#$20
 17682                        	longa	on
 17683                        ;	*BM1_START_ADDY_M = 0;
 17684                        	.line	2947
 17685 03:494D: E2 20        	sep	#$20
 17686                        	longa	off
 17687 03:494F: A9 00        	lda	#$0
 17688 03:4951: 8F 0A 01 AF  	sta	>11469066
 17689 03:4955: C2 20        	rep	#$20
 17690                        	longa	on
 17691                        ;	*BM1_START_ADDY_H = 0;
 17692                        	.line	2948
 17693 03:4957: E2 20        	sep	#$20
 17694                        	longa	off
 17695 03:4959: A9 00        	lda	#$0
 17696 03:495B: 8F 0B 01 AF  	sta	>11469067
 17697 03:495F: C2 20        	rep	#$20
 17698                        	longa	on
 17699                        ;
 17700                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 17701                        	.line	2950
 17702 03:4961: E2 20        	sep	#$20
 17703                        	longa	off
 17704 03:4963: A9 00        	lda	#$0
 17705 03:4965: 8F 01 00 AF  	sta	>11468801
 17706 03:4969: C2 20        	rep	#$20
 17707                        	longa	on
 17708                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 17709                        	.line	2951
 17710 03:496B: E2 20        	sep	#$20
 17711                        	longa	off
 17712 03:496D: A9 0C        	lda	#$c
 17713 03:496F: 8F 00 00 AF  	sta	>11468800
 17714 03:4973: C2 20        	rep	#$20
 17715                        	longa	on
 17716                        ;
 17717                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 17718                        	.line	2953
 17719 03:4975: E2 20        	sep	#$20
 17720                        	longa	off
 17721 03:4977: A9 01        	lda	#$1
 17722 03:4979: 8F 01 00 AF  	sta	>11468801
 17723 03:497D: C2 20        	rep	#$20
 17724                        	longa	on
 17725                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 17726                        	.line	2954
  Wed Nov 18 2020  8:27                                                Page 323


 17727 03:497F: E2 20        	sep	#$20
 17728                        	longa	off
 17729 03:4981: A9 0C        	lda	#$c
 17730 03:4983: 8F 00 00 AF  	sta	>11468800
 17731 03:4987: C2 20        	rep	#$20
 17732                        	longa	on
 17733                        ;
 17734                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 17735                        	.line	2956
 17736 03:4989: E2 20        	sep	#$20
 17737                        	longa	off
 17738 03:498B: A9 01        	lda	#$1
 17739 03:498D: 8F 08 01 AF  	sta	>11469064
 17740 03:4991: C2 20        	rep	#$20
 17741                        	longa	on
 17742                        ;
 17743                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 17744                        	.line	2958
 17745 03:4993: E2 20        	sep	#$20
 17746                        	longa	off
 17747 03:4995: A9 00        	lda	#$0
 17748 03:4997: 8F 01 00 AF  	sta	>11468801
 17749 03:499B: C2 20        	rep	#$20
 17750                        	longa	on
 17751                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 17752                        	.line	2959
 17753 03:499D: E2 20        	sep	#$20
 17754                        	longa	off
 17755 03:499F: A9 0C        	lda	#$c
 17756 03:49A1: 8F 00 00 AF  	sta	>11468800
 17757 03:49A5: C2 20        	rep	#$20
 17758                        	longa	on
 17759                        ;
 17760                        ;
 17761                        ;#else
 17762                        ;
 17763                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 17764                        ;
 17765                        ;	*BM_START_ADDY_L = 0x00;
 17766                        ;	*BM_START_ADDY_M = 0x00;
 17767                        ;	*BM_START_ADDY_H = 0x00;
 17768                        ;	*BG_CHAR_LUT_PTR = 0x02;
 17769                        ;
 17770                        ;	*BM_X_SIZE_L = 0x80;
 17771                        ;	*BM_X_SIZE_H = 0x02;
 17772                        ;	*BM_Y_SIZE_L = 0xE0;
 17773                        ;	*BM_Y_SIZE_H = 0x01;
 17774                        ;
 17775                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 17776                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 17777                        ;	*BM_CONTROL_REG 	= 0x08;
 17778                        ;
 17779                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 17780                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 17781                        ;
 17782                        ;#endif
  Wed Nov 18 2020  8:27                                                Page 324


 17783                        ;
 17784                        ;	k_disable_border();
 17785                        	.line	2985
 17786 03:49A7: 22 xx xx xx  	jsl	~~k_disable_border
 17787                        ;
 17788                        ;	//setColors();
 17789                        ;	//defineGrayPalette();
 17790                        ;
 17791                        ;
 17792                        ;
 17793                        ;	if(!_k_WindowObject_nodes)
 17794                        	.line	2992
 17795                        ;		_k_WindowObject_nodes = k_nodelist_init(
                    0xF0,"master",NULL);
 17796 03:49AB: AD xx xx     	lda	|~~_k_WindowObject_nodes
 17797 03:49AE: 0D xx xx     	ora	|~~_k_WindowObject_nodes+2
 17798 03:49B1: F0 03        	beq	L764
 17799 03:49B3: 82 19 00     	brl	L10340
 17800                        L764:
 17801                        	.line	2993
 17802 03:49B6: F4 00 00     	pea	#^$0
 17803 03:49B9: F4 00 00     	pea	#<$0
 17804 03:49BC: F4 xx xx     	pea	#^L750
 17805 03:49BF: F4 xx xx     	pea	#<L750
 17806 03:49C2: F4 F0 00     	pea	#<$f0
 17807 03:49C5: 22 xx xx xx  	jsl	~~k_nodelist_init
 17808 03:49C9: 8D xx xx     	sta	|~~_k_WindowObject_nodes
 17809 03:49CC: 8E xx xx     	stx	|~~_k_WindowObject_nodes+2
 17810                        ;	if(!_k_WindowHit_nodes)
 17811                        L10340:
 17812                        	.line	2994
 17813                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 17814 03:49CF: AD xx xx     	lda	|~~_k_WindowHit_nodes
 17815 03:49D2: 0D xx xx     	ora	|~~_k_WindowHit_nodes+2
 17816 03:49D5: F0 03        	beq	L765
 17817 03:49D7: 82 19 00     	brl	L10341
 17818                        L765:
 17819                        	.line	2995
 17820 03:49DA: F4 00 00     	pea	#^$0
 17821 03:49DD: F4 00 00     	pea	#<$0
 17822 03:49E0: F4 xx xx     	pea	#^L750+7
 17823 03:49E3: F4 xx xx     	pea	#<L750+7
 17824 03:49E6: F4 F0 00     	pea	#<$f0
 17825 03:49E9: 22 xx xx xx  	jsl	~~k_nodelist_init
 17826 03:49ED: 8D xx xx     	sta	|~~_k_WindowHit_nodes
 17827 03:49F0: 8E xx xx     	stx	|~~_k_WindowHit_nodes+2
 17828                        ;
 17829                        ;	if(process->desktopCtl == NULL)
 17830                        L10341:
 17831                        	.line	2997
 17832                        ;	{
 17833 03:49F3: A0 58 00     	ldy	#$58
 17834 03:49F6: B7 1A        	lda	[<L761+process_0],Y
 17835 03:49F8: A0 5A 00     	ldy	#$5a
 17836 03:49FB: 17 1A        	ora	[<L761+process_0],Y
 17837 03:49FD: F0 03        	beq	L766
 17838 03:49FF: 82 2F 00     	brl	L10342
  Wed Nov 18 2020  8:27                                                Page 325


 17839                        L766:
 17840                        	.line	2998
 17841                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 17842                        	.line	2999
 17843 03:4A02: F4 31 00     	pea	#<$31
 17844 03:4A05: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 17845 03:4A09: 85 01        	sta	<R0
 17846 03:4A0B: 86 03        	stx	<R0+2
 17847 03:4A0D: A5 01        	lda	<R0
 17848 03:4A0F: A0 58 00     	ldy	#$58
 17849 03:4A12: 97 1A        	sta	[<L761+process_0],Y
 17850 03:4A14: A5 03        	lda	<R0+2
 17851 03:4A16: A0 5A 00     	ldy	#$5a
 17852 03:4A19: 97 1A        	sta	[<L761+process_0],Y
 17853                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 17854                        	.line	3000
 17855 03:4A1B: F4 31 00     	pea	#<$31
 17856 03:4A1E: F4 00 00     	pea	#<$0
 17857 03:4A21: A0 5A 00     	ldy	#$5a
 17858 03:4A24: B7 1A        	lda	[<L761+process_0],Y
 17859 03:4A26: 48           	pha
 17860 03:4A27: A0 58 00     	ldy	#$58
 17861 03:4A2A: B7 1A        	lda	[<L761+process_0],Y
 17862 03:4A2C: 48           	pha
 17863 03:4A2D: 22 xx xx xx  	jsl	~~memset
 17864                        ;	}
 17865                        	.line	3001
 17866                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 17867                        L10342:
 17868                        	.line	3002
 17869 03:4A31: A0 58 00     	ldy	#$58
 17870 03:4A34: B7 1A        	lda	[<L761+process_0],Y
 17871 03:4A36: 85 01        	sta	<R0
 17872 03:4A38: A0 5A 00     	ldy	#$5a
 17873 03:4A3B: B7 1A        	lda	[<L761+process_0],Y
 17874 03:4A3D: 85 03        	sta	<R0+2
 17875 03:4A3F: 22 72 0B 03  	jsl	~~k_getUIDesktopColor
 17876 03:4A43: A0 05 00     	ldy	#$5
 17877 03:4A46: 97 01        	sta	[<R0],Y
 17878                        ;	process->desktopCtl->currentDiskName = NULL;
 17879                        	.line	3003
 17880 03:4A48: A0 58 00     	ldy	#$58
 17881 03:4A4B: B7 1A        	lda	[<L761+process_0],Y
 17882 03:4A4D: 85 01        	sta	<R0
 17883 03:4A4F: A0 5A 00     	ldy	#$5a
 17884 03:4A52: B7 1A        	lda	[<L761+process_0],Y
 17885 03:4A54: 85 03        	sta	<R0+2
 17886 03:4A56: A9 00 00     	lda	#$0
 17887 03:4A59: A0 11 00     	ldy	#$11
 17888 03:4A5C: 97 01        	sta	[<R0],Y
 17889 03:4A5E: A9 00 00     	lda	#$0
 17890 03:4A61: A0 13 00     	ldy	#$13
 17891 03:4A64: 97 01        	sta	[<R0],Y
 17892                        ;
 17893                        ;	// clear screen the old way
  Wed Nov 18 2020  8:27                                                Page 326


 17894                        ;
 17895                        ;	/*
 17896                        ;	for(y=0;y<480;y++)
 17897                        ;	{
 17898                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 17899                        ;	}
 17900                        ;	*/
 17901                        ;	k_vdma_fill_rect(0,0,640,480,k_getUIBackgroundCo
                    lor());
 17902                        	.line	3013
 17903 03:4A66: 22 5D 0B 03  	jsl	~~k_getUIBackgroundColor
 17904 03:4A6A: 48           	pha
 17905 03:4A6B: F4 E0 01     	pea	#<$1e0
 17906 03:4A6E: F4 80 02     	pea	#<$280
 17907 03:4A71: F4 00 00     	pea	#^$0
 17908 03:4A74: F4 00 00     	pea	#<$0
 17909 03:4A77: F4 00 00     	pea	#^$0
 17910 03:4A7A: F4 00 00     	pea	#<$0
 17911 03:4A7D: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 17912                        ;
 17913                        ;
 17914                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 17915                        ;
 17916                        ;
 17917                        ;	/*
 17918                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
                    );
 17919                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 17920                        ;
 17921                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 17922                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
                    string->buffer));
 17923                        ;
 17924                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 17925                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 17926                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
 17927                        ;							
                    						  k_getUIMenuCol
                    or(),
 17928                        ;							
                    						  k_getUIWindowF
                    rameColor());
 17929                        ;
 17930                        ;	if(fxstring)
 17931                        ;		k_fxstring_free(fxstring);
 17932                        ;	*/
 17933                        ;
 17934                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 17935                        ;
  Wed Nov 18 2020  8:27                                                Page 327


 17936                        ;	/*
 17937                        ;	//FX-Basic
 17938                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 17939                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 17940                        ;
 17941                        ;	//Projects
 17942                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 17943                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
 17944                        ;	*/
 17945                        ;
 17946                        ;	//Shredder
 17947                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 17948                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
                    470,0);
 17949                        ;
 17950                        ;
 17951                        ;
 17952                        ;	return;
 17953                        	.line	3054
 17954                        L767:
 17955 03:4A81: A5 18        	lda	<L761+2
 17956 03:4A83: 85 1C        	sta	<L761+2+4
 17957 03:4A85: A5 17        	lda	<L761+1
 17958 03:4A87: 85 1B        	sta	<L761+1+4
 17959 03:4A89: 2B           	pld
 17960 03:4A8A: 3B           	tsc
 17961 03:4A8B: 18           	clc
 17962 03:4A8C: 69 1A 00     	adc	#L761+4
 17963 03:4A8F: 1B           	tcs
 17964 03:4A90: 6B           	rtl
 17965                        ;}
 17966                        	.line	3055
 17967                        	.endblock	3055
 17968             00000016   L761	equ	22
 17969             00000005   L762	equ	5
 17970 03:4A91:              	ends
 17971                        	efunc
 17972                        	.endfunc	3055,5,22
 17973                        	.line	3055
 17974                        	data
 17975                        L750:
 17976 00:0615: 6D 61 73 74  	db	$6D,$61,$73,$74,$65,$72,$00,$6D,$61,$73,
                    $74,$65,$72,$00
       00:0619: 65 72 00 6D 
       00:061D: 61 73 74 65 
       00:0621: 72 00 
 17977 00:0623:              	ends
 17978                        ;
 17979                        ;
 17980                        ;
 17981                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 17982                        ;{
 17983                        	.line	3059
  Wed Nov 18 2020  8:27                                                Page 328


 17984                        	.line	3060
 17985                        	GUI
 17986                        	xdef	~~k_add_window_hit_node
 17987                        	func
 17988                        	.function	3060
 17989                        ~~k_add_window_hit_node:
 17990                        	longa	on
 17991                        	longi	on
 17992 03:4A91: 3B           	tsc
 17993 03:4A92: 38           	sec
 17994 03:4A93: E9 04 00     	sbc	#L769
 17995 03:4A96: 1B           	tcs
 17996 03:4A97: 0B           	phd
 17997 03:4A98: 5B           	tcd
 17998             00000004   pcd_0	set	4
 17999                        	.block	3060
 18000                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 18001                        	.sym	pcd,4,138,6,32,51
 18002                        	.line	3061
 18003 03:4A99: D4 0A        	pei	<L769+pcd_0+2
 18004 03:4A9B: D4 08        	pei	<L769+pcd_0
 18005 03:4A9D: F4 xx xx     	pea	#^L768
 18006 03:4AA0: F4 xx xx     	pea	#<L768
 18007 03:4AA3: 22 xx xx xx  	jsl	~~k_debug_pointer
 18008                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 18009                        	.line	3062
 18010 03:4AA7: F4 00 00     	pea	#^$0
 18011 03:4AAA: F4 00 00     	pea	#<$0
 18012 03:4AAD: F4 00 00     	pea	#^$0
 18013 03:4AB0: F4 00 00     	pea	#<$0
 18014 03:4AB3: D4 0A        	pei	<L769+pcd_0+2
 18015 03:4AB5: D4 08        	pei	<L769+pcd_0
 18016 03:4AB7: F4 xx xx     	pea	#^L768+23
 18017 03:4ABA: F4 xx xx     	pea	#<L768+23
 18018 03:4ABD: F4 01 00     	pea	#<$1
 18019 03:4AC0: 22 xx xx xx  	jsl	~~k_nodelist_create
 18020 03:4AC4: 85 01        	sta	<R0
 18021 03:4AC6: 86 03        	stx	<R0+2
 18022 03:4AC8: DA           	phx
 18023 03:4AC9: 48           	pha
 18024 03:4ACA: AD xx xx     	lda	|~~_k_WindowHit_nodes+2
 18025 03:4ACD: 48           	pha
 18026 03:4ACE: AD xx xx     	lda	|~~_k_WindowHit_nodes
 18027 03:4AD1: 48           	pha
 18028 03:4AD2: 22 xx xx xx  	jsl	~~k_nodelist_add
 18029                        ;}
 18030                        	.line	3063
 18031                        L772:
 18032 03:4AD6: A5 06        	lda	<L769+2
 18033 03:4AD8: 85 0A        	sta	<L769+2+4
 18034 03:4ADA: A5 05        	lda	<L769+1
 18035 03:4ADC: 85 09        	sta	<L769+1+4
 18036 03:4ADE: 2B           	pld
 18037 03:4ADF: 3B           	tsc
 18038 03:4AE0: 18           	clc
 18039 03:4AE1: 69 08 00     	adc	#L769+4
 18040 03:4AE4: 1B           	tcs
  Wed Nov 18 2020  8:27                                                Page 329


 18041 03:4AE5: 6B           	rtl
 18042                        	.endblock	3063
 18043             00000004   L769	equ	4
 18044             00000005   L770	equ	5
 18045 03:4AE6:              	ends
 18046                        	efunc
 18047                        	.endfunc	3063,5,4
 18048                        	.line	3063
 18049                        	data
 18050                        L768:
 18051 00:0623: 6B 5F 61 64  	db	$6B,$5F,$61,$64,$64,$5F,$77,$69,$6E,$64,
                    $6F,$77,$5F,$68,$69
       00:0627: 64 5F 77 69 
       00:062B: 6E 64 6F 77 
       00:062F: 5F 68 69 
 18052 00:0632: 74 5F 6E 6F  	db	$74,$5F,$6E,$6F,$64,$65,$3A,$00,$77,$69,
                    $6E,$64,$6F,$77,$00
       00:0636: 64 65 3A 00 
       00:063A: 77 69 6E 64 
       00:063E: 6F 77 00 
 18053 00:0641:              	ends
 18054                        ;
 18055                        ;/*
 18056                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 18057                        ;{
 18058                        ;	int i = 0;
 18059                        ;	int index = -1;
 18060                        ;	int found = 0;
 18061                        ;	PCLICKABLE top = NULL;
 18062                        ;	RECT r;
 18063                        ;
 18064                        ;	for(i=0;i<cSize;i++)
 18065                        ;	{
 18066                        ;		hitList[i] = NULL;
 18067                        ;		r = clickableList[i].area;
 18068                        ;		if(x >=r.x && x<(r.x+r.width))
 18069                        ;		{
 18070                        ;			if(y >=r.y && y<(r.y+r.height))
 18071                        ;			{
 18072                        ;				index = i;
 18073                        ;				//clickableList[i].depth
                     = 1;
 18074                        ;				hitList[i] = &clickableL
                    ist[i];
 18075                        ;				found++;
 18076                        ;			}
 18077                        ;		}
 18078                        ;	}
 18079                        ;
 18080                        ;	if(found > 0)
 18081                        ;	{
 18082                        ;		top = hitList[0];
 18083                        ;		for(i=0;i<cSize;i++)
 18084                        ;		{
 18085                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 18086                        ;			{
  Wed Nov 18 2020  8:27                                                Page 330


 18087                        ;				top->depth = 1;
 18088                        ;				top = hitList[i];
 18089                        ;				top->depth = 0;
 18090                        ;				index = i;
 18091                        ;			}
 18092                        ;		}
 18093                        ;	}
 18094                        ;	else
 18095                        ;	{
 18096                        ;		clickableList[index].depth = 0;
 18097                        ;	}
 18098                        ;
 18099                        ;	return index;
 18100                        ;}
 18101                        ;*/
 18102                        ;PFXNODE k_point_in_nodes(int x,int y)
 18103                        ;{
 18104                        	.line	3112
 18105                        	.line	3113
 18106                        	GUI
 18107                        	xdef	~~k_point_in_nodes
 18108                        	func
 18109                        	.function	3113
 18110                        ~~k_point_in_nodes:
 18111                        	longa	on
 18112                        	longi	on
 18113 03:4AE6: 3B           	tsc
 18114 03:4AE7: 38           	sec
 18115 03:4AE8: E9 20 00     	sbc	#L774
 18116 03:4AEB: 1B           	tcs
 18117 03:4AEC: 0B           	phd
 18118 03:4AED: 5B           	tcd
 18119             00000004   x_0	set	4
 18120             00000006   y_0	set	6
 18121                        	.block	3113
 18122                        ;	PFXNODE found = NULL;
 18123                        ;	LPCHAR ctx = "";
 18124                        ;	PFXNODE ptr = NULL;
 18125                        ;
 18126                        ;	RECT r;
 18127                        ;	int i = 0;
 18128                        ;	int index = -1;
 18129                        ;
 18130                        ;	//k_debug_string("k_point_in_nodes\r\n");
 18131                        ;
 18132                        ;	if(_k_WindowHit_nodes!=NULL)
 18133             00000000   found_1	set	0
 18134             00000004   ctx_1	set	4
 18135             00000008   ptr_1	set	8
 18136             0000000C   r_1	set	12
 18137             00000014   i_1	set	20
 18138             00000016   index_1	set	22
 18139                        	.sym	found,0,138,1,32,5
 18140                        	.sym	ctx,4,142,1,32
 18141                        	.sym	ptr,8,138,1,32,5
 18142                        	.sym	r,12,10,1,64,25
 18143                        	.sym	i,20,5,1,16
 18144                        	.sym	index,22,5,1,16
  Wed Nov 18 2020  8:27                                                Page 331


 18145                        	.sym	x,4,5,6,16
 18146                        	.sym	y,6,5,6,16
 18147 03:4AEE: 64 09        	stz	<L775+found_1
 18148 03:4AF0: 64 0B        	stz	<L775+found_1+2
 18149 03:4AF2: A9 xx xx     	lda	#<L773
 18150 03:4AF5: 85 0D        	sta	<L775+ctx_1
 18151 03:4AF7: A9 xx xx     	lda	#^L773
 18152 03:4AFA: 85 0F        	sta	<L775+ctx_1+2
 18153 03:4AFC: 64 11        	stz	<L775+ptr_1
 18154 03:4AFE: 64 13        	stz	<L775+ptr_1+2
 18155 03:4B00: 64 1D        	stz	<L775+i_1
 18156 03:4B02: A9 FF FF     	lda	#$ffff
 18157 03:4B05: 85 1F        	sta	<L775+index_1
 18158                        	.line	3124
 18159                        ;	{
 18160 03:4B07: AD xx xx     	lda	|~~_k_WindowHit_nodes
 18161 03:4B0A: 0D xx xx     	ora	|~~_k_WindowHit_nodes+2
 18162 03:4B0D: D0 03        	bne	L777
 18163 03:4B0F: 82 CB 00     	brl	L10343
 18164                        L777:
 18165                        	.line	3125
 18166                        ;		ptr = _k_WindowHit_nodes->next;
 18167                        	.line	3126
 18168 03:4B12: AD xx xx     	lda	|~~_k_WindowHit_nodes
 18169 03:4B15: 85 01        	sta	<R0
 18170 03:4B17: AD xx xx     	lda	|~~_k_WindowHit_nodes+2
 18171 03:4B1A: 85 03        	sta	<R0+2
 18172 03:4B1C: A0 0A 00     	ldy	#$a
 18173 03:4B1F: B7 01        	lda	[<R0],Y
 18174 03:4B21: 85 11        	sta	<L775+ptr_1
 18175 03:4B23: A0 0C 00     	ldy	#$c
 18176 03:4B26: B7 01        	lda	[<R0],Y
 18177 03:4B28: 85 13        	sta	<L775+ptr_1+2
 18178                        ;		while(ptr!=NULL)
 18179                        	.line	3127
 18180                        L10344:
 18181 03:4B2A: A5 11        	lda	<L775+ptr_1
 18182 03:4B2C: 05 13        	ora	<L775+ptr_1+2
 18183 03:4B2E: D0 03        	bne	L778
 18184 03:4B30: 82 AA 00     	brl	L10345
 18185                        L778:
 18186                        ;		{
 18187                        	.line	3128
 18188                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 18189                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 18190                        	.line	3130
 18191 03:4B33: A0 02 00     	ldy	#$2
 18192 03:4B36: B7 11        	lda	[<L775+ptr_1],Y
 18193 03:4B38: 85 01        	sta	<R0
 18194 03:4B3A: A0 04 00     	ldy	#$4
 18195 03:4B3D: B7 11        	lda	[<L775+ptr_1],Y
 18196 03:4B3F: 85 03        	sta	<R0+2
 18197 03:4B41: A7 01        	lda	[<R0]
 18198 03:4B43: 85 05        	sta	<R1
 18199 03:4B45: A0 02 00     	ldy	#$2
 18200 03:4B48: B7 01        	lda	[<R0],Y
  Wed Nov 18 2020  8:27                                                Page 332


 18201 03:4B4A: 85 07        	sta	<R1+2
 18202 03:4B4C: A0 22 00     	ldy	#$22
 18203 03:4B4F: B7 05        	lda	[<R1],Y
 18204 03:4B51: 48           	pha
 18205 03:4B52: A0 20 00     	ldy	#$20
 18206 03:4B55: B7 05        	lda	[<R1],Y
 18207 03:4B57: 48           	pha
 18208 03:4B58: 18           	clc
 18209 03:4B59: 7B           	tdc
 18210 03:4B5A: 69 15 00     	adc	#<L775+r_1
 18211 03:4B5D: 85 01        	sta	<R0
 18212 03:4B5F: A9 00 00     	lda	#$0
 18213 03:4B62: 85 03        	sta	<R0+2
 18214 03:4B64: D4 03        	pei	<R0+2
 18215 03:4B66: D4 01        	pei	<R0
 18216 03:4B68: A9 08 00     	lda	#$8
 18217                        	xref	~~~fmov
 18218 03:4B6B: 22 xx xx xx  	jsl	~~~fmov
 18219                        ;			if(x >=r.x && x<(r.x+r.width))
 18220                        	.line	3131
 18221                        ;			{
 18222 03:4B6F: 38           	sec
 18223 03:4B70: A5 24        	lda	<L774+x_0
 18224 03:4B72: E5 15        	sbc	<L775+r_1
 18225 03:4B74: 70 03        	bvs	L779
 18226 03:4B76: 49 00 80     	eor	#$8000
 18227                        L779:
 18228 03:4B79: 30 03        	bmi	L780
 18229 03:4B7B: 82 46 00     	brl	L10346
 18230                        L780:
 18231 03:4B7E: 18           	clc
 18232 03:4B7F: A5 15        	lda	<L775+r_1
 18233 03:4B81: 65 19        	adc	<L775+r_1+4
 18234 03:4B83: 85 01        	sta	<R0
 18235 03:4B85: 38           	sec
 18236 03:4B86: A5 24        	lda	<L774+x_0
 18237 03:4B88: E5 01        	sbc	<R0
 18238 03:4B8A: 70 03        	bvs	L781
 18239 03:4B8C: 49 00 80     	eor	#$8000
 18240                        L781:
 18241 03:4B8F: 10 03        	bpl	L782
 18242 03:4B91: 82 30 00     	brl	L10346
 18243                        L782:
 18244                        	.line	3132
 18245                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 18246                        	.line	3133
 18247                        ;				{
 18248 03:4B94: 38           	sec
 18249 03:4B95: A5 26        	lda	<L774+y_0
 18250 03:4B97: E5 17        	sbc	<L775+r_1+2
 18251 03:4B99: 70 03        	bvs	L783
 18252 03:4B9B: 49 00 80     	eor	#$8000
 18253                        L783:
 18254 03:4B9E: 30 03        	bmi	L784
 18255 03:4BA0: 82 21 00     	brl	L10347
 18256                        L784:
 18257 03:4BA3: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 333


 18258 03:4BA4: A5 17        	lda	<L775+r_1+2
 18259 03:4BA6: 65 1B        	adc	<L775+r_1+6
 18260 03:4BA8: 85 01        	sta	<R0
 18261 03:4BAA: 38           	sec
 18262 03:4BAB: A5 26        	lda	<L774+y_0
 18263 03:4BAD: E5 01        	sbc	<R0
 18264 03:4BAF: 70 03        	bvs	L785
 18265 03:4BB1: 49 00 80     	eor	#$8000
 18266                        L785:
 18267 03:4BB4: 10 03        	bpl	L786
 18268 03:4BB6: 82 0B 00     	brl	L10347
 18269                        L786:
 18270                        	.line	3134
 18271                        ;					found = ptr;
 18272                        	.line	3135
 18273 03:4BB9: A5 11        	lda	<L775+ptr_1
 18274 03:4BBB: 85 09        	sta	<L775+found_1
 18275 03:4BBD: A5 13        	lda	<L775+ptr_1+2
 18276 03:4BBF: 85 0B        	sta	<L775+found_1+2
 18277                        ;					break;
 18278                        	.line	3136
 18279 03:4BC1: 82 19 00     	brl	L10345
 18280                        ;				}
 18281                        	.line	3137
 18282                        ;			}
 18283                        L10347:
 18284                        	.line	3138
 18285                        ;			ptr = ptr->next;
 18286                        L10346:
 18287                        	.line	3139
 18288 03:4BC4: A0 0A 00     	ldy	#$a
 18289 03:4BC7: B7 11        	lda	[<L775+ptr_1],Y
 18290 03:4BC9: 85 01        	sta	<R0
 18291 03:4BCB: A0 0C 00     	ldy	#$c
 18292 03:4BCE: B7 11        	lda	[<L775+ptr_1],Y
 18293 03:4BD0: 85 03        	sta	<R0+2
 18294 03:4BD2: A5 01        	lda	<R0
 18295 03:4BD4: 85 11        	sta	<L775+ptr_1
 18296 03:4BD6: A5 03        	lda	<R0+2
 18297 03:4BD8: 85 13        	sta	<L775+ptr_1+2
 18298                        ;		}
 18299                        	.line	3140
 18300 03:4BDA: 82 4D FF     	brl	L10344
 18301                        L10345:
 18302                        ;	}
 18303                        	.line	3141
 18304                        ;
 18305                        ;	return found;
 18306                        L10343:
 18307                        	.line	3143
 18308 03:4BDD: A6 0B        	ldx	<L775+found_1+2
 18309 03:4BDF: A5 09        	lda	<L775+found_1
 18310                        L787:
 18311 03:4BE1: A8           	tay
 18312 03:4BE2: A5 22        	lda	<L774+2
 18313 03:4BE4: 85 26        	sta	<L774+2+4
 18314 03:4BE6: A5 21        	lda	<L774+1
 18315 03:4BE8: 85 25        	sta	<L774+1+4
  Wed Nov 18 2020  8:27                                                Page 334


 18316 03:4BEA: 2B           	pld
 18317 03:4BEB: 3B           	tsc
 18318 03:4BEC: 18           	clc
 18319 03:4BED: 69 24 00     	adc	#L774+4
 18320 03:4BF0: 1B           	tcs
 18321 03:4BF1: 98           	tya
 18322 03:4BF2: 6B           	rtl
 18323                        ;}
 18324                        	.line	3144
 18325                        	.endblock	3144
 18326             00000020   L774	equ	32
 18327             00000009   L775	equ	9
 18328 03:4BF3:              	ends
 18329                        	efunc
 18330                        	.endfunc	3144,9,32
 18331                        	.line	3144
 18332                        	data
 18333                        L773:
 18334 00:0641: 00           	db	$00
 18335 00:0642:              	ends
 18336                        ;
 18337                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 18338                        ;{
 18339                        	.line	3146
 18340                        	.line	3147
 18341                        	GUI
 18342                        	xdef	~~k_point_in_list
 18343                        	func
 18344                        	.function	3147
 18345                        ~~k_point_in_list:
 18346                        	longa	on
 18347                        	longi	on
 18348 03:4BF3: 3B           	tsc
 18349 03:4BF4: 38           	sec
 18350 03:4BF5: E9 14 00     	sbc	#L789
 18351 03:4BF8: 1B           	tcs
 18352 03:4BF9: 0B           	phd
 18353 03:4BFA: 5B           	tcd
 18354             00000004   x_0	set	4
 18355             00000006   y_0	set	6
 18356             00000008   clickableList_0	set	8
 18357             0000000C   cSize_0	set	12
 18358                        	.block	3147
 18359                        ;	RECT r;
 18360                        ;	int i = 0;
 18361                        ;	int index = -1;
 18362                        ;
 18363                        ;	for(i=0;i<cSize;i++)
 18364             00000000   r_1	set	0
 18365             00000008   i_1	set	8
 18366             0000000A   index_1	set	10
 18367                        	.sym	r,0,10,1,64,25
 18368                        	.sym	i,8,5,1,16
 18369                        	.sym	index,10,5,1,16
 18370                        	.sym	x,4,5,6,16
 18371                        	.sym	y,6,5,6,16
 18372                        	.sym	clickableList,8,138,6,32,31
  Wed Nov 18 2020  8:27                                                Page 335


 18373                        	.sym	cSize,12,5,6,16
 18374 03:4BFB: 64 11        	stz	<L790+i_1
 18375 03:4BFD: A9 FF FF     	lda	#$ffff
 18376 03:4C00: 85 13        	sta	<L790+index_1
 18377                        	.line	3152
 18378 03:4C02: 64 11        	stz	<L790+i_1
 18379 03:4C04: 82 99 00     	brl	L10351
 18380                        L10350:
 18381                        ;	{
 18382                        	.line	3153
 18383                        ;		r = clickableList[i].area;
 18384                        	.line	3154
 18385 03:4C07: A0 00 00     	ldy	#$0
 18386 03:4C0A: A5 11        	lda	<L790+i_1
 18387 03:4C0C: 10 01        	bpl	L792
 18388 03:4C0E: 88           	dey
 18389                        L792:
 18390 03:4C0F: 85 01        	sta	<R0
 18391 03:4C11: 84 03        	sty	<R0+2
 18392 03:4C13: F4 00 00     	pea	#^$b
 18393 03:4C16: F4 0B 00     	pea	#<$b
 18394 03:4C19: D4 03        	pei	<R0+2
 18395 03:4C1B: D4 01        	pei	<R0
 18396                        	xref	~~~lmul
 18397 03:4C1D: 22 xx xx xx  	jsl	~~~lmul
 18398 03:4C21: 85 01        	sta	<R0
 18399 03:4C23: 86 03        	stx	<R0+2
 18400 03:4C25: 18           	clc
 18401 03:4C26: A5 1C        	lda	<L789+clickableList_0
 18402 03:4C28: 65 01        	adc	<R0
 18403 03:4C2A: 85 05        	sta	<R1
 18404 03:4C2C: A5 1E        	lda	<L789+clickableList_0+2
 18405 03:4C2E: 65 03        	adc	<R0+2
 18406 03:4C30: 85 07        	sta	<R1+2
 18407 03:4C32: D4 07        	pei	<R1+2
 18408 03:4C34: D4 05        	pei	<R1
 18409 03:4C36: 18           	clc
 18410 03:4C37: 7B           	tdc
 18411 03:4C38: 69 09 00     	adc	#<L790+r_1
 18412 03:4C3B: 85 01        	sta	<R0
 18413 03:4C3D: A9 00 00     	lda	#$0
 18414 03:4C40: 85 03        	sta	<R0+2
 18415 03:4C42: D4 03        	pei	<R0+2
 18416 03:4C44: D4 01        	pei	<R0
 18417 03:4C46: A9 08 00     	lda	#$8
 18418                        	xref	~~~fmov
 18419 03:4C49: 22 xx xx xx  	jsl	~~~fmov
 18420                        ;		if(x >=r.x && x<(r.x+r.width))
 18421                        	.line	3155
 18422                        ;		{
 18423 03:4C4D: 38           	sec
 18424 03:4C4E: A5 18        	lda	<L789+x_0
 18425 03:4C50: E5 09        	sbc	<L790+r_1
 18426 03:4C52: 70 03        	bvs	L793
 18427 03:4C54: 49 00 80     	eor	#$8000
 18428                        L793:
 18429 03:4C57: 30 03        	bmi	L794
 18430 03:4C59: 82 42 00     	brl	L10352
  Wed Nov 18 2020  8:27                                                Page 336


 18431                        L794:
 18432 03:4C5C: 18           	clc
 18433 03:4C5D: A5 09        	lda	<L790+r_1
 18434 03:4C5F: 65 0D        	adc	<L790+r_1+4
 18435 03:4C61: 85 01        	sta	<R0
 18436 03:4C63: 38           	sec
 18437 03:4C64: A5 18        	lda	<L789+x_0
 18438 03:4C66: E5 01        	sbc	<R0
 18439 03:4C68: 70 03        	bvs	L795
 18440 03:4C6A: 49 00 80     	eor	#$8000
 18441                        L795:
 18442 03:4C6D: 10 03        	bpl	L796
 18443 03:4C6F: 82 2C 00     	brl	L10352
 18444                        L796:
 18445                        	.line	3156
 18446                        ;			if(y >=r.y && y<(r.y+r.height))
 18447                        	.line	3157
 18448                        ;			{
 18449 03:4C72: 38           	sec
 18450 03:4C73: A5 1A        	lda	<L789+y_0
 18451 03:4C75: E5 0B        	sbc	<L790+r_1+2
 18452 03:4C77: 70 03        	bvs	L797
 18453 03:4C79: 49 00 80     	eor	#$8000
 18454                        L797:
 18455 03:4C7C: 30 03        	bmi	L798
 18456 03:4C7E: 82 1D 00     	brl	L10353
 18457                        L798:
 18458 03:4C81: 18           	clc
 18459 03:4C82: A5 0B        	lda	<L790+r_1+2
 18460 03:4C84: 65 0F        	adc	<L790+r_1+6
 18461 03:4C86: 85 01        	sta	<R0
 18462 03:4C88: 38           	sec
 18463 03:4C89: A5 1A        	lda	<L789+y_0
 18464 03:4C8B: E5 01        	sbc	<R0
 18465 03:4C8D: 70 03        	bvs	L799
 18466 03:4C8F: 49 00 80     	eor	#$8000
 18467                        L799:
 18468 03:4C92: 10 03        	bpl	L800
 18469 03:4C94: 82 07 00     	brl	L10353
 18470                        L800:
 18471                        	.line	3158
 18472                        ;				index = i;
 18473                        	.line	3159
 18474 03:4C97: A5 11        	lda	<L790+i_1
 18475 03:4C99: 85 13        	sta	<L790+index_1
 18476                        ;				//clickableList[i].depth
                     = 1;
 18477                        ;				break;
 18478                        	.line	3161
 18479 03:4C9B: 82 11 00     	brl	L10349
 18480                        ;			}
 18481                        	.line	3162
 18482                        ;		}
 18483                        L10353:
 18484                        	.line	3163
 18485                        ;	}
 18486                        L10352:
 18487                        	.line	3164
  Wed Nov 18 2020  8:27                                                Page 337


 18488                        L10348:
 18489 03:4C9E: E6 11        	inc	<L790+i_1
 18490                        L10351:
 18491 03:4CA0: 38           	sec
 18492 03:4CA1: A5 11        	lda	<L790+i_1
 18493 03:4CA3: E5 20        	sbc	<L789+cSize_0
 18494 03:4CA5: 70 03        	bvs	L801
 18495 03:4CA7: 49 00 80     	eor	#$8000
 18496                        L801:
 18497 03:4CAA: 30 03        	bmi	L802
 18498 03:4CAC: 82 58 FF     	brl	L10350
 18499                        L802:
 18500                        L10349:
 18501                        ;
 18502                        ;	return index;
 18503                        	.line	3166
 18504 03:4CAF: A5 13        	lda	<L790+index_1
 18505                        L803:
 18506 03:4CB1: A8           	tay
 18507 03:4CB2: A5 16        	lda	<L789+2
 18508 03:4CB4: 85 20        	sta	<L789+2+10
 18509 03:4CB6: A5 15        	lda	<L789+1
 18510 03:4CB8: 85 1F        	sta	<L789+1+10
 18511 03:4CBA: 2B           	pld
 18512 03:4CBB: 3B           	tsc
 18513 03:4CBC: 18           	clc
 18514 03:4CBD: 69 1E 00     	adc	#L789+10
 18515 03:4CC0: 1B           	tcs
 18516 03:4CC1: 98           	tya
 18517 03:4CC2: 6B           	rtl
 18518                        ;}
 18519                        	.line	3167
 18520                        	.endblock	3167
 18521             00000014   L789	equ	20
 18522             00000009   L790	equ	9
 18523 03:4CC3:              	ends
 18524                        	efunc
 18525                        	.endfunc	3167,9,20
 18526                        	.line	3167
 18527                        ;
 18528                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 18529                        ;{
 18530                        	.line	3169
 18531                        	.line	3170
 18532                        	GUI
 18533                        	xdef	~~k_create_context_menus
 18534                        	func
 18535                        	.function	3170
 18536                        ~~k_create_context_menus:
 18537                        	longa	on
 18538                        	longi	on
 18539 03:4CC3: 3B           	tsc
 18540 03:4CC4: 38           	sec
 18541 03:4CC5: E9 2C 00     	sbc	#L804
 18542 03:4CC8: 1B           	tcs
 18543 03:4CC9: 0B           	phd
  Wed Nov 18 2020  8:27                                                Page 338


 18544 03:4CCA: 5B           	tcd
 18545             00000004   pWin_0	set	4
 18546             00000008   cx_0	set	8
 18547             0000000A   cy_0	set	10
 18548             0000000C   width_0	set	12
 18549             0000000E   height_0	set	14
 18550             00000010   menus_0	set	16
 18551             00000014   color_0	set	20
 18552             00000016   bgcolor_0	set	22
 18553                        	.block	3170
 18554                        ;	FONTMETRIC metric;
 18555                        ;
 18556                        ;	int i = 0;
 18557                        ;	int hy = 0;
 18558                        ;	LPCSTR caption = NULL;
 18559                        ;
 18560                        ;	int borderTitle = 10;
 18561                        ;	int borderWidth = 3;
 18562                        ;
 18563                        ;	int titleOffsetX = cx+4;
 18564                        ;	int titleOffsetY = cy+2;
 18565                        ;	int titleScaler = 0;
 18566                        ;
 18567                        ;	int clientOffsetX = cx+borderWidth+2;
 18568                        ;	int clientOffsetY = cy+borderTitle+1;
 18569                        ;
 18570                        ;	int endX = width + cx - borderWidth;
 18571                        ;
 18572                        ;
 18573                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 18574             00000000   metric_1	set	0
 18575             00000004   i_1	set	4
 18576             00000006   hy_1	set	6
 18577             00000008   caption_1	set	8
 18578             0000000C   borderTitle_1	set	12
 18579             0000000E   borderWidth_1	set	14
 18580             00000010   titleOffsetX_1	set	16
 18581             00000012   titleOffsetY_1	set	18
 18582             00000014   titleScaler_1	set	20
 18583             00000016   clientOffsetX_1	set	22
 18584             00000018   clientOffsetY_1	set	24
 18585             0000001A   endX_1	set	26
 18586                        	.sym	metric,0,10,1,32,29
 18587                        	.sym	i,4,5,1,16
 18588                        	.sym	hy,6,5,1,16
 18589                        	.sym	caption,8,142,1,32
 18590                        	.sym	borderTitle,12,5,1,16
 18591                        	.sym	borderWidth,14,5,1,16
 18592                        	.sym	titleOffsetX,16,5,1,16
 18593                        	.sym	titleOffsetY,18,5,1,16
 18594                        	.sym	titleScaler,20,5,1,16
 18595                        	.sym	clientOffsetX,22,5,1,16
 18596                        	.sym	clientOffsetY,24,5,1,16
 18597                        	.sym	endX,26,5,1,16
 18598                        	.sym	pWin,4,138,6,32,27
 18599                        	.sym	cx,8,5,6,16
 18600                        	.sym	cy,10,5,6,16
  Wed Nov 18 2020  8:27                                                Page 339


 18601                        	.sym	width,12,5,6,16
 18602                        	.sym	height,14,5,6,16
 18603                        	.sym	menus,16,138,6,32,34
 18604                        	.sym	color,20,5,6,16
 18605                        	.sym	bgcolor,22,5,6,16
 18606 03:4CCB: 64 15        	stz	<L805+i_1
 18607 03:4CCD: 64 17        	stz	<L805+hy_1
 18608 03:4CCF: 64 19        	stz	<L805+caption_1
 18609 03:4CD1: 64 1B        	stz	<L805+caption_1+2
 18610 03:4CD3: A9 0A 00     	lda	#$a
 18611 03:4CD6: 85 1D        	sta	<L805+borderTitle_1
 18612 03:4CD8: A9 03 00     	lda	#$3
 18613 03:4CDB: 85 1F        	sta	<L805+borderWidth_1
 18614 03:4CDD: 18           	clc
 18615 03:4CDE: A9 04 00     	lda	#$4
 18616 03:4CE1: 65 34        	adc	<L804+cx_0
 18617 03:4CE3: 85 21        	sta	<L805+titleOffsetX_1
 18618 03:4CE5: 18           	clc
 18619 03:4CE6: A9 02 00     	lda	#$2
 18620 03:4CE9: 65 36        	adc	<L804+cy_0
 18621 03:4CEB: 85 23        	sta	<L805+titleOffsetY_1
 18622 03:4CED: 64 25        	stz	<L805+titleScaler_1
 18623 03:4CEF: 18           	clc
 18624 03:4CF0: A5 34        	lda	<L804+cx_0
 18625 03:4CF2: 65 1F        	adc	<L805+borderWidth_1
 18626 03:4CF4: 85 01        	sta	<R0
 18627 03:4CF6: 18           	clc
 18628 03:4CF7: A9 02 00     	lda	#$2
 18629 03:4CFA: 65 01        	adc	<R0
 18630 03:4CFC: 85 27        	sta	<L805+clientOffsetX_1
 18631 03:4CFE: 18           	clc
 18632 03:4CFF: A5 36        	lda	<L804+cy_0
 18633 03:4D01: 65 1D        	adc	<L805+borderTitle_1
 18634 03:4D03: 85 01        	sta	<R0
 18635 03:4D05: A5 01        	lda	<R0
 18636 03:4D07: 1A           	ina
 18637 03:4D08: 85 29        	sta	<L805+clientOffsetY_1
 18638 03:4D0A: 18           	clc
 18639 03:4D0B: A5 38        	lda	<L804+width_0
 18640 03:4D0D: 65 34        	adc	<L804+cx_0
 18641 03:4D0F: 85 01        	sta	<R0
 18642 03:4D11: 38           	sec
 18643 03:4D12: A5 01        	lda	<R0
 18644 03:4D14: E5 1F        	sbc	<L805+borderWidth_1
 18645 03:4D16: 85 2B        	sta	<L805+endX_1
 18646                        	.line	3190
 18647 03:4D18: F4 xx xx     	pea	#^L788
 18648 03:4D1B: F4 xx xx     	pea	#<L788
 18649 03:4D1E: 22 xx xx xx  	jsl	~~k_debug_string
 18650                        ;
 18651                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 18652                        	.line	3192
 18653 03:4D22: F4 00 00     	pea	#<$0
 18654 03:4D25: F4 00 00     	pea	#<$0
 18655 03:4D28: D4 3A        	pei	<L804+height_0
 18656 03:4D2A: D4 38        	pei	<L804+width_0
 18657 03:4D2C: D4 36        	pei	<L804+cy_0
  Wed Nov 18 2020  8:27                                                Page 340


 18658 03:4D2E: D4 34        	pei	<L804+cx_0
 18659 03:4D30: 22 55 5B 03  	jsl	~~k_scratch_save_bitblt
 18660                        ;
 18661                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 18662                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 18663                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 18664                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 18665                        	.line	3197
 18666 03:4D34: D4 42        	pei	<L804+bgcolor_0
 18667 03:4D36: D4 3A        	pei	<L804+height_0
 18668 03:4D38: D4 38        	pei	<L804+width_0
 18669 03:4D3A: A0 00 00     	ldy	#$0
 18670 03:4D3D: A5 36        	lda	<L804+cy_0
 18671 03:4D3F: 10 01        	bpl	L807
 18672 03:4D41: 88           	dey
 18673                        L807:
 18674 03:4D42: 85 01        	sta	<R0
 18675 03:4D44: 84 03        	sty	<R0+2
 18676 03:4D46: D4 03        	pei	<R0+2
 18677 03:4D48: D4 01        	pei	<R0
 18678 03:4D4A: A0 00 00     	ldy	#$0
 18679 03:4D4D: A5 34        	lda	<L804+cx_0
 18680 03:4D4F: 10 01        	bpl	L808
 18681 03:4D51: 88           	dey
 18682                        L808:
 18683 03:4D52: 85 05        	sta	<R1
 18684 03:4D54: 84 07        	sty	<R1+2
 18685 03:4D56: D4 07        	pei	<R1+2
 18686 03:4D58: D4 05        	pei	<R1
 18687 03:4D5A: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 18688                        ;
 18689                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 18690                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 18691                        ;	i = 0;
 18692                        	.line	3201
 18693 03:4D5E: 64 15        	stz	<L805+i_1
 18694                        ;	caption = menus->captions[i];
 18695                        	.line	3202
 18696 03:4D60: A0 00 00     	ldy	#$0
 18697 03:4D63: A5 15        	lda	<L805+i_1
 18698 03:4D65: 10 01        	bpl	L809
 18699 03:4D67: 88           	dey
 18700                        L809:
 18701 03:4D68: 85 05        	sta	<R1
 18702 03:4D6A: 84 07        	sty	<R1+2
 18703 03:4D6C: D4 07        	pei	<R1+2
 18704 03:4D6E: D4 05        	pei	<R1
 18705 03:4D70: A9 02 00     	lda	#$2
 18706                        	xref	~~~lasl
 18707 03:4D73: 22 xx xx xx  	jsl	~~~lasl
 18708 03:4D77: 85 01        	sta	<R0
 18709 03:4D79: 86 03        	stx	<R0+2
 18710 03:4D7B: 18           	clc
 18711 03:4D7C: A9 0C 00     	lda	#$c
  Wed Nov 18 2020  8:27                                                Page 341


 18712 03:4D7F: 65 3C        	adc	<L804+menus_0
 18713 03:4D81: 85 09        	sta	<R2
 18714 03:4D83: A9 00 00     	lda	#$0
 18715 03:4D86: 65 3E        	adc	<L804+menus_0+2
 18716 03:4D88: 85 0B        	sta	<R2+2
 18717 03:4D8A: 18           	clc
 18718 03:4D8B: A5 09        	lda	<R2
 18719 03:4D8D: 65 01        	adc	<R0
 18720 03:4D8F: 85 0D        	sta	<R3
 18721 03:4D91: A5 0B        	lda	<R2+2
 18722 03:4D93: 65 03        	adc	<R0+2
 18723 03:4D95: 85 0F        	sta	<R3+2
 18724 03:4D97: A7 0D        	lda	[<R3]
 18725 03:4D99: 85 19        	sta	<L805+caption_1
 18726 03:4D9B: A0 02 00     	ldy	#$2
 18727 03:4D9E: B7 0D        	lda	[<R3],Y
 18728 03:4DA0: 85 1B        	sta	<L805+caption_1+2
 18729                        ;	while(caption!=NULL)
 18730                        	.line	3203
 18731                        L10354:
 18732 03:4DA2: A5 19        	lda	<L805+caption_1
 18733 03:4DA4: 05 1B        	ora	<L805+caption_1+2
 18734 03:4DA6: D0 03        	bne	L810
 18735 03:4DA8: 82 7A 00     	brl	L10355
 18736                        L810:
 18737                        ;	{
 18738                        	.line	3204
 18739                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 18740                        	.line	3205
 18741 03:4DAB: D4 1B        	pei	<L805+caption_1+2
 18742 03:4DAD: D4 19        	pei	<L805+caption_1
 18743 03:4DAF: F4 xx xx     	pea	#^L788+29
 18744 03:4DB2: F4 xx xx     	pea	#<L788+29
 18745 03:4DB5: 22 xx xx xx  	jsl	~~k_debug_strings
 18746                        ;
 18747                        ;		//caption = strupr(caption);
 18748                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 18749                        	.line	3208
 18750 03:4DB9: D4 40        	pei	<L804+color_0
 18751 03:4DBB: D4 23        	pei	<L805+titleOffsetY_1
 18752 03:4DBD: D4 21        	pei	<L805+titleOffsetX_1
 18753 03:4DBF: D4 1B        	pei	<L805+caption_1+2
 18754 03:4DC1: D4 19        	pei	<L805+caption_1
 18755 03:4DC3: 22 6C 16 03  	jsl	~~k_draw_text_point
 18756 03:4DC7: 85 17        	sta	<L805+hy_1
 18757                        ;		titleOffsetY+=(FONTH + 2);
 18758                        	.line	3209
 18759 03:4DC9: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 18760 03:4DCD: 85 01        	sta	<R0
 18761 03:4DCF: 18           	clc
 18762 03:4DD0: A5 01        	lda	<R0
 18763 03:4DD2: 65 23        	adc	<L805+titleOffsetY_1
 18764 03:4DD4: 85 05        	sta	<R1
 18765 03:4DD6: 18           	clc
 18766 03:4DD7: A9 02 00     	lda	#$2
 18767 03:4DDA: 65 05        	adc	<R1
  Wed Nov 18 2020  8:27                                                Page 342


 18768 03:4DDC: 85 23        	sta	<L805+titleOffsetY_1
 18769                        ;		i++;
 18770                        	.line	3210
 18771 03:4DDE: E6 15        	inc	<L805+i_1
 18772                        ;		caption = menus->captions[i];
 18773                        	.line	3211
 18774 03:4DE0: A0 00 00     	ldy	#$0
 18775 03:4DE3: A5 15        	lda	<L805+i_1
 18776 03:4DE5: 10 01        	bpl	L811
 18777 03:4DE7: 88           	dey
 18778                        L811:
 18779 03:4DE8: 85 05        	sta	<R1
 18780 03:4DEA: 84 07        	sty	<R1+2
 18781 03:4DEC: D4 07        	pei	<R1+2
 18782 03:4DEE: D4 05        	pei	<R1
 18783 03:4DF0: A9 02 00     	lda	#$2
 18784                        	xref	~~~lasl
 18785 03:4DF3: 22 xx xx xx  	jsl	~~~lasl
 18786 03:4DF7: 85 01        	sta	<R0
 18787 03:4DF9: 86 03        	stx	<R0+2
 18788 03:4DFB: 18           	clc
 18789 03:4DFC: A9 0C 00     	lda	#$c
 18790 03:4DFF: 65 3C        	adc	<L804+menus_0
 18791 03:4E01: 85 09        	sta	<R2
 18792 03:4E03: A9 00 00     	lda	#$0
 18793 03:4E06: 65 3E        	adc	<L804+menus_0+2
 18794 03:4E08: 85 0B        	sta	<R2+2
 18795 03:4E0A: 18           	clc
 18796 03:4E0B: A5 09        	lda	<R2
 18797 03:4E0D: 65 01        	adc	<R0
 18798 03:4E0F: 85 0D        	sta	<R3
 18799 03:4E11: A5 0B        	lda	<R2+2
 18800 03:4E13: 65 03        	adc	<R0+2
 18801 03:4E15: 85 0F        	sta	<R3+2
 18802 03:4E17: A7 0D        	lda	[<R3]
 18803 03:4E19: 85 19        	sta	<L805+caption_1
 18804 03:4E1B: A0 02 00     	ldy	#$2
 18805 03:4E1E: B7 0D        	lda	[<R3],Y
 18806 03:4E20: 85 1B        	sta	<L805+caption_1+2
 18807                        ;	}
 18808                        	.line	3212
 18809 03:4E22: 82 7D FF     	brl	L10354
 18810                        L10355:
 18811                        ;
 18812                        ;	return NULL;
 18813                        	.line	3214
 18814 03:4E25: A9 00 00     	lda	#$0
 18815 03:4E28: AA           	tax
 18816 03:4E29: A9 00 00     	lda	#$0
 18817                        L812:
 18818 03:4E2C: A8           	tay
 18819 03:4E2D: A5 2E        	lda	<L804+2
 18820 03:4E2F: 85 42        	sta	<L804+2+20
 18821 03:4E31: A5 2D        	lda	<L804+1
 18822 03:4E33: 85 41        	sta	<L804+1+20
 18823 03:4E35: 2B           	pld
 18824 03:4E36: 3B           	tsc
 18825 03:4E37: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 343


 18826 03:4E38: 69 40 00     	adc	#L804+20
 18827 03:4E3B: 1B           	tcs
 18828 03:4E3C: 98           	tya
 18829 03:4E3D: 6B           	rtl
 18830                        ;}
 18831                        	.line	3215
 18832                        	.endblock	3215
 18833             0000002C   L804	equ	44
 18834             00000011   L805	equ	17
 18835 03:4E3E:              	ends
 18836                        	efunc
 18837                        	.endfunc	3215,17,44
 18838                        	.line	3215
 18839                        	data
 18840                        L788:
 18841 00:0642: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0646: 65 61 74 65 
       00:064A: 5F 63 6F 6E 
       00:064E: 74 65 78 
 18842 00:0651: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0655: 6E 75 3A 66 
       00:0659: 69 6C 6C 0D 
       00:065D: 0A 00 6B 
 18843 00:0660: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0664: 61 74 65 5F 
       00:0668: 63 6F 6E 74 
       00:066C: 65 78 74 
 18844 00:066F: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0673: 75 3A 63 61 
       00:0677: 70 74 69 6F 
       00:067B: 6E 3A 00 
 18845 00:067E:              	ends
 18846                        ;
 18847                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 18848                        ;{
 18849                        	.line	3217
 18850                        	.line	3218
 18851                        	GUI
 18852                        	xdef	~~k_create_context_menu
 18853                        	func
 18854                        	.function	3218
 18855                        ~~k_create_context_menu:
 18856                        	longa	on
 18857                        	longi	on
 18858 03:4E3E: 3B           	tsc
 18859 03:4E3F: 38           	sec
 18860 03:4E40: E9 28 00     	sbc	#L814
 18861 03:4E43: 1B           	tcs
 18862 03:4E44: 0B           	phd
 18863 03:4E45: 5B           	tcd
 18864             00000004   cx_0	set	4
 18865             00000006   cy_0	set	6
 18866             00000008   width_0	set	8
  Wed Nov 18 2020  8:27                                                Page 344


 18867             0000000A   height_0	set	10
 18868             0000000C   captions_0	set	12
 18869             00000010   color_0	set	16
 18870             00000012   bgcolor_0	set	18
 18871                        	.block	3218
 18872                        ;	FONTMETRIC metric;
 18873                        ;
 18874                        ;	int i = 0;
 18875                        ;	int hy = 0;
 18876                        ;	char FAR *caption = NULL;
 18877                        ;
 18878                        ;	int borderTitle = 10;
 18879                        ;	int borderWidth = 3;
 18880                        ;
 18881                        ;	int titleOffsetX = cx+4;
 18882                        ;	int titleOffsetY = cy+2;
 18883                        ;	int titleScaler = 0;
 18884                        ;
 18885                        ;	int clientOffsetX = cx+borderWidth+2;
 18886                        ;	int clientOffsetY = cy+borderTitle+1;
 18887                        ;
 18888                        ;	int endX = width + cx - borderWidth;
 18889                        ;
 18890                        ;
 18891                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 18892             00000000   metric_1	set	0
 18893             00000004   i_1	set	4
 18894             00000006   hy_1	set	6
 18895             00000008   caption_1	set	8
 18896             0000000C   borderTitle_1	set	12
 18897             0000000E   borderWidth_1	set	14
 18898             00000010   titleOffsetX_1	set	16
 18899             00000012   titleOffsetY_1	set	18
 18900             00000014   titleScaler_1	set	20
 18901             00000016   clientOffsetX_1	set	22
 18902             00000018   clientOffsetY_1	set	24
 18903             0000001A   endX_1	set	26
 18904                        	.sym	metric,0,10,1,32,29
 18905                        	.sym	i,4,5,1,16
 18906                        	.sym	hy,6,5,1,16
 18907                        	.sym	caption,8,142,1,32
 18908                        	.sym	borderTitle,12,5,1,16
 18909                        	.sym	borderWidth,14,5,1,16
 18910                        	.sym	titleOffsetX,16,5,1,16
 18911                        	.sym	titleOffsetY,18,5,1,16
 18912                        	.sym	titleScaler,20,5,1,16
 18913                        	.sym	clientOffsetX,22,5,1,16
 18914                        	.sym	clientOffsetY,24,5,1,16
 18915                        	.sym	endX,26,5,1,16
 18916                        	.sym	cx,4,5,6,16
 18917                        	.sym	cy,6,5,6,16
 18918                        	.sym	width,8,5,6,16
 18919                        	.sym	height,10,5,6,16
 18920                        	.sym	captions,12,1166,6,32
 18921                        	.sym	color,16,5,6,16
 18922                        	.sym	bgcolor,18,5,6,16
 18923 03:4E46: 64 11        	stz	<L815+i_1
  Wed Nov 18 2020  8:27                                                Page 345


 18924 03:4E48: 64 13        	stz	<L815+hy_1
 18925 03:4E4A: 64 15        	stz	<L815+caption_1
 18926 03:4E4C: 64 17        	stz	<L815+caption_1+2
 18927 03:4E4E: A9 0A 00     	lda	#$a
 18928 03:4E51: 85 19        	sta	<L815+borderTitle_1
 18929 03:4E53: A9 03 00     	lda	#$3
 18930 03:4E56: 85 1B        	sta	<L815+borderWidth_1
 18931 03:4E58: 18           	clc
 18932 03:4E59: A9 04 00     	lda	#$4
 18933 03:4E5C: 65 2C        	adc	<L814+cx_0
 18934 03:4E5E: 85 1D        	sta	<L815+titleOffsetX_1
 18935 03:4E60: 18           	clc
 18936 03:4E61: A9 02 00     	lda	#$2
 18937 03:4E64: 65 2E        	adc	<L814+cy_0
 18938 03:4E66: 85 1F        	sta	<L815+titleOffsetY_1
 18939 03:4E68: 64 21        	stz	<L815+titleScaler_1
 18940 03:4E6A: 18           	clc
 18941 03:4E6B: A5 2C        	lda	<L814+cx_0
 18942 03:4E6D: 65 1B        	adc	<L815+borderWidth_1
 18943 03:4E6F: 85 01        	sta	<R0
 18944 03:4E71: 18           	clc
 18945 03:4E72: A9 02 00     	lda	#$2
 18946 03:4E75: 65 01        	adc	<R0
 18947 03:4E77: 85 23        	sta	<L815+clientOffsetX_1
 18948 03:4E79: 18           	clc
 18949 03:4E7A: A5 2E        	lda	<L814+cy_0
 18950 03:4E7C: 65 19        	adc	<L815+borderTitle_1
 18951 03:4E7E: 85 01        	sta	<R0
 18952 03:4E80: A5 01        	lda	<R0
 18953 03:4E82: 1A           	ina
 18954 03:4E83: 85 25        	sta	<L815+clientOffsetY_1
 18955 03:4E85: 18           	clc
 18956 03:4E86: A5 30        	lda	<L814+width_0
 18957 03:4E88: 65 2C        	adc	<L814+cx_0
 18958 03:4E8A: 85 01        	sta	<R0
 18959 03:4E8C: 38           	sec
 18960 03:4E8D: A5 01        	lda	<R0
 18961 03:4E8F: E5 1B        	sbc	<L815+borderWidth_1
 18962 03:4E91: 85 27        	sta	<L815+endX_1
 18963                        	.line	3238
 18964 03:4E93: F4 xx xx     	pea	#^L813
 18965 03:4E96: F4 xx xx     	pea	#<L813
 18966 03:4E99: 22 xx xx xx  	jsl	~~k_debug_string
 18967                        ;
 18968                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 18969                        	.line	3240
 18970 03:4E9D: F4 00 00     	pea	#<$0
 18971 03:4EA0: F4 00 00     	pea	#<$0
 18972 03:4EA3: D4 32        	pei	<L814+height_0
 18973 03:4EA5: D4 30        	pei	<L814+width_0
 18974 03:4EA7: D4 2E        	pei	<L814+cy_0
 18975 03:4EA9: D4 2C        	pei	<L814+cx_0
 18976 03:4EAB: 22 55 5B 03  	jsl	~~k_scratch_save_bitblt
 18977                        ;
 18978                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 18979                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
  Wed Nov 18 2020  8:27                                                Page 346


 18980                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 18981                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 18982                        	.line	3245
 18983 03:4EAF: D4 3A        	pei	<L814+bgcolor_0
 18984 03:4EB1: D4 32        	pei	<L814+height_0
 18985 03:4EB3: D4 30        	pei	<L814+width_0
 18986 03:4EB5: A0 00 00     	ldy	#$0
 18987 03:4EB8: A5 2E        	lda	<L814+cy_0
 18988 03:4EBA: 10 01        	bpl	L817
 18989 03:4EBC: 88           	dey
 18990                        L817:
 18991 03:4EBD: 85 01        	sta	<R0
 18992 03:4EBF: 84 03        	sty	<R0+2
 18993 03:4EC1: D4 03        	pei	<R0+2
 18994 03:4EC3: D4 01        	pei	<R0
 18995 03:4EC5: A0 00 00     	ldy	#$0
 18996 03:4EC8: A5 2C        	lda	<L814+cx_0
 18997 03:4ECA: 10 01        	bpl	L818
 18998 03:4ECC: 88           	dey
 18999                        L818:
 19000 03:4ECD: 85 05        	sta	<R1
 19001 03:4ECF: 84 07        	sty	<R1+2
 19002 03:4ED1: D4 07        	pei	<R1+2
 19003 03:4ED3: D4 05        	pei	<R1
 19004 03:4ED5: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19005                        ;
 19006                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 19007                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 19008                        ;	i = 0;
 19009                        	.line	3249
 19010 03:4ED9: 64 11        	stz	<L815+i_1
 19011                        ;	caption = captions[i];
 19012                        	.line	3250
 19013 03:4EDB: A0 00 00     	ldy	#$0
 19014 03:4EDE: A5 11        	lda	<L815+i_1
 19015 03:4EE0: 10 01        	bpl	L819
 19016 03:4EE2: 88           	dey
 19017                        L819:
 19018 03:4EE3: 85 05        	sta	<R1
 19019 03:4EE5: 84 07        	sty	<R1+2
 19020 03:4EE7: D4 07        	pei	<R1+2
 19021 03:4EE9: D4 05        	pei	<R1
 19022 03:4EEB: A9 02 00     	lda	#$2
 19023                        	xref	~~~lasl
 19024 03:4EEE: 22 xx xx xx  	jsl	~~~lasl
 19025 03:4EF2: 85 01        	sta	<R0
 19026 03:4EF4: 86 03        	stx	<R0+2
 19027 03:4EF6: 18           	clc
 19028 03:4EF7: A5 34        	lda	<L814+captions_0
 19029 03:4EF9: 65 01        	adc	<R0
 19030 03:4EFB: 85 09        	sta	<R2
 19031 03:4EFD: A5 36        	lda	<L814+captions_0+2
 19032 03:4EFF: 65 03        	adc	<R0+2
 19033 03:4F01: 85 0B        	sta	<R2+2
 19034 03:4F03: A7 09        	lda	[<R2]
  Wed Nov 18 2020  8:27                                                Page 347


 19035 03:4F05: 85 15        	sta	<L815+caption_1
 19036 03:4F07: A0 02 00     	ldy	#$2
 19037 03:4F0A: B7 09        	lda	[<R2],Y
 19038 03:4F0C: 85 17        	sta	<L815+caption_1+2
 19039                        ;	while(caption!=NULL)
 19040                        	.line	3251
 19041                        L10356:
 19042 03:4F0E: A5 15        	lda	<L815+caption_1
 19043 03:4F10: 05 17        	ora	<L815+caption_1+2
 19044 03:4F12: D0 03        	bne	L820
 19045 03:4F14: 82 6B 00     	brl	L10357
 19046                        L820:
 19047                        ;	{
 19048                        	.line	3252
 19049                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 19050                        	.line	3253
 19051 03:4F17: D4 17        	pei	<L815+caption_1+2
 19052 03:4F19: D4 15        	pei	<L815+caption_1
 19053 03:4F1B: F4 xx xx     	pea	#^L813+29
 19054 03:4F1E: F4 xx xx     	pea	#<L813+29
 19055 03:4F21: 22 xx xx xx  	jsl	~~k_debug_strings
 19056                        ;
 19057                        ;		//caption = strupr(caption);
 19058                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 19059                        	.line	3256
 19060 03:4F25: D4 38        	pei	<L814+color_0
 19061 03:4F27: D4 1F        	pei	<L815+titleOffsetY_1
 19062 03:4F29: D4 1D        	pei	<L815+titleOffsetX_1
 19063 03:4F2B: D4 17        	pei	<L815+caption_1+2
 19064 03:4F2D: D4 15        	pei	<L815+caption_1
 19065 03:4F2F: 22 6C 16 03  	jsl	~~k_draw_text_point
 19066 03:4F33: 85 13        	sta	<L815+hy_1
 19067                        ;
 19068                        ;		titleOffsetY+=(FONTH + 2);
 19069                        	.line	3258
 19070 03:4F35: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 19071 03:4F39: 85 01        	sta	<R0
 19072 03:4F3B: 18           	clc
 19073 03:4F3C: A5 01        	lda	<R0
 19074 03:4F3E: 65 1F        	adc	<L815+titleOffsetY_1
 19075 03:4F40: 85 05        	sta	<R1
 19076 03:4F42: 18           	clc
 19077 03:4F43: A9 02 00     	lda	#$2
 19078 03:4F46: 65 05        	adc	<R1
 19079 03:4F48: 85 1F        	sta	<L815+titleOffsetY_1
 19080                        ;		i++;
 19081                        	.line	3259
 19082 03:4F4A: E6 11        	inc	<L815+i_1
 19083                        ;		caption = captions[i];
 19084                        	.line	3260
 19085 03:4F4C: A0 00 00     	ldy	#$0
 19086 03:4F4F: A5 11        	lda	<L815+i_1
 19087 03:4F51: 10 01        	bpl	L821
 19088 03:4F53: 88           	dey
 19089                        L821:
 19090 03:4F54: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 348


 19091 03:4F56: 84 07        	sty	<R1+2
 19092 03:4F58: D4 07        	pei	<R1+2
 19093 03:4F5A: D4 05        	pei	<R1
 19094 03:4F5C: A9 02 00     	lda	#$2
 19095                        	xref	~~~lasl
 19096 03:4F5F: 22 xx xx xx  	jsl	~~~lasl
 19097 03:4F63: 85 01        	sta	<R0
 19098 03:4F65: 86 03        	stx	<R0+2
 19099 03:4F67: 18           	clc
 19100 03:4F68: A5 34        	lda	<L814+captions_0
 19101 03:4F6A: 65 01        	adc	<R0
 19102 03:4F6C: 85 09        	sta	<R2
 19103 03:4F6E: A5 36        	lda	<L814+captions_0+2
 19104 03:4F70: 65 03        	adc	<R0+2
 19105 03:4F72: 85 0B        	sta	<R2+2
 19106 03:4F74: A7 09        	lda	[<R2]
 19107 03:4F76: 85 15        	sta	<L815+caption_1
 19108 03:4F78: A0 02 00     	ldy	#$2
 19109 03:4F7B: B7 09        	lda	[<R2],Y
 19110 03:4F7D: 85 17        	sta	<L815+caption_1+2
 19111                        ;	}
 19112                        	.line	3261
 19113 03:4F7F: 82 8C FF     	brl	L10356
 19114                        L10357:
 19115                        ;
 19116                        ;	return NULL;
 19117                        	.line	3263
 19118 03:4F82: A9 00 00     	lda	#$0
 19119 03:4F85: AA           	tax
 19120 03:4F86: A9 00 00     	lda	#$0
 19121                        L822:
 19122 03:4F89: A8           	tay
 19123 03:4F8A: A5 2A        	lda	<L814+2
 19124 03:4F8C: 85 3A        	sta	<L814+2+16
 19125 03:4F8E: A5 29        	lda	<L814+1
 19126 03:4F90: 85 39        	sta	<L814+1+16
 19127 03:4F92: 2B           	pld
 19128 03:4F93: 3B           	tsc
 19129 03:4F94: 18           	clc
 19130 03:4F95: 69 38 00     	adc	#L814+16
 19131 03:4F98: 1B           	tcs
 19132 03:4F99: 98           	tya
 19133 03:4F9A: 6B           	rtl
 19134                        ;
 19135                        ;}
 19136                        	.line	3265
 19137                        	.endblock	3265
 19138             00000028   L814	equ	40
 19139             0000000D   L815	equ	13
 19140 03:4F9B:              	ends
 19141                        	efunc
 19142                        	.endfunc	3265,13,40
 19143                        	.line	3265
 19144                        	data
 19145                        L813:
 19146 00:067E: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0682: 65 61 74 65 
  Wed Nov 18 2020  8:27                                                Page 349


       00:0686: 5F 63 6F 6E 
       00:068A: 74 65 78 
 19147 00:068D: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0691: 6E 75 3A 66 
       00:0695: 69 6C 6C 0D 
       00:0699: 0A 00 6B 
 19148 00:069C: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:06A0: 61 74 65 5F 
       00:06A4: 63 6F 6E 74 
       00:06A8: 65 78 74 
 19149 00:06AB: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:06AF: 75 3A 63 61 
       00:06B3: 70 74 69 6F 
       00:06B7: 6E 3A 00 
 19150 00:06BA:              	ends
 19151                        ;
 19152                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,int cx,int cy,int width,int 
                    height,char FAR **captions,int color, int bgcolor)
 19153                        ;{
 19154                        	.line	3267
 19155                        	.line	3268
 19156                        	GUI
 19157                        	xdef	~~k_create_context_menu_in_window
 19158                        	func
 19159                        	.function	3268
 19160                        ~~k_create_context_menu_in_window:
 19161                        	longa	on
 19162                        	longi	on
 19163 03:4F9B: 3B           	tsc
 19164 03:4F9C: 38           	sec
 19165 03:4F9D: E9 28 00     	sbc	#L824
 19166 03:4FA0: 1B           	tcs
 19167 03:4FA1: 0B           	phd
 19168 03:4FA2: 5B           	tcd
 19169             00000004   pWin_0	set	4
 19170             00000008   selected_0	set	8
 19171             0000000A   unselected_0	set	10
 19172             0000000C   cx_0	set	12
 19173             0000000E   cy_0	set	14
 19174             00000010   width_0	set	16
 19175             00000012   height_0	set	18
 19176             00000014   captions_0	set	20
 19177             00000018   color_0	set	24
 19178             0000001A   bgcolor_0	set	26
 19179                        	.block	3268
 19180                        ;	FONTMETRIC metric;
 19181                        ;
 19182                        ;	int i = 0;
 19183                        ;	int hy = 0;
 19184                        ;	char FAR *caption = NULL;
 19185                        ;
 19186                        ;	int borderTitle = 10;
 19187                        ;	int borderWidth = 3;
 19188                        ;
  Wed Nov 18 2020  8:27                                                Page 350


 19189                        ;	int titleOffsetX = cx+4;
 19190                        ;	int titleOffsetY = cy+2;
 19191                        ;	int titleScaler = 0;
 19192                        ;
 19193                        ;	int clientOffsetX = cx+borderWidth+2;
 19194                        ;	int clientOffsetY = cy+borderTitle+1;
 19195                        ;
 19196                        ;	int endX = width + cx - borderWidth;
 19197                        ;
 19198                        ;
 19199                        ;	//k_debug_string("k_create_context_menu:fill\r\n
                    ");
 19200                        ;
 19201                        ;	//k_scratch_save_bitblt(cx,cy, width, height, 0,
                     0);
 19202                        ;
 19203                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 19204                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 19205                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 19206                        ;
 19207                        ;	if(selected == -1 && unselected == -1)
 19208             00000000   metric_1	set	0
 19209             00000004   i_1	set	4
 19210             00000006   hy_1	set	6
 19211             00000008   caption_1	set	8
 19212             0000000C   borderTitle_1	set	12
 19213             0000000E   borderWidth_1	set	14
 19214             00000010   titleOffsetX_1	set	16
 19215             00000012   titleOffsetY_1	set	18
 19216             00000014   titleScaler_1	set	20
 19217             00000016   clientOffsetX_1	set	22
 19218             00000018   clientOffsetY_1	set	24
 19219             0000001A   endX_1	set	26
 19220                        	.sym	metric,0,10,1,32,29
 19221                        	.sym	i,4,5,1,16
 19222                        	.sym	hy,6,5,1,16
 19223                        	.sym	caption,8,142,1,32
 19224                        	.sym	borderTitle,12,5,1,16
 19225                        	.sym	borderWidth,14,5,1,16
 19226                        	.sym	titleOffsetX,16,5,1,16
 19227                        	.sym	titleOffsetY,18,5,1,16
 19228                        	.sym	titleScaler,20,5,1,16
 19229                        	.sym	clientOffsetX,22,5,1,16
 19230                        	.sym	clientOffsetY,24,5,1,16
 19231                        	.sym	endX,26,5,1,16
 19232                        	.sym	pWin,4,138,6,32,27
 19233                        	.sym	selected,8,16,6,16
 19234                        	.sym	unselected,10,16,6,16
 19235                        	.sym	cx,12,5,6,16
 19236                        	.sym	cy,14,5,6,16
 19237                        	.sym	width,16,5,6,16
 19238                        	.sym	height,18,5,6,16
 19239                        	.sym	captions,20,1166,6,32
 19240                        	.sym	color,24,5,6,16
 19241                        	.sym	bgcolor,26,5,6,16
 19242 03:4FA3: 64 11        	stz	<L825+i_1
  Wed Nov 18 2020  8:27                                                Page 351


 19243 03:4FA5: 64 13        	stz	<L825+hy_1
 19244 03:4FA7: 64 15        	stz	<L825+caption_1
 19245 03:4FA9: 64 17        	stz	<L825+caption_1+2
 19246 03:4FAB: A9 0A 00     	lda	#$a
 19247 03:4FAE: 85 19        	sta	<L825+borderTitle_1
 19248 03:4FB0: A9 03 00     	lda	#$3
 19249 03:4FB3: 85 1B        	sta	<L825+borderWidth_1
 19250 03:4FB5: 18           	clc
 19251 03:4FB6: A9 04 00     	lda	#$4
 19252 03:4FB9: 65 34        	adc	<L824+cx_0
 19253 03:4FBB: 85 1D        	sta	<L825+titleOffsetX_1
 19254 03:4FBD: 18           	clc
 19255 03:4FBE: A9 02 00     	lda	#$2
 19256 03:4FC1: 65 36        	adc	<L824+cy_0
 19257 03:4FC3: 85 1F        	sta	<L825+titleOffsetY_1
 19258 03:4FC5: 64 21        	stz	<L825+titleScaler_1
 19259 03:4FC7: 18           	clc
 19260 03:4FC8: A5 34        	lda	<L824+cx_0
 19261 03:4FCA: 65 1B        	adc	<L825+borderWidth_1
 19262 03:4FCC: 85 01        	sta	<R0
 19263 03:4FCE: 18           	clc
 19264 03:4FCF: A9 02 00     	lda	#$2
 19265 03:4FD2: 65 01        	adc	<R0
 19266 03:4FD4: 85 23        	sta	<L825+clientOffsetX_1
 19267 03:4FD6: 18           	clc
 19268 03:4FD7: A5 36        	lda	<L824+cy_0
 19269 03:4FD9: 65 19        	adc	<L825+borderTitle_1
 19270 03:4FDB: 85 01        	sta	<R0
 19271 03:4FDD: A5 01        	lda	<R0
 19272 03:4FDF: 1A           	ina
 19273 03:4FE0: 85 25        	sta	<L825+clientOffsetY_1
 19274 03:4FE2: 18           	clc
 19275 03:4FE3: A5 38        	lda	<L824+width_0
 19276 03:4FE5: 65 34        	adc	<L824+cx_0
 19277 03:4FE7: 85 01        	sta	<R0
 19278 03:4FE9: 38           	sec
 19279 03:4FEA: A5 01        	lda	<R0
 19280 03:4FEC: E5 1B        	sbc	<L825+borderWidth_1
 19281 03:4FEE: 85 27        	sta	<L825+endX_1
 19282                        	.line	3296
 19283                        ;		k_vdma_fill_rect(cx,cy,width,height,bgco
                    lor);
 19284 03:4FF0: A5 30        	lda	<L824+selected_0
 19285 03:4FF2: C9 FF FF     	cmp	#<$ffffffff
 19286 03:4FF5: F0 03        	beq	L827
 19287 03:4FF7: 82 34 00     	brl	L10358
 19288                        L827:
 19289 03:4FFA: A5 32        	lda	<L824+unselected_0
 19290 03:4FFC: C9 FF FF     	cmp	#<$ffffffff
 19291 03:4FFF: F0 03        	beq	L828
 19292 03:5001: 82 2A 00     	brl	L10358
 19293                        L828:
 19294                        	.line	3297
 19295 03:5004: D4 42        	pei	<L824+bgcolor_0
 19296 03:5006: D4 3A        	pei	<L824+height_0
 19297 03:5008: D4 38        	pei	<L824+width_0
 19298 03:500A: A0 00 00     	ldy	#$0
 19299 03:500D: A5 36        	lda	<L824+cy_0
  Wed Nov 18 2020  8:27                                                Page 352


 19300 03:500F: 10 01        	bpl	L829
 19301 03:5011: 88           	dey
 19302                        L829:
 19303 03:5012: 85 01        	sta	<R0
 19304 03:5014: 84 03        	sty	<R0+2
 19305 03:5016: D4 03        	pei	<R0+2
 19306 03:5018: D4 01        	pei	<R0
 19307 03:501A: A0 00 00     	ldy	#$0
 19308 03:501D: A5 34        	lda	<L824+cx_0
 19309 03:501F: 10 01        	bpl	L830
 19310 03:5021: 88           	dey
 19311                        L830:
 19312 03:5022: 85 05        	sta	<R1
 19313 03:5024: 84 07        	sty	<R1+2
 19314 03:5026: D4 07        	pei	<R1+2
 19315 03:5028: D4 05        	pei	<R1
 19316 03:502A: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19317                        ;
 19318                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 19319                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 19320                        ;	i = 0;
 19321                        L10358:
 19322                        	.line	3301
 19323 03:502E: 64 11        	stz	<L825+i_1
 19324                        ;	caption = captions[i];
 19325                        	.line	3302
 19326 03:5030: A0 00 00     	ldy	#$0
 19327 03:5033: A5 11        	lda	<L825+i_1
 19328 03:5035: 10 01        	bpl	L831
 19329 03:5037: 88           	dey
 19330                        L831:
 19331 03:5038: 85 05        	sta	<R1
 19332 03:503A: 84 07        	sty	<R1+2
 19333 03:503C: D4 07        	pei	<R1+2
 19334 03:503E: D4 05        	pei	<R1
 19335 03:5040: A9 02 00     	lda	#$2
 19336                        	xref	~~~lasl
 19337 03:5043: 22 xx xx xx  	jsl	~~~lasl
 19338 03:5047: 85 01        	sta	<R0
 19339 03:5049: 86 03        	stx	<R0+2
 19340 03:504B: 18           	clc
 19341 03:504C: A5 3C        	lda	<L824+captions_0
 19342 03:504E: 65 01        	adc	<R0
 19343 03:5050: 85 09        	sta	<R2
 19344 03:5052: A5 3E        	lda	<L824+captions_0+2
 19345 03:5054: 65 03        	adc	<R0+2
 19346 03:5056: 85 0B        	sta	<R2+2
 19347 03:5058: A7 09        	lda	[<R2]
 19348 03:505A: 85 15        	sta	<L825+caption_1
 19349 03:505C: A0 02 00     	ldy	#$2
 19350 03:505F: B7 09        	lda	[<R2],Y
 19351 03:5061: 85 17        	sta	<L825+caption_1+2
 19352                        ;	while(caption!=NULL)
 19353                        	.line	3303
 19354                        L10359:
 19355 03:5063: A5 15        	lda	<L825+caption_1
  Wed Nov 18 2020  8:27                                                Page 353


 19356 03:5065: 05 17        	ora	<L825+caption_1+2
 19357 03:5067: D0 03        	bne	L832
 19358 03:5069: 82 A2 01     	brl	L10360
 19359                        L832:
 19360                        ;	{
 19361                        	.line	3304
 19362                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 19363                        	.line	3305
 19364 03:506C: D4 17        	pei	<L825+caption_1+2
 19365 03:506E: D4 15        	pei	<L825+caption_1
 19366 03:5070: F4 xx xx     	pea	#^L823
 19367 03:5073: F4 xx xx     	pea	#<L823
 19368 03:5076: 22 xx xx xx  	jsl	~~k_debug_strings
 19369                        ;
 19370                        ;		//caption = strupr(caption);
 19371                        ;
 19372                        ;		if(selected!=-1 && unselected!=-1)
 19373                        	.line	3309
 19374                        ;		{
 19375 03:507A: A5 30        	lda	<L824+selected_0
 19376 03:507C: C9 FF FF     	cmp	#<$ffffffff
 19377 03:507F: D0 03        	bne	L833
 19378 03:5081: 82 CC 00     	brl	L10361
 19379                        L833:
 19380 03:5084: A5 32        	lda	<L824+unselected_0
 19381 03:5086: C9 FF FF     	cmp	#<$ffffffff
 19382 03:5089: D0 03        	bne	L834
 19383 03:508B: 82 C2 00     	brl	L10361
 19384                        L834:
 19385                        	.line	3310
 19386                        ;			if( i == selected && caption[0] 
                    != '_')
 19387                        	.line	3311
 19388                        ;			{
 19389 03:508E: A5 11        	lda	<L825+i_1
 19390 03:5090: C5 30        	cmp	<L824+selected_0
 19391 03:5092: F0 03        	beq	L835
 19392 03:5094: 82 58 00     	brl	L10362
 19393                        L835:
 19394 03:5097: E2 20        	sep	#$20
 19395                        	longa	off
 19396 03:5099: A7 15        	lda	[<L825+caption_1]
 19397 03:509B: C9 5F        	cmp	#<$5f
 19398 03:509D: C2 20        	rep	#$20
 19399                        	longa	on
 19400 03:509F: D0 03        	bne	L836
 19401 03:50A1: 82 4B 00     	brl	L10362
 19402                        L836:
 19403                        	.line	3312
 19404                        ;				k_vdma_fill_rect(pWin->w
                    in_x,titleOffsetY,pWin->win_width,FONTH,color);
 19405                        	.line	3313
 19406 03:50A4: D4 40        	pei	<L824+color_0
 19407 03:50A6: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 19408 03:50AA: 48           	pha
 19409 03:50AB: A0 0C 00     	ldy	#$c
 19410 03:50AE: B7 2C        	lda	[<L824+pWin_0],Y
  Wed Nov 18 2020  8:27                                                Page 354


 19411 03:50B0: 48           	pha
 19412 03:50B1: A0 00 00     	ldy	#$0
 19413 03:50B4: A5 1F        	lda	<L825+titleOffsetY_1
 19414 03:50B6: 10 01        	bpl	L837
 19415 03:50B8: 88           	dey
 19416                        L837:
 19417 03:50B9: 85 01        	sta	<R0
 19418 03:50BB: 84 03        	sty	<R0+2
 19419 03:50BD: D4 03        	pei	<R0+2
 19420 03:50BF: D4 01        	pei	<R0
 19421 03:50C1: A0 00 00     	ldy	#$0
 19422 03:50C4: 5A           	phy
 19423 03:50C5: A0 08 00     	ldy	#$8
 19424 03:50C8: B7 2C        	lda	[<L824+pWin_0],Y
 19425 03:50CA: 7A           	ply
 19426 03:50CB: 2A           	rol	A
 19427 03:50CC: 6A           	ror	A
 19428 03:50CD: 10 01        	bpl	L838
 19429 03:50CF: 88           	dey
 19430                        L838:
 19431 03:50D0: 85 05        	sta	<R1
 19432 03:50D2: 84 07        	sty	<R1+2
 19433 03:50D4: D4 07        	pei	<R1+2
 19434 03:50D6: D4 05        	pei	<R1
 19435 03:50D8: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19436                        ;				hy = k_draw_text_point(c
                    aption,titleOffsetX,titleOffsetY,bgcolor);
 19437                        	.line	3314
 19438 03:50DC: D4 42        	pei	<L824+bgcolor_0
 19439 03:50DE: D4 1F        	pei	<L825+titleOffsetY_1
 19440 03:50E0: D4 1D        	pei	<L825+titleOffsetX_1
 19441 03:50E2: D4 17        	pei	<L825+caption_1+2
 19442 03:50E4: D4 15        	pei	<L825+caption_1
 19443 03:50E6: 22 6C 16 03  	jsl	~~k_draw_text_point
 19444 03:50EA: 85 13        	sta	<L825+hy_1
 19445                        ;			}
 19446                        	.line	3315
 19447                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 19448 03:50EC: 82 5E 00     	brl	L10363
 19449                        L10362:
 19450                        	.line	3316
 19451                        ;			{
 19452 03:50EF: A5 11        	lda	<L825+i_1
 19453 03:50F1: C5 32        	cmp	<L824+unselected_0
 19454 03:50F3: F0 03        	beq	L839
 19455 03:50F5: 82 55 00     	brl	L10364
 19456                        L839:
 19457 03:50F8: E2 20        	sep	#$20
 19458                        	longa	off
 19459 03:50FA: A7 15        	lda	[<L825+caption_1]
 19460 03:50FC: C9 5F        	cmp	#<$5f
 19461 03:50FE: C2 20        	rep	#$20
 19462                        	longa	on
 19463 03:5100: D0 03        	bne	L840
 19464 03:5102: 82 48 00     	brl	L10364
 19465                        L840:
 19466                        	.line	3317
  Wed Nov 18 2020  8:27                                                Page 355


 19467                        ;				k_vdma_fill_rect(pWin->w
                    in_x,titleOffsetY,pWin->win_width,FONTH,bgcolor);
 19468                        	.line	3318
 19469 03:5105: D4 42        	pei	<L824+bgcolor_0
 19470 03:5107: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 19471 03:510B: 48           	pha
 19472 03:510C: A0 0C 00     	ldy	#$c
 19473 03:510F: B7 2C        	lda	[<L824+pWin_0],Y
 19474 03:5111: 48           	pha
 19475 03:5112: A0 00 00     	ldy	#$0
 19476 03:5115: A5 1F        	lda	<L825+titleOffsetY_1
 19477 03:5117: 10 01        	bpl	L841
 19478 03:5119: 88           	dey
 19479                        L841:
 19480 03:511A: 85 01        	sta	<R0
 19481 03:511C: 84 03        	sty	<R0+2
 19482 03:511E: D4 03        	pei	<R0+2
 19483 03:5120: D4 01        	pei	<R0
 19484 03:5122: A0 00 00     	ldy	#$0
 19485 03:5125: 5A           	phy
 19486 03:5126: A0 08 00     	ldy	#$8
 19487 03:5129: B7 2C        	lda	[<L824+pWin_0],Y
 19488 03:512B: 7A           	ply
 19489 03:512C: 2A           	rol	A
 19490 03:512D: 6A           	ror	A
 19491 03:512E: 10 01        	bpl	L842
 19492 03:5130: 88           	dey
 19493                        L842:
 19494 03:5131: 85 05        	sta	<R1
 19495 03:5133: 84 07        	sty	<R1+2
 19496 03:5135: D4 07        	pei	<R1+2
 19497 03:5137: D4 05        	pei	<R1
 19498 03:5139: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19499                        ;				hy = k_draw_text_point(c
                    aption,titleOffsetX,titleOffsetY,color);
 19500                        	.line	3319
 19501 03:513D: D4 40        	pei	<L824+color_0
 19502 03:513F: D4 1F        	pei	<L825+titleOffsetY_1
 19503 03:5141: D4 1D        	pei	<L825+titleOffsetX_1
 19504 03:5143: D4 17        	pei	<L825+caption_1+2
 19505 03:5145: D4 15        	pei	<L825+caption_1
 19506 03:5147: 22 6C 16 03  	jsl	~~k_draw_text_point
 19507 03:514B: 85 13        	sta	<L825+hy_1
 19508                        ;			}
 19509                        	.line	3320
 19510                        ;
 19511                        ;		}
 19512                        L10364:
 19513                        L10363:
 19514                        	.line	3322
 19515                        ;		else
 19516 03:514D: 82 71 00     	brl	L10365
 19517                        L10361:
 19518                        ;		{
 19519                        	.line	3324
 19520                        ;			if( i == selected && caption[0] 
                    != '_')
 19521                        	.line	3325
  Wed Nov 18 2020  8:27                                                Page 356


 19522                        ;			{
 19523 03:5150: A5 11        	lda	<L825+i_1
 19524 03:5152: C5 30        	cmp	<L824+selected_0
 19525 03:5154: F0 03        	beq	L843
 19526 03:5156: 82 58 00     	brl	L10366
 19527                        L843:
 19528 03:5159: E2 20        	sep	#$20
 19529                        	longa	off
 19530 03:515B: A7 15        	lda	[<L825+caption_1]
 19531 03:515D: C9 5F        	cmp	#<$5f
 19532 03:515F: C2 20        	rep	#$20
 19533                        	longa	on
 19534 03:5161: D0 03        	bne	L844
 19535 03:5163: 82 4B 00     	brl	L10366
 19536                        L844:
 19537                        	.line	3326
 19538                        ;				k_vdma_fill_rect(pWin->w
                    in_x,titleOffsetY,pWin->win_width,FONTH,color);
 19539                        	.line	3327
 19540 03:5166: D4 40        	pei	<L824+color_0
 19541 03:5168: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 19542 03:516C: 48           	pha
 19543 03:516D: A0 0C 00     	ldy	#$c
 19544 03:5170: B7 2C        	lda	[<L824+pWin_0],Y
 19545 03:5172: 48           	pha
 19546 03:5173: A0 00 00     	ldy	#$0
 19547 03:5176: A5 1F        	lda	<L825+titleOffsetY_1
 19548 03:5178: 10 01        	bpl	L845
 19549 03:517A: 88           	dey
 19550                        L845:
 19551 03:517B: 85 01        	sta	<R0
 19552 03:517D: 84 03        	sty	<R0+2
 19553 03:517F: D4 03        	pei	<R0+2
 19554 03:5181: D4 01        	pei	<R0
 19555 03:5183: A0 00 00     	ldy	#$0
 19556 03:5186: 5A           	phy
 19557 03:5187: A0 08 00     	ldy	#$8
 19558 03:518A: B7 2C        	lda	[<L824+pWin_0],Y
 19559 03:518C: 7A           	ply
 19560 03:518D: 2A           	rol	A
 19561 03:518E: 6A           	ror	A
 19562 03:518F: 10 01        	bpl	L846
 19563 03:5191: 88           	dey
 19564                        L846:
 19565 03:5192: 85 05        	sta	<R1
 19566 03:5194: 84 07        	sty	<R1+2
 19567 03:5196: D4 07        	pei	<R1+2
 19568 03:5198: D4 05        	pei	<R1
 19569 03:519A: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19570                        ;				hy = k_draw_text_point(c
                    aption,titleOffsetX,titleOffsetY,bgcolor);
 19571                        	.line	3328
 19572 03:519E: D4 42        	pei	<L824+bgcolor_0
 19573 03:51A0: D4 1F        	pei	<L825+titleOffsetY_1
 19574 03:51A2: D4 1D        	pei	<L825+titleOffsetX_1
 19575 03:51A4: D4 17        	pei	<L825+caption_1+2
 19576 03:51A6: D4 15        	pei	<L825+caption_1
 19577 03:51A8: 22 6C 16 03  	jsl	~~k_draw_text_point
  Wed Nov 18 2020  8:27                                                Page 357


 19578 03:51AC: 85 13        	sta	<L825+hy_1
 19579                        ;			}
 19580                        	.line	3329
 19581                        ;			else
 19582 03:51AE: 82 10 00     	brl	L10367
 19583                        L10366:
 19584                        ;			{
 19585                        	.line	3331
 19586                        ;				hy = k_draw_text_point(c
                    aption,titleOffsetX,titleOffsetY,color);
 19587                        	.line	3332
 19588 03:51B1: D4 40        	pei	<L824+color_0
 19589 03:51B3: D4 1F        	pei	<L825+titleOffsetY_1
 19590 03:51B5: D4 1D        	pei	<L825+titleOffsetX_1
 19591 03:51B7: D4 17        	pei	<L825+caption_1+2
 19592 03:51B9: D4 15        	pei	<L825+caption_1
 19593 03:51BB: 22 6C 16 03  	jsl	~~k_draw_text_point
 19594 03:51BF: 85 13        	sta	<L825+hy_1
 19595                        ;			}
 19596                        	.line	3333
 19597                        L10367:
 19598                        ;		}
 19599                        	.line	3334
 19600                        L10365:
 19601                        ;		titleOffsetY+=(FONTH + 2);
 19602                        	.line	3335
 19603 03:51C1: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 19604 03:51C5: 85 01        	sta	<R0
 19605 03:51C7: 18           	clc
 19606 03:51C8: A5 01        	lda	<R0
 19607 03:51CA: 65 1F        	adc	<L825+titleOffsetY_1
 19608 03:51CC: 85 05        	sta	<R1
 19609 03:51CE: 18           	clc
 19610 03:51CF: A9 02 00     	lda	#$2
 19611 03:51D2: 65 05        	adc	<R1
 19612 03:51D4: 85 1F        	sta	<L825+titleOffsetY_1
 19613                        ;		i++;
 19614                        	.line	3336
 19615 03:51D6: E6 11        	inc	<L825+i_1
 19616                        ;		caption = captions[i];
 19617                        	.line	3337
 19618 03:51D8: A0 00 00     	ldy	#$0
 19619 03:51DB: A5 11        	lda	<L825+i_1
 19620 03:51DD: 10 01        	bpl	L847
 19621 03:51DF: 88           	dey
 19622                        L847:
 19623 03:51E0: 85 05        	sta	<R1
 19624 03:51E2: 84 07        	sty	<R1+2
 19625 03:51E4: D4 07        	pei	<R1+2
 19626 03:51E6: D4 05        	pei	<R1
 19627 03:51E8: A9 02 00     	lda	#$2
 19628                        	xref	~~~lasl
 19629 03:51EB: 22 xx xx xx  	jsl	~~~lasl
 19630 03:51EF: 85 01        	sta	<R0
 19631 03:51F1: 86 03        	stx	<R0+2
 19632 03:51F3: 18           	clc
 19633 03:51F4: A5 3C        	lda	<L824+captions_0
 19634 03:51F6: 65 01        	adc	<R0
  Wed Nov 18 2020  8:27                                                Page 358


 19635 03:51F8: 85 09        	sta	<R2
 19636 03:51FA: A5 3E        	lda	<L824+captions_0+2
 19637 03:51FC: 65 03        	adc	<R0+2
 19638 03:51FE: 85 0B        	sta	<R2+2
 19639 03:5200: A7 09        	lda	[<R2]
 19640 03:5202: 85 15        	sta	<L825+caption_1
 19641 03:5204: A0 02 00     	ldy	#$2
 19642 03:5207: B7 09        	lda	[<R2],Y
 19643 03:5209: 85 17        	sta	<L825+caption_1+2
 19644                        ;	}
 19645                        	.line	3338
 19646 03:520B: 82 55 FE     	brl	L10359
 19647                        L10360:
 19648                        ;
 19649                        ;	return NULL;
 19650                        	.line	3340
 19651 03:520E: A9 00 00     	lda	#$0
 19652 03:5211: AA           	tax
 19653 03:5212: A9 00 00     	lda	#$0
 19654                        L848:
 19655 03:5215: A8           	tay
 19656 03:5216: A5 2A        	lda	<L824+2
 19657 03:5218: 85 42        	sta	<L824+2+24
 19658 03:521A: A5 29        	lda	<L824+1
 19659 03:521C: 85 41        	sta	<L824+1+24
 19660 03:521E: 2B           	pld
 19661 03:521F: 3B           	tsc
 19662 03:5220: 18           	clc
 19663 03:5221: 69 40 00     	adc	#L824+24
 19664 03:5224: 1B           	tcs
 19665 03:5225: 98           	tya
 19666 03:5226: 6B           	rtl
 19667                        ;
 19668                        ;}
 19669                        	.line	3342
 19670                        	.endblock	3342
 19671             00000028   L824	equ	40
 19672             0000000D   L825	equ	13
 19673 03:5227:              	ends
 19674                        	efunc
 19675                        	.endfunc	3342,13,40
 19676                        	.line	3342
 19677                        	data
 19678                        L823:
 19679 00:06BA: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:06BE: 65 61 74 65 
       00:06C2: 5F 63 6F 6E 
       00:06C6: 74 65 78 
 19680 00:06C9: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,
                    $74,$69,$6F,$6E,$3A
       00:06CD: 6E 75 3A 63 
       00:06D1: 61 70 74 69 
       00:06D5: 6F 6E 3A 
 19681 00:06D8: 00           	db	$00
 19682 00:06D9:              	ends
 19683                        ;
 19684                        ;
  Wed Nov 18 2020  8:27                                                Page 359


 19685                        ;PMENU k_render_context_menu(PMENU menu)
 19686                        ;{
 19687                        	.line	3345
 19688                        	.line	3346
 19689                        	GUI
 19690                        	xdef	~~k_render_context_menu
 19691                        	func
 19692                        	.function	3346
 19693                        ~~k_render_context_menu:
 19694                        	longa	on
 19695                        	longi	on
 19696 03:5227: 3B           	tsc
 19697 03:5228: 38           	sec
 19698 03:5229: E9 2A 00     	sbc	#L850
 19699 03:522C: 1B           	tcs
 19700 03:522D: 0B           	phd
 19701 03:522E: 5B           	tcd
 19702             00000004   menu_0	set	4
 19703                        	.block	3346
 19704                        ;	FONTMETRIC metric;
 19705                        ;
 19706                        ;	int i = 0;
 19707                        ;
 19708                        ;	int cx = menu->cx;
 19709                        ;	int cy = menu->cy;
 19710                        ;
 19711                        ;	char FAR *caption = NULL;
 19712                        ;
 19713                        ;	int borderTitle = 10;
 19714                        ;	int borderWidth = 3;
 19715                        ;
 19716                        ;	int titleOffsetX = cx+2;
 19717                        ;	int titleOffsetY = cy+2;
 19718                        ;	int titleScaler = 0;
 19719                        ;
 19720                        ;	int clientOffsetX = cx+borderWidth+2;
 19721                        ;	int clientOffsetY = cy+borderTitle+1;
 19722                        ;
 19723                        ;	int endX = menu->width + cx - borderWidth;
 19724                        ;
 19725                        ;
 19726                        ;/*
 19727                        ;	k_get_font_metrics(&metric);
 19728                        ;
 19729                        ;	height += metric.height + (int)(metric.width/4);
 19730                        ;
 19731                        ;	menu->cx = cx;
 19732                        ;	menu->cy = cy;
 19733                        ;	menu->height = height;
 19734                        ;	menu->width = width;
 19735                        ;
 19736                        ;	*/
 19737                        ;
 19738                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 19739             00000000   metric_1	set	0
 19740             00000004   i_1	set	4
 19741             00000006   cx_1	set	6
  Wed Nov 18 2020  8:27                                                Page 360


 19742             00000008   cy_1	set	8
 19743             0000000A   caption_1	set	10
 19744             0000000E   borderTitle_1	set	14
 19745             00000010   borderWidth_1	set	16
 19746             00000012   titleOffsetX_1	set	18
 19747             00000014   titleOffsetY_1	set	20
 19748             00000016   titleScaler_1	set	22
 19749             00000018   clientOffsetX_1	set	24
 19750             0000001A   clientOffsetY_1	set	26
 19751             0000001C   endX_1	set	28
 19752                        	.sym	metric,0,10,1,32,29
 19753                        	.sym	i,4,5,1,16
 19754                        	.sym	cx,6,5,1,16
 19755                        	.sym	cy,8,5,1,16
 19756                        	.sym	caption,10,142,1,32
 19757                        	.sym	borderTitle,14,5,1,16
 19758                        	.sym	borderWidth,16,5,1,16
 19759                        	.sym	titleOffsetX,18,5,1,16
 19760                        	.sym	titleOffsetY,20,5,1,16
 19761                        	.sym	titleScaler,22,5,1,16
 19762                        	.sym	clientOffsetX,24,5,1,16
 19763                        	.sym	clientOffsetY,26,5,1,16
 19764                        	.sym	endX,28,5,1,16
 19765                        	.sym	menu,4,138,6,32,32
 19766 03:522F: 64 11        	stz	<L851+i_1
 19767 03:5231: A7 2E        	lda	[<L850+menu_0]
 19768 03:5233: 85 13        	sta	<L851+cx_1
 19769 03:5235: A0 02 00     	ldy	#$2
 19770 03:5238: B7 2E        	lda	[<L850+menu_0],Y
 19771 03:523A: 85 15        	sta	<L851+cy_1
 19772 03:523C: 64 17        	stz	<L851+caption_1
 19773 03:523E: 64 19        	stz	<L851+caption_1+2
 19774 03:5240: A9 0A 00     	lda	#$a
 19775 03:5243: 85 1B        	sta	<L851+borderTitle_1
 19776 03:5245: A9 03 00     	lda	#$3
 19777 03:5248: 85 1D        	sta	<L851+borderWidth_1
 19778 03:524A: 18           	clc
 19779 03:524B: A9 02 00     	lda	#$2
 19780 03:524E: 65 13        	adc	<L851+cx_1
 19781 03:5250: 85 1F        	sta	<L851+titleOffsetX_1
 19782 03:5252: 18           	clc
 19783 03:5253: A9 02 00     	lda	#$2
 19784 03:5256: 65 15        	adc	<L851+cy_1
 19785 03:5258: 85 21        	sta	<L851+titleOffsetY_1
 19786 03:525A: 64 23        	stz	<L851+titleScaler_1
 19787 03:525C: 18           	clc
 19788 03:525D: A5 13        	lda	<L851+cx_1
 19789 03:525F: 65 1D        	adc	<L851+borderWidth_1
 19790 03:5261: 85 01        	sta	<R0
 19791 03:5263: 18           	clc
 19792 03:5264: A9 02 00     	lda	#$2
 19793 03:5267: 65 01        	adc	<R0
 19794 03:5269: 85 25        	sta	<L851+clientOffsetX_1
 19795 03:526B: 18           	clc
 19796 03:526C: A5 15        	lda	<L851+cy_1
 19797 03:526E: 65 1B        	adc	<L851+borderTitle_1
 19798 03:5270: 85 01        	sta	<R0
 19799 03:5272: A5 01        	lda	<R0
  Wed Nov 18 2020  8:27                                                Page 361


 19800 03:5274: 1A           	ina
 19801 03:5275: 85 27        	sta	<L851+clientOffsetY_1
 19802 03:5277: 18           	clc
 19803 03:5278: A0 04 00     	ldy	#$4
 19804 03:527B: B7 2E        	lda	[<L850+menu_0],Y
 19805 03:527D: 65 13        	adc	<L851+cx_1
 19806 03:527F: 85 01        	sta	<R0
 19807 03:5281: 38           	sec
 19808 03:5282: A5 01        	lda	<R0
 19809 03:5284: E5 1D        	sbc	<L851+borderWidth_1
 19810 03:5286: 85 29        	sta	<L851+endX_1
 19811                        	.line	3381
 19812 03:5288: F4 00 00     	pea	#<$0
 19813 03:528B: A0 06 00     	ldy	#$6
 19814 03:528E: B7 2E        	lda	[<L850+menu_0],Y
 19815 03:5290: 1A           	ina
 19816 03:5291: 48           	pha
 19817 03:5292: A0 04 00     	ldy	#$4
 19818 03:5295: B7 2E        	lda	[<L850+menu_0],Y
 19819 03:5297: 1A           	ina
 19820 03:5298: 48           	pha
 19821 03:5299: A0 00 00     	ldy	#$0
 19822 03:529C: A5 15        	lda	<L851+cy_1
 19823 03:529E: 10 01        	bpl	L853
 19824 03:52A0: 88           	dey
 19825                        L853:
 19826 03:52A1: 85 01        	sta	<R0
 19827 03:52A3: 84 03        	sty	<R0+2
 19828 03:52A5: D4 03        	pei	<R0+2
 19829 03:52A7: D4 01        	pei	<R0
 19830 03:52A9: 18           	clc
 19831 03:52AA: A9 FF FF     	lda	#$ffff
 19832 03:52AD: 65 13        	adc	<L851+cx_1
 19833 03:52AF: 85 05        	sta	<R1
 19834 03:52B1: A0 00 00     	ldy	#$0
 19835 03:52B4: A5 05        	lda	<R1
 19836 03:52B6: 10 01        	bpl	L854
 19837 03:52B8: 88           	dey
 19838                        L854:
 19839 03:52B9: 85 05        	sta	<R1
 19840 03:52BB: 84 07        	sty	<R1+2
 19841 03:52BD: D4 07        	pei	<R1+2
 19842 03:52BF: D4 05        	pei	<R1
 19843 03:52C1: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19844                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 19845                        	.line	3382
 19846 03:52C5: A0 08 00     	ldy	#$8
 19847 03:52C8: B7 2E        	lda	[<L850+menu_0],Y
 19848 03:52CA: 48           	pha
 19849 03:52CB: A0 06 00     	ldy	#$6
 19850 03:52CE: B7 2E        	lda	[<L850+menu_0],Y
 19851 03:52D0: 48           	pha
 19852 03:52D1: A0 04 00     	ldy	#$4
 19853 03:52D4: B7 2E        	lda	[<L850+menu_0],Y
 19854 03:52D6: 48           	pha
 19855 03:52D7: A0 00 00     	ldy	#$0
 19856 03:52DA: A5 15        	lda	<L851+cy_1
  Wed Nov 18 2020  8:27                                                Page 362


 19857 03:52DC: 10 01        	bpl	L855
 19858 03:52DE: 88           	dey
 19859                        L855:
 19860 03:52DF: 85 01        	sta	<R0
 19861 03:52E1: 84 03        	sty	<R0+2
 19862 03:52E3: D4 03        	pei	<R0+2
 19863 03:52E5: D4 01        	pei	<R0
 19864 03:52E7: A0 00 00     	ldy	#$0
 19865 03:52EA: A5 13        	lda	<L851+cx_1
 19866 03:52EC: 10 01        	bpl	L856
 19867 03:52EE: 88           	dey
 19868                        L856:
 19869 03:52EF: 85 05        	sta	<R1
 19870 03:52F1: 84 07        	sty	<R1+2
 19871 03:52F3: D4 07        	pei	<R1+2
 19872 03:52F5: D4 05        	pei	<R1
 19873 03:52F7: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 19874                        ;
 19875                        ;	//k_delay(15);
 19876                        ;
 19877                        ;
 19878                        ;
 19879                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 19880                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 19881                        ;	i = 0;
 19882                        	.line	3390
 19883 03:52FB: 64 11        	stz	<L851+i_1
 19884                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 19885                        	.line	3391
 19886 03:52FD: A0 0F 00     	ldy	#$f
 19887 03:5300: B7 2E        	lda	[<L850+menu_0],Y
 19888 03:5302: 85 01        	sta	<R0
 19889 03:5304: A0 11 00     	ldy	#$11
 19890 03:5307: B7 2E        	lda	[<L850+menu_0],Y
 19891 03:5309: 85 03        	sta	<R0+2
 19892 03:530B: A7 01        	lda	[<R0]
 19893 03:530D: 85 17        	sta	<L851+caption_1
 19894 03:530F: A0 02 00     	ldy	#$2
 19895 03:5312: B7 01        	lda	[<R0],Y
 19896 03:5314: 85 19        	sta	<L851+caption_1+2
 19897                        ;	while(caption!=NULL)
 19898                        	.line	3392
 19899                        L10368:
 19900 03:5316: A5 17        	lda	<L851+caption_1
 19901 03:5318: 05 19        	ora	<L851+caption_1+2
 19902 03:531A: D0 03        	bne	L857
 19903 03:531C: 82 62 00     	brl	L10369
 19904                        L857:
 19905                        ;	{
 19906                        	.line	3393
 19907                        ;		//caption = strupr(caption);
 19908                        ;		k_draw_text_point(caption,titleOffsetX,t
                    itleOffsetY,0);
 19909                        	.line	3395
 19910 03:531F: F4 00 00     	pea	#<$0
 19911 03:5322: D4 21        	pei	<L851+titleOffsetY_1
  Wed Nov 18 2020  8:27                                                Page 363


 19912 03:5324: D4 1F        	pei	<L851+titleOffsetX_1
 19913 03:5326: D4 19        	pei	<L851+caption_1+2
 19914 03:5328: D4 17        	pei	<L851+caption_1
 19915 03:532A: 22 6C 16 03  	jsl	~~k_draw_text_point
 19916                        ;		titleOffsetY+=(FONTH + 2);
 19917                        	.line	3396
 19918 03:532E: 22 C7 5E 03  	jsl	~~k_font_getFontHeight
 19919 03:5332: 85 01        	sta	<R0
 19920 03:5334: 18           	clc
 19921 03:5335: A5 01        	lda	<R0
 19922 03:5337: 65 21        	adc	<L851+titleOffsetY_1
 19923 03:5339: 85 05        	sta	<R1
 19924 03:533B: 18           	clc
 19925 03:533C: A9 02 00     	lda	#$2
 19926 03:533F: 65 05        	adc	<R1
 19927 03:5341: 85 21        	sta	<L851+titleOffsetY_1
 19928                        ;		i++;
 19929                        	.line	3397
 19930 03:5343: E6 11        	inc	<L851+i_1
 19931                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 19932                        	.line	3398
 19933 03:5345: A0 00 00     	ldy	#$0
 19934 03:5348: A5 11        	lda	<L851+i_1
 19935 03:534A: 10 01        	bpl	L858
 19936 03:534C: 88           	dey
 19937                        L858:
 19938 03:534D: 85 05        	sta	<R1
 19939 03:534F: 84 07        	sty	<R1+2
 19940 03:5351: D4 07        	pei	<R1+2
 19941 03:5353: D4 05        	pei	<R1
 19942 03:5355: A9 02 00     	lda	#$2
 19943                        	xref	~~~lasl
 19944 03:5358: 22 xx xx xx  	jsl	~~~lasl
 19945 03:535C: 85 01        	sta	<R0
 19946 03:535E: 86 03        	stx	<R0+2
 19947 03:5360: 18           	clc
 19948 03:5361: A0 0F 00     	ldy	#$f
 19949 03:5364: B7 2E        	lda	[<L850+menu_0],Y
 19950 03:5366: 65 01        	adc	<R0
 19951 03:5368: 85 09        	sta	<R2
 19952 03:536A: A0 11 00     	ldy	#$11
 19953 03:536D: B7 2E        	lda	[<L850+menu_0],Y
 19954 03:536F: 65 03        	adc	<R0+2
 19955 03:5371: 85 0B        	sta	<R2+2
 19956 03:5373: A7 09        	lda	[<R2]
 19957 03:5375: 85 17        	sta	<L851+caption_1
 19958 03:5377: A0 02 00     	ldy	#$2
 19959 03:537A: B7 09        	lda	[<R2],Y
 19960 03:537C: 85 19        	sta	<L851+caption_1+2
 19961                        ;	}
 19962                        	.line	3399
 19963 03:537E: 82 95 FF     	brl	L10368
 19964                        L10369:
 19965                        ;
 19966                        ;	return menu;
 19967                        	.line	3401
 19968 03:5381: A6 30        	ldx	<L850+menu_0+2
 19969 03:5383: A5 2E        	lda	<L850+menu_0
  Wed Nov 18 2020  8:27                                                Page 364


 19970                        L859:
 19971 03:5385: A8           	tay
 19972 03:5386: A5 2C        	lda	<L850+2
 19973 03:5388: 85 30        	sta	<L850+2+4
 19974 03:538A: A5 2B        	lda	<L850+1
 19975 03:538C: 85 2F        	sta	<L850+1+4
 19976 03:538E: 2B           	pld
 19977 03:538F: 3B           	tsc
 19978 03:5390: 18           	clc
 19979 03:5391: 69 2E 00     	adc	#L850+4
 19980 03:5394: 1B           	tcs
 19981 03:5395: 98           	tya
 19982 03:5396: 6B           	rtl
 19983                        ;
 19984                        ;}
 19985                        	.line	3403
 19986                        	.endblock	3403
 19987             0000002A   L850	equ	42
 19988             0000000D   L851	equ	13
 19989 03:5397:              	ends
 19990                        	efunc
 19991                        	.endfunc	3403,13,42
 19992                        	.line	3403
 19993                        ;
 19994                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
                    char bcolor)
 19995                        ;{
 19996                        	.line	3405
 19997                        	.line	3406
 19998                        	GUI
 19999                        	xdef	~~k_free_context_menu
 20000                        	func
 20001                        	.function	3406
 20002                        ~~k_free_context_menu:
 20003                        	longa	on
 20004                        	longi	on
 20005 03:5397: 3B           	tsc
 20006 03:5398: 38           	sec
 20007 03:5399: E9 08 00     	sbc	#L860
 20008 03:539C: 1B           	tcs
 20009 03:539D: 0B           	phd
 20010 03:539E: 5B           	tcd
 20011             00000004   pmenu_0	set	4
 20012             00000008   fcolor_0	set	8
 20013             0000000A   bcolor_0	set	10
 20014                        	.block	3406
 20015                        ;	if(pmenu)
 20016                        	.sym	pmenu,4,138,6,32,32
 20017                        	.sym	fcolor,8,14,6,8
 20018                        	.sym	bcolor,10,14,6,8
 20019                        	.line	3407
 20020                        ;	{
 20021 03:539F: A5 0C        	lda	<L860+pmenu_0
 20022 03:53A1: 05 0E        	ora	<L860+pmenu_0+2
 20023 03:53A3: D0 03        	bne	L863
 20024 03:53A5: 82 4B 00     	brl	L10370
 20025                        L863:
 20026                        	.line	3408
  Wed Nov 18 2020  8:27                                                Page 365


 20027                        ;		k_vdma_fill_rect(pmenu->cx-1,pmenu->cy,p
                    menu->width+1,pmenu->height+1,bcolor);
 20028                        	.line	3409
 20029 03:53A8: D4 12        	pei	<L860+bcolor_0
 20030 03:53AA: A0 06 00     	ldy	#$6
 20031 03:53AD: B7 0C        	lda	[<L860+pmenu_0],Y
 20032 03:53AF: 1A           	ina
 20033 03:53B0: 48           	pha
 20034 03:53B1: A0 04 00     	ldy	#$4
 20035 03:53B4: B7 0C        	lda	[<L860+pmenu_0],Y
 20036 03:53B6: 1A           	ina
 20037 03:53B7: 48           	pha
 20038 03:53B8: A0 00 00     	ldy	#$0
 20039 03:53BB: 5A           	phy
 20040 03:53BC: A0 02 00     	ldy	#$2
 20041 03:53BF: B7 0C        	lda	[<L860+pmenu_0],Y
 20042 03:53C1: 7A           	ply
 20043 03:53C2: 2A           	rol	A
 20044 03:53C3: 6A           	ror	A
 20045 03:53C4: 10 01        	bpl	L864
 20046 03:53C6: 88           	dey
 20047                        L864:
 20048 03:53C7: 85 01        	sta	<R0
 20049 03:53C9: 84 03        	sty	<R0+2
 20050 03:53CB: D4 03        	pei	<R0+2
 20051 03:53CD: D4 01        	pei	<R0
 20052 03:53CF: 18           	clc
 20053 03:53D0: A9 FF FF     	lda	#$ffff
 20054 03:53D3: 67 0C        	adc	[<L860+pmenu_0]
 20055 03:53D5: 85 05        	sta	<R1
 20056 03:53D7: A0 00 00     	ldy	#$0
 20057 03:53DA: A5 05        	lda	<R1
 20058 03:53DC: 10 01        	bpl	L865
 20059 03:53DE: 88           	dey
 20060                        L865:
 20061 03:53DF: 85 05        	sta	<R1
 20062 03:53E1: 84 07        	sty	<R1+2
 20063 03:53E3: D4 07        	pei	<R1+2
 20064 03:53E5: D4 05        	pei	<R1
 20065 03:53E7: 22 3A 44 03  	jsl	~~k_vdma_fill_rect
 20066                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 20067                        ;		k_mem_deallocate_heap(pmenu);
 20068                        	.line	3411
 20069 03:53EB: D4 0E        	pei	<L860+pmenu_0+2
 20070 03:53ED: D4 0C        	pei	<L860+pmenu_0
 20071 03:53EF: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 20072                        ;	}
 20073                        	.line	3412
 20074                        ;}
 20075                        L10370:
 20076                        	.line	3413
 20077                        L866:
 20078 03:53F3: A5 0A        	lda	<L860+2
 20079 03:53F5: 85 12        	sta	<L860+2+8
 20080 03:53F7: A5 09        	lda	<L860+1
 20081 03:53F9: 85 11        	sta	<L860+1+8
 20082 03:53FB: 2B           	pld
  Wed Nov 18 2020  8:27                                                Page 366


 20083 03:53FC: 3B           	tsc
 20084 03:53FD: 18           	clc
 20085 03:53FE: 69 10 00     	adc	#L860+8
 20086 03:5401: 1B           	tcs
 20087 03:5402: 6B           	rtl
 20088                        	.endblock	3413
 20089             00000008   L860	equ	8
 20090             00000009   L861	equ	9
 20091 03:5403:              	ends
 20092                        	efunc
 20093                        	.endfunc	3413,9,8
 20094                        	.line	3413
 20095                        ;
 20096                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 20097                        ;{
 20098                        	.line	3415
 20099                        	.line	3416
 20100                        	GUI
 20101                        	xdef	~~k_bitblt
 20102                        	func
 20103                        	.function	3416
 20104                        ~~k_bitblt:
 20105                        	longa	on
 20106                        	longi	on
 20107 03:5403: 3B           	tsc
 20108 03:5404: 38           	sec
 20109 03:5405: E9 20 00     	sbc	#L867
 20110 03:5408: 1B           	tcs
 20111 03:5409: 0B           	phd
 20112 03:540A: 5B           	tcd
 20113             00000004   x0_0	set	4
 20114             00000006   y0_0	set	6
 20115             00000008   width_0	set	8
 20116             0000000A   height_0	set	10
 20117             0000000C   x1_0	set	12
 20118             0000000E   y1_0	set	14
 20119                        	.block	3416
 20120                        ;	long dy = 0L;
 20121                        ;	long dd = y1;
 20122                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 20123                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 20124                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 20125                        ;
 20126                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 20127                        ;
 20128                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 20129             00000000   dy_1	set	0
 20130             00000004   dd_1	set	4
 20131             00000008   pixelLocation0_1	set	8
 20132             0000000C   pixelLocation1_1	set	12
 20133             00000010   pixelLocationD_1	set	16
 20134             00000014   difference_1	set	20
 20135                        	.sym	dy,0,7,1,32
  Wed Nov 18 2020  8:27                                                Page 367


 20136                        	.sym	dd,4,7,1,32
 20137                        	.sym	pixelLocation0,8,7,1,32
 20138                        	.sym	pixelLocation1,12,7,1,32
 20139                        	.sym	pixelLocationD,16,7,1,32
 20140                        	.sym	difference,20,7,1,32
 20141                        	.sym	x0,4,5,6,16
 20142                        	.sym	y0,6,5,6,16
 20143                        	.sym	width,8,5,6,16
 20144                        	.sym	height,10,5,6,16
 20145                        	.sym	x1,12,5,6,16
 20146                        	.sym	y1,14,5,6,16
 20147 03:540B: 64 09        	stz	<L868+dy_1
 20148 03:540D: 64 0B        	stz	<L868+dy_1+2
 20149 03:540F: A0 00 00     	ldy	#$0
 20150 03:5412: A5 2E        	lda	<L867+y1_0
 20151 03:5414: 10 01        	bpl	L870
 20152 03:5416: 88           	dey
 20153                        L870:
 20154 03:5417: 85 0D        	sta	<L868+dd_1
 20155 03:5419: 84 0F        	sty	<L868+dd_1+2
 20156 03:541B: A0 00 00     	ldy	#$0
 20157 03:541E: A5 24        	lda	<L867+x0_0
 20158 03:5420: 10 01        	bpl	L871
 20159 03:5422: 88           	dey
 20160                        L871:
 20161 03:5423: 85 01        	sta	<R0
 20162 03:5425: 84 03        	sty	<R0+2
 20163 03:5427: A0 00 00     	ldy	#$0
 20164 03:542A: A5 26        	lda	<L867+y0_0
 20165 03:542C: 10 01        	bpl	L872
 20166 03:542E: 88           	dey
 20167                        L872:
 20168 03:542F: 85 05        	sta	<R1
 20169 03:5431: 84 07        	sty	<R1+2
 20170 03:5433: F4 00 00     	pea	#^$280
 20171 03:5436: F4 80 02     	pea	#<$280
 20172 03:5439: D4 07        	pei	<R1+2
 20173 03:543B: D4 05        	pei	<R1
 20174                        	xref	~~~lmul
 20175 03:543D: 22 xx xx xx  	jsl	~~~lmul
 20176 03:5441: 85 05        	sta	<R1
 20177 03:5443: 86 07        	stx	<R1+2
 20178 03:5445: 18           	clc
 20179 03:5446: A5 05        	lda	<R1
 20180 03:5448: 65 01        	adc	<R0
 20181 03:544A: 85 11        	sta	<L868+pixelLocation0_1
 20182 03:544C: A5 07        	lda	<R1+2
 20183 03:544E: 65 03        	adc	<R0+2
 20184 03:5450: 85 13        	sta	<L868+pixelLocation0_1+2
 20185 03:5452: 18           	clc
 20186 03:5453: A5 24        	lda	<L867+x0_0
 20187 03:5455: 65 28        	adc	<L867+width_0
 20188 03:5457: 85 01        	sta	<R0
 20189 03:5459: A0 00 00     	ldy	#$0
 20190 03:545C: A5 01        	lda	<R0
 20191 03:545E: 10 01        	bpl	L873
 20192 03:5460: 88           	dey
 20193                        L873:
  Wed Nov 18 2020  8:27                                                Page 368


 20194 03:5461: 85 01        	sta	<R0
 20195 03:5463: 84 03        	sty	<R0+2
 20196 03:5465: A0 00 00     	ldy	#$0
 20197 03:5468: A5 26        	lda	<L867+y0_0
 20198 03:546A: 10 01        	bpl	L874
 20199 03:546C: 88           	dey
 20200                        L874:
 20201 03:546D: 85 05        	sta	<R1
 20202 03:546F: 84 07        	sty	<R1+2
 20203 03:5471: F4 00 00     	pea	#^$280
 20204 03:5474: F4 80 02     	pea	#<$280
 20205 03:5477: D4 07        	pei	<R1+2
 20206 03:5479: D4 05        	pei	<R1
 20207                        	xref	~~~lmul
 20208 03:547B: 22 xx xx xx  	jsl	~~~lmul
 20209 03:547F: 85 05        	sta	<R1
 20210 03:5481: 86 07        	stx	<R1+2
 20211 03:5483: 18           	clc
 20212 03:5484: A5 05        	lda	<R1
 20213 03:5486: 65 01        	adc	<R0
 20214 03:5488: 85 15        	sta	<L868+pixelLocation1_1
 20215 03:548A: A5 07        	lda	<R1+2
 20216 03:548C: 65 03        	adc	<R0+2
 20217 03:548E: 85 17        	sta	<L868+pixelLocation1_1+2
 20218 03:5490: A0 00 00     	ldy	#$0
 20219 03:5493: A5 2C        	lda	<L867+x1_0
 20220 03:5495: 10 01        	bpl	L875
 20221 03:5497: 88           	dey
 20222                        L875:
 20223 03:5498: 85 01        	sta	<R0
 20224 03:549A: 84 03        	sty	<R0+2
 20225 03:549C: A0 00 00     	ldy	#$0
 20226 03:549F: A5 2E        	lda	<L867+y1_0
 20227 03:54A1: 10 01        	bpl	L876
 20228 03:54A3: 88           	dey
 20229                        L876:
 20230 03:54A4: 85 05        	sta	<R1
 20231 03:54A6: 84 07        	sty	<R1+2
 20232 03:54A8: F4 00 00     	pea	#^$280
 20233 03:54AB: F4 80 02     	pea	#<$280
 20234 03:54AE: D4 07        	pei	<R1+2
 20235 03:54B0: D4 05        	pei	<R1
 20236                        	xref	~~~lmul
 20237 03:54B2: 22 xx xx xx  	jsl	~~~lmul
 20238 03:54B6: 85 05        	sta	<R1
 20239 03:54B8: 86 07        	stx	<R1+2
 20240 03:54BA: 18           	clc
 20241 03:54BB: A5 05        	lda	<R1
 20242 03:54BD: 65 01        	adc	<R0
 20243 03:54BF: 85 19        	sta	<L868+pixelLocationD_1
 20244 03:54C1: A5 07        	lda	<R1+2
 20245 03:54C3: 65 03        	adc	<R0+2
 20246 03:54C5: 85 1B        	sta	<L868+pixelLocationD_1+2
 20247 03:54C7: 38           	sec
 20248 03:54C8: A5 15        	lda	<L868+pixelLocation1_1
 20249 03:54CA: E5 11        	sbc	<L868+pixelLocation0_1
 20250 03:54CC: 85 1D        	sta	<L868+difference_1
 20251 03:54CE: A5 17        	lda	<L868+pixelLocation1_1+2
  Wed Nov 18 2020  8:27                                                Page 369


 20252 03:54D0: E5 13        	sbc	<L868+pixelLocation0_1+2
 20253 03:54D2: 85 1F        	sta	<L868+difference_1+2
 20254                        	.line	3425
 20255 03:54D4: D4 13        	pei	<L868+pixelLocation0_1+2
 20256 03:54D6: D4 11        	pei	<L868+pixelLocation0_1
 20257 03:54D8: F4 xx xx     	pea	#^L849
 20258 03:54DB: F4 xx xx     	pea	#<L849
 20259 03:54DE: 22 xx xx xx  	jsl	~~k_debug_long
 20260                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 20261                        	.line	3426
 20262 03:54E2: D4 17        	pei	<L868+pixelLocation1_1+2
 20263 03:54E4: D4 15        	pei	<L868+pixelLocation1_1
 20264 03:54E6: F4 xx xx     	pea	#^L849+16
 20265 03:54E9: F4 xx xx     	pea	#<L849+16
 20266 03:54EC: 22 xx xx xx  	jsl	~~k_debug_long
 20267                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 20268                        	.line	3427
 20269 03:54F0: D4 1B        	pei	<L868+pixelLocationD_1+2
 20270 03:54F2: D4 19        	pei	<L868+pixelLocationD_1
 20271 03:54F4: F4 xx xx     	pea	#^L849+32
 20272 03:54F7: F4 xx xx     	pea	#<L849+32
 20273 03:54FA: 22 xx xx xx  	jsl	~~k_debug_long
 20274                        ;	k_debug_long("difference:",difference);
 20275                        	.line	3428
 20276 03:54FE: D4 1F        	pei	<L868+difference_1+2
 20277 03:5500: D4 1D        	pei	<L868+difference_1
 20278 03:5502: F4 xx xx     	pea	#^L849+48
 20279 03:5505: F4 xx xx     	pea	#<L849+48
 20280 03:5508: 22 xx xx xx  	jsl	~~k_debug_long
 20281                        ;
 20282                        ;
 20283                        ;
 20284                        ;	for(dy = y0;dy<(y0 + height);dy++)
 20285                        	.line	3432
 20286 03:550C: A0 00 00     	ldy	#$0
 20287 03:550F: A5 26        	lda	<L867+y0_0
 20288 03:5511: 10 01        	bpl	L877
 20289 03:5513: 88           	dey
 20290                        L877:
 20291 03:5514: 85 09        	sta	<L868+dy_1
 20292 03:5516: 84 0B        	sty	<L868+dy_1+2
 20293 03:5518: 82 8E 00     	brl	L10374
 20294                        L10373:
 20295                        ;	{
 20296                        	.line	3433
 20297                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 20298                        	.line	3434
 20299 03:551B: A0 00 00     	ldy	#$0
 20300 03:551E: A5 24        	lda	<L867+x0_0
 20301 03:5520: 10 01        	bpl	L878
 20302 03:5522: 88           	dey
 20303                        L878:
 20304 03:5523: 85 01        	sta	<R0
 20305 03:5525: 84 03        	sty	<R0+2
 20306 03:5527: F4 00 00     	pea	#^$280
 20307 03:552A: F4 80 02     	pea	#<$280
 20308 03:552D: D4 0B        	pei	<L868+dy_1+2
  Wed Nov 18 2020  8:27                                                Page 370


 20309 03:552F: D4 09        	pei	<L868+dy_1
 20310                        	xref	~~~lmul
 20311 03:5531: 22 xx xx xx  	jsl	~~~lmul
 20312 03:5535: 85 05        	sta	<R1
 20313 03:5537: 86 07        	stx	<R1+2
 20314 03:5539: 18           	clc
 20315 03:553A: A5 05        	lda	<R1
 20316 03:553C: 65 01        	adc	<R0
 20317 03:553E: 85 11        	sta	<L868+pixelLocation0_1
 20318 03:5540: A5 07        	lda	<R1+2
 20319 03:5542: 65 03        	adc	<R0+2
 20320 03:5544: 85 13        	sta	<L868+pixelLocation0_1+2
 20321                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 20322                        	.line	3435
 20323 03:5546: A0 00 00     	ldy	#$0
 20324 03:5549: A5 2C        	lda	<L867+x1_0
 20325 03:554B: 10 01        	bpl	L879
 20326 03:554D: 88           	dey
 20327                        L879:
 20328 03:554E: 85 01        	sta	<R0
 20329 03:5550: 84 03        	sty	<R0+2
 20330 03:5552: F4 00 00     	pea	#^$280
 20331 03:5555: F4 80 02     	pea	#<$280
 20332 03:5558: D4 0F        	pei	<L868+dd_1+2
 20333 03:555A: D4 0D        	pei	<L868+dd_1
 20334                        	xref	~~~lmul
 20335 03:555C: 22 xx xx xx  	jsl	~~~lmul
 20336 03:5560: 85 05        	sta	<R1
 20337 03:5562: 86 07        	stx	<R1+2
 20338 03:5564: 18           	clc
 20339 03:5565: A5 05        	lda	<R1
 20340 03:5567: 65 01        	adc	<R0
 20341 03:5569: 85 19        	sta	<L868+pixelLocationD_1
 20342 03:556B: A5 07        	lda	<R1+2
 20343 03:556D: 65 03        	adc	<R0+2
 20344 03:556F: 85 1B        	sta	<L868+pixelLocationD_1+2
 20345                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 20346                        	.line	3436
 20347 03:5571: D4 1D        	pei	<L868+difference_1
 20348 03:5573: 18           	clc
 20349 03:5574: A9 00 00     	lda	#$0
 20350 03:5577: 65 11        	adc	<L868+pixelLocation0_1
 20351 03:5579: 85 01        	sta	<R0
 20352 03:557B: A9 B0 00     	lda	#$b0
 20353 03:557E: 65 13        	adc	<L868+pixelLocation0_1+2
 20354 03:5580: 85 03        	sta	<R0+2
 20355 03:5582: D4 03        	pei	<R0+2
 20356 03:5584: D4 01        	pei	<R0
 20357 03:5586: 18           	clc
 20358 03:5587: A9 00 00     	lda	#$0
 20359 03:558A: 65 19        	adc	<L868+pixelLocationD_1
 20360 03:558C: 85 05        	sta	<R1
 20361 03:558E: A9 B0 00     	lda	#$b0
 20362 03:5591: 65 1B        	adc	<L868+pixelLocationD_1+2
 20363 03:5593: 85 07        	sta	<R1+2
  Wed Nov 18 2020  8:27                                                Page 371


 20364 03:5595: D4 07        	pei	<R1+2
 20365 03:5597: D4 05        	pei	<R1
 20366 03:5599: 22 xx xx xx  	jsl	~~memcpy
 20367                        ;
 20368                        ;		dd++;
 20369                        	.line	3438
 20370 03:559D: E6 0D        	inc	<L868+dd_1
 20371 03:559F: D0 02        	bne	L880
 20372 03:55A1: E6 0F        	inc	<L868+dd_1+2
 20373                        L880:
 20374                        ;	}
 20375                        	.line	3439
 20376                        L10371:
 20377 03:55A3: E6 09        	inc	<L868+dy_1
 20378 03:55A5: D0 02        	bne	L881
 20379 03:55A7: E6 0B        	inc	<L868+dy_1+2
 20380                        L881:
 20381                        L10374:
 20382 03:55A9: 18           	clc
 20383 03:55AA: A5 26        	lda	<L867+y0_0
 20384 03:55AC: 65 2A        	adc	<L867+height_0
 20385 03:55AE: 85 01        	sta	<R0
 20386 03:55B0: A0 00 00     	ldy	#$0
 20387 03:55B3: A5 01        	lda	<R0
 20388 03:55B5: 10 01        	bpl	L882
 20389 03:55B7: 88           	dey
 20390                        L882:
 20391 03:55B8: 85 01        	sta	<R0
 20392 03:55BA: 84 03        	sty	<R0+2
 20393 03:55BC: 38           	sec
 20394 03:55BD: A5 09        	lda	<L868+dy_1
 20395 03:55BF: E5 01        	sbc	<R0
 20396 03:55C1: A5 0B        	lda	<L868+dy_1+2
 20397 03:55C3: E5 03        	sbc	<R0+2
 20398 03:55C5: 70 03        	bvs	L883
 20399 03:55C7: 49 00 80     	eor	#$8000
 20400                        L883:
 20401 03:55CA: 30 03        	bmi	L884
 20402 03:55CC: 82 4C FF     	brl	L10373
 20403                        L884:
 20404                        L10372:
 20405                        ;
 20406                        ;}
 20407                        	.line	3441
 20408                        L885:
 20409 03:55CF: A5 22        	lda	<L867+2
 20410 03:55D1: 85 2E        	sta	<L867+2+12
 20411 03:55D3: A5 21        	lda	<L867+1
 20412 03:55D5: 85 2D        	sta	<L867+1+12
 20413 03:55D7: 2B           	pld
 20414 03:55D8: 3B           	tsc
 20415 03:55D9: 18           	clc
 20416 03:55DA: 69 2C 00     	adc	#L867+12
 20417 03:55DD: 1B           	tcs
 20418 03:55DE: 6B           	rtl
 20419                        	.endblock	3441
 20420             00000020   L867	equ	32
 20421             00000009   L868	equ	9
  Wed Nov 18 2020  8:27                                                Page 372


 20422 03:55DF:              	ends
 20423                        	efunc
 20424                        	.endfunc	3441,9,32
 20425                        	.line	3441
 20426                        	data
 20427                        L849:
 20428 00:06D9: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:06DD: 6C 4C 6F 63 
       00:06E1: 61 74 69 6F 
       00:06E5: 6E 30 3A 
 20429 00:06E8: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:06EC: 65 6C 4C 6F 
       00:06F0: 63 61 74 69 
       00:06F4: 6F 6E 31 
 20430 00:06F7: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:06FB: 78 65 6C 4C 
       00:06FF: 6F 63 61 74 
       00:0703: 69 6F 6E 
 20431 00:0706: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:070A: 69 66 66 65 
       00:070E: 72 65 6E 63 
       00:0712: 65 3A 00 
 20432 00:0715:              	ends
 20433                        ;
 20434                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 20435                        ;{
 20436                        	.line	3443
 20437                        	.line	3444
 20438                        	GUI
 20439                        	xdef	~~k_memory_bitblt
 20440                        	func
 20441                        	.function	3444
 20442                        ~~k_memory_bitblt:
 20443                        	longa	on
 20444                        	longi	on
 20445 03:55DF: 3B           	tsc
 20446 03:55E0: 38           	sec
 20447 03:55E1: E9 20 00     	sbc	#L887
 20448 03:55E4: 1B           	tcs
 20449 03:55E5: 0B           	phd
 20450 03:55E6: 5B           	tcd
 20451             00000004   srcBank_0	set	4
 20452             00000008   x0_0	set	8
 20453             0000000A   y0_0	set	10
 20454             0000000C   width_0	set	12
 20455             0000000E   height_0	set	14
 20456             00000010   destBank_0	set	16
 20457             00000014   x1_0	set	20
 20458             00000016   y1_0	set	22
 20459             00000018   direction_0	set	24
 20460                        	.block	3444
 20461                        ;	long dy = 0L;
  Wed Nov 18 2020  8:27                                                Page 373


 20462                        ;	long dd = y1;
 20463                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 20464                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 20465                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 20466                        ;
 20467                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 20468                        ;
 20469                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 20470             00000000   dy_1	set	0
 20471             00000004   dd_1	set	4
 20472             00000008   pixelLocation0_1	set	8
 20473             0000000C   pixelLocation1_1	set	12
 20474             00000010   pixelLocationD_1	set	16
 20475             00000014   difference_1	set	20
 20476                        	.sym	dy,0,7,1,32
 20477                        	.sym	dd,4,7,1,32
 20478                        	.sym	pixelLocation0,8,7,1,32
 20479                        	.sym	pixelLocation1,12,7,1,32
 20480                        	.sym	pixelLocationD,16,7,1,32
 20481                        	.sym	difference,20,7,1,32
 20482                        	.sym	srcBank,4,142,6,32
 20483                        	.sym	x0,8,5,6,16
 20484                        	.sym	y0,10,5,6,16
 20485                        	.sym	width,12,5,6,16
 20486                        	.sym	height,14,5,6,16
 20487                        	.sym	destBank,16,142,6,32
 20488                        	.sym	x1,20,5,6,16
 20489                        	.sym	y1,22,5,6,16
 20490                        	.sym	direction,24,5,6,16
 20491 03:55E7: 64 09        	stz	<L888+dy_1
 20492 03:55E9: 64 0B        	stz	<L888+dy_1+2
 20493 03:55EB: A0 00 00     	ldy	#$0
 20494 03:55EE: A5 36        	lda	<L887+y1_0
 20495 03:55F0: 10 01        	bpl	L890
 20496 03:55F2: 88           	dey
 20497                        L890:
 20498 03:55F3: 85 0D        	sta	<L888+dd_1
 20499 03:55F5: 84 0F        	sty	<L888+dd_1+2
 20500 03:55F7: A0 00 00     	ldy	#$0
 20501 03:55FA: A5 28        	lda	<L887+x0_0
 20502 03:55FC: 10 01        	bpl	L891
 20503 03:55FE: 88           	dey
 20504                        L891:
 20505 03:55FF: 85 01        	sta	<R0
 20506 03:5601: 84 03        	sty	<R0+2
 20507 03:5603: A0 00 00     	ldy	#$0
 20508 03:5606: A5 2A        	lda	<L887+y0_0
 20509 03:5608: 10 01        	bpl	L892
 20510 03:560A: 88           	dey
 20511                        L892:
 20512 03:560B: 85 05        	sta	<R1
 20513 03:560D: 84 07        	sty	<R1+2
 20514 03:560F: F4 00 00     	pea	#^$280
 20515 03:5612: F4 80 02     	pea	#<$280
  Wed Nov 18 2020  8:27                                                Page 374


 20516 03:5615: D4 07        	pei	<R1+2
 20517 03:5617: D4 05        	pei	<R1
 20518                        	xref	~~~lmul
 20519 03:5619: 22 xx xx xx  	jsl	~~~lmul
 20520 03:561D: 85 05        	sta	<R1
 20521 03:561F: 86 07        	stx	<R1+2
 20522 03:5621: 18           	clc
 20523 03:5622: A5 05        	lda	<R1
 20524 03:5624: 65 01        	adc	<R0
 20525 03:5626: 85 11        	sta	<L888+pixelLocation0_1
 20526 03:5628: A5 07        	lda	<R1+2
 20527 03:562A: 65 03        	adc	<R0+2
 20528 03:562C: 85 13        	sta	<L888+pixelLocation0_1+2
 20529 03:562E: 18           	clc
 20530 03:562F: A5 28        	lda	<L887+x0_0
 20531 03:5631: 65 2C        	adc	<L887+width_0
 20532 03:5633: 85 01        	sta	<R0
 20533 03:5635: A0 00 00     	ldy	#$0
 20534 03:5638: A5 01        	lda	<R0
 20535 03:563A: 10 01        	bpl	L893
 20536 03:563C: 88           	dey
 20537                        L893:
 20538 03:563D: 85 01        	sta	<R0
 20539 03:563F: 84 03        	sty	<R0+2
 20540 03:5641: A0 00 00     	ldy	#$0
 20541 03:5644: A5 2A        	lda	<L887+y0_0
 20542 03:5646: 10 01        	bpl	L894
 20543 03:5648: 88           	dey
 20544                        L894:
 20545 03:5649: 85 05        	sta	<R1
 20546 03:564B: 84 07        	sty	<R1+2
 20547 03:564D: F4 00 00     	pea	#^$280
 20548 03:5650: F4 80 02     	pea	#<$280
 20549 03:5653: D4 07        	pei	<R1+2
 20550 03:5655: D4 05        	pei	<R1
 20551                        	xref	~~~lmul
 20552 03:5657: 22 xx xx xx  	jsl	~~~lmul
 20553 03:565B: 85 05        	sta	<R1
 20554 03:565D: 86 07        	stx	<R1+2
 20555 03:565F: 18           	clc
 20556 03:5660: A5 05        	lda	<R1
 20557 03:5662: 65 01        	adc	<R0
 20558 03:5664: 85 15        	sta	<L888+pixelLocation1_1
 20559 03:5666: A5 07        	lda	<R1+2
 20560 03:5668: 65 03        	adc	<R0+2
 20561 03:566A: 85 17        	sta	<L888+pixelLocation1_1+2
 20562 03:566C: A0 00 00     	ldy	#$0
 20563 03:566F: A5 34        	lda	<L887+x1_0
 20564 03:5671: 10 01        	bpl	L895
 20565 03:5673: 88           	dey
 20566                        L895:
 20567 03:5674: 85 01        	sta	<R0
 20568 03:5676: 84 03        	sty	<R0+2
 20569 03:5678: A0 00 00     	ldy	#$0
 20570 03:567B: A5 36        	lda	<L887+y1_0
 20571 03:567D: 10 01        	bpl	L896
 20572 03:567F: 88           	dey
 20573                        L896:
  Wed Nov 18 2020  8:27                                                Page 375


 20574 03:5680: 85 05        	sta	<R1
 20575 03:5682: 84 07        	sty	<R1+2
 20576 03:5684: F4 00 00     	pea	#^$280
 20577 03:5687: F4 80 02     	pea	#<$280
 20578 03:568A: D4 07        	pei	<R1+2
 20579 03:568C: D4 05        	pei	<R1
 20580                        	xref	~~~lmul
 20581 03:568E: 22 xx xx xx  	jsl	~~~lmul
 20582 03:5692: 85 05        	sta	<R1
 20583 03:5694: 86 07        	stx	<R1+2
 20584 03:5696: 18           	clc
 20585 03:5697: A5 05        	lda	<R1
 20586 03:5699: 65 01        	adc	<R0
 20587 03:569B: 85 19        	sta	<L888+pixelLocationD_1
 20588 03:569D: A5 07        	lda	<R1+2
 20589 03:569F: 65 03        	adc	<R0+2
 20590 03:56A1: 85 1B        	sta	<L888+pixelLocationD_1+2
 20591 03:56A3: 38           	sec
 20592 03:56A4: A5 15        	lda	<L888+pixelLocation1_1
 20593 03:56A6: E5 11        	sbc	<L888+pixelLocation0_1
 20594 03:56A8: 85 1D        	sta	<L888+difference_1
 20595 03:56AA: A5 17        	lda	<L888+pixelLocation1_1+2
 20596 03:56AC: E5 13        	sbc	<L888+pixelLocation0_1+2
 20597 03:56AE: 85 1F        	sta	<L888+difference_1+2
 20598                        	.line	3453
 20599 03:56B0: D4 13        	pei	<L888+pixelLocation0_1+2
 20600 03:56B2: D4 11        	pei	<L888+pixelLocation0_1
 20601 03:56B4: F4 xx xx     	pea	#^L886
 20602 03:56B7: F4 xx xx     	pea	#<L886
 20603 03:56BA: 22 xx xx xx  	jsl	~~k_debug_long
 20604                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 20605                        	.line	3454
 20606 03:56BE: D4 17        	pei	<L888+pixelLocation1_1+2
 20607 03:56C0: D4 15        	pei	<L888+pixelLocation1_1
 20608 03:56C2: F4 xx xx     	pea	#^L886+16
 20609 03:56C5: F4 xx xx     	pea	#<L886+16
 20610 03:56C8: 22 xx xx xx  	jsl	~~k_debug_long
 20611                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 20612                        	.line	3455
 20613 03:56CC: D4 1B        	pei	<L888+pixelLocationD_1+2
 20614 03:56CE: D4 19        	pei	<L888+pixelLocationD_1
 20615 03:56D0: F4 xx xx     	pea	#^L886+32
 20616 03:56D3: F4 xx xx     	pea	#<L886+32
 20617 03:56D6: 22 xx xx xx  	jsl	~~k_debug_long
 20618                        ;	k_debug_long("difference:",difference);
 20619                        	.line	3456
 20620 03:56DA: D4 1F        	pei	<L888+difference_1+2
 20621 03:56DC: D4 1D        	pei	<L888+difference_1
 20622 03:56DE: F4 xx xx     	pea	#^L886+48
 20623 03:56E1: F4 xx xx     	pea	#<L886+48
 20624 03:56E4: 22 xx xx xx  	jsl	~~k_debug_long
 20625                        ;
 20626                        ;	if(direction == BLT_DIR_TOPDOWN)
 20627                        	.line	3458
 20628                        ;	{
 20629 03:56E8: A5 38        	lda	<L887+direction_0
 20630 03:56EA: C9 01 00     	cmp	#<$1
 20631 03:56ED: F0 03        	beq	L897
  Wed Nov 18 2020  8:27                                                Page 376


 20632 03:56EF: 82 C2 00     	brl	L10375
 20633                        L897:
 20634                        	.line	3459
 20635                        ;		for(dy = y0;dy<(y0 + height);dy++)
 20636                        	.line	3460
 20637 03:56F2: A0 00 00     	ldy	#$0
 20638 03:56F5: A5 2A        	lda	<L887+y0_0
 20639 03:56F7: 10 01        	bpl	L898
 20640 03:56F9: 88           	dey
 20641                        L898:
 20642 03:56FA: 85 09        	sta	<L888+dy_1
 20643 03:56FC: 84 0B        	sty	<L888+dy_1+2
 20644 03:56FE: 82 8A 00     	brl	L10379
 20645                        L10378:
 20646                        ;		{
 20647                        	.line	3461
 20648                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 20649                        	.line	3462
 20650 03:5701: A0 00 00     	ldy	#$0
 20651 03:5704: A5 28        	lda	<L887+x0_0
 20652 03:5706: 10 01        	bpl	L899
 20653 03:5708: 88           	dey
 20654                        L899:
 20655 03:5709: 85 01        	sta	<R0
 20656 03:570B: 84 03        	sty	<R0+2
 20657 03:570D: F4 00 00     	pea	#^$280
 20658 03:5710: F4 80 02     	pea	#<$280
 20659 03:5713: D4 0B        	pei	<L888+dy_1+2
 20660 03:5715: D4 09        	pei	<L888+dy_1
 20661                        	xref	~~~lmul
 20662 03:5717: 22 xx xx xx  	jsl	~~~lmul
 20663 03:571B: 85 05        	sta	<R1
 20664 03:571D: 86 07        	stx	<R1+2
 20665 03:571F: 18           	clc
 20666 03:5720: A5 05        	lda	<R1
 20667 03:5722: 65 01        	adc	<R0
 20668 03:5724: 85 11        	sta	<L888+pixelLocation0_1
 20669 03:5726: A5 07        	lda	<R1+2
 20670 03:5728: 65 03        	adc	<R0+2
 20671 03:572A: 85 13        	sta	<L888+pixelLocation0_1+2
 20672                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 20673                        	.line	3463
 20674 03:572C: A0 00 00     	ldy	#$0
 20675 03:572F: A5 34        	lda	<L887+x1_0
 20676 03:5731: 10 01        	bpl	L900
 20677 03:5733: 88           	dey
 20678                        L900:
 20679 03:5734: 85 01        	sta	<R0
 20680 03:5736: 84 03        	sty	<R0+2
 20681 03:5738: F4 00 00     	pea	#^$280
 20682 03:573B: F4 80 02     	pea	#<$280
 20683 03:573E: D4 0F        	pei	<L888+dd_1+2
 20684 03:5740: D4 0D        	pei	<L888+dd_1
 20685                        	xref	~~~lmul
 20686 03:5742: 22 xx xx xx  	jsl	~~~lmul
 20687 03:5746: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 377


 20688 03:5748: 86 07        	stx	<R1+2
 20689 03:574A: 18           	clc
 20690 03:574B: A5 05        	lda	<R1
 20691 03:574D: 65 01        	adc	<R0
 20692 03:574F: 85 19        	sta	<L888+pixelLocationD_1
 20693 03:5751: A5 07        	lda	<R1+2
 20694 03:5753: 65 03        	adc	<R0+2
 20695 03:5755: 85 1B        	sta	<L888+pixelLocationD_1+2
 20696                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 20697                        	.line	3464
 20698 03:5757: D4 1D        	pei	<L888+difference_1
 20699 03:5759: 18           	clc
 20700 03:575A: A5 24        	lda	<L887+srcBank_0
 20701 03:575C: 65 11        	adc	<L888+pixelLocation0_1
 20702 03:575E: 85 01        	sta	<R0
 20703 03:5760: A5 26        	lda	<L887+srcBank_0+2
 20704 03:5762: 65 13        	adc	<L888+pixelLocation0_1+2
 20705 03:5764: 85 03        	sta	<R0+2
 20706 03:5766: D4 03        	pei	<R0+2
 20707 03:5768: D4 01        	pei	<R0
 20708 03:576A: 18           	clc
 20709 03:576B: A5 30        	lda	<L887+destBank_0
 20710 03:576D: 65 19        	adc	<L888+pixelLocationD_1
 20711 03:576F: 85 05        	sta	<R1
 20712 03:5771: A5 32        	lda	<L887+destBank_0+2
 20713 03:5773: 65 1B        	adc	<L888+pixelLocationD_1+2
 20714 03:5775: 85 07        	sta	<R1+2
 20715 03:5777: D4 07        	pei	<R1+2
 20716 03:5779: D4 05        	pei	<R1
 20717 03:577B: 22 xx xx xx  	jsl	~~memcpy
 20718                        ;
 20719                        ;			dd++;
 20720                        	.line	3466
 20721 03:577F: E6 0D        	inc	<L888+dd_1
 20722 03:5781: D0 02        	bne	L901
 20723 03:5783: E6 0F        	inc	<L888+dd_1+2
 20724                        L901:
 20725                        ;		}
 20726                        	.line	3467
 20727                        L10376:
 20728 03:5785: E6 09        	inc	<L888+dy_1
 20729 03:5787: D0 02        	bne	L902
 20730 03:5789: E6 0B        	inc	<L888+dy_1+2
 20731                        L902:
 20732                        L10379:
 20733 03:578B: 18           	clc
 20734 03:578C: A5 2A        	lda	<L887+y0_0
 20735 03:578E: 65 2E        	adc	<L887+height_0
 20736 03:5790: 85 01        	sta	<R0
 20737 03:5792: A0 00 00     	ldy	#$0
 20738 03:5795: A5 01        	lda	<R0
 20739 03:5797: 10 01        	bpl	L903
 20740 03:5799: 88           	dey
 20741                        L903:
 20742 03:579A: 85 01        	sta	<R0
 20743 03:579C: 84 03        	sty	<R0+2
  Wed Nov 18 2020  8:27                                                Page 378


 20744 03:579E: 38           	sec
 20745 03:579F: A5 09        	lda	<L888+dy_1
 20746 03:57A1: E5 01        	sbc	<R0
 20747 03:57A3: A5 0B        	lda	<L888+dy_1+2
 20748 03:57A5: E5 03        	sbc	<R0+2
 20749 03:57A7: 70 03        	bvs	L904
 20750 03:57A9: 49 00 80     	eor	#$8000
 20751                        L904:
 20752 03:57AC: 30 03        	bmi	L905
 20753 03:57AE: 82 50 FF     	brl	L10378
 20754                        L905:
 20755                        L10377:
 20756                        ;	}
 20757                        	.line	3468
 20758                        ;	else
 20759 03:57B1: 82 D6 00     	brl	L10380
 20760                        L10375:
 20761                        ;	{
 20762                        	.line	3470
 20763                        ;		dd = y1 + height;
 20764                        	.line	3471
 20765 03:57B4: 18           	clc
 20766 03:57B5: A5 36        	lda	<L887+y1_0
 20767 03:57B7: 65 2E        	adc	<L887+height_0
 20768 03:57B9: 85 01        	sta	<R0
 20769 03:57BB: A0 00 00     	ldy	#$0
 20770 03:57BE: A5 01        	lda	<R0
 20771 03:57C0: 10 01        	bpl	L906
 20772 03:57C2: 88           	dey
 20773                        L906:
 20774 03:57C3: 85 0D        	sta	<L888+dd_1
 20775 03:57C5: 84 0F        	sty	<L888+dd_1+2
 20776                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 20777                        ;		for(dy = (y0 + height);dy>y0;dy--)
 20778                        	.line	3473
 20779 03:57C7: 18           	clc
 20780 03:57C8: A5 2A        	lda	<L887+y0_0
 20781 03:57CA: 65 2E        	adc	<L887+height_0
 20782 03:57CC: 85 01        	sta	<R0
 20783 03:57CE: A0 00 00     	ldy	#$0
 20784 03:57D1: A5 01        	lda	<R0
 20785 03:57D3: 10 01        	bpl	L907
 20786 03:57D5: 88           	dey
 20787                        L907:
 20788 03:57D6: 85 09        	sta	<L888+dy_1
 20789 03:57D8: 84 0B        	sty	<L888+dy_1+2
 20790 03:57DA: 82 8E 00     	brl	L10384
 20791                        L10383:
 20792                        ;		{
 20793                        	.line	3474
 20794                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 20795                        	.line	3475
 20796 03:57DD: A0 00 00     	ldy	#$0
 20797 03:57E0: A5 28        	lda	<L887+x0_0
 20798 03:57E2: 10 01        	bpl	L908
 20799 03:57E4: 88           	dey
 20800                        L908:
  Wed Nov 18 2020  8:27                                                Page 379


 20801 03:57E5: 85 01        	sta	<R0
 20802 03:57E7: 84 03        	sty	<R0+2
 20803 03:57E9: F4 00 00     	pea	#^$280
 20804 03:57EC: F4 80 02     	pea	#<$280
 20805 03:57EF: D4 0B        	pei	<L888+dy_1+2
 20806 03:57F1: D4 09        	pei	<L888+dy_1
 20807                        	xref	~~~lmul
 20808 03:57F3: 22 xx xx xx  	jsl	~~~lmul
 20809 03:57F7: 85 05        	sta	<R1
 20810 03:57F9: 86 07        	stx	<R1+2
 20811 03:57FB: 18           	clc
 20812 03:57FC: A5 05        	lda	<R1
 20813 03:57FE: 65 01        	adc	<R0
 20814 03:5800: 85 11        	sta	<L888+pixelLocation0_1
 20815 03:5802: A5 07        	lda	<R1+2
 20816 03:5804: 65 03        	adc	<R0+2
 20817 03:5806: 85 13        	sta	<L888+pixelLocation0_1+2
 20818                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 20819                        	.line	3476
 20820 03:5808: A0 00 00     	ldy	#$0
 20821 03:580B: A5 34        	lda	<L887+x1_0
 20822 03:580D: 10 01        	bpl	L909
 20823 03:580F: 88           	dey
 20824                        L909:
 20825 03:5810: 85 01        	sta	<R0
 20826 03:5812: 84 03        	sty	<R0+2
 20827 03:5814: F4 00 00     	pea	#^$280
 20828 03:5817: F4 80 02     	pea	#<$280
 20829 03:581A: D4 0F        	pei	<L888+dd_1+2
 20830 03:581C: D4 0D        	pei	<L888+dd_1
 20831                        	xref	~~~lmul
 20832 03:581E: 22 xx xx xx  	jsl	~~~lmul
 20833 03:5822: 85 05        	sta	<R1
 20834 03:5824: 86 07        	stx	<R1+2
 20835 03:5826: 18           	clc
 20836 03:5827: A5 05        	lda	<R1
 20837 03:5829: 65 01        	adc	<R0
 20838 03:582B: 85 19        	sta	<L888+pixelLocationD_1
 20839 03:582D: A5 07        	lda	<R1+2
 20840 03:582F: 65 03        	adc	<R0+2
 20841 03:5831: 85 1B        	sta	<L888+pixelLocationD_1+2
 20842                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 20843                        	.line	3477
 20844 03:5833: D4 1D        	pei	<L888+difference_1
 20845 03:5835: 18           	clc
 20846 03:5836: A5 24        	lda	<L887+srcBank_0
 20847 03:5838: 65 11        	adc	<L888+pixelLocation0_1
 20848 03:583A: 85 01        	sta	<R0
 20849 03:583C: A5 26        	lda	<L887+srcBank_0+2
 20850 03:583E: 65 13        	adc	<L888+pixelLocation0_1+2
 20851 03:5840: 85 03        	sta	<R0+2
 20852 03:5842: D4 03        	pei	<R0+2
 20853 03:5844: D4 01        	pei	<R0
 20854 03:5846: 18           	clc
 20855 03:5847: A5 30        	lda	<L887+destBank_0
  Wed Nov 18 2020  8:27                                                Page 380


 20856 03:5849: 65 19        	adc	<L888+pixelLocationD_1
 20857 03:584B: 85 05        	sta	<R1
 20858 03:584D: A5 32        	lda	<L887+destBank_0+2
 20859 03:584F: 65 1B        	adc	<L888+pixelLocationD_1+2
 20860 03:5851: 85 07        	sta	<R1+2
 20861 03:5853: D4 07        	pei	<R1+2
 20862 03:5855: D4 05        	pei	<R1
 20863 03:5857: 22 xx xx xx  	jsl	~~memcpy
 20864                        ;
 20865                        ;			dd--;
 20866                        	.line	3479
 20867 03:585B: A5 0D        	lda	<L888+dd_1
 20868 03:585D: D0 02        	bne	L910
 20869 03:585F: C6 0F        	dec	<L888+dd_1+2
 20870                        L910:
 20871 03:5861: C6 0D        	dec	<L888+dd_1
 20872                        ;		}
 20873                        	.line	3480
 20874                        L10381:
 20875 03:5863: A5 09        	lda	<L888+dy_1
 20876 03:5865: D0 02        	bne	L911
 20877 03:5867: C6 0B        	dec	<L888+dy_1+2
 20878                        L911:
 20879 03:5869: C6 09        	dec	<L888+dy_1
 20880                        L10384:
 20881 03:586B: A0 00 00     	ldy	#$0
 20882 03:586E: A5 2A        	lda	<L887+y0_0
 20883 03:5870: 10 01        	bpl	L912
 20884 03:5872: 88           	dey
 20885                        L912:
 20886 03:5873: 85 01        	sta	<R0
 20887 03:5875: 84 03        	sty	<R0+2
 20888 03:5877: 38           	sec
 20889 03:5878: A5 01        	lda	<R0
 20890 03:587A: E5 09        	sbc	<L888+dy_1
 20891 03:587C: A5 03        	lda	<R0+2
 20892 03:587E: E5 0B        	sbc	<L888+dy_1+2
 20893 03:5880: 70 03        	bvs	L913
 20894 03:5882: 49 00 80     	eor	#$8000
 20895                        L913:
 20896 03:5885: 30 03        	bmi	L914
 20897 03:5887: 82 53 FF     	brl	L10383
 20898                        L914:
 20899                        L10382:
 20900                        ;
 20901                        ;	}
 20902                        	.line	3482
 20903                        L10380:
 20904                        ;
 20905                        ;}
 20906                        	.line	3484
 20907                        L915:
 20908 03:588A: A5 22        	lda	<L887+2
 20909 03:588C: 85 38        	sta	<L887+2+22
 20910 03:588E: A5 21        	lda	<L887+1
 20911 03:5890: 85 37        	sta	<L887+1+22
 20912 03:5892: 2B           	pld
 20913 03:5893: 3B           	tsc
  Wed Nov 18 2020  8:27                                                Page 381


 20914 03:5894: 18           	clc
 20915 03:5895: 69 36 00     	adc	#L887+22
 20916 03:5898: 1B           	tcs
 20917 03:5899: 6B           	rtl
 20918                        	.endblock	3484
 20919             00000020   L887	equ	32
 20920             00000009   L888	equ	9
 20921 03:589A:              	ends
 20922                        	efunc
 20923                        	.endfunc	3484,9,32
 20924                        	.line	3484
 20925                        	data
 20926                        L886:
 20927 00:0715: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0719: 6C 4C 6F 63 
       00:071D: 61 74 69 6F 
       00:0721: 6E 30 3A 
 20928 00:0724: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0728: 65 6C 4C 6F 
       00:072C: 63 61 74 69 
       00:0730: 6F 6E 31 
 20929 00:0733: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0737: 78 65 6C 4C 
       00:073B: 6F 63 61 74 
       00:073F: 69 6F 6E 
 20930 00:0742: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0746: 69 66 66 65 
       00:074A: 72 65 6E 63 
       00:074E: 65 3A 00 
 20931 00:0751:              	ends
 20932                        ;
 20933                        ;
 20934                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 20935                        ;{
 20936                        	.line	3487
 20937                        	.line	3488
 20938                        	GUI
 20939                        	xdef	~~k_shadow_fill_rect_address
 20940                        	func
 20941                        	.function	3488
 20942                        ~~k_shadow_fill_rect_address:
 20943                        	longa	on
 20944                        	longi	on
 20945 03:589A: 3B           	tsc
 20946 03:589B: 38           	sec
 20947 03:589C: E9 2C 00     	sbc	#L917
 20948 03:589F: 1B           	tcs
 20949 03:58A0: 0B           	phd
 20950 03:58A1: 5B           	tcd
 20951             00000004   bank_0	set	4
 20952             00000008   x0_0	set	8
 20953             0000000A   y0_0	set	10
 20954             0000000C   width_0	set	12
  Wed Nov 18 2020  8:27                                                Page 382


 20955             0000000E   height_0	set	14
 20956             00000010   color_0	set	16
 20957                        	.block	3488
 20958                        ;	LPCHAR ptr = NULL;
 20959                        ;	ULONG dx = 0L;
 20960                        ;	long dy = 0L;
 20961                        ;	long pixelLocation0 = 0L;
 20962                        ;	long pixelLocation1 = 0L;
 20963                        ;	long difference     = 0L;
 20964                        ;	long fIndex = 0;
 20965                        ;	long offset = 0L;
 20966                        ;
 20967                        ;	if(width > 640)
 20968             00000000   ptr_1	set	0
 20969             00000004   dx_1	set	4
 20970             00000008   dy_1	set	8
 20971             0000000C   pixelLocation0_1	set	12
 20972             00000010   pixelLocation1_1	set	16
 20973             00000014   difference_1	set	20
 20974             00000018   fIndex_1	set	24
 20975             0000001C   offset_1	set	28
 20976                        	.sym	ptr,0,142,1,32
 20977                        	.sym	dx,4,18,1,32
 20978                        	.sym	dy,8,7,1,32
 20979                        	.sym	pixelLocation0,12,7,1,32
 20980                        	.sym	pixelLocation1,16,7,1,32
 20981                        	.sym	difference,20,7,1,32
 20982                        	.sym	fIndex,24,7,1,32
 20983                        	.sym	offset,28,7,1,32
 20984                        	.sym	bank,4,142,6,32
 20985                        	.sym	x0,8,5,6,16
 20986                        	.sym	y0,10,5,6,16
 20987                        	.sym	width,12,5,6,16
 20988                        	.sym	height,14,5,6,16
 20989                        	.sym	color,16,14,6,8
 20990 03:58A2: 64 0D        	stz	<L918+ptr_1
 20991 03:58A4: 64 0F        	stz	<L918+ptr_1+2
 20992 03:58A6: 64 11        	stz	<L918+dx_1
 20993 03:58A8: 64 13        	stz	<L918+dx_1+2
 20994 03:58AA: 64 15        	stz	<L918+dy_1
 20995 03:58AC: 64 17        	stz	<L918+dy_1+2
 20996 03:58AE: 64 19        	stz	<L918+pixelLocation0_1
 20997 03:58B0: 64 1B        	stz	<L918+pixelLocation0_1+2
 20998 03:58B2: 64 1D        	stz	<L918+pixelLocation1_1
 20999 03:58B4: 64 1F        	stz	<L918+pixelLocation1_1+2
 21000 03:58B6: 64 21        	stz	<L918+difference_1
 21001 03:58B8: 64 23        	stz	<L918+difference_1+2
 21002 03:58BA: 64 25        	stz	<L918+fIndex_1
 21003 03:58BC: 64 27        	stz	<L918+fIndex_1+2
 21004 03:58BE: 64 29        	stz	<L918+offset_1
 21005 03:58C0: 64 2B        	stz	<L918+offset_1+2
 21006                        	.line	3498
 21007                        ;		width = 640;
 21008 03:58C2: 38           	sec
 21009 03:58C3: A9 80 02     	lda	#$280
 21010 03:58C6: E5 38        	sbc	<L917+width_0
 21011 03:58C8: 70 03        	bvs	L920
 21012 03:58CA: 49 00 80     	eor	#$8000
  Wed Nov 18 2020  8:27                                                Page 383


 21013                        L920:
 21014 03:58CD: 10 03        	bpl	L921
 21015 03:58CF: 82 05 00     	brl	L10385
 21016                        L921:
 21017                        	.line	3499
 21018 03:58D2: A9 80 02     	lda	#$280
 21019 03:58D5: 85 38        	sta	<L917+width_0
 21020                        ;	if(height > 480)
 21021                        L10385:
 21022                        	.line	3500
 21023                        ;		height = 480;
 21024 03:58D7: 38           	sec
 21025 03:58D8: A9 E0 01     	lda	#$1e0
 21026 03:58DB: E5 3A        	sbc	<L917+height_0
 21027 03:58DD: 70 03        	bvs	L922
 21028 03:58DF: 49 00 80     	eor	#$8000
 21029                        L922:
 21030 03:58E2: 10 03        	bpl	L923
 21031 03:58E4: 82 05 00     	brl	L10386
 21032                        L923:
 21033                        	.line	3501
 21034 03:58E7: A9 E0 01     	lda	#$1e0
 21035 03:58EA: 85 3A        	sta	<L917+height_0
 21036                        ;
 21037                        ;	if(width < 0)
 21038                        L10386:
 21039                        	.line	3503
 21040                        ;		width = 0;
 21041 03:58EC: A5 38        	lda	<L917+width_0
 21042 03:58EE: 30 03        	bmi	L924
 21043 03:58F0: 82 02 00     	brl	L10387
 21044                        L924:
 21045                        	.line	3504
 21046 03:58F3: 64 38        	stz	<L917+width_0
 21047                        ;	if(height < 0)
 21048                        L10387:
 21049                        	.line	3505
 21050                        ;		height = 0;
 21051 03:58F5: A5 3A        	lda	<L917+height_0
 21052 03:58F7: 30 03        	bmi	L925
 21053 03:58F9: 82 02 00     	brl	L10388
 21054                        L925:
 21055                        	.line	3506
 21056 03:58FC: 64 3A        	stz	<L917+height_0
 21057                        ;
 21058                        ;
 21059                        ;	offset = ((long)y0 + (long)height);
 21060                        L10388:
 21061                        	.line	3509
 21062 03:58FE: A0 00 00     	ldy	#$0
 21063 03:5901: A5 3A        	lda	<L917+height_0
 21064 03:5903: 10 01        	bpl	L926
 21065 03:5905: 88           	dey
 21066                        L926:
 21067 03:5906: 85 01        	sta	<R0
 21068 03:5908: 84 03        	sty	<R0+2
 21069 03:590A: A0 00 00     	ldy	#$0
 21070 03:590D: A5 36        	lda	<L917+y0_0
  Wed Nov 18 2020  8:27                                                Page 384


 21071 03:590F: 10 01        	bpl	L927
 21072 03:5911: 88           	dey
 21073                        L927:
 21074 03:5912: 85 05        	sta	<R1
 21075 03:5914: 84 07        	sty	<R1+2
 21076 03:5916: 18           	clc
 21077 03:5917: A5 05        	lda	<R1
 21078 03:5919: 65 01        	adc	<R0
 21079 03:591B: 85 29        	sta	<L918+offset_1
 21080 03:591D: A5 07        	lda	<R1+2
 21081 03:591F: 65 03        	adc	<R0+2
 21082 03:5921: 85 2B        	sta	<L918+offset_1+2
 21083                        ;
 21084                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 21085                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 21086                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 21087                        ;	difference     = width;
 21088                        	.line	3514
 21089 03:5923: A0 00 00     	ldy	#$0
 21090 03:5926: A5 38        	lda	<L917+width_0
 21091 03:5928: 10 01        	bpl	L928
 21092 03:592A: 88           	dey
 21093                        L928:
 21094 03:592B: 85 21        	sta	<L918+difference_1
 21095 03:592D: 84 23        	sty	<L918+difference_1+2
 21096                        ;
 21097                        ;	//difference = (long)(x0 + width);
 21098                        ;
 21099                        ;	/*
 21100                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 21101                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 21102                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 21103                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 21104                        ;	*/
 21105                        ;
 21106                        ;	for(dy = (long)y0;dy<offset;dy++)
 21107                        	.line	3525
 21108 03:592F: A0 00 00     	ldy	#$0
 21109 03:5932: A5 36        	lda	<L917+y0_0
 21110 03:5934: 10 01        	bpl	L929
 21111 03:5936: 88           	dey
 21112                        L929:
 21113 03:5937: 85 15        	sta	<L918+dy_1
 21114 03:5939: 84 17        	sty	<L918+dy_1+2
 21115 03:593B: 82 4E 00     	brl	L10392
 21116                        L10391:
 21117                        ;	{
 21118                        	.line	3526
 21119                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 21120                        ;		//for(dx=(long)x0;dx<difference;dx++)
  Wed Nov 18 2020  8:27                                                Page 385


 21121                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 21122                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 21123                        ;
 21124                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 21125                        	.line	3532
 21126 03:593E: A0 00 00     	ldy	#$0
 21127 03:5941: A5 34        	lda	<L917+x0_0
 21128 03:5943: 10 01        	bpl	L930
 21129 03:5945: 88           	dey
 21130                        L930:
 21131 03:5946: 85 01        	sta	<R0
 21132 03:5948: 84 03        	sty	<R0+2
 21133 03:594A: F4 00 00     	pea	#^$280
 21134 03:594D: F4 80 02     	pea	#<$280
 21135 03:5950: D4 17        	pei	<L918+dy_1+2
 21136 03:5952: D4 15        	pei	<L918+dy_1
 21137                        	xref	~~~lmul
 21138 03:5954: 22 xx xx xx  	jsl	~~~lmul
 21139 03:5958: 85 05        	sta	<R1
 21140 03:595A: 86 07        	stx	<R1+2
 21141 03:595C: 18           	clc
 21142 03:595D: A5 05        	lda	<R1
 21143 03:595F: 65 01        	adc	<R0
 21144 03:5961: 85 09        	sta	<R2
 21145 03:5963: A5 07        	lda	<R1+2
 21146 03:5965: 65 03        	adc	<R0+2
 21147 03:5967: 85 0B        	sta	<R2+2
 21148 03:5969: 18           	clc
 21149 03:596A: A5 30        	lda	<L917+bank_0
 21150 03:596C: 65 09        	adc	<R2
 21151 03:596E: 85 0D        	sta	<L918+ptr_1
 21152 03:5970: A5 32        	lda	<L917+bank_0+2
 21153 03:5972: 65 0B        	adc	<R2+2
 21154 03:5974: 85 0F        	sta	<L918+ptr_1+2
 21155                        ;
 21156                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 21157                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 21158                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 21159                        ;		memset( ptr, color , difference ) ;
 21160                        	.line	3537
 21161 03:5976: D4 21        	pei	<L918+difference_1
 21162 03:5978: A5 3C        	lda	<L917+color_0
 21163 03:597A: 29 FF 00     	and	#$ff
 21164 03:597D: 48           	pha
 21165 03:597E: D4 0F        	pei	<L918+ptr_1+2
 21166 03:5980: D4 0D        	pei	<L918+ptr_1
 21167 03:5982: 22 xx xx xx  	jsl	~~memset
 21168                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 21169                        ;		//	ptr[fIndex] = color;
 21170                        ;	}
 21171                        	.line	3540
  Wed Nov 18 2020  8:27                                                Page 386


 21172                        L10389:
 21173 03:5986: E6 15        	inc	<L918+dy_1
 21174 03:5988: D0 02        	bne	L931
 21175 03:598A: E6 17        	inc	<L918+dy_1+2
 21176                        L931:
 21177                        L10392:
 21178 03:598C: 38           	sec
 21179 03:598D: A5 15        	lda	<L918+dy_1
 21180 03:598F: E5 29        	sbc	<L918+offset_1
 21181 03:5991: A5 17        	lda	<L918+dy_1+2
 21182 03:5993: E5 2B        	sbc	<L918+offset_1+2
 21183 03:5995: 70 03        	bvs	L932
 21184 03:5997: 49 00 80     	eor	#$8000
 21185                        L932:
 21186 03:599A: 30 03        	bmi	L933
 21187 03:599C: 82 9F FF     	brl	L10391
 21188                        L933:
 21189                        L10390:
 21190                        ;
 21191                        ;}
 21192                        	.line	3542
 21193                        L934:
 21194 03:599F: A5 2E        	lda	<L917+2
 21195 03:59A1: 85 3C        	sta	<L917+2+14
 21196 03:59A3: A5 2D        	lda	<L917+1
 21197 03:59A5: 85 3B        	sta	<L917+1+14
 21198 03:59A7: 2B           	pld
 21199 03:59A8: 3B           	tsc
 21200 03:59A9: 18           	clc
 21201 03:59AA: 69 3A 00     	adc	#L917+14
 21202 03:59AD: 1B           	tcs
 21203 03:59AE: 6B           	rtl
 21204                        	.endblock	3542
 21205             0000002C   L917	equ	44
 21206             0000000D   L918	equ	13
 21207 03:59AF:              	ends
 21208                        	efunc
 21209                        	.endfunc	3542,13,44
 21210                        	.line	3542
 21211                        ;
 21212                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 21213                        ;{
 21214                        	.line	3544
 21215                        	.line	3545
 21216                        	GUI
 21217                        	xdef	~~k_shadow_fill_rect
 21218                        	func
 21219                        	.function	3545
 21220                        ~~k_shadow_fill_rect:
 21221                        	longa	on
 21222                        	longi	on
 21223 03:59AF: 3B           	tsc
 21224 03:59B0: 38           	sec
 21225 03:59B1: E9 00 00     	sbc	#L935
 21226 03:59B4: 1B           	tcs
 21227 03:59B5: 0B           	phd
 21228 03:59B6: 5B           	tcd
  Wed Nov 18 2020  8:27                                                Page 387


 21229             00000004   x0_0	set	4
 21230             00000006   y0_0	set	6
 21231             00000008   width_0	set	8
 21232             0000000A   height_0	set	10
 21233             0000000C   color_0	set	12
 21234                        	.block	3545
 21235                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 21236                        	.sym	x0,4,5,6,16
 21237                        	.sym	y0,6,5,6,16
 21238                        	.sym	width,8,5,6,16
 21239                        	.sym	height,10,5,6,16
 21240                        	.sym	color,12,14,6,8
 21241                        	.line	3546
 21242 03:59B7: D4 0C        	pei	<L935+color_0
 21243 03:59B9: D4 0A        	pei	<L935+height_0
 21244 03:59BB: D4 08        	pei	<L935+width_0
 21245 03:59BD: D4 06        	pei	<L935+y0_0
 21246 03:59BF: D4 04        	pei	<L935+x0_0
 21247 03:59C1: F4 0A 00     	pea	#^$a0000
 21248 03:59C4: F4 00 00     	pea	#<$a0000
 21249 03:59C7: 22 9A 58 03  	jsl	~~k_shadow_fill_rect_address
 21250                        ;}
 21251                        	.line	3547
 21252                        L938:
 21253 03:59CB: A5 02        	lda	<L935+2
 21254 03:59CD: 85 0C        	sta	<L935+2+10
 21255 03:59CF: A5 01        	lda	<L935+1
 21256 03:59D1: 85 0B        	sta	<L935+1+10
 21257 03:59D3: 2B           	pld
 21258 03:59D4: 3B           	tsc
 21259 03:59D5: 18           	clc
 21260 03:59D6: 69 0A 00     	adc	#L935+10
 21261 03:59D9: 1B           	tcs
 21262 03:59DA: 6B           	rtl
 21263                        	.endblock	3547
 21264             00000000   L935	equ	0
 21265             00000001   L936	equ	1
 21266 03:59DB:              	ends
 21267                        	efunc
 21268                        	.endfunc	3547,1,0
 21269                        	.line	3547
 21270                        ;
 21271                        ;/*
 21272                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 21273                        ;{
 21274                        ;	LPCHAR ptr = NULL;
 21275                        ;	ULONG dx = 0L;
 21276                        ;	long dy = 0L;
 21277                        ;	long pixelLocation0 = 0L;
 21278                        ;	long pixelLocation1 = 0L;
 21279                        ;	long difference     = 0L;
 21280                        ;	long fIndex = 0;
 21281                        ;	long offset = 0L;
 21282                        ;
 21283                        ;	if(width > 640)
 21284                        ;		width = 640;
  Wed Nov 18 2020  8:27                                                Page 388


 21285                        ;	if(height > 480)
 21286                        ;		height = 480;
 21287                        ;
 21288                        ;	if(width < 0)
 21289                        ;		width = 0;
 21290                        ;	if(height < 0)
 21291                        ;		height = 0;
 21292                        ;
 21293                        ;
 21294                        ;	offset = ((long)y0 + (long)height);
 21295                        ;
 21296                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 21297                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 21298                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 21299                        ;	difference     = width;
 21300                        ;
 21301                        ;	//difference = (long)(x0 + width);
 21302                        ;
 21303                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 21304                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
                    ght);
 21305                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 21306                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 21307                        ;
 21308                        ;
 21309                        ;	for(dy = (long)y0;dy<offset;dy++)
 21310                        ;	{
 21311                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 21312                        ;		//for(dx=(long)x0;dx<difference;dx++)
 21313                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 21314                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 21315                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 21316                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 21317                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 21318                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 21319                        ;		memset( ptr, color , difference ) ;
 21320                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 21321                        ;		//	ptr[fIndex] = color;
 21322                        ;	}
 21323                        ;
 21324                        ;}
 21325                        ;*/
 21326                        ;void k_shadow_bitblt(int x0, int y0, int width, i
                    nt height, int x1, int y1)
  Wed Nov 18 2020  8:27                                                Page 389


 21327                        ;{
 21328                        	.line	3604
 21329                        	.line	3605
 21330                        	GUI
 21331                        	xdef	~~k_shadow_bitblt
 21332                        	func
 21333                        	.function	3605
 21334                        ~~k_shadow_bitblt:
 21335                        	longa	on
 21336                        	longi	on
 21337 03:59DB: 3B           	tsc
 21338 03:59DC: 38           	sec
 21339 03:59DD: E9 20 00     	sbc	#L939
 21340 03:59E0: 1B           	tcs
 21341 03:59E1: 0B           	phd
 21342 03:59E2: 5B           	tcd
 21343             00000004   x0_0	set	4
 21344             00000006   y0_0	set	6
 21345             00000008   width_0	set	8
 21346             0000000A   height_0	set	10
 21347             0000000C   x1_0	set	12
 21348             0000000E   y1_0	set	14
 21349                        	.block	3605
 21350                        ;	long dy = 0L;
 21351                        ;	long dd = y1;
 21352                        ;
 21353                        ;	long pixelLocation0 = 0L;
 21354                        ;	long pixelLocation1 = 0L;
 21355                        ;	long pixelLocationD = 0L;
 21356                        ;	long difference     = 0L;
 21357                        ;
 21358                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 21359             00000000   dy_1	set	0
 21360             00000004   dd_1	set	4
 21361             00000008   pixelLocation0_1	set	8
 21362             0000000C   pixelLocation1_1	set	12
 21363             00000010   pixelLocationD_1	set	16
 21364             00000014   difference_1	set	20
 21365                        	.sym	dy,0,7,1,32
 21366                        	.sym	dd,4,7,1,32
 21367                        	.sym	pixelLocation0,8,7,1,32
 21368                        	.sym	pixelLocation1,12,7,1,32
 21369                        	.sym	pixelLocationD,16,7,1,32
 21370                        	.sym	difference,20,7,1,32
 21371                        	.sym	x0,4,5,6,16
 21372                        	.sym	y0,6,5,6,16
 21373                        	.sym	width,8,5,6,16
 21374                        	.sym	height,10,5,6,16
 21375                        	.sym	x1,12,5,6,16
 21376                        	.sym	y1,14,5,6,16
 21377 03:59E3: 64 09        	stz	<L940+dy_1
 21378 03:59E5: 64 0B        	stz	<L940+dy_1+2
 21379 03:59E7: A0 00 00     	ldy	#$0
 21380 03:59EA: A5 2E        	lda	<L939+y1_0
 21381 03:59EC: 10 01        	bpl	L942
 21382 03:59EE: 88           	dey
 21383                        L942:
  Wed Nov 18 2020  8:27                                                Page 390


 21384 03:59EF: 85 0D        	sta	<L940+dd_1
 21385 03:59F1: 84 0F        	sty	<L940+dd_1+2
 21386 03:59F3: 64 11        	stz	<L940+pixelLocation0_1
 21387 03:59F5: 64 13        	stz	<L940+pixelLocation0_1+2
 21388 03:59F7: 64 15        	stz	<L940+pixelLocation1_1
 21389 03:59F9: 64 17        	stz	<L940+pixelLocation1_1+2
 21390 03:59FB: 64 19        	stz	<L940+pixelLocationD_1
 21391 03:59FD: 64 1B        	stz	<L940+pixelLocationD_1+2
 21392 03:59FF: 64 1D        	stz	<L940+difference_1
 21393 03:5A01: 64 1F        	stz	<L940+difference_1+2
 21394                        	.line	3614
 21395 03:5A03: A0 00 00     	ldy	#$0
 21396 03:5A06: A5 24        	lda	<L939+x0_0
 21397 03:5A08: 10 01        	bpl	L943
 21398 03:5A0A: 88           	dey
 21399                        L943:
 21400 03:5A0B: 85 01        	sta	<R0
 21401 03:5A0D: 84 03        	sty	<R0+2
 21402 03:5A0F: A0 00 00     	ldy	#$0
 21403 03:5A12: A5 26        	lda	<L939+y0_0
 21404 03:5A14: 10 01        	bpl	L944
 21405 03:5A16: 88           	dey
 21406                        L944:
 21407 03:5A17: 85 05        	sta	<R1
 21408 03:5A19: 84 07        	sty	<R1+2
 21409 03:5A1B: F4 00 00     	pea	#^$280
 21410 03:5A1E: F4 80 02     	pea	#<$280
 21411 03:5A21: D4 07        	pei	<R1+2
 21412 03:5A23: D4 05        	pei	<R1
 21413                        	xref	~~~lmul
 21414 03:5A25: 22 xx xx xx  	jsl	~~~lmul
 21415 03:5A29: 85 05        	sta	<R1
 21416 03:5A2B: 86 07        	stx	<R1+2
 21417 03:5A2D: 18           	clc
 21418 03:5A2E: A5 05        	lda	<R1
 21419 03:5A30: 65 01        	adc	<R0
 21420 03:5A32: 85 11        	sta	<L940+pixelLocation0_1
 21421 03:5A34: A5 07        	lda	<R1+2
 21422 03:5A36: 65 03        	adc	<R0+2
 21423 03:5A38: 85 13        	sta	<L940+pixelLocation0_1+2
 21424                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 21425                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 21426                        	.line	3616
 21427 03:5A3A: A0 00 00     	ldy	#$0
 21428 03:5A3D: A5 2C        	lda	<L939+x1_0
 21429 03:5A3F: 10 01        	bpl	L945
 21430 03:5A41: 88           	dey
 21431                        L945:
 21432 03:5A42: 85 01        	sta	<R0
 21433 03:5A44: 84 03        	sty	<R0+2
 21434 03:5A46: A0 00 00     	ldy	#$0
 21435 03:5A49: A5 2E        	lda	<L939+y1_0
 21436 03:5A4B: 10 01        	bpl	L946
 21437 03:5A4D: 88           	dey
 21438                        L946:
 21439 03:5A4E: 85 05        	sta	<R1
  Wed Nov 18 2020  8:27                                                Page 391


 21440 03:5A50: 84 07        	sty	<R1+2
 21441 03:5A52: F4 00 00     	pea	#^$280
 21442 03:5A55: F4 80 02     	pea	#<$280
 21443 03:5A58: D4 07        	pei	<R1+2
 21444 03:5A5A: D4 05        	pei	<R1
 21445                        	xref	~~~lmul
 21446 03:5A5C: 22 xx xx xx  	jsl	~~~lmul
 21447 03:5A60: 85 05        	sta	<R1
 21448 03:5A62: 86 07        	stx	<R1+2
 21449 03:5A64: 18           	clc
 21450 03:5A65: A5 05        	lda	<R1
 21451 03:5A67: 65 01        	adc	<R0
 21452 03:5A69: 85 19        	sta	<L940+pixelLocationD_1
 21453 03:5A6B: A5 07        	lda	<R1+2
 21454 03:5A6D: 65 03        	adc	<R0+2
 21455 03:5A6F: 85 1B        	sta	<L940+pixelLocationD_1+2
 21456                        ;
 21457                        ;	difference = pixelLocation1 - pixelLocation0;
 21458                        	.line	3618
 21459 03:5A71: 38           	sec
 21460 03:5A72: A5 15        	lda	<L940+pixelLocation1_1
 21461 03:5A74: E5 11        	sbc	<L940+pixelLocation0_1
 21462 03:5A76: 85 1D        	sta	<L940+difference_1
 21463 03:5A78: A5 17        	lda	<L940+pixelLocation1_1+2
 21464 03:5A7A: E5 13        	sbc	<L940+pixelLocation0_1+2
 21465 03:5A7C: 85 1F        	sta	<L940+difference_1+2
 21466                        ;
 21467                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 21468                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 21469                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 21470                        ;	//k_debug_long("difference:",difference);
 21471                        ;
 21472                        ;	y0++;
 21473                        	.line	3625
 21474 03:5A7E: E6 26        	inc	<L939+y0_0
 21475                        ;	x0++;
 21476                        	.line	3626
 21477 03:5A80: E6 24        	inc	<L939+x0_0
 21478                        ;
 21479                        ;	for(dy = y0;dy<(y0 + height);dy++)
 21480                        	.line	3628
 21481 03:5A82: A0 00 00     	ldy	#$0
 21482 03:5A85: A5 26        	lda	<L939+y0_0
 21483 03:5A87: 10 01        	bpl	L947
 21484 03:5A89: 88           	dey
 21485                        L947:
 21486 03:5A8A: 85 09        	sta	<L940+dy_1
 21487 03:5A8C: 84 0B        	sty	<L940+dy_1+2
 21488 03:5A8E: 82 8E 00     	brl	L10396
 21489                        L10395:
 21490                        ;	{
 21491                        	.line	3629
 21492                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 21493                        	.line	3630
  Wed Nov 18 2020  8:27                                                Page 392


 21494 03:5A91: A0 00 00     	ldy	#$0
 21495 03:5A94: A5 24        	lda	<L939+x0_0
 21496 03:5A96: 10 01        	bpl	L948
 21497 03:5A98: 88           	dey
 21498                        L948:
 21499 03:5A99: 85 01        	sta	<R0
 21500 03:5A9B: 84 03        	sty	<R0+2
 21501 03:5A9D: F4 00 00     	pea	#^$280
 21502 03:5AA0: F4 80 02     	pea	#<$280
 21503 03:5AA3: D4 0B        	pei	<L940+dy_1+2
 21504 03:5AA5: D4 09        	pei	<L940+dy_1
 21505                        	xref	~~~lmul
 21506 03:5AA7: 22 xx xx xx  	jsl	~~~lmul
 21507 03:5AAB: 85 05        	sta	<R1
 21508 03:5AAD: 86 07        	stx	<R1+2
 21509 03:5AAF: 18           	clc
 21510 03:5AB0: A5 05        	lda	<R1
 21511 03:5AB2: 65 01        	adc	<R0
 21512 03:5AB4: 85 11        	sta	<L940+pixelLocation0_1
 21513 03:5AB6: A5 07        	lda	<R1+2
 21514 03:5AB8: 65 03        	adc	<R0+2
 21515 03:5ABA: 85 13        	sta	<L940+pixelLocation0_1+2
 21516                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 21517                        	.line	3631
 21518 03:5ABC: A0 00 00     	ldy	#$0
 21519 03:5ABF: A5 2C        	lda	<L939+x1_0
 21520 03:5AC1: 10 01        	bpl	L949
 21521 03:5AC3: 88           	dey
 21522                        L949:
 21523 03:5AC4: 85 01        	sta	<R0
 21524 03:5AC6: 84 03        	sty	<R0+2
 21525 03:5AC8: F4 00 00     	pea	#^$280
 21526 03:5ACB: F4 80 02     	pea	#<$280
 21527 03:5ACE: D4 0F        	pei	<L940+dd_1+2
 21528 03:5AD0: D4 0D        	pei	<L940+dd_1
 21529                        	xref	~~~lmul
 21530 03:5AD2: 22 xx xx xx  	jsl	~~~lmul
 21531 03:5AD6: 85 05        	sta	<R1
 21532 03:5AD8: 86 07        	stx	<R1+2
 21533 03:5ADA: 18           	clc
 21534 03:5ADB: A5 05        	lda	<R1
 21535 03:5ADD: 65 01        	adc	<R0
 21536 03:5ADF: 85 19        	sta	<L940+pixelLocationD_1
 21537 03:5AE1: A5 07        	lda	<R1+2
 21538 03:5AE3: 65 03        	adc	<R0+2
 21539 03:5AE5: 85 1B        	sta	<L940+pixelLocationD_1+2
 21540                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 21541                        	.line	3632
 21542 03:5AE7: D4 1D        	pei	<L940+difference_1
 21543 03:5AE9: 18           	clc
 21544 03:5AEA: A9 00 00     	lda	#$0
 21545 03:5AED: 65 11        	adc	<L940+pixelLocation0_1
 21546 03:5AEF: 85 01        	sta	<R0
 21547 03:5AF1: A9 0A 00     	lda	#$a
 21548 03:5AF4: 65 13        	adc	<L940+pixelLocation0_1+2
 21549 03:5AF6: 85 03        	sta	<R0+2
  Wed Nov 18 2020  8:27                                                Page 393


 21550 03:5AF8: D4 03        	pei	<R0+2
 21551 03:5AFA: D4 01        	pei	<R0
 21552 03:5AFC: 18           	clc
 21553 03:5AFD: A9 00 00     	lda	#$0
 21554 03:5B00: 65 19        	adc	<L940+pixelLocationD_1
 21555 03:5B02: 85 05        	sta	<R1
 21556 03:5B04: A9 B0 00     	lda	#$b0
 21557 03:5B07: 65 1B        	adc	<L940+pixelLocationD_1+2
 21558 03:5B09: 85 07        	sta	<R1+2
 21559 03:5B0B: D4 07        	pei	<R1+2
 21560 03:5B0D: D4 05        	pei	<R1
 21561 03:5B0F: 22 xx xx xx  	jsl	~~memcpy
 21562                        ;
 21563                        ;		dd++;
 21564                        	.line	3634
 21565 03:5B13: E6 0D        	inc	<L940+dd_1
 21566 03:5B15: D0 02        	bne	L950
 21567 03:5B17: E6 0F        	inc	<L940+dd_1+2
 21568                        L950:
 21569                        ;	}
 21570                        	.line	3635
 21571                        L10393:
 21572 03:5B19: E6 09        	inc	<L940+dy_1
 21573 03:5B1B: D0 02        	bne	L951
 21574 03:5B1D: E6 0B        	inc	<L940+dy_1+2
 21575                        L951:
 21576                        L10396:
 21577 03:5B1F: 18           	clc
 21578 03:5B20: A5 26        	lda	<L939+y0_0
 21579 03:5B22: 65 2A        	adc	<L939+height_0
 21580 03:5B24: 85 01        	sta	<R0
 21581 03:5B26: A0 00 00     	ldy	#$0
 21582 03:5B29: A5 01        	lda	<R0
 21583 03:5B2B: 10 01        	bpl	L952
 21584 03:5B2D: 88           	dey
 21585                        L952:
 21586 03:5B2E: 85 01        	sta	<R0
 21587 03:5B30: 84 03        	sty	<R0+2
 21588 03:5B32: 38           	sec
 21589 03:5B33: A5 09        	lda	<L940+dy_1
 21590 03:5B35: E5 01        	sbc	<R0
 21591 03:5B37: A5 0B        	lda	<L940+dy_1+2
 21592 03:5B39: E5 03        	sbc	<R0+2
 21593 03:5B3B: 70 03        	bvs	L953
 21594 03:5B3D: 49 00 80     	eor	#$8000
 21595                        L953:
 21596 03:5B40: 30 03        	bmi	L954
 21597 03:5B42: 82 4C FF     	brl	L10395
 21598                        L954:
 21599                        L10394:
 21600                        ;
 21601                        ;}
 21602                        	.line	3637
 21603                        L955:
 21604 03:5B45: A5 22        	lda	<L939+2
 21605 03:5B47: 85 2E        	sta	<L939+2+12
 21606 03:5B49: A5 21        	lda	<L939+1
 21607 03:5B4B: 85 2D        	sta	<L939+1+12
  Wed Nov 18 2020  8:27                                                Page 394


 21608 03:5B4D: 2B           	pld
 21609 03:5B4E: 3B           	tsc
 21610 03:5B4F: 18           	clc
 21611 03:5B50: 69 2C 00     	adc	#L939+12
 21612 03:5B53: 1B           	tcs
 21613 03:5B54: 6B           	rtl
 21614                        	.endblock	3637
 21615             00000020   L939	equ	32
 21616             00000009   L940	equ	9
 21617 03:5B55:              	ends
 21618                        	efunc
 21619                        	.endfunc	3637,9,32
 21620                        	.line	3637
 21621                        ;
 21622                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 21623                        ;{
 21624                        	.line	3639
 21625                        	.line	3640
 21626                        	GUI
 21627                        	xdef	~~k_scratch_save_bitblt
 21628                        	func
 21629                        	.function	3640
 21630                        ~~k_scratch_save_bitblt:
 21631                        	longa	on
 21632                        	longi	on
 21633 03:5B55: 3B           	tsc
 21634 03:5B56: 38           	sec
 21635 03:5B57: E9 20 00     	sbc	#L956
 21636 03:5B5A: 1B           	tcs
 21637 03:5B5B: 0B           	phd
 21638 03:5B5C: 5B           	tcd
 21639             00000004   x0_0	set	4
 21640             00000006   y0_0	set	6
 21641             00000008   width_0	set	8
 21642             0000000A   height_0	set	10
 21643             0000000C   x1_0	set	12
 21644             0000000E   y1_0	set	14
 21645                        	.block	3640
 21646                        ;	long dy = 0L;
 21647                        ;	long dd = y1;
 21648                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 21649                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 21650                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 21651                        ;
 21652                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 21653                        ;
 21654                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 21655                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 21656                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 21657                        ;	//k_debug_long("difference:",difference);
  Wed Nov 18 2020  8:27                                                Page 395


 21658                        ;
 21659                        ;
 21660                        ;
 21661                        ;	for(dy = y0;dy<(y0 + height);dy++)
 21662             00000000   dy_1	set	0
 21663             00000004   dd_1	set	4
 21664             00000008   pixelLocation0_1	set	8
 21665             0000000C   pixelLocation1_1	set	12
 21666             00000010   pixelLocationD_1	set	16
 21667             00000014   difference_1	set	20
 21668                        	.sym	dy,0,7,1,32
 21669                        	.sym	dd,4,7,1,32
 21670                        	.sym	pixelLocation0,8,7,1,32
 21671                        	.sym	pixelLocation1,12,7,1,32
 21672                        	.sym	pixelLocationD,16,7,1,32
 21673                        	.sym	difference,20,7,1,32
 21674                        	.sym	x0,4,5,6,16
 21675                        	.sym	y0,6,5,6,16
 21676                        	.sym	width,8,5,6,16
 21677                        	.sym	height,10,5,6,16
 21678                        	.sym	x1,12,5,6,16
 21679                        	.sym	y1,14,5,6,16
 21680 03:5B5D: 64 09        	stz	<L957+dy_1
 21681 03:5B5F: 64 0B        	stz	<L957+dy_1+2
 21682 03:5B61: A0 00 00     	ldy	#$0
 21683 03:5B64: A5 2E        	lda	<L956+y1_0
 21684 03:5B66: 10 01        	bpl	L959
 21685 03:5B68: 88           	dey
 21686                        L959:
 21687 03:5B69: 85 0D        	sta	<L957+dd_1
 21688 03:5B6B: 84 0F        	sty	<L957+dd_1+2
 21689 03:5B6D: A0 00 00     	ldy	#$0
 21690 03:5B70: A5 24        	lda	<L956+x0_0
 21691 03:5B72: 10 01        	bpl	L960
 21692 03:5B74: 88           	dey
 21693                        L960:
 21694 03:5B75: 85 01        	sta	<R0
 21695 03:5B77: 84 03        	sty	<R0+2
 21696 03:5B79: A0 00 00     	ldy	#$0
 21697 03:5B7C: A5 26        	lda	<L956+y0_0
 21698 03:5B7E: 10 01        	bpl	L961
 21699 03:5B80: 88           	dey
 21700                        L961:
 21701 03:5B81: 85 05        	sta	<R1
 21702 03:5B83: 84 07        	sty	<R1+2
 21703 03:5B85: F4 00 00     	pea	#^$280
 21704 03:5B88: F4 80 02     	pea	#<$280
 21705 03:5B8B: D4 07        	pei	<R1+2
 21706 03:5B8D: D4 05        	pei	<R1
 21707                        	xref	~~~lmul
 21708 03:5B8F: 22 xx xx xx  	jsl	~~~lmul
 21709 03:5B93: 85 05        	sta	<R1
 21710 03:5B95: 86 07        	stx	<R1+2
 21711 03:5B97: 18           	clc
 21712 03:5B98: A5 05        	lda	<R1
 21713 03:5B9A: 65 01        	adc	<R0
 21714 03:5B9C: 85 11        	sta	<L957+pixelLocation0_1
 21715 03:5B9E: A5 07        	lda	<R1+2
  Wed Nov 18 2020  8:27                                                Page 396


 21716 03:5BA0: 65 03        	adc	<R0+2
 21717 03:5BA2: 85 13        	sta	<L957+pixelLocation0_1+2
 21718 03:5BA4: 18           	clc
 21719 03:5BA5: A5 24        	lda	<L956+x0_0
 21720 03:5BA7: 65 28        	adc	<L956+width_0
 21721 03:5BA9: 85 01        	sta	<R0
 21722 03:5BAB: A0 00 00     	ldy	#$0
 21723 03:5BAE: A5 01        	lda	<R0
 21724 03:5BB0: 10 01        	bpl	L962
 21725 03:5BB2: 88           	dey
 21726                        L962:
 21727 03:5BB3: 85 01        	sta	<R0
 21728 03:5BB5: 84 03        	sty	<R0+2
 21729 03:5BB7: A0 00 00     	ldy	#$0
 21730 03:5BBA: A5 26        	lda	<L956+y0_0
 21731 03:5BBC: 10 01        	bpl	L963
 21732 03:5BBE: 88           	dey
 21733                        L963:
 21734 03:5BBF: 85 05        	sta	<R1
 21735 03:5BC1: 84 07        	sty	<R1+2
 21736 03:5BC3: F4 00 00     	pea	#^$280
 21737 03:5BC6: F4 80 02     	pea	#<$280
 21738 03:5BC9: D4 07        	pei	<R1+2
 21739 03:5BCB: D4 05        	pei	<R1
 21740                        	xref	~~~lmul
 21741 03:5BCD: 22 xx xx xx  	jsl	~~~lmul
 21742 03:5BD1: 85 05        	sta	<R1
 21743 03:5BD3: 86 07        	stx	<R1+2
 21744 03:5BD5: 18           	clc
 21745 03:5BD6: A5 05        	lda	<R1
 21746 03:5BD8: 65 01        	adc	<R0
 21747 03:5BDA: 85 15        	sta	<L957+pixelLocation1_1
 21748 03:5BDC: A5 07        	lda	<R1+2
 21749 03:5BDE: 65 03        	adc	<R0+2
 21750 03:5BE0: 85 17        	sta	<L957+pixelLocation1_1+2
 21751 03:5BE2: A0 00 00     	ldy	#$0
 21752 03:5BE5: A5 2C        	lda	<L956+x1_0
 21753 03:5BE7: 10 01        	bpl	L964
 21754 03:5BE9: 88           	dey
 21755                        L964:
 21756 03:5BEA: 85 01        	sta	<R0
 21757 03:5BEC: 84 03        	sty	<R0+2
 21758 03:5BEE: A0 00 00     	ldy	#$0
 21759 03:5BF1: A5 2E        	lda	<L956+y1_0
 21760 03:5BF3: 10 01        	bpl	L965
 21761 03:5BF5: 88           	dey
 21762                        L965:
 21763 03:5BF6: 85 05        	sta	<R1
 21764 03:5BF8: 84 07        	sty	<R1+2
 21765 03:5BFA: F4 00 00     	pea	#^$280
 21766 03:5BFD: F4 80 02     	pea	#<$280
 21767 03:5C00: D4 07        	pei	<R1+2
 21768 03:5C02: D4 05        	pei	<R1
 21769                        	xref	~~~lmul
 21770 03:5C04: 22 xx xx xx  	jsl	~~~lmul
 21771 03:5C08: 85 05        	sta	<R1
 21772 03:5C0A: 86 07        	stx	<R1+2
 21773 03:5C0C: 18           	clc
  Wed Nov 18 2020  8:27                                                Page 397


 21774 03:5C0D: A5 05        	lda	<R1
 21775 03:5C0F: 65 01        	adc	<R0
 21776 03:5C11: 85 19        	sta	<L957+pixelLocationD_1
 21777 03:5C13: A5 07        	lda	<R1+2
 21778 03:5C15: 65 03        	adc	<R0+2
 21779 03:5C17: 85 1B        	sta	<L957+pixelLocationD_1+2
 21780 03:5C19: A0 00 00     	ldy	#$0
 21781 03:5C1C: A5 28        	lda	<L956+width_0
 21782 03:5C1E: 10 01        	bpl	L966
 21783 03:5C20: 88           	dey
 21784                        L966:
 21785 03:5C21: 85 1D        	sta	<L957+difference_1
 21786 03:5C23: 84 1F        	sty	<L957+difference_1+2
 21787                        	.line	3656
 21788 03:5C25: A0 00 00     	ldy	#$0
 21789 03:5C28: A5 26        	lda	<L956+y0_0
 21790 03:5C2A: 10 01        	bpl	L967
 21791 03:5C2C: 88           	dey
 21792                        L967:
 21793 03:5C2D: 85 09        	sta	<L957+dy_1
 21794 03:5C2F: 84 0B        	sty	<L957+dy_1+2
 21795 03:5C31: 82 8E 00     	brl	L10400
 21796                        L10399:
 21797                        ;	{
 21798                        	.line	3657
 21799                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 21800                        	.line	3658
 21801 03:5C34: A0 00 00     	ldy	#$0
 21802 03:5C37: A5 24        	lda	<L956+x0_0
 21803 03:5C39: 10 01        	bpl	L968
 21804 03:5C3B: 88           	dey
 21805                        L968:
 21806 03:5C3C: 85 01        	sta	<R0
 21807 03:5C3E: 84 03        	sty	<R0+2
 21808 03:5C40: F4 00 00     	pea	#^$280
 21809 03:5C43: F4 80 02     	pea	#<$280
 21810 03:5C46: D4 0B        	pei	<L957+dy_1+2
 21811 03:5C48: D4 09        	pei	<L957+dy_1
 21812                        	xref	~~~lmul
 21813 03:5C4A: 22 xx xx xx  	jsl	~~~lmul
 21814 03:5C4E: 85 05        	sta	<R1
 21815 03:5C50: 86 07        	stx	<R1+2
 21816 03:5C52: 18           	clc
 21817 03:5C53: A5 05        	lda	<R1
 21818 03:5C55: 65 01        	adc	<R0
 21819 03:5C57: 85 11        	sta	<L957+pixelLocation0_1
 21820 03:5C59: A5 07        	lda	<R1+2
 21821 03:5C5B: 65 03        	adc	<R0+2
 21822 03:5C5D: 85 13        	sta	<L957+pixelLocation0_1+2
 21823                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 21824                        	.line	3659
 21825 03:5C5F: A0 00 00     	ldy	#$0
 21826 03:5C62: A5 2C        	lda	<L956+x1_0
 21827 03:5C64: 10 01        	bpl	L969
 21828 03:5C66: 88           	dey
 21829                        L969:
  Wed Nov 18 2020  8:27                                                Page 398


 21830 03:5C67: 85 01        	sta	<R0
 21831 03:5C69: 84 03        	sty	<R0+2
 21832 03:5C6B: F4 00 00     	pea	#^$280
 21833 03:5C6E: F4 80 02     	pea	#<$280
 21834 03:5C71: D4 0F        	pei	<L957+dd_1+2
 21835 03:5C73: D4 0D        	pei	<L957+dd_1
 21836                        	xref	~~~lmul
 21837 03:5C75: 22 xx xx xx  	jsl	~~~lmul
 21838 03:5C79: 85 05        	sta	<R1
 21839 03:5C7B: 86 07        	stx	<R1+2
 21840 03:5C7D: 18           	clc
 21841 03:5C7E: A5 05        	lda	<R1
 21842 03:5C80: 65 01        	adc	<R0
 21843 03:5C82: 85 19        	sta	<L957+pixelLocationD_1
 21844 03:5C84: A5 07        	lda	<R1+2
 21845 03:5C86: 65 03        	adc	<R0+2
 21846 03:5C88: 85 1B        	sta	<L957+pixelLocationD_1+2
 21847                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 21848                        	.line	3660
 21849 03:5C8A: D4 1D        	pei	<L957+difference_1
 21850 03:5C8C: 18           	clc
 21851 03:5C8D: A9 00 00     	lda	#$0
 21852 03:5C90: 65 11        	adc	<L957+pixelLocation0_1
 21853 03:5C92: 85 01        	sta	<R0
 21854 03:5C94: A9 0A 00     	lda	#$a
 21855 03:5C97: 65 13        	adc	<L957+pixelLocation0_1+2
 21856 03:5C99: 85 03        	sta	<R0+2
 21857 03:5C9B: D4 03        	pei	<R0+2
 21858 03:5C9D: D4 01        	pei	<R0
 21859 03:5C9F: 18           	clc
 21860 03:5CA0: A9 00 00     	lda	#$0
 21861 03:5CA3: 65 19        	adc	<L957+pixelLocationD_1
 21862 03:5CA5: 85 05        	sta	<R1
 21863 03:5CA7: A9 0F 00     	lda	#$f
 21864 03:5CAA: 65 1B        	adc	<L957+pixelLocationD_1+2
 21865 03:5CAC: 85 07        	sta	<R1+2
 21866 03:5CAE: D4 07        	pei	<R1+2
 21867 03:5CB0: D4 05        	pei	<R1
 21868 03:5CB2: 22 xx xx xx  	jsl	~~memcpy
 21869                        ;
 21870                        ;		dd++;
 21871                        	.line	3662
 21872 03:5CB6: E6 0D        	inc	<L957+dd_1
 21873 03:5CB8: D0 02        	bne	L970
 21874 03:5CBA: E6 0F        	inc	<L957+dd_1+2
 21875                        L970:
 21876                        ;	}
 21877                        	.line	3663
 21878                        L10397:
 21879 03:5CBC: E6 09        	inc	<L957+dy_1
 21880 03:5CBE: D0 02        	bne	L971
 21881 03:5CC0: E6 0B        	inc	<L957+dy_1+2
 21882                        L971:
 21883                        L10400:
 21884 03:5CC2: 18           	clc
 21885 03:5CC3: A5 26        	lda	<L956+y0_0
 21886 03:5CC5: 65 2A        	adc	<L956+height_0
  Wed Nov 18 2020  8:27                                                Page 399


 21887 03:5CC7: 85 01        	sta	<R0
 21888 03:5CC9: A0 00 00     	ldy	#$0
 21889 03:5CCC: A5 01        	lda	<R0
 21890 03:5CCE: 10 01        	bpl	L972
 21891 03:5CD0: 88           	dey
 21892                        L972:
 21893 03:5CD1: 85 01        	sta	<R0
 21894 03:5CD3: 84 03        	sty	<R0+2
 21895 03:5CD5: 38           	sec
 21896 03:5CD6: A5 09        	lda	<L957+dy_1
 21897 03:5CD8: E5 01        	sbc	<R0
 21898 03:5CDA: A5 0B        	lda	<L957+dy_1+2
 21899 03:5CDC: E5 03        	sbc	<R0+2
 21900 03:5CDE: 70 03        	bvs	L973
 21901 03:5CE0: 49 00 80     	eor	#$8000
 21902                        L973:
 21903 03:5CE3: 30 03        	bmi	L974
 21904 03:5CE5: 82 4C FF     	brl	L10399
 21905                        L974:
 21906                        L10398:
 21907                        ;
 21908                        ;}
 21909                        	.line	3665
 21910                        L975:
 21911 03:5CE8: A5 22        	lda	<L956+2
 21912 03:5CEA: 85 2E        	sta	<L956+2+12
 21913 03:5CEC: A5 21        	lda	<L956+1
 21914 03:5CEE: 85 2D        	sta	<L956+1+12
 21915 03:5CF0: 2B           	pld
 21916 03:5CF1: 3B           	tsc
 21917 03:5CF2: 18           	clc
 21918 03:5CF3: 69 2C 00     	adc	#L956+12
 21919 03:5CF6: 1B           	tcs
 21920 03:5CF7: 6B           	rtl
 21921                        	.endblock	3665
 21922             00000020   L956	equ	32
 21923             00000009   L957	equ	9
 21924 03:5CF8:              	ends
 21925                        	efunc
 21926                        	.endfunc	3665,9,32
 21927                        	.line	3665
 21928                        ;
 21929                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 21930                        ;{
 21931                        	.line	3667
 21932                        	.line	3668
 21933                        	GUI
 21934                        	xdef	~~k_scratch_restore_bitblt
 21935                        	func
 21936                        	.function	3668
 21937                        ~~k_scratch_restore_bitblt:
 21938                        	longa	on
 21939                        	longi	on
 21940 03:5CF8: 3B           	tsc
 21941 03:5CF9: 38           	sec
 21942 03:5CFA: E9 20 00     	sbc	#L976
 21943 03:5CFD: 1B           	tcs
  Wed Nov 18 2020  8:27                                                Page 400


 21944 03:5CFE: 0B           	phd
 21945 03:5CFF: 5B           	tcd
 21946             00000004   x0_0	set	4
 21947             00000006   y0_0	set	6
 21948             00000008   width_0	set	8
 21949             0000000A   height_0	set	10
 21950             0000000C   x1_0	set	12
 21951             0000000E   y1_0	set	14
 21952                        	.block	3668
 21953                        ;	long dy = 0L;
 21954                        ;	long dd = y1;
 21955                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 21956                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 21957                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 21958                        ;
 21959                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 21960                        ;
 21961                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 21962                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 21963                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 21964                        ;	//k_debug_long("difference:",difference);
 21965                        ;
 21966                        ;
 21967                        ;
 21968                        ;	for(dy = y0;dy<(y0 + height);dy++)
 21969             00000000   dy_1	set	0
 21970             00000004   dd_1	set	4
 21971             00000008   pixelLocation0_1	set	8
 21972             0000000C   pixelLocation1_1	set	12
 21973             00000010   pixelLocationD_1	set	16
 21974             00000014   difference_1	set	20
 21975                        	.sym	dy,0,7,1,32
 21976                        	.sym	dd,4,7,1,32
 21977                        	.sym	pixelLocation0,8,7,1,32
 21978                        	.sym	pixelLocation1,12,7,1,32
 21979                        	.sym	pixelLocationD,16,7,1,32
 21980                        	.sym	difference,20,7,1,32
 21981                        	.sym	x0,4,5,6,16
 21982                        	.sym	y0,6,5,6,16
 21983                        	.sym	width,8,5,6,16
 21984                        	.sym	height,10,5,6,16
 21985                        	.sym	x1,12,5,6,16
 21986                        	.sym	y1,14,5,6,16
 21987 03:5D00: 64 09        	stz	<L977+dy_1
 21988 03:5D02: 64 0B        	stz	<L977+dy_1+2
 21989 03:5D04: A0 00 00     	ldy	#$0
 21990 03:5D07: A5 2E        	lda	<L976+y1_0
 21991 03:5D09: 10 01        	bpl	L979
 21992 03:5D0B: 88           	dey
 21993                        L979:
 21994 03:5D0C: 85 0D        	sta	<L977+dd_1
  Wed Nov 18 2020  8:27                                                Page 401


 21995 03:5D0E: 84 0F        	sty	<L977+dd_1+2
 21996 03:5D10: A0 00 00     	ldy	#$0
 21997 03:5D13: A5 24        	lda	<L976+x0_0
 21998 03:5D15: 10 01        	bpl	L980
 21999 03:5D17: 88           	dey
 22000                        L980:
 22001 03:5D18: 85 01        	sta	<R0
 22002 03:5D1A: 84 03        	sty	<R0+2
 22003 03:5D1C: A0 00 00     	ldy	#$0
 22004 03:5D1F: A5 26        	lda	<L976+y0_0
 22005 03:5D21: 10 01        	bpl	L981
 22006 03:5D23: 88           	dey
 22007                        L981:
 22008 03:5D24: 85 05        	sta	<R1
 22009 03:5D26: 84 07        	sty	<R1+2
 22010 03:5D28: F4 00 00     	pea	#^$280
 22011 03:5D2B: F4 80 02     	pea	#<$280
 22012 03:5D2E: D4 07        	pei	<R1+2
 22013 03:5D30: D4 05        	pei	<R1
 22014                        	xref	~~~lmul
 22015 03:5D32: 22 xx xx xx  	jsl	~~~lmul
 22016 03:5D36: 85 05        	sta	<R1
 22017 03:5D38: 86 07        	stx	<R1+2
 22018 03:5D3A: 18           	clc
 22019 03:5D3B: A5 05        	lda	<R1
 22020 03:5D3D: 65 01        	adc	<R0
 22021 03:5D3F: 85 11        	sta	<L977+pixelLocation0_1
 22022 03:5D41: A5 07        	lda	<R1+2
 22023 03:5D43: 65 03        	adc	<R0+2
 22024 03:5D45: 85 13        	sta	<L977+pixelLocation0_1+2
 22025 03:5D47: 18           	clc
 22026 03:5D48: A5 24        	lda	<L976+x0_0
 22027 03:5D4A: 65 28        	adc	<L976+width_0
 22028 03:5D4C: 85 01        	sta	<R0
 22029 03:5D4E: A0 00 00     	ldy	#$0
 22030 03:5D51: A5 01        	lda	<R0
 22031 03:5D53: 10 01        	bpl	L982
 22032 03:5D55: 88           	dey
 22033                        L982:
 22034 03:5D56: 85 01        	sta	<R0
 22035 03:5D58: 84 03        	sty	<R0+2
 22036 03:5D5A: A0 00 00     	ldy	#$0
 22037 03:5D5D: A5 26        	lda	<L976+y0_0
 22038 03:5D5F: 10 01        	bpl	L983
 22039 03:5D61: 88           	dey
 22040                        L983:
 22041 03:5D62: 85 05        	sta	<R1
 22042 03:5D64: 84 07        	sty	<R1+2
 22043 03:5D66: F4 00 00     	pea	#^$280
 22044 03:5D69: F4 80 02     	pea	#<$280
 22045 03:5D6C: D4 07        	pei	<R1+2
 22046 03:5D6E: D4 05        	pei	<R1
 22047                        	xref	~~~lmul
 22048 03:5D70: 22 xx xx xx  	jsl	~~~lmul
 22049 03:5D74: 85 05        	sta	<R1
 22050 03:5D76: 86 07        	stx	<R1+2
 22051 03:5D78: 18           	clc
 22052 03:5D79: A5 05        	lda	<R1
  Wed Nov 18 2020  8:27                                                Page 402


 22053 03:5D7B: 65 01        	adc	<R0
 22054 03:5D7D: 85 15        	sta	<L977+pixelLocation1_1
 22055 03:5D7F: A5 07        	lda	<R1+2
 22056 03:5D81: 65 03        	adc	<R0+2
 22057 03:5D83: 85 17        	sta	<L977+pixelLocation1_1+2
 22058 03:5D85: A0 00 00     	ldy	#$0
 22059 03:5D88: A5 2C        	lda	<L976+x1_0
 22060 03:5D8A: 10 01        	bpl	L984
 22061 03:5D8C: 88           	dey
 22062                        L984:
 22063 03:5D8D: 85 01        	sta	<R0
 22064 03:5D8F: 84 03        	sty	<R0+2
 22065 03:5D91: A0 00 00     	ldy	#$0
 22066 03:5D94: A5 2E        	lda	<L976+y1_0
 22067 03:5D96: 10 01        	bpl	L985
 22068 03:5D98: 88           	dey
 22069                        L985:
 22070 03:5D99: 85 05        	sta	<R1
 22071 03:5D9B: 84 07        	sty	<R1+2
 22072 03:5D9D: F4 00 00     	pea	#^$280
 22073 03:5DA0: F4 80 02     	pea	#<$280
 22074 03:5DA3: D4 07        	pei	<R1+2
 22075 03:5DA5: D4 05        	pei	<R1
 22076                        	xref	~~~lmul
 22077 03:5DA7: 22 xx xx xx  	jsl	~~~lmul
 22078 03:5DAB: 85 05        	sta	<R1
 22079 03:5DAD: 86 07        	stx	<R1+2
 22080 03:5DAF: 18           	clc
 22081 03:5DB0: A5 05        	lda	<R1
 22082 03:5DB2: 65 01        	adc	<R0
 22083 03:5DB4: 85 19        	sta	<L977+pixelLocationD_1
 22084 03:5DB6: A5 07        	lda	<R1+2
 22085 03:5DB8: 65 03        	adc	<R0+2
 22086 03:5DBA: 85 1B        	sta	<L977+pixelLocationD_1+2
 22087 03:5DBC: A0 00 00     	ldy	#$0
 22088 03:5DBF: A5 28        	lda	<L976+width_0
 22089 03:5DC1: 10 01        	bpl	L986
 22090 03:5DC3: 88           	dey
 22091                        L986:
 22092 03:5DC4: 85 1D        	sta	<L977+difference_1
 22093 03:5DC6: 84 1F        	sty	<L977+difference_1+2
 22094                        	.line	3684
 22095 03:5DC8: A0 00 00     	ldy	#$0
 22096 03:5DCB: A5 26        	lda	<L976+y0_0
 22097 03:5DCD: 10 01        	bpl	L987
 22098 03:5DCF: 88           	dey
 22099                        L987:
 22100 03:5DD0: 85 09        	sta	<L977+dy_1
 22101 03:5DD2: 84 0B        	sty	<L977+dy_1+2
 22102 03:5DD4: 82 BA 00     	brl	L10404
 22103                        L10403:
 22104                        ;	{
 22105                        	.line	3685
 22106                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 22107                        	.line	3686
 22108 03:5DD7: A0 00 00     	ldy	#$0
 22109 03:5DDA: A5 24        	lda	<L976+x0_0
  Wed Nov 18 2020  8:27                                                Page 403


 22110 03:5DDC: 10 01        	bpl	L988
 22111 03:5DDE: 88           	dey
 22112                        L988:
 22113 03:5DDF: 85 01        	sta	<R0
 22114 03:5DE1: 84 03        	sty	<R0+2
 22115 03:5DE3: F4 00 00     	pea	#^$280
 22116 03:5DE6: F4 80 02     	pea	#<$280
 22117 03:5DE9: D4 0B        	pei	<L977+dy_1+2
 22118 03:5DEB: D4 09        	pei	<L977+dy_1
 22119                        	xref	~~~lmul
 22120 03:5DED: 22 xx xx xx  	jsl	~~~lmul
 22121 03:5DF1: 85 05        	sta	<R1
 22122 03:5DF3: 86 07        	stx	<R1+2
 22123 03:5DF5: 18           	clc
 22124 03:5DF6: A5 05        	lda	<R1
 22125 03:5DF8: 65 01        	adc	<R0
 22126 03:5DFA: 85 11        	sta	<L977+pixelLocation0_1
 22127 03:5DFC: A5 07        	lda	<R1+2
 22128 03:5DFE: 65 03        	adc	<R0+2
 22129 03:5E00: 85 13        	sta	<L977+pixelLocation0_1+2
 22130                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 22131                        	.line	3687
 22132 03:5E02: A0 00 00     	ldy	#$0
 22133 03:5E05: A5 2C        	lda	<L976+x1_0
 22134 03:5E07: 10 01        	bpl	L989
 22135 03:5E09: 88           	dey
 22136                        L989:
 22137 03:5E0A: 85 01        	sta	<R0
 22138 03:5E0C: 84 03        	sty	<R0+2
 22139 03:5E0E: F4 00 00     	pea	#^$280
 22140 03:5E11: F4 80 02     	pea	#<$280
 22141 03:5E14: D4 0F        	pei	<L977+dd_1+2
 22142 03:5E16: D4 0D        	pei	<L977+dd_1
 22143                        	xref	~~~lmul
 22144 03:5E18: 22 xx xx xx  	jsl	~~~lmul
 22145 03:5E1C: 85 05        	sta	<R1
 22146 03:5E1E: 86 07        	stx	<R1+2
 22147 03:5E20: 18           	clc
 22148 03:5E21: A5 05        	lda	<R1
 22149 03:5E23: 65 01        	adc	<R0
 22150 03:5E25: 85 19        	sta	<L977+pixelLocationD_1
 22151 03:5E27: A5 07        	lda	<R1+2
 22152 03:5E29: 65 03        	adc	<R0+2
 22153 03:5E2B: 85 1B        	sta	<L977+pixelLocationD_1+2
 22154                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 22155                        	.line	3688
 22156 03:5E2D: D4 1D        	pei	<L977+difference_1
 22157 03:5E2F: 18           	clc
 22158 03:5E30: A9 00 00     	lda	#$0
 22159 03:5E33: 65 11        	adc	<L977+pixelLocation0_1
 22160 03:5E35: 85 01        	sta	<R0
 22161 03:5E37: A9 0F 00     	lda	#$f
 22162 03:5E3A: 65 13        	adc	<L977+pixelLocation0_1+2
 22163 03:5E3C: 85 03        	sta	<R0+2
 22164 03:5E3E: D4 03        	pei	<R0+2
 22165 03:5E40: D4 01        	pei	<R0
  Wed Nov 18 2020  8:27                                                Page 404


 22166 03:5E42: 18           	clc
 22167 03:5E43: A9 00 00     	lda	#$0
 22168 03:5E46: 65 19        	adc	<L977+pixelLocationD_1
 22169 03:5E48: 85 05        	sta	<R1
 22170 03:5E4A: A9 B0 00     	lda	#$b0
 22171 03:5E4D: 65 1B        	adc	<L977+pixelLocationD_1+2
 22172 03:5E4F: 85 07        	sta	<R1+2
 22173 03:5E51: D4 07        	pei	<R1+2
 22174 03:5E53: D4 05        	pei	<R1
 22175 03:5E55: 22 xx xx xx  	jsl	~~memcpy
 22176                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 22177                        	.line	3689
 22178 03:5E59: D4 1D        	pei	<L977+difference_1
 22179 03:5E5B: 18           	clc
 22180 03:5E5C: A9 00 00     	lda	#$0
 22181 03:5E5F: 65 11        	adc	<L977+pixelLocation0_1
 22182 03:5E61: 85 01        	sta	<R0
 22183 03:5E63: A9 0F 00     	lda	#$f
 22184 03:5E66: 65 13        	adc	<L977+pixelLocation0_1+2
 22185 03:5E68: 85 03        	sta	<R0+2
 22186 03:5E6A: D4 03        	pei	<R0+2
 22187 03:5E6C: D4 01        	pei	<R0
 22188 03:5E6E: 18           	clc
 22189 03:5E6F: A9 00 00     	lda	#$0
 22190 03:5E72: 65 19        	adc	<L977+pixelLocationD_1
 22191 03:5E74: 85 05        	sta	<R1
 22192 03:5E76: A9 0A 00     	lda	#$a
 22193 03:5E79: 65 1B        	adc	<L977+pixelLocationD_1+2
 22194 03:5E7B: 85 07        	sta	<R1+2
 22195 03:5E7D: D4 07        	pei	<R1+2
 22196 03:5E7F: D4 05        	pei	<R1
 22197 03:5E81: 22 xx xx xx  	jsl	~~memcpy
 22198                        ;
 22199                        ;		dd++;
 22200                        	.line	3691
 22201 03:5E85: E6 0D        	inc	<L977+dd_1
 22202 03:5E87: D0 02        	bne	L990
 22203 03:5E89: E6 0F        	inc	<L977+dd_1+2
 22204                        L990:
 22205                        ;	}
 22206                        	.line	3692
 22207                        L10401:
 22208 03:5E8B: E6 09        	inc	<L977+dy_1
 22209 03:5E8D: D0 02        	bne	L991
 22210 03:5E8F: E6 0B        	inc	<L977+dy_1+2
 22211                        L991:
 22212                        L10404:
 22213 03:5E91: 18           	clc
 22214 03:5E92: A5 26        	lda	<L976+y0_0
 22215 03:5E94: 65 2A        	adc	<L976+height_0
 22216 03:5E96: 85 01        	sta	<R0
 22217 03:5E98: A0 00 00     	ldy	#$0
 22218 03:5E9B: A5 01        	lda	<R0
 22219 03:5E9D: 10 01        	bpl	L992
 22220 03:5E9F: 88           	dey
 22221                        L992:
 22222 03:5EA0: 85 01        	sta	<R0
  Wed Nov 18 2020  8:27                                                Page 405


 22223 03:5EA2: 84 03        	sty	<R0+2
 22224 03:5EA4: 38           	sec
 22225 03:5EA5: A5 09        	lda	<L977+dy_1
 22226 03:5EA7: E5 01        	sbc	<R0
 22227 03:5EA9: A5 0B        	lda	<L977+dy_1+2
 22228 03:5EAB: E5 03        	sbc	<R0+2
 22229 03:5EAD: 70 03        	bvs	L993
 22230 03:5EAF: 49 00 80     	eor	#$8000
 22231                        L993:
 22232 03:5EB2: 30 03        	bmi	L994
 22233 03:5EB4: 82 20 FF     	brl	L10403
 22234                        L994:
 22235                        L10402:
 22236                        ;
 22237                        ;}
 22238                        	.line	3694
 22239                        L995:
 22240 03:5EB7: A5 22        	lda	<L976+2
 22241 03:5EB9: 85 2E        	sta	<L976+2+12
 22242 03:5EBB: A5 21        	lda	<L976+1
 22243 03:5EBD: 85 2D        	sta	<L976+1+12
 22244 03:5EBF: 2B           	pld
 22245 03:5EC0: 3B           	tsc
 22246 03:5EC1: 18           	clc
 22247 03:5EC2: 69 2C 00     	adc	#L976+12
 22248 03:5EC5: 1B           	tcs
 22249 03:5EC6: 6B           	rtl
 22250                        	.endblock	3694
 22251             00000020   L976	equ	32
 22252             00000009   L977	equ	9
 22253 03:5EC7:              	ends
 22254                        	efunc
 22255                        	.endfunc	3694,9,32
 22256                        	.line	3694
 22257                        ;
 22258                        ;
 22259                        ;UINT k_font_getFontHeight(void)
 22260                        ;{
 22261                        	.line	3697
 22262                        	.line	3698
 22263                        	GUI
 22264                        	xdef	~~k_font_getFontHeight
 22265                        	func
 22266                        	.function	3698
 22267                        ~~k_font_getFontHeight:
 22268                        	longa	on
 22269                        	longi	on
 22270 03:5EC7: 3B           	tsc
 22271 03:5EC8: 38           	sec
 22272 03:5EC9: E9 00 00     	sbc	#L996
 22273 03:5ECC: 1B           	tcs
 22274 03:5ECD: 0B           	phd
 22275 03:5ECE: 5B           	tcd
 22276                        	.block	3698
 22277                        ;	return 8;
 22278                        	.line	3699
 22279 03:5ECF: A9 08 00     	lda	#$8
 22280                        L999:
  Wed Nov 18 2020  8:27                                                Page 406


 22281 03:5ED2: A8           	tay
 22282 03:5ED3: 2B           	pld
 22283 03:5ED4: 3B           	tsc
 22284 03:5ED5: 18           	clc
 22285 03:5ED6: 69 00 00     	adc	#L996
 22286 03:5ED9: 1B           	tcs
 22287 03:5EDA: 98           	tya
 22288 03:5EDB: 6B           	rtl
 22289                        ;}
 22290                        	.line	3700
 22291                        	.endblock	3700
 22292             00000000   L996	equ	0
 22293             00000001   L997	equ	1
 22294 03:5EDC:              	ends
 22295                        	efunc
 22296                        	.endfunc	3700,1,0
 22297                        	.line	3700
 22298                        ;
 22299                        ;UINT k_font_getFontWidth(void)
 22300                        ;{
 22301                        	.line	3702
 22302                        	.line	3703
 22303                        	GUI
 22304                        	xdef	~~k_font_getFontWidth
 22305                        	func
 22306                        	.function	3703
 22307                        ~~k_font_getFontWidth:
 22308                        	longa	on
 22309                        	longi	on
 22310 03:5EDC: 3B           	tsc
 22311 03:5EDD: 38           	sec
 22312 03:5EDE: E9 00 00     	sbc	#L1000
 22313 03:5EE1: 1B           	tcs
 22314 03:5EE2: 0B           	phd
 22315 03:5EE3: 5B           	tcd
 22316                        	.block	3703
 22317                        ;	return 8;
 22318                        	.line	3704
 22319 03:5EE4: A9 08 00     	lda	#$8
 22320                        L1003:
 22321 03:5EE7: A8           	tay
 22322 03:5EE8: 2B           	pld
 22323 03:5EE9: 3B           	tsc
 22324 03:5EEA: 18           	clc
 22325 03:5EEB: 69 00 00     	adc	#L1000
 22326 03:5EEE: 1B           	tcs
 22327 03:5EEF: 98           	tya
 22328 03:5EF0: 6B           	rtl
 22329                        ;}
 22330                        	.line	3705
 22331                        	.endblock	3705
 22332             00000000   L1000	equ	0
 22333             00000001   L1001	equ	1
 22334 03:5EF1:              	ends
 22335                        	efunc
 22336                        	.endfunc	3705,1,0
 22337                        	.line	3705
 22338                        ;
  Wed Nov 18 2020  8:27                                                Page 407


 22339                        ;
 22340                        ;VOID k_gui_init_mousepointer(void)
 22341                        ;{
 22342                        	.line	3708
 22343                        	.line	3709
 22344                        	GUI
 22345                        	xdef	~~k_gui_init_mousepointer
 22346                        	func
 22347                        	.function	3709
 22348                        ~~k_gui_init_mousepointer:
 22349                        	longa	on
 22350                        	longi	on
 22351 03:5EF1: 3B           	tsc
 22352 03:5EF2: 38           	sec
 22353 03:5EF3: E9 00 00     	sbc	#L1004
 22354 03:5EF6: 1B           	tcs
 22355 03:5EF7: 0B           	phd
 22356 03:5EF8: 5B           	tcd
 22357                        	.block	3709
 22358                        ;	//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINTER_PTR
                    ,sizeof(MOUSE_POINTER_PTR));
 22359                        ;	memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINTER_PTR_V
                    2,sizeof(MOUSE_POINTER_PTR_V2));
 22360                        	.line	3711
 22361 03:5EF9: F4 00 01     	pea	#<$100
 22362 03:5EFC: F4 xx xx     	pea	#^~~MOUSE_POINTER_PTR_V2
 22363 03:5EFF: F4 xx xx     	pea	#<~~MOUSE_POINTER_PTR_V2
 22364 03:5F02: F4 AF 00     	pea	#^$af0500
 22365 03:5F05: F4 00 05     	pea	#<$af0500
 22366 03:5F08: 22 xx xx xx  	jsl	~~memcpy
 22367                        ;
 22368                        ;	*MOUSE_PTR_CTRL_REG_L = 0x01;
 22369                        	.line	3713
 22370 03:5F0C: E2 20        	sep	#$20
 22371                        	longa	off
 22372 03:5F0E: A9 01        	lda	#$1
 22373 03:5F10: 8F 00 07 AF  	sta	>11470592
 22374 03:5F14: C2 20        	rep	#$20
 22375                        	longa	on
 22376                        ;}
 22377                        	.line	3714
 22378                        L1007:
 22379 03:5F16: 2B           	pld
 22380 03:5F17: 3B           	tsc
 22381 03:5F18: 18           	clc
 22382 03:5F19: 69 00 00     	adc	#L1004
 22383 03:5F1C: 1B           	tcs
 22384 03:5F1D: 6B           	rtl
 22385                        	.endblock	3714
 22386             00000000   L1004	equ	0
 22387             00000001   L1005	equ	1
 22388 03:5F1E:              	ends
 22389                        	efunc
 22390                        	.endfunc	3714,1,0
 22391                        	.line	3714
 22392                        ;
 22393                        ;
 22394                        ;/*
  Wed Nov 18 2020  8:27                                                Page 408


 22395                        ;
 22396                        ;
 22397                        ;
 22398                        ;
 22399                        ; */
 22400                        ;
 22401                        	.line	3722
 22402                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.c",3708
 22403                        	xref	~~k_window_draw
 22404                        	xref	~~k_put_char
 22405                        	xref	~~k_clear_screen
 22406                        	xref	~~k_disable_border
 22407                        	xref	~~k_send_message
 22408                        	xref	~~k_mem_deallocate_heap
 22409                        	xref	~~k_mem_allocate_heap
 22410                        	xref	~~k_pad_string
 22411                        	xref	~~k_itoa
 22412                        	xref	~~k_get_c256_minor_version
 22413                        	xref	~~k_get_c256_major_version
 22414                        	xref	~~k_get_fpga_date_year
 22415                        	xref	~~k_get_fpga_date_month
 22416                        	xref	~~k_get_fpga_date_day
 22417                        	xref	~~k_debug_rect
 22418                        	xref	~~k_debug_strings
 22419                        	xref	~~k_debug_message
 22420                        	xref	~~k_debug_long
 22421                        	xref	~~k_debug_integer
 22422                        	xref	~~k_debug_pointer
 22423                        	xref	~~k_debug_string
 22424                        	xref	~~k_nodelist_add
 22425                        	xref	~~k_nodelist_create
 22426                        	xref	~~k_nodelist_init
 22427                        	xref	~~toupper
 22428                        	xref	~~strupr
 22429                        	xref	~~strlen
 22430                        	xref	~~strcpy
 22431                        	xref	~~memset
 22432                        	xref	~~memcpy
 22433                        	xref	~~abs
 22434                        	udata
 22435                        	xdef	~~_k_window_list
 22436                        ~~_k_window_list
 22437 00:0000:              	ds	1660
 22438 00:067C:              	ends
 22439                        	udata
 22440                        ~~_k_currentPalatte
 22441 00:067C:              	ds	50
 22442 00:06AE:              	ends
 22443                        	udata
 22444                        	xdef	~~version_title
 22445                        ~~version_title
 22446 00:06AE:              	ds	4
 22447 00:06B2:              	ends
 22448                        	udata
 22449                        	xdef	~~strbuf
 22450                        ~~strbuf
 22451 00:06B2:              	ds	32
  Wed Nov 18 2020  8:27                                                Page 409


 22452 00:06D2:              	ends
 22453                        	udata
 22454                        	xdef	~~buffer
 22455                        ~~buffer
 22456 00:06D2:              	ds	32
 22457 00:06F2:              	ends
 22458                        	udata
 22459                        	xdef	~~hitList
 22460                        ~~hitList
 22461 00:06F2:              	ds	24
 22462 00:070A:              	ends
 22463                        	udata
 22464                        	xdef	~~clickList
 22465                        ~~clickList
 22466 00:070A:              	ds	66
 22467 00:074C:              	ends
 22468                        	xref	~~Bm437ToshibaLCD8x8
 22469                        	xref	~~windowIconImg
 22470                        	xref	~~windowChromeImg
 22471                        	xref	~~fontImg
 22472                        	xref	~~characterROMMapping
 22473                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 22474                        	.sym	~~k_vdma_fill_address_old,~~k_vdma_fill_
                    address_old,65,2,0
 22475                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
                    d_rect_slow,65,2,0
 22476                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 22477                        	.sym	~~k_get_pixel_bank,~~k_get_pixel_bank,69
                    ,2,0
 22478                        	.sym	~~k_get_pixel_color,~~k_get_pixel_color,
                    69,2,0
 22479                        	.sym	~~k_write_window_text,~~k_write_window_t
                    ext,65,2,0
 22480                        	.sym	~~k_get_window,~~k_get_window,1098,2,32,
                    27
 22481                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 22482                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 22483                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 22484                        	.sym	~~cop_index,~~cop_index,5,2,16
 22485                        	.sym	~~_k_WindowHit_nodes,~~_k_WindowHit_node
                    s,138,3,32,5
 22486                        	.sym	~~_k_WindowObject_nodes,~~_k_WindowObjec
                    t_nodes,138,3,32,5
 22487                        	.sym	~~_k_window_list,~~_k_window_list,106,2,
                    0,27,10
 22488                        	.sym	~~_k_window_index,~~_k_window_index,5,2,
                    16
 22489                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,52
 22490                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
 22491                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 22492                        	.sym	~~MOUSE_POINTER_PTR_V2,~~MOUSE_POINTER_P
  Wed Nov 18 2020  8:27                                                Page 410


                    TR_V2,110,3,0,256
 22493                        	.sym	~~MOUSE_POINTER_PTR,~~MOUSE_POINTER_PTR,
                    110,3,0,256
 22494                        	.sym	~~k_window_draw,~~k_window_draw,65,18,0
 22495                        	.sym	~~k_put_char,~~k_put_char,65,18,0
 22496                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 22497                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 22498                        	.sym	PCOMMANDARGS,0,138,14,32,61
 22499                        	.sym	COMMANDARGS,0,10,14,64,61
 22500                        	.sym	PTOKENIZESTATE,0,133,14,32
 22501                        	.sym	TOKENIZESTATE,0,5,14,16
 22502                        	.sym	PTOKEN,0,138,14,32,60
 22503                        	.sym	TOKEN,0,10,14,64,60
 22504                        	.sym	PTOKENTYPE,0,133,14,32
 22505                        	.sym	TOKENTYPE,0,5,14,16
 22506                        	.sym	FXCommandHandler,0,656,14,32
 22507                        	.sym	PCONSOLECTX,0,138,14,32,59
 22508                        	.sym	CONSOLECTX,0,10,14,1144,59
 22509                        	.sym	PSPINNERCTX,0,138,14,32,58
 22510                        	.sym	SPINNERCTX,0,10,14,48,58
 22511                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 22512                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,57
 22513                        	.sym	MOUSE_MSG_STATE,0,10,14,184,57
 22514                        	.sym	PFXEVENTPROCESS,0,138,14,32,56
 22515                        	.sym	FXEVENTPROCESS,0,10,14,64,56
 22516                        	.sym	FXEventProc,0,641,14,32
 22517                        	.sym	PMOUSEMSGDATA,0,138,14,32,55
 22518                        	.sym	MOUSEMSGDATA,0,10,14,64,55
 22519                        	.sym	MSGIRQ,0,5,14,16
 22520                        	.sym	MAINLOOPARGS,0,10,14,16,54
 22521                        	.sym	PEACHCHILD_MSG,0,138,14,32,53
 22522                        	.sym	EACHCHILD_MSG,0,10,14,64,53
 22523                        	.sym	~~version_title,~~version_title,142,2,32
 22524                        	.sym	~~strbuf,~~strbuf,110,2,0,32
 22525                        	.sym	~~buffer,~~buffer,110,2,0,32
 22526                        	.sym	~~hitList,~~hitList,1130,2,32,31,6
 22527                        	.sym	~~clickList,~~clickList,106,2,0,31,6
 22528                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 22529                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
 22530                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 22531                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 22532                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
 22533                        	.sym	~~k_render_wingadget,~~k_render_wingadge
                    t,69,2,0
 22534                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,27
 22535                        	.sym	~~k_add_window_hit_node,~~k_add_window_h
                    it_node,65,2,0
 22536                        	.sym	~~k_point_in_nodes,~~k_point_in_nodes,10
                    98,2,32,5
  Wed Nov 18 2020  8:27                                                Page 411


 22537                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 22538                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,32
 22539                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,32
 22540                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,32
 22541                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,32
 22542                        	.sym	~~k_point_in_list,~~k_point_in_list,69,2
                    ,0
 22543                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 22544                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 22545                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 22546                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 22547                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
                    ,2,0
 22548                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 22549                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,2,0
 22550                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 22551                        	.sym	~~k_create_window,~~k_create_window,1089
                    ,2,32
 22552                        	.sym	~~k_render_bitmap_info,~~k_render_bitmap
                    _info,65,2,0
 22553                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
                    d,65,2,0
 22554                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 22555                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 22556                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 22557                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
                    ,0
 22558                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
                    _scaled_point,65,2,0
 22559                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 22560                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 22561                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 22562                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
 22563                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 22564                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 22565                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 22566                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 22567                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 22568                        	.sym	~~k_fill_bank,~~k_fill_bank,65,2,0
  Wed Nov 18 2020  8:27                                                Page 412


 22569                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 22570                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 22571                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 22572                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 22573                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 22574                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
 22575                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 22576                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 22577                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 22578                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
                    ,0
 22579                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 22580                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 22581                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 22582                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 22583                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
                    estore_bitblt,65,2,0
 22584                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 22585                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 22586                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 22587                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
                    ,0
 22588                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 22589                        	.sym	~~setColors,~~setColors,65,2,0
 22590                        	.sym	~~k_drawPixel,~~k_drawPixel,65,2,0
 22591                        	.sym	~~k_draw_nonclient_area,~~k_draw_nonclie
                    nt_area,65,2,0
 22592                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 22593                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,2,0
 22594                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 22595                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 22596                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
                    owBorderColor,69,2,0
 22597                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 22598                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 22599                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 22600                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
                    ,2,0
 22601                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 22602                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
  Wed Nov 18 2020  8:27                                                Page 413


                    oundColor,69,2,0
 22603                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,52
 22604                        	.sym	CUR_PALETTE_MAP,0,10,14,400,52
 22605                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,32
 22606                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,32
 22607                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,32
 22608                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,32
 22609                        	.sym	PCLICKDETECTED,0,138,14,32,51
 22610                        	.sym	CLICKDETECTED,0,10,14,64,51
 22611                        	.sym	OBJECTCLICKED,0,641,14,32
 22612                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 22613                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 22614                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 22615                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 22616                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 22617                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 22618                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 22619                        	.sym	MemoryCallback,0,641,14,32
 22620                        	.sym	PFXMEMORYMAP,0,138,14,32,50
 22621                        	.sym	FXMEMORYMAP,0,10,14,2072,50
 22622                        	.sym	UMM_HEAP_INFO,0,10,14,256,49
 22623                        	.sym	~~k_pad_string,~~k_pad_string,1102,18,32
 22624                        	.sym	~~k_itoa,~~k_itoa,1102,18,32
 22625                        	.sym	PFXSTRING,0,138,14,32,48
 22626                        	.sym	FXSTRING,0,10,14,64,48
 22627                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 22628                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 22629                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 22630                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 22631                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 22632                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,47
 22633                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,47
 22634                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,46
 22635                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,46
 22636                        	.sym	~~k_get_c256_minor_version,~~k_get_c256_
                    minor_version,65,18,0
 22637                        	.sym	~~k_get_c256_major_version,~~k_get_c256_
                    major_version,65,18,0
 22638                        	.sym	~~k_get_fpga_date_year,~~k_get_fpga_date
                    _year,65,18,0
 22639                        	.sym	~~k_get_fpga_date_month,~~k_get_fpga_dat
                    e_month,65,18,0
 22640                        	.sym	~~k_get_fpga_date_day,~~k_get_fpga_date_
                    day,65,18,0
 22641                        	.sym	~~k_debug_rect,~~k_debug_rect,65,18,0
 22642                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 22643                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
  Wed Nov 18 2020  8:27                                                Page 414


 22644                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 22645                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 22646                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 22647                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 22648                        	.sym	PDEBUGBYTEBITS,0,138,14,32,45
 22649                        	.sym	DEBUGBYTEBITS,0,10,14,8,45
 22650                        	.sym	PFXENVIRONMENT,0,138,14,32,44
 22651                        	.sym	FXENVIRONMENT,0,10,14,96,44
 22652                        	.sym	PFXZERPOPAGE,0,138,14,32,43
 22653                        	.sym	FXZERPOPAGE,0,10,14,448,43
 22654                        	.sym	KERNELTRAPCALL,0,641,14,32
 22655                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 22656                        	.sym	FOREACHNODE,0,641,14,32
 22657                        	.sym	~~k_nodelist_add,~~k_nodelist_add,65,18,
                    0
 22658                        	.sym	~~k_nodelist_create,~~k_nodelist_create,
                    1098,18,32,5
 22659                        	.sym	~~k_nodelist_init,~~k_nodelist_init,1098
                    ,18,32,5
 22660                        	.sym	PFXCOMBUFFER,0,138,14,32,42
 22661                        	.sym	FXCOMBUFFER,0,10,14,2080,42
 22662                        	.sym	PSUBMENULIST,0,138,14,32,41
 22663                        	.sym	SUBMENULIST,0,10,14,40,41
 22664                        	.sym	HSUBMENU,0,7,14,32
 22665                        	.sym	PSUBMENU,0,138,14,32,40
 22666                        	.sym	SUBMENU,0,10,14,64,40
 22667                        	.sym	MenuAction,0,641,14,32
 22668                        	.sym	PMENUANCHOR,0,138,14,32,39
 22669                        	.sym	MENUANCHOR,0,10,14,144,39
 22670                        	.sym	PTEXTBOX,0,138,14,32,38
 22671                        	.sym	TEXTBOX,0,10,14,144,38
 22672                        	.sym	PLISTBOX,0,138,14,32,37
 22673                        	.sym	LISTBOX,0,10,14,240,37
 22674                        	.sym	PSCROLLBAR,0,138,14,32,36
 22675                        	.sym	SCROLLBAR,0,10,14,192,36
 22676                        	.sym	PBUTTON,0,138,14,32,35
 22677                        	.sym	BUTTON,0,10,14,80,35
 22678                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,34
 22679                        	.sym	MENUDROPDOWNDATA,0,10,14,3376,34
 22680                        	.sym	PMENUTAG,0,138,14,32,33
 22681                        	.sym	MENUTAG,0,10,14,112,33
 22682                        	.sym	PMENU,0,138,14,32,32
 22683                        	.sym	MENU,0,10,14,248,32
 22684                        	.sym	HMENURESOURCE,0,129,14,32
 22685                        	.sym	HCLICKABLE,0,7,14,32
 22686                        	.sym	PCLICKABLE,0,138,14,32,31
 22687                        	.sym	CLICKABLE,0,10,14,88,31
 22688                        	.sym	HTEXTBOX,0,7,14,32
 22689                        	.sym	PTEXTBOXX,0,138,14,32,30
 22690                        	.sym	TEXTBOXX,0,10,14,112,30
 22691                        	.sym	FONTMETRIC,0,10,14,32,29
 22692                        	.sym	TITLE,0,142,14,32
 22693                        	.sym	PHANDLE,0,1153,14,32
 22694                        	.sym	HANDLE,0,129,14,32
 22695                        	.sym	PWINDOWEX,0,138,14,32,28
  Wed Nov 18 2020  8:27                                                Page 415


 22696                        	.sym	WINDOWEX,0,10,14,1296,28
 22697                        	.sym	WindowEx,0,10,14,1296,28
 22698                        	.sym	PWINDOW,0,138,14,32,27
 22699                        	.sym	WINDOW,0,10,14,1328,27
 22700                        	.sym	Window,0,10,14,1328,27
 22701                        	.sym	PWNDCLASS,0,138,14,32,26
 22702                        	.sym	WNDCLASS,0,10,14,256,26
 22703                        	.sym	HBRUSH,0,129,14,32
 22704                        	.sym	HCURSOR,0,129,14,32
 22705                        	.sym	HICON,0,129,14,32
 22706                        	.sym	HINSTANCE,0,129,14,32
 22707                        	.sym	FXWndProc,0,654,14,32
 22708                        	.sym	PRECT,0,138,14,32,25
 22709                        	.sym	RECT,0,10,14,64,25
 22710                        	.sym	PPOINT,0,138,14,32,24
 22711                        	.sym	POINT,0,10,14,32,24
 22712                        	.sym	PFXPROPERTY,0,138,14,32,22
 22713                        	.sym	FXPROPERTY,0,10,14,384,22
 22714                        	.sym	SCANCODE,0,14,14,8
 22715                        	.sym	KEYCODE,0,14,14,8
 22716                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 22717                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 22718                        	.sym	PFXPROCESS,0,138,14,32,20
 22719                        	.sym	FXPROCESS,0,10,14,800,20
 22720                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 22721                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 22722                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 22723                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 22724                        	.sym	FXProcessProc,0,641,14,32
 22725                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 22726                        	.sym	FXCMDMESSAGE,0,10,14,304,17
 22727                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 22728                        	.sym	FXOSMESSAGE,0,10,14,304,16
 22729                        	.sym	PINT_REGS,0,138,14,32,15
 22730                        	.sym	INT_REGS,0,10,14,104,15
 22731                        	.sym	TASK_STACK,0,10,14,32,14
 22732                        	.sym	TASK,0,10,14,48,13
 22733                        	.sym	PIRQDATA,0,138,14,32,12
 22734                        	.sym	IRQDATA,0,10,14,48,12
 22735                        	.sym	HMENU,0,129,14,32
 22736                        	.sym	HWND,0,129,14,32
 22737                        	.sym	MSGDATA,0,14,14,8
 22738                        	.sym	MSGDEST,0,18,14,32
 22739                        	.sym	MSGSRC,0,18,14,32
 22740                        	.sym	MSGTYPE,0,16,14,16
 22741                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 22742                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 22743                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 22744                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 22745                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 22746                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 22747                        	.sym	FILE_HANDLE,0,138,14,32,11
 22748                        	.sym	FILE_BLOCK,0,10,14,552,11
 22749                        	.sym	SEMAPHORE,0,10,14,16,10
 22750                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 22751                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 22752                        	.sym	KRESULT,0,18,14,32
 22753                        	.sym	PKERNEL_ERROR,0,138,14,32,8
  Wed Nov 18 2020  8:27                                                Page 416


 22754                        	.sym	KERNEL_ERROR,0,10,14,32,8
 22755                        	.sym	PROCESS_STATUS,0,16,14,16
 22756                        	.sym	FILE_PATH_NAME,0,142,14,32
 22757                        	.sym	PROCESS_RESOURCE,0,129,14,32
 22758                        	.sym	PROCESS_TLS,0,129,14,32
 22759                        	.sym	PROCESS_CTX,0,129,14,32
 22760                        	.sym	USERID,0,16,14,16
 22761                        	.sym	PROCESS_ID,0,18,14,32
 22762                        	.sym	PROCESS_BANK,0,14,14,8
 22763                        	.sym	PFXQUEUE,0,138,14,32,7
 22764                        	.sym	FXQUEUE,0,10,14,80,7
 22765                        	.sym	PFXNODELIST,0,138,14,32,6
 22766                        	.sym	FXNODELIST,0,10,14,96,6
 22767                        	.sym	NodeListDeallocator,0,641,14,32
 22768                        	.sym	PFXNODE,0,138,14,32,5
 22769                        	.sym	FXNODE,0,10,14,384,5
 22770                        	.sym	PBYTEBITS,0,138,14,32,4
 22771                        	.sym	BYTEBITS,0,10,14,8,4
 22772                        	.sym	HCOLOR,0,129,14,32
 22773                        	.sym	HFONT,0,129,14,32
 22774                        	.sym	HDC,0,129,14,32
 22775                        	.sym	uint32_t,0,18,14,32
 22776                        	.sym	uint8_t,0,14,14,8
 22777                        	.sym	PFAR,0,142,14,32
 22778                        	.sym	LPBOOL,0,142,14,32
 22779                        	.sym	BOOL,0,14,14,8
 22780                        	.sym	DWORD,0,18,14,32
 22781                        	.sym	ULONG,0,18,14,32
 22782                        	.sym	LPLONG,0,135,14,32
 22783                        	.sym	LONG,0,7,14,32
 22784                        	.sym	PUINT,0,144,14,32
 22785                        	.sym	USHORT,0,16,14,16
 22786                        	.sym	UINT,0,16,14,16
 22787                        	.sym	INT,0,5,14,16
 22788                        	.sym	WORD,0,5,14,16
 22789                        	.sym	PBYTE,0,142,14,32
 22790                        	.sym	BYTE,0,14,14,8
 22791                        	.sym	UCHAR,0,14,14,8
 22792                        	.sym	LPWCSTR,0,142,14,32
 22793                        	.sym	LPCSTR,0,142,14,32
 22794                        	.sym	LPSTR,0,142,14,32
 22795                        	.sym	LPCHAR,0,142,14,32
 22796                        	.sym	CHAR,0,14,14,8
 22797                        	.sym	LPVOID,0,129,14,32
 22798                        	.sym	VOID,0,1,14,32
 22799                        	.sym	~~toupper,~~toupper,69,18,0
 22800                        	.sym	~~strupr,~~strupr,1102,18,32
 22801                        	.sym	~~strlen,~~strlen,80,18,0
 22802                        	.sym	~~strcpy,~~strcpy,1102,18,32
 22803                        	.sym	~~memset,~~memset,1089,18,32
 22804                        	.sym	~~memcpy,~~memcpy,1089,18,32
 22805                        	.sym	Boolean_T,0,5,14,16
 22806                        	.sym	~~abs,~~abs,69,18,0
 22807                        	.sym	ldiv_t,0,10,14,64,2
 22808                        	.sym	div_t,0,10,14,32,1
 22809                        	.sym	wctype_t,0,16,14,16
 22810                        	.sym	wint_t,0,16,14,16
 22811                        	.sym	wchar_t,0,14,14,8
  Wed Nov 18 2020  8:27                                                Page 417


 22812                        	.sym	ptrdiff_t,0,7,14,32
 22813                        	.sym	size_t,0,16,14,16
 22814                        	end


      Lines assembled: 22814
      Errors: 0
