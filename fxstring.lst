  Thu Dec  3 2020 22:25                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.c",0
     7                        ;
     8                        ;#include "fxstring.h"
     9                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    11                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    12                        	.line	88
    13                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    14                        	.stag	fake1_,32,1
    15                        	.member	quot,0,5,8,16
    16                        	.member	rem,16,5,8,16
    17                        	.eos
    18                        	.stag	fake2_,64,2
    19                        	.member	quot,0,7,8,32
    20                        	.member	rem,32,7,8,32
    21                        	.eos
    22                        	.stag	int_sqrt,32,3
    23                        	.member	sqrt,0,16,8,16
    24                        	.member	frac,16,16,8,16
    25                        	.eos
    26                        	.line	205
    27                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
    28                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    29                        	.line	134
    30                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
    31                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    32                        	.stag	_fx_bytebits,8,4
    33                        	.member	b7,0,14,17,1
    34                        	.member	b6,1,14,17,1
    35                        	.member	b5,2,14,17,1
    36                        	.member	b4,3,14,17,1
    37                        	.member	b3,4,14,17,1
    38                        	.member	b2,5,14,17,1
    39                        	.member	b1,6,14,17,1
    40                        	.member	b0,7,14,17,1
    41                        	.eos
    42                        	.stag	_fx_node,384,5
    43                        	.member	type,0,14,8,8
  Thu Dec  3 2020 22:25                                                Page 2


    44                        	.member	Reserved0,8,14,8,8
    45                        	.member	data,16,129,8,32
    46                        	.member	last,48,138,8,32,5
    47                        	.member	next,80,138,8,32,5
    48                        	.member	name,112,110,8,0,32
    49                        	.member	Reserved1,368,16,8,16
    50                        	.eos
    51                        	.stag	_fx_nodelist,96,6
    52                        	.member	listhead,0,138,8,32,5
    53                        	.member	listData,32,129,8,32
    54                        	.member	deallocator,64,641,8,32
    55                        	.eos
    56                        	.stag	_fx_queue,80,7
    57                        	.member	count,0,5,8,16
    58                        	.member	front,16,138,8,32,5
    59                        	.member	rear,48,138,8,32,5
    60                        	.eos
    61                        	.stag	fake8_,32,8
    62                        	.member	subsystem,0,14,8,8
    63                        	.member	level,8,14,8,8
    64                        	.member	error,16,16,8,16
    65                        	.eos
    66                        	.stag	_fx_process_signal,16,9
    67                        	.member	cbSize,0,16,8,16
    68                        	.eos
    69                        	.stag	_fx_semaphore,16,10
    70                        	.member	reserved,0,5,8,16
    71                        	.eos
    72                        	.stag	_fx_fileBlock,552,11
    73                        	.member	openCount,0,16,8,16
    74                        	.member	lockCount,16,16,8,16
    75                        	.member	dirty,32,14,8,8
    76                        	.member	fileBuffer,40,110,8,0,64
    77                        	.eos
    78                        	.stag	_fx_irq_data,48,12
    79                        	.member	line,0,5,8,16
    80                        	.member	keycode,16,142,8,32
    81                        	.eos
    82                        	.stag	_task,48,13
    83                        	.member	SPL,0,14,8,8
    84                        	.member	SPH,8,14,8,8
    85                        	.member	pstack,16,142,8,32
    86                        	.eos
    87                        	.stag	_task_stack,32,14
    88                        	.member	SS,0,142,8,32
    89                        	.eos
    90                        	.stag	int_regs,104,15
    91                        	.member	PB,0,14,8,8
    92                        	.member	PH,8,14,8,8
    93                        	.member	PL,16,14,8,8
    94                        	.member	PP,24,14,8,8
    95                        	.member	DB,32,14,8,8
    96                        	.member	DH,40,14,8,8
    97                        	.member	DL,48,14,8,8
    98                        	.member	AH,56,14,8,8
    99                        	.member	AL,64,14,8,8
   100                        	.member	XH,72,14,8,8
   101                        	.member	XL,80,14,8,8
  Thu Dec  3 2020 22:25                                                Page 3


   102                        	.member	YH,88,14,8,8
   103                        	.member	YL,96,14,8,8
   104                        	.eos
   105                        	.stag	_fx_eventMessage,304,16
   106                        	.member	src,0,18,8,32
   107                        	.member	dest,32,18,8,32
   108                        	.member	type,64,16,8,16
   109                        	.member	hwnd,80,129,8,32
   110                        	.member	pheap,112,129,8,32
   111                        	.member	msgTime,144,18,8,32
   112                        	.member	data,176,110,8,0,16
   113                        	.eos
   114                        	.stag	_fx_cmdMessage,304,17
   115                        	.member	src,0,18,8,32
   116                        	.member	dest,32,18,8,32
   117                        	.member	type,64,16,8,16
   118                        	.member	hwnd,80,129,8,32
   119                        	.member	pheap,112,129,8,32
   120                        	.member	msgTime,144,18,8,32
   121                        	.member	cmdCId,176,16,8,16
   122                        	.member	cmdMId,192,16,8,16
   123                        	.member	parameter1,208,18,8,32
   124                        	.member	parameter2,240,18,8,32
   125                        	.member	parameter3,272,18,8,32
   126                        	.eos
   127                        	.stag	_fx_console_ctl,448,18
   128                        	.member	maxCols,0,5,8,16
   129                        	.member	maxRows,16,5,8,16
   130                        	.member	curX,32,5,8,16
   131                        	.member	curY,48,5,8,16
   132                        	.member	fgColor,64,5,8,16
   133                        	.member	bgColor,80,5,8,16
   134                        	.member	mode,96,14,8,8
   135                        	.member	kbBuffer,104,101,8,0,16
   136                        	.member	screenBuffer,360,142,8,32
   137                        	.member	desktopMode,392,14,8,8
   138                        	.member	lastMouseButton,400,5,8,16
   139                        	.member	lastMouseX,416,5,8,16
   140                        	.member	lastMouseY,432,5,8,16
   141                        	.eos
   142                        	.stag	_fx_desktop_ctl,392,19
   143                        	.member	desktopMode,0,14,8,8
   144                        	.member	cursorCtl,8,5,8,16
   145                        	.member	cursorState,24,5,8,16
   146                        	.member	backgroundColor,40,5,8,16
   147                        	.member	foregroundColor,56,5,8,16
   148                        	.member	menuMode,72,5,8,16
   149                        	.member	lastMouseButton,88,5,8,16
   150                        	.member	lastMouseX,104,5,8,16
   151                        	.member	lastMouseY,120,5,8,16
   152                        	.member	currentDiskName,136,142,8,32
   153                        	.member	diskNodes,168,129,8,32
   154                        	.member	titleNodes,200,129,8,32
   155                        	.member	menuNodes,232,129,8,32
   156                        	.member	iconNodes,264,129,8,32
   157                        	.member	windowNodes,296,129,8,32
   158                        	.member	fontNodes,328,129,8,32
   159                        	.member	wndProc,360,138,8,32,6
  Thu Dec  3 2020 22:25                                                Page 4


   160                        	.eos
   161                        	.stag	_fx_process,800,20
   162                        	.member	cbSize,0,5,8,16
   163                        	.member	procId,16,18,8,32
   164                        	.member	parentId,48,18,8,32
   165                        	.member	ctx,80,129,8,32
   166                        	.member	userId,112,16,8,16
   167                        	.member	status,128,16,8,16
   168                        	.member	foregroundActive,144,14,8,8
   169                        	.member	tls,152,1121,8,32,8
   170                        	.member	commandLine,408,142,8,32
   171                        	.member	semaphores,440,138,8,32,6
   172                        	.member	fileHandles,472,138,8,32,6
   173                        	.member	pathList,504,138,8,32,6
   174                        	.member	resources,536,138,8,32,6
   175                        	.member	timerAware,568,14,8,8
   176                        	.member	timerTicks,576,112,8,0,2
   177                        	.member	timerTickCount,608,112,8,0,2
   178                        	.member	kernelError,640,10,8,32,8
   179                        	.member	consoleCtl,672,138,8,32,18
   180                        	.member	desktopCtl,704,138,8,32,19
   181                        	.member	execProc,736,641,8,32
   182                        	.member	startupArgs,768,129,8,32
   183                        	.eos
   184                        	.stag	_fxProcessMessage,112,21
   185                        	.member	src,0,18,8,32
   186                        	.member	dest,32,18,8,32
   187                        	.member	type,64,16,8,16
   188                        	.member	processInfo,80,138,8,32,20
   189                        	.eos
   190                        	.stag	_fx_property,384,22
   191                        	.member	name,0,110,8,0,16
   192                        	.member	value,128,110,8,0,32
   193                        	.eos
   194                        	.utag	_24bitPointer,32,23
   195                        	.member	address,0,142,11,32
   196                        	.member	bytes,0,110,11,0,4
   197                        	.eos
   198                        	.stag	_PointStruct,32,24
   199                        	.member	x,0,5,8,16
   200                        	.member	y,16,5,8,16
   201                        	.eos
   202                        	.stag	_RectStruct,64,25
   203                        	.member	x,0,5,8,16
   204                        	.member	y,16,5,8,16
   205                        	.member	width,32,5,8,16
   206                        	.member	height,48,5,8,16
   207                        	.eos
   208                        	.stag	_k_WindowClass,256,26
   209                        	.member	cbSize,0,16,8,16
   210                        	.member	style,16,16,8,16
   211                        	.member	pWndProc,32,654,8,32
   212                        	.member	hInstance,64,129,8,32
   213                        	.member	hIcon,96,129,8,32
   214                        	.member	hCursor,128,129,8,32
   215                        	.member	hbrBackground,160,129,8,32
   216                        	.member	lpszMenuName,192,142,8,32
   217                        	.member	lpszClassName,224,142,8,32
  Thu Dec  3 2020 22:25                                                Page 5


   218                        	.eos
   219                        	.stag	_ClickableRect,88,27
   220                        	.member	area,0,10,8,64,25
   221                        	.member	z,64,5,8,16
   222                        	.member	enabled,80,14,8,8
   223                        	.eos
   224                        	.stag	_NCClickableRect,88,28
   225                        	.member	area,0,10,8,64,25
   226                        	.member	msgType,64,16,8,16
   227                        	.member	enabled,80,14,8,8
   228                        	.eos
   229                        	.stag	_DragData,136,29
   230                        	.member	area,0,10,8,64,25
   231                        	.member	xoffset,64,5,8,16
   232                        	.member	yoffset,80,5,8,16
   233                        	.member	msgType,96,16,8,16
   234                        	.member	isDrag,112,14,8,8
   235                        	.member	canDrag,120,14,8,8
   236                        	.member	canDrop,128,14,8,8
   237                        	.eos
   238                        	.stag	_k_WindowStruct,2808,30
   239                        	.member	cbSize,0,16,8,16
   240                        	.member	style,16,18,8,32
   241                        	.member	win_id,48,5,8,16
   242                        	.member	win_x,64,5,8,16
   243                        	.member	win_y,80,5,8,16
   244                        	.member	win_width,96,5,8,16
   245                        	.member	win_height,112,5,8,16
   246                        	.member	wndRect,128,10,8,64,25
   247                        	.member	clientRect,192,10,8,64,25
   248                        	.member	nonclientGadgets,256,106,8,0,28,16
   249                        	.member	clickable,1664,129,8,32
   250                        	.member	win_title,1696,110,8,0,32
   251                        	.member	Reserved0,1952,16,8,16
   252                        	.member	win_class,1968,110,8,0,16
   253                        	.member	win_class_name,2096,110,8,0,32
   254                        	.member	nBitmapLayer,2352,16,8,16
   255                        	.member	procid,2368,18,8,32
   256                        	.member	pWndClass,2400,138,8,32,26
   257                        	.member	pParentWindow,2432,129,8,32
   258                        	.member	hMenu,2464,129,8,32
   259                        	.member	pChildWindows,2496,138,8,32,6
   260                        	.member	pChildHitList,2528,138,8,32,6
   261                        	.member	isVisible,2560,14,8,8
   262                        	.member	windowData,2568,129,8,32
   263                        	.member	clientData,2600,1121,8,32,6
   264                        	.member	isClosed,2792,14,8,8
   265                        	.member	isClosing,2800,14,8,8
   266                        	.eos
   267                        	.stag	_k_WindowStructEx,2704,31
   268                        	.member	cbSize,0,16,8,16
   269                        	.member	style,16,18,8,32
   270                        	.member	win_id,48,5,8,16
   271                        	.member	win_x,64,5,8,16
   272                        	.member	win_y,80,5,8,16
   273                        	.member	win_width,96,5,8,16
   274                        	.member	win_height,112,5,8,16
   275                        	.member	wndRect,128,10,8,64,25
  Thu Dec  3 2020 22:25                                                Page 6


   276                        	.member	clientRect,192,10,8,64,25
   277                        	.member	nonclientGadgets,256,106,8,0,28,16
   278                        	.member	clickable,1664,129,8,32
   279                        	.member	win_title,1696,110,8,0,32
   280                        	.member	Reserved0,1952,16,8,16
   281                        	.member	win_class,1968,110,8,0,16
   282                        	.member	nBitmapLayer,2096,16,8,16
   283                        	.member	procid,2112,18,8,32
   284                        	.member	pWndClass,2144,138,8,32,26
   285                        	.member	pParentWindow,2176,129,8,32
   286                        	.member	hMenu,2208,129,8,32
   287                        	.member	pChildWindows,2240,138,8,32,6
   288                        	.member	pChildHitList,2272,138,8,32,6
   289                        	.member	isVisible,2304,14,8,8
   290                        	.member	windowData,2312,129,8,32
   291                        	.member	clientData,2344,1121,8,32,4
   292                        	.member	isClosed,2472,14,8,8
   293                        	.member	hWnd,2480,129,8,32
   294                        	.member	localRect,2512,10,8,64,25
   295                        	.member	globalRect,2576,10,8,64,25
   296                        	.member	clientOffsetRect,2640,10,8,64,25
   297                        	.eos
   298                        	.stag	_FontMetric,32,32
   299                        	.member	width,0,5,8,16
   300                        	.member	height,16,5,8,16
   301                        	.eos
   302                        	.stag	_ctl_Textbox,112,33
   303                        	.member	win_id,0,5,8,16
   304                        	.member	win_x,16,5,8,16
   305                        	.member	win_y,32,5,8,16
   306                        	.member	win_width,48,5,8,16
   307                        	.member	win_height,64,5,8,16
   308                        	.member	content,80,1166,8,32
   309                        	.eos
   310                        	.stag	_MenuStruct,248,34
   311                        	.member	cx,0,5,8,16
   312                        	.member	cy,16,5,8,16
   313                        	.member	width,32,5,8,16
   314                        	.member	height,48,5,8,16
   315                        	.member	fcolor,64,14,8,8
   316                        	.member	bcolor,72,14,8,8
   317                        	.member	chromeLeft,80,14,8,8
   318                        	.member	chromeRight1,88,14,8,8
   319                        	.member	chromeRight2,96,14,8,8
   320                        	.member	itemId,104,16,8,16
   321                        	.member	pCaption,120,142,8,32
   322                        	.member	subMenus,152,138,8,32,6
   323                        	.member	pBackground,184,129,8,32
   324                        	.member	hWndOwner,216,129,8,32
   325                        	.eos
   326                        	.stag	fake35_,112,35
   327                        	.member	menuId,0,16,8,16
   328                        	.member	caption,16,142,8,32
   329                        	.member	rect,48,10,8,64,25
   330                        	.eos
   331                        	.stag	fake36_,3568,36
   332                        	.member	pParent,0,138,8,32,30
   333                        	.member	rect,32,10,8,64,25
  Thu Dec  3 2020 22:25                                                Page 7


   334                        	.member	captions,96,1134,8,32,24
   335                        	.member	chrome,864,110,8,0,24
   336                        	.member	ids,1056,112,8,0,24
   337                        	.member	clickable,1440,106,8,0,27,24
   338                        	.member	selected,3552,16,8,16
   339                        	.eos
   340                        	.stag	_fx_button_t,80,37
   341                        	.member	pCaption,0,142,8,32
   342                        	.member	data,32,129,8,32
   343                        	.member	captionPixelWidth,64,16,8,16
   344                        	.eos
   345                        	.stag	_fx_scrollbar_t,192,38
   346                        	.member	min,0,16,8,16
   347                        	.member	max,16,16,8,16
   348                        	.member	increment,32,16,8,16
   349                        	.member	stopsize,48,16,8,16
   350                        	.member	location,64,5,8,16
   351                        	.member	state,80,5,8,16
   352                        	.member	rectThumb,96,10,8,64,25
   353                        	.member	data,160,129,8,32
   354                        	.eos
   355                        	.stag	_fx_listbox_t,240,39
   356                        	.member	pos,0,5,8,16
   357                        	.member	selected,16,16,8,16
   358                        	.member	offsetX,32,5,8,16
   359                        	.member	offsetY,48,5,8,16
   360                        	.member	inc,64,5,8,16
   361                        	.member	direction,80,5,8,16
   362                        	.member	top,96,5,8,16
   363                        	.member	bottom,112,5,8,16
   364                        	.member	indexTop,128,5,8,16
   365                        	.member	indexBottom,144,5,8,16
   366                        	.member	maxItems,160,16,8,16
   367                        	.member	fontSet,176,142,8,32
   368                        	.member	data,208,129,8,32
   369                        	.eos
   370                        	.stag	_fx_textbox_t,144,40
   371                        	.member	pos,0,5,8,16
   372                        	.member	selected,16,16,8,16
   373                        	.member	offsetX,32,5,8,16
   374                        	.member	offsetY,48,5,8,16
   375                        	.member	isShifted,64,14,8,8
   376                        	.member	cursorState,72,14,8,8
   377                        	.member	fontSet,80,142,8,32
   378                        	.member	data,112,129,8,32
   379                        	.eos
   380                        	.stag	_fx_menuAnchor_t,144,41
   381                        	.member	pCaption,0,142,8,32
   382                        	.member	renderLayoutX,32,16,8,16
   383                        	.member	renderLayoutY,48,16,8,16
   384                        	.member	captionPixelWidth,64,16,8,16
   385                        	.member	data,80,129,8,32
   386                        	.member	droppedWindow,112,138,8,32,30
   387                        	.eos
   388                        	.stag	_SubMenuStruct,64,42
   389                        	.member	caption,0,142,8,32
   390                        	.member	action,32,641,8,32
   391                        	.eos
  Thu Dec  3 2020 22:25                                                Page 8


   392                        	.stag	_SubMenuListStruct,40,43
   393                        	.member	cMenus,0,14,8,8
   394                        	.member	psubmenus,8,9354,8,32,42
   395                        	.eos
   396                        	.stag	_fx_ComBuffer,2080,44
   397                        	.member	cbSize,0,16,8,16
   398                        	.member	cbBuffer,16,16,8,16
   399                        	.member	buffer,32,110,8,0,256
   400                        	.eos
   401                        	.line	708
   402                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   403                        	.stag	_fx_string,64,45
   404                        	.member	size,0,16,8,16
   405                        	.member	pos,16,5,8,16
   406                        	.member	buffer,32,142,8,32
   407                        	.eos
   408                        	.line	71
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.c",2
   410                        ;#include "fxmemorymanager.h"
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   412                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   413                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   414                        	.line	205
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
   416                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   417                        	.line	134
   418                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
   419                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
   420                        	.line	103
   421                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
   422                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   423                        	.line	708
   424                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   425                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   426                        	.line	89
   427                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   428                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   429                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   430                        	.line	708
   431                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   432                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Thu Dec  3 2020 22:25                                                Page 9


                    space\FXOSv1\src\fmx_vicky.h",0
   433                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   434                        	.line	708
   435                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   436                        	.line	72
   437                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   438                        	.line	1325
   439                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   440                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   441                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   442                        	.line	25
   443                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   444                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   445                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   446                        	.line	708
   447                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   448                        	.line	61
   449                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   450                        	.stag	_fx_zero_page,448,46
   451                        	.member	fxos_mouse_byte_0,0,14,8,8
   452                        	.member	fxos_mouse_byte_1,8,14,8,8
   453                        	.member	fxos_mouse_byte_2,16,14,8,8
   454                        	.member	fxos_mouse_byte_t,24,14,8,8
   455                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   456                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   457                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   458                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   459                        	.member	fxos_key_byte_0,64,14,8,8
   460                        	.member	fxos_key_byte_1,72,14,8,8
   461                        	.member	fxos_key_byte_2,80,14,8,8
   462                        	.member	fxos_mouse_ctl,88,14,8,8
   463                        	.member	fxos_mouse_index,96,14,8,8
   464                        	.member	fxos_mouse_status,104,14,8,8
   465                        	.member	VersionMajor,112,16,8,16
   466                        	.member	VersionMinor,128,16,8,16
   467                        	.member	VersionRelease,144,16,8,16
   468                        	.member	topMemory,160,18,8,32
   469                        	.member	bottomMemory,192,18,8,32
   470                        	.member	availableMemory,224,18,8,32
   471                        	.member	availableMemoryK,256,18,8,32
   472                        	.member	availableHeapMemory,288,18,8,32
   473                        	.member	availableHeapMemoryK,320,18,8,32
   474                        	.member	kernelFunctionCallId,352,16,8,16
   475                        	.member	kernelFunctionCallBank,368,14,8,8
   476                        	.member	kernelFunctionCallReserved,376,14,8,8
   477                        	.member	kernelFunctionCallParameter,384,129,8,32
   478                        	.member	kernelFunctionCallReturn,416,129,8,32
  Thu Dec  3 2020 22:25                                                Page 10


   479                        	.eos
   480                        	.stag	_fx_environment,96,47
   481                        	.member	variables,0,142,8,32
   482                        	.member	reserved1,32,5,8,16
   483                        	.member	reserved2,48,5,8,16
   484                        	.member	reserved3,64,5,8,16
   485                        	.member	reserved4,80,5,8,16
   486                        	.eos
   487                        	.stag	_debug_byte_bits,8,48
   488                        	.member	bit7,0,14,17,1
   489                        	.member	bit6,1,14,17,1
   490                        	.member	bit5,2,14,17,1
   491                        	.member	bit4,3,14,17,1
   492                        	.member	bit3,4,14,17,1
   493                        	.member	bit2,5,14,17,1
   494                        	.member	bit1,6,14,17,1
   495                        	.member	bit0,7,14,17,1
   496                        	.eos
   497                        	.stag	_fx_device_driver,1416,49
   498                        	.member	name,0,110,8,0,64
   499                        	.member	version,512,110,8,0,64
   500                        	.member	hmajor,1024,110,8,0,16
   501                        	.member	hminor,1152,110,8,0,16
   502                        	.member	type,1280,14,8,8
   503                        	.member	f_driver_load,1288,129,8,32
   504                        	.member	f_driver_read,1320,129,8,32
   505                        	.member	f_driver_write,1352,129,8,32
   506                        	.member	f_driver_unload,1384,129,8,32
   507                        	.eos
   508                        	.stag	_fx_block_device_driver,1448,50
   509                        	.member	name,0,110,8,0,64
   510                        	.member	version,512,110,8,0,64
   511                        	.member	hmajor,1024,110,8,0,16
   512                        	.member	hminor,1152,110,8,0,16
   513                        	.member	type,1280,14,8,8
   514                        	.member	f_driver_load,1288,129,8,32
   515                        	.member	f_driver_read,1320,129,8,32
   516                        	.member	f_driver_write,1352,129,8,32
   517                        	.member	f_driver_unload,1384,129,8,32
   518                        	.member	f_driver_command,1416,129,8,32
   519                        	.eos
   520                        	.line	270
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   523                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   524                        	.line	134
   525                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   526                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   527                        	.line	205
   528                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   529                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
  Thu Dec  3 2020 22:25                                                Page 11


   530                        	.line	708
   531                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   532                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   533                        	.line	1325
   534                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   535                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   536                        	.line	71
   537                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   538                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   540                        	.line	25
   541                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   542                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   543                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   544                        	.line	708
   545                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   546                        	.line	52
   547                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   548                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   549                        	.line	61
   550                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   551                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   552                        	.line	171
   553                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   554                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   555                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   556                        	.line	708
   557                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   558                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   559                        	.line	25
   560                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   561                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   562                        	.line	39
   563                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   564                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Thu Dec  3 2020 22:25                                                Page 12


                    space\FXOSv1\src\fxeventmanager.h",0
   565                        	.line	743
   566                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   567                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   568                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   569                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   570                        	.line	708
   571                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   572                        	.line	64
   573                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   574                        	.stag	_click_detected,64,51
   575                        	.member	window,0,138,8,32,30
   576                        	.member	handler,32,641,8,32
   577                        	.eos
   578                        	.stag	_current_palette_map,400,52
   579                        	.member	CUR_DESKTOP,0,5,8,16
   580                        	.member	CUR_BACKGROUND,16,5,8,16
   581                        	.member	CUR_FONT,32,5,8,16
   582                        	.member	CUR_SELECTED_FONT,48,5,8,16
   583                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   584                        	.member	CUR_WINDOWFRAME,80,5,8,16
   585                        	.member	CUR_WINDOWBORDER,96,5,8,16
   586                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   587                        	.member	CUR_MENU,128,5,8,16
   588                        	.member	CUR_GADGET,144,5,8,16
   589                        	.member	CUR_COLOR,160,101,8,0,15
   590                        	.eos
   591                        	.line	264
   592                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   593                        	.stag	_childMessage_t,64,53
   594                        	.member	msgType,0,16,8,16
   595                        	.member	msgData,16,129,8,32
   596                        	.member	dataSize,48,16,8,16
   597                        	.eos
   598                        	.line	362
   599                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   600                        	.stag	_fx_main_loopvars,16,54
   601                        	.member	dummy,0,5,8,16
   602                        	.eos
   603                        	.stag	_fxMouseMessageData,64,55
   604                        	.member	button1,0,14,8,8
   605                        	.member	button2,8,14,8,8
   606                        	.member	button3,16,14,8,8
   607                        	.member	button4,24,14,8,8
   608                        	.member	x,32,16,8,16
   609                        	.member	y,48,16,8,16
   610                        	.eos
   611                        	.stag	_fx_eventProcess,64,56
   612                        	.member	process,0,138,8,32,20
   613                        	.member	eventProc,32,641,8,32
  Thu Dec  3 2020 22:25                                                Page 13


   614                        	.eos
   615                        	.stag	_mouse_msg_state,184,57
   616                        	.member	lastEvent,0,18,8,32
   617                        	.member	buttonLeftDown,32,14,8,8
   618                        	.member	lastLeftDown,40,18,8,32
   619                        	.member	buttonRightDown,72,14,8,8
   620                        	.member	lastRightDown,80,18,8,32
   621                        	.member	buttonMiddleDown,112,14,8,8
   622                        	.member	lastMiddleDown,120,18,8,32
   623                        	.member	lastX,152,16,8,16
   624                        	.member	lastY,168,16,8,16
   625                        	.eos
   626                        	.line	743
   627                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   628                        	.stag	_fx_spinner_ctx,48,58
   629                        	.member	index,0,5,8,16
   630                        	.member	spinner,16,142,8,32
   631                        	.eos
   632                        	.stag	_fx_console_ctx,1144,59
   633                        	.member	lineBufferIndex,0,5,8,16
   634                        	.member	lineBuffer,16,110,8,0,128
   635                        	.member	isShifted,1040,14,8,8
   636                        	.member	userData,1048,129,8,32
   637                        	.member	screenBuffer,1080,129,8,32
   638                        	.member	Reserved1,1112,129,8,32
   639                        	.eos
   640                        	.stag	_token,64,60
   641                        	.member	type,0,5,8,16
   642                        	.member	depth,16,16,8,16
   643                        	.member	text,32,142,8,32
   644                        	.eos
   645                        	.stag	_command_args,64,61
   646                        	.member	proc,0,656,8,32
   647                        	.member	tokens,32,138,8,32,5
   648                        	.eos
   649                        	.line	171
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   652                        	.line	71
   653                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   654                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   655                        	.line	61
   656                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   657                        	.line	25
   658                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   659                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   660                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   661                        	.line	32
   662                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Thu Dec  3 2020 22:25                                                Page 14


                    space\FXOSv1\src\umm_malloc_cfg.h",8
   663                        	.stag	UMM_HEAP_INFO_t,256,62
   664                        	.member	totalEntries,0,18,8,32
   665                        	.member	usedEntries,32,18,8,32
   666                        	.member	freeEntries,64,18,8,32
   667                        	.member	totalBlocks,96,18,8,32
   668                        	.member	usedBlocks,128,18,8,32
   669                        	.member	freeBlocks,160,18,8,32
   670                        	.member	maxFreeContiguousBlocks,192,18,8,32
   671                        	.member	blockSize,224,18,8,32
   672                        	.eos
   673                        	.line	199
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   675                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   677                        	.line	708
   678                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   679                        	.line	24
   680                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   681                        	.stag	_fx_memory_map,2072,63
   682                        	.member	availableMemory,0,18,8,32
   683                        	.member	valid_segments,32,110,8,0,255
   684                        	.eos
   685                        	.line	39
   686                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.c",3
   687                        ;#include <stdlib.h>
   688                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   689                        	.line	205
   690                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.c",4
   691                        ;
   692                        ;static char bytetohex[] = {'0','1','2','3','4','5
                    ','6','7','8','9','A','B','C','D','E','F'};
   693                        	data
   694                        ~~bytetohex:
   695 00:0000: 30 31 32 33  	db	$30,$31,$32,$33,$34,$35,$36,$37,$38,$39
       00:0004: 34 35 36 37 
       00:0008: 38 39 
   696 00:000A: 41 42 43 44  	db	$41,$42,$43,$44,$45,$46
       00:000E: 45 46 
   697 00:0010:              	ends
   698                        ;static char bytetodec[] = {'0','1','2','3','4','5
                    ','6','7','8','9'};
   699                        	data
   700                        ~~bytetodec:
   701 00:0010: 30 31 32 33  	db	$30,$31,$32,$33,$34,$35,$36,$37,$38,$39
       00:0014: 34 35 36 37 
       00:0018: 38 39 
   702 00:001A:              	ends
   703                        ;
   704                        ;//
  Thu Dec  3 2020 22:25                                                Page 15


   705                        ;// STRING LIB
   706                        ;//
   707                        ;char *strupr(char *s)
   708                        ;{
   709                        	.line	12
   710                        	.line	13
   711                        	code
   712                        	xdef	~~strupr
   713                        	func
   714                        	.function	13
   715                        ~~strupr:
   716                        	longa	on
   717                        	longi	on
   718 00:0000: 3B           	tsc
   719 00:0001: 38           	sec
   720 00:0002: E9 04 00     	sbc	#L2
   721 00:0005: 1B           	tcs
   722 00:0006: 0B           	phd
   723 00:0007: 5B           	tcd
   724             00000004   s_0	set	4
   725                        	.block	13
   726                        ;  char	*p;
   727                        ;
   728                        ;  for (p = s; *p; ++p)
   729             00000000   p_1	set	0
   730                        	.sym	p,0,142,1,32
   731                        	.sym	s,4,142,6,32
   732                        	.line	16
   733 00:0008: A5 08        	lda	<L2+s_0
   734 00:000A: 85 01        	sta	<L3+p_1
   735 00:000C: A5 0A        	lda	<L2+s_0+2
   736 00:000E: 85 03        	sta	<L3+p_1+2
   737 00:0010: 82 16 00     	brl	L10004
   738                        L10003:
   739                        ;    *p = toupper(*p);
   740                        	.line	17
   741 00:0013: A7 01        	lda	[<L3+p_1]
   742 00:0015: 29 FF 00     	and	#$ff
   743 00:0018: 48           	pha
   744 00:0019: 22 xx xx xx  	jsl	~~toupper
   745 00:001D: E2 20        	sep	#$20
   746                        	longa	off
   747 00:001F: 87 01        	sta	[<L3+p_1]
   748 00:0021: C2 20        	rep	#$20
   749                        	longa	on
   750                        L10001:
   751 00:0023: E6 01        	inc	<L3+p_1
   752 00:0025: D0 02        	bne	L5
   753 00:0027: E6 03        	inc	<L3+p_1+2
   754                        L5:
   755                        L10004:
   756 00:0029: A7 01        	lda	[<L3+p_1]
   757 00:002B: 29 FF 00     	and	#$ff
   758 00:002E: F0 03        	beq	L6
   759 00:0030: 82 E0 FF     	brl	L10003
   760                        L6:
   761                        L10002:
   762                        ;
  Thu Dec  3 2020 22:25                                                Page 16


   763                        ;  return(s);
   764                        	.line	19
   765 00:0033: A6 0A        	ldx	<L2+s_0+2
   766 00:0035: A5 08        	lda	<L2+s_0
   767                        L7:
   768 00:0037: A8           	tay
   769 00:0038: A5 06        	lda	<L2+2
   770 00:003A: 85 0A        	sta	<L2+2+4
   771 00:003C: A5 05        	lda	<L2+1
   772 00:003E: 85 09        	sta	<L2+1+4
   773 00:0040: 2B           	pld
   774 00:0041: 3B           	tsc
   775 00:0042: 18           	clc
   776 00:0043: 69 08 00     	adc	#L2+4
   777 00:0046: 1B           	tcs
   778 00:0047: 98           	tya
   779 00:0048: 6B           	rtl
   780                        ;
   781                        ;}
   782                        	.line	21
   783                        	.endblock	21
   784             00000004   L2	equ	4
   785             00000001   L3	equ	1
   786                        	ends
   787                        	efunc
   788                        	.endfunc	21,1,4
   789                        	.line	21
   790                        ;
   791                        ;/* ----------------------------------------------
                    ---------------------- */
   792                        ;char * strlower(char * s)
   793                        ;{
   794                        	.line	24
   795                        	.line	25
   796                        	code
   797                        	xdef	~~strlower
   798                        	func
   799                        	.function	25
   800                        ~~strlower:
   801                        	longa	on
   802                        	longi	on
   803 00:0049: 3B           	tsc
   804 00:004A: 38           	sec
   805 00:004B: E9 04 00     	sbc	#L8
   806 00:004E: 1B           	tcs
   807 00:004F: 0B           	phd
   808 00:0050: 5B           	tcd
   809             00000004   s_0	set	4
   810                        	.block	25
   811                        ;  char	*p;
   812                        ;
   813                        ;  for (p = s; *p; ++p)
   814             00000000   p_1	set	0
   815                        	.sym	p,0,142,1,32
   816                        	.sym	s,4,142,6,32
   817                        	.line	28
   818 00:0051: A5 08        	lda	<L8+s_0
   819 00:0053: 85 01        	sta	<L9+p_1
  Thu Dec  3 2020 22:25                                                Page 17


   820 00:0055: A5 0A        	lda	<L8+s_0+2
   821 00:0057: 85 03        	sta	<L9+p_1+2
   822 00:0059: 82 16 00     	brl	L10008
   823                        L10007:
   824                        ;    *p = tolower(*p);
   825                        	.line	29
   826 00:005C: A7 01        	lda	[<L9+p_1]
   827 00:005E: 29 FF 00     	and	#$ff
   828 00:0061: 48           	pha
   829 00:0062: 22 xx xx xx  	jsl	~~tolower
   830 00:0066: E2 20        	sep	#$20
   831                        	longa	off
   832 00:0068: 87 01        	sta	[<L9+p_1]
   833 00:006A: C2 20        	rep	#$20
   834                        	longa	on
   835                        L10005:
   836 00:006C: E6 01        	inc	<L9+p_1
   837 00:006E: D0 02        	bne	L11
   838 00:0070: E6 03        	inc	<L9+p_1+2
   839                        L11:
   840                        L10008:
   841 00:0072: A7 01        	lda	[<L9+p_1]
   842 00:0074: 29 FF 00     	and	#$ff
   843 00:0077: F0 03        	beq	L12
   844 00:0079: 82 E0 FF     	brl	L10007
   845                        L12:
   846                        L10006:
   847                        ;
   848                        ;  return(s);
   849                        	.line	31
   850 00:007C: A6 0A        	ldx	<L8+s_0+2
   851 00:007E: A5 08        	lda	<L8+s_0
   852                        L13:
   853 00:0080: A8           	tay
   854 00:0081: A5 06        	lda	<L8+2
   855 00:0083: 85 0A        	sta	<L8+2+4
   856 00:0085: A5 05        	lda	<L8+1
   857 00:0087: 85 09        	sta	<L8+1+4
   858 00:0089: 2B           	pld
   859 00:008A: 3B           	tsc
   860 00:008B: 18           	clc
   861 00:008C: 69 08 00     	adc	#L8+4
   862 00:008F: 1B           	tcs
   863 00:0090: 98           	tya
   864 00:0091: 6B           	rtl
   865                        ;
   866                        ;}
   867                        	.line	33
   868                        	.endblock	33
   869             00000004   L8	equ	4
   870             00000001   L9	equ	1
   871                        	ends
   872                        	efunc
   873                        	.endfunc	33,1,4
   874                        	.line	33
   875                        ;
   876                        ;char FAR * k_pad_string(char FAR * dest,char FAR 
                    * src,char filler,int width)
  Thu Dec  3 2020 22:25                                                Page 18


   877                        ;{
   878                        	.line	35
   879                        	.line	36
   880                        	code
   881                        	xdef	~~k_pad_string
   882                        	func
   883                        	.function	36
   884                        ~~k_pad_string:
   885                        	longa	on
   886                        	longi	on
   887 00:0092: 3B           	tsc
   888 00:0093: 38           	sec
   889 00:0094: E9 0A 00     	sbc	#L14
   890 00:0097: 1B           	tcs
   891 00:0098: 0B           	phd
   892 00:0099: 5B           	tcd
   893             00000004   dest_0	set	4
   894             00000008   src_0	set	8
   895             0000000C   filler_0	set	12
   896             0000000E   width_0	set	14
   897                        	.block	36
   898                        ;	int len = 0;
   899                        ;
   900                        ;	memset(dest,0,width + 1);
   901             00000000   len_1	set	0
   902                        	.sym	len,0,5,1,16
   903                        	.sym	dest,4,142,6,32
   904                        	.sym	src,8,142,6,32
   905                        	.sym	filler,12,14,6,8
   906                        	.sym	width,14,5,6,16
   907 00:009A: 64 09        	stz	<L15+len_1
   908                        	.line	39
   909 00:009C: A5 18        	lda	<L14+width_0
   910 00:009E: 1A           	ina
   911 00:009F: 48           	pha
   912 00:00A0: F4 00 00     	pea	#<$0
   913 00:00A3: D4 10        	pei	<L14+dest_0+2
   914 00:00A5: D4 0E        	pei	<L14+dest_0
   915 00:00A7: 22 xx xx xx  	jsl	~~memset
   916                        ;	memset(dest,filler,width);
   917                        	.line	40
   918 00:00AB: D4 18        	pei	<L14+width_0
   919 00:00AD: A5 16        	lda	<L14+filler_0
   920 00:00AF: 29 FF 00     	and	#$ff
   921 00:00B2: 48           	pha
   922 00:00B3: D4 10        	pei	<L14+dest_0+2
   923 00:00B5: D4 0E        	pei	<L14+dest_0
   924 00:00B7: 22 xx xx xx  	jsl	~~memset
   925                        ;
   926                        ;	len = strlen(src);
   927                        	.line	42
   928 00:00BB: D4 14        	pei	<L14+src_0+2
   929 00:00BD: D4 12        	pei	<L14+src_0
   930 00:00BF: 22 xx xx xx  	jsl	~~strlen
   931 00:00C3: 85 09        	sta	<L15+len_1
   932                        ;
   933                        ;	if(len > width)
   934                        	.line	44
  Thu Dec  3 2020 22:25                                                Page 19


   935                        ;		len = width;
   936 00:00C5: 38           	sec
   937 00:00C6: A5 18        	lda	<L14+width_0
   938 00:00C8: E5 09        	sbc	<L15+len_1
   939 00:00CA: 70 03        	bvs	L17
   940 00:00CC: 49 00 80     	eor	#$8000
   941                        L17:
   942 00:00CF: 10 03        	bpl	L18
   943 00:00D1: 82 04 00     	brl	L10009
   944                        L18:
   945                        	.line	45
   946 00:00D4: A5 18        	lda	<L14+width_0
   947 00:00D6: 85 09        	sta	<L15+len_1
   948                        ;
   949                        ;	memcpy(&dest[width - len],src,len);
   950                        L10009:
   951                        	.line	47
   952 00:00D8: D4 09        	pei	<L15+len_1
   953 00:00DA: D4 14        	pei	<L14+src_0+2
   954 00:00DC: D4 12        	pei	<L14+src_0
   955 00:00DE: 38           	sec
   956 00:00DF: A5 18        	lda	<L14+width_0
   957 00:00E1: E5 09        	sbc	<L15+len_1
   958 00:00E3: 85 01        	sta	<R0
   959 00:00E5: A0 00 00     	ldy	#$0
   960 00:00E8: A5 01        	lda	<R0
   961 00:00EA: 10 01        	bpl	L19
   962 00:00EC: 88           	dey
   963                        L19:
   964 00:00ED: 85 01        	sta	<R0
   965 00:00EF: 84 03        	sty	<R0+2
   966 00:00F1: 18           	clc
   967 00:00F2: A5 0E        	lda	<L14+dest_0
   968 00:00F4: 65 01        	adc	<R0
   969 00:00F6: 85 05        	sta	<R1
   970 00:00F8: A5 10        	lda	<L14+dest_0+2
   971 00:00FA: 65 03        	adc	<R0+2
   972 00:00FC: 85 07        	sta	<R1+2
   973 00:00FE: D4 07        	pei	<R1+2
   974 00:0100: D4 05        	pei	<R1
   975 00:0102: 22 xx xx xx  	jsl	~~memcpy
   976                        ;
   977                        ;	return dest;
   978                        	.line	49
   979 00:0106: A6 10        	ldx	<L14+dest_0+2
   980 00:0108: A5 0E        	lda	<L14+dest_0
   981                        L20:
   982 00:010A: A8           	tay
   983 00:010B: A5 0C        	lda	<L14+2
   984 00:010D: 85 18        	sta	<L14+2+12
   985 00:010F: A5 0B        	lda	<L14+1
   986 00:0111: 85 17        	sta	<L14+1+12
   987 00:0113: 2B           	pld
   988 00:0114: 3B           	tsc
   989 00:0115: 18           	clc
   990 00:0116: 69 16 00     	adc	#L14+12
   991 00:0119: 1B           	tcs
   992 00:011A: 98           	tya
  Thu Dec  3 2020 22:25                                                Page 20


   993 00:011B: 6B           	rtl
   994                        ;}
   995                        	.line	50
   996                        	.endblock	50
   997             0000000A   L14	equ	10
   998             00000009   L15	equ	9
   999                        	ends
  1000                        	efunc
  1001                        	.endfunc	50,9,10
  1002                        	.line	50
  1003                        ;
  1004                        ;LPSTR k_strcat(LPSTR dest,LPCSTR src)
  1005                        ;{
  1006                        	.line	52
  1007                        	.line	53
  1008                        	code
  1009                        	xdef	~~k_strcat
  1010                        	func
  1011                        	.function	53
  1012                        ~~k_strcat:
  1013                        	longa	on
  1014                        	longi	on
  1015 00:011C: 3B           	tsc
  1016 00:011D: 38           	sec
  1017 00:011E: E9 00 00     	sbc	#L21
  1018 00:0121: 1B           	tcs
  1019 00:0122: 0B           	phd
  1020 00:0123: 5B           	tcd
  1021             00000004   dest_0	set	4
  1022             00000008   src_0	set	8
  1023                        	.block	53
  1024                        ;	return dest;
  1025                        	.sym	dest,4,142,6,32
  1026                        	.sym	src,8,142,6,32
  1027                        	.line	54
  1028 00:0124: A6 06        	ldx	<L21+dest_0+2
  1029 00:0126: A5 04        	lda	<L21+dest_0
  1030                        L24:
  1031 00:0128: A8           	tay
  1032 00:0129: A5 02        	lda	<L21+2
  1033 00:012B: 85 0A        	sta	<L21+2+8
  1034 00:012D: A5 01        	lda	<L21+1
  1035 00:012F: 85 09        	sta	<L21+1+8
  1036 00:0131: 2B           	pld
  1037 00:0132: 3B           	tsc
  1038 00:0133: 18           	clc
  1039 00:0134: 69 08 00     	adc	#L21+8
  1040 00:0137: 1B           	tcs
  1041 00:0138: 98           	tya
  1042 00:0139: 6B           	rtl
  1043                        ;}
  1044                        	.line	55
  1045                        	.endblock	55
  1046             00000000   L21	equ	0
  1047             00000001   L22	equ	1
  1048                        	ends
  1049                        	efunc
  1050                        	.endfunc	55,1,0
  Thu Dec  3 2020 22:25                                                Page 21


  1051                        	.line	55
  1052                        ;
  1053                        ;LPSTR k_strcpy(LPSTR dest,LPCSTR src)
  1054                        ;{
  1055                        	.line	57
  1056                        	.line	58
  1057                        	code
  1058                        	xdef	~~k_strcpy
  1059                        	func
  1060                        	.function	58
  1061                        ~~k_strcpy:
  1062                        	longa	on
  1063                        	longi	on
  1064 00:013A: 3B           	tsc
  1065 00:013B: 38           	sec
  1066 00:013C: E9 00 00     	sbc	#L25
  1067 00:013F: 1B           	tcs
  1068 00:0140: 0B           	phd
  1069 00:0141: 5B           	tcd
  1070             00000004   dest_0	set	4
  1071             00000008   src_0	set	8
  1072                        	.block	58
  1073                        ;	return dest;
  1074                        	.sym	dest,4,142,6,32
  1075                        	.sym	src,8,142,6,32
  1076                        	.line	59
  1077 00:0142: A6 06        	ldx	<L25+dest_0+2
  1078 00:0144: A5 04        	lda	<L25+dest_0
  1079                        L28:
  1080 00:0146: A8           	tay
  1081 00:0147: A5 02        	lda	<L25+2
  1082 00:0149: 85 0A        	sta	<L25+2+8
  1083 00:014B: A5 01        	lda	<L25+1
  1084 00:014D: 85 09        	sta	<L25+1+8
  1085 00:014F: 2B           	pld
  1086 00:0150: 3B           	tsc
  1087 00:0151: 18           	clc
  1088 00:0152: 69 08 00     	adc	#L25+8
  1089 00:0155: 1B           	tcs
  1090 00:0156: 98           	tya
  1091 00:0157: 6B           	rtl
  1092                        ;}
  1093                        	.line	60
  1094                        	.endblock	60
  1095             00000000   L25	equ	0
  1096             00000001   L26	equ	1
  1097                        	ends
  1098                        	efunc
  1099                        	.endfunc	60,1,0
  1100                        	.line	60
  1101                        ;
  1102                        ;/*
  1103                        ; *
  1104                        ; *
  1105                        ; *
  1106                        ; *
  1107                        ; */
  1108                        ;PFAR k_inttodec(UINT b,char FAR *bhbuffer)
  Thu Dec  3 2020 22:25                                                Page 22


  1109                        ;{
  1110                        	.line	68
  1111                        	.line	69
  1112                        	code
  1113                        	xdef	~~k_inttodec
  1114                        	func
  1115                        	.function	69
  1116                        ~~k_inttodec:
  1117                        	longa	on
  1118                        	longi	on
  1119 00:0158: 3B           	tsc
  1120 00:0159: 38           	sec
  1121 00:015A: E9 0E 00     	sbc	#L29
  1122 00:015D: 1B           	tcs
  1123 00:015E: 0B           	phd
  1124 00:015F: 5B           	tcd
  1125             00000004   b_0	set	4
  1126             00000006   bhbuffer_0	set	6
  1127                        	.block	69
  1128                        ;	int tthou = 0;
  1129                        ;	int thou  = 0;
  1130                        ;	int hund  = 0;
  1131                        ;	int tens  = 0;
  1132                        ;	int ones  = 0;
  1133                        ;
  1134                        ;	bhbuffer[0] = '0';
  1135             00000000   tthou_1	set	0
  1136             00000002   thou_1	set	2
  1137             00000004   hund_1	set	4
  1138             00000006   tens_1	set	6
  1139             00000008   ones_1	set	8
  1140                        	.sym	tthou,0,5,1,16
  1141                        	.sym	thou,2,5,1,16
  1142                        	.sym	hund,4,5,1,16
  1143                        	.sym	tens,6,5,1,16
  1144                        	.sym	ones,8,5,1,16
  1145                        	.sym	b,4,16,6,16
  1146                        	.sym	bhbuffer,6,142,6,32
  1147 00:0160: 64 05        	stz	<L30+tthou_1
  1148 00:0162: 64 07        	stz	<L30+thou_1
  1149 00:0164: 64 09        	stz	<L30+hund_1
  1150 00:0166: 64 0B        	stz	<L30+tens_1
  1151 00:0168: 64 0D        	stz	<L30+ones_1
  1152                        	.line	76
  1153 00:016A: E2 20        	sep	#$20
  1154                        	longa	off
  1155 00:016C: A9 30        	lda	#$30
  1156 00:016E: 87 14        	sta	[<L29+bhbuffer_0]
  1157 00:0170: C2 20        	rep	#$20
  1158                        	longa	on
  1159                        ;	bhbuffer[1] = '0';
  1160                        	.line	77
  1161 00:0172: E2 20        	sep	#$20
  1162                        	longa	off
  1163 00:0174: A9 30        	lda	#$30
  1164 00:0176: A0 01 00     	ldy	#$1
  1165 00:0179: 97 14        	sta	[<L29+bhbuffer_0],Y
  1166 00:017B: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 23


  1167                        	longa	on
  1168                        ;	bhbuffer[2] = '0';
  1169                        	.line	78
  1170 00:017D: E2 20        	sep	#$20
  1171                        	longa	off
  1172 00:017F: A9 30        	lda	#$30
  1173 00:0181: A0 02 00     	ldy	#$2
  1174 00:0184: 97 14        	sta	[<L29+bhbuffer_0],Y
  1175 00:0186: C2 20        	rep	#$20
  1176                        	longa	on
  1177                        ;	bhbuffer[3] = '0';
  1178                        	.line	79
  1179 00:0188: E2 20        	sep	#$20
  1180                        	longa	off
  1181 00:018A: A9 30        	lda	#$30
  1182 00:018C: A0 03 00     	ldy	#$3
  1183 00:018F: 97 14        	sta	[<L29+bhbuffer_0],Y
  1184 00:0191: C2 20        	rep	#$20
  1185                        	longa	on
  1186                        ;	bhbuffer[4] = '0';
  1187                        	.line	80
  1188 00:0193: E2 20        	sep	#$20
  1189                        	longa	off
  1190 00:0195: A9 30        	lda	#$30
  1191 00:0197: A0 04 00     	ldy	#$4
  1192 00:019A: 97 14        	sta	[<L29+bhbuffer_0],Y
  1193 00:019C: C2 20        	rep	#$20
  1194                        	longa	on
  1195                        ;	bhbuffer[5] = 0;
  1196                        	.line	81
  1197 00:019E: E2 20        	sep	#$20
  1198                        	longa	off
  1199 00:01A0: A9 00        	lda	#$0
  1200 00:01A2: A0 05 00     	ldy	#$5
  1201 00:01A5: 97 14        	sta	[<L29+bhbuffer_0],Y
  1202 00:01A7: C2 20        	rep	#$20
  1203                        	longa	on
  1204                        ;
  1205                        ;	tthou = (int)((b / 10000));
  1206                        	.line	83
  1207 00:01A9: A5 12        	lda	<L29+b_0
  1208 00:01AB: A2 10 27     	ldx	#<$2710
  1209                        	xref	~~~udv
  1210 00:01AE: 22 xx xx xx  	jsl	~~~udv
  1211 00:01B2: 85 05        	sta	<L30+tthou_1
  1212                        ;	b = (b - 10000*tthou);
  1213                        	.line	84
  1214 00:01B4: A5 05        	lda	<L30+tthou_1
  1215 00:01B6: A2 10 27     	ldx	#<$2710
  1216                        	xref	~~~mul
  1217 00:01B9: 22 xx xx xx  	jsl	~~~mul
  1218 00:01BD: 85 01        	sta	<R0
  1219 00:01BF: 38           	sec
  1220 00:01C0: A5 12        	lda	<L29+b_0
  1221 00:01C2: E5 01        	sbc	<R0
  1222 00:01C4: 85 12        	sta	<L29+b_0
  1223                        ;	thou = (int)((b / 1000));
  1224                        	.line	85
  Thu Dec  3 2020 22:25                                                Page 24


  1225 00:01C6: A5 12        	lda	<L29+b_0
  1226 00:01C8: A2 E8 03     	ldx	#<$3e8
  1227                        	xref	~~~udv
  1228 00:01CB: 22 xx xx xx  	jsl	~~~udv
  1229 00:01CF: 85 07        	sta	<L30+thou_1
  1230                        ;	b = (b - 1000*thou);
  1231                        	.line	86
  1232 00:01D1: A5 07        	lda	<L30+thou_1
  1233 00:01D3: A2 E8 03     	ldx	#<$3e8
  1234                        	xref	~~~mul
  1235 00:01D6: 22 xx xx xx  	jsl	~~~mul
  1236 00:01DA: 85 01        	sta	<R0
  1237 00:01DC: 38           	sec
  1238 00:01DD: A5 12        	lda	<L29+b_0
  1239 00:01DF: E5 01        	sbc	<R0
  1240 00:01E1: 85 12        	sta	<L29+b_0
  1241                        ;	hund = (int)((b / 100));
  1242                        	.line	87
  1243 00:01E3: A5 12        	lda	<L29+b_0
  1244 00:01E5: A2 64 00     	ldx	#<$64
  1245                        	xref	~~~udv
  1246 00:01E8: 22 xx xx xx  	jsl	~~~udv
  1247 00:01EC: 85 09        	sta	<L30+hund_1
  1248                        ;	b = (b - 100*hund);
  1249                        	.line	88
  1250 00:01EE: A5 09        	lda	<L30+hund_1
  1251 00:01F0: A2 64 00     	ldx	#<$64
  1252                        	xref	~~~mul
  1253 00:01F3: 22 xx xx xx  	jsl	~~~mul
  1254 00:01F7: 85 01        	sta	<R0
  1255 00:01F9: 38           	sec
  1256 00:01FA: A5 12        	lda	<L29+b_0
  1257 00:01FC: E5 01        	sbc	<R0
  1258 00:01FE: 85 12        	sta	<L29+b_0
  1259                        ;	tens = (int)((b / 10));
  1260                        	.line	89
  1261 00:0200: A5 12        	lda	<L29+b_0
  1262 00:0202: A2 0A 00     	ldx	#<$a
  1263                        	xref	~~~udv
  1264 00:0205: 22 xx xx xx  	jsl	~~~udv
  1265 00:0209: 85 0B        	sta	<L30+tens_1
  1266                        ;	b = (b - 10*tens);
  1267                        	.line	90
  1268 00:020B: A5 0B        	lda	<L30+tens_1
  1269 00:020D: 0A           	asl	A
  1270 00:020E: 0A           	asl	A
  1271 00:020F: 65 0B        	adc	<L30+tens_1
  1272 00:0211: 0A           	asl	A
  1273 00:0212: 85 01        	sta	<R0
  1274 00:0214: 38           	sec
  1275 00:0215: A5 12        	lda	<L29+b_0
  1276 00:0217: E5 01        	sbc	<R0
  1277 00:0219: 85 12        	sta	<L29+b_0
  1278                        ;	ones = (int)b;
  1279                        	.line	91
  1280 00:021B: A5 12        	lda	<L29+b_0
  1281 00:021D: 85 0D        	sta	<L30+ones_1
  1282                        ;
  Thu Dec  3 2020 22:25                                                Page 25


  1283                        ;	bhbuffer[0] = bytetodec[tthou];
  1284                        	.line	93
  1285 00:021F: E2 20        	sep	#$20
  1286                        	longa	off
  1287 00:0221: A6 05        	ldx	<L30+tthou_1
  1288 00:0223: BD xx xx     	lda	|~~bytetodec,X
  1289 00:0226: 87 14        	sta	[<L29+bhbuffer_0]
  1290 00:0228: C2 20        	rep	#$20
  1291                        	longa	on
  1292                        ;	bhbuffer[1] = bytetodec[thou];
  1293                        	.line	94
  1294 00:022A: E2 20        	sep	#$20
  1295                        	longa	off
  1296 00:022C: A6 07        	ldx	<L30+thou_1
  1297 00:022E: BD xx xx     	lda	|~~bytetodec,X
  1298 00:0231: A0 01 00     	ldy	#$1
  1299 00:0234: 97 14        	sta	[<L29+bhbuffer_0],Y
  1300 00:0236: C2 20        	rep	#$20
  1301                        	longa	on
  1302                        ;	bhbuffer[2] = bytetodec[hund];
  1303                        	.line	95
  1304 00:0238: E2 20        	sep	#$20
  1305                        	longa	off
  1306 00:023A: A6 09        	ldx	<L30+hund_1
  1307 00:023C: BD xx xx     	lda	|~~bytetodec,X
  1308 00:023F: A0 02 00     	ldy	#$2
  1309 00:0242: 97 14        	sta	[<L29+bhbuffer_0],Y
  1310 00:0244: C2 20        	rep	#$20
  1311                        	longa	on
  1312                        ;	bhbuffer[3] = bytetodec[tens];
  1313                        	.line	96
  1314 00:0246: E2 20        	sep	#$20
  1315                        	longa	off
  1316 00:0248: A6 0B        	ldx	<L30+tens_1
  1317 00:024A: BD xx xx     	lda	|~~bytetodec,X
  1318 00:024D: A0 03 00     	ldy	#$3
  1319 00:0250: 97 14        	sta	[<L29+bhbuffer_0],Y
  1320 00:0252: C2 20        	rep	#$20
  1321                        	longa	on
  1322                        ;	bhbuffer[4] = bytetodec[ones];
  1323                        	.line	97
  1324 00:0254: E2 20        	sep	#$20
  1325                        	longa	off
  1326 00:0256: A6 0D        	ldx	<L30+ones_1
  1327 00:0258: BD xx xx     	lda	|~~bytetodec,X
  1328 00:025B: A0 04 00     	ldy	#$4
  1329 00:025E: 97 14        	sta	[<L29+bhbuffer_0],Y
  1330 00:0260: C2 20        	rep	#$20
  1331                        	longa	on
  1332                        ;
  1333                        ;	return bhbuffer;
  1334                        	.line	99
  1335 00:0262: A6 16        	ldx	<L29+bhbuffer_0+2
  1336 00:0264: A5 14        	lda	<L29+bhbuffer_0
  1337                        L32:
  1338 00:0266: A8           	tay
  1339 00:0267: A5 10        	lda	<L29+2
  1340 00:0269: 85 16        	sta	<L29+2+6
  Thu Dec  3 2020 22:25                                                Page 26


  1341 00:026B: A5 0F        	lda	<L29+1
  1342 00:026D: 85 15        	sta	<L29+1+6
  1343 00:026F: 2B           	pld
  1344 00:0270: 3B           	tsc
  1345 00:0271: 18           	clc
  1346 00:0272: 69 14 00     	adc	#L29+6
  1347 00:0275: 1B           	tcs
  1348 00:0276: 98           	tya
  1349 00:0277: 6B           	rtl
  1350                        ;}
  1351                        	.line	100
  1352                        	.endblock	100
  1353             0000000E   L29	equ	14
  1354             00000005   L30	equ	5
  1355                        	ends
  1356                        	efunc
  1357                        	.endfunc	100,5,14
  1358                        	.line	100
  1359                        ;/*
  1360                        ; *
  1361                        ; *
  1362                        ; *
  1363                        ; *
  1364                        ; */
  1365                        ;PFAR k_longtodec(ULONG b,char FAR *bhbuffer)
  1366                        ;{
  1367                        	.line	107
  1368                        	.line	108
  1369                        	code
  1370                        	xdef	~~k_longtodec
  1371                        	func
  1372                        	.function	108
  1373                        ~~k_longtodec:
  1374                        	longa	on
  1375                        	longi	on
  1376 00:0278: 3B           	tsc
  1377 00:0279: 38           	sec
  1378 00:027A: E9 18 00     	sbc	#L33
  1379 00:027D: 1B           	tcs
  1380 00:027E: 0B           	phd
  1381 00:027F: 5B           	tcd
  1382             00000004   b_0	set	4
  1383             00000008   bhbuffer_0	set	8
  1384                        	.block	108
  1385                        ;	int bill  = 0;
  1386                        ;	int hmill = 0;
  1387                        ;	int tmill = 0;
  1388                        ;	int mill  = 0;
  1389                        ;	int hthou = 0;
  1390                        ;	int tthou = 0;
  1391                        ;	int thou  = 0;
  1392                        ;	int hund  = 0;
  1393                        ;	int tens  = 0;
  1394                        ;	int ones  = 0;
  1395                        ;
  1396                        ;	// 4000000000
  1397                        ;	bhbuffer[0] = '0';
  1398             00000000   bill_1	set	0
  Thu Dec  3 2020 22:25                                                Page 27


  1399             00000002   hmill_1	set	2
  1400             00000004   tmill_1	set	4
  1401             00000006   mill_1	set	6
  1402             00000008   hthou_1	set	8
  1403             0000000A   tthou_1	set	10
  1404             0000000C   thou_1	set	12
  1405             0000000E   hund_1	set	14
  1406             00000010   tens_1	set	16
  1407             00000012   ones_1	set	18
  1408                        	.sym	bill,0,5,1,16
  1409                        	.sym	hmill,2,5,1,16
  1410                        	.sym	tmill,4,5,1,16
  1411                        	.sym	mill,6,5,1,16
  1412                        	.sym	hthou,8,5,1,16
  1413                        	.sym	tthou,10,5,1,16
  1414                        	.sym	thou,12,5,1,16
  1415                        	.sym	hund,14,5,1,16
  1416                        	.sym	tens,16,5,1,16
  1417                        	.sym	ones,18,5,1,16
  1418                        	.sym	b,4,18,6,32
  1419                        	.sym	bhbuffer,8,142,6,32
  1420 00:0280: 64 05        	stz	<L34+bill_1
  1421 00:0282: 64 07        	stz	<L34+hmill_1
  1422 00:0284: 64 09        	stz	<L34+tmill_1
  1423 00:0286: 64 0B        	stz	<L34+mill_1
  1424 00:0288: 64 0D        	stz	<L34+hthou_1
  1425 00:028A: 64 0F        	stz	<L34+tthou_1
  1426 00:028C: 64 11        	stz	<L34+thou_1
  1427 00:028E: 64 13        	stz	<L34+hund_1
  1428 00:0290: 64 15        	stz	<L34+tens_1
  1429 00:0292: 64 17        	stz	<L34+ones_1
  1430                        	.line	121
  1431 00:0294: E2 20        	sep	#$20
  1432                        	longa	off
  1433 00:0296: A9 30        	lda	#$30
  1434 00:0298: 87 20        	sta	[<L33+bhbuffer_0]
  1435 00:029A: C2 20        	rep	#$20
  1436                        	longa	on
  1437                        ;	bhbuffer[1] = '0';
  1438                        	.line	122
  1439 00:029C: E2 20        	sep	#$20
  1440                        	longa	off
  1441 00:029E: A9 30        	lda	#$30
  1442 00:02A0: A0 01 00     	ldy	#$1
  1443 00:02A3: 97 20        	sta	[<L33+bhbuffer_0],Y
  1444 00:02A5: C2 20        	rep	#$20
  1445                        	longa	on
  1446                        ;	bhbuffer[2] = '0';
  1447                        	.line	123
  1448 00:02A7: E2 20        	sep	#$20
  1449                        	longa	off
  1450 00:02A9: A9 30        	lda	#$30
  1451 00:02AB: A0 02 00     	ldy	#$2
  1452 00:02AE: 97 20        	sta	[<L33+bhbuffer_0],Y
  1453 00:02B0: C2 20        	rep	#$20
  1454                        	longa	on
  1455                        ;	bhbuffer[3] = '0';
  1456                        	.line	124
  Thu Dec  3 2020 22:25                                                Page 28


  1457 00:02B2: E2 20        	sep	#$20
  1458                        	longa	off
  1459 00:02B4: A9 30        	lda	#$30
  1460 00:02B6: A0 03 00     	ldy	#$3
  1461 00:02B9: 97 20        	sta	[<L33+bhbuffer_0],Y
  1462 00:02BB: C2 20        	rep	#$20
  1463                        	longa	on
  1464                        ;	bhbuffer[4] = '0';
  1465                        	.line	125
  1466 00:02BD: E2 20        	sep	#$20
  1467                        	longa	off
  1468 00:02BF: A9 30        	lda	#$30
  1469 00:02C1: A0 04 00     	ldy	#$4
  1470 00:02C4: 97 20        	sta	[<L33+bhbuffer_0],Y
  1471 00:02C6: C2 20        	rep	#$20
  1472                        	longa	on
  1473                        ;	bhbuffer[5] = '0';
  1474                        	.line	126
  1475 00:02C8: E2 20        	sep	#$20
  1476                        	longa	off
  1477 00:02CA: A9 30        	lda	#$30
  1478 00:02CC: A0 05 00     	ldy	#$5
  1479 00:02CF: 97 20        	sta	[<L33+bhbuffer_0],Y
  1480 00:02D1: C2 20        	rep	#$20
  1481                        	longa	on
  1482                        ;	bhbuffer[6] = '0';
  1483                        	.line	127
  1484 00:02D3: E2 20        	sep	#$20
  1485                        	longa	off
  1486 00:02D5: A9 30        	lda	#$30
  1487 00:02D7: A0 06 00     	ldy	#$6
  1488 00:02DA: 97 20        	sta	[<L33+bhbuffer_0],Y
  1489 00:02DC: C2 20        	rep	#$20
  1490                        	longa	on
  1491                        ;	bhbuffer[7] = '0';
  1492                        	.line	128
  1493 00:02DE: E2 20        	sep	#$20
  1494                        	longa	off
  1495 00:02E0: A9 30        	lda	#$30
  1496 00:02E2: A0 07 00     	ldy	#$7
  1497 00:02E5: 97 20        	sta	[<L33+bhbuffer_0],Y
  1498 00:02E7: C2 20        	rep	#$20
  1499                        	longa	on
  1500                        ;	bhbuffer[8] = '0';
  1501                        	.line	129
  1502 00:02E9: E2 20        	sep	#$20
  1503                        	longa	off
  1504 00:02EB: A9 30        	lda	#$30
  1505 00:02ED: A0 08 00     	ldy	#$8
  1506 00:02F0: 97 20        	sta	[<L33+bhbuffer_0],Y
  1507 00:02F2: C2 20        	rep	#$20
  1508                        	longa	on
  1509                        ;	bhbuffer[9] = '0';
  1510                        	.line	130
  1511 00:02F4: E2 20        	sep	#$20
  1512                        	longa	off
  1513 00:02F6: A9 30        	lda	#$30
  1514 00:02F8: A0 09 00     	ldy	#$9
  Thu Dec  3 2020 22:25                                                Page 29


  1515 00:02FB: 97 20        	sta	[<L33+bhbuffer_0],Y
  1516 00:02FD: C2 20        	rep	#$20
  1517                        	longa	on
  1518                        ;	bhbuffer[10] = 0;
  1519                        	.line	131
  1520 00:02FF: E2 20        	sep	#$20
  1521                        	longa	off
  1522 00:0301: A9 00        	lda	#$0
  1523 00:0303: A0 0A 00     	ldy	#$a
  1524 00:0306: 97 20        	sta	[<L33+bhbuffer_0],Y
  1525 00:0308: C2 20        	rep	#$20
  1526                        	longa	on
  1527                        ;	bhbuffer[11] = 0;
  1528                        	.line	132
  1529 00:030A: E2 20        	sep	#$20
  1530                        	longa	off
  1531 00:030C: A9 00        	lda	#$0
  1532 00:030E: A0 0B 00     	ldy	#$b
  1533 00:0311: 97 20        	sta	[<L33+bhbuffer_0],Y
  1534 00:0313: C2 20        	rep	#$20
  1535                        	longa	on
  1536                        ;	bhbuffer[12] = 0;
  1537                        	.line	133
  1538 00:0315: E2 20        	sep	#$20
  1539                        	longa	off
  1540 00:0317: A9 00        	lda	#$0
  1541 00:0319: A0 0C 00     	ldy	#$c
  1542 00:031C: 97 20        	sta	[<L33+bhbuffer_0],Y
  1543 00:031E: C2 20        	rep	#$20
  1544                        	longa	on
  1545                        ;
  1546                        ;	bill = (int)((b / 1000000000L));
  1547                        	.line	135
  1548 00:0320: F4 9A 3B     	pea	#^$3b9aca00
  1549 00:0323: F4 00 CA     	pea	#<$3b9aca00
  1550 00:0326: D4 1E        	pei	<L33+b_0+2
  1551 00:0328: D4 1C        	pei	<L33+b_0
  1552                        	xref	~~~ludv
  1553 00:032A: 22 xx xx xx  	jsl	~~~ludv
  1554 00:032E: 85 01        	sta	<R0
  1555 00:0330: 86 03        	stx	<R0+2
  1556 00:0332: A5 01        	lda	<R0
  1557 00:0334: 85 05        	sta	<L34+bill_1
  1558                        ;	b = (b - 1000000000L*bill);
  1559                        	.line	136
  1560 00:0336: A0 00 00     	ldy	#$0
  1561 00:0339: A5 05        	lda	<L34+bill_1
  1562 00:033B: 10 01        	bpl	L36
  1563 00:033D: 88           	dey
  1564                        L36:
  1565 00:033E: 85 01        	sta	<R0
  1566 00:0340: 84 03        	sty	<R0+2
  1567 00:0342: F4 9A 3B     	pea	#^$3b9aca00
  1568 00:0345: F4 00 CA     	pea	#<$3b9aca00
  1569 00:0348: D4 03        	pei	<R0+2
  1570 00:034A: D4 01        	pei	<R0
  1571                        	xref	~~~lmul
  1572 00:034C: 22 xx xx xx  	jsl	~~~lmul
  Thu Dec  3 2020 22:25                                                Page 30


  1573 00:0350: 85 01        	sta	<R0
  1574 00:0352: 86 03        	stx	<R0+2
  1575 00:0354: 38           	sec
  1576 00:0355: A5 1C        	lda	<L33+b_0
  1577 00:0357: E5 01        	sbc	<R0
  1578 00:0359: 85 1C        	sta	<L33+b_0
  1579 00:035B: A5 1E        	lda	<L33+b_0+2
  1580 00:035D: E5 03        	sbc	<R0+2
  1581 00:035F: 85 1E        	sta	<L33+b_0+2
  1582                        ;
  1583                        ;	hmill = (int)((b / 100000000L));
  1584                        	.line	138
  1585 00:0361: F4 F5 05     	pea	#^$5f5e100
  1586 00:0364: F4 00 E1     	pea	#<$5f5e100
  1587 00:0367: D4 1E        	pei	<L33+b_0+2
  1588 00:0369: D4 1C        	pei	<L33+b_0
  1589                        	xref	~~~ludv
  1590 00:036B: 22 xx xx xx  	jsl	~~~ludv
  1591 00:036F: 85 01        	sta	<R0
  1592 00:0371: 86 03        	stx	<R0+2
  1593 00:0373: A5 01        	lda	<R0
  1594 00:0375: 85 07        	sta	<L34+hmill_1
  1595                        ;	b = (b - 100000000L*hmill);
  1596                        	.line	139
  1597 00:0377: A0 00 00     	ldy	#$0
  1598 00:037A: A5 07        	lda	<L34+hmill_1
  1599 00:037C: 10 01        	bpl	L37
  1600 00:037E: 88           	dey
  1601                        L37:
  1602 00:037F: 85 01        	sta	<R0
  1603 00:0381: 84 03        	sty	<R0+2
  1604 00:0383: F4 F5 05     	pea	#^$5f5e100
  1605 00:0386: F4 00 E1     	pea	#<$5f5e100
  1606 00:0389: D4 03        	pei	<R0+2
  1607 00:038B: D4 01        	pei	<R0
  1608                        	xref	~~~lmul
  1609 00:038D: 22 xx xx xx  	jsl	~~~lmul
  1610 00:0391: 85 01        	sta	<R0
  1611 00:0393: 86 03        	stx	<R0+2
  1612 00:0395: 38           	sec
  1613 00:0396: A5 1C        	lda	<L33+b_0
  1614 00:0398: E5 01        	sbc	<R0
  1615 00:039A: 85 1C        	sta	<L33+b_0
  1616 00:039C: A5 1E        	lda	<L33+b_0+2
  1617 00:039E: E5 03        	sbc	<R0+2
  1618 00:03A0: 85 1E        	sta	<L33+b_0+2
  1619                        ;
  1620                        ;	tmill = (int)((b / 10000000L));
  1621                        	.line	141
  1622 00:03A2: F4 98 00     	pea	#^$989680
  1623 00:03A5: F4 80 96     	pea	#<$989680
  1624 00:03A8: D4 1E        	pei	<L33+b_0+2
  1625 00:03AA: D4 1C        	pei	<L33+b_0
  1626                        	xref	~~~ludv
  1627 00:03AC: 22 xx xx xx  	jsl	~~~ludv
  1628 00:03B0: 85 01        	sta	<R0
  1629 00:03B2: 86 03        	stx	<R0+2
  1630 00:03B4: A5 01        	lda	<R0
  Thu Dec  3 2020 22:25                                                Page 31


  1631 00:03B6: 85 09        	sta	<L34+tmill_1
  1632                        ;	b = (b - 10000000L*tmill);
  1633                        	.line	142
  1634 00:03B8: A0 00 00     	ldy	#$0
  1635 00:03BB: A5 09        	lda	<L34+tmill_1
  1636 00:03BD: 10 01        	bpl	L38
  1637 00:03BF: 88           	dey
  1638                        L38:
  1639 00:03C0: 85 01        	sta	<R0
  1640 00:03C2: 84 03        	sty	<R0+2
  1641 00:03C4: F4 98 00     	pea	#^$989680
  1642 00:03C7: F4 80 96     	pea	#<$989680
  1643 00:03CA: D4 03        	pei	<R0+2
  1644 00:03CC: D4 01        	pei	<R0
  1645                        	xref	~~~lmul
  1646 00:03CE: 22 xx xx xx  	jsl	~~~lmul
  1647 00:03D2: 85 01        	sta	<R0
  1648 00:03D4: 86 03        	stx	<R0+2
  1649 00:03D6: 38           	sec
  1650 00:03D7: A5 1C        	lda	<L33+b_0
  1651 00:03D9: E5 01        	sbc	<R0
  1652 00:03DB: 85 1C        	sta	<L33+b_0
  1653 00:03DD: A5 1E        	lda	<L33+b_0+2
  1654 00:03DF: E5 03        	sbc	<R0+2
  1655 00:03E1: 85 1E        	sta	<L33+b_0+2
  1656                        ;
  1657                        ;	mill = (int)((b / 1000000L));
  1658                        	.line	144
  1659 00:03E3: F4 0F 00     	pea	#^$f4240
  1660 00:03E6: F4 40 42     	pea	#<$f4240
  1661 00:03E9: D4 1E        	pei	<L33+b_0+2
  1662 00:03EB: D4 1C        	pei	<L33+b_0
  1663                        	xref	~~~ludv
  1664 00:03ED: 22 xx xx xx  	jsl	~~~ludv
  1665 00:03F1: 85 01        	sta	<R0
  1666 00:03F3: 86 03        	stx	<R0+2
  1667 00:03F5: A5 01        	lda	<R0
  1668 00:03F7: 85 0B        	sta	<L34+mill_1
  1669                        ;	b = (b - 1000000L*mill);
  1670                        	.line	145
  1671 00:03F9: A0 00 00     	ldy	#$0
  1672 00:03FC: A5 0B        	lda	<L34+mill_1
  1673 00:03FE: 10 01        	bpl	L39
  1674 00:0400: 88           	dey
  1675                        L39:
  1676 00:0401: 85 01        	sta	<R0
  1677 00:0403: 84 03        	sty	<R0+2
  1678 00:0405: F4 0F 00     	pea	#^$f4240
  1679 00:0408: F4 40 42     	pea	#<$f4240
  1680 00:040B: D4 03        	pei	<R0+2
  1681 00:040D: D4 01        	pei	<R0
  1682                        	xref	~~~lmul
  1683 00:040F: 22 xx xx xx  	jsl	~~~lmul
  1684 00:0413: 85 01        	sta	<R0
  1685 00:0415: 86 03        	stx	<R0+2
  1686 00:0417: 38           	sec
  1687 00:0418: A5 1C        	lda	<L33+b_0
  1688 00:041A: E5 01        	sbc	<R0
  Thu Dec  3 2020 22:25                                                Page 32


  1689 00:041C: 85 1C        	sta	<L33+b_0
  1690 00:041E: A5 1E        	lda	<L33+b_0+2
  1691 00:0420: E5 03        	sbc	<R0+2
  1692 00:0422: 85 1E        	sta	<L33+b_0+2
  1693                        ;
  1694                        ;	hthou = (int)((b / 100000L));
  1695                        	.line	147
  1696 00:0424: F4 01 00     	pea	#^$186a0
  1697 00:0427: F4 A0 86     	pea	#<$186a0
  1698 00:042A: D4 1E        	pei	<L33+b_0+2
  1699 00:042C: D4 1C        	pei	<L33+b_0
  1700                        	xref	~~~ludv
  1701 00:042E: 22 xx xx xx  	jsl	~~~ludv
  1702 00:0432: 85 01        	sta	<R0
  1703 00:0434: 86 03        	stx	<R0+2
  1704 00:0436: A5 01        	lda	<R0
  1705 00:0438: 85 0D        	sta	<L34+hthou_1
  1706                        ;	b = (b - 100000L*hthou);
  1707                        	.line	148
  1708 00:043A: A0 00 00     	ldy	#$0
  1709 00:043D: A5 0D        	lda	<L34+hthou_1
  1710 00:043F: 10 01        	bpl	L40
  1711 00:0441: 88           	dey
  1712                        L40:
  1713 00:0442: 85 01        	sta	<R0
  1714 00:0444: 84 03        	sty	<R0+2
  1715 00:0446: F4 01 00     	pea	#^$186a0
  1716 00:0449: F4 A0 86     	pea	#<$186a0
  1717 00:044C: D4 03        	pei	<R0+2
  1718 00:044E: D4 01        	pei	<R0
  1719                        	xref	~~~lmul
  1720 00:0450: 22 xx xx xx  	jsl	~~~lmul
  1721 00:0454: 85 01        	sta	<R0
  1722 00:0456: 86 03        	stx	<R0+2
  1723 00:0458: 38           	sec
  1724 00:0459: A5 1C        	lda	<L33+b_0
  1725 00:045B: E5 01        	sbc	<R0
  1726 00:045D: 85 1C        	sta	<L33+b_0
  1727 00:045F: A5 1E        	lda	<L33+b_0+2
  1728 00:0461: E5 03        	sbc	<R0+2
  1729 00:0463: 85 1E        	sta	<L33+b_0+2
  1730                        ;
  1731                        ;
  1732                        ;	tthou = (int)((b / 10000L));
  1733                        	.line	151
  1734 00:0465: F4 00 00     	pea	#^$2710
  1735 00:0468: F4 10 27     	pea	#<$2710
  1736 00:046B: D4 1E        	pei	<L33+b_0+2
  1737 00:046D: D4 1C        	pei	<L33+b_0
  1738                        	xref	~~~ludv
  1739 00:046F: 22 xx xx xx  	jsl	~~~ludv
  1740 00:0473: 85 01        	sta	<R0
  1741 00:0475: 86 03        	stx	<R0+2
  1742 00:0477: A5 01        	lda	<R0
  1743 00:0479: 85 0F        	sta	<L34+tthou_1
  1744                        ;	b = (b - 10000L*tthou);
  1745                        	.line	152
  1746 00:047B: A0 00 00     	ldy	#$0
  Thu Dec  3 2020 22:25                                                Page 33


  1747 00:047E: A5 0F        	lda	<L34+tthou_1
  1748 00:0480: 10 01        	bpl	L41
  1749 00:0482: 88           	dey
  1750                        L41:
  1751 00:0483: 85 01        	sta	<R0
  1752 00:0485: 84 03        	sty	<R0+2
  1753 00:0487: F4 00 00     	pea	#^$2710
  1754 00:048A: F4 10 27     	pea	#<$2710
  1755 00:048D: D4 03        	pei	<R0+2
  1756 00:048F: D4 01        	pei	<R0
  1757                        	xref	~~~lmul
  1758 00:0491: 22 xx xx xx  	jsl	~~~lmul
  1759 00:0495: 85 01        	sta	<R0
  1760 00:0497: 86 03        	stx	<R0+2
  1761 00:0499: 38           	sec
  1762 00:049A: A5 1C        	lda	<L33+b_0
  1763 00:049C: E5 01        	sbc	<R0
  1764 00:049E: 85 1C        	sta	<L33+b_0
  1765 00:04A0: A5 1E        	lda	<L33+b_0+2
  1766 00:04A2: E5 03        	sbc	<R0+2
  1767 00:04A4: 85 1E        	sta	<L33+b_0+2
  1768                        ;	thou = (int)((b / 1000L));
  1769                        	.line	153
  1770 00:04A6: F4 00 00     	pea	#^$3e8
  1771 00:04A9: F4 E8 03     	pea	#<$3e8
  1772 00:04AC: D4 1E        	pei	<L33+b_0+2
  1773 00:04AE: D4 1C        	pei	<L33+b_0
  1774                        	xref	~~~ludv
  1775 00:04B0: 22 xx xx xx  	jsl	~~~ludv
  1776 00:04B4: 85 01        	sta	<R0
  1777 00:04B6: 86 03        	stx	<R0+2
  1778 00:04B8: A5 01        	lda	<R0
  1779 00:04BA: 85 11        	sta	<L34+thou_1
  1780                        ;	b = (b - 1000L*thou);
  1781                        	.line	154
  1782 00:04BC: A0 00 00     	ldy	#$0
  1783 00:04BF: A5 11        	lda	<L34+thou_1
  1784 00:04C1: 10 01        	bpl	L42
  1785 00:04C3: 88           	dey
  1786                        L42:
  1787 00:04C4: 85 01        	sta	<R0
  1788 00:04C6: 84 03        	sty	<R0+2
  1789 00:04C8: F4 00 00     	pea	#^$3e8
  1790 00:04CB: F4 E8 03     	pea	#<$3e8
  1791 00:04CE: D4 03        	pei	<R0+2
  1792 00:04D0: D4 01        	pei	<R0
  1793                        	xref	~~~lmul
  1794 00:04D2: 22 xx xx xx  	jsl	~~~lmul
  1795 00:04D6: 85 01        	sta	<R0
  1796 00:04D8: 86 03        	stx	<R0+2
  1797 00:04DA: 38           	sec
  1798 00:04DB: A5 1C        	lda	<L33+b_0
  1799 00:04DD: E5 01        	sbc	<R0
  1800 00:04DF: 85 1C        	sta	<L33+b_0
  1801 00:04E1: A5 1E        	lda	<L33+b_0+2
  1802 00:04E3: E5 03        	sbc	<R0+2
  1803 00:04E5: 85 1E        	sta	<L33+b_0+2
  1804                        ;	hund = (int)((b / 100L));
  Thu Dec  3 2020 22:25                                                Page 34


  1805                        	.line	155
  1806 00:04E7: F4 00 00     	pea	#^$64
  1807 00:04EA: F4 64 00     	pea	#<$64
  1808 00:04ED: D4 1E        	pei	<L33+b_0+2
  1809 00:04EF: D4 1C        	pei	<L33+b_0
  1810                        	xref	~~~ludv
  1811 00:04F1: 22 xx xx xx  	jsl	~~~ludv
  1812 00:04F5: 85 01        	sta	<R0
  1813 00:04F7: 86 03        	stx	<R0+2
  1814 00:04F9: A5 01        	lda	<R0
  1815 00:04FB: 85 13        	sta	<L34+hund_1
  1816                        ;	b = (b - 100L*hund);
  1817                        	.line	156
  1818 00:04FD: A0 00 00     	ldy	#$0
  1819 00:0500: A5 13        	lda	<L34+hund_1
  1820 00:0502: 10 01        	bpl	L43
  1821 00:0504: 88           	dey
  1822                        L43:
  1823 00:0505: 85 01        	sta	<R0
  1824 00:0507: 84 03        	sty	<R0+2
  1825 00:0509: F4 00 00     	pea	#^$64
  1826 00:050C: F4 64 00     	pea	#<$64
  1827 00:050F: D4 03        	pei	<R0+2
  1828 00:0511: D4 01        	pei	<R0
  1829                        	xref	~~~lmul
  1830 00:0513: 22 xx xx xx  	jsl	~~~lmul
  1831 00:0517: 85 01        	sta	<R0
  1832 00:0519: 86 03        	stx	<R0+2
  1833 00:051B: 38           	sec
  1834 00:051C: A5 1C        	lda	<L33+b_0
  1835 00:051E: E5 01        	sbc	<R0
  1836 00:0520: 85 1C        	sta	<L33+b_0
  1837 00:0522: A5 1E        	lda	<L33+b_0+2
  1838 00:0524: E5 03        	sbc	<R0+2
  1839 00:0526: 85 1E        	sta	<L33+b_0+2
  1840                        ;	tens = (int)((b / 10L));
  1841                        	.line	157
  1842 00:0528: F4 00 00     	pea	#^$a
  1843 00:052B: F4 0A 00     	pea	#<$a
  1844 00:052E: D4 1E        	pei	<L33+b_0+2
  1845 00:0530: D4 1C        	pei	<L33+b_0
  1846                        	xref	~~~ludv
  1847 00:0532: 22 xx xx xx  	jsl	~~~ludv
  1848 00:0536: 85 01        	sta	<R0
  1849 00:0538: 86 03        	stx	<R0+2
  1850 00:053A: A5 01        	lda	<R0
  1851 00:053C: 85 15        	sta	<L34+tens_1
  1852                        ;	b = (b - 10L*tens);
  1853                        	.line	158
  1854 00:053E: A0 00 00     	ldy	#$0
  1855 00:0541: A5 15        	lda	<L34+tens_1
  1856 00:0543: 10 01        	bpl	L44
  1857 00:0545: 88           	dey
  1858                        L44:
  1859 00:0546: 85 01        	sta	<R0
  1860 00:0548: 84 03        	sty	<R0+2
  1861 00:054A: F4 00 00     	pea	#^$a
  1862 00:054D: F4 0A 00     	pea	#<$a
  Thu Dec  3 2020 22:25                                                Page 35


  1863 00:0550: D4 03        	pei	<R0+2
  1864 00:0552: D4 01        	pei	<R0
  1865                        	xref	~~~lmul
  1866 00:0554: 22 xx xx xx  	jsl	~~~lmul
  1867 00:0558: 85 01        	sta	<R0
  1868 00:055A: 86 03        	stx	<R0+2
  1869 00:055C: 38           	sec
  1870 00:055D: A5 1C        	lda	<L33+b_0
  1871 00:055F: E5 01        	sbc	<R0
  1872 00:0561: 85 1C        	sta	<L33+b_0
  1873 00:0563: A5 1E        	lda	<L33+b_0+2
  1874 00:0565: E5 03        	sbc	<R0+2
  1875 00:0567: 85 1E        	sta	<L33+b_0+2
  1876                        ;	ones = (int)b;
  1877                        	.line	159
  1878 00:0569: A5 1C        	lda	<L33+b_0
  1879 00:056B: 85 17        	sta	<L34+ones_1
  1880                        ;
  1881                        ;	bhbuffer[0] = bytetodec[bill];
  1882                        	.line	161
  1883 00:056D: E2 20        	sep	#$20
  1884                        	longa	off
  1885 00:056F: A6 05        	ldx	<L34+bill_1
  1886 00:0571: BD xx xx     	lda	|~~bytetodec,X
  1887 00:0574: 87 20        	sta	[<L33+bhbuffer_0]
  1888 00:0576: C2 20        	rep	#$20
  1889                        	longa	on
  1890                        ;	bhbuffer[1] = bytetodec[hmill];
  1891                        	.line	162
  1892 00:0578: E2 20        	sep	#$20
  1893                        	longa	off
  1894 00:057A: A6 07        	ldx	<L34+hmill_1
  1895 00:057C: BD xx xx     	lda	|~~bytetodec,X
  1896 00:057F: A0 01 00     	ldy	#$1
  1897 00:0582: 97 20        	sta	[<L33+bhbuffer_0],Y
  1898 00:0584: C2 20        	rep	#$20
  1899                        	longa	on
  1900                        ;	bhbuffer[2] = bytetodec[tmill];
  1901                        	.line	163
  1902 00:0586: E2 20        	sep	#$20
  1903                        	longa	off
  1904 00:0588: A6 09        	ldx	<L34+tmill_1
  1905 00:058A: BD xx xx     	lda	|~~bytetodec,X
  1906 00:058D: A0 02 00     	ldy	#$2
  1907 00:0590: 97 20        	sta	[<L33+bhbuffer_0],Y
  1908 00:0592: C2 20        	rep	#$20
  1909                        	longa	on
  1910                        ;	bhbuffer[3] = bytetodec[mill];
  1911                        	.line	164
  1912 00:0594: E2 20        	sep	#$20
  1913                        	longa	off
  1914 00:0596: A6 0B        	ldx	<L34+mill_1
  1915 00:0598: BD xx xx     	lda	|~~bytetodec,X
  1916 00:059B: A0 03 00     	ldy	#$3
  1917 00:059E: 97 20        	sta	[<L33+bhbuffer_0],Y
  1918 00:05A0: C2 20        	rep	#$20
  1919                        	longa	on
  1920                        ;	bhbuffer[4] = bytetodec[hthou];
  Thu Dec  3 2020 22:25                                                Page 36


  1921                        	.line	165
  1922 00:05A2: E2 20        	sep	#$20
  1923                        	longa	off
  1924 00:05A4: A6 0D        	ldx	<L34+hthou_1
  1925 00:05A6: BD xx xx     	lda	|~~bytetodec,X
  1926 00:05A9: A0 04 00     	ldy	#$4
  1927 00:05AC: 97 20        	sta	[<L33+bhbuffer_0],Y
  1928 00:05AE: C2 20        	rep	#$20
  1929                        	longa	on
  1930                        ;	bhbuffer[5] = bytetodec[tthou];
  1931                        	.line	166
  1932 00:05B0: E2 20        	sep	#$20
  1933                        	longa	off
  1934 00:05B2: A6 0F        	ldx	<L34+tthou_1
  1935 00:05B4: BD xx xx     	lda	|~~bytetodec,X
  1936 00:05B7: A0 05 00     	ldy	#$5
  1937 00:05BA: 97 20        	sta	[<L33+bhbuffer_0],Y
  1938 00:05BC: C2 20        	rep	#$20
  1939                        	longa	on
  1940                        ;	bhbuffer[6] = bytetodec[thou];
  1941                        	.line	167
  1942 00:05BE: E2 20        	sep	#$20
  1943                        	longa	off
  1944 00:05C0: A6 11        	ldx	<L34+thou_1
  1945 00:05C2: BD xx xx     	lda	|~~bytetodec,X
  1946 00:05C5: A0 06 00     	ldy	#$6
  1947 00:05C8: 97 20        	sta	[<L33+bhbuffer_0],Y
  1948 00:05CA: C2 20        	rep	#$20
  1949                        	longa	on
  1950                        ;	bhbuffer[7] = bytetodec[hund];
  1951                        	.line	168
  1952 00:05CC: E2 20        	sep	#$20
  1953                        	longa	off
  1954 00:05CE: A6 13        	ldx	<L34+hund_1
  1955 00:05D0: BD xx xx     	lda	|~~bytetodec,X
  1956 00:05D3: A0 07 00     	ldy	#$7
  1957 00:05D6: 97 20        	sta	[<L33+bhbuffer_0],Y
  1958 00:05D8: C2 20        	rep	#$20
  1959                        	longa	on
  1960                        ;	bhbuffer[8] = bytetodec[tens];
  1961                        	.line	169
  1962 00:05DA: E2 20        	sep	#$20
  1963                        	longa	off
  1964 00:05DC: A6 15        	ldx	<L34+tens_1
  1965 00:05DE: BD xx xx     	lda	|~~bytetodec,X
  1966 00:05E1: A0 08 00     	ldy	#$8
  1967 00:05E4: 97 20        	sta	[<L33+bhbuffer_0],Y
  1968 00:05E6: C2 20        	rep	#$20
  1969                        	longa	on
  1970                        ;	bhbuffer[9] = bytetodec[ones];
  1971                        	.line	170
  1972 00:05E8: E2 20        	sep	#$20
  1973                        	longa	off
  1974 00:05EA: A6 17        	ldx	<L34+ones_1
  1975 00:05EC: BD xx xx     	lda	|~~bytetodec,X
  1976 00:05EF: A0 09 00     	ldy	#$9
  1977 00:05F2: 97 20        	sta	[<L33+bhbuffer_0],Y
  1978 00:05F4: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 37


  1979                        	longa	on
  1980                        ;	bhbuffer[10] = 0;
  1981                        	.line	171
  1982 00:05F6: E2 20        	sep	#$20
  1983                        	longa	off
  1984 00:05F8: A9 00        	lda	#$0
  1985 00:05FA: A0 0A 00     	ldy	#$a
  1986 00:05FD: 97 20        	sta	[<L33+bhbuffer_0],Y
  1987 00:05FF: C2 20        	rep	#$20
  1988                        	longa	on
  1989                        ;	bhbuffer[11] = 0;
  1990                        	.line	172
  1991 00:0601: E2 20        	sep	#$20
  1992                        	longa	off
  1993 00:0603: A9 00        	lda	#$0
  1994 00:0605: A0 0B 00     	ldy	#$b
  1995 00:0608: 97 20        	sta	[<L33+bhbuffer_0],Y
  1996 00:060A: C2 20        	rep	#$20
  1997                        	longa	on
  1998                        ;	bhbuffer[12] = 0;
  1999                        	.line	173
  2000 00:060C: E2 20        	sep	#$20
  2001                        	longa	off
  2002 00:060E: A9 00        	lda	#$0
  2003 00:0610: A0 0C 00     	ldy	#$c
  2004 00:0613: 97 20        	sta	[<L33+bhbuffer_0],Y
  2005 00:0615: C2 20        	rep	#$20
  2006                        	longa	on
  2007                        ;
  2008                        ;	return bhbuffer;
  2009                        	.line	175
  2010 00:0617: A6 22        	ldx	<L33+bhbuffer_0+2
  2011 00:0619: A5 20        	lda	<L33+bhbuffer_0
  2012                        L45:
  2013 00:061B: A8           	tay
  2014 00:061C: A5 1A        	lda	<L33+2
  2015 00:061E: 85 22        	sta	<L33+2+8
  2016 00:0620: A5 19        	lda	<L33+1
  2017 00:0622: 85 21        	sta	<L33+1+8
  2018 00:0624: 2B           	pld
  2019 00:0625: 3B           	tsc
  2020 00:0626: 18           	clc
  2021 00:0627: 69 20 00     	adc	#L33+8
  2022 00:062A: 1B           	tcs
  2023 00:062B: 98           	tya
  2024 00:062C: 6B           	rtl
  2025                        ;}
  2026                        	.line	176
  2027                        	.endblock	176
  2028             00000018   L33	equ	24
  2029             00000005   L34	equ	5
  2030                        	ends
  2031                        	efunc
  2032                        	.endfunc	176,5,24
  2033                        	.line	176
  2034                        ;/*
  2035                        ; *
  2036                        ; *
  Thu Dec  3 2020 22:25                                                Page 38


  2037                        ; *
  2038                        ; *
  2039                        ; */
  2040                        ;PFAR k_bytetodec(UCHAR b,char FAR *bhbuffer)
  2041                        ;{
  2042                        	.line	183
  2043                        	.line	184
  2044                        	code
  2045                        	xdef	~~k_bytetodec
  2046                        	func
  2047                        	.function	184
  2048                        ~~k_bytetodec:
  2049                        	longa	on
  2050                        	longi	on
  2051 00:062D: 3B           	tsc
  2052 00:062E: 38           	sec
  2053 00:062F: E9 12 00     	sbc	#L46
  2054 00:0632: 1B           	tcs
  2055 00:0633: 0B           	phd
  2056 00:0634: 5B           	tcd
  2057             00000004   b_0	set	4
  2058             00000006   bhbuffer_0	set	6
  2059                        	.block	184
  2060                        ;	int hund = 0;
  2061                        ;	int tens = 0;
  2062                        ;	int ones = 0;
  2063                        ;
  2064                        ;	bhbuffer[0] = '0';
  2065             00000000   hund_1	set	0
  2066             00000002   tens_1	set	2
  2067             00000004   ones_1	set	4
  2068                        	.sym	hund,0,5,1,16
  2069                        	.sym	tens,2,5,1,16
  2070                        	.sym	ones,4,5,1,16
  2071                        	.sym	b,4,14,6,8
  2072                        	.sym	bhbuffer,6,142,6,32
  2073 00:0635: 64 0D        	stz	<L47+hund_1
  2074 00:0637: 64 0F        	stz	<L47+tens_1
  2075 00:0639: 64 11        	stz	<L47+ones_1
  2076                        	.line	189
  2077 00:063B: E2 20        	sep	#$20
  2078                        	longa	off
  2079 00:063D: A9 30        	lda	#$30
  2080 00:063F: 87 18        	sta	[<L46+bhbuffer_0]
  2081 00:0641: C2 20        	rep	#$20
  2082                        	longa	on
  2083                        ;	bhbuffer[1] = '0';
  2084                        	.line	190
  2085 00:0643: E2 20        	sep	#$20
  2086                        	longa	off
  2087 00:0645: A9 30        	lda	#$30
  2088 00:0647: A0 01 00     	ldy	#$1
  2089 00:064A: 97 18        	sta	[<L46+bhbuffer_0],Y
  2090 00:064C: C2 20        	rep	#$20
  2091                        	longa	on
  2092                        ;	bhbuffer[2] = '0';
  2093                        	.line	191
  2094 00:064E: E2 20        	sep	#$20
  Thu Dec  3 2020 22:25                                                Page 39


  2095                        	longa	off
  2096 00:0650: A9 30        	lda	#$30
  2097 00:0652: A0 02 00     	ldy	#$2
  2098 00:0655: 97 18        	sta	[<L46+bhbuffer_0],Y
  2099 00:0657: C2 20        	rep	#$20
  2100                        	longa	on
  2101                        ;	bhbuffer[3] = 0;
  2102                        	.line	192
  2103 00:0659: E2 20        	sep	#$20
  2104                        	longa	off
  2105 00:065B: A9 00        	lda	#$0
  2106 00:065D: A0 03 00     	ldy	#$3
  2107 00:0660: 97 18        	sta	[<L46+bhbuffer_0],Y
  2108 00:0662: C2 20        	rep	#$20
  2109                        	longa	on
  2110                        ;
  2111                        ;	hund = (int)((b / 100));
  2112                        	.line	194
  2113 00:0664: A5 16        	lda	<L46+b_0
  2114 00:0666: 29 FF 00     	and	#$ff
  2115 00:0669: 85 01        	sta	<R0
  2116 00:066B: A5 01        	lda	<R0
  2117 00:066D: A2 64 00     	ldx	#<$64
  2118                        	xref	~~~div
  2119 00:0670: 22 xx xx xx  	jsl	~~~div
  2120 00:0674: 85 0D        	sta	<L47+hund_1
  2121                        ;	b = (b - 100*hund);
  2122                        	.line	195
  2123 00:0676: A5 0D        	lda	<L47+hund_1
  2124 00:0678: A2 64 00     	ldx	#<$64
  2125                        	xref	~~~mul
  2126 00:067B: 22 xx xx xx  	jsl	~~~mul
  2127 00:067F: 85 01        	sta	<R0
  2128 00:0681: A5 16        	lda	<L46+b_0
  2129 00:0683: 29 FF 00     	and	#$ff
  2130 00:0686: 85 05        	sta	<R1
  2131 00:0688: 38           	sec
  2132 00:0689: A5 05        	lda	<R1
  2133 00:068B: E5 01        	sbc	<R0
  2134 00:068D: 85 09        	sta	<R2
  2135 00:068F: E2 20        	sep	#$20
  2136                        	longa	off
  2137 00:0691: A5 09        	lda	<R2
  2138 00:0693: 85 16        	sta	<L46+b_0
  2139 00:0695: C2 20        	rep	#$20
  2140                        	longa	on
  2141                        ;	tens = (int)((b / 10));
  2142                        	.line	196
  2143 00:0697: A5 16        	lda	<L46+b_0
  2144 00:0699: 29 FF 00     	and	#$ff
  2145 00:069C: 85 01        	sta	<R0
  2146 00:069E: A5 01        	lda	<R0
  2147 00:06A0: A2 0A 00     	ldx	#<$a
  2148                        	xref	~~~div
  2149 00:06A3: 22 xx xx xx  	jsl	~~~div
  2150 00:06A7: 85 0F        	sta	<L47+tens_1
  2151                        ;	b = (b - 10*tens);
  2152                        	.line	197
  Thu Dec  3 2020 22:25                                                Page 40


  2153 00:06A9: A5 0F        	lda	<L47+tens_1
  2154 00:06AB: 0A           	asl	A
  2155 00:06AC: 0A           	asl	A
  2156 00:06AD: 65 0F        	adc	<L47+tens_1
  2157 00:06AF: 0A           	asl	A
  2158 00:06B0: 85 01        	sta	<R0
  2159 00:06B2: A5 16        	lda	<L46+b_0
  2160 00:06B4: 29 FF 00     	and	#$ff
  2161 00:06B7: 85 05        	sta	<R1
  2162 00:06B9: 38           	sec
  2163 00:06BA: A5 05        	lda	<R1
  2164 00:06BC: E5 01        	sbc	<R0
  2165 00:06BE: 85 09        	sta	<R2
  2166 00:06C0: E2 20        	sep	#$20
  2167                        	longa	off
  2168 00:06C2: A5 09        	lda	<R2
  2169 00:06C4: 85 16        	sta	<L46+b_0
  2170 00:06C6: C2 20        	rep	#$20
  2171                        	longa	on
  2172                        ;	ones = (int)b;
  2173                        	.line	198
  2174 00:06C8: A5 16        	lda	<L46+b_0
  2175 00:06CA: 29 FF 00     	and	#$ff
  2176 00:06CD: 85 11        	sta	<L47+ones_1
  2177                        ;
  2178                        ;	bhbuffer[0] = bytetodec[hund];
  2179                        	.line	200
  2180 00:06CF: E2 20        	sep	#$20
  2181                        	longa	off
  2182 00:06D1: A6 0D        	ldx	<L47+hund_1
  2183 00:06D3: BD xx xx     	lda	|~~bytetodec,X
  2184 00:06D6: 87 18        	sta	[<L46+bhbuffer_0]
  2185 00:06D8: C2 20        	rep	#$20
  2186                        	longa	on
  2187                        ;	bhbuffer[1] = bytetodec[tens];
  2188                        	.line	201
  2189 00:06DA: E2 20        	sep	#$20
  2190                        	longa	off
  2191 00:06DC: A6 0F        	ldx	<L47+tens_1
  2192 00:06DE: BD xx xx     	lda	|~~bytetodec,X
  2193 00:06E1: A0 01 00     	ldy	#$1
  2194 00:06E4: 97 18        	sta	[<L46+bhbuffer_0],Y
  2195 00:06E6: C2 20        	rep	#$20
  2196                        	longa	on
  2197                        ;	bhbuffer[2] = bytetodec[ones];
  2198                        	.line	202
  2199 00:06E8: E2 20        	sep	#$20
  2200                        	longa	off
  2201 00:06EA: A6 11        	ldx	<L47+ones_1
  2202 00:06EC: BD xx xx     	lda	|~~bytetodec,X
  2203 00:06EF: A0 02 00     	ldy	#$2
  2204 00:06F2: 97 18        	sta	[<L46+bhbuffer_0],Y
  2205 00:06F4: C2 20        	rep	#$20
  2206                        	longa	on
  2207                        ;
  2208                        ;	return bhbuffer;
  2209                        	.line	204
  2210 00:06F6: A6 1A        	ldx	<L46+bhbuffer_0+2
  Thu Dec  3 2020 22:25                                                Page 41


  2211 00:06F8: A5 18        	lda	<L46+bhbuffer_0
  2212                        L49:
  2213 00:06FA: A8           	tay
  2214 00:06FB: A5 14        	lda	<L46+2
  2215 00:06FD: 85 1A        	sta	<L46+2+6
  2216 00:06FF: A5 13        	lda	<L46+1
  2217 00:0701: 85 19        	sta	<L46+1+6
  2218 00:0703: 2B           	pld
  2219 00:0704: 3B           	tsc
  2220 00:0705: 18           	clc
  2221 00:0706: 69 18 00     	adc	#L46+6
  2222 00:0709: 1B           	tcs
  2223 00:070A: 98           	tya
  2224 00:070B: 6B           	rtl
  2225                        ;}
  2226                        	.line	205
  2227                        	.endblock	205
  2228             00000012   L46	equ	18
  2229             0000000D   L47	equ	13
  2230                        	ends
  2231                        	efunc
  2232                        	.endfunc	205,13,18
  2233                        	.line	205
  2234                        ;/*
  2235                        ; *
  2236                        ; *
  2237                        ; *
  2238                        ; *
  2239                        ; */
  2240                        ;PFAR k_bytetohex(UCHAR b,char FAR *bhbuffer)
  2241                        ;{
  2242                        	.line	212
  2243                        	.line	213
  2244                        	code
  2245                        	xdef	~~k_bytetohex
  2246                        	func
  2247                        	.function	213
  2248                        ~~k_bytetohex:
  2249                        	longa	on
  2250                        	longi	on
  2251 00:070C: 3B           	tsc
  2252 00:070D: 38           	sec
  2253 00:070E: E9 04 00     	sbc	#L50
  2254 00:0711: 1B           	tcs
  2255 00:0712: 0B           	phd
  2256 00:0713: 5B           	tcd
  2257             00000004   b_0	set	4
  2258             00000006   bhbuffer_0	set	6
  2259                        	.block	213
  2260                        ;	bhbuffer[0] = '0';
  2261                        	.sym	b,4,14,6,8
  2262                        	.sym	bhbuffer,6,142,6,32
  2263                        	.line	214
  2264 00:0714: E2 20        	sep	#$20
  2265                        	longa	off
  2266 00:0716: A9 30        	lda	#$30
  2267 00:0718: 87 0A        	sta	[<L50+bhbuffer_0]
  2268 00:071A: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 42


  2269                        	longa	on
  2270                        ;	bhbuffer[1] = '0';
  2271                        	.line	215
  2272 00:071C: E2 20        	sep	#$20
  2273                        	longa	off
  2274 00:071E: A9 30        	lda	#$30
  2275 00:0720: A0 01 00     	ldy	#$1
  2276 00:0723: 97 0A        	sta	[<L50+bhbuffer_0],Y
  2277 00:0725: C2 20        	rep	#$20
  2278                        	longa	on
  2279                        ;	bhbuffer[2] = 0;
  2280                        	.line	216
  2281 00:0727: E2 20        	sep	#$20
  2282                        	longa	off
  2283 00:0729: A9 00        	lda	#$0
  2284 00:072B: A0 02 00     	ldy	#$2
  2285 00:072E: 97 0A        	sta	[<L50+bhbuffer_0],Y
  2286 00:0730: C2 20        	rep	#$20
  2287                        	longa	on
  2288                        ;
  2289                        ;
  2290                        ;	bhbuffer[0] = bytetohex[(unsigned)((b & 0xF0) >>
                     4)];
  2291                        	.line	219
  2292 00:0732: A5 08        	lda	<L50+b_0
  2293 00:0734: 29 F0 00     	and	#<$f0
  2294 00:0737: A2 04 00     	ldx	#<$4
  2295                        	xref	~~~asr
  2296 00:073A: 22 xx xx xx  	jsl	~~~asr
  2297 00:073E: 85 01        	sta	<R0
  2298 00:0740: E2 20        	sep	#$20
  2299                        	longa	off
  2300 00:0742: A6 01        	ldx	<R0
  2301 00:0744: BD xx xx     	lda	|~~bytetohex,X
  2302 00:0747: 87 0A        	sta	[<L50+bhbuffer_0]
  2303 00:0749: C2 20        	rep	#$20
  2304                        	longa	on
  2305                        ;	bhbuffer[1] = bytetohex[(unsigned)(b & 0x0F)];
  2306                        	.line	220
  2307 00:074B: A5 08        	lda	<L50+b_0
  2308 00:074D: 29 0F 00     	and	#<$f
  2309 00:0750: 85 01        	sta	<R0
  2310 00:0752: E2 20        	sep	#$20
  2311                        	longa	off
  2312 00:0754: A6 01        	ldx	<R0
  2313 00:0756: BD xx xx     	lda	|~~bytetohex,X
  2314 00:0759: A0 01 00     	ldy	#$1
  2315 00:075C: 97 0A        	sta	[<L50+bhbuffer_0],Y
  2316 00:075E: C2 20        	rep	#$20
  2317                        	longa	on
  2318                        ;
  2319                        ;	return bhbuffer;
  2320                        	.line	222
  2321 00:0760: A6 0C        	ldx	<L50+bhbuffer_0+2
  2322 00:0762: A5 0A        	lda	<L50+bhbuffer_0
  2323                        L53:
  2324 00:0764: A8           	tay
  2325 00:0765: A5 06        	lda	<L50+2
  Thu Dec  3 2020 22:25                                                Page 43


  2326 00:0767: 85 0C        	sta	<L50+2+6
  2327 00:0769: A5 05        	lda	<L50+1
  2328 00:076B: 85 0B        	sta	<L50+1+6
  2329 00:076D: 2B           	pld
  2330 00:076E: 3B           	tsc
  2331 00:076F: 18           	clc
  2332 00:0770: 69 0A 00     	adc	#L50+6
  2333 00:0773: 1B           	tcs
  2334 00:0774: 98           	tya
  2335 00:0775: 6B           	rtl
  2336                        ;}
  2337                        	.line	223
  2338                        	.endblock	223
  2339             00000004   L50	equ	4
  2340             00000005   L51	equ	5
  2341                        	ends
  2342                        	efunc
  2343                        	.endfunc	223,5,4
  2344                        	.line	223
  2345                        ;
  2346                        ;/*
  2347                        ; *
  2348                        ; *
  2349                        ; *
  2350                        ; *
  2351                        ; */
  2352                        ;PFAR k_strip_padding(PFAR orgText)
  2353                        ;{
  2354                        	.line	231
  2355                        	.line	232
  2356                        	code
  2357                        	xdef	~~k_strip_padding
  2358                        	func
  2359                        	.function	232
  2360                        ~~k_strip_padding:
  2361                        	longa	on
  2362                        	longi	on
  2363 00:0776: 3B           	tsc
  2364 00:0777: 38           	sec
  2365 00:0778: E9 04 00     	sbc	#L54
  2366 00:077B: 1B           	tcs
  2367 00:077C: 0B           	phd
  2368 00:077D: 5B           	tcd
  2369             00000004   orgText_0	set	4
  2370                        	.block	232
  2371                        ;	PFAR p = orgText;
  2372                        ;	while(*p)
  2373             00000000   p_1	set	0
  2374                        	.sym	p,0,142,1,32
  2375                        	.sym	orgText,4,142,6,32
  2376 00:077E: A5 08        	lda	<L54+orgText_0
  2377 00:0780: 85 01        	sta	<L55+p_1
  2378 00:0782: A5 0A        	lda	<L54+orgText_0+2
  2379 00:0784: 85 03        	sta	<L55+p_1+2
  2380                        	.line	234
  2381                        L10010:
  2382 00:0786: A7 01        	lda	[<L55+p_1]
  2383 00:0788: 29 FF 00     	and	#$ff
  Thu Dec  3 2020 22:25                                                Page 44


  2384 00:078B: D0 03        	bne	L57
  2385 00:078D: 82 19 00     	brl	L10011
  2386                        L57:
  2387                        ;	{
  2388                        	.line	235
  2389                        ;		if(*p != '0')
  2390                        	.line	236
  2391                        ;		{
  2392 00:0790: E2 20        	sep	#$20
  2393                        	longa	off
  2394 00:0792: A7 01        	lda	[<L55+p_1]
  2395 00:0794: C9 30        	cmp	#<$30
  2396 00:0796: C2 20        	rep	#$20
  2397                        	longa	on
  2398 00:0798: D0 03        	bne	L58
  2399 00:079A: 82 03 00     	brl	L10012
  2400                        L58:
  2401                        	.line	237
  2402                        ;			break;
  2403                        	.line	238
  2404 00:079D: 82 09 00     	brl	L10011
  2405                        ;		}
  2406                        	.line	239
  2407                        ;		p++;
  2408                        L10012:
  2409                        	.line	240
  2410 00:07A0: E6 01        	inc	<L55+p_1
  2411 00:07A2: D0 02        	bne	L59
  2412 00:07A4: E6 03        	inc	<L55+p_1+2
  2413                        L59:
  2414                        ;	}
  2415                        	.line	241
  2416 00:07A6: 82 DD FF     	brl	L10010
  2417                        L10011:
  2418                        ;
  2419                        ;	return p;
  2420                        	.line	243
  2421 00:07A9: A6 03        	ldx	<L55+p_1+2
  2422 00:07AB: A5 01        	lda	<L55+p_1
  2423                        L60:
  2424 00:07AD: A8           	tay
  2425 00:07AE: A5 06        	lda	<L54+2
  2426 00:07B0: 85 0A        	sta	<L54+2+4
  2427 00:07B2: A5 05        	lda	<L54+1
  2428 00:07B4: 85 09        	sta	<L54+1+4
  2429 00:07B6: 2B           	pld
  2430 00:07B7: 3B           	tsc
  2431 00:07B8: 18           	clc
  2432 00:07B9: 69 08 00     	adc	#L54+4
  2433 00:07BC: 1B           	tcs
  2434 00:07BD: 98           	tya
  2435 00:07BE: 6B           	rtl
  2436                        ;}
  2437                        	.line	244
  2438                        	.endblock	244
  2439             00000004   L54	equ	4
  2440             00000001   L55	equ	1
  2441                        	ends
  Thu Dec  3 2020 22:25                                                Page 45


  2442                        	efunc
  2443                        	.endfunc	244,1,4
  2444                        	.line	244
  2445                        ;/*
  2446                        ; *
  2447                        ; *
  2448                        ; *
  2449                        ; *
  2450                        ; */
  2451                        ;PFAR k_replace_padding(PFAR orgText,CHAR replacem
                    ent)
  2452                        ;{
  2453                        	.line	251
  2454                        	.line	252
  2455                        	code
  2456                        	xdef	~~k_replace_padding
  2457                        	func
  2458                        	.function	252
  2459                        ~~k_replace_padding:
  2460                        	longa	on
  2461                        	longi	on
  2462 00:07BF: 3B           	tsc
  2463 00:07C0: 38           	sec
  2464 00:07C1: E9 04 00     	sbc	#L61
  2465 00:07C4: 1B           	tcs
  2466 00:07C5: 0B           	phd
  2467 00:07C6: 5B           	tcd
  2468             00000004   orgText_0	set	4
  2469             00000008   replacement_0	set	8
  2470                        	.block	252
  2471                        ;	PFAR p = orgText;
  2472                        ;	while(*p)
  2473             00000000   p_1	set	0
  2474                        	.sym	p,0,142,1,32
  2475                        	.sym	orgText,4,142,6,32
  2476                        	.sym	replacement,8,14,6,8
  2477 00:07C7: A5 08        	lda	<L61+orgText_0
  2478 00:07C9: 85 01        	sta	<L62+p_1
  2479 00:07CB: A5 0A        	lda	<L61+orgText_0+2
  2480 00:07CD: 85 03        	sta	<L62+p_1+2
  2481                        	.line	254
  2482                        L10013:
  2483 00:07CF: A7 01        	lda	[<L62+p_1]
  2484 00:07D1: 29 FF 00     	and	#$ff
  2485 00:07D4: D0 03        	bne	L64
  2486 00:07D6: 82 1E 00     	brl	L10014
  2487                        L64:
  2488                        ;	{
  2489                        	.line	255
  2490                        ;		if(*p == '0')
  2491                        	.line	256
  2492                        ;		{
  2493 00:07D9: E2 20        	sep	#$20
  2494                        	longa	off
  2495 00:07DB: A7 01        	lda	[<L62+p_1]
  2496 00:07DD: C9 30        	cmp	#<$30
  2497 00:07DF: C2 20        	rep	#$20
  2498                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 46


  2499 00:07E1: F0 03        	beq	L65
  2500 00:07E3: 82 08 00     	brl	L10015
  2501                        L65:
  2502                        	.line	257
  2503                        ;			*p = replacement;
  2504                        	.line	258
  2505 00:07E6: E2 20        	sep	#$20
  2506                        	longa	off
  2507 00:07E8: A5 0C        	lda	<L61+replacement_0
  2508 00:07EA: 87 01        	sta	[<L62+p_1]
  2509 00:07EC: C2 20        	rep	#$20
  2510                        	longa	on
  2511                        ;		}
  2512                        	.line	259
  2513                        ;		p++;
  2514                        L10015:
  2515                        	.line	260
  2516 00:07EE: E6 01        	inc	<L62+p_1
  2517 00:07F0: D0 02        	bne	L66
  2518 00:07F2: E6 03        	inc	<L62+p_1+2
  2519                        L66:
  2520                        ;	}
  2521                        	.line	261
  2522 00:07F4: 82 D8 FF     	brl	L10013
  2523                        L10014:
  2524                        ;
  2525                        ;	return orgText;
  2526                        	.line	263
  2527 00:07F7: A6 0A        	ldx	<L61+orgText_0+2
  2528 00:07F9: A5 08        	lda	<L61+orgText_0
  2529                        L67:
  2530 00:07FB: A8           	tay
  2531 00:07FC: A5 06        	lda	<L61+2
  2532 00:07FE: 85 0C        	sta	<L61+2+6
  2533 00:0800: A5 05        	lda	<L61+1
  2534 00:0802: 85 0B        	sta	<L61+1+6
  2535 00:0804: 2B           	pld
  2536 00:0805: 3B           	tsc
  2537 00:0806: 18           	clc
  2538 00:0807: 69 0A 00     	adc	#L61+6
  2539 00:080A: 1B           	tcs
  2540 00:080B: 98           	tya
  2541 00:080C: 6B           	rtl
  2542                        ;}
  2543                        	.line	264
  2544                        	.endblock	264
  2545             00000004   L61	equ	4
  2546             00000001   L62	equ	1
  2547                        	ends
  2548                        	efunc
  2549                        	.endfunc	264,1,4
  2550                        	.line	264
  2551                        ;
  2552                        ;/*
  2553                        ; *
  2554                        ; *
  2555                        ; *
  2556                        ; *
  Thu Dec  3 2020 22:25                                                Page 47


  2557                        ; */
  2558                        ;LPCHAR k_to_uppercase(LPCHAR orgText)
  2559                        ;{
  2560                        	.line	272
  2561                        	.line	273
  2562                        	code
  2563                        	xdef	~~k_to_uppercase
  2564                        	func
  2565                        	.function	273
  2566                        ~~k_to_uppercase:
  2567                        	longa	on
  2568                        	longi	on
  2569 00:080D: 3B           	tsc
  2570 00:080E: 38           	sec
  2571 00:080F: E9 04 00     	sbc	#L68
  2572 00:0812: 1B           	tcs
  2573 00:0813: 0B           	phd
  2574 00:0814: 5B           	tcd
  2575             00000004   orgText_0	set	4
  2576                        	.block	273
  2577                        ;	LPCHAR p = orgText;
  2578                        ;	while(*p)
  2579             00000000   p_1	set	0
  2580                        	.sym	p,0,142,1,32
  2581                        	.sym	orgText,4,142,6,32
  2582 00:0815: A5 08        	lda	<L68+orgText_0
  2583 00:0817: 85 01        	sta	<L69+p_1
  2584 00:0819: A5 0A        	lda	<L68+orgText_0+2
  2585 00:081B: 85 03        	sta	<L69+p_1+2
  2586                        	.line	275
  2587                        L10016:
  2588 00:081D: A7 01        	lda	[<L69+p_1]
  2589 00:081F: 29 FF 00     	and	#$ff
  2590 00:0822: D0 03        	bne	L71
  2591 00:0824: 82 19 00     	brl	L10017
  2592                        L71:
  2593                        ;	{
  2594                        	.line	276
  2595                        ;		*p = toupper(*p);
  2596                        	.line	277
  2597 00:0827: A7 01        	lda	[<L69+p_1]
  2598 00:0829: 29 FF 00     	and	#$ff
  2599 00:082C: 48           	pha
  2600 00:082D: 22 xx xx xx  	jsl	~~toupper
  2601 00:0831: E2 20        	sep	#$20
  2602                        	longa	off
  2603 00:0833: 87 01        	sta	[<L69+p_1]
  2604 00:0835: C2 20        	rep	#$20
  2605                        	longa	on
  2606                        ;		p++;
  2607                        	.line	278
  2608 00:0837: E6 01        	inc	<L69+p_1
  2609 00:0839: D0 02        	bne	L72
  2610 00:083B: E6 03        	inc	<L69+p_1+2
  2611                        L72:
  2612                        ;	}
  2613                        	.line	279
  2614 00:083D: 82 DD FF     	brl	L10016
  Thu Dec  3 2020 22:25                                                Page 48


  2615                        L10017:
  2616                        ;
  2617                        ;	return orgText;
  2618                        	.line	281
  2619 00:0840: A6 0A        	ldx	<L68+orgText_0+2
  2620 00:0842: A5 08        	lda	<L68+orgText_0
  2621                        L73:
  2622 00:0844: A8           	tay
  2623 00:0845: A5 06        	lda	<L68+2
  2624 00:0847: 85 0A        	sta	<L68+2+4
  2625 00:0849: A5 05        	lda	<L68+1
  2626 00:084B: 85 09        	sta	<L68+1+4
  2627 00:084D: 2B           	pld
  2628 00:084E: 3B           	tsc
  2629 00:084F: 18           	clc
  2630 00:0850: 69 08 00     	adc	#L68+4
  2631 00:0853: 1B           	tcs
  2632 00:0854: 98           	tya
  2633 00:0855: 6B           	rtl
  2634                        ;}
  2635                        	.line	282
  2636                        	.endblock	282
  2637             00000004   L68	equ	4
  2638             00000001   L69	equ	1
  2639                        	ends
  2640                        	efunc
  2641                        	.endfunc	282,1,4
  2642                        	.line	282
  2643                        ;
  2644                        ;/*
  2645                        ; *
  2646                        ; *
  2647                        ; *
  2648                        ; *
  2649                        ; */
  2650                        ;LPCHAR k_to_lowercase(LPCHAR orgText)
  2651                        ;{
  2652                        	.line	290
  2653                        	.line	291
  2654                        	code
  2655                        	xdef	~~k_to_lowercase
  2656                        	func
  2657                        	.function	291
  2658                        ~~k_to_lowercase:
  2659                        	longa	on
  2660                        	longi	on
  2661 00:0856: 3B           	tsc
  2662 00:0857: 38           	sec
  2663 00:0858: E9 04 00     	sbc	#L74
  2664 00:085B: 1B           	tcs
  2665 00:085C: 0B           	phd
  2666 00:085D: 5B           	tcd
  2667             00000004   orgText_0	set	4
  2668                        	.block	291
  2669                        ;	LPCHAR p = orgText;
  2670                        ;	while(*p)
  2671             00000000   p_1	set	0
  2672                        	.sym	p,0,142,1,32
  Thu Dec  3 2020 22:25                                                Page 49


  2673                        	.sym	orgText,4,142,6,32
  2674 00:085E: A5 08        	lda	<L74+orgText_0
  2675 00:0860: 85 01        	sta	<L75+p_1
  2676 00:0862: A5 0A        	lda	<L74+orgText_0+2
  2677 00:0864: 85 03        	sta	<L75+p_1+2
  2678                        	.line	293
  2679                        L10018:
  2680 00:0866: A7 01        	lda	[<L75+p_1]
  2681 00:0868: 29 FF 00     	and	#$ff
  2682 00:086B: D0 03        	bne	L77
  2683 00:086D: 82 19 00     	brl	L10019
  2684                        L77:
  2685                        ;	{
  2686                        	.line	294
  2687                        ;		*p = tolower(*p);
  2688                        	.line	295
  2689 00:0870: A7 01        	lda	[<L75+p_1]
  2690 00:0872: 29 FF 00     	and	#$ff
  2691 00:0875: 48           	pha
  2692 00:0876: 22 xx xx xx  	jsl	~~tolower
  2693 00:087A: E2 20        	sep	#$20
  2694                        	longa	off
  2695 00:087C: 87 01        	sta	[<L75+p_1]
  2696 00:087E: C2 20        	rep	#$20
  2697                        	longa	on
  2698                        ;		p++;
  2699                        	.line	296
  2700 00:0880: E6 01        	inc	<L75+p_1
  2701 00:0882: D0 02        	bne	L78
  2702 00:0884: E6 03        	inc	<L75+p_1+2
  2703                        L78:
  2704                        ;	}
  2705                        	.line	297
  2706 00:0886: 82 DD FF     	brl	L10018
  2707                        L10019:
  2708                        ;
  2709                        ;	return orgText;
  2710                        	.line	299
  2711 00:0889: A6 0A        	ldx	<L74+orgText_0+2
  2712 00:088B: A5 08        	lda	<L74+orgText_0
  2713                        L79:
  2714 00:088D: A8           	tay
  2715 00:088E: A5 06        	lda	<L74+2
  2716 00:0890: 85 0A        	sta	<L74+2+4
  2717 00:0892: A5 05        	lda	<L74+1
  2718 00:0894: 85 09        	sta	<L74+1+4
  2719 00:0896: 2B           	pld
  2720 00:0897: 3B           	tsc
  2721 00:0898: 18           	clc
  2722 00:0899: 69 08 00     	adc	#L74+4
  2723 00:089C: 1B           	tcs
  2724 00:089D: 98           	tya
  2725 00:089E: 6B           	rtl
  2726                        ;}
  2727                        	.line	300
  2728                        	.endblock	300
  2729             00000004   L74	equ	4
  2730             00000001   L75	equ	1
  Thu Dec  3 2020 22:25                                                Page 50


  2731                        	ends
  2732                        	efunc
  2733                        	.endfunc	300,1,4
  2734                        	.line	300
  2735                        ;
  2736                        ;/*
  2737                        ; *
  2738                        ; *
  2739                        ; *
  2740                        ; *
  2741                        ; */
  2742                        ;char FAR* k_itoa(unsigned int value, char FAR*res
                    ult, int base)
  2743                        ;{
  2744                        	.line	308
  2745                        	.line	309
  2746                        	code
  2747                        	xdef	~~k_itoa
  2748                        	func
  2749                        	.function	309
  2750                        ~~k_itoa:
  2751                        	longa	on
  2752                        	longi	on
  2753 00:089F: 3B           	tsc
  2754 00:08A0: 38           	sec
  2755 00:08A1: E9 04 00     	sbc	#L80
  2756 00:08A4: 1B           	tcs
  2757 00:08A5: 0B           	phd
  2758 00:08A6: 5B           	tcd
  2759             00000004   value_0	set	4
  2760             00000006   result_0	set	6
  2761             0000000A   base_0	set	10
  2762                        	.block	309
  2763                        ;	result[0] = 0;
  2764                        	.sym	value,4,16,6,16
  2765                        	.sym	result,6,142,6,32
  2766                        	.sym	base,10,5,6,16
  2767                        	.line	310
  2768 00:08A7: E2 20        	sep	#$20
  2769                        	longa	off
  2770 00:08A9: A9 00        	lda	#$0
  2771 00:08AB: 87 0A        	sta	[<L80+result_0]
  2772 00:08AD: C2 20        	rep	#$20
  2773                        	longa	on
  2774                        ;
  2775                        ;	if(base!=10)
  2776                        	.line	312
  2777                        ;		return result;
  2778 00:08AF: A5 0E        	lda	<L80+base_0
  2779 00:08B1: C9 0A 00     	cmp	#<$a
  2780 00:08B4: D0 03        	bne	L83
  2781 00:08B6: 82 16 00     	brl	L10020
  2782                        L83:
  2783                        	.line	313
  2784 00:08B9: A6 0C        	ldx	<L80+result_0+2
  2785 00:08BB: A5 0A        	lda	<L80+result_0
  2786                        L84:
  2787 00:08BD: A8           	tay
  Thu Dec  3 2020 22:25                                                Page 51


  2788 00:08BE: A5 06        	lda	<L80+2
  2789 00:08C0: 85 0E        	sta	<L80+2+8
  2790 00:08C2: A5 05        	lda	<L80+1
  2791 00:08C4: 85 0D        	sta	<L80+1+8
  2792 00:08C6: 2B           	pld
  2793 00:08C7: 3B           	tsc
  2794 00:08C8: 18           	clc
  2795 00:08C9: 69 0C 00     	adc	#L80+8
  2796 00:08CC: 1B           	tcs
  2797 00:08CD: 98           	tya
  2798 00:08CE: 6B           	rtl
  2799                        ;
  2800                        ;	return k_inttodec(value,result);
  2801                        L10020:
  2802                        	.line	315
  2803 00:08CF: D4 0C        	pei	<L80+result_0+2
  2804 00:08D1: D4 0A        	pei	<L80+result_0
  2805 00:08D3: D4 08        	pei	<L80+value_0
  2806 00:08D5: 22 xx xx xx  	jsl	~~k_inttodec
  2807 00:08D9: 85 01        	sta	<R0
  2808 00:08DB: 86 03        	stx	<R0+2
  2809 00:08DD: A6 03        	ldx	<R0+2
  2810 00:08DF: A5 01        	lda	<R0
  2811 00:08E1: 82 D9 FF     	brl	L84
  2812                        ;}
  2813                        	.line	316
  2814                        	.endblock	316
  2815             00000004   L80	equ	4
  2816             00000005   L81	equ	5
  2817                        	ends
  2818                        	efunc
  2819                        	.endfunc	316,5,4
  2820                        	.line	316
  2821                        ;//
  2822                        ;/// A utility function to reverse a string
  2823                        ;//
  2824                        ;void k_reverse(char FAR str[], int length)
  2825                        ;{
  2826                        	.line	320
  2827                        	.line	321
  2828                        	code
  2829                        	xdef	~~k_reverse
  2830                        	func
  2831                        	.function	321
  2832                        ~~k_reverse:
  2833                        	longa	on
  2834                        	longi	on
  2835 00:08E4: 3B           	tsc
  2836 00:08E5: 38           	sec
  2837 00:08E6: E9 11 00     	sbc	#L85
  2838 00:08E9: 1B           	tcs
  2839 00:08EA: 0B           	phd
  2840 00:08EB: 5B           	tcd
  2841             00000004   str_0	set	4
  2842             00000008   length_0	set	8
  2843                        	.block	321
  2844                        ;	char t = 0;
  2845                        ;    long start = 0;
  Thu Dec  3 2020 22:25                                                Page 52


  2846                        ;    long end = length -1;
  2847                        ;
  2848                        ;    while (start < end)
  2849             00000000   t_1	set	0
  2850             00000001   start_1	set	1
  2851             00000005   end_1	set	5
  2852                        	.sym	t,0,14,1,8
  2853                        	.sym	start,1,7,1,32
  2854                        	.sym	end,5,7,1,32
  2855                        	.sym	str,4,142,6,32
  2856                        	.sym	length,8,5,6,16
  2857 00:08EC: E2 20        	sep	#$20
  2858                        	longa	off
  2859 00:08EE: 64 09        	stz	<L86+t_1
  2860 00:08F0: C2 20        	rep	#$20
  2861                        	longa	on
  2862 00:08F2: 64 0A        	stz	<L86+start_1
  2863 00:08F4: 64 0C        	stz	<L86+start_1+2
  2864 00:08F6: 18           	clc
  2865 00:08F7: A9 FF FF     	lda	#$ffff
  2866 00:08FA: 65 19        	adc	<L85+length_0
  2867 00:08FC: 85 01        	sta	<R0
  2868 00:08FE: A0 00 00     	ldy	#$0
  2869 00:0901: A5 01        	lda	<R0
  2870 00:0903: 10 01        	bpl	L88
  2871 00:0905: 88           	dey
  2872                        L88:
  2873 00:0906: 85 0E        	sta	<L86+end_1
  2874 00:0908: 84 10        	sty	<L86+end_1+2
  2875                        	.line	326
  2876                        L10021:
  2877 00:090A: 38           	sec
  2878 00:090B: A5 0A        	lda	<L86+start_1
  2879 00:090D: E5 0E        	sbc	<L86+end_1
  2880 00:090F: A5 0C        	lda	<L86+start_1+2
  2881 00:0911: E5 10        	sbc	<L86+end_1+2
  2882 00:0913: 70 03        	bvs	L89
  2883 00:0915: 49 00 80     	eor	#$8000
  2884                        L89:
  2885 00:0918: 10 03        	bpl	L90
  2886 00:091A: 82 5D 00     	brl	L10022
  2887                        L90:
  2888                        ;    {
  2889                        	.line	327
  2890                        ;		t = *(str+start);
  2891                        	.line	328
  2892 00:091D: 18           	clc
  2893 00:091E: A5 15        	lda	<L85+str_0
  2894 00:0920: 65 0A        	adc	<L86+start_1
  2895 00:0922: 85 01        	sta	<R0
  2896 00:0924: A5 17        	lda	<L85+str_0+2
  2897 00:0926: 65 0C        	adc	<L86+start_1+2
  2898 00:0928: 85 03        	sta	<R0+2
  2899 00:092A: E2 20        	sep	#$20
  2900                        	longa	off
  2901 00:092C: A7 01        	lda	[<R0]
  2902 00:092E: 85 09        	sta	<L86+t_1
  2903 00:0930: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 53


  2904                        	longa	on
  2905                        ;	    *(str+start) = *(str+end);
  2906                        	.line	329
  2907 00:0932: 18           	clc
  2908 00:0933: A5 15        	lda	<L85+str_0
  2909 00:0935: 65 0A        	adc	<L86+start_1
  2910 00:0937: 85 01        	sta	<R0
  2911 00:0939: A5 17        	lda	<L85+str_0+2
  2912 00:093B: 65 0C        	adc	<L86+start_1+2
  2913 00:093D: 85 03        	sta	<R0+2
  2914 00:093F: 18           	clc
  2915 00:0940: A5 15        	lda	<L85+str_0
  2916 00:0942: 65 0E        	adc	<L86+end_1
  2917 00:0944: 85 05        	sta	<R1
  2918 00:0946: A5 17        	lda	<L85+str_0+2
  2919 00:0948: 65 10        	adc	<L86+end_1+2
  2920 00:094A: 85 07        	sta	<R1+2
  2921 00:094C: E2 20        	sep	#$20
  2922                        	longa	off
  2923 00:094E: A7 05        	lda	[<R1]
  2924 00:0950: 87 01        	sta	[<R0]
  2925 00:0952: C2 20        	rep	#$20
  2926                        	longa	on
  2927                        ;		*(str+end) = t;
  2928                        	.line	330
  2929 00:0954: 18           	clc
  2930 00:0955: A5 15        	lda	<L85+str_0
  2931 00:0957: 65 0E        	adc	<L86+end_1
  2932 00:0959: 85 01        	sta	<R0
  2933 00:095B: A5 17        	lda	<L85+str_0+2
  2934 00:095D: 65 10        	adc	<L86+end_1+2
  2935 00:095F: 85 03        	sta	<R0+2
  2936 00:0961: E2 20        	sep	#$20
  2937                        	longa	off
  2938 00:0963: A5 09        	lda	<L86+t_1
  2939 00:0965: 87 01        	sta	[<R0]
  2940 00:0967: C2 20        	rep	#$20
  2941                        	longa	on
  2942                        ;
  2943                        ;        //swap(*(str+start), *(str+end));
  2944                        ;        start++;
  2945                        	.line	333
  2946 00:0969: E6 0A        	inc	<L86+start_1
  2947 00:096B: D0 02        	bne	L91
  2948 00:096D: E6 0C        	inc	<L86+start_1+2
  2949                        L91:
  2950                        ;        end--;
  2951                        	.line	334
  2952 00:096F: A5 0E        	lda	<L86+end_1
  2953 00:0971: D0 02        	bne	L92
  2954 00:0973: C6 10        	dec	<L86+end_1+2
  2955                        L92:
  2956 00:0975: C6 0E        	dec	<L86+end_1
  2957                        ;    }
  2958                        	.line	335
  2959 00:0977: 82 90 FF     	brl	L10021
  2960                        L10022:
  2961                        ;}
  Thu Dec  3 2020 22:25                                                Page 54


  2962                        	.line	336
  2963                        L93:
  2964 00:097A: A5 13        	lda	<L85+2
  2965 00:097C: 85 19        	sta	<L85+2+6
  2966 00:097E: A5 12        	lda	<L85+1
  2967 00:0980: 85 18        	sta	<L85+1+6
  2968 00:0982: 2B           	pld
  2969 00:0983: 3B           	tsc
  2970 00:0984: 18           	clc
  2971 00:0985: 69 17 00     	adc	#L85+6
  2972 00:0988: 1B           	tcs
  2973 00:0989: 6B           	rtl
  2974                        	.endblock	336
  2975             00000011   L85	equ	17
  2976             00000009   L86	equ	9
  2977                        	ends
  2978                        	efunc
  2979                        	.endfunc	336,9,17
  2980                        	.line	336
  2981                        ;
  2982                        ;LPCHAR k_string_trim(LPCHAR lpText)
  2983                        ;{
  2984                        	.line	338
  2985                        	.line	339
  2986                        	code
  2987                        	xdef	~~k_string_trim
  2988                        	func
  2989                        	.function	339
  2990                        ~~k_string_trim:
  2991                        	longa	on
  2992                        	longi	on
  2993 00:098A: 3B           	tsc
  2994 00:098B: 38           	sec
  2995 00:098C: E9 08 00     	sbc	#L94
  2996 00:098F: 1B           	tcs
  2997 00:0990: 0B           	phd
  2998 00:0991: 5B           	tcd
  2999             00000004   lpText_0	set	4
  3000                        	.block	339
  3001                        ;	return k_string_rtrim(k_string_ltrim(lpText));
  3002                        	.sym	lpText,4,142,6,32
  3003                        	.line	340
  3004 00:0992: D4 0E        	pei	<L94+lpText_0+2
  3005 00:0994: D4 0C        	pei	<L94+lpText_0
  3006 00:0996: 22 xx xx xx  	jsl	~~k_string_ltrim
  3007 00:099A: 85 01        	sta	<R0
  3008 00:099C: 86 03        	stx	<R0+2
  3009 00:099E: DA           	phx
  3010 00:099F: 48           	pha
  3011 00:09A0: 22 xx xx xx  	jsl	~~k_string_rtrim
  3012 00:09A4: 85 05        	sta	<R1
  3013 00:09A6: 86 07        	stx	<R1+2
  3014 00:09A8: A6 07        	ldx	<R1+2
  3015 00:09AA: A5 05        	lda	<R1
  3016                        L97:
  3017 00:09AC: A8           	tay
  3018 00:09AD: A5 0A        	lda	<L94+2
  3019 00:09AF: 85 0E        	sta	<L94+2+4
  Thu Dec  3 2020 22:25                                                Page 55


  3020 00:09B1: A5 09        	lda	<L94+1
  3021 00:09B3: 85 0D        	sta	<L94+1+4
  3022 00:09B5: 2B           	pld
  3023 00:09B6: 3B           	tsc
  3024 00:09B7: 18           	clc
  3025 00:09B8: 69 0C 00     	adc	#L94+4
  3026 00:09BB: 1B           	tcs
  3027 00:09BC: 98           	tya
  3028 00:09BD: 6B           	rtl
  3029                        ;}
  3030                        	.line	341
  3031                        	.endblock	341
  3032             00000008   L94	equ	8
  3033             00000009   L95	equ	9
  3034                        	ends
  3035                        	efunc
  3036                        	.endfunc	341,9,8
  3037                        	.line	341
  3038                        ;
  3039                        ;LPCHAR k_string_rtrim(LPCHAR lpText)
  3040                        ;{
  3041                        	.line	343
  3042                        	.line	344
  3043                        	code
  3044                        	xdef	~~k_string_rtrim
  3045                        	func
  3046                        	.function	344
  3047                        ~~k_string_rtrim:
  3048                        	longa	on
  3049                        	longi	on
  3050 00:09BE: 3B           	tsc
  3051 00:09BF: 38           	sec
  3052 00:09C0: E9 08 00     	sbc	#L98
  3053 00:09C3: 1B           	tcs
  3054 00:09C4: 0B           	phd
  3055 00:09C5: 5B           	tcd
  3056             00000004   lpText_0	set	4
  3057                        	.block	344
  3058                        ;	UINT index  = 0;
  3059                        ;	UINT length = 0;
  3060                        ;	if(lpText)
  3061             00000000   index_1	set	0
  3062             00000002   length_1	set	2
  3063                        	.sym	index,0,16,1,16
  3064                        	.sym	length,2,16,1,16
  3065                        	.sym	lpText,4,142,6,32
  3066 00:09C6: 64 05        	stz	<L99+index_1
  3067 00:09C8: 64 07        	stz	<L99+length_1
  3068                        	.line	347
  3069                        ;	{
  3070 00:09CA: A5 0C        	lda	<L98+lpText_0
  3071 00:09CC: 05 0E        	ora	<L98+lpText_0+2
  3072 00:09CE: D0 03        	bne	L101
  3073 00:09D0: 82 44 00     	brl	L10023
  3074                        L101:
  3075                        	.line	348
  3076                        ;		length = strlen(lpText) - 1;
  3077                        	.line	349
  Thu Dec  3 2020 22:25                                                Page 56


  3078 00:09D3: D4 0E        	pei	<L98+lpText_0+2
  3079 00:09D5: D4 0C        	pei	<L98+lpText_0
  3080 00:09D7: 22 xx xx xx  	jsl	~~strlen
  3081 00:09DB: 85 01        	sta	<R0
  3082 00:09DD: 18           	clc
  3083 00:09DE: A9 FF FF     	lda	#$ffff
  3084 00:09E1: 65 01        	adc	<R0
  3085 00:09E3: 85 07        	sta	<L99+length_1
  3086                        ;		for(index = length;index >= 0;index--)
  3087                        	.line	350
  3088 00:09E5: A5 07        	lda	<L99+length_1
  3089 00:09E7: 85 05        	sta	<L99+index_1
  3090 00:09E9: 82 21 00     	brl	L10027
  3091                        L10026:
  3092                        ;		{
  3093                        	.line	351
  3094                        ;			if(lpText[index] == ' ')
  3095                        	.line	352
  3096                        ;			{
  3097 00:09EC: E2 20        	sep	#$20
  3098                        	longa	off
  3099 00:09EE: A4 05        	ldy	<L99+index_1
  3100 00:09F0: B7 0C        	lda	[<L98+lpText_0],Y
  3101 00:09F2: C9 20        	cmp	#<$20
  3102 00:09F4: C2 20        	rep	#$20
  3103                        	longa	on
  3104 00:09F6: F0 03        	beq	L102
  3105 00:09F8: 82 0D 00     	brl	L10028
  3106                        L102:
  3107                        	.line	353
  3108                        ;				lpText[index] = 0;
  3109                        	.line	354
  3110 00:09FB: E2 20        	sep	#$20
  3111                        	longa	off
  3112 00:09FD: A9 00        	lda	#$0
  3113 00:09FF: A4 05        	ldy	<L99+index_1
  3114 00:0A01: 97 0C        	sta	[<L98+lpText_0],Y
  3115 00:0A03: C2 20        	rep	#$20
  3116                        	longa	on
  3117                        ;			}
  3118                        	.line	355
  3119                        ;			else
  3120 00:0A05: 82 03 00     	brl	L10029
  3121                        L10028:
  3122                        ;			{
  3123                        	.line	357
  3124                        ;				break;
  3125                        	.line	358
  3126 00:0A08: 82 0C 00     	brl	L10025
  3127                        ;			}
  3128                        	.line	359
  3129                        L10029:
  3130                        ;		}
  3131                        	.line	360
  3132                        L10024:
  3133 00:0A0B: C6 05        	dec	<L99+index_1
  3134                        L10027:
  3135 00:0A0D: A5 05        	lda	<L99+index_1
  Thu Dec  3 2020 22:25                                                Page 57


  3136 00:0A0F: C9 00 00     	cmp	#<$0
  3137 00:0A12: 90 03        	bcc	L103
  3138 00:0A14: 82 D5 FF     	brl	L10026
  3139                        L103:
  3140                        L10025:
  3141                        ;	}
  3142                        	.line	361
  3143                        ;	return lpText;
  3144                        L10023:
  3145                        	.line	362
  3146 00:0A17: A6 0E        	ldx	<L98+lpText_0+2
  3147 00:0A19: A5 0C        	lda	<L98+lpText_0
  3148                        L104:
  3149 00:0A1B: A8           	tay
  3150 00:0A1C: A5 0A        	lda	<L98+2
  3151 00:0A1E: 85 0E        	sta	<L98+2+4
  3152 00:0A20: A5 09        	lda	<L98+1
  3153 00:0A22: 85 0D        	sta	<L98+1+4
  3154 00:0A24: 2B           	pld
  3155 00:0A25: 3B           	tsc
  3156 00:0A26: 18           	clc
  3157 00:0A27: 69 0C 00     	adc	#L98+4
  3158 00:0A2A: 1B           	tcs
  3159 00:0A2B: 98           	tya
  3160 00:0A2C: 6B           	rtl
  3161                        ;}
  3162                        	.line	363
  3163                        	.endblock	363
  3164             00000008   L98	equ	8
  3165             00000005   L99	equ	5
  3166                        	ends
  3167                        	efunc
  3168                        	.endfunc	363,5,8
  3169                        	.line	363
  3170                        ;
  3171                        ;LPCHAR k_string_ltrim(LPCHAR lpText)
  3172                        ;{
  3173                        	.line	365
  3174                        	.line	366
  3175                        	code
  3176                        	xdef	~~k_string_ltrim
  3177                        	func
  3178                        	.function	366
  3179                        ~~k_string_ltrim:
  3180                        	longa	on
  3181                        	longi	on
  3182 00:0A2D: 3B           	tsc
  3183 00:0A2E: 38           	sec
  3184 00:0A2F: E9 0A 00     	sbc	#L105
  3185 00:0A32: 1B           	tcs
  3186 00:0A33: 0B           	phd
  3187 00:0A34: 5B           	tcd
  3188             00000004   lpText_0	set	4
  3189                        	.block	366
  3190                        ;	UINT 	index  = 0;
  3191                        ;	UINT    c      = 0;
  3192                        ;	UINT 	length = 0;
  3193                        ;	LPCHAR  tmp    = NULL;
  Thu Dec  3 2020 22:25                                                Page 58


  3194                        ;	if(lpText)
  3195             00000000   index_1	set	0
  3196             00000002   c_1	set	2
  3197             00000004   length_1	set	4
  3198             00000006   tmp_1	set	6
  3199                        	.sym	index,0,16,1,16
  3200                        	.sym	c,2,16,1,16
  3201                        	.sym	length,4,16,1,16
  3202                        	.sym	tmp,6,142,1,32
  3203                        	.sym	lpText,4,142,6,32
  3204 00:0A35: 64 01        	stz	<L106+index_1
  3205 00:0A37: 64 03        	stz	<L106+c_1
  3206 00:0A39: 64 05        	stz	<L106+length_1
  3207 00:0A3B: 64 07        	stz	<L106+tmp_1
  3208 00:0A3D: 64 09        	stz	<L106+tmp_1+2
  3209                        	.line	371
  3210                        ;	{
  3211 00:0A3F: A5 0E        	lda	<L105+lpText_0
  3212 00:0A41: 05 10        	ora	<L105+lpText_0+2
  3213 00:0A43: D0 03        	bne	L108
  3214 00:0A45: 82 83 00     	brl	L10030
  3215                        L108:
  3216                        	.line	372
  3217                        ;		length = strlen(lpText);
  3218                        	.line	373
  3219 00:0A48: D4 10        	pei	<L105+lpText_0+2
  3220 00:0A4A: D4 0E        	pei	<L105+lpText_0
  3221 00:0A4C: 22 xx xx xx  	jsl	~~strlen
  3222 00:0A50: 85 05        	sta	<L106+length_1
  3223                        ;		tmp = k_mem_allocate_heap(length+1);
  3224                        	.line	374
  3225 00:0A52: A5 05        	lda	<L106+length_1
  3226 00:0A54: 1A           	ina
  3227 00:0A55: 48           	pha
  3228 00:0A56: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3229 00:0A5A: 85 07        	sta	<L106+tmp_1
  3230 00:0A5C: 86 09        	stx	<L106+tmp_1+2
  3231                        ;		if(tmp)
  3232                        	.line	375
  3233                        ;		{
  3234 00:0A5E: A5 07        	lda	<L106+tmp_1
  3235 00:0A60: 05 09        	ora	<L106+tmp_1+2
  3236 00:0A62: D0 03        	bne	L109
  3237 00:0A64: 82 64 00     	brl	L10031
  3238                        L109:
  3239                        	.line	376
  3240                        ;			memset(tmp,0,length+1);
  3241                        	.line	377
  3242 00:0A67: A5 05        	lda	<L106+length_1
  3243 00:0A69: 1A           	ina
  3244 00:0A6A: 48           	pha
  3245 00:0A6B: F4 00 00     	pea	#<$0
  3246 00:0A6E: D4 09        	pei	<L106+tmp_1+2
  3247 00:0A70: D4 07        	pei	<L106+tmp_1
  3248 00:0A72: 22 xx xx xx  	jsl	~~memset
  3249                        ;			for(index = 0;index < length;ind
                    ex++)
  3250                        	.line	378
  Thu Dec  3 2020 22:25                                                Page 59


  3251 00:0A76: 64 01        	stz	<L106+index_1
  3252 00:0A78: 82 33 00     	brl	L10035
  3253                        L10034:
  3254                        ;			{
  3255                        	.line	379
  3256                        ;				if(lpText[index] == ' ' 
                    && c == 0)
  3257                        	.line	380
  3258                        ;				{
  3259 00:0A7B: E2 20        	sep	#$20
  3260                        	longa	off
  3261 00:0A7D: A4 01        	ldy	<L106+index_1
  3262 00:0A7F: B7 0E        	lda	[<L105+lpText_0],Y
  3263 00:0A81: C9 20        	cmp	#<$20
  3264 00:0A83: C2 20        	rep	#$20
  3265                        	longa	on
  3266 00:0A85: F0 03        	beq	L110
  3267 00:0A87: 82 0A 00     	brl	L10036
  3268                        L110:
  3269 00:0A8A: A5 03        	lda	<L106+c_1
  3270 00:0A8C: F0 03        	beq	L111
  3271 00:0A8E: 82 03 00     	brl	L10036
  3272                        L111:
  3273                        	.line	381
  3274                        ;					// skip spaces u
                    ntil we find another char first
  3275                        ;				}
  3276                        	.line	383
  3277                        ;				else
  3278 00:0A91: 82 0E 00     	brl	L10037
  3279                        L10036:
  3280                        ;				{
  3281                        	.line	385
  3282                        ;					tmp[c] = lpText[
                    index];
  3283                        	.line	386
  3284 00:0A94: E2 20        	sep	#$20
  3285                        	longa	off
  3286 00:0A96: A4 01        	ldy	<L106+index_1
  3287 00:0A98: B7 0E        	lda	[<L105+lpText_0],Y
  3288 00:0A9A: A4 03        	ldy	<L106+c_1
  3289 00:0A9C: 97 07        	sta	[<L106+tmp_1],Y
  3290 00:0A9E: C2 20        	rep	#$20
  3291                        	longa	on
  3292                        ;					c++;
  3293                        	.line	387
  3294 00:0AA0: E6 03        	inc	<L106+c_1
  3295                        ;				}
  3296                        	.line	388
  3297                        L10037:
  3298                        ;
  3299                        ;				if(lpText[0]  == 0)
  3300                        	.line	390
  3301                        ;					break;
  3302 00:0AA2: A7 0E        	lda	[<L105+lpText_0]
  3303 00:0AA4: 29 FF 00     	and	#$ff
  3304 00:0AA7: D0 03        	bne	L112
  3305 00:0AA9: 82 0B 00     	brl	L10033
  Thu Dec  3 2020 22:25                                                Page 60


  3306                        L112:
  3307                        ;			}
  3308                        	.line	392
  3309                        L10032:
  3310 00:0AAC: E6 01        	inc	<L106+index_1
  3311                        L10035:
  3312 00:0AAE: A5 01        	lda	<L106+index_1
  3313 00:0AB0: C5 05        	cmp	<L106+length_1
  3314 00:0AB2: B0 03        	bcs	L113
  3315 00:0AB4: 82 C4 FF     	brl	L10034
  3316                        L113:
  3317                        L10033:
  3318                        ;			strcpy(lpText,tmp);
  3319                        	.line	393
  3320 00:0AB7: D4 09        	pei	<L106+tmp_1+2
  3321 00:0AB9: D4 07        	pei	<L106+tmp_1
  3322 00:0ABB: D4 10        	pei	<L105+lpText_0+2
  3323 00:0ABD: D4 0E        	pei	<L105+lpText_0
  3324 00:0ABF: 22 xx xx xx  	jsl	~~strcpy
  3325                        ;			k_mem_deallocate_heap(tmp);
  3326                        	.line	394
  3327 00:0AC3: D4 09        	pei	<L106+tmp_1+2
  3328 00:0AC5: D4 07        	pei	<L106+tmp_1
  3329 00:0AC7: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  3330                        ;		}
  3331                        	.line	395
  3332                        ;	}
  3333                        L10031:
  3334                        	.line	396
  3335                        ;	return lpText;
  3336                        L10030:
  3337                        	.line	397
  3338 00:0ACB: A6 10        	ldx	<L105+lpText_0+2
  3339 00:0ACD: A5 0E        	lda	<L105+lpText_0
  3340                        L114:
  3341 00:0ACF: A8           	tay
  3342 00:0AD0: A5 0C        	lda	<L105+2
  3343 00:0AD2: 85 10        	sta	<L105+2+4
  3344 00:0AD4: A5 0B        	lda	<L105+1
  3345 00:0AD6: 85 0F        	sta	<L105+1+4
  3346 00:0AD8: 2B           	pld
  3347 00:0AD9: 3B           	tsc
  3348 00:0ADA: 18           	clc
  3349 00:0ADB: 69 0E 00     	adc	#L105+4
  3350 00:0ADE: 1B           	tcs
  3351 00:0ADF: 98           	tya
  3352 00:0AE0: 6B           	rtl
  3353                        ;}
  3354                        	.line	398
  3355                        	.endblock	398
  3356             0000000A   L105	equ	10
  3357             00000001   L106	equ	1
  3358                        	ends
  3359                        	efunc
  3360                        	.endfunc	398,1,10
  3361                        	.line	398
  3362                        ;
  3363                        ;INT k_string_indexOf(LPCHAR chars,CHAR c)
  Thu Dec  3 2020 22:25                                                Page 61


  3364                        ;{
  3365                        	.line	400
  3366                        	.line	401
  3367                        	code
  3368                        	xdef	~~k_string_indexOf
  3369                        	func
  3370                        	.function	401
  3371                        ~~k_string_indexOf:
  3372                        	longa	on
  3373                        	longi	on
  3374 00:0AE1: 3B           	tsc
  3375 00:0AE2: 38           	sec
  3376 00:0AE3: E9 06 00     	sbc	#L115
  3377 00:0AE6: 1B           	tcs
  3378 00:0AE7: 0B           	phd
  3379 00:0AE8: 5B           	tcd
  3380             00000004   chars_0	set	4
  3381             00000008   c_0	set	8
  3382                        	.block	401
  3383                        ;	LPCHAR ptr = chars;
  3384                        ;	INT pos = 0;
  3385                        ;
  3386                        ;	k_debug_char("k_string_indexOf:char:",c);
  3387             00000000   ptr_1	set	0
  3388             00000004   pos_1	set	4
  3389                        	.sym	ptr,0,142,1,32
  3390                        	.sym	pos,4,5,1,16
  3391                        	.sym	chars,4,142,6,32
  3392                        	.sym	c,8,14,6,8
  3393 00:0AE9: A5 0A        	lda	<L115+chars_0
  3394 00:0AEB: 85 01        	sta	<L116+ptr_1
  3395 00:0AED: A5 0C        	lda	<L115+chars_0+2
  3396 00:0AEF: 85 03        	sta	<L116+ptr_1+2
  3397 00:0AF1: 64 05        	stz	<L116+pos_1
  3398                        	.line	405
  3399 00:0AF3: D4 0E        	pei	<L115+c_0
  3400 00:0AF5: F4 xx xx     	pea	#^L1
  3401 00:0AF8: F4 xx xx     	pea	#<L1
  3402 00:0AFB: 22 xx xx xx  	jsl	~~k_debug_char
  3403                        ;
  3404                        ;	while(*ptr!=0)
  3405                        	.line	407
  3406                        L10038:
  3407 00:0AFF: A7 01        	lda	[<L116+ptr_1]
  3408 00:0B01: 29 FF 00     	and	#$ff
  3409 00:0B04: D0 03        	bne	L118
  3410 00:0B06: 82 38 00     	brl	L10039
  3411                        L118:
  3412                        ;	{
  3413                        	.line	408
  3414                        ;		if(*ptr == c)
  3415                        	.line	409
  3416                        ;		{
  3417 00:0B09: E2 20        	sep	#$20
  3418                        	longa	off
  3419 00:0B0B: A7 01        	lda	[<L116+ptr_1]
  3420 00:0B0D: C5 0E        	cmp	<L115+c_0
  3421 00:0B0F: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 62


  3422                        	longa	on
  3423 00:0B11: F0 03        	beq	L119
  3424 00:0B13: 82 20 00     	brl	L10040
  3425                        L119:
  3426                        	.line	410
  3427                        ;			k_debug_integer("k_string_indexO
                    f:pos:",pos);
  3428                        	.line	411
  3429 00:0B16: D4 05        	pei	<L116+pos_1
  3430 00:0B18: F4 xx xx     	pea	#^L1+23
  3431 00:0B1B: F4 xx xx     	pea	#<L1+23
  3432 00:0B1E: 22 xx xx xx  	jsl	~~k_debug_integer
  3433                        ;			return pos;
  3434                        	.line	412
  3435 00:0B22: A5 05        	lda	<L116+pos_1
  3436                        L120:
  3437 00:0B24: A8           	tay
  3438 00:0B25: A5 08        	lda	<L115+2
  3439 00:0B27: 85 0E        	sta	<L115+2+6
  3440 00:0B29: A5 07        	lda	<L115+1
  3441 00:0B2B: 85 0D        	sta	<L115+1+6
  3442 00:0B2D: 2B           	pld
  3443 00:0B2E: 3B           	tsc
  3444 00:0B2F: 18           	clc
  3445 00:0B30: 69 0C 00     	adc	#L115+6
  3446 00:0B33: 1B           	tcs
  3447 00:0B34: 98           	tya
  3448 00:0B35: 6B           	rtl
  3449                        ;		}
  3450                        	.line	413
  3451                        ;		pos++;
  3452                        L10040:
  3453                        	.line	414
  3454 00:0B36: E6 05        	inc	<L116+pos_1
  3455                        ;		ptr++;
  3456                        	.line	415
  3457 00:0B38: E6 01        	inc	<L116+ptr_1
  3458 00:0B3A: D0 02        	bne	L121
  3459 00:0B3C: E6 03        	inc	<L116+ptr_1+2
  3460                        L121:
  3461                        ;	};
  3462                        	.line	416
  3463 00:0B3E: 82 BE FF     	brl	L10038
  3464                        L10039:
  3465                        	.line	416
  3466                        ;
  3467                        ;	return -1;
  3468                        	.line	418
  3469 00:0B41: A9 FF FF     	lda	#$ffff
  3470 00:0B44: 82 DD FF     	brl	L120
  3471                        ;}
  3472                        	.line	419
  3473                        	.endblock	419
  3474             00000006   L115	equ	6
  3475             00000001   L116	equ	1
  3476                        	ends
  3477                        	efunc
  3478                        	.endfunc	419,1,6
  Thu Dec  3 2020 22:25                                                Page 63


  3479                        	.line	419
  3480                        	data
  3481                        L1:
  3482 00:001A: 6B 5F 73 74  	db	$6B,$5F,$73,$74,$72,$69,$6E,$67,$5F,$69,
                    $6E,$64,$65,$78,$4F
       00:001E: 72 69 6E 67 
       00:0022: 5F 69 6E 64 
       00:0026: 65 78 4F 
  3483 00:0029: 66 3A 63 68  	db	$66,$3A,$63,$68,$61,$72,$3A,$00,$6B,$5F,
                    $73,$74,$72,$69,$6E
       00:002D: 61 72 3A 00 
       00:0031: 6B 5F 73 74 
       00:0035: 72 69 6E 
  3484 00:0038: 67 5F 69 6E  	db	$67,$5F,$69,$6E,$64,$65,$78,$4F,$66,$3A,
                    $70,$6F,$73,$3A,$00
       00:003C: 64 65 78 4F 
       00:0040: 66 3A 70 6F 
       00:0044: 73 3A 00 
  3485 00:0047:              	ends
  3486                        ;
  3487                        ;LPCHAR k_string_toString(CHAR c,LPCHAR toBuffer)
  3488                        ;{
  3489                        	.line	421
  3490                        	.line	422
  3491                        	code
  3492                        	xdef	~~k_string_toString
  3493                        	func
  3494                        	.function	422
  3495                        ~~k_string_toString:
  3496                        	longa	on
  3497                        	longi	on
  3498 00:0B47: 3B           	tsc
  3499 00:0B48: 38           	sec
  3500 00:0B49: E9 00 00     	sbc	#L123
  3501 00:0B4C: 1B           	tcs
  3502 00:0B4D: 0B           	phd
  3503 00:0B4E: 5B           	tcd
  3504             00000004   c_0	set	4
  3505             00000006   toBuffer_0	set	6
  3506                        	.block	422
  3507                        ;	toBuffer[0] = c;
  3508                        	.sym	c,4,14,6,8
  3509                        	.sym	toBuffer,6,142,6,32
  3510                        	.line	423
  3511 00:0B4F: E2 20        	sep	#$20
  3512                        	longa	off
  3513 00:0B51: A5 04        	lda	<L123+c_0
  3514 00:0B53: 87 06        	sta	[<L123+toBuffer_0]
  3515 00:0B55: C2 20        	rep	#$20
  3516                        	longa	on
  3517                        ;	toBuffer[1] = 0;
  3518                        	.line	424
  3519 00:0B57: E2 20        	sep	#$20
  3520                        	longa	off
  3521 00:0B59: A9 00        	lda	#$0
  3522 00:0B5B: A0 01 00     	ldy	#$1
  3523 00:0B5E: 97 06        	sta	[<L123+toBuffer_0],Y
  3524 00:0B60: C2 20        	rep	#$20
  Thu Dec  3 2020 22:25                                                Page 64


  3525                        	longa	on
  3526                        ;	return toBuffer;
  3527                        	.line	425
  3528 00:0B62: A6 08        	ldx	<L123+toBuffer_0+2
  3529 00:0B64: A5 06        	lda	<L123+toBuffer_0
  3530                        L126:
  3531 00:0B66: A8           	tay
  3532 00:0B67: A5 02        	lda	<L123+2
  3533 00:0B69: 85 08        	sta	<L123+2+6
  3534 00:0B6B: A5 01        	lda	<L123+1
  3535 00:0B6D: 85 07        	sta	<L123+1+6
  3536 00:0B6F: 2B           	pld
  3537 00:0B70: 3B           	tsc
  3538 00:0B71: 18           	clc
  3539 00:0B72: 69 06 00     	adc	#L123+6
  3540 00:0B75: 1B           	tcs
  3541 00:0B76: 98           	tya
  3542 00:0B77: 6B           	rtl
  3543                        ;}
  3544                        	.line	426
  3545                        	.endblock	426
  3546             00000000   L123	equ	0
  3547             00000001   L124	equ	1
  3548                        	ends
  3549                        	efunc
  3550                        	.endfunc	426,1,0
  3551                        	.line	426
  3552                        ;
  3553                        ;LPCHAR k_string_copy_string(LPCSTR src)
  3554                        ;{
  3555                        	.line	428
  3556                        	.line	429
  3557                        	code
  3558                        	xdef	~~k_string_copy_string
  3559                        	func
  3560                        	.function	429
  3561                        ~~k_string_copy_string:
  3562                        	longa	on
  3563                        	longi	on
  3564 00:0B78: 3B           	tsc
  3565 00:0B79: 38           	sec
  3566 00:0B7A: E9 0A 00     	sbc	#L127
  3567 00:0B7D: 1B           	tcs
  3568 00:0B7E: 0B           	phd
  3569 00:0B7F: 5B           	tcd
  3570             00000004   src_0	set	4
  3571                        	.block	429
  3572                        ;	UINT size = 0;
  3573                        ;	LPCHAR copy = NULL;
  3574                        ;	LPCHAR ptr = NULL;
  3575                        ;
  3576                        ;	//k_debug_strings("k_string_copy_string:","Enter
                    ");
  3577                        ;
  3578                        ;	if(src!=NULL)
  3579             00000000   size_1	set	0
  3580             00000002   copy_1	set	2
  3581             00000006   ptr_1	set	6
  Thu Dec  3 2020 22:25                                                Page 65


  3582                        	.sym	size,0,16,1,16
  3583                        	.sym	copy,2,142,1,32
  3584                        	.sym	ptr,6,142,1,32
  3585                        	.sym	src,4,142,6,32
  3586 00:0B80: 64 01        	stz	<L128+size_1
  3587 00:0B82: 64 03        	stz	<L128+copy_1
  3588 00:0B84: 64 05        	stz	<L128+copy_1+2
  3589 00:0B86: 64 07        	stz	<L128+ptr_1
  3590 00:0B88: 64 09        	stz	<L128+ptr_1+2
  3591                        	.line	436
  3592                        ;	{
  3593 00:0B8A: A5 0E        	lda	<L127+src_0
  3594 00:0B8C: 05 10        	ora	<L127+src_0+2
  3595 00:0B8E: D0 03        	bne	L130
  3596 00:0B90: 82 51 00     	brl	L10041
  3597                        L130:
  3598                        	.line	437
  3599                        ;		size = strlen(src);
  3600                        	.line	438
  3601 00:0B93: D4 10        	pei	<L127+src_0+2
  3602 00:0B95: D4 0E        	pei	<L127+src_0
  3603 00:0B97: 22 xx xx xx  	jsl	~~strlen
  3604 00:0B9B: 85 01        	sta	<L128+size_1
  3605                        ;
  3606                        ;		//k_debug_integer("k_string_copy_string:
                    size:",size);
  3607                        ;
  3608                        ;		if(size > 0)
  3609                        	.line	442
  3610                        ;		{
  3611 00:0B9D: A9 00 00     	lda	#$0
  3612 00:0BA0: C5 01        	cmp	<L128+size_1
  3613 00:0BA2: 90 03        	bcc	L131
  3614 00:0BA4: 82 3D 00     	brl	L10042
  3615                        L131:
  3616                        	.line	443
  3617                        ;			copy = k_mem_allocate_heap(size+
                    1);
  3618                        	.line	444
  3619 00:0BA7: A5 01        	lda	<L128+size_1
  3620 00:0BA9: 1A           	ina
  3621 00:0BAA: 48           	pha
  3622 00:0BAB: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3623 00:0BAF: 85 03        	sta	<L128+copy_1
  3624 00:0BB1: 86 05        	stx	<L128+copy_1+2
  3625                        ;			//strcpy(copy,src);
  3626                        ;			ptr = copy;
  3627                        	.line	446
  3628 00:0BB3: A5 03        	lda	<L128+copy_1
  3629 00:0BB5: 85 07        	sta	<L128+ptr_1
  3630 00:0BB7: A5 05        	lda	<L128+copy_1+2
  3631 00:0BB9: 85 09        	sta	<L128+ptr_1+2
  3632                        ;			while(*src)
  3633                        	.line	447
  3634                        L10043:
  3635 00:0BBB: A7 0E        	lda	[<L127+src_0]
  3636 00:0BBD: 29 FF 00     	and	#$ff
  3637 00:0BC0: D0 03        	bne	L132
  Thu Dec  3 2020 22:25                                                Page 66


  3638 00:0BC2: 82 17 00     	brl	L10044
  3639                        L132:
  3640                        ;			{
  3641                        	.line	448
  3642                        ;				*ptr = *src;
  3643                        	.line	449
  3644 00:0BC5: E2 20        	sep	#$20
  3645                        	longa	off
  3646 00:0BC7: A7 0E        	lda	[<L127+src_0]
  3647 00:0BC9: 87 07        	sta	[<L128+ptr_1]
  3648 00:0BCB: C2 20        	rep	#$20
  3649                        	longa	on
  3650                        ;				ptr++;
  3651                        	.line	450
  3652 00:0BCD: E6 07        	inc	<L128+ptr_1
  3653 00:0BCF: D0 02        	bne	L133
  3654 00:0BD1: E6 09        	inc	<L128+ptr_1+2
  3655                        L133:
  3656                        ;				src++;
  3657                        	.line	451
  3658 00:0BD3: E6 0E        	inc	<L127+src_0
  3659 00:0BD5: D0 02        	bne	L134
  3660 00:0BD7: E6 10        	inc	<L127+src_0+2
  3661                        L134:
  3662                        ;			}
  3663                        	.line	452
  3664 00:0BD9: 82 DF FF     	brl	L10043
  3665                        L10044:
  3666                        ;			*ptr = 0;
  3667                        	.line	453
  3668 00:0BDC: E2 20        	sep	#$20
  3669                        	longa	off
  3670 00:0BDE: A9 00        	lda	#$0
  3671 00:0BE0: 87 07        	sta	[<L128+ptr_1]
  3672 00:0BE2: C2 20        	rep	#$20
  3673                        	longa	on
  3674                        ;			//k_debug_strings("k_string_copy
                    _string:size:",copy);
  3675                        ;		}
  3676                        	.line	455
  3677                        ;	}
  3678                        L10042:
  3679                        	.line	456
  3680                        ;
  3681                        ;	//k_debug_strings("k_string_copy_string:",copy);
  3682                        ;
  3683                        ;	return copy;
  3684                        L10041:
  3685                        	.line	460
  3686 00:0BE4: A6 05        	ldx	<L128+copy_1+2
  3687 00:0BE6: A5 03        	lda	<L128+copy_1
  3688                        L135:
  3689 00:0BE8: A8           	tay
  3690 00:0BE9: A5 0C        	lda	<L127+2
  3691 00:0BEB: 85 10        	sta	<L127+2+4
  3692 00:0BED: A5 0B        	lda	<L127+1
  3693 00:0BEF: 85 0F        	sta	<L127+1+4
  3694 00:0BF1: 2B           	pld
  Thu Dec  3 2020 22:25                                                Page 67


  3695 00:0BF2: 3B           	tsc
  3696 00:0BF3: 18           	clc
  3697 00:0BF4: 69 0E 00     	adc	#L127+4
  3698 00:0BF7: 1B           	tcs
  3699 00:0BF8: 98           	tya
  3700 00:0BF9: 6B           	rtl
  3701                        ;}
  3702                        	.line	461
  3703                        	.endblock	461
  3704             0000000A   L127	equ	10
  3705             00000001   L128	equ	1
  3706                        	ends
  3707                        	efunc
  3708                        	.endfunc	461,1,10
  3709                        	.line	461
  3710                        ;
  3711                        ;PFXSTRING k_fxstring_init(UINT size)
  3712                        ;{
  3713                        	.line	463
  3714                        	.line	464
  3715                        	code
  3716                        	xdef	~~k_fxstring_init
  3717                        	func
  3718                        	.function	464
  3719                        ~~k_fxstring_init:
  3720                        	longa	on
  3721                        	longi	on
  3722 00:0BFA: 3B           	tsc
  3723 00:0BFB: 38           	sec
  3724 00:0BFC: E9 08 00     	sbc	#L136
  3725 00:0BFF: 1B           	tcs
  3726 00:0C00: 0B           	phd
  3727 00:0C01: 5B           	tcd
  3728             00000004   size_0	set	4
  3729                        	.block	464
  3730                        ;	PFXSTRING fxstring = NULL;
  3731                        ;
  3732                        ;	if(size > 0)
  3733             00000000   fxstring_1	set	0
  3734                        	.sym	fxstring,0,138,1,32,45
  3735                        	.sym	size,4,16,6,16
  3736 00:0C02: 64 05        	stz	<L137+fxstring_1
  3737 00:0C04: 64 07        	stz	<L137+fxstring_1+2
  3738                        	.line	467
  3739                        ;	{
  3740 00:0C06: A9 00 00     	lda	#$0
  3741 00:0C09: C5 0C        	cmp	<L136+size_0
  3742 00:0C0B: 90 03        	bcc	L139
  3743 00:0C0D: 82 6E 00     	brl	L10045
  3744                        L139:
  3745                        	.line	468
  3746                        ;		k_debug_integer("k_fxstring_new:",size);
  3747                        	.line	469
  3748 00:0C10: D4 0C        	pei	<L136+size_0
  3749 00:0C12: F4 xx xx     	pea	#^L122
  3750 00:0C15: F4 xx xx     	pea	#<L122
  3751 00:0C18: 22 xx xx xx  	jsl	~~k_debug_integer
  3752                        ;
  Thu Dec  3 2020 22:25                                                Page 68


  3753                        ;		fxstring = k_mem_allocate_heap(sizeof(FX
                    STRING));
  3754                        	.line	471
  3755 00:0C1C: F4 08 00     	pea	#<$8
  3756 00:0C1F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3757 00:0C23: 85 05        	sta	<L137+fxstring_1
  3758 00:0C25: 86 07        	stx	<L137+fxstring_1+2
  3759                        ;		fxstring->pos = 0;
  3760                        	.line	472
  3761 00:0C27: A9 00 00     	lda	#$0
  3762 00:0C2A: A0 02 00     	ldy	#$2
  3763 00:0C2D: 97 05        	sta	[<L137+fxstring_1],Y
  3764                        ;		fxstring->size = size;
  3765                        	.line	473
  3766 00:0C2F: A5 0C        	lda	<L136+size_0
  3767 00:0C31: 87 05        	sta	[<L137+fxstring_1]
  3768                        ;		fxstring->buffer = k_mem_allocate_heap(f
                    xstring->size);
  3769                        	.line	474
  3770 00:0C33: A7 05        	lda	[<L137+fxstring_1]
  3771 00:0C35: 48           	pha
  3772 00:0C36: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3773 00:0C3A: 85 01        	sta	<R0
  3774 00:0C3C: 86 03        	stx	<R0+2
  3775 00:0C3E: A5 01        	lda	<R0
  3776 00:0C40: A0 04 00     	ldy	#$4
  3777 00:0C43: 97 05        	sta	[<L137+fxstring_1],Y
  3778 00:0C45: A5 03        	lda	<R0+2
  3779 00:0C47: A0 06 00     	ldy	#$6
  3780 00:0C4A: 97 05        	sta	[<L137+fxstring_1],Y
  3781                        ;		if(fxstring->buffer)
  3782                        	.line	475
  3783                        ;			memset(fxstring->buffer,0,fxstri
                    ng->size);
  3784 00:0C4C: A0 04 00     	ldy	#$4
  3785 00:0C4F: B7 05        	lda	[<L137+fxstring_1],Y
  3786 00:0C51: A0 06 00     	ldy	#$6
  3787 00:0C54: 17 05        	ora	[<L137+fxstring_1],Y
  3788 00:0C56: D0 03        	bne	L140
  3789 00:0C58: 82 16 00     	brl	L10046
  3790                        L140:
  3791                        	.line	476
  3792 00:0C5B: A7 05        	lda	[<L137+fxstring_1]
  3793 00:0C5D: 48           	pha
  3794 00:0C5E: F4 00 00     	pea	#<$0
  3795 00:0C61: A0 06 00     	ldy	#$6
  3796 00:0C64: B7 05        	lda	[<L137+fxstring_1],Y
  3797 00:0C66: 48           	pha
  3798 00:0C67: A0 04 00     	ldy	#$4
  3799 00:0C6A: B7 05        	lda	[<L137+fxstring_1],Y
  3800 00:0C6C: 48           	pha
  3801 00:0C6D: 22 xx xx xx  	jsl	~~memset
  3802                        ;
  3803                        ;		k_debug_integer("k_fxstring_new:",fxstri
                    ng->size);
  3804                        L10046:
  3805                        	.line	478
  3806 00:0C71: A7 05        	lda	[<L137+fxstring_1]
  Thu Dec  3 2020 22:25                                                Page 69


  3807 00:0C73: 48           	pha
  3808 00:0C74: F4 xx xx     	pea	#^L122+16
  3809 00:0C77: F4 xx xx     	pea	#<L122+16
  3810 00:0C7A: 22 xx xx xx  	jsl	~~k_debug_integer
  3811                        ;	}
  3812                        	.line	479
  3813                        ;	return fxstring;
  3814                        L10045:
  3815                        	.line	480
  3816 00:0C7E: A6 07        	ldx	<L137+fxstring_1+2
  3817 00:0C80: A5 05        	lda	<L137+fxstring_1
  3818                        L141:
  3819 00:0C82: A8           	tay
  3820 00:0C83: A5 0A        	lda	<L136+2
  3821 00:0C85: 85 0C        	sta	<L136+2+2
  3822 00:0C87: A5 09        	lda	<L136+1
  3823 00:0C89: 85 0B        	sta	<L136+1+2
  3824 00:0C8B: 2B           	pld
  3825 00:0C8C: 3B           	tsc
  3826 00:0C8D: 18           	clc
  3827 00:0C8E: 69 0A 00     	adc	#L136+2
  3828 00:0C91: 1B           	tcs
  3829 00:0C92: 98           	tya
  3830 00:0C93: 6B           	rtl
  3831                        ;}
  3832                        	.line	481
  3833                        	.endblock	481
  3834             00000008   L136	equ	8
  3835             00000005   L137	equ	5
  3836                        	ends
  3837                        	efunc
  3838                        	.endfunc	481,5,8
  3839                        	.line	481
  3840                        	data
  3841                        L122:
  3842 00:0047: 6B 5F 66 78  	db	$6B,$5F,$66,$78,$73,$74,$72,$69,$6E,$67,
                    $5F,$6E,$65,$77,$3A
       00:004B: 73 74 72 69 
       00:004F: 6E 67 5F 6E 
       00:0053: 65 77 3A 
  3843 00:0056: 00 6B 5F 66  	db	$00,$6B,$5F,$66,$78,$73,$74,$72,$69,$6E,
                    $67,$5F,$6E,$65,$77
       00:005A: 78 73 74 72 
       00:005E: 69 6E 67 5F 
       00:0062: 6E 65 77 
  3844 00:0065: 3A 00        	db	$3A,$00
  3845 00:0067:              	ends
  3846                        ;
  3847                        ;
  3848                        ;PFXSTRING k_fxstring_reinit(PFXSTRING fxstring)
  3849                        ;{
  3850                        	.line	484
  3851                        	.line	485
  3852                        	code
  3853                        	xdef	~~k_fxstring_reinit
  3854                        	func
  3855                        	.function	485
  3856                        ~~k_fxstring_reinit:
  Thu Dec  3 2020 22:25                                                Page 70


  3857                        	longa	on
  3858                        	longi	on
  3859 00:0C94: 3B           	tsc
  3860 00:0C95: 38           	sec
  3861 00:0C96: E9 00 00     	sbc	#L143
  3862 00:0C99: 1B           	tcs
  3863 00:0C9A: 0B           	phd
  3864 00:0C9B: 5B           	tcd
  3865             00000004   fxstring_0	set	4
  3866                        	.block	485
  3867                        ;	if(fxstring)
  3868                        	.sym	fxstring,4,138,6,32,45
  3869                        	.line	486
  3870                        ;	{
  3871 00:0C9C: A5 04        	lda	<L143+fxstring_0
  3872 00:0C9E: 05 06        	ora	<L143+fxstring_0+2
  3873 00:0CA0: D0 03        	bne	L146
  3874 00:0CA2: 82 2D 00     	brl	L10047
  3875                        L146:
  3876                        	.line	487
  3877                        ;		fxstring->pos = 0;
  3878                        	.line	488
  3879 00:0CA5: A9 00 00     	lda	#$0
  3880 00:0CA8: A0 02 00     	ldy	#$2
  3881 00:0CAB: 97 04        	sta	[<L143+fxstring_0],Y
  3882                        ;		if(fxstring->buffer)
  3883                        	.line	489
  3884                        ;			memset(fxstring->buffer,0,fxstri
                    ng->size);
  3885 00:0CAD: A0 04 00     	ldy	#$4
  3886 00:0CB0: B7 04        	lda	[<L143+fxstring_0],Y
  3887 00:0CB2: A0 06 00     	ldy	#$6
  3888 00:0CB5: 17 04        	ora	[<L143+fxstring_0],Y
  3889 00:0CB7: D0 03        	bne	L147
  3890 00:0CB9: 82 16 00     	brl	L10048
  3891                        L147:
  3892                        	.line	490
  3893 00:0CBC: A7 04        	lda	[<L143+fxstring_0]
  3894 00:0CBE: 48           	pha
  3895 00:0CBF: F4 00 00     	pea	#<$0
  3896 00:0CC2: A0 06 00     	ldy	#$6
  3897 00:0CC5: B7 04        	lda	[<L143+fxstring_0],Y
  3898 00:0CC7: 48           	pha
  3899 00:0CC8: A0 04 00     	ldy	#$4
  3900 00:0CCB: B7 04        	lda	[<L143+fxstring_0],Y
  3901 00:0CCD: 48           	pha
  3902 00:0CCE: 22 xx xx xx  	jsl	~~memset
  3903                        ;	}
  3904                        L10048:
  3905                        	.line	491
  3906                        ;	return fxstring;
  3907                        L10047:
  3908                        	.line	492
  3909 00:0CD2: A6 06        	ldx	<L143+fxstring_0+2
  3910 00:0CD4: A5 04        	lda	<L143+fxstring_0
  3911                        L148:
  3912 00:0CD6: A8           	tay
  3913 00:0CD7: A5 02        	lda	<L143+2
  Thu Dec  3 2020 22:25                                                Page 71


  3914 00:0CD9: 85 06        	sta	<L143+2+4
  3915 00:0CDB: A5 01        	lda	<L143+1
  3916 00:0CDD: 85 05        	sta	<L143+1+4
  3917 00:0CDF: 2B           	pld
  3918 00:0CE0: 3B           	tsc
  3919 00:0CE1: 18           	clc
  3920 00:0CE2: 69 04 00     	adc	#L143+4
  3921 00:0CE5: 1B           	tcs
  3922 00:0CE6: 98           	tya
  3923 00:0CE7: 6B           	rtl
  3924                        ;}
  3925                        	.line	493
  3926                        	.endblock	493
  3927             00000000   L143	equ	0
  3928             00000001   L144	equ	1
  3929                        	ends
  3930                        	efunc
  3931                        	.endfunc	493,1,0
  3932                        	.line	493
  3933                        ;
  3934                        ;
  3935                        ;
  3936                        ;PFXSTRING k_fxstring_new(LPCHAR initial,UINT size
                    )
  3937                        ;{
  3938                        	.line	497
  3939                        	.line	498
  3940                        	code
  3941                        	xdef	~~k_fxstring_new
  3942                        	func
  3943                        	.function	498
  3944                        ~~k_fxstring_new:
  3945                        	longa	on
  3946                        	longi	on
  3947 00:0CE8: 3B           	tsc
  3948 00:0CE9: 38           	sec
  3949 00:0CEA: E9 08 00     	sbc	#L149
  3950 00:0CED: 1B           	tcs
  3951 00:0CEE: 0B           	phd
  3952 00:0CEF: 5B           	tcd
  3953             00000004   initial_0	set	4
  3954             00000008   size_0	set	8
  3955                        	.block	498
  3956                        ;	PFXSTRING fxstring = k_fxstring_init(size);
  3957                        ;
  3958                        ;	if(fxstring->buffer == NULL)
  3959             00000000   fxstring_1	set	0
  3960                        	.sym	fxstring,0,138,1,32,45
  3961                        	.sym	initial,4,142,6,32
  3962                        	.sym	size,8,16,6,16
  3963 00:0CF0: D4 10        	pei	<L149+size_0
  3964 00:0CF2: 22 xx xx xx  	jsl	~~k_fxstring_init
  3965 00:0CF6: 85 05        	sta	<L150+fxstring_1
  3966 00:0CF8: 86 07        	stx	<L150+fxstring_1+2
  3967                        	.line	501
  3968                        ;	{
  3969 00:0CFA: A0 04 00     	ldy	#$4
  3970 00:0CFD: B7 05        	lda	[<L150+fxstring_1],Y
  Thu Dec  3 2020 22:25                                                Page 72


  3971 00:0CFF: A0 06 00     	ldy	#$6
  3972 00:0D02: 17 05        	ora	[<L150+fxstring_1],Y
  3973 00:0D04: F0 03        	beq	L152
  3974 00:0D06: 82 2F 00     	brl	L10049
  3975                        L152:
  3976                        	.line	502
  3977                        ;		fxstring->buffer = k_mem_allocate_heap(f
                    xstring->size);
  3978                        	.line	503
  3979 00:0D09: A7 05        	lda	[<L150+fxstring_1]
  3980 00:0D0B: 48           	pha
  3981 00:0D0C: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3982 00:0D10: 85 01        	sta	<R0
  3983 00:0D12: 86 03        	stx	<R0+2
  3984 00:0D14: A5 01        	lda	<R0
  3985 00:0D16: A0 04 00     	ldy	#$4
  3986 00:0D19: 97 05        	sta	[<L150+fxstring_1],Y
  3987 00:0D1B: A5 03        	lda	<R0+2
  3988 00:0D1D: A0 06 00     	ldy	#$6
  3989 00:0D20: 97 05        	sta	[<L150+fxstring_1],Y
  3990                        ;		memset(fxstring->buffer,0,fxstring->size
                    );
  3991                        	.line	504
  3992 00:0D22: A7 05        	lda	[<L150+fxstring_1]
  3993 00:0D24: 48           	pha
  3994 00:0D25: F4 00 00     	pea	#<$0
  3995 00:0D28: A0 06 00     	ldy	#$6
  3996 00:0D2B: B7 05        	lda	[<L150+fxstring_1],Y
  3997 00:0D2D: 48           	pha
  3998 00:0D2E: A0 04 00     	ldy	#$4
  3999 00:0D31: B7 05        	lda	[<L150+fxstring_1],Y
  4000 00:0D33: 48           	pha
  4001 00:0D34: 22 xx xx xx  	jsl	~~memset
  4002                        ;	}
  4003                        	.line	505
  4004                        ;
  4005                        ;	strcpy(fxstring->buffer,initial);
  4006                        L10049:
  4007                        	.line	507
  4008 00:0D38: D4 0E        	pei	<L149+initial_0+2
  4009 00:0D3A: D4 0C        	pei	<L149+initial_0
  4010 00:0D3C: A0 06 00     	ldy	#$6
  4011 00:0D3F: B7 05        	lda	[<L150+fxstring_1],Y
  4012 00:0D41: 48           	pha
  4013 00:0D42: A0 04 00     	ldy	#$4
  4014 00:0D45: B7 05        	lda	[<L150+fxstring_1],Y
  4015 00:0D47: 48           	pha
  4016 00:0D48: 22 xx xx xx  	jsl	~~strcpy
  4017                        ;	fxstring->pos = strlen(fxstring->buffer);
  4018                        	.line	508
  4019 00:0D4C: A0 06 00     	ldy	#$6
  4020 00:0D4F: B7 05        	lda	[<L150+fxstring_1],Y
  4021 00:0D51: 48           	pha
  4022 00:0D52: A0 04 00     	ldy	#$4
  4023 00:0D55: B7 05        	lda	[<L150+fxstring_1],Y
  4024 00:0D57: 48           	pha
  4025 00:0D58: 22 xx xx xx  	jsl	~~strlen
  4026 00:0D5C: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 73


  4027 00:0D5F: 97 05        	sta	[<L150+fxstring_1],Y
  4028                        ;
  4029                        ;	k_debug_message("k_fxstring_new:",fxstring->buff
                    er);
  4030                        	.line	510
  4031 00:0D61: A0 06 00     	ldy	#$6
  4032 00:0D64: B7 05        	lda	[<L150+fxstring_1],Y
  4033 00:0D66: 48           	pha
  4034 00:0D67: A0 04 00     	ldy	#$4
  4035 00:0D6A: B7 05        	lda	[<L150+fxstring_1],Y
  4036 00:0D6C: 48           	pha
  4037 00:0D6D: F4 xx xx     	pea	#^L142
  4038 00:0D70: F4 xx xx     	pea	#<L142
  4039 00:0D73: 22 xx xx xx  	jsl	~~k_debug_message
  4040                        ;
  4041                        ;	return fxstring;
  4042                        	.line	512
  4043 00:0D77: A6 07        	ldx	<L150+fxstring_1+2
  4044 00:0D79: A5 05        	lda	<L150+fxstring_1
  4045                        L153:
  4046 00:0D7B: A8           	tay
  4047 00:0D7C: A5 0A        	lda	<L149+2
  4048 00:0D7E: 85 10        	sta	<L149+2+6
  4049 00:0D80: A5 09        	lda	<L149+1
  4050 00:0D82: 85 0F        	sta	<L149+1+6
  4051 00:0D84: 2B           	pld
  4052 00:0D85: 3B           	tsc
  4053 00:0D86: 18           	clc
  4054 00:0D87: 69 0E 00     	adc	#L149+6
  4055 00:0D8A: 1B           	tcs
  4056 00:0D8B: 98           	tya
  4057 00:0D8C: 6B           	rtl
  4058                        ;}
  4059                        	.line	513
  4060                        	.endblock	513
  4061             00000008   L149	equ	8
  4062             00000005   L150	equ	5
  4063                        	ends
  4064                        	efunc
  4065                        	.endfunc	513,5,8
  4066                        	.line	513
  4067                        	data
  4068                        L142:
  4069 00:0067: 6B 5F 66 78  	db	$6B,$5F,$66,$78,$73,$74,$72,$69,$6E,$67,
                    $5F,$6E,$65,$77,$3A
       00:006B: 73 74 72 69 
       00:006F: 6E 67 5F 6E 
       00:0073: 65 77 3A 
  4070 00:0076: 00           	db	$00
  4071 00:0077:              	ends
  4072                        ;
  4073                        ;VOID k_fxstring_free(PFXSTRING string)
  4074                        ;{
  4075                        	.line	515
  4076                        	.line	516
  4077                        	code
  4078                        	xdef	~~k_fxstring_free
  4079                        	func
  Thu Dec  3 2020 22:25                                                Page 74


  4080                        	.function	516
  4081                        ~~k_fxstring_free:
  4082                        	longa	on
  4083                        	longi	on
  4084 00:0D8D: 3B           	tsc
  4085 00:0D8E: 38           	sec
  4086 00:0D8F: E9 00 00     	sbc	#L155
  4087 00:0D92: 1B           	tcs
  4088 00:0D93: 0B           	phd
  4089 00:0D94: 5B           	tcd
  4090             00000004   string_0	set	4
  4091                        	.block	516
  4092                        ;	if(string)
  4093                        	.sym	string,4,138,6,32,45
  4094                        	.line	517
  4095                        ;	{
  4096 00:0D95: A5 04        	lda	<L155+string_0
  4097 00:0D97: 05 06        	ora	<L155+string_0+2
  4098 00:0D99: D0 03        	bne	L158
  4099 00:0D9B: 82 44 00     	brl	L10050
  4100                        L158:
  4101                        	.line	518
  4102                        ;		if(string->buffer)
  4103                        	.line	519
  4104                        ;			k_mem_deallocate_heap(string->bu
                    ffer);
  4105 00:0D9E: A0 04 00     	ldy	#$4
  4106 00:0DA1: B7 04        	lda	[<L155+string_0],Y
  4107 00:0DA3: A0 06 00     	ldy	#$6
  4108 00:0DA6: 17 04        	ora	[<L155+string_0],Y
  4109 00:0DA8: D0 03        	bne	L159
  4110 00:0DAA: 82 10 00     	brl	L10051
  4111                        L159:
  4112                        	.line	520
  4113 00:0DAD: A0 06 00     	ldy	#$6
  4114 00:0DB0: B7 04        	lda	[<L155+string_0],Y
  4115 00:0DB2: 48           	pha
  4116 00:0DB3: A0 04 00     	ldy	#$4
  4117 00:0DB6: B7 04        	lda	[<L155+string_0],Y
  4118 00:0DB8: 48           	pha
  4119 00:0DB9: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  4120                        ;
  4121                        ;		string->size = 0;
  4122                        L10051:
  4123                        	.line	522
  4124 00:0DBD: A9 00 00     	lda	#$0
  4125 00:0DC0: 87 04        	sta	[<L155+string_0]
  4126                        ;		string->pos  = 0;
  4127                        	.line	523
  4128 00:0DC2: A9 00 00     	lda	#$0
  4129 00:0DC5: A0 02 00     	ldy	#$2
  4130 00:0DC8: 97 04        	sta	[<L155+string_0],Y
  4131                        ;		string->buffer = NULL;
  4132                        	.line	524
  4133 00:0DCA: A9 00 00     	lda	#$0
  4134 00:0DCD: A0 04 00     	ldy	#$4
  4135 00:0DD0: 97 04        	sta	[<L155+string_0],Y
  4136 00:0DD2: A9 00 00     	lda	#$0
  Thu Dec  3 2020 22:25                                                Page 75


  4137 00:0DD5: A0 06 00     	ldy	#$6
  4138 00:0DD8: 97 04        	sta	[<L155+string_0],Y
  4139                        ;
  4140                        ;		k_mem_deallocate_heap(string);
  4141                        	.line	526
  4142 00:0DDA: D4 06        	pei	<L155+string_0+2
  4143 00:0DDC: D4 04        	pei	<L155+string_0
  4144 00:0DDE: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  4145                        ;	}
  4146                        	.line	527
  4147                        ;	return;
  4148                        L10050:
  4149                        	.line	528
  4150                        L160:
  4151 00:0DE2: A5 02        	lda	<L155+2
  4152 00:0DE4: 85 06        	sta	<L155+2+4
  4153 00:0DE6: A5 01        	lda	<L155+1
  4154 00:0DE8: 85 05        	sta	<L155+1+4
  4155 00:0DEA: 2B           	pld
  4156 00:0DEB: 3B           	tsc
  4157 00:0DEC: 18           	clc
  4158 00:0DED: 69 04 00     	adc	#L155+4
  4159 00:0DF0: 1B           	tcs
  4160 00:0DF1: 6B           	rtl
  4161                        ;}
  4162                        	.line	529
  4163                        	.endblock	529
  4164             00000000   L155	equ	0
  4165             00000001   L156	equ	1
  4166                        	ends
  4167                        	efunc
  4168                        	.endfunc	529,1,0
  4169                        	.line	529
  4170                        ;
  4171                        ;UINT k_fxstring_size(PFXSTRING string)
  4172                        ;{
  4173                        	.line	531
  4174                        	.line	532
  4175                        	code
  4176                        	xdef	~~k_fxstring_size
  4177                        	func
  4178                        	.function	532
  4179                        ~~k_fxstring_size:
  4180                        	longa	on
  4181                        	longi	on
  4182 00:0DF2: 3B           	tsc
  4183 00:0DF3: 38           	sec
  4184 00:0DF4: E9 00 00     	sbc	#L161
  4185 00:0DF7: 1B           	tcs
  4186 00:0DF8: 0B           	phd
  4187 00:0DF9: 5B           	tcd
  4188             00000004   string_0	set	4
  4189                        	.block	532
  4190                        ;	if(string)
  4191                        	.sym	string,4,138,6,32,45
  4192                        	.line	533
  4193                        ;	{
  4194 00:0DFA: A5 04        	lda	<L161+string_0
  Thu Dec  3 2020 22:25                                                Page 76


  4195 00:0DFC: 05 06        	ora	<L161+string_0+2
  4196 00:0DFE: D0 03        	bne	L164
  4197 00:0E00: 82 14 00     	brl	L10052
  4198                        L164:
  4199                        	.line	534
  4200                        ;		return string->size;
  4201                        	.line	535
  4202 00:0E03: A7 04        	lda	[<L161+string_0]
  4203                        L165:
  4204 00:0E05: A8           	tay
  4205 00:0E06: A5 02        	lda	<L161+2
  4206 00:0E08: 85 06        	sta	<L161+2+4
  4207 00:0E0A: A5 01        	lda	<L161+1
  4208 00:0E0C: 85 05        	sta	<L161+1+4
  4209 00:0E0E: 2B           	pld
  4210 00:0E0F: 3B           	tsc
  4211 00:0E10: 18           	clc
  4212 00:0E11: 69 04 00     	adc	#L161+4
  4213 00:0E14: 1B           	tcs
  4214 00:0E15: 98           	tya
  4215 00:0E16: 6B           	rtl
  4216                        ;	}
  4217                        	.line	536
  4218                        ;	return -1;
  4219                        L10052:
  4220                        	.line	537
  4221 00:0E17: A9 FF FF     	lda	#$ffff
  4222 00:0E1A: 82 E8 FF     	brl	L165
  4223                        ;}
  4224                        	.line	538
  4225                        	.endblock	538
  4226             00000000   L161	equ	0
  4227             00000001   L162	equ	1
  4228                        	ends
  4229                        	efunc
  4230                        	.endfunc	538,1,0
  4231                        	.line	538
  4232                        ;
  4233                        ;UINT k_fxstring_length(PFXSTRING string)
  4234                        ;{
  4235                        	.line	540
  4236                        	.line	541
  4237                        	code
  4238                        	xdef	~~k_fxstring_length
  4239                        	func
  4240                        	.function	541
  4241                        ~~k_fxstring_length:
  4242                        	longa	on
  4243                        	longi	on
  4244 00:0E1D: 3B           	tsc
  4245 00:0E1E: 38           	sec
  4246 00:0E1F: E9 00 00     	sbc	#L166
  4247 00:0E22: 1B           	tcs
  4248 00:0E23: 0B           	phd
  4249 00:0E24: 5B           	tcd
  4250             00000004   string_0	set	4
  4251                        	.block	541
  4252                        ;	if(string)
  Thu Dec  3 2020 22:25                                                Page 77


  4253                        	.sym	string,4,138,6,32,45
  4254                        	.line	542
  4255                        ;	{
  4256 00:0E25: A5 04        	lda	<L166+string_0
  4257 00:0E27: 05 06        	ora	<L166+string_0+2
  4258 00:0E29: D0 03        	bne	L169
  4259 00:0E2B: 82 22 00     	brl	L10053
  4260                        L169:
  4261                        	.line	543
  4262                        ;		return strlen(string->buffer);
  4263                        	.line	544
  4264 00:0E2E: A0 06 00     	ldy	#$6
  4265 00:0E31: B7 04        	lda	[<L166+string_0],Y
  4266 00:0E33: 48           	pha
  4267 00:0E34: A0 04 00     	ldy	#$4
  4268 00:0E37: B7 04        	lda	[<L166+string_0],Y
  4269 00:0E39: 48           	pha
  4270 00:0E3A: 22 xx xx xx  	jsl	~~strlen
  4271                        L170:
  4272 00:0E3E: A8           	tay
  4273 00:0E3F: A5 02        	lda	<L166+2
  4274 00:0E41: 85 06        	sta	<L166+2+4
  4275 00:0E43: A5 01        	lda	<L166+1
  4276 00:0E45: 85 05        	sta	<L166+1+4
  4277 00:0E47: 2B           	pld
  4278 00:0E48: 3B           	tsc
  4279 00:0E49: 18           	clc
  4280 00:0E4A: 69 04 00     	adc	#L166+4
  4281 00:0E4D: 1B           	tcs
  4282 00:0E4E: 98           	tya
  4283 00:0E4F: 6B           	rtl
  4284                        ;	}
  4285                        	.line	545
  4286                        ;	return -1;
  4287                        L10053:
  4288                        	.line	546
  4289 00:0E50: A9 FF FF     	lda	#$ffff
  4290 00:0E53: 82 E8 FF     	brl	L170
  4291                        ;}
  4292                        	.line	547
  4293                        	.endblock	547
  4294             00000000   L166	equ	0
  4295             00000001   L167	equ	1
  4296                        	ends
  4297                        	efunc
  4298                        	.endfunc	547,1,0
  4299                        	.line	547
  4300                        ;
  4301                        ;UINT k_fxstring_position(PFXSTRING string)
  4302                        ;{
  4303                        	.line	549
  4304                        	.line	550
  4305                        	code
  4306                        	xdef	~~k_fxstring_position
  4307                        	func
  4308                        	.function	550
  4309                        ~~k_fxstring_position:
  4310                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 78


  4311                        	longi	on
  4312 00:0E56: 3B           	tsc
  4313 00:0E57: 38           	sec
  4314 00:0E58: E9 00 00     	sbc	#L171
  4315 00:0E5B: 1B           	tcs
  4316 00:0E5C: 0B           	phd
  4317 00:0E5D: 5B           	tcd
  4318             00000004   string_0	set	4
  4319                        	.block	550
  4320                        ;	if(string)
  4321                        	.sym	string,4,138,6,32,45
  4322                        	.line	551
  4323                        ;	{
  4324 00:0E5E: A5 04        	lda	<L171+string_0
  4325 00:0E60: 05 06        	ora	<L171+string_0+2
  4326 00:0E62: D0 03        	bne	L174
  4327 00:0E64: 82 17 00     	brl	L10054
  4328                        L174:
  4329                        	.line	552
  4330                        ;		return string->pos;
  4331                        	.line	553
  4332 00:0E67: A0 02 00     	ldy	#$2
  4333 00:0E6A: B7 04        	lda	[<L171+string_0],Y
  4334                        L175:
  4335 00:0E6C: A8           	tay
  4336 00:0E6D: A5 02        	lda	<L171+2
  4337 00:0E6F: 85 06        	sta	<L171+2+4
  4338 00:0E71: A5 01        	lda	<L171+1
  4339 00:0E73: 85 05        	sta	<L171+1+4
  4340 00:0E75: 2B           	pld
  4341 00:0E76: 3B           	tsc
  4342 00:0E77: 18           	clc
  4343 00:0E78: 69 04 00     	adc	#L171+4
  4344 00:0E7B: 1B           	tcs
  4345 00:0E7C: 98           	tya
  4346 00:0E7D: 6B           	rtl
  4347                        ;	}
  4348                        	.line	554
  4349                        ;	return -1;
  4350                        L10054:
  4351                        	.line	555
  4352 00:0E7E: A9 FF FF     	lda	#$ffff
  4353 00:0E81: 82 E8 FF     	brl	L175
  4354                        ;}
  4355                        	.line	556
  4356                        	.endblock	556
  4357             00000000   L171	equ	0
  4358             00000001   L172	equ	1
  4359                        	ends
  4360                        	efunc
  4361                        	.endfunc	556,1,0
  4362                        	.line	556
  4363                        ;
  4364                        ;LPCHAR k_fxstring_addchar(PFXSTRING string,CHAR c
                    )
  4365                        ;{
  4366                        	.line	558
  4367                        	.line	559
  Thu Dec  3 2020 22:25                                                Page 79


  4368                        	code
  4369                        	xdef	~~k_fxstring_addchar
  4370                        	func
  4371                        	.function	559
  4372                        ~~k_fxstring_addchar:
  4373                        	longa	on
  4374                        	longi	on
  4375 00:0E84: 3B           	tsc
  4376 00:0E85: 38           	sec
  4377 00:0E86: E9 08 00     	sbc	#L176
  4378 00:0E89: 1B           	tcs
  4379 00:0E8A: 0B           	phd
  4380 00:0E8B: 5B           	tcd
  4381             00000004   string_0	set	4
  4382             00000008   c_0	set	8
  4383                        	.block	559
  4384                        ;	if(string)
  4385                        	.sym	string,4,138,6,32,45
  4386                        	.sym	c,8,14,6,8
  4387                        	.line	560
  4388                        ;	{
  4389 00:0E8C: A5 0C        	lda	<L176+string_0
  4390 00:0E8E: 05 0E        	ora	<L176+string_0+2
  4391 00:0E90: D0 03        	bne	L179
  4392 00:0E92: 82 47 00     	brl	L10055
  4393                        L179:
  4394                        	.line	561
  4395                        ;		string->buffer[string->pos] = c;
  4396                        	.line	562
  4397 00:0E95: A0 02 00     	ldy	#$2
  4398 00:0E98: B7 0C        	lda	[<L176+string_0],Y
  4399 00:0E9A: 85 01        	sta	<R0
  4400 00:0E9C: A0 04 00     	ldy	#$4
  4401 00:0E9F: B7 0C        	lda	[<L176+string_0],Y
  4402 00:0EA1: 85 05        	sta	<R1
  4403 00:0EA3: A0 06 00     	ldy	#$6
  4404 00:0EA6: B7 0C        	lda	[<L176+string_0],Y
  4405 00:0EA8: 85 07        	sta	<R1+2
  4406 00:0EAA: E2 20        	sep	#$20
  4407                        	longa	off
  4408 00:0EAC: A5 10        	lda	<L176+c_0
  4409 00:0EAE: A4 01        	ldy	<R0
  4410 00:0EB0: 97 05        	sta	[<R1],Y
  4411 00:0EB2: C2 20        	rep	#$20
  4412                        	longa	on
  4413                        ;		string->pos++;
  4414                        	.line	563
  4415 00:0EB4: A0 02 00     	ldy	#$2
  4416 00:0EB7: B7 0C        	lda	[<L176+string_0],Y
  4417 00:0EB9: 1A           	ina
  4418 00:0EBA: A0 02 00     	ldy	#$2
  4419 00:0EBD: 97 0C        	sta	[<L176+string_0],Y
  4420                        ;		//k_debug_message("k_fxstring_addchar:",
                    string->buffer);
  4421                        ;		return string->buffer;
  4422                        	.line	565
  4423 00:0EBF: A0 06 00     	ldy	#$6
  4424 00:0EC2: B7 0C        	lda	[<L176+string_0],Y
  Thu Dec  3 2020 22:25                                                Page 80


  4425 00:0EC4: AA           	tax
  4426 00:0EC5: A0 04 00     	ldy	#$4
  4427 00:0EC8: B7 0C        	lda	[<L176+string_0],Y
  4428                        L180:
  4429 00:0ECA: A8           	tay
  4430 00:0ECB: A5 0A        	lda	<L176+2
  4431 00:0ECD: 85 10        	sta	<L176+2+6
  4432 00:0ECF: A5 09        	lda	<L176+1
  4433 00:0ED1: 85 0F        	sta	<L176+1+6
  4434 00:0ED3: 2B           	pld
  4435 00:0ED4: 3B           	tsc
  4436 00:0ED5: 18           	clc
  4437 00:0ED6: 69 0E 00     	adc	#L176+6
  4438 00:0ED9: 1B           	tcs
  4439 00:0EDA: 98           	tya
  4440 00:0EDB: 6B           	rtl
  4441                        ;	}
  4442                        	.line	566
  4443                        ;	return NULL;
  4444                        L10055:
  4445                        	.line	567
  4446 00:0EDC: A9 00 00     	lda	#$0
  4447 00:0EDF: AA           	tax
  4448 00:0EE0: A9 00 00     	lda	#$0
  4449 00:0EE3: 82 E4 FF     	brl	L180
  4450                        ;}
  4451                        	.line	568
  4452                        	.endblock	568
  4453             00000008   L176	equ	8
  4454             00000009   L177	equ	9
  4455                        	ends
  4456                        	efunc
  4457                        	.endfunc	568,9,8
  4458                        	.line	568
  4459                        ;
  4460                        ;CHAR k_fxstring_removechar(PFXSTRING string)
  4461                        ;{
  4462                        	.line	570
  4463                        	.line	571
  4464                        	code
  4465                        	xdef	~~k_fxstring_removechar
  4466                        	func
  4467                        	.function	571
  4468                        ~~k_fxstring_removechar:
  4469                        	longa	on
  4470                        	longi	on
  4471 00:0EE6: 3B           	tsc
  4472 00:0EE7: 38           	sec
  4473 00:0EE8: E9 09 00     	sbc	#L181
  4474 00:0EEB: 1B           	tcs
  4475 00:0EEC: 0B           	phd
  4476 00:0EED: 5B           	tcd
  4477             00000004   string_0	set	4
  4478                        	.block	571
  4479                        ;	CHAR old = 0;
  4480                        ;
  4481                        ;	if(string)
  4482             00000000   old_1	set	0
  Thu Dec  3 2020 22:25                                                Page 81


  4483                        	.sym	old,0,14,1,8
  4484                        	.sym	string,4,138,6,32,45
  4485 00:0EEE: E2 20        	sep	#$20
  4486                        	longa	off
  4487 00:0EF0: 64 09        	stz	<L182+old_1
  4488 00:0EF2: C2 20        	rep	#$20
  4489                        	longa	on
  4490                        	.line	574
  4491                        ;	{
  4492 00:0EF4: A5 0D        	lda	<L181+string_0
  4493 00:0EF6: 05 0F        	ora	<L181+string_0+2
  4494 00:0EF8: D0 03        	bne	L184
  4495 00:0EFA: 82 5E 00     	brl	L10056
  4496                        L184:
  4497                        	.line	575
  4498                        ;		string->pos--;
  4499                        	.line	576
  4500 00:0EFD: 18           	clc
  4501 00:0EFE: A9 FF FF     	lda	#$ffff
  4502 00:0F01: A0 02 00     	ldy	#$2
  4503 00:0F04: 77 0D        	adc	[<L181+string_0],Y
  4504 00:0F06: A0 02 00     	ldy	#$2
  4505 00:0F09: 97 0D        	sta	[<L181+string_0],Y
  4506                        ;		if(string->pos < 0)
  4507                        	.line	577
  4508                        ;			string->pos = 0;
  4509 00:0F0B: A0 02 00     	ldy	#$2
  4510 00:0F0E: B7 0D        	lda	[<L181+string_0],Y
  4511 00:0F10: 30 03        	bmi	L185
  4512 00:0F12: 82 08 00     	brl	L10057
  4513                        L185:
  4514                        	.line	578
  4515 00:0F15: A9 00 00     	lda	#$0
  4516 00:0F18: A0 02 00     	ldy	#$2
  4517 00:0F1B: 97 0D        	sta	[<L181+string_0],Y
  4518                        ;
  4519                        ;		old = string->buffer[string->pos];
  4520                        L10057:
  4521                        	.line	580
  4522 00:0F1D: A0 02 00     	ldy	#$2
  4523 00:0F20: B7 0D        	lda	[<L181+string_0],Y
  4524 00:0F22: 85 01        	sta	<R0
  4525 00:0F24: A0 04 00     	ldy	#$4
  4526 00:0F27: B7 0D        	lda	[<L181+string_0],Y
  4527 00:0F29: 85 05        	sta	<R1
  4528 00:0F2B: A0 06 00     	ldy	#$6
  4529 00:0F2E: B7 0D        	lda	[<L181+string_0],Y
  4530 00:0F30: 85 07        	sta	<R1+2
  4531 00:0F32: E2 20        	sep	#$20
  4532                        	longa	off
  4533 00:0F34: A4 01        	ldy	<R0
  4534 00:0F36: B7 05        	lda	[<R1],Y
  4535 00:0F38: 85 09        	sta	<L182+old_1
  4536 00:0F3A: C2 20        	rep	#$20
  4537                        	longa	on
  4538                        ;		string->buffer[string->pos] = 0;
  4539                        	.line	581
  4540 00:0F3C: A0 02 00     	ldy	#$2
  Thu Dec  3 2020 22:25                                                Page 82


  4541 00:0F3F: B7 0D        	lda	[<L181+string_0],Y
  4542 00:0F41: 85 01        	sta	<R0
  4543 00:0F43: A0 04 00     	ldy	#$4
  4544 00:0F46: B7 0D        	lda	[<L181+string_0],Y
  4545 00:0F48: 85 05        	sta	<R1
  4546 00:0F4A: A0 06 00     	ldy	#$6
  4547 00:0F4D: B7 0D        	lda	[<L181+string_0],Y
  4548 00:0F4F: 85 07        	sta	<R1+2
  4549 00:0F51: E2 20        	sep	#$20
  4550                        	longa	off
  4551 00:0F53: A9 00        	lda	#$0
  4552 00:0F55: A4 01        	ldy	<R0
  4553 00:0F57: 97 05        	sta	[<R1],Y
  4554 00:0F59: C2 20        	rep	#$20
  4555                        	longa	on
  4556                        ;	}
  4557                        	.line	582
  4558                        ;	return old;
  4559                        L10056:
  4560                        	.line	583
  4561 00:0F5B: A5 09        	lda	<L182+old_1
  4562 00:0F5D: 29 FF 00     	and	#$ff
  4563                        L186:
  4564 00:0F60: A8           	tay
  4565 00:0F61: A5 0B        	lda	<L181+2
  4566 00:0F63: 85 0F        	sta	<L181+2+4
  4567 00:0F65: A5 0A        	lda	<L181+1
  4568 00:0F67: 85 0E        	sta	<L181+1+4
  4569 00:0F69: 2B           	pld
  4570 00:0F6A: 3B           	tsc
  4571 00:0F6B: 18           	clc
  4572 00:0F6C: 69 0D 00     	adc	#L181+4
  4573 00:0F6F: 1B           	tcs
  4574 00:0F70: 98           	tya
  4575 00:0F71: 6B           	rtl
  4576                        ;}
  4577                        	.line	584
  4578                        	.endblock	584
  4579             00000009   L181	equ	9
  4580             00000009   L182	equ	9
  4581                        	ends
  4582                        	efunc
  4583                        	.endfunc	584,9,9
  4584                        	.line	584
  4585                        ;
  4586                        ;LPCHAR k_fxstring_add(PFXSTRING string,LPCHAR tex
                    t)
  4587                        ;{
  4588                        	.line	586
  4589                        	.line	587
  4590                        	code
  4591                        	xdef	~~k_fxstring_add
  4592                        	func
  4593                        	.function	587
  4594                        ~~k_fxstring_add:
  4595                        	longa	on
  4596                        	longi	on
  4597 00:0F72: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 83


  4598 00:0F73: 38           	sec
  4599 00:0F74: E9 00 00     	sbc	#L187
  4600 00:0F77: 1B           	tcs
  4601 00:0F78: 0B           	phd
  4602 00:0F79: 5B           	tcd
  4603             00000004   string_0	set	4
  4604             00000008   text_0	set	8
  4605                        	.block	587
  4606                        ;	if(string && text)
  4607                        	.sym	string,4,138,6,32,45
  4608                        	.sym	text,8,142,6,32
  4609                        	.line	588
  4610                        ;	{
  4611 00:0F7A: A5 04        	lda	<L187+string_0
  4612 00:0F7C: 05 06        	ora	<L187+string_0+2
  4613 00:0F7E: D0 03        	bne	L190
  4614 00:0F80: 82 4F 00     	brl	L10058
  4615                        L190:
  4616 00:0F83: A5 08        	lda	<L187+text_0
  4617 00:0F85: 05 0A        	ora	<L187+text_0+2
  4618 00:0F87: D0 03        	bne	L191
  4619 00:0F89: 82 46 00     	brl	L10058
  4620                        L191:
  4621                        	.line	589
  4622                        ;		strcat(string->buffer,text);
  4623                        	.line	590
  4624 00:0F8C: D4 0A        	pei	<L187+text_0+2
  4625 00:0F8E: D4 08        	pei	<L187+text_0
  4626 00:0F90: A0 06 00     	ldy	#$6
  4627 00:0F93: B7 04        	lda	[<L187+string_0],Y
  4628 00:0F95: 48           	pha
  4629 00:0F96: A0 04 00     	ldy	#$4
  4630 00:0F99: B7 04        	lda	[<L187+string_0],Y
  4631 00:0F9B: 48           	pha
  4632 00:0F9C: 22 xx xx xx  	jsl	~~strcat
  4633                        ;		string->pos = strlen(string->buffer);
  4634                        	.line	591
  4635 00:0FA0: A0 06 00     	ldy	#$6
  4636 00:0FA3: B7 04        	lda	[<L187+string_0],Y
  4637 00:0FA5: 48           	pha
  4638 00:0FA6: A0 04 00     	ldy	#$4
  4639 00:0FA9: B7 04        	lda	[<L187+string_0],Y
  4640 00:0FAB: 48           	pha
  4641 00:0FAC: 22 xx xx xx  	jsl	~~strlen
  4642 00:0FB0: A0 02 00     	ldy	#$2
  4643 00:0FB3: 97 04        	sta	[<L187+string_0],Y
  4644                        ;		//k_debug_integer("k_fxstring_add:",stri
                    ng->pos);
  4645                        ;		return string->buffer;
  4646                        	.line	593
  4647 00:0FB5: A0 06 00     	ldy	#$6
  4648 00:0FB8: B7 04        	lda	[<L187+string_0],Y
  4649 00:0FBA: AA           	tax
  4650 00:0FBB: A0 04 00     	ldy	#$4
  4651 00:0FBE: B7 04        	lda	[<L187+string_0],Y
  4652                        L192:
  4653 00:0FC0: A8           	tay
  4654 00:0FC1: A5 02        	lda	<L187+2
  Thu Dec  3 2020 22:25                                                Page 84


  4655 00:0FC3: 85 0A        	sta	<L187+2+8
  4656 00:0FC5: A5 01        	lda	<L187+1
  4657 00:0FC7: 85 09        	sta	<L187+1+8
  4658 00:0FC9: 2B           	pld
  4659 00:0FCA: 3B           	tsc
  4660 00:0FCB: 18           	clc
  4661 00:0FCC: 69 08 00     	adc	#L187+8
  4662 00:0FCF: 1B           	tcs
  4663 00:0FD0: 98           	tya
  4664 00:0FD1: 6B           	rtl
  4665                        ;	}
  4666                        	.line	594
  4667                        ;	return string->buffer;
  4668                        L10058:
  4669                        	.line	595
  4670 00:0FD2: A0 06 00     	ldy	#$6
  4671 00:0FD5: B7 04        	lda	[<L187+string_0],Y
  4672 00:0FD7: AA           	tax
  4673 00:0FD8: A0 04 00     	ldy	#$4
  4674 00:0FDB: B7 04        	lda	[<L187+string_0],Y
  4675 00:0FDD: 82 E0 FF     	brl	L192
  4676                        ;}
  4677                        	.line	596
  4678                        	.endblock	596
  4679             00000000   L187	equ	0
  4680             00000001   L188	equ	1
  4681                        	ends
  4682                        	efunc
  4683                        	.endfunc	596,1,0
  4684                        	.line	596
  4685                        ;
  4686                        ;UINT k_fxstring_fxadd(PFXSTRING string,PFXSTRING 
                    text)
  4687                        ;{
  4688                        	.line	598
  4689                        	.line	599
  4690                        	code
  4691                        	xdef	~~k_fxstring_fxadd
  4692                        	func
  4693                        	.function	599
  4694                        ~~k_fxstring_fxadd:
  4695                        	longa	on
  4696                        	longi	on
  4697 00:0FE0: 3B           	tsc
  4698 00:0FE1: 38           	sec
  4699 00:0FE2: E9 00 00     	sbc	#L193
  4700 00:0FE5: 1B           	tcs
  4701 00:0FE6: 0B           	phd
  4702 00:0FE7: 5B           	tcd
  4703             00000004   string_0	set	4
  4704             00000008   text_0	set	8
  4705                        	.block	599
  4706                        ;	return  -1;
  4707                        	.sym	string,4,138,6,32,45
  4708                        	.sym	text,8,138,6,32,45
  4709                        	.line	600
  4710 00:0FE8: A9 FF FF     	lda	#$ffff
  4711                        L196:
  Thu Dec  3 2020 22:25                                                Page 85


  4712 00:0FEB: A8           	tay
  4713 00:0FEC: A5 02        	lda	<L193+2
  4714 00:0FEE: 85 0A        	sta	<L193+2+8
  4715 00:0FF0: A5 01        	lda	<L193+1
  4716 00:0FF2: 85 09        	sta	<L193+1+8
  4717 00:0FF4: 2B           	pld
  4718 00:0FF5: 3B           	tsc
  4719 00:0FF6: 18           	clc
  4720 00:0FF7: 69 08 00     	adc	#L193+8
  4721 00:0FFA: 1B           	tcs
  4722 00:0FFB: 98           	tya
  4723 00:0FFC: 6B           	rtl
  4724                        ;}
  4725                        	.line	601
  4726                        	.endblock	601
  4727             00000000   L193	equ	0
  4728             00000001   L194	equ	1
  4729                        	ends
  4730                        	efunc
  4731                        	.endfunc	601,1,0
  4732                        	.line	601
  4733                        ;
  4734                        ;LPCHAR k_fxstring_as(PFXSTRING string)
  4735                        ;{
  4736                        	.line	603
  4737                        	.line	604
  4738                        	code
  4739                        	xdef	~~k_fxstring_as
  4740                        	func
  4741                        	.function	604
  4742                        ~~k_fxstring_as:
  4743                        	longa	on
  4744                        	longi	on
  4745 00:0FFD: 3B           	tsc
  4746 00:0FFE: 38           	sec
  4747 00:0FFF: E9 00 00     	sbc	#L197
  4748 00:1002: 1B           	tcs
  4749 00:1003: 0B           	phd
  4750 00:1004: 5B           	tcd
  4751             00000004   string_0	set	4
  4752                        	.block	604
  4753                        ;	if(string)
  4754                        	.sym	string,4,138,6,32,45
  4755                        	.line	605
  4756                        ;	{
  4757 00:1005: A5 04        	lda	<L197+string_0
  4758 00:1007: 05 06        	ora	<L197+string_0+2
  4759 00:1009: D0 03        	bne	L200
  4760 00:100B: 82 1D 00     	brl	L10059
  4761                        L200:
  4762                        	.line	606
  4763                        ;		return string->buffer;
  4764                        	.line	607
  4765 00:100E: A0 06 00     	ldy	#$6
  4766 00:1011: B7 04        	lda	[<L197+string_0],Y
  4767 00:1013: AA           	tax
  4768 00:1014: A0 04 00     	ldy	#$4
  4769 00:1017: B7 04        	lda	[<L197+string_0],Y
  Thu Dec  3 2020 22:25                                                Page 86


  4770                        L201:
  4771 00:1019: A8           	tay
  4772 00:101A: A5 02        	lda	<L197+2
  4773 00:101C: 85 06        	sta	<L197+2+4
  4774 00:101E: A5 01        	lda	<L197+1
  4775 00:1020: 85 05        	sta	<L197+1+4
  4776 00:1022: 2B           	pld
  4777 00:1023: 3B           	tsc
  4778 00:1024: 18           	clc
  4779 00:1025: 69 04 00     	adc	#L197+4
  4780 00:1028: 1B           	tcs
  4781 00:1029: 98           	tya
  4782 00:102A: 6B           	rtl
  4783                        ;	}
  4784                        	.line	608
  4785                        ;	return NULL;
  4786                        L10059:
  4787                        	.line	609
  4788 00:102B: A9 00 00     	lda	#$0
  4789 00:102E: AA           	tax
  4790 00:102F: A9 00 00     	lda	#$0
  4791 00:1032: 82 E4 FF     	brl	L201
  4792                        ;}
  4793                        	.line	610
  4794                        	.endblock	610
  4795             00000000   L197	equ	0
  4796             00000001   L198	equ	1
  4797                        	ends
  4798                        	efunc
  4799                        	.endfunc	610,1,0
  4800                        	.line	610
  4801                        ;
  4802                        ;CHAR k_fxstring_at(PFXSTRING string,UINT index)
  4803                        ;{
  4804                        	.line	612
  4805                        	.line	613
  4806                        	code
  4807                        	xdef	~~k_fxstring_at
  4808                        	func
  4809                        	.function	613
  4810                        ~~k_fxstring_at:
  4811                        	longa	on
  4812                        	longi	on
  4813 00:1035: 3B           	tsc
  4814 00:1036: 38           	sec
  4815 00:1037: E9 00 00     	sbc	#L202
  4816 00:103A: 1B           	tcs
  4817 00:103B: 0B           	phd
  4818 00:103C: 5B           	tcd
  4819             00000004   string_0	set	4
  4820             00000008   index_0	set	8
  4821                        	.block	613
  4822                        ;	return 0;
  4823                        	.sym	string,4,138,6,32,45
  4824                        	.sym	index,8,16,6,16
  4825                        	.line	614
  4826 00:103D: A9 00 00     	lda	#$0
  4827                        L205:
  Thu Dec  3 2020 22:25                                                Page 87


  4828 00:1040: A8           	tay
  4829 00:1041: A5 02        	lda	<L202+2
  4830 00:1043: 85 08        	sta	<L202+2+6
  4831 00:1045: A5 01        	lda	<L202+1
  4832 00:1047: 85 07        	sta	<L202+1+6
  4833 00:1049: 2B           	pld
  4834 00:104A: 3B           	tsc
  4835 00:104B: 18           	clc
  4836 00:104C: 69 06 00     	adc	#L202+6
  4837 00:104F: 1B           	tcs
  4838 00:1050: 98           	tya
  4839 00:1051: 6B           	rtl
  4840                        ;}
  4841                        	.line	615
  4842                        	.endblock	615
  4843             00000000   L202	equ	0
  4844             00000001   L203	equ	1
  4845                        	ends
  4846                        	efunc
  4847                        	.endfunc	615,1,0
  4848                        	.line	615
  4849                        ;
  4850                        ;BOOL k_fxstring_equals(PFXSTRING string,LPCHAR ma
                    tch)
  4851                        ;{
  4852                        	.line	617
  4853                        	.line	618
  4854                        	code
  4855                        	xdef	~~k_fxstring_equals
  4856                        	func
  4857                        	.function	618
  4858                        ~~k_fxstring_equals:
  4859                        	longa	on
  4860                        	longi	on
  4861 00:1052: 3B           	tsc
  4862 00:1053: 38           	sec
  4863 00:1054: E9 05 00     	sbc	#L206
  4864 00:1057: 1B           	tcs
  4865 00:1058: 0B           	phd
  4866 00:1059: 5B           	tcd
  4867             00000004   string_0	set	4
  4868             00000008   match_0	set	8
  4869                        	.block	618
  4870                        ;	BOOL bRet = FALSE;
  4871                        ;
  4872                        ;	bRet = (strcmp(string->buffer,match) == 0);
  4873             00000000   bRet_1	set	0
  4874                        	.sym	bRet,0,14,1,8
  4875                        	.sym	string,4,138,6,32,45
  4876                        	.sym	match,8,142,6,32
  4877 00:105A: E2 20        	sep	#$20
  4878                        	longa	off
  4879 00:105C: 64 05        	stz	<L207+bRet_1
  4880 00:105E: C2 20        	rep	#$20
  4881                        	longa	on
  4882                        	.line	621
  4883 00:1060: 64 01        	stz	<R0
  4884 00:1062: D4 0F        	pei	<L206+match_0+2
  Thu Dec  3 2020 22:25                                                Page 88


  4885 00:1064: D4 0D        	pei	<L206+match_0
  4886 00:1066: A0 06 00     	ldy	#$6
  4887 00:1069: B7 09        	lda	[<L206+string_0],Y
  4888 00:106B: 48           	pha
  4889 00:106C: A0 04 00     	ldy	#$4
  4890 00:106F: B7 09        	lda	[<L206+string_0],Y
  4891 00:1071: 48           	pha
  4892 00:1072: 22 xx xx xx  	jsl	~~strcmp
  4893 00:1076: AA           	tax
  4894 00:1077: F0 03        	beq	L210
  4895 00:1079: 82 02 00     	brl	L209
  4896                        L210:
  4897 00:107C: E6 01        	inc	<R0
  4898                        L209:
  4899 00:107E: E2 20        	sep	#$20
  4900                        	longa	off
  4901 00:1080: A5 01        	lda	<R0
  4902 00:1082: 85 05        	sta	<L207+bRet_1
  4903 00:1084: C2 20        	rep	#$20
  4904                        	longa	on
  4905                        ;
  4906                        ;	return bRet;
  4907                        	.line	623
  4908 00:1086: A5 05        	lda	<L207+bRet_1
  4909 00:1088: 29 FF 00     	and	#$ff
  4910                        L211:
  4911 00:108B: A8           	tay
  4912 00:108C: A5 07        	lda	<L206+2
  4913 00:108E: 85 0F        	sta	<L206+2+8
  4914 00:1090: A5 06        	lda	<L206+1
  4915 00:1092: 85 0E        	sta	<L206+1+8
  4916 00:1094: 2B           	pld
  4917 00:1095: 3B           	tsc
  4918 00:1096: 18           	clc
  4919 00:1097: 69 0D 00     	adc	#L206+8
  4920 00:109A: 1B           	tcs
  4921 00:109B: 98           	tya
  4922 00:109C: 6B           	rtl
  4923                        ;}
  4924                        	.line	624
  4925                        	.endblock	624
  4926             00000005   L206	equ	5
  4927             00000005   L207	equ	5
  4928                        	ends
  4929                        	efunc
  4930                        	.endfunc	624,5,5
  4931                        	.line	624
  4932                        ;
  4933                        ;LPCHAR k_fxstring_copy_string(PFXSTRING string)
  4934                        ;{
  4935                        	.line	626
  4936                        	.line	627
  4937                        	code
  4938                        	xdef	~~k_fxstring_copy_string
  4939                        	func
  4940                        	.function	627
  4941                        ~~k_fxstring_copy_string:
  4942                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 89


  4943                        	longi	on
  4944 00:109D: 3B           	tsc
  4945 00:109E: 38           	sec
  4946 00:109F: E9 04 00     	sbc	#L212
  4947 00:10A2: 1B           	tcs
  4948 00:10A3: 0B           	phd
  4949 00:10A4: 5B           	tcd
  4950             00000004   string_0	set	4
  4951                        	.block	627
  4952                        ;	if(string)
  4953                        	.sym	string,4,138,6,32,45
  4954                        	.line	628
  4955                        ;	{
  4956 00:10A5: A5 08        	lda	<L212+string_0
  4957 00:10A7: 05 0A        	ora	<L212+string_0+2
  4958 00:10A9: D0 03        	bne	L215
  4959 00:10AB: 82 2A 00     	brl	L10060
  4960                        L215:
  4961                        	.line	629
  4962                        ;		return k_string_copy_string(string->buff
                    er);
  4963                        	.line	630
  4964 00:10AE: A0 06 00     	ldy	#$6
  4965 00:10B1: B7 08        	lda	[<L212+string_0],Y
  4966 00:10B3: 48           	pha
  4967 00:10B4: A0 04 00     	ldy	#$4
  4968 00:10B7: B7 08        	lda	[<L212+string_0],Y
  4969 00:10B9: 48           	pha
  4970 00:10BA: 22 xx xx xx  	jsl	~~k_string_copy_string
  4971 00:10BE: 85 01        	sta	<R0
  4972 00:10C0: 86 03        	stx	<R0+2
  4973 00:10C2: A6 03        	ldx	<R0+2
  4974 00:10C4: A5 01        	lda	<R0
  4975                        L216:
  4976 00:10C6: A8           	tay
  4977 00:10C7: A5 06        	lda	<L212+2
  4978 00:10C9: 85 0A        	sta	<L212+2+4
  4979 00:10CB: A5 05        	lda	<L212+1
  4980 00:10CD: 85 09        	sta	<L212+1+4
  4981 00:10CF: 2B           	pld
  4982 00:10D0: 3B           	tsc
  4983 00:10D1: 18           	clc
  4984 00:10D2: 69 08 00     	adc	#L212+4
  4985 00:10D5: 1B           	tcs
  4986 00:10D6: 98           	tya
  4987 00:10D7: 6B           	rtl
  4988                        ;	}
  4989                        	.line	631
  4990                        ;	return NULL;
  4991                        L10060:
  4992                        	.line	632
  4993 00:10D8: A9 00 00     	lda	#$0
  4994 00:10DB: AA           	tax
  4995 00:10DC: A9 00 00     	lda	#$0
  4996 00:10DF: 82 E4 FF     	brl	L216
  4997                        ;}
  4998                        	.line	633
  4999                        	.endblock	633
  Thu Dec  3 2020 22:25                                                Page 90


  5000             00000004   L212	equ	4
  5001             00000005   L213	equ	5
  5002                        	ends
  5003                        	efunc
  5004                        	.endfunc	633,5,4
  5005                        	.line	633
  5006                        ;
  5007                        ;PFXSTRING k_fxstring_from_long(ULONG nLong)
  5008                        ;{
  5009                        	.line	635
  5010                        	.line	636
  5011                        	code
  5012                        	xdef	~~k_fxstring_from_long
  5013                        	func
  5014                        	.function	636
  5015                        ~~k_fxstring_from_long:
  5016                        	longa	on
  5017                        	longi	on
  5018 00:10E2: 3B           	tsc
  5019 00:10E3: 38           	sec
  5020 00:10E4: E9 04 00     	sbc	#L217
  5021 00:10E7: 1B           	tcs
  5022 00:10E8: 0B           	phd
  5023 00:10E9: 5B           	tcd
  5024             00000004   nLong_0	set	4
  5025                        	.block	636
  5026                        ;	PFXSTRING newString = NULL;
  5027                        ;
  5028                        ;	newString = k_fxstring_init(16);
  5029             00000000   newString_1	set	0
  5030                        	.sym	newString,0,138,1,32,45
  5031                        	.sym	nLong,4,18,6,32
  5032 00:10EA: 64 01        	stz	<L218+newString_1
  5033 00:10EC: 64 03        	stz	<L218+newString_1+2
  5034                        	.line	639
  5035 00:10EE: F4 10 00     	pea	#<$10
  5036 00:10F1: 22 xx xx xx  	jsl	~~k_fxstring_init
  5037 00:10F5: 85 01        	sta	<L218+newString_1
  5038 00:10F7: 86 03        	stx	<L218+newString_1+2
  5039                        ;	if(newString!=NULL)
  5040                        	.line	640
  5041                        ;	{
  5042 00:10F9: A5 01        	lda	<L218+newString_1
  5043 00:10FB: 05 03        	ora	<L218+newString_1+2
  5044 00:10FD: D0 03        	bne	L220
  5045 00:10FF: 82 14 00     	brl	L10061
  5046                        L220:
  5047                        	.line	641
  5048                        ;		k_longtodec(nLong,newString->buffer);
  5049                        	.line	642
  5050 00:1102: A0 06 00     	ldy	#$6
  5051 00:1105: B7 01        	lda	[<L218+newString_1],Y
  5052 00:1107: 48           	pha
  5053 00:1108: A0 04 00     	ldy	#$4
  5054 00:110B: B7 01        	lda	[<L218+newString_1],Y
  5055 00:110D: 48           	pha
  5056 00:110E: D4 0A        	pei	<L217+nLong_0+2
  5057 00:1110: D4 08        	pei	<L217+nLong_0
  Thu Dec  3 2020 22:25                                                Page 91


  5058 00:1112: 22 xx xx xx  	jsl	~~k_longtodec
  5059                        ;	}
  5060                        	.line	643
  5061                        ;
  5062                        ;	return newString;
  5063                        L10061:
  5064                        	.line	645
  5065 00:1116: A6 03        	ldx	<L218+newString_1+2
  5066 00:1118: A5 01        	lda	<L218+newString_1
  5067                        L221:
  5068 00:111A: A8           	tay
  5069 00:111B: A5 06        	lda	<L217+2
  5070 00:111D: 85 0A        	sta	<L217+2+4
  5071 00:111F: A5 05        	lda	<L217+1
  5072 00:1121: 85 09        	sta	<L217+1+4
  5073 00:1123: 2B           	pld
  5074 00:1124: 3B           	tsc
  5075 00:1125: 18           	clc
  5076 00:1126: 69 08 00     	adc	#L217+4
  5077 00:1129: 1B           	tcs
  5078 00:112A: 98           	tya
  5079 00:112B: 6B           	rtl
  5080                        ;}
  5081                        	.line	646
  5082                        	.endblock	646
  5083             00000004   L217	equ	4
  5084             00000001   L218	equ	1
  5085                        	ends
  5086                        	efunc
  5087                        	.endfunc	646,1,4
  5088                        	.line	646
  5089                        ;
  5090                        ;
  5091                        ;LPCHAR k_string_append_integer(LPCHAR baseText,UI
                    NT integer)
  5092                        ;{
  5093                        	.line	649
  5094                        	.line	650
  5095                        	code
  5096                        	xdef	~~k_string_append_integer
  5097                        	func
  5098                        	.function	650
  5099                        ~~k_string_append_integer:
  5100                        	longa	on
  5101                        	longi	on
  5102 00:112C: 3B           	tsc
  5103 00:112D: 38           	sec
  5104 00:112E: E9 18 00     	sbc	#L222
  5105 00:1131: 1B           	tcs
  5106 00:1132: 0B           	phd
  5107 00:1133: 5B           	tcd
  5108             00000004   baseText_0	set	4
  5109             00000008   integer_0	set	8
  5110                        	.block	650
  5111                        ;	LPCHAR newString = NULL;
  5112                        ;	UCHAR buffer[16];
  5113                        ;
  5114                        ;
  Thu Dec  3 2020 22:25                                                Page 92


  5115                        ;	newString = k_mem_allocate_heap(strlen(baseText)
                     + 16 + 1);
  5116             00000000   newString_1	set	0
  5117             00000004   buffer_1	set	4
  5118                        	.sym	newString,0,142,1,32
  5119                        	.sym	buffer,4,110,1,0,16
  5120                        	.sym	baseText,4,142,6,32
  5121                        	.sym	integer,8,16,6,16
  5122 00:1134: 64 05        	stz	<L223+newString_1
  5123 00:1136: 64 07        	stz	<L223+newString_1+2
  5124                        	.line	655
  5125 00:1138: D4 1E        	pei	<L222+baseText_0+2
  5126 00:113A: D4 1C        	pei	<L222+baseText_0
  5127 00:113C: 22 xx xx xx  	jsl	~~strlen
  5128 00:1140: 85 01        	sta	<R0
  5129 00:1142: 18           	clc
  5130 00:1143: A9 11 00     	lda	#$11
  5131 00:1146: 65 01        	adc	<R0
  5132 00:1148: 48           	pha
  5133 00:1149: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5134 00:114D: 85 05        	sta	<L223+newString_1
  5135 00:114F: 86 07        	stx	<L223+newString_1+2
  5136                        ;	newString[0] = 0;
  5137                        	.line	656
  5138 00:1151: E2 20        	sep	#$20
  5139                        	longa	off
  5140 00:1153: A9 00        	lda	#$0
  5141 00:1155: 87 05        	sta	[<L223+newString_1]
  5142 00:1157: C2 20        	rep	#$20
  5143                        	longa	on
  5144                        ;	strcat(newString,baseText);
  5145                        	.line	657
  5146 00:1159: D4 1E        	pei	<L222+baseText_0+2
  5147 00:115B: D4 1C        	pei	<L222+baseText_0
  5148 00:115D: D4 07        	pei	<L223+newString_1+2
  5149 00:115F: D4 05        	pei	<L223+newString_1
  5150 00:1161: 22 xx xx xx  	jsl	~~strcat
  5151                        ;	strcat(newString,k_inttodec(integer,buffer));
  5152                        	.line	658
  5153 00:1165: F4 00 00     	pea	#0
  5154 00:1168: 18           	clc
  5155 00:1169: 7B           	tdc
  5156 00:116A: 69 09 00     	adc	#<L223+buffer_1
  5157 00:116D: 48           	pha
  5158 00:116E: D4 20        	pei	<L222+integer_0
  5159 00:1170: 22 xx xx xx  	jsl	~~k_inttodec
  5160 00:1174: 85 01        	sta	<R0
  5161 00:1176: 86 03        	stx	<R0+2
  5162 00:1178: DA           	phx
  5163 00:1179: 48           	pha
  5164 00:117A: D4 07        	pei	<L223+newString_1+2
  5165 00:117C: D4 05        	pei	<L223+newString_1
  5166 00:117E: 22 xx xx xx  	jsl	~~strcat
  5167                        ;
  5168                        ;	return newString;
  5169                        	.line	660
  5170 00:1182: A6 07        	ldx	<L223+newString_1+2
  5171 00:1184: A5 05        	lda	<L223+newString_1
  Thu Dec  3 2020 22:25                                                Page 93


  5172                        L225:
  5173 00:1186: A8           	tay
  5174 00:1187: A5 1A        	lda	<L222+2
  5175 00:1189: 85 20        	sta	<L222+2+6
  5176 00:118B: A5 19        	lda	<L222+1
  5177 00:118D: 85 1F        	sta	<L222+1+6
  5178 00:118F: 2B           	pld
  5179 00:1190: 3B           	tsc
  5180 00:1191: 18           	clc
  5181 00:1192: 69 1E 00     	adc	#L222+6
  5182 00:1195: 1B           	tcs
  5183 00:1196: 98           	tya
  5184 00:1197: 6B           	rtl
  5185                        ;}
  5186                        	.line	661
  5187                        	.endblock	661
  5188             00000018   L222	equ	24
  5189             00000005   L223	equ	5
  5190                        	ends
  5191                        	efunc
  5192                        	.endfunc	661,5,24
  5193                        	.line	661
  5194                        ;
  5195                        ;
  5196                        ;LPCHAR k_string_replace(LPCSTR template, LPCSTR m
                    arker, LPCSTR replacement)
  5197                        ;{
  5198                        	.line	664
  5199                        	.line	665
  5200                        	code
  5201                        	xdef	~~k_string_replace
  5202                        	func
  5203                        	.function	665
  5204                        ~~k_string_replace:
  5205                        	longa	on
  5206                        	longi	on
  5207 00:1198: 3B           	tsc
  5208 00:1199: 38           	sec
  5209 00:119A: E9 14 00     	sbc	#L226
  5210 00:119D: 1B           	tcs
  5211 00:119E: 0B           	phd
  5212 00:119F: 5B           	tcd
  5213             00000004   template_0	set	4
  5214             00000008   marker_0	set	8
  5215             0000000C   replacement_0	set	12
  5216                        	.block	665
  5217                        ;	LPCHAR buffer = NULL;
  5218                        ;	LPCHAR tc     = NULL;
  5219                        ;	LPCHAR p 	  = NULL;
  5220                        ;
  5221                        ;	UINT   mlen = 0;
  5222                        ;	UINT   rlen = 0;
  5223                        ;
  5224                        ;	k_debug_strings("k_string_replace:template:",(LP
                    STR)template);
  5225             00000000   buffer_1	set	0
  5226             00000004   tc_1	set	4
  5227             00000008   p_1	set	8
  Thu Dec  3 2020 22:25                                                Page 94


  5228             0000000C   mlen_1	set	12
  5229             0000000E   rlen_1	set	14
  5230                        	.sym	buffer,0,142,1,32
  5231                        	.sym	tc,4,142,1,32
  5232                        	.sym	p,8,142,1,32
  5233                        	.sym	mlen,12,16,1,16
  5234                        	.sym	rlen,14,16,1,16
  5235                        	.sym	template,4,142,6,32
  5236                        	.sym	marker,8,142,6,32
  5237                        	.sym	replacement,12,142,6,32
  5238 00:11A0: 64 05        	stz	<L227+buffer_1
  5239 00:11A2: 64 07        	stz	<L227+buffer_1+2
  5240 00:11A4: 64 09        	stz	<L227+tc_1
  5241 00:11A6: 64 0B        	stz	<L227+tc_1+2
  5242 00:11A8: 64 0D        	stz	<L227+p_1
  5243 00:11AA: 64 0F        	stz	<L227+p_1+2
  5244 00:11AC: 64 11        	stz	<L227+mlen_1
  5245 00:11AE: 64 13        	stz	<L227+rlen_1
  5246                        	.line	673
  5247 00:11B0: D4 1A        	pei	<L226+template_0+2
  5248 00:11B2: D4 18        	pei	<L226+template_0
  5249 00:11B4: F4 xx xx     	pea	#^L154
  5250 00:11B7: F4 xx xx     	pea	#<L154
  5251 00:11BA: 22 xx xx xx  	jsl	~~k_debug_strings
  5252                        ;	k_debug_strings("k_string_replace:marker:",(LPST
                    R)marker);
  5253                        	.line	674
  5254 00:11BE: D4 1E        	pei	<L226+marker_0+2
  5255 00:11C0: D4 1C        	pei	<L226+marker_0
  5256 00:11C2: F4 xx xx     	pea	#^L154+27
  5257 00:11C5: F4 xx xx     	pea	#<L154+27
  5258 00:11C8: 22 xx xx xx  	jsl	~~k_debug_strings
  5259                        ;	k_debug_strings("k_string_replace:replacement:",
                    (LPSTR)replacement);
  5260                        	.line	675
  5261 00:11CC: D4 22        	pei	<L226+replacement_0+2
  5262 00:11CE: D4 20        	pei	<L226+replacement_0
  5263 00:11D0: F4 xx xx     	pea	#^L154+52
  5264 00:11D3: F4 xx xx     	pea	#<L154+52
  5265 00:11D6: 22 xx xx xx  	jsl	~~k_debug_strings
  5266                        ;
  5267                        ;	if(template && marker && replacement)
  5268                        	.line	677
  5269                        ;	{
  5270 00:11DA: A5 18        	lda	<L226+template_0
  5271 00:11DC: 05 1A        	ora	<L226+template_0+2
  5272 00:11DE: D0 03        	bne	L229
  5273 00:11E0: 82 E6 00     	brl	L10062
  5274                        L229:
  5275 00:11E3: A5 1C        	lda	<L226+marker_0
  5276 00:11E5: 05 1E        	ora	<L226+marker_0+2
  5277 00:11E7: D0 03        	bne	L230
  5278 00:11E9: 82 DD 00     	brl	L10062
  5279                        L230:
  5280 00:11EC: A5 20        	lda	<L226+replacement_0
  5281 00:11EE: 05 22        	ora	<L226+replacement_0+2
  5282 00:11F0: D0 03        	bne	L231
  5283 00:11F2: 82 D4 00     	brl	L10062
  Thu Dec  3 2020 22:25                                                Page 95


  5284                        L231:
  5285                        	.line	678
  5286                        ;		tc = k_string_copy_string(template);
  5287                        	.line	679
  5288 00:11F5: D4 1A        	pei	<L226+template_0+2
  5289 00:11F7: D4 18        	pei	<L226+template_0
  5290 00:11F9: 22 xx xx xx  	jsl	~~k_string_copy_string
  5291 00:11FD: 85 09        	sta	<L227+tc_1
  5292 00:11FF: 86 0B        	stx	<L227+tc_1+2
  5293                        ;		if(tc)
  5294                        	.line	680
  5295                        ;		{
  5296 00:1201: A5 09        	lda	<L227+tc_1
  5297 00:1203: 05 0B        	ora	<L227+tc_1+2
  5298 00:1205: D0 03        	bne	L232
  5299 00:1207: 82 BF 00     	brl	L10063
  5300                        L232:
  5301                        	.line	681
  5302                        ;			mlen = strlen(marker);
  5303                        	.line	682
  5304 00:120A: D4 1E        	pei	<L226+marker_0+2
  5305 00:120C: D4 1C        	pei	<L226+marker_0
  5306 00:120E: 22 xx xx xx  	jsl	~~strlen
  5307 00:1212: 85 11        	sta	<L227+mlen_1
  5308                        ;			rlen = strlen(replacement);
  5309                        	.line	683
  5310 00:1214: D4 22        	pei	<L226+replacement_0+2
  5311 00:1216: D4 20        	pei	<L226+replacement_0
  5312 00:1218: 22 xx xx xx  	jsl	~~strlen
  5313 00:121C: 85 13        	sta	<L227+rlen_1
  5314                        ;			if(mlen && rlen)
  5315                        	.line	684
  5316                        ;			{
  5317 00:121E: A5 11        	lda	<L227+mlen_1
  5318 00:1220: D0 03        	bne	L233
  5319 00:1222: 82 9C 00     	brl	L10064
  5320                        L233:
  5321 00:1225: A5 13        	lda	<L227+rlen_1
  5322 00:1227: D0 03        	bne	L234
  5323 00:1229: 82 95 00     	brl	L10064
  5324                        L234:
  5325                        	.line	685
  5326                        ;				buffer = k_mem_allocate_
                    heap(256);
  5327                        	.line	686
  5328 00:122C: F4 00 01     	pea	#<$100
  5329 00:122F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5330 00:1233: 85 05        	sta	<L227+buffer_1
  5331 00:1235: 86 07        	stx	<L227+buffer_1+2
  5332                        ;				if(buffer)
  5333                        	.line	687
  5334                        ;				{
  5335 00:1237: A5 05        	lda	<L227+buffer_1
  5336 00:1239: 05 07        	ora	<L227+buffer_1+2
  5337 00:123B: D0 03        	bne	L235
  5338 00:123D: 82 81 00     	brl	L10065
  5339                        L235:
  5340                        	.line	688
  Thu Dec  3 2020 22:25                                                Page 96


  5341                        ;					memset(buffer,0,
                    256);
  5342                        	.line	689
  5343 00:1240: F4 00 01     	pea	#<$100
  5344 00:1243: F4 00 00     	pea	#<$0
  5345 00:1246: D4 07        	pei	<L227+buffer_1+2
  5346 00:1248: D4 05        	pei	<L227+buffer_1
  5347 00:124A: 22 xx xx xx  	jsl	~~memset
  5348                        ;					p = strstr(tc,ma
                    rker);
  5349                        	.line	690
  5350 00:124E: D4 1E        	pei	<L226+marker_0+2
  5351 00:1250: D4 1C        	pei	<L226+marker_0
  5352 00:1252: D4 0B        	pei	<L227+tc_1+2
  5353 00:1254: D4 09        	pei	<L227+tc_1
  5354 00:1256: 22 xx xx xx  	jsl	~~strstr
  5355 00:125A: 85 0D        	sta	<L227+p_1
  5356 00:125C: 86 0F        	stx	<L227+p_1+2
  5357                        ;					while(p)
  5358                        	.line	691
  5359                        L10066:
  5360 00:125E: A5 0D        	lda	<L227+p_1
  5361 00:1260: 05 0F        	ora	<L227+p_1+2
  5362 00:1262: D0 03        	bne	L236
  5363 00:1264: 82 4E 00     	brl	L10067
  5364                        L236:
  5365                        ;					{
  5366                        	.line	692
  5367                        ;						p[0] = 0
                    ;
  5368                        	.line	693
  5369 00:1267: E2 20        	sep	#$20
  5370                        	longa	off
  5371 00:1269: A9 00        	lda	#$0
  5372 00:126B: 87 0D        	sta	[<L227+p_1]
  5373 00:126D: C2 20        	rep	#$20
  5374                        	longa	on
  5375                        ;						strcat(b
                    uffer,tc);
  5376                        	.line	694
  5377 00:126F: D4 0B        	pei	<L227+tc_1+2
  5378 00:1271: D4 09        	pei	<L227+tc_1
  5379 00:1273: D4 07        	pei	<L227+buffer_1+2
  5380 00:1275: D4 05        	pei	<L227+buffer_1
  5381 00:1277: 22 xx xx xx  	jsl	~~strcat
  5382                        ;						strcat(b
                    uffer,replacement);
  5383                        	.line	695
  5384 00:127B: D4 22        	pei	<L226+replacement_0+2
  5385 00:127D: D4 20        	pei	<L226+replacement_0
  5386 00:127F: D4 07        	pei	<L227+buffer_1+2
  5387 00:1281: D4 05        	pei	<L227+buffer_1
  5388 00:1283: 22 xx xx xx  	jsl	~~strcat
  5389                        ;						p+=mlen;
  5390                        	.line	696
  5391 00:1287: A5 11        	lda	<L227+mlen_1
  5392 00:1289: 85 01        	sta	<R0
  5393 00:128B: 64 03        	stz	<R0+2
  Thu Dec  3 2020 22:25                                                Page 97


  5394 00:128D: 18           	clc
  5395 00:128E: A5 0D        	lda	<L227+p_1
  5396 00:1290: 65 01        	adc	<R0
  5397 00:1292: 85 0D        	sta	<L227+p_1
  5398 00:1294: A5 0F        	lda	<L227+p_1+2
  5399 00:1296: 65 03        	adc	<R0+2
  5400 00:1298: 85 0F        	sta	<L227+p_1+2
  5401                        ;						tc = p;
  5402                        	.line	697
  5403 00:129A: A5 0D        	lda	<L227+p_1
  5404 00:129C: 85 09        	sta	<L227+tc_1
  5405 00:129E: A5 0F        	lda	<L227+p_1+2
  5406 00:12A0: 85 0B        	sta	<L227+tc_1+2
  5407                        ;						p = strs
                    tr(tc,marker);
  5408                        	.line	698
  5409 00:12A2: D4 1E        	pei	<L226+marker_0+2
  5410 00:12A4: D4 1C        	pei	<L226+marker_0
  5411 00:12A6: D4 0B        	pei	<L227+tc_1+2
  5412 00:12A8: D4 09        	pei	<L227+tc_1
  5413 00:12AA: 22 xx xx xx  	jsl	~~strstr
  5414 00:12AE: 85 0D        	sta	<L227+p_1
  5415 00:12B0: 86 0F        	stx	<L227+p_1+2
  5416                        ;
  5417                        ;						//k_debu
                    g_string(tc);
  5418                        ;						//k_debu
                    g_crlf();
  5419                        ;						//k_debu
                    g_string(buffer);
  5420                        ;						//k_debu
                    g_crlf();
  5421                        ;					}
  5422                        	.line	704
  5423 00:12B2: 82 A9 FF     	brl	L10066
  5424                        L10067:
  5425                        ;					strcat(buffer,tc
                    );
  5426                        	.line	705
  5427 00:12B5: D4 0B        	pei	<L227+tc_1+2
  5428 00:12B7: D4 09        	pei	<L227+tc_1
  5429 00:12B9: D4 07        	pei	<L227+buffer_1+2
  5430 00:12BB: D4 05        	pei	<L227+buffer_1
  5431 00:12BD: 22 xx xx xx  	jsl	~~strcat
  5432                        ;				}
  5433                        	.line	706
  5434                        ;			}
  5435                        L10065:
  5436                        	.line	707
  5437                        ;			k_mem_deallocate_heap(tc);
  5438                        L10064:
  5439                        	.line	708
  5440 00:12C1: D4 0B        	pei	<L227+tc_1+2
  5441 00:12C3: D4 09        	pei	<L227+tc_1
  5442 00:12C5: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  5443                        ;		}
  5444                        	.line	709
  5445                        ;	}
  Thu Dec  3 2020 22:25                                                Page 98


  5446                        L10063:
  5447                        	.line	710
  5448                        ;
  5449                        ;	k_debug_strings("k_string_replace:buffer:",buffe
                    r);
  5450                        L10062:
  5451                        	.line	712
  5452 00:12C9: D4 07        	pei	<L227+buffer_1+2
  5453 00:12CB: D4 05        	pei	<L227+buffer_1
  5454 00:12CD: F4 xx xx     	pea	#^L154+82
  5455 00:12D0: F4 xx xx     	pea	#<L154+82
  5456 00:12D3: 22 xx xx xx  	jsl	~~k_debug_strings
  5457                        ;
  5458                        ;	return buffer;
  5459                        	.line	714
  5460 00:12D7: A6 07        	ldx	<L227+buffer_1+2
  5461 00:12D9: A5 05        	lda	<L227+buffer_1
  5462                        L237:
  5463 00:12DB: A8           	tay
  5464 00:12DC: A5 16        	lda	<L226+2
  5465 00:12DE: 85 22        	sta	<L226+2+12
  5466 00:12E0: A5 15        	lda	<L226+1
  5467 00:12E2: 85 21        	sta	<L226+1+12
  5468 00:12E4: 2B           	pld
  5469 00:12E5: 3B           	tsc
  5470 00:12E6: 18           	clc
  5471 00:12E7: 69 20 00     	adc	#L226+12
  5472 00:12EA: 1B           	tcs
  5473 00:12EB: 98           	tya
  5474 00:12EC: 6B           	rtl
  5475                        ;}
  5476                        	.line	715
  5477                        	.endblock	715
  5478             00000014   L226	equ	20
  5479             00000005   L227	equ	5
  5480                        	ends
  5481                        	efunc
  5482                        	.endfunc	715,5,20
  5483                        	.line	715
  5484                        	data
  5485                        L154:
  5486 00:0077: 6B 5F 73 74  	db	$6B,$5F,$73,$74,$72,$69,$6E,$67,$5F,$72,
                    $65,$70,$6C,$61,$63
       00:007B: 72 69 6E 67 
       00:007F: 5F 72 65 70 
       00:0083: 6C 61 63 
  5487 00:0086: 65 3A 74 65  	db	$65,$3A,$74,$65,$6D,$70,$6C,$61,$74,$65,
                    $3A,$00,$6B,$5F,$73
       00:008A: 6D 70 6C 61 
       00:008E: 74 65 3A 00 
       00:0092: 6B 5F 73 
  5488 00:0095: 74 72 69 6E  	db	$74,$72,$69,$6E,$67,$5F,$72,$65,$70,$6C,
                    $61,$63,$65,$3A,$6D
       00:0099: 67 5F 72 65 
       00:009D: 70 6C 61 63 
       00:00A1: 65 3A 6D 
  5489 00:00A4: 61 72 6B 65  	db	$61,$72,$6B,$65,$72,$3A,$00,$6B,$5F,$73,
                    $74,$72,$69,$6E,$67
  Thu Dec  3 2020 22:25                                                Page 99


       00:00A8: 72 3A 00 6B 
       00:00AC: 5F 73 74 72 
       00:00B0: 69 6E 67 
  5490 00:00B3: 5F 72 65 70  	db	$5F,$72,$65,$70,$6C,$61,$63,$65,$3A,$72,
                    $65,$70,$6C,$61,$63
       00:00B7: 6C 61 63 65 
       00:00BB: 3A 72 65 70 
       00:00BF: 6C 61 63 
  5491 00:00C2: 65 6D 65 6E  	db	$65,$6D,$65,$6E,$74,$3A,$00,$6B,$5F,$73,
                    $74,$72,$69,$6E,$67
       00:00C6: 74 3A 00 6B 
       00:00CA: 5F 73 74 72 
       00:00CE: 69 6E 67 
  5492 00:00D1: 5F 72 65 70  	db	$5F,$72,$65,$70,$6C,$61,$63,$65,$3A,$62,
                    $75,$66,$66,$65,$72
       00:00D5: 6C 61 63 65 
       00:00D9: 3A 62 75 66 
       00:00DD: 66 65 72 
  5493 00:00E0: 3A 00        	db	$3A,$00
  5494 00:00E2:              	ends
  5495                        ;
  5496                        ;LPCSTR k_get_date_string(LPCHAR buffer)
  5497                        ;{
  5498                        	.line	717
  5499                        	.line	718
  5500                        	code
  5501                        	xdef	~~k_get_date_string
  5502                        	func
  5503                        	.function	718
  5504                        ~~k_get_date_string:
  5505                        	longa	on
  5506                        	longi	on
  5507 00:12ED: 3B           	tsc
  5508 00:12EE: 38           	sec
  5509 00:12EF: E9 18 00     	sbc	#L239
  5510 00:12F2: 1B           	tcs
  5511 00:12F3: 0B           	phd
  5512 00:12F4: 5B           	tcd
  5513             00000004   buffer_0	set	4
  5514                        	.block	718
  5515                        ;	UCHAR tmp[16];
  5516                        ;
  5517                        ;	buffer[0] = 0;
  5518             00000000   tmp_1	set	0
  5519                        	.sym	tmp,0,110,1,0,16
  5520                        	.sym	buffer,4,142,6,32
  5521                        	.line	721
  5522 00:12F5: E2 20        	sep	#$20
  5523                        	longa	off
  5524 00:12F7: A9 00        	lda	#$0
  5525 00:12F9: 87 1C        	sta	[<L239+buffer_0]
  5526 00:12FB: C2 20        	rep	#$20
  5527                        	longa	on
  5528                        ;
  5529                        ;	strcat(buffer,k_strip_padding(k_inttodec(k_get_r
                    tc_month(),tmp)));
  5530                        	.line	723
  5531 00:12FD: F4 00 00     	pea	#0
  Thu Dec  3 2020 22:25                                                Page 100


  5532 00:1300: 18           	clc
  5533 00:1301: 7B           	tdc
  5534 00:1302: 69 09 00     	adc	#<L240+tmp_1
  5535 00:1305: 48           	pha
  5536 00:1306: 22 xx xx xx  	jsl	~~k_get_rtc_month
  5537 00:130A: 48           	pha
  5538 00:130B: 22 xx xx xx  	jsl	~~k_inttodec
  5539 00:130F: 85 01        	sta	<R0
  5540 00:1311: 86 03        	stx	<R0+2
  5541 00:1313: DA           	phx
  5542 00:1314: 48           	pha
  5543 00:1315: 22 xx xx xx  	jsl	~~k_strip_padding
  5544 00:1319: 85 05        	sta	<R1
  5545 00:131B: 86 07        	stx	<R1+2
  5546 00:131D: DA           	phx
  5547 00:131E: 48           	pha
  5548 00:131F: D4 1E        	pei	<L239+buffer_0+2
  5549 00:1321: D4 1C        	pei	<L239+buffer_0
  5550 00:1323: 22 xx xx xx  	jsl	~~strcat
  5551                        ;	strcat(buffer,"/");
  5552                        	.line	724
  5553 00:1327: F4 xx xx     	pea	#^L238
  5554 00:132A: F4 xx xx     	pea	#<L238
  5555 00:132D: D4 1E        	pei	<L239+buffer_0+2
  5556 00:132F: D4 1C        	pei	<L239+buffer_0
  5557 00:1331: 22 xx xx xx  	jsl	~~strcat
  5558                        ;	strcat(buffer,k_strip_padding(k_inttodec(k_get_r
                    tc_day(),tmp)));
  5559                        	.line	725
  5560 00:1335: F4 00 00     	pea	#0
  5561 00:1338: 18           	clc
  5562 00:1339: 7B           	tdc
  5563 00:133A: 69 09 00     	adc	#<L240+tmp_1
  5564 00:133D: 48           	pha
  5565 00:133E: 22 xx xx xx  	jsl	~~k_get_rtc_day
  5566 00:1342: 48           	pha
  5567 00:1343: 22 xx xx xx  	jsl	~~k_inttodec
  5568 00:1347: 85 01        	sta	<R0
  5569 00:1349: 86 03        	stx	<R0+2
  5570 00:134B: DA           	phx
  5571 00:134C: 48           	pha
  5572 00:134D: 22 xx xx xx  	jsl	~~k_strip_padding
  5573 00:1351: 85 05        	sta	<R1
  5574 00:1353: 86 07        	stx	<R1+2
  5575 00:1355: DA           	phx
  5576 00:1356: 48           	pha
  5577 00:1357: D4 1E        	pei	<L239+buffer_0+2
  5578 00:1359: D4 1C        	pei	<L239+buffer_0
  5579 00:135B: 22 xx xx xx  	jsl	~~strcat
  5580                        ;	strcat(buffer,"/");
  5581                        	.line	726
  5582 00:135F: F4 xx xx     	pea	#^L238+2
  5583 00:1362: F4 xx xx     	pea	#<L238+2
  5584 00:1365: D4 1E        	pei	<L239+buffer_0+2
  5585 00:1367: D4 1C        	pei	<L239+buffer_0
  5586 00:1369: 22 xx xx xx  	jsl	~~strcat
  5587                        ;	strcat(buffer,k_strip_padding(k_inttodec(k_get_r
                    tc_century(),tmp)));
  Thu Dec  3 2020 22:25                                                Page 101


  5588                        	.line	727
  5589 00:136D: F4 00 00     	pea	#0
  5590 00:1370: 18           	clc
  5591 00:1371: 7B           	tdc
  5592 00:1372: 69 09 00     	adc	#<L240+tmp_1
  5593 00:1375: 48           	pha
  5594 00:1376: 22 xx xx xx  	jsl	~~k_get_rtc_century
  5595 00:137A: 48           	pha
  5596 00:137B: 22 xx xx xx  	jsl	~~k_inttodec
  5597 00:137F: 85 01        	sta	<R0
  5598 00:1381: 86 03        	stx	<R0+2
  5599 00:1383: DA           	phx
  5600 00:1384: 48           	pha
  5601 00:1385: 22 xx xx xx  	jsl	~~k_strip_padding
  5602 00:1389: 85 05        	sta	<R1
  5603 00:138B: 86 07        	stx	<R1+2
  5604 00:138D: DA           	phx
  5605 00:138E: 48           	pha
  5606 00:138F: D4 1E        	pei	<L239+buffer_0+2
  5607 00:1391: D4 1C        	pei	<L239+buffer_0
  5608 00:1393: 22 xx xx xx  	jsl	~~strcat
  5609                        ;	strcat(buffer,k_strip_padding(k_inttodec(k_get_r
                    tc_year(),tmp)));
  5610                        	.line	728
  5611 00:1397: F4 00 00     	pea	#0
  5612 00:139A: 18           	clc
  5613 00:139B: 7B           	tdc
  5614 00:139C: 69 09 00     	adc	#<L240+tmp_1
  5615 00:139F: 48           	pha
  5616 00:13A0: 22 xx xx xx  	jsl	~~k_get_rtc_year
  5617 00:13A4: 48           	pha
  5618 00:13A5: 22 xx xx xx  	jsl	~~k_inttodec
  5619 00:13A9: 85 01        	sta	<R0
  5620 00:13AB: 86 03        	stx	<R0+2
  5621 00:13AD: DA           	phx
  5622 00:13AE: 48           	pha
  5623 00:13AF: 22 xx xx xx  	jsl	~~k_strip_padding
  5624 00:13B3: 85 05        	sta	<R1
  5625 00:13B5: 86 07        	stx	<R1+2
  5626 00:13B7: DA           	phx
  5627 00:13B8: 48           	pha
  5628 00:13B9: D4 1E        	pei	<L239+buffer_0+2
  5629 00:13BB: D4 1C        	pei	<L239+buffer_0
  5630 00:13BD: 22 xx xx xx  	jsl	~~strcat
  5631                        ;
  5632                        ;
  5633                        ;	return buffer;
  5634                        	.line	731
  5635 00:13C1: A6 1E        	ldx	<L239+buffer_0+2
  5636 00:13C3: A5 1C        	lda	<L239+buffer_0
  5637                        L242:
  5638 00:13C5: A8           	tay
  5639 00:13C6: A5 1A        	lda	<L239+2
  5640 00:13C8: 85 1E        	sta	<L239+2+4
  5641 00:13CA: A5 19        	lda	<L239+1
  5642 00:13CC: 85 1D        	sta	<L239+1+4
  5643 00:13CE: 2B           	pld
  5644 00:13CF: 3B           	tsc
  Thu Dec  3 2020 22:25                                                Page 102


  5645 00:13D0: 18           	clc
  5646 00:13D1: 69 1C 00     	adc	#L239+4
  5647 00:13D4: 1B           	tcs
  5648 00:13D5: 98           	tya
  5649 00:13D6: 6B           	rtl
  5650                        ;}
  5651                        	.line	732
  5652                        	.endblock	732
  5653             00000018   L239	equ	24
  5654             00000009   L240	equ	9
  5655                        	ends
  5656                        	efunc
  5657                        	.endfunc	732,9,24
  5658                        	.line	732
  5659                        	data
  5660                        L238:
  5661 00:00E2: 2F 00 2F 00  	db	$2F,$00,$2F,$00
  5662 00:00E6:              	ends
  5663                        ;
  5664                        ;LPCSTR k_get_localtime_string(LPCHAR buffer)
  5665                        ;{
  5666                        	.line	734
  5667                        	.line	735
  5668                        	code
  5669                        	xdef	~~k_get_localtime_string
  5670                        	func
  5671                        	.function	735
  5672                        ~~k_get_localtime_string:
  5673                        	longa	on
  5674                        	longi	on
  5675 00:13D7: 3B           	tsc
  5676 00:13D8: 38           	sec
  5677 00:13D9: E9 28 00     	sbc	#L244
  5678 00:13DC: 1B           	tcs
  5679 00:13DD: 0B           	phd
  5680 00:13DE: 5B           	tcd
  5681             00000004   buffer_0	set	4
  5682                        	.block	735
  5683                        ;	UCHAR tmp[16];
  5684                        ;	UCHAR digits[16];
  5685                        ;
  5686                        ;	buffer[0] = 0;
  5687             00000000   tmp_1	set	0
  5688             00000010   digits_1	set	16
  5689                        	.sym	tmp,0,110,1,0,16
  5690                        	.sym	digits,16,110,1,0,16
  5691                        	.sym	buffer,4,142,6,32
  5692                        	.line	739
  5693 00:13DF: E2 20        	sep	#$20
  5694                        	longa	off
  5695 00:13E1: A9 00        	lda	#$0
  5696 00:13E3: 87 2C        	sta	[<L244+buffer_0]
  5697 00:13E5: C2 20        	rep	#$20
  5698                        	longa	on
  5699                        ;
  5700                        ;
  5701                        ;	k_pad_string(digits,k_strip_padding(k_inttodec(k
                    _get_rtc_hour(),tmp)),'0',2);
  Thu Dec  3 2020 22:25                                                Page 103


  5702                        	.line	742
  5703 00:13E7: F4 02 00     	pea	#<$2
  5704 00:13EA: F4 30 00     	pea	#<$30
  5705 00:13ED: F4 00 00     	pea	#0
  5706 00:13F0: 18           	clc
  5707 00:13F1: 7B           	tdc
  5708 00:13F2: 69 09 00     	adc	#<L245+tmp_1
  5709 00:13F5: 48           	pha
  5710 00:13F6: 22 xx xx xx  	jsl	~~k_get_rtc_hour
  5711 00:13FA: 48           	pha
  5712 00:13FB: 22 xx xx xx  	jsl	~~k_inttodec
  5713 00:13FF: 85 01        	sta	<R0
  5714 00:1401: 86 03        	stx	<R0+2
  5715 00:1403: DA           	phx
  5716 00:1404: 48           	pha
  5717 00:1405: 22 xx xx xx  	jsl	~~k_strip_padding
  5718 00:1409: 85 05        	sta	<R1
  5719 00:140B: 86 07        	stx	<R1+2
  5720 00:140D: DA           	phx
  5721 00:140E: 48           	pha
  5722 00:140F: F4 00 00     	pea	#0
  5723 00:1412: 18           	clc
  5724 00:1413: 7B           	tdc
  5725 00:1414: 69 19 00     	adc	#<L245+digits_1
  5726 00:1417: 48           	pha
  5727 00:1418: 22 xx xx xx  	jsl	~~k_pad_string
  5728                        ;	strcat(buffer, digits );
  5729                        	.line	743
  5730 00:141C: F4 00 00     	pea	#0
  5731 00:141F: 18           	clc
  5732 00:1420: 7B           	tdc
  5733 00:1421: 69 19 00     	adc	#<L245+digits_1
  5734 00:1424: 48           	pha
  5735 00:1425: D4 2E        	pei	<L244+buffer_0+2
  5736 00:1427: D4 2C        	pei	<L244+buffer_0
  5737 00:1429: 22 xx xx xx  	jsl	~~strcat
  5738                        ;
  5739                        ;	strcat(buffer,":");
  5740                        	.line	745
  5741 00:142D: F4 xx xx     	pea	#^L243
  5742 00:1430: F4 xx xx     	pea	#<L243
  5743 00:1433: D4 2E        	pei	<L244+buffer_0+2
  5744 00:1435: D4 2C        	pei	<L244+buffer_0
  5745 00:1437: 22 xx xx xx  	jsl	~~strcat
  5746                        ;
  5747                        ;	k_pad_string(digits,k_strip_padding(k_inttodec(k
                    _get_rtc_minute(),tmp)),'0',2);
  5748                        	.line	747
  5749 00:143B: F4 02 00     	pea	#<$2
  5750 00:143E: F4 30 00     	pea	#<$30
  5751 00:1441: F4 00 00     	pea	#0
  5752 00:1444: 18           	clc
  5753 00:1445: 7B           	tdc
  5754 00:1446: 69 09 00     	adc	#<L245+tmp_1
  5755 00:1449: 48           	pha
  5756 00:144A: 22 xx xx xx  	jsl	~~k_get_rtc_minute
  5757 00:144E: 48           	pha
  5758 00:144F: 22 xx xx xx  	jsl	~~k_inttodec
  Thu Dec  3 2020 22:25                                                Page 104


  5759 00:1453: 85 01        	sta	<R0
  5760 00:1455: 86 03        	stx	<R0+2
  5761 00:1457: DA           	phx
  5762 00:1458: 48           	pha
  5763 00:1459: 22 xx xx xx  	jsl	~~k_strip_padding
  5764 00:145D: 85 05        	sta	<R1
  5765 00:145F: 86 07        	stx	<R1+2
  5766 00:1461: DA           	phx
  5767 00:1462: 48           	pha
  5768 00:1463: F4 00 00     	pea	#0
  5769 00:1466: 18           	clc
  5770 00:1467: 7B           	tdc
  5771 00:1468: 69 19 00     	adc	#<L245+digits_1
  5772 00:146B: 48           	pha
  5773 00:146C: 22 xx xx xx  	jsl	~~k_pad_string
  5774                        ;	strcat(buffer, digits );
  5775                        	.line	748
  5776 00:1470: F4 00 00     	pea	#0
  5777 00:1473: 18           	clc
  5778 00:1474: 7B           	tdc
  5779 00:1475: 69 19 00     	adc	#<L245+digits_1
  5780 00:1478: 48           	pha
  5781 00:1479: D4 2E        	pei	<L244+buffer_0+2
  5782 00:147B: D4 2C        	pei	<L244+buffer_0
  5783 00:147D: 22 xx xx xx  	jsl	~~strcat
  5784                        ;
  5785                        ;	strcat(buffer,":");
  5786                        	.line	750
  5787 00:1481: F4 xx xx     	pea	#^L243+2
  5788 00:1484: F4 xx xx     	pea	#<L243+2
  5789 00:1487: D4 2E        	pei	<L244+buffer_0+2
  5790 00:1489: D4 2C        	pei	<L244+buffer_0
  5791 00:148B: 22 xx xx xx  	jsl	~~strcat
  5792                        ;
  5793                        ;	k_pad_string(digits,k_strip_padding(k_inttodec(k
                    _get_rtc_second(),tmp)),'0',2);
  5794                        	.line	752
  5795 00:148F: F4 02 00     	pea	#<$2
  5796 00:1492: F4 30 00     	pea	#<$30
  5797 00:1495: F4 00 00     	pea	#0
  5798 00:1498: 18           	clc
  5799 00:1499: 7B           	tdc
  5800 00:149A: 69 09 00     	adc	#<L245+tmp_1
  5801 00:149D: 48           	pha
  5802 00:149E: 22 xx xx xx  	jsl	~~k_get_rtc_second
  5803 00:14A2: 48           	pha
  5804 00:14A3: 22 xx xx xx  	jsl	~~k_inttodec
  5805 00:14A7: 85 01        	sta	<R0
  5806 00:14A9: 86 03        	stx	<R0+2
  5807 00:14AB: DA           	phx
  5808 00:14AC: 48           	pha
  5809 00:14AD: 22 xx xx xx  	jsl	~~k_strip_padding
  5810 00:14B1: 85 05        	sta	<R1
  5811 00:14B3: 86 07        	stx	<R1+2
  5812 00:14B5: DA           	phx
  5813 00:14B6: 48           	pha
  5814 00:14B7: F4 00 00     	pea	#0
  5815 00:14BA: 18           	clc
  Thu Dec  3 2020 22:25                                                Page 105


  5816 00:14BB: 7B           	tdc
  5817 00:14BC: 69 19 00     	adc	#<L245+digits_1
  5818 00:14BF: 48           	pha
  5819 00:14C0: 22 xx xx xx  	jsl	~~k_pad_string
  5820                        ;	strcat(buffer,digits);
  5821                        	.line	753
  5822 00:14C4: F4 00 00     	pea	#0
  5823 00:14C7: 18           	clc
  5824 00:14C8: 7B           	tdc
  5825 00:14C9: 69 19 00     	adc	#<L245+digits_1
  5826 00:14CC: 48           	pha
  5827 00:14CD: D4 2E        	pei	<L244+buffer_0+2
  5828 00:14CF: D4 2C        	pei	<L244+buffer_0
  5829 00:14D1: 22 xx xx xx  	jsl	~~strcat
  5830                        ;
  5831                        ;
  5832                        ;	return buffer;
  5833                        	.line	756
  5834 00:14D5: A6 2E        	ldx	<L244+buffer_0+2
  5835 00:14D7: A5 2C        	lda	<L244+buffer_0
  5836                        L247:
  5837 00:14D9: A8           	tay
  5838 00:14DA: A5 2A        	lda	<L244+2
  5839 00:14DC: 85 2E        	sta	<L244+2+4
  5840 00:14DE: A5 29        	lda	<L244+1
  5841 00:14E0: 85 2D        	sta	<L244+1+4
  5842 00:14E2: 2B           	pld
  5843 00:14E3: 3B           	tsc
  5844 00:14E4: 18           	clc
  5845 00:14E5: 69 2C 00     	adc	#L244+4
  5846 00:14E8: 1B           	tcs
  5847 00:14E9: 98           	tya
  5848 00:14EA: 6B           	rtl
  5849                        ;}
  5850                        	.line	757
  5851                        	.endblock	757
  5852             00000028   L244	equ	40
  5853             00000009   L245	equ	9
  5854                        	ends
  5855                        	efunc
  5856                        	.endfunc	757,9,40
  5857                        	.line	757
  5858                        	data
  5859                        L243:
  5860 00:00E6: 3A 00 3A 00  	db	$3A,$00,$3A,$00
  5861 00:00EA:              	ends
  5862                        ;
  5863                        ;LPSTR k_wcstombs(LPWCSTR wcsBuffer,LPSTR mbsBuffe
                    r,UINT charCount)
  5864                        ;{
  5865                        	.line	759
  5866                        	.line	760
  5867                        	code
  5868                        	xdef	~~k_wcstombs
  5869                        	func
  5870                        	.function	760
  5871                        ~~k_wcstombs:
  5872                        	longa	on
  Thu Dec  3 2020 22:25                                                Page 106


  5873                        	longi	on
  5874 00:14EB: 3B           	tsc
  5875 00:14EC: 38           	sec
  5876 00:14ED: E9 08 00     	sbc	#L249
  5877 00:14F0: 1B           	tcs
  5878 00:14F1: 0B           	phd
  5879 00:14F2: 5B           	tcd
  5880             00000004   wcsBuffer_0	set	4
  5881             00000008   mbsBuffer_0	set	8
  5882             0000000C   charCount_0	set	12
  5883                        	.block	760
  5884                        ;	INT c = 0;
  5885                        ;	INT mc = 0;
  5886                        ;
  5887                        ;	memset(mbsBuffer,0,charCount+1);
  5888             00000000   c_1	set	0
  5889             00000002   mc_1	set	2
  5890                        	.sym	c,0,5,1,16
  5891                        	.sym	mc,2,5,1,16
  5892                        	.sym	wcsBuffer,4,142,6,32
  5893                        	.sym	mbsBuffer,8,142,6,32
  5894                        	.sym	charCount,12,16,6,16
  5895 00:14F3: 64 05        	stz	<L250+c_1
  5896 00:14F5: 64 07        	stz	<L250+mc_1
  5897                        	.line	764
  5898 00:14F7: A5 14        	lda	<L249+charCount_0
  5899 00:14F9: 1A           	ina
  5900 00:14FA: 48           	pha
  5901 00:14FB: F4 00 00     	pea	#<$0
  5902 00:14FE: D4 12        	pei	<L249+mbsBuffer_0+2
  5903 00:1500: D4 10        	pei	<L249+mbsBuffer_0
  5904 00:1502: 22 xx xx xx  	jsl	~~memset
  5905                        ;	for(c=0;c<(2*charCount);c+=2)
  5906                        	.line	765
  5907 00:1506: 64 05        	stz	<L250+c_1
  5908 00:1508: 82 12 00     	brl	L10071
  5909                        L10070:
  5910                        ;	{
  5911                        	.line	766
  5912                        ;		mbsBuffer[mc++] = wcsBuffer[c];
  5913                        	.line	767
  5914 00:150B: E2 20        	sep	#$20
  5915                        	longa	off
  5916 00:150D: A4 05        	ldy	<L250+c_1
  5917 00:150F: B7 0C        	lda	[<L249+wcsBuffer_0],Y
  5918 00:1511: A4 07        	ldy	<L250+mc_1
  5919 00:1513: 97 10        	sta	[<L249+mbsBuffer_0],Y
  5920 00:1515: C2 20        	rep	#$20
  5921                        	longa	on
  5922 00:1517: E6 07        	inc	<L250+mc_1
  5923                        ;	}
  5924                        	.line	768
  5925                        L10068:
  5926 00:1519: E6 05        	inc	<L250+c_1
  5927 00:151B: E6 05        	inc	<L250+c_1
  5928                        L10071:
  5929 00:151D: A5 14        	lda	<L249+charCount_0
  5930 00:151F: 0A           	asl	A
  Thu Dec  3 2020 22:25                                                Page 107


  5931 00:1520: 85 01        	sta	<R0
  5932 00:1522: A5 05        	lda	<L250+c_1
  5933 00:1524: C5 01        	cmp	<R0
  5934 00:1526: B0 03        	bcs	L252
  5935 00:1528: 82 E0 FF     	brl	L10070
  5936                        L252:
  5937                        L10069:
  5938                        ;
  5939                        ;	return mbsBuffer;
  5940                        	.line	770
  5941 00:152B: A6 12        	ldx	<L249+mbsBuffer_0+2
  5942 00:152D: A5 10        	lda	<L249+mbsBuffer_0
  5943                        L253:
  5944 00:152F: A8           	tay
  5945 00:1530: A5 0A        	lda	<L249+2
  5946 00:1532: 85 14        	sta	<L249+2+10
  5947 00:1534: A5 09        	lda	<L249+1
  5948 00:1536: 85 13        	sta	<L249+1+10
  5949 00:1538: 2B           	pld
  5950 00:1539: 3B           	tsc
  5951 00:153A: 18           	clc
  5952 00:153B: 69 12 00     	adc	#L249+10
  5953 00:153E: 1B           	tcs
  5954 00:153F: 98           	tya
  5955 00:1540: 6B           	rtl
  5956                        ;}
  5957                        	.line	771
  5958                        	.endblock	771
  5959             00000008   L249	equ	8
  5960             00000005   L250	equ	5
  5961                        	ends
  5962                        	efunc
  5963                        	.endfunc	771,5,8
  5964                        	.line	771
  5965                        ;
  5966                        	.line	771
  5967                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.c",759
  5968                        	xref	~~k_mem_deallocate_heap
  5969                        	xref	~~k_mem_allocate_heap
  5970                        	xref	~~k_get_rtc_century
  5971                        	xref	~~k_get_rtc_year
  5972                        	xref	~~k_get_rtc_day
  5973                        	xref	~~k_get_rtc_month
  5974                        	xref	~~k_get_rtc_second
  5975                        	xref	~~k_get_rtc_minute
  5976                        	xref	~~k_get_rtc_hour
  5977                        	xref	~~k_debug_strings
  5978                        	xref	~~k_debug_message
  5979                        	xref	~~k_debug_integer
  5980                        	xref	~~k_debug_char
  5981                        	xref	~~toupper
  5982                        	xref	~~tolower
  5983                        	xref	~~strstr
  5984                        	xref	~~strlen
  5985                        	xref	~~strcpy
  5986                        	xref	~~strcmp
  5987                        	xref	~~strcat
  Thu Dec  3 2020 22:25                                                Page 108


  5988                        	xref	~~memset
  5989                        	xref	~~memcpy
  5990                        	.sym	~~bytetodec,~~bytetodec,110,3,0,10
  5991                        	.sym	~~bytetohex,~~bytetohex,110,3,0,16
  5992                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
  5993                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
  5994                        	.sym	MemoryCallback,0,641,14,32
  5995                        	.sym	PFXMEMORYMAP,0,138,14,32,63
  5996                        	.sym	FXMEMORYMAP,0,10,14,2072,63
  5997                        	.sym	UMM_HEAP_INFO,0,10,14,256,62
  5998                        	.sym	PCOMMANDARGS,0,138,14,32,61
  5999                        	.sym	COMMANDARGS,0,10,14,64,61
  6000                        	.sym	PTOKENIZESTATE,0,133,14,32
  6001                        	.sym	TOKENIZESTATE,0,5,14,16
  6002                        	.sym	PTOKEN,0,138,14,32,60
  6003                        	.sym	TOKEN,0,10,14,64,60
  6004                        	.sym	PTOKENTYPE,0,133,14,32
  6005                        	.sym	TOKENTYPE,0,5,14,16
  6006                        	.sym	FXCommandHandler,0,656,14,32
  6007                        	.sym	PCONSOLECTX,0,138,14,32,59
  6008                        	.sym	CONSOLECTX,0,10,14,1144,59
  6009                        	.sym	PSPINNERCTX,0,138,14,32,58
  6010                        	.sym	SPINNERCTX,0,10,14,48,58
  6011                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,57
  6012                        	.sym	MOUSE_MSG_STATE,0,10,14,184,57
  6013                        	.sym	PFXEVENTPROCESS,0,138,14,32,56
  6014                        	.sym	FXEVENTPROCESS,0,10,14,64,56
  6015                        	.sym	FXEventProc,0,641,14,32
  6016                        	.sym	PMOUSEMSGDATA,0,138,14,32,55
  6017                        	.sym	MOUSEMSGDATA,0,10,14,64,55
  6018                        	.sym	MSGIRQ,0,5,14,16
  6019                        	.sym	MAINLOOPARGS,0,10,14,16,54
  6020                        	.sym	PEACHCHILD_MSG,0,138,14,32,53
  6021                        	.sym	EACHCHILD_MSG,0,10,14,64,53
  6022                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,52
  6023                        	.sym	CUR_PALETTE_MAP,0,10,14,400,52
  6024                        	.sym	PCLICKDETECTED,0,138,14,32,51
  6025                        	.sym	CLICKDETECTED,0,10,14,64,51
  6026                        	.sym	OBJECTCLICKED,0,641,14,32
  6027                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
  6028                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
  6029                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
  6030                        	.sym	DEVICEDRIVER_READ,0,656,14,32
  6031                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
  6032                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,50
  6033                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,50
  6034                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,49
  6035                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,49
  6036                        	.sym	~~k_get_rtc_century,~~k_get_rtc_century,
                    80,18,0
  6037                        	.sym	~~k_get_rtc_year,~~k_get_rtc_year,80,18,
                    0
  6038                        	.sym	~~k_get_rtc_day,~~k_get_rtc_day,80,18,0
  6039                        	.sym	~~k_get_rtc_month,~~k_get_rtc_month,80,1
                    8,0
  6040                        	.sym	~~k_get_rtc_second,~~k_get_rtc_second,80
  Thu Dec  3 2020 22:25                                                Page 109


                    ,18,0
  6041                        	.sym	~~k_get_rtc_minute,~~k_get_rtc_minute,80
                    ,18,0
  6042                        	.sym	~~k_get_rtc_hour,~~k_get_rtc_hour,80,18,
                    0
  6043                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
  6044                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
  6045                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
  6046                        	.sym	~~k_debug_char,~~k_debug_char,65,18,0
  6047                        	.sym	PDEBUGBYTEBITS,0,138,14,32,48
  6048                        	.sym	DEBUGBYTEBITS,0,10,14,8,48
  6049                        	.sym	PFXENVIRONMENT,0,138,14,32,47
  6050                        	.sym	FXENVIRONMENT,0,10,14,96,47
  6051                        	.sym	PFXZERPOPAGE,0,138,14,32,46
  6052                        	.sym	FXZERPOPAGE,0,10,14,448,46
  6053                        	.sym	KERNELTRAPCALL,0,641,14,32
  6054                        	.sym	FOREACHNODEUNTIL,0,654,14,32
  6055                        	.sym	FOREACHNODE,0,641,14,32
  6056                        	.sym	~~toupper,~~toupper,69,18,0
  6057                        	.sym	~~tolower,~~tolower,69,18,0
  6058                        	.sym	~~k_get_localtime_string,~~k_get_localti
                    me_string,1102,2,32
  6059                        	.sym	~~k_get_date_string,~~k_get_date_string,
                    1102,2,32
  6060                        	.sym	~~k_to_lowercase,~~k_to_lowercase,1102,2
                    ,32
  6061                        	.sym	~~k_to_uppercase,~~k_to_uppercase,1102,2
                    ,32
  6062                        	.sym	~~k_string_copy_string,~~k_string_copy_s
                    tring,1102,2,32
  6063                        	.sym	~~k_string_toString,~~k_string_toString,
                    1102,2,32
  6064                        	.sym	~~k_string_indexOf,~~k_string_indexOf,69
                    ,2,0
  6065                        	.sym	~~k_string_replace,~~k_string_replace,11
                    02,2,32
  6066                        	.sym	~~k_string_trim,~~k_string_trim,1102,2,3
                    2
  6067                        	.sym	~~k_string_ltrim,~~k_string_ltrim,1102,2
                    ,32
  6068                        	.sym	~~k_string_rtrim,~~k_string_rtrim,1102,2
                    ,32
  6069                        	.sym	~~k_strcpy,~~k_strcpy,1102,2,32
  6070                        	.sym	~~k_strcat,~~k_strcat,1102,2,32
  6071                        	.sym	~~strlower,~~strlower,1102,2,32
  6072                        	.sym	~~k_reverse,~~k_reverse,65,2,0
  6073                        	.sym	~~k_pad_string,~~k_pad_string,1102,2,32
  6074                        	.sym	~~k_itoa,~~k_itoa,1102,2,32
  6075                        	.sym	~~k_string_append_integer,~~k_string_app
                    end_integer,1102,2,32
  6076                        	.sym	~~k_longtodec,~~k_longtodec,1102,2,32
  6077                        	.sym	~~k_inttodec,~~k_inttodec,1102,2,32
  6078                        	.sym	~~k_bytetodec,~~k_bytetodec,1102,2,32
  6079                        	.sym	~~k_bytetohex,~~k_bytetohex,1102,2,32
  6080                        	.sym	~~k_replace_padding,~~k_replace_padding,
  Thu Dec  3 2020 22:25                                                Page 110


                    1102,2,32
  6081                        	.sym	~~k_strip_padding,~~k_strip_padding,1102
                    ,2,32
  6082                        	.sym	~~k_wcstombs,~~k_wcstombs,1102,2,32
  6083                        	.sym	~~k_fxstring_equals,~~k_fxstring_equals,
                    78,2,0
  6084                        	.sym	~~k_fxstring_from_long,~~k_fxstring_from
                    _long,1098,2,32,45
  6085                        	.sym	~~k_fxstring_copy_string,~~k_fxstring_co
                    py_string,1102,2,32
  6086                        	.sym	~~k_fxstring_at,~~k_fxstring_at,78,2,0
  6087                        	.sym	~~k_fxstring_as,~~k_fxstring_as,1102,2,3
                    2
  6088                        	.sym	~~k_fxstring_fxadd,~~k_fxstring_fxadd,80
                    ,2,0
  6089                        	.sym	~~k_fxstring_add,~~k_fxstring_add,1102,2
                    ,32
  6090                        	.sym	~~k_fxstring_removechar,~~k_fxstring_rem
                    ovechar,78,2,0
  6091                        	.sym	~~k_fxstring_addchar,~~k_fxstring_addcha
                    r,1102,2,32
  6092                        	.sym	~~k_fxstring_position,~~k_fxstring_posit
                    ion,80,2,0
  6093                        	.sym	~~k_fxstring_size,~~k_fxstring_size,80,2
                    ,0
  6094                        	.sym	~~k_fxstring_length,~~k_fxstring_length,
                    80,2,0
  6095                        	.sym	~~k_fxstring_free,~~k_fxstring_free,65,2
                    ,0
  6096                        	.sym	~~k_fxstring_reinit,~~k_fxstring_reinit,
                    1098,2,32,45
  6097                        	.sym	~~k_fxstring_new,~~k_fxstring_new,1098,2
                    ,32,45
  6098                        	.sym	~~k_fxstring_init,~~k_fxstring_init,1098
                    ,2,32,45
  6099                        	.sym	PFXSTRING,0,138,14,32,45
  6100                        	.sym	FXSTRING,0,10,14,64,45
  6101                        	.sym	PFXCOMBUFFER,0,138,14,32,44
  6102                        	.sym	FXCOMBUFFER,0,10,14,2080,44
  6103                        	.sym	PSUBMENULIST,0,138,14,32,43
  6104                        	.sym	SUBMENULIST,0,10,14,40,43
  6105                        	.sym	HSUBMENU,0,7,14,32
  6106                        	.sym	PSUBMENU,0,138,14,32,42
  6107                        	.sym	SUBMENU,0,10,14,64,42
  6108                        	.sym	MenuAction,0,641,14,32
  6109                        	.sym	PMENUANCHOR,0,138,14,32,41
  6110                        	.sym	MENUANCHOR,0,10,14,144,41
  6111                        	.sym	PTEXTBOX,0,138,14,32,40
  6112                        	.sym	TEXTBOX,0,10,14,144,40
  6113                        	.sym	PLISTBOX,0,138,14,32,39
  6114                        	.sym	LISTBOX,0,10,14,240,39
  6115                        	.sym	PSCROLLBAR,0,138,14,32,38
  6116                        	.sym	SCROLLBAR,0,10,14,192,38
  6117                        	.sym	PBUTTON,0,138,14,32,37
  6118                        	.sym	BUTTON,0,10,14,80,37
  6119                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,36
  6120                        	.sym	MENUDROPDOWNDATA,0,10,14,3568,36
  6121                        	.sym	PMENUTAG,0,138,14,32,35
  Thu Dec  3 2020 22:25                                                Page 111


  6122                        	.sym	MENUTAG,0,10,14,112,35
  6123                        	.sym	PMENU,0,138,14,32,34
  6124                        	.sym	MENU,0,10,14,248,34
  6125                        	.sym	HMENURESOURCE,0,129,14,32
  6126                        	.sym	HTEXTBOX,0,7,14,32
  6127                        	.sym	PTEXTBOXX,0,138,14,32,33
  6128                        	.sym	TEXTBOXX,0,10,14,112,33
  6129                        	.sym	FONTMETRIC,0,10,14,32,32
  6130                        	.sym	TITLE,0,142,14,32
  6131                        	.sym	PHANDLE,0,1153,14,32
  6132                        	.sym	HANDLE,0,129,14,32
  6133                        	.sym	PWINDOWEX,0,138,14,32,31
  6134                        	.sym	WINDOWEX,0,10,14,2704,31
  6135                        	.sym	PWINDOW,0,138,14,32,30
  6136                        	.sym	WINDOW,0,10,14,2808,30
  6137                        	.sym	PDRAGDATA,0,138,14,32,29
  6138                        	.sym	DRAGDATA,0,10,14,136,29
  6139                        	.sym	PNCCLICKABLE,0,138,14,32,28
  6140                        	.sym	NCCLICKABLE,0,10,14,88,28
  6141                        	.sym	HCLICKABLE,0,7,14,32
  6142                        	.sym	PCLICKABLE,0,138,14,32,27
  6143                        	.sym	CLICKABLE,0,10,14,88,27
  6144                        	.sym	PWNDCLASS,0,138,14,32,26
  6145                        	.sym	WNDCLASS,0,10,14,256,26
  6146                        	.sym	HBRUSH,0,129,14,32
  6147                        	.sym	HCURSOR,0,129,14,32
  6148                        	.sym	HICON,0,129,14,32
  6149                        	.sym	HINSTANCE,0,129,14,32
  6150                        	.sym	FXWndProc,0,654,14,32
  6151                        	.sym	PRECT,0,138,14,32,25
  6152                        	.sym	RECT,0,10,14,64,25
  6153                        	.sym	PPOINT,0,138,14,32,24
  6154                        	.sym	POINT,0,10,14,32,24
  6155                        	.sym	PFXPROPERTY,0,138,14,32,22
  6156                        	.sym	FXPROPERTY,0,10,14,384,22
  6157                        	.sym	SCANCODE,0,14,14,8
  6158                        	.sym	KEYCODE,0,14,14,8
  6159                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
  6160                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
  6161                        	.sym	PFXPROCESS,0,138,14,32,20
  6162                        	.sym	FXPROCESS,0,10,14,800,20
  6163                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
  6164                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
  6165                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
  6166                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
  6167                        	.sym	FXProcessProc,0,641,14,32
  6168                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
  6169                        	.sym	FXCMDMESSAGE,0,10,14,304,17
  6170                        	.sym	PFXOSMESSAGE,0,138,14,32,16
  6171                        	.sym	FXOSMESSAGE,0,10,14,304,16
  6172                        	.sym	PINT_REGS,0,138,14,32,15
  6173                        	.sym	INT_REGS,0,10,14,104,15
  6174                        	.sym	TASK_STACK,0,10,14,32,14
  6175                        	.sym	TASK,0,10,14,48,13
  6176                        	.sym	PIRQDATA,0,138,14,32,12
  6177                        	.sym	IRQDATA,0,10,14,48,12
  6178                        	.sym	HMENU,0,129,14,32
  6179                        	.sym	HWND,0,129,14,32
  Thu Dec  3 2020 22:25                                                Page 112


  6180                        	.sym	MSGDATA,0,14,14,8
  6181                        	.sym	MSGDEST,0,18,14,32
  6182                        	.sym	MSGSRC,0,18,14,32
  6183                        	.sym	MSGTYPE,0,16,14,16
  6184                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
  6185                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
  6186                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
  6187                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
  6188                        	.sym	FILE_PATH_LIST,0,138,14,32,6
  6189                        	.sym	PROCEDURE_LIST,0,138,14,32,6
  6190                        	.sym	FILE_HANDLE,0,138,14,32,11
  6191                        	.sym	FILE_BLOCK,0,10,14,552,11
  6192                        	.sym	SEMAPHORE,0,10,14,16,10
  6193                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
  6194                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
  6195                        	.sym	KRESULT,0,18,14,32
  6196                        	.sym	PKERNEL_ERROR,0,138,14,32,8
  6197                        	.sym	KERNEL_ERROR,0,10,14,32,8
  6198                        	.sym	PROCESS_STATUS,0,16,14,16
  6199                        	.sym	FILE_PATH_NAME,0,142,14,32
  6200                        	.sym	PROCESS_RESOURCE,0,129,14,32
  6201                        	.sym	PROCESS_TLS,0,129,14,32
  6202                        	.sym	PROCESS_CTX,0,129,14,32
  6203                        	.sym	USERID,0,16,14,16
  6204                        	.sym	PROCESS_ID,0,18,14,32
  6205                        	.sym	PROCESS_BANK,0,14,14,8
  6206                        	.sym	PFXQUEUE,0,138,14,32,7
  6207                        	.sym	FXQUEUE,0,10,14,80,7
  6208                        	.sym	PFXNODELIST,0,138,14,32,6
  6209                        	.sym	FXNODELIST,0,10,14,96,6
  6210                        	.sym	NodeListDeallocator,0,641,14,32
  6211                        	.sym	PFXNODE,0,138,14,32,5
  6212                        	.sym	FXNODE,0,10,14,384,5
  6213                        	.sym	PBYTEBITS,0,138,14,32,4
  6214                        	.sym	BYTEBITS,0,10,14,8,4
  6215                        	.sym	HCOLOR,0,129,14,32
  6216                        	.sym	HFONT,0,129,14,32
  6217                        	.sym	HDC,0,129,14,32
  6218                        	.sym	HPOINTER,0,129,14,32
  6219                        	.sym	uint32_t,0,18,14,32
  6220                        	.sym	uint8_t,0,14,14,8
  6221                        	.sym	PFAR,0,142,14,32
  6222                        	.sym	LPBOOL,0,142,14,32
  6223                        	.sym	BOOL,0,14,14,8
  6224                        	.sym	DWORD,0,18,14,32
  6225                        	.sym	ULONG,0,18,14,32
  6226                        	.sym	LPLONG,0,135,14,32
  6227                        	.sym	LONG,0,7,14,32
  6228                        	.sym	PUINT,0,144,14,32
  6229                        	.sym	USHORT,0,16,14,16
  6230                        	.sym	UINT,0,16,14,16
  6231                        	.sym	INT,0,5,14,16
  6232                        	.sym	WORD,0,5,14,16
  6233                        	.sym	PBYTE,0,142,14,32
  6234                        	.sym	BYTE,0,14,14,8
  6235                        	.sym	UCHAR,0,14,14,8
  6236                        	.sym	LPWCSTR,0,142,14,32
  6237                        	.sym	LPCSTR,0,142,14,32
  Thu Dec  3 2020 22:25                                                Page 113


  6238                        	.sym	LPSTR,0,142,14,32
  6239                        	.sym	LPCHAR,0,142,14,32
  6240                        	.sym	CHAR,0,14,14,8
  6241                        	.sym	LPVOID,0,129,14,32
  6242                        	.sym	VOID,0,1,14,32
  6243                        	.sym	~~strupr,~~strupr,1102,2,32
  6244                        	.sym	~~strstr,~~strstr,1102,18,32
  6245                        	.sym	~~strlen,~~strlen,80,18,0
  6246                        	.sym	~~strcpy,~~strcpy,1102,18,32
  6247                        	.sym	~~strcmp,~~strcmp,69,18,0
  6248                        	.sym	~~strcat,~~strcat,1102,18,32
  6249                        	.sym	~~memset,~~memset,1089,18,32
  6250                        	.sym	~~memcpy,~~memcpy,1089,18,32
  6251                        	.sym	Boolean_T,0,5,14,16
  6252                        	.sym	ldiv_t,0,10,14,64,2
  6253                        	.sym	div_t,0,10,14,32,1
  6254                        	.sym	wctype_t,0,16,14,16
  6255                        	.sym	wint_t,0,16,14,16
  6256                        	.sym	wchar_t,0,14,14,8
  6257                        	.sym	ptrdiff_t,0,7,14,32
  6258                        	.sym	size_t,0,16,14,16
  6259                        	end


      Lines assembled: 6259
      Errors: 0
